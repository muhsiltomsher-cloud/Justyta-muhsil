const SBe="modulepreload",CBe=function(e){return"/build/"+e},MSe={},EBe=function(n,o,i){let c=Promise.resolve();if(o&&o.length>0){let p=function(T){return Promise.all(T.map(x=>Promise.resolve(x).then(P=>({status:"fulfilled",value:P}),P=>({status:"rejected",reason:P}))))};document.getElementsByTagName("link");const v=document.querySelector("meta[property=csp-nonce]"),S=(v==null?void 0:v.nonce)||(v==null?void 0:v.getAttribute("nonce"));c=p(o.map(T=>{if(T=CBe(T),T in MSe)return;MSe[T]=!0;const x=T.endsWith(".css"),P=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${T}"]${P}`))return;const B=document.createElement("link");if(B.rel=x?"stylesheet":SBe,x||(B.as="script"),B.crossOrigin="",B.href=T,S&&B.setAttribute("nonce",S),document.head.appendChild(B),x)return new Promise((U,j)=>{B.addEventListener("load",U),B.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${T}`)))})}))}function d(p){const v=new Event("vite:preloadError",{cancelable:!0});if(v.payload=p,window.dispatchEvent(v),!v.defaultPrevented)throw p}return c.then(p=>{for(const v of p||[])v.status==="rejected"&&d(v.reason);return n().catch(d)})};var wBe=(function(){function e(n,o){o===void 0&&(o=[]),this._eventType=n,this._eventFunctions=o}return e.prototype.init=function(){var n=this;this._eventFunctions.forEach(function(o){typeof window<"u"&&window.addEventListener(n._eventType,o)})},e})(),_Be=(function(){function e(){this._instances={Accordion:{},Carousel:{},Collapse:{},Dial:{},Dismiss:{},Drawer:{},Dropdown:{},Modal:{},Popover:{},Tabs:{},Tooltip:{},InputCounter:{},CopyClipboard:{},Datepicker:{}}}return e.prototype.addInstance=function(n,o,i,c){if(c===void 0&&(c=!1),!this._instances[n])return console.warn("Flowbite: Component ".concat(n," does not exist.")),!1;if(this._instances[n][i]&&!c){console.warn("Flowbite: Instance with ID ".concat(i," already exists."));return}c&&this._instances[n][i]&&this._instances[n][i].destroyAndRemoveInstance(),this._instances[n][i||this._generateRandomId()]=o},e.prototype.getAllInstances=function(){return this._instances},e.prototype.getInstances=function(n){return this._instances[n]?this._instances[n]:(console.warn("Flowbite: Component ".concat(n," does not exist.")),!1)},e.prototype.getInstance=function(n,o){if(this._componentAndInstanceCheck(n,o)){if(!this._instances[n][o]){console.warn("Flowbite: Instance with ID ".concat(o," does not exist."));return}return this._instances[n][o]}},e.prototype.destroyAndRemoveInstance=function(n,o){this._componentAndInstanceCheck(n,o)&&(this.destroyInstanceObject(n,o),this.removeInstance(n,o))},e.prototype.removeInstance=function(n,o){this._componentAndInstanceCheck(n,o)&&delete this._instances[n][o]},e.prototype.destroyInstanceObject=function(n,o){this._componentAndInstanceCheck(n,o)&&this._instances[n][o].destroy()},e.prototype.instanceExists=function(n,o){return!(!this._instances[n]||!this._instances[n][o])},e.prototype._generateRandomId=function(){return Math.random().toString(36).substr(2,9)},e.prototype._componentAndInstanceCheck=function(n,o){return this._instances[n]?this._instances[n][o]?!0:(console.warn("Flowbite: Instance with ID ".concat(o," does not exist.")),!1):(console.warn("Flowbite: Component ".concat(n," does not exist.")),!1)},e})(),Oa=new _Be;typeof window<"u"&&(window.FlowbiteInstances=Oa);var hJ=function(){return hJ=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},hJ.apply(this,arguments)},fJ={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},ABe={id:null,override:!0},DIe=(function(){function e(n,o,i,c){n===void 0&&(n=null),o===void 0&&(o=[]),i===void 0&&(i=fJ),c===void 0&&(c=ABe),this._instanceId=c.id?c.id:n.id,this._accordionEl=n,this._items=o,this._options=hJ(hJ({},fJ),i),this._initialized=!1,this.init(),Oa.addInstance("Accordion",this,this._instanceId,c.override)}return e.prototype.init=function(){var n=this;this._items.length&&!this._initialized&&(this._items.forEach(function(o){o.active&&n.open(o.id);var i=function(){n.toggle(o.id)};o.triggerEl.addEventListener("click",i),o.clickHandler=i}),this._initialized=!0)},e.prototype.destroy=function(){this._items.length&&this._initialized&&(this._items.forEach(function(n){n.triggerEl.removeEventListener("click",n.clickHandler),delete n.clickHandler}),this._initialized=!1)},e.prototype.removeInstance=function(){Oa.removeInstance("Accordion",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getItem=function(n){return this._items.filter(function(o){return o.id===n})[0]},e.prototype.open=function(n){var o,i,c=this,d=this.getItem(n);this._options.alwaysOpen||this._items.map(function(p){var v,S;p!==d&&((v=p.triggerEl.classList).remove.apply(v,c._options.activeClasses.split(" ")),(S=p.triggerEl.classList).add.apply(S,c._options.inactiveClasses.split(" ")),p.targetEl.classList.add("hidden"),p.triggerEl.setAttribute("aria-expanded","false"),p.active=!1,p.iconEl&&p.iconEl.classList.add("rotate-180"))}),(o=d.triggerEl.classList).add.apply(o,this._options.activeClasses.split(" ")),(i=d.triggerEl.classList).remove.apply(i,this._options.inactiveClasses.split(" ")),d.triggerEl.setAttribute("aria-expanded","true"),d.targetEl.classList.remove("hidden"),d.active=!0,d.iconEl&&d.iconEl.classList.remove("rotate-180"),this._options.onOpen(this,d)},e.prototype.toggle=function(n){var o=this.getItem(n);o.active?this.close(n):this.open(n),this._options.onToggle(this,o)},e.prototype.close=function(n){var o,i,c=this.getItem(n);(o=c.triggerEl.classList).remove.apply(o,this._options.activeClasses.split(" ")),(i=c.triggerEl.classList).add.apply(i,this._options.inactiveClasses.split(" ")),c.targetEl.classList.add("hidden"),c.triggerEl.setAttribute("aria-expanded","false"),c.active=!1,c.iconEl&&c.iconEl.classList.add("rotate-180"),this._options.onClose(this,c)},e.prototype.updateOnOpen=function(n){this._options.onOpen=n},e.prototype.updateOnClose=function(n){this._options.onClose=n},e.prototype.updateOnToggle=function(n){this._options.onToggle=n},e})();function Obe(){document.querySelectorAll("[data-accordion]").forEach(function(e){var n=e.getAttribute("data-accordion"),o=e.getAttribute("data-active-classes"),i=e.getAttribute("data-inactive-classes"),c=[];e.querySelectorAll("[data-accordion-target]").forEach(function(d){if(d.closest("[data-accordion]")===e){var p={id:d.getAttribute("data-accordion-target"),triggerEl:d,targetEl:document.querySelector(d.getAttribute("data-accordion-target")),iconEl:d.querySelector("[data-accordion-icon]"),active:d.getAttribute("aria-expanded")==="true"};c.push(p)}}),new DIe(e,c,{alwaysOpen:n==="open",activeClasses:o||fJ.activeClasses,inactiveClasses:i||fJ.inactiveClasses})})}typeof window<"u"&&(window.Accordion=DIe,window.initAccordions=Obe);var pJ=function(){return pJ=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},pJ.apply(this,arguments)},PSe={onCollapse:function(){},onExpand:function(){},onToggle:function(){}},TBe={id:null,override:!0},Ame=(function(){function e(n,o,i,c){n===void 0&&(n=null),o===void 0&&(o=null),i===void 0&&(i=PSe),c===void 0&&(c=TBe),this._instanceId=c.id?c.id:n.id,this._targetEl=n,this._triggerEl=o,this._options=pJ(pJ({},PSe),i),this._visible=!1,this._initialized=!1,this.init(),Oa.addInstance("Collapse",this,this._instanceId,c.override)}return e.prototype.init=function(){var n=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._triggerEl.hasAttribute("aria-expanded")?this._visible=this._triggerEl.getAttribute("aria-expanded")==="true":this._visible=!this._targetEl.classList.contains("hidden"),this._clickHandler=function(){n.toggle()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},e.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},e.prototype.removeInstance=function(){Oa.removeInstance("Collapse",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.collapse=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)},e.prototype.expand=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)},e.prototype.toggle=function(){this._visible?this.collapse():this.expand(),this._options.onToggle(this)},e.prototype.updateOnCollapse=function(n){this._options.onCollapse=n},e.prototype.updateOnExpand=function(n){this._options.onExpand=n},e.prototype.updateOnToggle=function(n){this._options.onToggle=n},e})();function Ibe(){document.querySelectorAll("[data-collapse-toggle]").forEach(function(e){var n=e.getAttribute("data-collapse-toggle"),o=document.getElementById(n);o?Oa.instanceExists("Collapse",o.getAttribute("id"))?new Ame(o,e,{},{id:o.getAttribute("id")+"_"+Oa._generateRandomId()}):new Ame(o,e):console.error('The target element with id "'.concat(n,'" does not exist. Please check the data-collapse-toggle attribute.'))})}typeof window<"u"&&(window.Collapse=Ame,window.initCollapses=Ibe);var W2=function(){return W2=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},W2.apply(this,arguments)},gX={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},xBe={id:null,override:!0},MIe=(function(){function e(n,o,i,c){n===void 0&&(n=null),o===void 0&&(o=[]),i===void 0&&(i=gX),c===void 0&&(c=xBe),this._instanceId=c.id?c.id:n.id,this._carouselEl=n,this._items=o,this._options=W2(W2(W2({},gX),i),{indicators:W2(W2({},gX.indicators),i.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._intervalDuration=this._options.interval,this._intervalInstance=null,this._initialized=!1,this.init(),Oa.addInstance("Carousel",this,this._instanceId,c.override)}return e.prototype.init=function(){var n=this;this._items.length&&!this._initialized&&(this._items.map(function(o){o.el.classList.add("absolute","inset-0","transition-transform","transform")}),this.getActiveItem()?this.slideTo(this.getActiveItem().position):this.slideTo(0),this._indicators.map(function(o,i){o.el.addEventListener("click",function(){n.slideTo(i)})}),this._initialized=!0)},e.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},e.prototype.removeInstance=function(){Oa.removeInstance("Carousel",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getItem=function(n){return this._items[n]},e.prototype.slideTo=function(n){var o=this._items[n],i={left:o.position===0?this._items[this._items.length-1]:this._items[o.position-1],middle:o,right:o.position===this._items.length-1?this._items[0]:this._items[o.position+1]};this._rotate(i),this._setActiveItem(o),this._intervalInstance&&(this.pause(),this.cycle()),this._options.onChange(this)},e.prototype.next=function(){var n=this.getActiveItem(),o=null;n.position===this._items.length-1?o=this._items[0]:o=this._items[n.position+1],this.slideTo(o.position),this._options.onNext(this)},e.prototype.prev=function(){var n=this.getActiveItem(),o=null;n.position===0?o=this._items[this._items.length-1]:o=this._items[n.position-1],this.slideTo(o.position),this._options.onPrev(this)},e.prototype._rotate=function(n){if(this._items.map(function(o){o.el.classList.add("hidden")}),this._items.length===1){n.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),n.middle.el.classList.add("translate-x-0","z-20");return}n.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),n.left.el.classList.add("-translate-x-full","z-10"),n.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),n.middle.el.classList.add("translate-x-0","z-30"),n.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-30"),n.right.el.classList.add("translate-x-full","z-20")},e.prototype.cycle=function(){var n=this;typeof window<"u"&&(this._intervalInstance=window.setInterval(function(){n.next()},this._intervalDuration))},e.prototype.pause=function(){clearInterval(this._intervalInstance)},e.prototype.getActiveItem=function(){return this._activeItem},e.prototype._setActiveItem=function(n){var o,i,c=this;this._activeItem=n;var d=n.position;this._indicators.length&&(this._indicators.map(function(p){var v,S;p.el.setAttribute("aria-current","false"),(v=p.el.classList).remove.apply(v,c._options.indicators.activeClasses.split(" ")),(S=p.el.classList).add.apply(S,c._options.indicators.inactiveClasses.split(" "))}),(o=this._indicators[d].el.classList).add.apply(o,this._options.indicators.activeClasses.split(" ")),(i=this._indicators[d].el.classList).remove.apply(i,this._options.indicators.inactiveClasses.split(" ")),this._indicators[d].el.setAttribute("aria-current","true"))},e.prototype.updateOnNext=function(n){this._options.onNext=n},e.prototype.updateOnPrev=function(n){this._options.onPrev=n},e.prototype.updateOnChange=function(n){this._options.onChange=n},e})();function Rbe(){document.querySelectorAll("[data-carousel]").forEach(function(e){var n=e.getAttribute("data-carousel-interval"),o=e.getAttribute("data-carousel")==="slide",i=[],c=0;e.querySelectorAll("[data-carousel-item]").length&&Array.from(e.querySelectorAll("[data-carousel-item]")).map(function(T,x){i.push({position:x,el:T}),T.getAttribute("data-carousel-item")==="active"&&(c=x)});var d=[];e.querySelectorAll("[data-carousel-slide-to]").length&&Array.from(e.querySelectorAll("[data-carousel-slide-to]")).map(function(T){d.push({position:parseInt(T.getAttribute("data-carousel-slide-to")),el:T})});var p=new MIe(e,i,{defaultPosition:c,indicators:{items:d},interval:n||gX.interval});o&&p.cycle();var v=e.querySelector("[data-carousel-next]"),S=e.querySelector("[data-carousel-prev]");v&&v.addEventListener("click",function(){p.next()}),S&&S.addEventListener("click",function(){p.prev()})})}typeof window<"u"&&(window.Carousel=MIe,window.initCarousels=Rbe);var mJ=function(){return mJ=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},mJ.apply(this,arguments)},NSe={transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},OBe={id:null,override:!0},PIe=(function(){function e(n,o,i,c){n===void 0&&(n=null),o===void 0&&(o=null),i===void 0&&(i=NSe),c===void 0&&(c=OBe),this._instanceId=c.id?c.id:n.id,this._targetEl=n,this._triggerEl=o,this._options=mJ(mJ({},NSe),i),this._initialized=!1,this.init(),Oa.addInstance("Dismiss",this,this._instanceId,c.override)}return e.prototype.init=function(){var n=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._clickHandler=function(){n.hide()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},e.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},e.prototype.removeInstance=function(){Oa.removeInstance("Dismiss",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.hide=function(){var n=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout(function(){n._targetEl.classList.add("hidden")},this._options.duration),this._options.onHide(this,this._targetEl)},e.prototype.updateOnHide=function(n){this._options.onHide=n},e})();function kbe(){document.querySelectorAll("[data-dismiss-target]").forEach(function(e){var n=e.getAttribute("data-dismiss-target"),o=document.querySelector(n);o?new PIe(o,e):console.error('The dismiss element with id "'.concat(n,'" does not exist. Please check the data-dismiss-target attribute.'))})}typeof window<"u"&&(window.Dismiss=PIe,window.initDismisses=kbe);var Mb="top",Ky="bottom",Yy="right",Pb="left",Dbe="auto",tz=[Mb,Ky,Yy,Pb],A3="start",y6="end",IBe="clippingParents",NIe="viewport",r5="popper",RBe="reference",LSe=tz.reduce(function(e,n){return e.concat([n+"-"+A3,n+"-"+y6])},[]),LIe=[].concat(tz,[Dbe]).reduce(function(e,n){return e.concat([n,n+"-"+A3,n+"-"+y6])},[]),kBe="beforeRead",DBe="read",MBe="afterRead",PBe="beforeMain",NBe="main",LBe="afterMain",BBe="beforeWrite",VBe="write",FBe="afterWrite",HBe=[kBe,DBe,MBe,PBe,NBe,LBe,BBe,VBe,FBe];function wE(e){return e?(e.nodeName||"").toLowerCase():null}function G0(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var n=e.ownerDocument;return n&&n.defaultView||window}return e}function Dk(e){var n=G0(e).Element;return e instanceof n||e instanceof Element}function Gy(e){var n=G0(e).HTMLElement;return e instanceof n||e instanceof HTMLElement}function Mbe(e){if(typeof ShadowRoot>"u")return!1;var n=G0(e).ShadowRoot;return e instanceof n||e instanceof ShadowRoot}function $Be(e){var n=e.state;Object.keys(n.elements).forEach(function(o){var i=n.styles[o]||{},c=n.attributes[o]||{},d=n.elements[o];!Gy(d)||!wE(d)||(Object.assign(d.style,i),Object.keys(c).forEach(function(p){var v=c[p];v===!1?d.removeAttribute(p):d.setAttribute(p,v===!0?"":v)}))})}function UBe(e){var n=e.state,o={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,o.popper),n.styles=o,n.elements.arrow&&Object.assign(n.elements.arrow.style,o.arrow),function(){Object.keys(n.elements).forEach(function(i){var c=n.elements[i],d=n.attributes[i]||{},p=Object.keys(n.styles.hasOwnProperty(i)?n.styles[i]:o[i]),v=p.reduce(function(S,T){return S[T]="",S},{});!Gy(c)||!wE(c)||(Object.assign(c.style,v),Object.keys(d).forEach(function(S){c.removeAttribute(S)}))})}}const zBe={name:"applyStyles",enabled:!0,phase:"write",fn:$Be,effect:UBe,requires:["computeStyles"]};function SE(e){return e.split("-")[0]}var hk=Math.max,gJ=Math.min,T3=Math.round;function Tme(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function BIe(){return!/^((?!chrome|android).)*safari/i.test(Tme())}function x3(e,n,o){n===void 0&&(n=!1),o===void 0&&(o=!1);var i=e.getBoundingClientRect(),c=1,d=1;n&&Gy(e)&&(c=e.offsetWidth>0&&T3(i.width)/e.offsetWidth||1,d=e.offsetHeight>0&&T3(i.height)/e.offsetHeight||1);var p=Dk(e)?G0(e):window,v=p.visualViewport,S=!BIe()&&o,T=(i.left+(S&&v?v.offsetLeft:0))/c,x=(i.top+(S&&v?v.offsetTop:0))/d,P=i.width/c,B=i.height/d;return{width:P,height:B,top:x,right:T+P,bottom:x+B,left:T,x:T,y:x}}function Pbe(e){var n=x3(e),o=e.offsetWidth,i=e.offsetHeight;return Math.abs(n.width-o)<=1&&(o=n.width),Math.abs(n.height-i)<=1&&(i=n.height),{x:e.offsetLeft,y:e.offsetTop,width:o,height:i}}function VIe(e,n){var o=n.getRootNode&&n.getRootNode();if(e.contains(n))return!0;if(o&&Mbe(o)){var i=n;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Q_(e){return G0(e).getComputedStyle(e)}function jBe(e){return["table","td","th"].indexOf(wE(e))>=0}function TO(e){return((Dk(e)?e.ownerDocument:e.document)||window.document).documentElement}function vee(e){return wE(e)==="html"?e:e.assignedSlot||e.parentNode||(Mbe(e)?e.host:null)||TO(e)}function BSe(e){return!Gy(e)||Q_(e).position==="fixed"?null:e.offsetParent}function WBe(e){var n=/firefox/i.test(Tme()),o=/Trident/i.test(Tme());if(o&&Gy(e)){var i=Q_(e);if(i.position==="fixed")return null}var c=vee(e);for(Mbe(c)&&(c=c.host);Gy(c)&&["html","body"].indexOf(wE(c))<0;){var d=Q_(c);if(d.transform!=="none"||d.perspective!=="none"||d.contain==="paint"||["transform","perspective"].indexOf(d.willChange)!==-1||n&&d.willChange==="filter"||n&&d.filter&&d.filter!=="none")return c;c=c.parentNode}return null}function nz(e){for(var n=G0(e),o=BSe(e);o&&jBe(o)&&Q_(o).position==="static";)o=BSe(o);return o&&(wE(o)==="html"||wE(o)==="body"&&Q_(o).position==="static")?n:o||WBe(e)||n}function Nbe(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function W5(e,n,o){return hk(e,gJ(n,o))}function GBe(e,n,o){var i=W5(e,n,o);return i>o?o:i}function FIe(){return{top:0,right:0,bottom:0,left:0}}function HIe(e){return Object.assign({},FIe(),e)}function $Ie(e,n){return n.reduce(function(o,i){return o[i]=e,o},{})}var qBe=function(n,o){return n=typeof n=="function"?n(Object.assign({},o.rects,{placement:o.placement})):n,HIe(typeof n!="number"?n:$Ie(n,tz))};function ZBe(e){var n,o=e.state,i=e.name,c=e.options,d=o.elements.arrow,p=o.modifiersData.popperOffsets,v=SE(o.placement),S=Nbe(v),T=[Pb,Yy].indexOf(v)>=0,x=T?"height":"width";if(!(!d||!p)){var P=qBe(c.padding,o),B=Pbe(d),U=S==="y"?Mb:Pb,j=S==="y"?Ky:Yy,W=o.rects.reference[x]+o.rects.reference[S]-p[S]-o.rects.popper[x],Z=p[S]-o.rects.reference[S],re=nz(d),le=re?S==="y"?re.clientHeight||0:re.clientWidth||0:0,ie=W/2-Z/2,be=P[U],Ce=le-B[x]-P[j],Ae=le/2-B[x]/2+ie,F=W5(be,Ae,Ce),Ie=S;o.modifiersData[i]=(n={},n[Ie]=F,n.centerOffset=F-Ae,n)}}function KBe(e){var n=e.state,o=e.options,i=o.element,c=i===void 0?"[data-popper-arrow]":i;c!=null&&(typeof c=="string"&&(c=n.elements.popper.querySelector(c),!c)||VIe(n.elements.popper,c)&&(n.elements.arrow=c))}const YBe={name:"arrow",enabled:!0,phase:"main",fn:ZBe,effect:KBe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function O3(e){return e.split("-")[1]}var XBe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function JBe(e,n){var o=e.x,i=e.y,c=n.devicePixelRatio||1;return{x:T3(o*c)/c||0,y:T3(i*c)/c||0}}function VSe(e){var n,o=e.popper,i=e.popperRect,c=e.placement,d=e.variation,p=e.offsets,v=e.position,S=e.gpuAcceleration,T=e.adaptive,x=e.roundOffsets,P=e.isFixed,B=p.x,U=B===void 0?0:B,j=p.y,W=j===void 0?0:j,Z=typeof x=="function"?x({x:U,y:W}):{x:U,y:W};U=Z.x,W=Z.y;var re=p.hasOwnProperty("x"),le=p.hasOwnProperty("y"),ie=Pb,be=Mb,Ce=window;if(T){var Ae=nz(o),F="clientHeight",Ie="clientWidth";if(Ae===G0(o)&&(Ae=TO(o),Q_(Ae).position!=="static"&&v==="absolute"&&(F="scrollHeight",Ie="scrollWidth")),Ae=Ae,c===Mb||(c===Pb||c===Yy)&&d===y6){be=Ky;var tt=P&&Ae===Ce&&Ce.visualViewport?Ce.visualViewport.height:Ae[F];W-=tt-i.height,W*=S?1:-1}if(c===Pb||(c===Mb||c===Ky)&&d===y6){ie=Yy;var Xe=P&&Ae===Ce&&Ce.visualViewport?Ce.visualViewport.width:Ae[Ie];U-=Xe-i.width,U*=S?1:-1}}var Ve=Object.assign({position:v},T&&XBe),Re=x===!0?JBe({x:U,y:W},G0(o)):{x:U,y:W};if(U=Re.x,W=Re.y,S){var vt;return Object.assign({},Ve,(vt={},vt[be]=le?"0":"",vt[ie]=re?"0":"",vt.transform=(Ce.devicePixelRatio||1)<=1?"translate("+U+"px, "+W+"px)":"translate3d("+U+"px, "+W+"px, 0)",vt))}return Object.assign({},Ve,(n={},n[be]=le?W+"px":"",n[ie]=re?U+"px":"",n.transform="",n))}function QBe(e){var n=e.state,o=e.options,i=o.gpuAcceleration,c=i===void 0?!0:i,d=o.adaptive,p=d===void 0?!0:d,v=o.roundOffsets,S=v===void 0?!0:v,T={placement:SE(n.placement),variation:O3(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:c,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,VSe(Object.assign({},T,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:p,roundOffsets:S})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,VSe(Object.assign({},T,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:S})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const eVe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:QBe,data:{}};var CY={passive:!0};function tVe(e){var n=e.state,o=e.instance,i=e.options,c=i.scroll,d=c===void 0?!0:c,p=i.resize,v=p===void 0?!0:p,S=G0(n.elements.popper),T=[].concat(n.scrollParents.reference,n.scrollParents.popper);return d&&T.forEach(function(x){x.addEventListener("scroll",o.update,CY)}),v&&S.addEventListener("resize",o.update,CY),function(){d&&T.forEach(function(x){x.removeEventListener("scroll",o.update,CY)}),v&&S.removeEventListener("resize",o.update,CY)}}const nVe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:tVe,data:{}};var oVe={left:"right",right:"left",bottom:"top",top:"bottom"};function vX(e){return e.replace(/left|right|bottom|top/g,function(n){return oVe[n]})}var sVe={start:"end",end:"start"};function FSe(e){return e.replace(/start|end/g,function(n){return sVe[n]})}function Lbe(e){var n=G0(e),o=n.pageXOffset,i=n.pageYOffset;return{scrollLeft:o,scrollTop:i}}function Bbe(e){return x3(TO(e)).left+Lbe(e).scrollLeft}function rVe(e,n){var o=G0(e),i=TO(e),c=o.visualViewport,d=i.clientWidth,p=i.clientHeight,v=0,S=0;if(c){d=c.width,p=c.height;var T=BIe();(T||!T&&n==="fixed")&&(v=c.offsetLeft,S=c.offsetTop)}return{width:d,height:p,x:v+Bbe(e),y:S}}function iVe(e){var n,o=TO(e),i=Lbe(e),c=(n=e.ownerDocument)==null?void 0:n.body,d=hk(o.scrollWidth,o.clientWidth,c?c.scrollWidth:0,c?c.clientWidth:0),p=hk(o.scrollHeight,o.clientHeight,c?c.scrollHeight:0,c?c.clientHeight:0),v=-i.scrollLeft+Bbe(e),S=-i.scrollTop;return Q_(c||o).direction==="rtl"&&(v+=hk(o.clientWidth,c?c.clientWidth:0)-d),{width:d,height:p,x:v,y:S}}function Vbe(e){var n=Q_(e),o=n.overflow,i=n.overflowX,c=n.overflowY;return/auto|scroll|overlay|hidden/.test(o+c+i)}function UIe(e){return["html","body","#document"].indexOf(wE(e))>=0?e.ownerDocument.body:Gy(e)&&Vbe(e)?e:UIe(vee(e))}function G5(e,n){var o;n===void 0&&(n=[]);var i=UIe(e),c=i===((o=e.ownerDocument)==null?void 0:o.body),d=G0(i),p=c?[d].concat(d.visualViewport||[],Vbe(i)?i:[]):i,v=n.concat(p);return c?v:v.concat(G5(vee(p)))}function xme(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function aVe(e,n){var o=x3(e,!1,n==="fixed");return o.top=o.top+e.clientTop,o.left=o.left+e.clientLeft,o.bottom=o.top+e.clientHeight,o.right=o.left+e.clientWidth,o.width=e.clientWidth,o.height=e.clientHeight,o.x=o.left,o.y=o.top,o}function HSe(e,n,o){return n===NIe?xme(rVe(e,o)):Dk(n)?aVe(n,o):xme(iVe(TO(e)))}function lVe(e){var n=G5(vee(e)),o=["absolute","fixed"].indexOf(Q_(e).position)>=0,i=o&&Gy(e)?nz(e):e;return Dk(i)?n.filter(function(c){return Dk(c)&&VIe(c,i)&&wE(c)!=="body"}):[]}function cVe(e,n,o,i){var c=n==="clippingParents"?lVe(e):[].concat(n),d=[].concat(c,[o]),p=d[0],v=d.reduce(function(S,T){var x=HSe(e,T,i);return S.top=hk(x.top,S.top),S.right=gJ(x.right,S.right),S.bottom=gJ(x.bottom,S.bottom),S.left=hk(x.left,S.left),S},HSe(e,p,i));return v.width=v.right-v.left,v.height=v.bottom-v.top,v.x=v.left,v.y=v.top,v}function zIe(e){var n=e.reference,o=e.element,i=e.placement,c=i?SE(i):null,d=i?O3(i):null,p=n.x+n.width/2-o.width/2,v=n.y+n.height/2-o.height/2,S;switch(c){case Mb:S={x:p,y:n.y-o.height};break;case Ky:S={x:p,y:n.y+n.height};break;case Yy:S={x:n.x+n.width,y:v};break;case Pb:S={x:n.x-o.width,y:v};break;default:S={x:n.x,y:n.y}}var T=c?Nbe(c):null;if(T!=null){var x=T==="y"?"height":"width";switch(d){case A3:S[T]=S[T]-(n[x]/2-o[x]/2);break;case y6:S[T]=S[T]+(n[x]/2-o[x]/2);break}}return S}function S6(e,n){n===void 0&&(n={});var o=n,i=o.placement,c=i===void 0?e.placement:i,d=o.strategy,p=d===void 0?e.strategy:d,v=o.boundary,S=v===void 0?IBe:v,T=o.rootBoundary,x=T===void 0?NIe:T,P=o.elementContext,B=P===void 0?r5:P,U=o.altBoundary,j=U===void 0?!1:U,W=o.padding,Z=W===void 0?0:W,re=HIe(typeof Z!="number"?Z:$Ie(Z,tz)),le=B===r5?RBe:r5,ie=e.rects.popper,be=e.elements[j?le:B],Ce=cVe(Dk(be)?be:be.contextElement||TO(e.elements.popper),S,x,p),Ae=x3(e.elements.reference),F=zIe({reference:Ae,element:ie,placement:c}),Ie=xme(Object.assign({},ie,F)),tt=B===r5?Ie:Ae,Xe={top:Ce.top-tt.top+re.top,bottom:tt.bottom-Ce.bottom+re.bottom,left:Ce.left-tt.left+re.left,right:tt.right-Ce.right+re.right},Ve=e.modifiersData.offset;if(B===r5&&Ve){var Re=Ve[c];Object.keys(Xe).forEach(function(vt){var mt=[Yy,Ky].indexOf(vt)>=0?1:-1,gt=[Mb,Ky].indexOf(vt)>=0?"y":"x";Xe[vt]+=Re[gt]*mt})}return Xe}function uVe(e,n){n===void 0&&(n={});var o=n,i=o.placement,c=o.boundary,d=o.rootBoundary,p=o.padding,v=o.flipVariations,S=o.allowedAutoPlacements,T=S===void 0?LIe:S,x=O3(i),P=x?v?LSe:LSe.filter(function(j){return O3(j)===x}):tz,B=P.filter(function(j){return T.indexOf(j)>=0});B.length===0&&(B=P);var U=B.reduce(function(j,W){return j[W]=S6(e,{placement:W,boundary:c,rootBoundary:d,padding:p})[SE(W)],j},{});return Object.keys(U).sort(function(j,W){return U[j]-U[W]})}function dVe(e){if(SE(e)===Dbe)return[];var n=vX(e);return[FSe(e),n,FSe(n)]}function hVe(e){var n=e.state,o=e.options,i=e.name;if(!n.modifiersData[i]._skip){for(var c=o.mainAxis,d=c===void 0?!0:c,p=o.altAxis,v=p===void 0?!0:p,S=o.fallbackPlacements,T=o.padding,x=o.boundary,P=o.rootBoundary,B=o.altBoundary,U=o.flipVariations,j=U===void 0?!0:U,W=o.allowedAutoPlacements,Z=n.options.placement,re=SE(Z),le=re===Z,ie=S||(le||!j?[vX(Z)]:dVe(Z)),be=[Z].concat(ie).reduce(function(jn,wo){return jn.concat(SE(wo)===Dbe?uVe(n,{placement:wo,boundary:x,rootBoundary:P,padding:T,flipVariations:j,allowedAutoPlacements:W}):wo)},[]),Ce=n.rects.reference,Ae=n.rects.popper,F=new Map,Ie=!0,tt=be[0],Xe=0;Xe<be.length;Xe++){var Ve=be[Xe],Re=SE(Ve),vt=O3(Ve)===A3,mt=[Mb,Ky].indexOf(Re)>=0,gt=mt?"width":"height",te=S6(n,{placement:Ve,boundary:x,rootBoundary:P,altBoundary:B,padding:T}),hn=mt?vt?Yy:Pb:vt?Ky:Mb;Ce[gt]>Ae[gt]&&(hn=vX(hn));var ot=vX(hn),Rt=[];if(d&&Rt.push(te[Re]<=0),v&&Rt.push(te[hn]<=0,te[ot]<=0),Rt.every(function(jn){return jn})){tt=Ve,Ie=!1;break}F.set(Ve,Rt)}if(Ie)for(var kt=j?3:1,at=function(wo){var qt=be.find(function(Tn){var _e=F.get(Tn);if(_e)return _e.slice(0,wo).every(function(vr){return vr})});if(qt)return tt=qt,"break"},Cn=kt;Cn>0;Cn--){var Ro=at(Cn);if(Ro==="break")break}n.placement!==tt&&(n.modifiersData[i]._skip=!0,n.placement=tt,n.reset=!0)}}const fVe={name:"flip",enabled:!0,phase:"main",fn:hVe,requiresIfExists:["offset"],data:{_skip:!1}};function $Se(e,n,o){return o===void 0&&(o={x:0,y:0}),{top:e.top-n.height-o.y,right:e.right-n.width+o.x,bottom:e.bottom-n.height+o.y,left:e.left-n.width-o.x}}function USe(e){return[Mb,Yy,Ky,Pb].some(function(n){return e[n]>=0})}function pVe(e){var n=e.state,o=e.name,i=n.rects.reference,c=n.rects.popper,d=n.modifiersData.preventOverflow,p=S6(n,{elementContext:"reference"}),v=S6(n,{altBoundary:!0}),S=$Se(p,i),T=$Se(v,c,d),x=USe(S),P=USe(T);n.modifiersData[o]={referenceClippingOffsets:S,popperEscapeOffsets:T,isReferenceHidden:x,hasPopperEscaped:P},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":x,"data-popper-escaped":P})}const mVe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:pVe};function gVe(e,n,o){var i=SE(e),c=[Pb,Mb].indexOf(i)>=0?-1:1,d=typeof o=="function"?o(Object.assign({},n,{placement:e})):o,p=d[0],v=d[1];return p=p||0,v=(v||0)*c,[Pb,Yy].indexOf(i)>=0?{x:v,y:p}:{x:p,y:v}}function vVe(e){var n=e.state,o=e.options,i=e.name,c=o.offset,d=c===void 0?[0,0]:c,p=LIe.reduce(function(x,P){return x[P]=gVe(P,n.rects,d),x},{}),v=p[n.placement],S=v.x,T=v.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=S,n.modifiersData.popperOffsets.y+=T),n.modifiersData[i]=p}const bVe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:vVe};function yVe(e){var n=e.state,o=e.name;n.modifiersData[o]=zIe({reference:n.rects.reference,element:n.rects.popper,placement:n.placement})}const SVe={name:"popperOffsets",enabled:!0,phase:"read",fn:yVe,data:{}};function CVe(e){return e==="x"?"y":"x"}function EVe(e){var n=e.state,o=e.options,i=e.name,c=o.mainAxis,d=c===void 0?!0:c,p=o.altAxis,v=p===void 0?!1:p,S=o.boundary,T=o.rootBoundary,x=o.altBoundary,P=o.padding,B=o.tether,U=B===void 0?!0:B,j=o.tetherOffset,W=j===void 0?0:j,Z=S6(n,{boundary:S,rootBoundary:T,padding:P,altBoundary:x}),re=SE(n.placement),le=O3(n.placement),ie=!le,be=Nbe(re),Ce=CVe(be),Ae=n.modifiersData.popperOffsets,F=n.rects.reference,Ie=n.rects.popper,tt=typeof W=="function"?W(Object.assign({},n.rects,{placement:n.placement})):W,Xe=typeof tt=="number"?{mainAxis:tt,altAxis:tt}:Object.assign({mainAxis:0,altAxis:0},tt),Ve=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,Re={x:0,y:0};if(Ae){if(d){var vt,mt=be==="y"?Mb:Pb,gt=be==="y"?Ky:Yy,te=be==="y"?"height":"width",hn=Ae[be],ot=hn+Z[mt],Rt=hn-Z[gt],kt=U?-Ie[te]/2:0,at=le===A3?F[te]:Ie[te],Cn=le===A3?-Ie[te]:-F[te],Ro=n.elements.arrow,jn=U&&Ro?Pbe(Ro):{width:0,height:0},wo=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:FIe(),qt=wo[mt],Tn=wo[gt],_e=W5(0,F[te],jn[te]),vr=ie?F[te]/2-kt-_e-qt-Xe.mainAxis:at-_e-qt-Xe.mainAxis,vs=ie?-F[te]/2+kt+_e+Tn+Xe.mainAxis:Cn+_e+Tn+Xe.mainAxis,Ut=n.elements.arrow&&nz(n.elements.arrow),xn=Ut?be==="y"?Ut.clientTop||0:Ut.clientLeft||0:0,vn=(vt=Ve==null?void 0:Ve[be])!=null?vt:0,zt=hn+vr-vn-xn,wn=hn+vs-vn,fn=W5(U?gJ(ot,zt):ot,hn,U?hk(Rt,wn):Rt);Ae[be]=fn,Re[be]=fn-hn}if(v){var ct,Mt=be==="x"?Mb:Pb,Yt=be==="x"?Ky:Yy,Ge=Ae[Ce],Lt=Ce==="y"?"height":"width",ln=Ge+Z[Mt],On=Ge-Z[Yt],Bt=[Mb,Pb].indexOf(re)!==-1,$t=(ct=Ve==null?void 0:Ve[Ce])!=null?ct:0,ls=Bt?ln:Ge-F[Lt]-Ie[Lt]-$t+Xe.altAxis,ks=Bt?Ge+F[Lt]+Ie[Lt]-$t-Xe.altAxis:On,Rs=U&&Bt?GBe(ls,Ge,ks):W5(U?ls:ln,Ge,U?ks:On);Ae[Ce]=Rs,Re[Ce]=Rs-Ge}n.modifiersData[i]=Re}}const wVe={name:"preventOverflow",enabled:!0,phase:"main",fn:EVe,requiresIfExists:["offset"]};function _Ve(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function AVe(e){return e===G0(e)||!Gy(e)?Lbe(e):_Ve(e)}function TVe(e){var n=e.getBoundingClientRect(),o=T3(n.width)/e.offsetWidth||1,i=T3(n.height)/e.offsetHeight||1;return o!==1||i!==1}function xVe(e,n,o){o===void 0&&(o=!1);var i=Gy(n),c=Gy(n)&&TVe(n),d=TO(n),p=x3(e,c,o),v={scrollLeft:0,scrollTop:0},S={x:0,y:0};return(i||!i&&!o)&&((wE(n)!=="body"||Vbe(d))&&(v=AVe(n)),Gy(n)?(S=x3(n,!0),S.x+=n.clientLeft,S.y+=n.clientTop):d&&(S.x=Bbe(d))),{x:p.left+v.scrollLeft-S.x,y:p.top+v.scrollTop-S.y,width:p.width,height:p.height}}function OVe(e){var n=new Map,o=new Set,i=[];e.forEach(function(d){n.set(d.name,d)});function c(d){o.add(d.name);var p=[].concat(d.requires||[],d.requiresIfExists||[]);p.forEach(function(v){if(!o.has(v)){var S=n.get(v);S&&c(S)}}),i.push(d)}return e.forEach(function(d){o.has(d.name)||c(d)}),i}function IVe(e){var n=OVe(e);return HBe.reduce(function(o,i){return o.concat(n.filter(function(c){return c.phase===i}))},[])}function RVe(e){var n;return function(){return n||(n=new Promise(function(o){Promise.resolve().then(function(){n=void 0,o(e())})})),n}}function kVe(e){var n=e.reduce(function(o,i){var c=o[i.name];return o[i.name]=c?Object.assign({},c,i,{options:Object.assign({},c.options,i.options),data:Object.assign({},c.data,i.data)}):i,o},{});return Object.keys(n).map(function(o){return n[o]})}var zSe={placement:"bottom",modifiers:[],strategy:"absolute"};function jSe(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return!n.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function DVe(e){e===void 0&&(e={});var n=e,o=n.defaultModifiers,i=o===void 0?[]:o,c=n.defaultOptions,d=c===void 0?zSe:c;return function(v,S,T){T===void 0&&(T=d);var x={placement:"bottom",orderedModifiers:[],options:Object.assign({},zSe,d),modifiersData:{},elements:{reference:v,popper:S},attributes:{},styles:{}},P=[],B=!1,U={state:x,setOptions:function(re){var le=typeof re=="function"?re(x.options):re;W(),x.options=Object.assign({},d,x.options,le),x.scrollParents={reference:Dk(v)?G5(v):v.contextElement?G5(v.contextElement):[],popper:G5(S)};var ie=IVe(kVe([].concat(i,x.options.modifiers)));return x.orderedModifiers=ie.filter(function(be){return be.enabled}),j(),U.update()},forceUpdate:function(){if(!B){var re=x.elements,le=re.reference,ie=re.popper;if(jSe(le,ie)){x.rects={reference:xVe(le,nz(ie),x.options.strategy==="fixed"),popper:Pbe(ie)},x.reset=!1,x.placement=x.options.placement,x.orderedModifiers.forEach(function(Xe){return x.modifiersData[Xe.name]=Object.assign({},Xe.data)});for(var be=0;be<x.orderedModifiers.length;be++){if(x.reset===!0){x.reset=!1,be=-1;continue}var Ce=x.orderedModifiers[be],Ae=Ce.fn,F=Ce.options,Ie=F===void 0?{}:F,tt=Ce.name;typeof Ae=="function"&&(x=Ae({state:x,options:Ie,name:tt,instance:U})||x)}}}},update:RVe(function(){return new Promise(function(Z){U.forceUpdate(),Z(x)})}),destroy:function(){W(),B=!0}};if(!jSe(v,S))return U;U.setOptions(T).then(function(Z){!B&&T.onFirstUpdate&&T.onFirstUpdate(Z)});function j(){x.orderedModifiers.forEach(function(Z){var re=Z.name,le=Z.options,ie=le===void 0?{}:le,be=Z.effect;if(typeof be=="function"){var Ce=be({state:x,name:re,instance:U,options:ie}),Ae=function(){};P.push(Ce||Ae)}})}function W(){P.forEach(function(Z){return Z()}),P=[]}return U}}var MVe=[nVe,SVe,eVe,zBe,bVe,fVe,wVe,YBe,mVe],Fbe=DVe({defaultModifiers:MVe}),Px=function(){return Px=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},Px.apply(this,arguments)},EY=function(e,n,o){if(o||arguments.length===2)for(var i=0,c=n.length,d;i<c;i++)(d||!(i in n))&&(d||(d=Array.prototype.slice.call(n,0,i)),d[i]=n[i]);return e.concat(d||Array.prototype.slice.call(n))},Nx={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,ignoreClickOutsideClass:!1,onShow:function(){},onHide:function(){},onToggle:function(){}},PVe={id:null,override:!0},jIe=(function(){function e(n,o,i,c){n===void 0&&(n=null),o===void 0&&(o=null),i===void 0&&(i=Nx),c===void 0&&(c=PVe),this._instanceId=c.id?c.id:n.id,this._targetEl=n,this._triggerEl=o,this._options=Px(Px({},Nx),i),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),Oa.addInstance("Dropdown",this,this._instanceId,c.override)}return e.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._popperInstance=this._createPopperInstance(),this._setupEventListeners(),this._initialized=!0)},e.prototype.destroy=function(){var n=this,o=this._getTriggerEvents();this._options.triggerType==="click"&&o.showEvents.forEach(function(i){n._triggerEl.removeEventListener(i,n._clickHandler)}),this._options.triggerType==="hover"&&(o.showEvents.forEach(function(i){n._triggerEl.removeEventListener(i,n._hoverShowTriggerElHandler),n._targetEl.removeEventListener(i,n._hoverShowTargetElHandler)}),o.hideEvents.forEach(function(i){n._triggerEl.removeEventListener(i,n._hoverHideHandler),n._targetEl.removeEventListener(i,n._hoverHideHandler)})),this._popperInstance.destroy(),this._initialized=!1},e.prototype.removeInstance=function(){Oa.removeInstance("Dropdown",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype._setupEventListeners=function(){var n=this,o=this._getTriggerEvents();this._clickHandler=function(){n.toggle()},this._options.triggerType==="click"&&o.showEvents.forEach(function(i){n._triggerEl.addEventListener(i,n._clickHandler)}),this._hoverShowTriggerElHandler=function(i){i.type==="click"?n.toggle():setTimeout(function(){n.show()},n._options.delay)},this._hoverShowTargetElHandler=function(){n.show()},this._hoverHideHandler=function(){setTimeout(function(){n._targetEl.matches(":hover")||n.hide()},n._options.delay)},this._options.triggerType==="hover"&&(o.showEvents.forEach(function(i){n._triggerEl.addEventListener(i,n._hoverShowTriggerElHandler),n._targetEl.addEventListener(i,n._hoverShowTargetElHandler)}),o.hideEvents.forEach(function(i){n._triggerEl.addEventListener(i,n._hoverHideHandler),n._targetEl.addEventListener(i,n._hoverHideHandler)}))},e.prototype._createPopperInstance=function(){return Fbe(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[this._options.offsetSkidding,this._options.offsetDistance]}}]})},e.prototype._setupClickOutsideListener=function(){var n=this;this._clickOutsideEventListener=function(o){n._handleClickOutside(o,n._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._handleClickOutside=function(n,o){var i=n.target,c=this._options.ignoreClickOutsideClass,d=!1;if(c){var p=document.querySelectorAll(".".concat(c));p.forEach(function(v){if(v.contains(i)){d=!0;return}})}i!==o&&!o.contains(i)&&!this._triggerEl.contains(i)&&!d&&this.isVisible()&&this.hide()},e.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","click"],hideEvents:["mouseleave"]};case"click":return{showEvents:["click"],hideEvents:[]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["click"],hideEvents:[]}}},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},e.prototype.isVisible=function(){return this._visible},e.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._targetEl.removeAttribute("aria-hidden"),this._popperInstance.setOptions(function(n){return Px(Px({},n),{modifiers:EY(EY([],n.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},e.prototype.hide=function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._targetEl.setAttribute("aria-hidden","true"),this._popperInstance.setOptions(function(n){return Px(Px({},n),{modifiers:EY(EY([],n.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._visible=!1,this._removeClickOutsideListener(),this._options.onHide(this)},e.prototype.updateOnShow=function(n){this._options.onShow=n},e.prototype.updateOnHide=function(n){this._options.onHide=n},e.prototype.updateOnToggle=function(n){this._options.onToggle=n},e})();function Hbe(){document.querySelectorAll("[data-dropdown-toggle]").forEach(function(e){var n=e.getAttribute("data-dropdown-toggle"),o=document.getElementById(n);if(o){var i=e.getAttribute("data-dropdown-placement"),c=e.getAttribute("data-dropdown-offset-skidding"),d=e.getAttribute("data-dropdown-offset-distance"),p=e.getAttribute("data-dropdown-trigger"),v=e.getAttribute("data-dropdown-delay"),S=e.getAttribute("data-dropdown-ignore-click-outside-class");new jIe(o,e,{placement:i||Nx.placement,triggerType:p||Nx.triggerType,offsetSkidding:c?parseInt(c):Nx.offsetSkidding,offsetDistance:d?parseInt(d):Nx.offsetDistance,delay:v?parseInt(v):Nx.delay,ignoreClickOutsideClass:S||Nx.ignoreClickOutsideClass})}else console.error('The dropdown element with id "'.concat(n,'" does not exist. Please check the data-dropdown-toggle attribute.'))})}typeof window<"u"&&(window.Dropdown=jIe,window.initDropdowns=Hbe);var vJ=function(){return vJ=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},vJ.apply(this,arguments)},bJ={placement:"center",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40",backdrop:"dynamic",closable:!0,onHide:function(){},onShow:function(){},onToggle:function(){}},NVe={id:null,override:!0},WIe=(function(){function e(n,o,i){n===void 0&&(n=null),o===void 0&&(o=bJ),i===void 0&&(i=NVe),this._eventListenerInstances=[],this._instanceId=i.id?i.id:n.id,this._targetEl=n,this._options=vJ(vJ({},bJ),o),this._isHidden=!0,this._backdropEl=null,this._initialized=!1,this.init(),Oa.addInstance("Modal",this,this._instanceId,i.override)}return e.prototype.init=function(){var n=this;this._targetEl&&!this._initialized&&(this._getPlacementClasses().map(function(o){n._targetEl.classList.add(o)}),this._initialized=!0)},e.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),this._initialized=!1)},e.prototype.removeInstance=function(){Oa.removeInstance("Modal",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype._createBackdrop=function(){var n;if(this._isHidden){var o=document.createElement("div");(n=o.classList).add.apply(n,this._options.backdropClasses.split(" ")),document.querySelector("body").append(o),this._backdropEl=o}},e.prototype._destroyBackdropEl=function(){!this._isHidden&&this._backdropEl&&(this._backdropEl.remove(),this._backdropEl=null)},e.prototype._setupModalCloseEventListeners=function(){var n=this;this._options.backdrop==="dynamic"&&(this._clickOutsideEventListener=function(o){n._handleOutsideClick(o.target)},this._targetEl.addEventListener("click",this._clickOutsideEventListener,!0)),this._keydownEventListener=function(o){o.key==="Escape"&&n.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},e.prototype._removeModalCloseEventListeners=function(){this._options.backdrop==="dynamic"&&this._targetEl.removeEventListener("click",this._clickOutsideEventListener,!0),document.body.removeEventListener("keydown",this._keydownEventListener,!0)},e.prototype._handleOutsideClick=function(n){(n===this._targetEl||n===this._backdropEl&&this.isVisible())&&this.hide()},e.prototype._getPlacementClasses=function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"];default:return["justify-center","items-center"]}},e.prototype.toggle=function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)},e.prototype.show=function(){this.isHidden&&(this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,this._options.closable&&this._setupModalCloseEventListeners(),document.body.classList.add("overflow-hidden"),this._options.onShow(this))},e.prototype.hide=function(){this.isVisible&&(this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.closable&&this._removeModalCloseEventListeners(),this._options.onHide(this))},e.prototype.isVisible=function(){return!this._isHidden},e.prototype.isHidden=function(){return this._isHidden},e.prototype.addEventListenerInstance=function(n,o,i){this._eventListenerInstances.push({element:n,type:o,handler:i})},e.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(n){n.element.removeEventListener(n.type,n.handler)}),this._eventListenerInstances=[]},e.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},e.prototype.updateOnShow=function(n){this._options.onShow=n},e.prototype.updateOnHide=function(n){this._options.onHide=n},e.prototype.updateOnToggle=function(n){this._options.onToggle=n},e})();function $be(){document.querySelectorAll("[data-modal-target]").forEach(function(e){var n=e.getAttribute("data-modal-target"),o=document.getElementById(n);if(o){var i=o.getAttribute("data-modal-placement"),c=o.getAttribute("data-modal-backdrop");new WIe(o,{placement:i||bJ.placement,backdrop:c||bJ.backdrop})}else console.error("Modal with id ".concat(n," does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?."))}),document.querySelectorAll("[data-modal-toggle]").forEach(function(e){var n=e.getAttribute("data-modal-toggle"),o=document.getElementById(n);if(o){var i=Oa.getInstance("Modal",n);if(i){var c=function(){i.toggle()};e.addEventListener("click",c),i.addEventListenerInstance(e,"click",c)}else console.error("Modal with id ".concat(n," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(n," does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-show]").forEach(function(e){var n=e.getAttribute("data-modal-show"),o=document.getElementById(n);if(o){var i=Oa.getInstance("Modal",n);if(i){var c=function(){i.show()};e.addEventListener("click",c),i.addEventListenerInstance(e,"click",c)}else console.error("Modal with id ".concat(n," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(n," does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-hide]").forEach(function(e){var n=e.getAttribute("data-modal-hide"),o=document.getElementById(n);if(o){var i=Oa.getInstance("Modal",n);if(i){var c=function(){i.hide()};e.addEventListener("click",c),i.addEventListenerInstance(e,"click",c)}else console.error("Modal with id ".concat(n," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(n," does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?"))})}typeof window<"u"&&(window.Modal=WIe,window.initModals=$be);var yJ=function(){return yJ=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},yJ.apply(this,arguments)},G2={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},LVe={id:null,override:!0},GIe=(function(){function e(n,o,i){n===void 0&&(n=null),o===void 0&&(o=G2),i===void 0&&(i=LVe),this._eventListenerInstances=[],this._instanceId=i.id?i.id:n.id,this._targetEl=n,this._options=yJ(yJ({},G2),o),this._visible=!1,this._initialized=!1,this.init(),Oa.addInstance("Drawer",this,this._instanceId,i.override)}return e.prototype.init=function(){var n=this;this._targetEl&&!this._initialized&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform"),this._getPlacementClasses(this._options.placement).base.map(function(o){n._targetEl.classList.add(o)}),this._handleEscapeKey=function(o){o.key==="Escape"&&n.isVisible()&&n.hide()},document.addEventListener("keydown",this._handleEscapeKey),this._initialized=!0)},e.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),document.removeEventListener("keydown",this._handleEscapeKey),this._initialized=!1)},e.prototype.removeInstance=function(){Oa.removeInstance("Drawer",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.hide=function(){var n=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(o){n._targetEl.classList.remove(o)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(o){n._targetEl.classList.add(o)})):(this._getPlacementClasses(this._options.placement).active.map(function(o){n._targetEl.classList.remove(o)}),this._getPlacementClasses(this._options.placement).inactive.map(function(o){n._targetEl.classList.add(o)})),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)},e.prototype.show=function(){var n=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(o){n._targetEl.classList.add(o)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(o){n._targetEl.classList.remove(o)})):(this._getPlacementClasses(this._options.placement).active.map(function(o){n._targetEl.classList.add(o)}),this._getPlacementClasses(this._options.placement).inactive.map(function(o){n._targetEl.classList.remove(o)})),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},e.prototype._createBackdrop=function(){var n,o=this;if(!this._visible){var i=document.createElement("div");i.setAttribute("drawer-backdrop",""),(n=i.classList).add.apply(n,this._options.backdropClasses.split(" ")),document.querySelector("body").append(i),i.addEventListener("click",function(){o.hide()})}},e.prototype._destroyBackdropEl=function(){this._visible&&document.querySelector("[drawer-backdrop]")!==null&&document.querySelector("[drawer-backdrop]").remove()},e.prototype._getPlacementClasses=function(n){switch(n){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]};default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]}}},e.prototype.isHidden=function(){return!this._visible},e.prototype.isVisible=function(){return this._visible},e.prototype.addEventListenerInstance=function(n,o,i){this._eventListenerInstances.push({element:n,type:o,handler:i})},e.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(n){n.element.removeEventListener(n.type,n.handler)}),this._eventListenerInstances=[]},e.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},e.prototype.updateOnShow=function(n){this._options.onShow=n},e.prototype.updateOnHide=function(n){this._options.onHide=n},e.prototype.updateOnToggle=function(n){this._options.onToggle=n},e})();function Ube(){document.querySelectorAll("[data-drawer-target]").forEach(function(e){var n=e.getAttribute("data-drawer-target"),o=document.getElementById(n);if(o){var i=e.getAttribute("data-drawer-placement"),c=e.getAttribute("data-drawer-body-scrolling"),d=e.getAttribute("data-drawer-backdrop"),p=e.getAttribute("data-drawer-edge"),v=e.getAttribute("data-drawer-edge-offset");new GIe(o,{placement:i||G2.placement,bodyScrolling:c?c==="true":G2.bodyScrolling,backdrop:d?d==="true":G2.backdrop,edge:p?p==="true":G2.edge,edgeOffset:v||G2.edgeOffset})}else console.error("Drawer with id ".concat(n," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-toggle]").forEach(function(e){var n=e.getAttribute("data-drawer-toggle"),o=document.getElementById(n);if(o){var i=Oa.getInstance("Drawer",n);if(i){var c=function(){i.toggle()};e.addEventListener("click",c),i.addEventListenerInstance(e,"click",c)}else console.error("Drawer with id ".concat(n," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(n," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-dismiss], [data-drawer-hide]").forEach(function(e){var n=e.getAttribute("data-drawer-dismiss")?e.getAttribute("data-drawer-dismiss"):e.getAttribute("data-drawer-hide"),o=document.getElementById(n);if(o){var i=Oa.getInstance("Drawer",n);if(i){var c=function(){i.hide()};e.addEventListener("click",c),i.addEventListenerInstance(e,"click",c)}else console.error("Drawer with id ".concat(n," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(n," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id"))}),document.querySelectorAll("[data-drawer-show]").forEach(function(e){var n=e.getAttribute("data-drawer-show"),o=document.getElementById(n);if(o){var i=Oa.getInstance("Drawer",n);if(i){var c=function(){i.show()};e.addEventListener("click",c),i.addEventListenerInstance(e,"click",c)}else console.error("Drawer with id ".concat(n," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(n," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})}typeof window<"u"&&(window.Drawer=GIe,window.initDrawers=Ube);var SJ=function(){return SJ=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},SJ.apply(this,arguments)},CJ={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},BVe={id:null,override:!0},qIe=(function(){function e(n,o,i,c){n===void 0&&(n=null),o===void 0&&(o=[]),i===void 0&&(i=CJ),c===void 0&&(c=BVe),this._instanceId=c.id?c.id:n.id,this._tabsEl=n,this._items=o,this._activeTab=i?this.getTab(i.defaultTabId):null,this._options=SJ(SJ({},CJ),i),this._initialized=!1,this.init(),Oa.addInstance("Tabs",this,this._instanceId,c.override)}return e.prototype.init=function(){var n=this;this._items.length&&!this._initialized&&(this._activeTab||this.setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map(function(o){o.triggerEl.addEventListener("click",function(i){i.preventDefault(),n.show(o.id)})}))},e.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},e.prototype.removeInstance=function(){this.destroy(),Oa.removeInstance("Tabs",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getActiveTab=function(){return this._activeTab},e.prototype.setActiveTab=function(n){this._activeTab=n},e.prototype.getTab=function(n){return this._items.filter(function(o){return o.id===n})[0]},e.prototype.show=function(n,o){var i,c,d=this;o===void 0&&(o=!1);var p=this.getTab(n);p===this._activeTab&&!o||(this._items.map(function(v){var S,T;v!==p&&((S=v.triggerEl.classList).remove.apply(S,d._options.activeClasses.split(" ")),(T=v.triggerEl.classList).add.apply(T,d._options.inactiveClasses.split(" ")),v.targetEl.classList.add("hidden"),v.triggerEl.setAttribute("aria-selected","false"))}),(i=p.triggerEl.classList).add.apply(i,this._options.activeClasses.split(" ")),(c=p.triggerEl.classList).remove.apply(c,this._options.inactiveClasses.split(" ")),p.triggerEl.setAttribute("aria-selected","true"),p.targetEl.classList.remove("hidden"),this.setActiveTab(p),this._options.onShow(this,p))},e.prototype.updateOnShow=function(n){this._options.onShow=n},e})();function zbe(){document.querySelectorAll("[data-tabs-toggle]").forEach(function(e){var n=[],o=e.getAttribute("data-tabs-active-classes"),i=e.getAttribute("data-tabs-inactive-classes"),c=null;e.querySelectorAll('[role="tab"]').forEach(function(d){var p=d.getAttribute("aria-selected")==="true",v={id:d.getAttribute("data-tabs-target"),triggerEl:d,targetEl:document.querySelector(d.getAttribute("data-tabs-target"))};n.push(v),p&&(c=v.id)}),new qIe(e,n,{defaultTabId:c,activeClasses:o||CJ.activeClasses,inactiveClasses:i||CJ.inactiveClasses})})}typeof window<"u"&&(window.Tabs=qIe,window.initTabs=zbe);var Lx=function(){return Lx=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},Lx.apply(this,arguments)},wY=function(e,n,o){if(o||arguments.length===2)for(var i=0,c=n.length,d;i<c;i++)(d||!(i in n))&&(d||(d=Array.prototype.slice.call(n,0,i)),d[i]=n[i]);return e.concat(d||Array.prototype.slice.call(n))},EJ={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},VVe={id:null,override:!0},ZIe=(function(){function e(n,o,i,c){n===void 0&&(n=null),o===void 0&&(o=null),i===void 0&&(i=EJ),c===void 0&&(c=VVe),this._instanceId=c.id?c.id:n.id,this._targetEl=n,this._triggerEl=o,this._options=Lx(Lx({},EJ),i),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),Oa.addInstance("Tooltip",this,this._instanceId,c.override)}return e.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},e.prototype.destroy=function(){var n=this;if(this._initialized){var o=this._getTriggerEvents();o.showEvents.forEach(function(i){n._triggerEl.removeEventListener(i,n._showHandler)}),o.hideEvents.forEach(function(i){n._triggerEl.removeEventListener(i,n._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},e.prototype.removeInstance=function(){Oa.removeInstance("Tooltip",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype._setupEventListeners=function(){var n=this,o=this._getTriggerEvents();this._showHandler=function(){n.show()},this._hideHandler=function(){n.hide()},o.showEvents.forEach(function(i){n._triggerEl.addEventListener(i,n._showHandler)}),o.hideEvents.forEach(function(i){n._triggerEl.addEventListener(i,n._hideHandler)})},e.prototype._createPopperInstance=function(){return Fbe(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})},e.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},e.prototype._setupKeydownListener=function(){var n=this;this._keydownEventListener=function(o){o.key==="Escape"&&n.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},e.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},e.prototype._setupClickOutsideListener=function(){var n=this;this._clickOutsideEventListener=function(o){n._handleClickOutside(o,n._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._handleClickOutside=function(n,o){var i=n.target;i!==o&&!o.contains(i)&&!this._triggerEl.contains(i)&&this.isVisible()&&this.hide()},e.prototype.isVisible=function(){return this._visible},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},e.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(n){return Lx(Lx({},n),{modifiers:wY(wY([],n.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},e.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(n){return Lx(Lx({},n),{modifiers:wY(wY([],n.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},e.prototype.updateOnShow=function(n){this._options.onShow=n},e.prototype.updateOnHide=function(n){this._options.onHide=n},e.prototype.updateOnToggle=function(n){this._options.onToggle=n},e})();function jbe(){document.querySelectorAll("[data-tooltip-target]").forEach(function(e){var n=e.getAttribute("data-tooltip-target"),o=document.getElementById(n);if(o){var i=e.getAttribute("data-tooltip-trigger"),c=e.getAttribute("data-tooltip-placement");new ZIe(o,e,{placement:c||EJ.placement,triggerType:i||EJ.triggerType})}else console.error('The tooltip element with id "'.concat(n,'" does not exist. Please check the data-tooltip-target attribute.'))})}typeof window<"u"&&(window.Tooltip=ZIe,window.initTooltips=jbe);var Bx=function(){return Bx=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},Bx.apply(this,arguments)},_Y=function(e,n,o){if(o||arguments.length===2)for(var i=0,c=n.length,d;i<c;i++)(d||!(i in n))&&(d||(d=Array.prototype.slice.call(n,0,i)),d[i]=n[i]);return e.concat(d||Array.prototype.slice.call(n))},q5={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},FVe={id:null,override:!0},KIe=(function(){function e(n,o,i,c){n===void 0&&(n=null),o===void 0&&(o=null),i===void 0&&(i=q5),c===void 0&&(c=FVe),this._instanceId=c.id?c.id:n.id,this._targetEl=n,this._triggerEl=o,this._options=Bx(Bx({},q5),i),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),Oa.addInstance("Popover",this,c.id?c.id:this._targetEl.id,c.override)}return e.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},e.prototype.destroy=function(){var n=this;if(this._initialized){var o=this._getTriggerEvents();o.showEvents.forEach(function(i){n._triggerEl.removeEventListener(i,n._showHandler),n._targetEl.removeEventListener(i,n._showHandler)}),o.hideEvents.forEach(function(i){n._triggerEl.removeEventListener(i,n._hideHandler),n._targetEl.removeEventListener(i,n._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},e.prototype.removeInstance=function(){Oa.removeInstance("Popover",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype._setupEventListeners=function(){var n=this,o=this._getTriggerEvents();this._showHandler=function(){n.show()},this._hideHandler=function(){setTimeout(function(){n._targetEl.matches(":hover")||n.hide()},100)},o.showEvents.forEach(function(i){n._triggerEl.addEventListener(i,n._showHandler),n._targetEl.addEventListener(i,n._showHandler)}),o.hideEvents.forEach(function(i){n._triggerEl.addEventListener(i,n._hideHandler),n._targetEl.addEventListener(i,n._hideHandler)})},e.prototype._createPopperInstance=function(){return Fbe(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})},e.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},e.prototype._setupKeydownListener=function(){var n=this;this._keydownEventListener=function(o){o.key==="Escape"&&n.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},e.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},e.prototype._setupClickOutsideListener=function(){var n=this;this._clickOutsideEventListener=function(o){n._handleClickOutside(o,n._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._handleClickOutside=function(n,o){var i=n.target;i!==o&&!o.contains(i)&&!this._triggerEl.contains(i)&&this.isVisible()&&this.hide()},e.prototype.isVisible=function(){return this._visible},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},e.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(n){return Bx(Bx({},n),{modifiers:_Y(_Y([],n.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},e.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(n){return Bx(Bx({},n),{modifiers:_Y(_Y([],n.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},e.prototype.updateOnShow=function(n){this._options.onShow=n},e.prototype.updateOnHide=function(n){this._options.onHide=n},e.prototype.updateOnToggle=function(n){this._options.onToggle=n},e})();function Wbe(){document.querySelectorAll("[data-popover-target]").forEach(function(e){var n=e.getAttribute("data-popover-target"),o=document.getElementById(n);if(o){var i=e.getAttribute("data-popover-trigger"),c=e.getAttribute("data-popover-placement"),d=e.getAttribute("data-popover-offset");new KIe(o,e,{placement:c||q5.placement,offset:d?parseInt(d):q5.offset,triggerType:i||q5.triggerType})}else console.error('The popover element with id "'.concat(n,'" does not exist. Please check the data-popover-target attribute.'))})}typeof window<"u"&&(window.Popover=KIe,window.initPopovers=Wbe);var wJ=function(){return wJ=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},wJ.apply(this,arguments)},Ome={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},HVe={id:null,override:!0},YIe=(function(){function e(n,o,i,c,d){n===void 0&&(n=null),o===void 0&&(o=null),i===void 0&&(i=null),c===void 0&&(c=Ome),d===void 0&&(d=HVe),this._instanceId=d.id?d.id:i.id,this._parentEl=n,this._triggerEl=o,this._targetEl=i,this._options=wJ(wJ({},Ome),c),this._visible=!1,this._initialized=!1,this.init(),Oa.addInstance("Dial",this,this._instanceId,d.override)}return e.prototype.init=function(){var n=this;if(this._triggerEl&&this._targetEl&&!this._initialized){var o=this._getTriggerEventTypes(this._options.triggerType);this._showEventHandler=function(){n.show()},o.showEvents.forEach(function(i){n._triggerEl.addEventListener(i,n._showEventHandler),n._targetEl.addEventListener(i,n._showEventHandler)}),this._hideEventHandler=function(){n._parentEl.matches(":hover")||n.hide()},o.hideEvents.forEach(function(i){n._parentEl.addEventListener(i,n._hideEventHandler)}),this._initialized=!0}},e.prototype.destroy=function(){var n=this;if(this._initialized){var o=this._getTriggerEventTypes(this._options.triggerType);o.showEvents.forEach(function(i){n._triggerEl.removeEventListener(i,n._showEventHandler),n._targetEl.removeEventListener(i,n._showEventHandler)}),o.hideEvents.forEach(function(i){n._parentEl.removeEventListener(i,n._hideEventHandler)}),this._initialized=!1}},e.prototype.removeInstance=function(){Oa.removeInstance("Dial",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.hide=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)},e.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)},e.prototype.toggle=function(){this._visible?this.hide():this.show()},e.prototype.isHidden=function(){return!this._visible},e.prototype.isVisible=function(){return this._visible},e.prototype._getTriggerEventTypes=function(n){switch(n){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},e.prototype.updateOnShow=function(n){this._options.onShow=n},e.prototype.updateOnHide=function(n){this._options.onHide=n},e.prototype.updateOnToggle=function(n){this._options.onToggle=n},e})();function Gbe(){document.querySelectorAll("[data-dial-init]").forEach(function(e){var n=e.querySelector("[data-dial-toggle]");if(n){var o=n.getAttribute("data-dial-toggle"),i=document.getElementById(o);if(i){var c=n.getAttribute("data-dial-trigger");new YIe(e,n,i,{triggerType:c||Ome.triggerType})}else console.error("Dial with id ".concat(o," does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?"))}else console.error("Dial with id ".concat(e.id," does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?"))})}typeof window<"u"&&(window.Dial=YIe,window.initDials=Gbe);var _J=function(){return _J=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},_J.apply(this,arguments)},WSe={minValue:null,maxValue:null,onIncrement:function(){},onDecrement:function(){}},$Ve={id:null,override:!0},XIe=(function(){function e(n,o,i,c,d){n===void 0&&(n=null),o===void 0&&(o=null),i===void 0&&(i=null),c===void 0&&(c=WSe),d===void 0&&(d=$Ve),this._instanceId=d.id?d.id:n.id,this._targetEl=n,this._incrementEl=o,this._decrementEl=i,this._options=_J(_J({},WSe),c),this._initialized=!1,this.init(),Oa.addInstance("InputCounter",this,this._instanceId,d.override)}return e.prototype.init=function(){var n=this;this._targetEl&&!this._initialized&&(this._inputHandler=function(o){{var i=o.target;/^\d*$/.test(i.value)||(i.value=i.value.replace(/[^\d]/g,"")),n._options.maxValue!==null&&parseInt(i.value)>n._options.maxValue&&(i.value=n._options.maxValue.toString()),n._options.minValue!==null&&parseInt(i.value)<n._options.minValue&&(i.value=n._options.minValue.toString())}},this._incrementClickHandler=function(){n.increment()},this._decrementClickHandler=function(){n.decrement()},this._targetEl.addEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.addEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.addEventListener("click",this._decrementClickHandler),this._initialized=!0)},e.prototype.destroy=function(){this._targetEl&&this._initialized&&(this._targetEl.removeEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.removeEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.removeEventListener("click",this._decrementClickHandler),this._initialized=!1)},e.prototype.removeInstance=function(){Oa.removeInstance("InputCounter",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getCurrentValue=function(){return parseInt(this._targetEl.value)||0},e.prototype.increment=function(){this._options.maxValue!==null&&this.getCurrentValue()>=this._options.maxValue||(this._targetEl.value=(this.getCurrentValue()+1).toString(),this._options.onIncrement(this))},e.prototype.decrement=function(){this._options.minValue!==null&&this.getCurrentValue()<=this._options.minValue||(this._targetEl.value=(this.getCurrentValue()-1).toString(),this._options.onDecrement(this))},e.prototype.updateOnIncrement=function(n){this._options.onIncrement=n},e.prototype.updateOnDecrement=function(n){this._options.onDecrement=n},e})();function qbe(){document.querySelectorAll("[data-input-counter]").forEach(function(e){var n=e.id,o=document.querySelector('[data-input-counter-increment="'+n+'"]'),i=document.querySelector('[data-input-counter-decrement="'+n+'"]'),c=e.getAttribute("data-input-counter-min"),d=e.getAttribute("data-input-counter-max");e?Oa.instanceExists("InputCounter",e.getAttribute("id"))||new XIe(e,o||null,i||null,{minValue:c?parseInt(c):null,maxValue:d?parseInt(d):null}):console.error('The target element with id "'.concat(n,'" does not exist. Please check the data-input-counter attribute.'))})}typeof window<"u"&&(window.InputCounter=XIe,window.initInputCounters=qbe);var AJ=function(){return AJ=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},AJ.apply(this,arguments)},TJ={htmlEntities:!1,contentType:"input",onCopy:function(){}},UVe={id:null,override:!0},JIe=(function(){function e(n,o,i,c){n===void 0&&(n=null),o===void 0&&(o=null),i===void 0&&(i=TJ),c===void 0&&(c=UVe),this._instanceId=c.id?c.id:o.id,this._triggerEl=n,this._targetEl=o,this._options=AJ(AJ({},TJ),i),this._initialized=!1,this.init(),Oa.addInstance("CopyClipboard",this,this._instanceId,c.override)}return e.prototype.init=function(){var n=this;this._targetEl&&this._triggerEl&&!this._initialized&&(this._triggerElClickHandler=function(){n.copy()},this._triggerEl&&this._triggerEl.addEventListener("click",this._triggerElClickHandler),this._initialized=!0)},e.prototype.destroy=function(){this._triggerEl&&this._targetEl&&this._initialized&&(this._triggerEl&&this._triggerEl.removeEventListener("click",this._triggerElClickHandler),this._initialized=!1)},e.prototype.removeInstance=function(){Oa.removeInstance("CopyClipboard",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getTargetValue=function(){if(this._options.contentType==="input")return this._targetEl.value;if(this._options.contentType==="innerHTML")return this._targetEl.innerHTML;if(this._options.contentType==="textContent")return this._targetEl.textContent.replace(/\s+/g," ").trim()},e.prototype.copy=function(){var n=this.getTargetValue();this._options.htmlEntities&&(n=this.decodeHTML(n));var o=document.createElement("textarea");return o.value=n,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),this._options.onCopy(this),n},e.prototype.decodeHTML=function(n){var o=document.createElement("textarea");return o.innerHTML=n,o.textContent},e.prototype.updateOnCopyCallback=function(n){this._options.onCopy=n},e})();function Zbe(){document.querySelectorAll("[data-copy-to-clipboard-target]").forEach(function(e){var n=e.getAttribute("data-copy-to-clipboard-target"),o=document.getElementById(n),i=e.getAttribute("data-copy-to-clipboard-content-type"),c=e.getAttribute("data-copy-to-clipboard-html-entities");o?Oa.instanceExists("CopyClipboard",o.getAttribute("id"))||new JIe(e,o,{htmlEntities:c&&c==="true"?!0:TJ.htmlEntities,contentType:i||TJ.contentType}):console.error('The target element with id "'.concat(n,'" does not exist. Please check the data-copy-to-clipboard-target attribute.'))})}typeof window<"u"&&(window.CopyClipboard=JIe,window.initClipboards=Zbe);function Ime(e,n){(n==null||n>e.length)&&(n=e.length);for(var o=0,i=Array(n);o<n;o++)i[o]=e[o];return i}function zVe(e){if(Array.isArray(e))return e}function jVe(e){if(Array.isArray(e))return Ime(e)}function WVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kbe(e,n,o){return n=gO(n),YVe(e,QIe()?Reflect.construct(n,o||[],gO(e).constructor):n.apply(e,o))}function Wk(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function GSe(e,n){for(var o=0;o<n.length;o++){var i=n[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,QVe(i.key),i)}}function Gk(e,n,o){return n&&GSe(e.prototype,n),o&&GSe(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function C6(){return C6=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,n,o){var i=XVe(e,n);if(i){var c=Object.getOwnPropertyDescriptor(i,n);return c.get?c.get.call(arguments.length<3?e:o):c.value}},C6.apply(null,arguments)}function gO(e){return gO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gO(e)}function Ybe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&Rme(e,n)}function QIe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QIe=function(){return!!e})()}function GVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qVe(e,n){var o=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(o!=null){var i,c,d,p,v=[],S=!0,T=!1;try{if(d=(o=o.call(e)).next,n===0){if(Object(o)!==o)return;S=!1}else for(;!(S=(i=d.call(o)).done)&&(v.push(i.value),v.length!==n);S=!0);}catch(x){T=!0,c=x}finally{try{if(!S&&o.return!=null&&(p=o.return(),Object(p)!==p))return}finally{if(T)throw c}}return v}}function ZVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YVe(e,n){if(n&&(typeof n=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WVe(e)}function Rme(e,n){return Rme=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},Rme(e,n)}function z0(e,n){return zVe(e)||qVe(e,n)||eRe(e,n)||ZVe()}function XVe(e,n){for(;!{}.hasOwnProperty.call(e,n)&&(e=gO(e))!==null;);return e}function oz(e){return jVe(e)||GVe(e)||eRe(e)||KVe()}function JVe(e,n){if(typeof e!="object"||!e)return e;var o=e[Symbol.toPrimitive];if(o!==void 0){var i=o.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function QVe(e){var n=JVe(e,"string");return typeof n=="symbol"?n:n+""}function xJ(e){"@babel/helpers - typeof";return xJ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},xJ(e)}function eRe(e,n){if(e){if(typeof e=="string")return Ime(e,n);var o={}.toString.call(e).slice(8,-1);return o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set"?Array.from(e):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?Ime(e,n):void 0}}function eA(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function Xbe(e){return e[e.length-1]}function Mk(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return o.forEach(function(c){e.includes(c)||e.push(c)}),e}function Rfe(e,n){return e?e.split(n):[]}function Jbe(e,n,o){var i=n===void 0||e>=n,c=o===void 0||e<=o;return i&&c}function tRe(e,n,o){return e<n?n:e>o?o:e}function I3(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",d=Object.keys(o).reduce(function(v,S){var T=o[S];return typeof T=="function"&&(T=T(i)),"".concat(v," ").concat(S,'="').concat(T,'"')},e);c+="<".concat(d,"></").concat(e,">");var p=i+1;return p<n?I3(e,n,o,p,c):c}function Qbe(e){return e.replace(/>\s+/g,">").replace(/\s+</,"<")}function kme(e){return new Date(e).setHours(0,0,0,0)}function qk(){return new Date().setHours(0,0,0,0)}function hO(){switch(arguments.length){case 0:return qk();case 1:return kme(arguments.length<=0?void 0:arguments[0])}var e=new Date(0);return e.setFullYear.apply(e,arguments),e.setHours(0,0,0,0)}function QL(e,n){var o=new Date(e);return o.setDate(o.getDate()+n)}function eFe(e,n){return QL(e,n*7)}function OJ(e,n){var o=new Date(e),i=o.getMonth()+n,c=i%12;c<0&&(c+=12);var d=o.setMonth(i);return o.getMonth()!==c?o.setDate(0):d}function e3(e,n){var o=new Date(e),i=o.getMonth(),c=o.setFullYear(o.getFullYear()+n);return i===1&&o.getMonth()===2?o.setDate(0):c}function qSe(e,n){return(e-n+7)%7}function IJ(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=new Date(e).getDay();return QL(e,qSe(n,o)-qSe(i,o))}function tFe(e){var n=IJ(e,4,1),o=IJ(new Date(n).setMonth(0,4),4,1);return Math.round((n-o)/6048e5)+1}function B2(e,n){var o=new Date(e).getFullYear();return Math.floor(o/n)*n}var Dme=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,nFe=/[\s!-/:-@[-`{-~年月日]+/,kfe={},ZSe={y:function(n,o){return new Date(n).setFullYear(parseInt(o,10))},m:function(n,o,i){var c=new Date(n),d=parseInt(o,10)-1;if(isNaN(d)){if(!o)return NaN;var p=o.toLowerCase(),v=function(T){return T.toLowerCase().startsWith(p)};if(d=i.monthsShort.findIndex(v),d<0&&(d=i.months.findIndex(v)),d<0)return NaN}return c.setMonth(d),c.getMonth()!==nRe(d)?c.setDate(0):c.getTime()},d:function(n,o){return new Date(n).setDate(parseInt(o,10))}},oFe={d:function(n){return n.getDate()},dd:function(n){return AY(n.getDate(),2)},D:function(n,o){return o.daysShort[n.getDay()]},DD:function(n,o){return o.days[n.getDay()]},m:function(n){return n.getMonth()+1},mm:function(n){return AY(n.getMonth()+1,2)},M:function(n,o){return o.monthsShort[n.getMonth()]},MM:function(n,o){return o.months[n.getMonth()]},y:function(n){return n.getFullYear()},yy:function(n){return AY(n.getFullYear(),2).slice(-2)},yyyy:function(n){return AY(n.getFullYear(),4)}};function nRe(e){return e>-1?e%12:nRe(e+12)}function AY(e,n){return e.toString().padStart(n,"0")}function oRe(e){if(typeof e!="string")throw new Error("Invalid date format.");if(e in kfe)return kfe[e];var n=e.split(Dme),o=e.match(new RegExp(Dme,"g"));if(n.length===0||!o)throw new Error("Invalid date format.");var i=o.map(function(d){return oFe[d]}),c=Object.keys(ZSe).reduce(function(d,p){var v=o.find(function(S){return S[0]!=="D"&&S[0].toLowerCase()===p});return v&&d.push(p),d},[]);return kfe[e]={parser:function(p,v){var S=p.split(nFe).reduce(function(T,x,P){if(x.length>0&&o[P]){var B=o[P][0];B==="M"?T.m=x:B!=="D"&&(T[B]=x)}return T},{});return c.reduce(function(T,x){var P=ZSe[x](T,S[x],v);return isNaN(P)?T:P},qk())},formatter:function(p,v){var S=i.reduce(function(T,x,P){return T+="".concat(n[P]).concat(x(p,v))},"");return S+=Xbe(n)}}}function E6(e,n,o){if(e instanceof Date||typeof e=="number"){var i=kme(e);return isNaN(i)?void 0:i}if(e){if(e==="today")return qk();if(n&&n.toValue){var c=n.toValue(e,n,o);return isNaN(c)?void 0:kme(c)}return oRe(n).parser(e,o)}}function w6(e,n,o){if(isNaN(e)||!e&&e!==0)return"";var i=typeof e=="number"?new Date(e):e;return n.toDisplay?n.toDisplay(i,n,o):oRe(n).formatter(i,o)}var RJ=new WeakMap,sRe=EventTarget.prototype,KSe=sRe.addEventListener,YSe=sRe.removeEventListener;function e0e(e,n){var o=RJ.get(e);o||(o=[],RJ.set(e,o)),n.forEach(function(i){KSe.call.apply(KSe,oz(i)),o.push(i)})}function rRe(e){var n=RJ.get(e);n&&(n.forEach(function(o){YSe.call.apply(YSe,oz(o))}),RJ.delete(e))}if(!Event.prototype.composedPath){var sFe=function e(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];o.push(n);var i;return n.parentNode?i=n.parentNode:n.host?i=n.host:n.defaultView&&(i=n.defaultView),i?e(i,o):o};Event.prototype.composedPath=function(){return sFe(this.target)}}function iRe(e,n,o){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,c=e[i];return n(c)?c:c===o||!c.parentElement?void 0:iRe(e,n,o,i+1)}function aRe(e,n){var o=typeof n=="function"?n:function(i){return i.matches(n)};return iRe(e.composedPath(),o,e.currentTarget)}var i5={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}},sz={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,calendarWeeks:!1,clearBtn:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/></svg>',orientation:"auto",pickLevel:0,prevArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5H1m0 0 4 4M1 5l4-4"/></svg>',showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayBtn:!1,todayBtnMode:0,todayHighlight:!1,updateOnBlur:!0,weekStart:0},Dfe=null;function tA(e){return Dfe==null&&(Dfe=document.createRange()),Dfe.createContextualFragment(e)}function Z5(e){e.style.display!=="none"&&(e.style.display&&(e.dataset.styleDisplay=e.style.display),e.style.display="none")}function K5(e){e.style.display==="none"&&(e.dataset.styleDisplay?(e.style.display=e.dataset.styleDisplay,delete e.dataset.styleDisplay):e.style.display="")}function kJ(e){e.firstChild&&(e.removeChild(e.firstChild),kJ(e))}function rFe(e,n){kJ(e),n instanceof DocumentFragment?e.appendChild(n):typeof n=="string"?e.appendChild(tA(n)):typeof n.forEach=="function"&&n.forEach(function(o){e.appendChild(o)})}var Mfe=sz.language,iFe=sz.format,aFe=sz.weekStart;function XSe(e,n){return e.length<6&&n>=0&&n<7?Mk(e,n):e}function JSe(e){return(e+6)%7}function QSe(e,n,o,i){var c=E6(e,n,o);return c!==void 0?c:i}function Pfe(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:3,i=parseInt(e,10);return i>=0&&i<=o?i:n}function Nfe(e,n){var o=Object.assign({},e),i={},c=n.constructor.locales,d=n.config||{},p=d.format,v=d.language,S=d.locale,T=d.maxDate,x=d.maxView,P=d.minDate,B=d.pickLevel,U=d.startView,j=d.weekStart;if(o.language){var W;if(o.language!==v&&(c[o.language]?W=o.language:(W=o.language.split("-")[0],c[W]===void 0&&(W=!1))),delete o.language,W){v=i.language=W;var Z=S||c[Mfe];S=Object.assign({format:iFe,weekStart:aFe},c[Mfe]),v!==Mfe&&Object.assign(S,c[v]),i.locale=S,p===Z.format&&(p=i.format=S.format),j===Z.weekStart&&(j=i.weekStart=S.weekStart,i.weekEnd=JSe(S.weekStart))}}if(o.format){var re=typeof o.format.toDisplay=="function",le=typeof o.format.toValue=="function",ie=Dme.test(o.format);(re&&le||ie)&&(p=i.format=o.format),delete o.format}var be=P,Ce=T;if(o.minDate!==void 0&&(be=o.minDate===null?hO(0,0,1):QSe(o.minDate,p,S,be),delete o.minDate),o.maxDate!==void 0&&(Ce=o.maxDate===null?void 0:QSe(o.maxDate,p,S,Ce),delete o.maxDate),Ce<be?(P=i.minDate=Ce,T=i.maxDate=be):(P!==be&&(P=i.minDate=be),T!==Ce&&(T=i.maxDate=Ce)),o.datesDisabled&&(i.datesDisabled=o.datesDisabled.reduce(function(gt,te){var hn=E6(te,p,S);return hn!==void 0?Mk(gt,hn):gt},[]),delete o.datesDisabled),o.defaultViewDate!==void 0){var Ae=E6(o.defaultViewDate,p,S);Ae!==void 0&&(i.defaultViewDate=Ae),delete o.defaultViewDate}if(o.weekStart!==void 0){var F=Number(o.weekStart)%7;isNaN(F)||(j=i.weekStart=F,i.weekEnd=JSe(F)),delete o.weekStart}if(o.daysOfWeekDisabled&&(i.daysOfWeekDisabled=o.daysOfWeekDisabled.reduce(XSe,[]),delete o.daysOfWeekDisabled),o.daysOfWeekHighlighted&&(i.daysOfWeekHighlighted=o.daysOfWeekHighlighted.reduce(XSe,[]),delete o.daysOfWeekHighlighted),o.maxNumberOfDates!==void 0){var Ie=parseInt(o.maxNumberOfDates,10);Ie>=0&&(i.maxNumberOfDates=Ie,i.multidate=Ie!==1),delete o.maxNumberOfDates}o.dateDelimiter&&(i.dateDelimiter=String(o.dateDelimiter),delete o.dateDelimiter);var tt=B;o.pickLevel!==void 0&&(tt=Pfe(o.pickLevel,2),delete o.pickLevel),tt!==B&&(B=i.pickLevel=tt);var Xe=x;o.maxView!==void 0&&(Xe=Pfe(o.maxView,x),delete o.maxView),Xe=B>Xe?B:Xe,Xe!==x&&(x=i.maxView=Xe);var Ve=U;if(o.startView!==void 0&&(Ve=Pfe(o.startView,Ve),delete o.startView),Ve<B?Ve=B:Ve>x&&(Ve=x),Ve!==U&&(i.startView=Ve),o.prevArrow){var Re=tA(o.prevArrow);Re.childNodes.length>0&&(i.prevArrow=Re.childNodes),delete o.prevArrow}if(o.nextArrow){var vt=tA(o.nextArrow);vt.childNodes.length>0&&(i.nextArrow=vt.childNodes),delete o.nextArrow}if(o.disableTouchKeyboard!==void 0&&(i.disableTouchKeyboard="ontouchstart"in document&&!!o.disableTouchKeyboard,delete o.disableTouchKeyboard),o.orientation){var mt=o.orientation.toLowerCase().split(/\s+/g);i.orientation={x:mt.find(function(gt){return gt==="left"||gt==="right"})||"auto",y:mt.find(function(gt){return gt==="top"||gt==="bottom"})||"auto"},delete o.orientation}if(o.todayBtnMode!==void 0){switch(o.todayBtnMode){case 0:case 1:i.todayBtnMode=o.todayBtnMode}delete o.todayBtnMode}return Object.keys(o).forEach(function(gt){o[gt]!==void 0&&eA(sz,gt)&&(i[gt]=o[gt])}),i}var lFe=Qbe(`<div class="datepicker hidden">
  <div class="datepicker-picker inline-block rounded-lg bg-white dark:bg-gray-700 shadow-lg p-4">
    <div class="datepicker-header">
      <div class="datepicker-title bg-white dark:bg-gray-700 dark:text-white px-2 py-3 text-center font-semibold"></div>
      <div class="datepicker-controls flex justify-between mb-2">
        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 prev-btn"></button>
        <button type="button" class="text-sm rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 font-semibold py-2.5 px-5 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-200 view-switch"></button>
        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 next-btn"></button>
      </div>
    </div>
    <div class="datepicker-main p-1"></div>
    <div class="datepicker-footer">
      <div class="datepicker-controls flex space-x-2 rtl:space-x-reverse mt-2">
        <button type="button" class="%buttonClass% today-btn text-white bg-blue-700 !bg-primary-700 dark:bg-blue-600 dark:!bg-primary-600 hover:bg-blue-800 hover:!bg-primary-800 dark:hover:bg-blue-700 dark:hover:!bg-primary-700 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>
        <button type="button" class="%buttonClass% clear-btn text-gray-900 dark:text-white bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>
      </div>
    </div>
  </div>
</div>`),cFe=Qbe(`<div class="days">
  <div class="days-of-week grid grid-cols-7 mb-1">`.concat(I3("span",7,{class:"dow block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),`</div>
  <div class="datepicker-grid w-64 grid grid-cols-7">`).concat(I3("span",42,{class:"block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"}),`</div>
</div>`)),uFe=Qbe(`<div class="calendar-weeks">
  <div class="days-of-week flex"><span class="dow h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"></span></div>
  <div class="weeks">`.concat(I3("span",6,{class:"week block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),`</div>
</div>`)),t0e=(function(){function e(n,o){Wk(this,e),Object.assign(this,o,{picker:n,element:tA('<div class="datepicker-view flex"></div>').firstChild,selected:[]}),this.init(this.picker.datepicker.config)}return Gk(e,[{key:"init",value:function(o){o.pickLevel!==void 0&&(this.isMinView=this.id===o.pickLevel),this.setOptions(o),this.updateFocus(),this.updateSelection()}},{key:"performBeforeHook",value:function(o,i,c){var d=this.beforeShow(new Date(c));switch(xJ(d)){case"boolean":d={enabled:d};break;case"string":d={classes:d}}if(d){if(d.enabled===!1&&(o.classList.add("disabled"),Mk(this.disabled,i)),d.classes){var p,v=d.classes.split(/\s+/);(p=o.classList).add.apply(p,oz(v)),v.includes("disabled")&&Mk(this.disabled,i)}d.content&&rFe(o,d.content)}}}])})(),dFe=(function(e){function n(o){return Wk(this,n),Kbe(this,n,[o,{id:0,name:"days",cellClass:"day"}])}return Ybe(n,e),Gk(n,[{key:"init",value:function(i){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(c){var d=tA(cFe).firstChild;this.dow=d.firstChild,this.grid=d.lastChild,this.element.appendChild(d)}C6(gO(n.prototype),"init",this).call(this,i)}},{key:"setOptions",value:function(i){var c=this,d;if(eA(i,"minDate")&&(this.minDate=i.minDate),eA(i,"maxDate")&&(this.maxDate=i.maxDate),i.datesDisabled&&(this.datesDisabled=i.datesDisabled),i.daysOfWeekDisabled&&(this.daysOfWeekDisabled=i.daysOfWeekDisabled,d=!0),i.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=i.daysOfWeekHighlighted),i.todayHighlight!==void 0&&(this.todayHighlight=i.todayHighlight),i.weekStart!==void 0&&(this.weekStart=i.weekStart,this.weekEnd=i.weekEnd,d=!0),i.locale){var p=this.locale=i.locale;this.dayNames=p.daysMin,this.switchLabelFormat=p.titleFormat,d=!0}if(i.beforeShowDay!==void 0&&(this.beforeShow=typeof i.beforeShowDay=="function"?i.beforeShowDay:void 0),i.calendarWeeks!==void 0)if(i.calendarWeeks&&!this.calendarWeeks){var v=tA(uFe).firstChild;this.calendarWeeks={element:v,dow:v.firstChild,weeks:v.lastChild},this.element.insertBefore(v,this.element.firstChild)}else this.calendarWeeks&&!i.calendarWeeks&&(this.element.removeChild(this.calendarWeeks.element),this.calendarWeeks=null);i.showDaysOfWeek!==void 0&&(i.showDaysOfWeek?(K5(this.dow),this.calendarWeeks&&K5(this.calendarWeeks.dow)):(Z5(this.dow),this.calendarWeeks&&Z5(this.calendarWeeks.dow))),d&&Array.from(this.dow.children).forEach(function(S,T){var x=(c.weekStart+T)%7;S.textContent=c.dayNames[x],S.className=c.daysOfWeekDisabled.includes(x)?"dow disabled text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400 cursor-not-allowed":"dow text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"})}},{key:"updateFocus",value:function(){var i=new Date(this.picker.viewDate),c=i.getFullYear(),d=i.getMonth(),p=hO(c,d,1),v=IJ(p,this.weekStart,this.weekStart);this.first=p,this.last=hO(c,d+1,0),this.start=v,this.focused=this.picker.viewDate}},{key:"updateSelection",value:function(){var i=this.picker.datepicker,c=i.dates,d=i.rangepicker;this.selected=c,d&&(this.range=d.dates)}},{key:"render",value:function(){var i=this;this.today=this.todayHighlight?qk():void 0,this.disabled=oz(this.datesDisabled);var c=w6(this.focused,this.switchLabelFormat,this.locale);if(this.picker.setViewSwitchLabel(c),this.picker.setPrevBtnDisabled(this.first<=this.minDate),this.picker.setNextBtnDisabled(this.last>=this.maxDate),this.calendarWeeks){var d=IJ(this.first,1,1);Array.from(this.calendarWeeks.weeks.children).forEach(function(p,v){p.textContent=tFe(eFe(d,v))})}Array.from(this.grid.children).forEach(function(p,v){var S=p.classList,T=QL(i.start,v),x=new Date(T),P=x.getDay();if(p.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(i.cellClass),p.dataset.date=T,p.textContent=x.getDate(),T<i.first?S.add("prev","text-gray-500","dark:text-white"):T>i.last&&S.add("next","text-gray-500","dark:text-white"),i.today===T&&S.add("today","bg-gray-100","dark:bg-gray-600"),(T<i.minDate||T>i.maxDate||i.disabled.includes(T))&&(S.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),S.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer")),i.daysOfWeekDisabled.includes(P)&&(S.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),S.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer"),Mk(i.disabled,T)),i.daysOfWeekHighlighted.includes(P)&&S.add("highlighted"),i.range){var B=z0(i.range,2),U=B[0],j=B[1];T>U&&T<j&&(S.add("range","bg-gray-200","dark:bg-gray-600"),S.remove("rounded-lg","rounded-l-lg","rounded-r-lg")),T===U&&(S.add("range-start","bg-gray-100","dark:bg-gray-600","rounded-l-lg"),S.remove("rounded-lg","rounded-r-lg")),T===j&&(S.add("range-end","bg-gray-100","dark:bg-gray-600","rounded-r-lg"),S.remove("rounded-lg","rounded-l-lg"))}i.selected.includes(T)&&(S.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),S.remove("text-gray-900","text-gray-500","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","dark:bg-gray-600","bg-gray-100","bg-gray-200")),T===i.focused&&S.add("focused"),i.beforeShow&&i.performBeforeHook(p,T,T)})}},{key:"refresh",value:function(){var i=this,c=this.range||[],d=z0(c,2),p=d[0],v=d[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(S){S.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white","focused"),S.classList.add("text-gray-900","rounded-lg","dark:text-white")}),Array.from(this.grid.children).forEach(function(S){var T=Number(S.dataset.date),x=S.classList;x.remove("bg-gray-200","dark:bg-gray-600","rounded-l-lg","rounded-r-lg"),T>p&&T<v&&(x.add("range","bg-gray-200","dark:bg-gray-600"),x.remove("rounded-lg")),T===p&&(x.add("range-start","bg-gray-200","dark:bg-gray-600","rounded-l-lg"),x.remove("rounded-lg")),T===v&&(x.add("range-end","bg-gray-200","dark:bg-gray-600","rounded-r-lg"),x.remove("rounded-lg")),i.selected.includes(T)&&(x.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),x.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","bg-gray-100","bg-gray-200","dark:bg-gray-600")),T===i.focused&&x.add("focused")})}},{key:"refreshFocus",value:function(){var i=Math.round((this.focused-this.start)/864e5);this.grid.querySelectorAll(".focused").forEach(function(c){c.classList.remove("focused")}),this.grid.children[i].classList.add("focused")}}])})(t0e);function eCe(e,n){if(!(!e||!e[0]||!e[1])){var o=z0(e,2),i=z0(o[0],2),c=i[0],d=i[1],p=z0(o[1],2),v=p[0],S=p[1];if(!(c>n||v<n))return[c===n?d:-1,v===n?S:12]}}var hFe=(function(e){function n(o){return Wk(this,n),Kbe(this,n,[o,{id:1,name:"months",cellClass:"month"}])}return Ybe(n,e),Gk(n,[{key:"init",value:function(i){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;c&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(tA(I3("span",12,{"data-month":function(p){return p}})))),C6(gO(n.prototype),"init",this).call(this,i)}},{key:"setOptions",value:function(i){if(i.locale&&(this.monthNames=i.locale.monthsShort),eA(i,"minDate"))if(i.minDate===void 0)this.minYear=this.minMonth=this.minDate=void 0;else{var c=new Date(i.minDate);this.minYear=c.getFullYear(),this.minMonth=c.getMonth(),this.minDate=c.setDate(1)}if(eA(i,"maxDate"))if(i.maxDate===void 0)this.maxYear=this.maxMonth=this.maxDate=void 0;else{var d=new Date(i.maxDate);this.maxYear=d.getFullYear(),this.maxMonth=d.getMonth(),this.maxDate=hO(this.maxYear,this.maxMonth+1,0)}i.beforeShowMonth!==void 0&&(this.beforeShow=typeof i.beforeShowMonth=="function"?i.beforeShowMonth:void 0)}},{key:"updateFocus",value:function(){var i=new Date(this.picker.viewDate);this.year=i.getFullYear(),this.focused=i.getMonth()}},{key:"updateSelection",value:function(){var i=this.picker.datepicker,c=i.dates,d=i.rangepicker;this.selected=c.reduce(function(p,v){var S=new Date(v),T=S.getFullYear(),x=S.getMonth();return p[T]===void 0?p[T]=[x]:Mk(p[T],x),p},{}),d&&d.dates&&(this.range=d.dates.map(function(p){var v=new Date(p);return isNaN(v)?void 0:[v.getFullYear(),v.getMonth()]}))}},{key:"render",value:function(){var i=this;this.disabled=[],this.picker.setViewSwitchLabel(this.year),this.picker.setPrevBtnDisabled(this.year<=this.minYear),this.picker.setNextBtnDisabled(this.year>=this.maxYear);var c=this.selected[this.year]||[],d=this.year<this.minYear||this.year>this.maxYear,p=this.year===this.minYear,v=this.year===this.maxYear,S=eCe(this.range,this.year);Array.from(this.grid.children).forEach(function(T,x){var P=T.classList,B=hO(i.year,x,1);if(T.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(i.cellClass),i.isMinView&&(T.dataset.date=B),T.textContent=i.monthNames[x],(d||p&&x<i.minMonth||v&&x>i.maxMonth)&&P.add("disabled"),S){var U=z0(S,2),j=U[0],W=U[1];x>j&&x<W&&P.add("range"),x===j&&P.add("range-start"),x===W&&P.add("range-end")}c.includes(x)&&(P.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),P.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),x===i.focused&&P.add("focused"),i.beforeShow&&i.performBeforeHook(T,x,B)})}},{key:"refresh",value:function(){var i=this,c=this.selected[this.year]||[],d=eCe(this.range,this.year)||[],p=z0(d,2),v=p[0],S=p[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(T){T.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","dark:bg-blue-600","dark:!bg-primary-700","dark:text-white","text-white","focused"),T.classList.add("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")}),Array.from(this.grid.children).forEach(function(T,x){var P=T.classList;x>v&&x<S&&P.add("range"),x===v&&P.add("range-start"),x===S&&P.add("range-end"),c.includes(x)&&(P.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),P.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),x===i.focused&&P.add("focused")})}},{key:"refreshFocus",value:function(){this.grid.querySelectorAll(".focused").forEach(function(i){i.classList.remove("focused")}),this.grid.children[this.focused].classList.add("focused")}}])})(t0e);function fFe(e){return oz(e).reduce(function(n,o,i){return n+=i?o:o.toUpperCase()},"")}var tCe=(function(e){function n(o,i){return Wk(this,n),Kbe(this,n,[o,i])}return Ybe(n,e),Gk(n,[{key:"init",value:function(i){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;c&&(this.navStep=this.step*10,this.beforeShowOption="beforeShow".concat(fFe(this.cellClass)),this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(tA(I3("span",12)))),C6(gO(n.prototype),"init",this).call(this,i)}},{key:"setOptions",value:function(i){if(eA(i,"minDate")&&(i.minDate===void 0?this.minYear=this.minDate=void 0:(this.minYear=B2(i.minDate,this.step),this.minDate=hO(this.minYear,0,1))),eA(i,"maxDate")&&(i.maxDate===void 0?this.maxYear=this.maxDate=void 0:(this.maxYear=B2(i.maxDate,this.step),this.maxDate=hO(this.maxYear,11,31))),i[this.beforeShowOption]!==void 0){var c=i[this.beforeShowOption];this.beforeShow=typeof c=="function"?c:void 0}}},{key:"updateFocus",value:function(){var i=new Date(this.picker.viewDate),c=B2(i,this.navStep),d=c+9*this.step;this.first=c,this.last=d,this.start=c-this.step,this.focused=B2(i,this.step)}},{key:"updateSelection",value:function(){var i=this,c=this.picker.datepicker,d=c.dates,p=c.rangepicker;this.selected=d.reduce(function(v,S){return Mk(v,B2(S,i.step))},[]),p&&p.dates&&(this.range=p.dates.map(function(v){if(v!==void 0)return B2(v,i.step)}))}},{key:"render",value:function(){var i=this;this.disabled=[],this.picker.setViewSwitchLabel("".concat(this.first,"-").concat(this.last)),this.picker.setPrevBtnDisabled(this.first<=this.minYear),this.picker.setNextBtnDisabled(this.last>=this.maxYear),Array.from(this.grid.children).forEach(function(c,d){var p=c.classList,v=i.start+d*i.step,S=hO(v,0,1);if(c.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(i.cellClass),i.isMinView&&(c.dataset.date=S),c.textContent=c.dataset.year=v,d===0?p.add("prev"):d===11&&p.add("next"),(v<i.minYear||v>i.maxYear)&&p.add("disabled"),i.range){var T=z0(i.range,2),x=T[0],P=T[1];v>x&&v<P&&p.add("range"),v===x&&p.add("range-start"),v===P&&p.add("range-end")}i.selected.includes(v)&&(p.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),p.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),v===i.focused&&p.add("focused"),i.beforeShow&&i.performBeforeHook(c,v,S)})}},{key:"refresh",value:function(){var i=this,c=this.range||[],d=z0(c,2),p=d[0],v=d[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(S){S.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark!bg-primary-600","dark:text-white","focused")}),Array.from(this.grid.children).forEach(function(S){var T=Number(S.textContent),x=S.classList;T>p&&T<v&&x.add("range"),T===p&&x.add("range-start"),T===v&&x.add("range-end"),i.selected.includes(T)&&(x.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),x.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),T===i.focused&&x.add("focused")})}},{key:"refreshFocus",value:function(){var i=Math.round((this.focused-this.start)/this.step);this.grid.querySelectorAll(".focused").forEach(function(c){c.classList.remove("focused")}),this.grid.children[i].classList.add("focused")}}])})(t0e);function t3(e,n){var o={date:e.getDate(),viewDate:new Date(e.picker.viewDate),viewId:e.picker.currentView.id,datepicker:e};e.element.dispatchEvent(new CustomEvent(n,{detail:o}))}function DJ(e,n){var o=e.config,i=o.minDate,c=o.maxDate,d=e.picker,p=d.currentView,v=d.viewDate,S;switch(p.id){case 0:S=OJ(v,n);break;case 1:S=e3(v,n);break;default:S=e3(v,n*p.navStep)}S=tRe(S,i,c),e.picker.changeFocus(S).render()}function lRe(e){var n=e.picker.currentView.id;n!==e.config.maxView&&e.picker.changeView(n+1).render()}function cRe(e){e.config.updateOnBlur?e.update({autohide:!0}):(e.refresh("input"),e.hide())}function nCe(e,n){var o=e.picker,i=new Date(o.viewDate),c=o.currentView.id,d=c===1?OJ(i,n-i.getMonth()):e3(i,n-i.getFullYear());o.changeFocus(d).changeView(c-1).render()}function pFe(e){var n=e.picker,o=qk();if(e.config.todayBtnMode===1){if(e.config.autohide){e.setDate(o);return}e.setDate(o,{render:!1}),n.update()}n.viewDate!==o&&n.changeFocus(o),n.changeView(0).render()}function mFe(e){e.setDate({clear:!0})}function gFe(e){lRe(e)}function vFe(e){DJ(e,-1)}function bFe(e){DJ(e,1)}function yFe(e,n){var o=aRe(n,".datepicker-cell");if(!(!o||o.classList.contains("disabled"))){var i=e.picker.currentView,c=i.id,d=i.isMinView;d?e.setDate(Number(o.dataset.date)):c===1?nCe(e,Number(o.dataset.month)):nCe(e,Number(o.dataset.year))}}function SFe(e){!e.inline&&!e.config.disableTouchKeyboard&&e.inputField.focus()}function oCe(e,n){if(n.title!==void 0&&(n.title?(e.controls.title.textContent=n.title,K5(e.controls.title)):(e.controls.title.textContent="",Z5(e.controls.title))),n.prevArrow){var o=e.controls.prevBtn;kJ(o),n.prevArrow.forEach(function(v){o.appendChild(v.cloneNode(!0))})}if(n.nextArrow){var i=e.controls.nextBtn;kJ(i),n.nextArrow.forEach(function(v){i.appendChild(v.cloneNode(!0))})}if(n.locale&&(e.controls.todayBtn.textContent=n.locale.today,e.controls.clearBtn.textContent=n.locale.clear),n.todayBtn!==void 0&&(n.todayBtn?K5(e.controls.todayBtn):Z5(e.controls.todayBtn)),eA(n,"minDate")||eA(n,"maxDate")){var c=e.datepicker.config,d=c.minDate,p=c.maxDate;e.controls.todayBtn.disabled=!Jbe(qk(),d,p)}n.clearBtn!==void 0&&(n.clearBtn?K5(e.controls.clearBtn):Z5(e.controls.clearBtn))}function sCe(e){var n=e.dates,o=e.config,i=n.length>0?Xbe(n):o.defaultViewDate;return tRe(i,o.minDate,o.maxDate)}function rCe(e,n){var o=new Date(e.viewDate),i=new Date(n),c=e.currentView,d=c.id,p=c.year,v=c.first,S=c.last,T=i.getFullYear();switch(e.viewDate=n,T!==o.getFullYear()&&t3(e.datepicker,"changeYear"),i.getMonth()!==o.getMonth()&&t3(e.datepicker,"changeMonth"),d){case 0:return n<v||n>S;case 1:return T!==p;default:return T<v||T>S}}function Lfe(e){return window.getComputedStyle(e).direction}var CFe=(function(){function e(n){Wk(this,e),this.datepicker=n;var o=lFe.replace(/%buttonClass%/g,n.config.buttonClass),i=this.element=tA(o).firstChild,c=z0(i.firstChild.children,3),d=c[0],p=c[1],v=c[2],S=d.firstElementChild,T=z0(d.lastElementChild.children,3),x=T[0],P=T[1],B=T[2],U=z0(v.firstChild.children,2),j=U[0],W=U[1],Z={title:S,prevBtn:x,viewSwitch:P,nextBtn:B,todayBtn:j,clearBtn:W};this.main=p,this.controls=Z;var re=n.inline?"inline":"dropdown";i.classList.add("datepicker-".concat(re)),re==="dropdown"&&i.classList.add("dropdown","absolute","top-0","left-0","z-50","pt-2"),oCe(this,n.config),this.viewDate=sCe(n),e0e(n,[[i,"click",SFe.bind(null,n),{capture:!0}],[p,"click",yFe.bind(null,n)],[Z.viewSwitch,"click",gFe.bind(null,n)],[Z.prevBtn,"click",vFe.bind(null,n)],[Z.nextBtn,"click",bFe.bind(null,n)],[Z.todayBtn,"click",pFe.bind(null,n)],[Z.clearBtn,"click",mFe.bind(null,n)]]),this.views=[new dFe(this),new hFe(this),new tCe(this,{id:2,name:"years",cellClass:"year",step:1}),new tCe(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[n.config.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),n.config.container.appendChild(this.element)}return Gk(e,[{key:"setOptions",value:function(o){oCe(this,o),this.views.forEach(function(i){i.init(o,!1)}),this.currentView.render()}},{key:"detach",value:function(){this.datepicker.config.container.removeChild(this.element)}},{key:"show",value:function(){if(!this.active){this.element.classList.add("active","block"),this.element.classList.remove("hidden"),this.active=!0;var o=this.datepicker;if(!o.inline){var i=Lfe(o.inputField);i!==Lfe(o.config.container)?this.element.dir=i:this.element.dir&&this.element.removeAttribute("dir"),this.place(),o.config.disableTouchKeyboard&&o.inputField.blur()}t3(o,"show")}}},{key:"hide",value:function(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active","block"),this.element.classList.add("active","block","hidden"),this.active=!1,t3(this.datepicker,"hide"))}},{key:"place",value:function(){var o=this.element,i=o.classList,c=o.style,d=this.datepicker,p=d.config,v=d.inputField,S=p.container,T=this.element.getBoundingClientRect(),x=T.width,P=T.height,B=S.getBoundingClientRect(),U=B.left,j=B.top,W=B.width,Z=v.getBoundingClientRect(),re=Z.left,le=Z.top,ie=Z.width,be=Z.height,Ce=p.orientation,Ae=Ce.x,F=Ce.y,Ie,tt,Xe;S===document.body?(Ie=window.scrollY,tt=re+window.scrollX,Xe=le+Ie):(Ie=S.scrollTop,tt=re-U,Xe=le-j+Ie),Ae==="auto"&&(tt<0?(Ae="left",tt=10):tt+x>W?Ae="right":Ae=Lfe(v)==="rtl"?"right":"left"),Ae==="right"&&(tt-=x-ie),F==="auto"&&(F=Xe-P<Ie?"bottom":"top"),F==="top"?Xe-=P:Xe+=be,i.remove("datepicker-orient-top","datepicker-orient-bottom","datepicker-orient-right","datepicker-orient-left"),i.add("datepicker-orient-".concat(F),"datepicker-orient-".concat(Ae)),c.top=Xe&&"".concat(Xe,"px"),c.left=tt&&"".concat(tt,"px")}},{key:"setViewSwitchLabel",value:function(o){this.controls.viewSwitch.textContent=o}},{key:"setPrevBtnDisabled",value:function(o){this.controls.prevBtn.disabled=o}},{key:"setNextBtnDisabled",value:function(o){this.controls.nextBtn.disabled=o}},{key:"changeView",value:function(o){var i=this.currentView,c=this.views[o];return c.id!==i.id&&(this.currentView=c,this._renderMethod="render",t3(this.datepicker,"changeView"),this.main.replaceChild(c.element,i.element)),this}},{key:"changeFocus",value:function(o){return this._renderMethod=rCe(this,o)?"render":"refreshFocus",this.views.forEach(function(i){i.updateFocus()}),this}},{key:"update",value:function(){var o=sCe(this.datepicker);return this._renderMethod=rCe(this,o)?"render":"refresh",this.views.forEach(function(i){i.updateFocus(),i.updateSelection()}),this}},{key:"render",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i=o&&this._renderMethod||"render";delete this._renderMethod,this.currentView[i]()}}])})();function uRe(e,n,o,i,c,d){if(Jbe(e,c,d)){if(i(e)){var p=n(e,o);return uRe(p,n,o,i,c,d)}return e}}function TY(e,n,o,i){var c=e.picker,d=c.currentView,p=d.step||1,v=c.viewDate,S,T;switch(d.id){case 0:i?v=QL(v,o*7):n.ctrlKey||n.metaKey?v=e3(v,o):v=QL(v,o),S=QL,T=function(P){return d.disabled.includes(P)};break;case 1:v=OJ(v,i?o*4:o),S=OJ,T=function(P){var B=new Date(P),U=d.year,j=d.disabled;return B.getFullYear()===U&&j.includes(B.getMonth())};break;default:v=e3(v,o*(i?4:1)*p),S=e3,T=function(P){return d.disabled.includes(B2(P,p))}}v=uRe(v,S,o<0?-p:p,T,d.minDate,d.maxDate),v!==void 0&&c.changeFocus(v).render()}function EFe(e,n){if(n.key==="Tab"){cRe(e);return}var o=e.picker,i=o.currentView,c=i.id,d=i.isMinView;if(o.active)if(e.editMode)switch(n.key){case"Escape":o.hide();break;case"Enter":e.exitEditMode({update:!0,autohide:e.config.autohide});break;default:return}else switch(n.key){case"Escape":o.hide();break;case"ArrowLeft":if(n.ctrlKey||n.metaKey)DJ(e,-1);else if(n.shiftKey){e.enterEditMode();return}else TY(e,n,-1,!1);break;case"ArrowRight":if(n.ctrlKey||n.metaKey)DJ(e,1);else if(n.shiftKey){e.enterEditMode();return}else TY(e,n,1,!1);break;case"ArrowUp":if(n.ctrlKey||n.metaKey)lRe(e);else if(n.shiftKey){e.enterEditMode();return}else TY(e,n,-1,!0);break;case"ArrowDown":if(n.shiftKey&&!n.ctrlKey&&!n.metaKey){e.enterEditMode();return}TY(e,n,1,!0);break;case"Enter":d?e.setDate(o.viewDate):o.changeView(c-1).render();break;case"Backspace":case"Delete":e.enterEditMode();return;default:n.key.length===1&&!n.ctrlKey&&!n.metaKey&&e.enterEditMode();return}else switch(n.key){case"ArrowDown":case"Escape":o.show();break;case"Enter":e.update();break;default:return}n.preventDefault(),n.stopPropagation()}function wFe(e){e.config.showOnFocus&&!e._showing&&e.show()}function _Fe(e,n){var o=n.target;(e.picker.active||e.config.showOnClick)&&(o._active=o===document.activeElement,o._clicking=setTimeout(function(){delete o._active,delete o._clicking},2e3))}function AFe(e,n){var o=n.target;o._clicking&&(clearTimeout(o._clicking),delete o._clicking,o._active&&e.enterEditMode(),delete o._active,e.config.showOnClick&&e.show())}function TFe(e,n){n.clipboardData.types.includes("text/plain")&&e.enterEditMode()}function xFe(e,n){var o=e.element;if(o===document.activeElement){var i=e.picker.element;aRe(n,function(c){return c===o||c===i})||cRe(e)}}function dRe(e,n){return e.map(function(o){return w6(o,n.format,n.locale)}).join(n.dateDelimiter)}function hRe(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=e.config,c=e.dates,d=e.rangepicker;if(n.length===0)return o?[]:void 0;var p=d&&e===d.datepickers[1],v=n.reduce(function(S,T){var x=E6(T,i.format,i.locale);if(x===void 0)return S;if(i.pickLevel>0){var P=new Date(x);i.pickLevel===1?x=p?P.setMonth(P.getMonth()+1,0):P.setDate(1):x=p?P.setFullYear(P.getFullYear()+1,0,0):P.setMonth(0,1)}return Jbe(x,i.minDate,i.maxDate)&&!S.includes(x)&&!i.datesDisabled.includes(x)&&!i.daysOfWeekDisabled.includes(new Date(x).getDay())&&S.push(x),S},[]);if(v.length!==0)return i.multidate&&!o&&(v=v.reduce(function(S,T){return c.includes(T)||S.push(T),S},c.filter(function(S){return!v.includes(S)}))),i.maxNumberOfDates&&v.length>i.maxNumberOfDates?v.slice(i.maxNumberOfDates*-1):v}function MJ(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=e.config,c=e.picker,d=e.inputField;if(n&2){var p=c.active?i.pickLevel:i.startView;c.update().changeView(p).render(o)}n&1&&d&&(d.value=dRe(e.dates,i))}function iCe(e,n,o){var i=o.clear,c=o.render,d=o.autohide;c===void 0&&(c=!0),c?d===void 0&&(d=e.config.autohide):d=!1;var p=hRe(e,n,i);p&&(p.toString()!==e.dates.toString()?(e.dates=p,MJ(e,c?3:1),t3(e,"changeDate")):MJ(e,1),d&&e.hide())}var bX=(function(){function e(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;Wk(this,e),n.datepicker=this,this.element=n;var c=this.config=Object.assign({buttonClass:o.buttonClass&&String(o.buttonClass)||"button",container:document.body,defaultViewDate:qk(),maxDate:void 0,minDate:void 0},Nfe(sz,this));this._options=o,Object.assign(c,Nfe(o,this));var d=this.inline=n.tagName!=="INPUT",p,v;if(d)c.container=n,v=Rfe(n.dataset.date,c.dateDelimiter),delete n.dataset.date;else{var S=o.container?document.querySelector(o.container):null;S&&(c.container=S),p=this.inputField=n,p.classList.add("datepicker-input"),v=Rfe(p.value,c.dateDelimiter)}if(i){var T=i.inputs.indexOf(p),x=i.datepickers;if(T<0||T>1||!Array.isArray(x))throw Error("Invalid rangepicker object.");x[T]=this,Object.defineProperty(this,"rangepicker",{get:function(){return i}})}this.dates=[];var P=hRe(this,v);P&&P.length>0&&(this.dates=P),p&&(p.value=dRe(this.dates,c));var B=this.picker=new CFe(this);if(d)this.show();else{var U=xFe.bind(null,this),j=[[p,"keydown",EFe.bind(null,this)],[p,"focus",wFe.bind(null,this)],[p,"mousedown",_Fe.bind(null,this)],[p,"click",AFe.bind(null,this)],[p,"paste",TFe.bind(null,this)],[document,"mousedown",U],[document,"touchstart",U],[window,"resize",B.place.bind(B)]];e0e(this,j)}}return Gk(e,[{key:"active",get:function(){return!!(this.picker&&this.picker.active)}},{key:"pickerElement",get:function(){return this.picker?this.picker.element:void 0}},{key:"setOptions",value:function(o){var i=this.picker,c=Nfe(o,this);Object.assign(this._options,o),Object.assign(this.config,c),i.setOptions(c),MJ(this,3)}},{key:"show",value:function(){if(this.inputField){if(this.inputField.disabled)return;this.inputField!==document.activeElement&&(this._showing=!0,this.inputField.focus(),delete this._showing)}this.picker.show()}},{key:"hide",value:function(){this.inline||(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}},{key:"destroy",value:function(){return this.hide(),rRe(this),this.picker.detach(),this.inline||this.inputField.classList.remove("datepicker-input"),delete this.element.datepicker,this}},{key:"getDate",value:function(){var o=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,c=i?function(d){return w6(d,i,o.config.locale)}:function(d){return new Date(d)};if(this.config.multidate)return this.dates.map(c);if(this.dates.length>0)return c(this.dates[0])}},{key:"setDate",value:function(){for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];var d=[].concat(i),p={},v=Xbe(i);xJ(v)==="object"&&!Array.isArray(v)&&!(v instanceof Date)&&v&&Object.assign(p,d.pop());var S=Array.isArray(d[0])?d[0]:d;iCe(this,S,p)}},{key:"update",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(!this.inline){var i={clear:!0,autohide:!!(o&&o.autohide)},c=Rfe(this.inputField.value,this.config.dateDelimiter);iCe(this,c,i)}}},{key:"refresh",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o&&typeof o!="string"&&(i=o,o=void 0);var c;o==="picker"?c=2:o==="input"?c=1:c=3,MJ(this,c,!i)}},{key:"enterEditMode",value:function(){this.inline||!this.picker.active||this.editMode||(this.editMode=!0,this.inputField.classList.add("in-edit","border-blue-700","!border-primary-700"))}},{key:"exitEditMode",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(!(this.inline||!this.editMode)){var i=Object.assign({update:!1},o);delete this.editMode,this.inputField.classList.remove("in-edit","border-blue-700","!border-primary-700"),i.update&&this.update(i)}}}],[{key:"formatDate",value:function(o,i,c){return w6(o,i,c&&i5[c]||i5.en)}},{key:"parseDate",value:function(o,i,c){return E6(o,i,c&&i5[c]||i5.en)}},{key:"locales",get:function(){return i5}}])})();function aCe(e){var n=Object.assign({},e);return delete n.inputs,delete n.allowOneSidedRange,delete n.maxNumberOfDates,n}function lCe(e,n,o,i){e0e(e,[[o,"changeDate",n]]),new bX(o,i,e)}function a5(e,n){if(!e._updating){e._updating=!0;var o=n.target;if(o.datepicker!==void 0){var i=e.datepickers,c={render:!1},d=e.inputs.indexOf(o),p=d===0?1:0,v=i[d].dates[0],S=i[p].dates[0];v!==void 0&&S!==void 0?d===0&&v>S?(i[0].setDate(S,c),i[1].setDate(v,c)):d===1&&v<S&&(i[0].setDate(v,c),i[1].setDate(S,c)):e.allowOneSidedRange||(v!==void 0||S!==void 0)&&(c.clear=!0,i[p].setDate(i[d].dates,c)),i[0].picker.update().render(),i[1].picker.update().render(),delete e._updating}}}var Bfe=(function(){function e(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Wk(this,e);var i=Array.isArray(o.inputs)?o.inputs:Array.from(n.querySelectorAll("input"));if(!(i.length<2)){n.rangepicker=this,this.element=n,this.inputs=i.slice(0,2),this.allowOneSidedRange=!!o.allowOneSidedRange;var c=a5.bind(null,this),d=aCe(o),p=[];Object.defineProperty(this,"datepickers",{get:function(){return p}}),lCe(this,c,this.inputs[0],d),lCe(this,c,this.inputs[1],d),Object.freeze(p),p[0].dates.length>0?a5(this,{target:this.inputs[0]}):p[1].dates.length>0&&a5(this,{target:this.inputs[1]})}}return Gk(e,[{key:"dates",get:function(){return this.datepickers.length===2?[this.datepickers[0].dates[0],this.datepickers[1].dates[0]]:void 0}},{key:"setOptions",value:function(o){this.allowOneSidedRange=!!o.allowOneSidedRange;var i=aCe(o);this.datepickers[0].setOptions(i),this.datepickers[1].setOptions(i)}},{key:"destroy",value:function(){this.datepickers[0].destroy(),this.datepickers[1].destroy(),rRe(this),delete this.element.rangepicker}},{key:"getDates",value:function(){var o=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,c=i?function(d){return w6(d,i,o.datepickers[0].config.locale)}:function(d){return new Date(d)};return this.dates.map(function(d){return d===void 0?d:c(d)})}},{key:"setDates",value:function(o,i){var c=z0(this.datepickers,2),d=c[0],p=c[1],v=this.dates;this._updating=!0,d.setDate(o),p.setDate(i),delete this._updating,p.dates[0]!==v[1]?a5(this,{target:this.inputs[1]}):d.dates[0]!==v[0]&&a5(this,{target:this.inputs[0]})}}])})(),PJ=function(){return PJ=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},PJ.apply(this,arguments)},Hy={defaultDatepickerId:null,autohide:!1,format:"mm/dd/yyyy",maxDate:null,minDate:null,orientation:"bottom",buttons:!1,autoSelectToday:0,title:null,language:"en",rangePicker:!1,onShow:function(){},onHide:function(){}},OFe={id:null,override:!0},fRe=(function(){function e(n,o,i){n===void 0&&(n=null),o===void 0&&(o=Hy),i===void 0&&(i=OFe),this._instanceId=i.id?i.id:n.id,this._datepickerEl=n,this._datepickerInstance=null,this._options=PJ(PJ({},Hy),o),this._initialized=!1,this.init(),Oa.addInstance("Datepicker",this,this._instanceId,i.override)}return e.prototype.init=function(){this._datepickerEl&&!this._initialized&&(this._options.rangePicker?this._datepickerInstance=new Bfe(this._datepickerEl,this._getDatepickerOptions(this._options)):this._datepickerInstance=new bX(this._datepickerEl,this._getDatepickerOptions(this._options)),this._initialized=!0)},e.prototype.destroy=function(){this._initialized&&(this._initialized=!1,this._datepickerInstance.destroy())},e.prototype.removeInstance=function(){this.destroy(),Oa.removeInstance("Datepicker",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getDatepickerInstance=function(){return this._datepickerInstance},e.prototype.getDate=function(){if(this._options.rangePicker&&this._datepickerInstance instanceof Bfe)return this._datepickerInstance.getDates();if(!this._options.rangePicker&&this._datepickerInstance instanceof bX)return this._datepickerInstance.getDate()},e.prototype.setDate=function(n){if(this._options.rangePicker&&this._datepickerInstance instanceof Bfe)return this._datepickerInstance.setDates(n);if(!this._options.rangePicker&&this._datepickerInstance instanceof bX)return this._datepickerInstance.setDate(n)},e.prototype.show=function(){this._datepickerInstance.show(),this._options.onShow(this)},e.prototype.hide=function(){this._datepickerInstance.hide(),this._options.onHide(this)},e.prototype._getDatepickerOptions=function(n){var o={};return n.buttons&&(o.todayBtn=!0,o.clearBtn=!0,n.autoSelectToday&&(o.todayBtnMode=1)),n.autohide&&(o.autohide=!0),n.format&&(o.format=n.format),n.maxDate&&(o.maxDate=n.maxDate),n.minDate&&(o.minDate=n.minDate),n.orientation&&(o.orientation=n.orientation),n.title&&(o.title=n.title),n.language&&(o.language=n.language),o},e.prototype.updateOnShow=function(n){this._options.onShow=n},e.prototype.updateOnHide=function(n){this._options.onHide=n},e})();function n0e(){document.querySelectorAll("[datepicker], [inline-datepicker], [date-rangepicker]").forEach(function(e){if(e){var n=e.hasAttribute("datepicker-buttons"),o=e.hasAttribute("datepicker-autoselect-today"),i=e.hasAttribute("datepicker-autohide"),c=e.getAttribute("datepicker-format"),d=e.getAttribute("datepicker-max-date"),p=e.getAttribute("datepicker-min-date"),v=e.getAttribute("datepicker-orientation"),S=e.getAttribute("datepicker-title"),T=e.getAttribute("datepicker-language"),x=e.hasAttribute("date-rangepicker");new fRe(e,{buttons:n||Hy.buttons,autoSelectToday:o||Hy.autoSelectToday,autohide:i||Hy.autohide,format:c||Hy.format,maxDate:d||Hy.maxDate,minDate:p||Hy.minDate,orientation:v||Hy.orientation,title:S||Hy.title,language:T||Hy.language,rangePicker:x||Hy.rangePicker})}else console.error("The datepicker element does not exist. Please check the datepicker attribute.")})}typeof window<"u"&&(window.Datepicker=fRe,window.initDatepickers=n0e);function IFe(){Obe(),Ibe(),Rbe(),kbe(),Hbe(),$be(),Ube(),zbe(),jbe(),Wbe(),Gbe(),qbe(),Zbe(),n0e()}typeof window<"u"&&(window.initFlowbite=IFe);var RFe=new wBe("load",[Obe,Ibe,Rbe,kbe,Hbe,$be,Ube,zbe,jbe,Wbe,Gbe,qbe,Zbe,n0e]);RFe.init();function o0e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function pXe(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var o=function i(){return this instanceof i?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};o.prototype=n.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var c=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(o,i,c.get?c:{enumerable:!0,get:function(){return e[i]}})}),o}function kFe(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var pRe;function Os(){return pRe.apply(null,arguments)}function DFe(e){pRe=e}function xS(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function fk(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Il(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function s0e(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var n;for(n in e)if(Il(e,n))return!1;return!0}function xb(e){return e===void 0}function nA(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function rz(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function mRe(e,n){var o=[],i,c=e.length;for(i=0;i<c;++i)o.push(n(e[i],i));return o}function tO(e,n){for(var o in n)Il(n,o)&&(e[o]=n[o]);return Il(n,"toString")&&(e.toString=n.toString),Il(n,"valueOf")&&(e.valueOf=n.valueOf),e}function TE(e,n,o,i){return VRe(e,n,o,i,!0).utc()}function MFe(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ha(e){return e._pf==null&&(e._pf=MFe()),e._pf}var Mme;Array.prototype.some?Mme=Array.prototype.some:Mme=function(e){var n=Object(this),o=n.length>>>0,i;for(i=0;i<o;i++)if(i in n&&e.call(this,n[i],i,n))return!0;return!1};function r0e(e){var n=null,o=!1,i=e._d&&!isNaN(e._d.getTime());if(i&&(n=ha(e),o=Mme.call(n.parsedDateParts,function(c){return c!=null}),i=n.overflow<0&&!n.empty&&!n.invalidEra&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&o),e._strict&&(i=i&&n.charsLeftOver===0&&n.unusedTokens.length===0&&n.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=i;else return i;return e._isValid}function bee(e){var n=TE(NaN);return e!=null?tO(ha(n),e):ha(n).userInvalidated=!0,n}var cCe=Os.momentProperties=[],Vfe=!1;function i0e(e,n){var o,i,c,d=cCe.length;if(xb(n._isAMomentObject)||(e._isAMomentObject=n._isAMomentObject),xb(n._i)||(e._i=n._i),xb(n._f)||(e._f=n._f),xb(n._l)||(e._l=n._l),xb(n._strict)||(e._strict=n._strict),xb(n._tzm)||(e._tzm=n._tzm),xb(n._isUTC)||(e._isUTC=n._isUTC),xb(n._offset)||(e._offset=n._offset),xb(n._pf)||(e._pf=ha(n)),xb(n._locale)||(e._locale=n._locale),d>0)for(o=0;o<d;o++)i=cCe[o],c=n[i],xb(c)||(e[i]=c);return e}function iz(e){i0e(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Vfe===!1&&(Vfe=!0,Os.updateOffset(this),Vfe=!1)}function OS(e){return e instanceof iz||e!=null&&e._isAMomentObject!=null}function gRe(e){Os.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function e1(e,n){var o=!0;return tO(function(){if(Os.deprecationHandler!=null&&Os.deprecationHandler(null,e),o){var i=[],c,d,p,v=arguments.length;for(d=0;d<v;d++){if(c="",typeof arguments[d]=="object"){c+=`
[`+d+"] ";for(p in arguments[0])Il(arguments[0],p)&&(c+=p+": "+arguments[0][p]+", ");c=c.slice(0,-2)}else c=arguments[d];i.push(c)}gRe(e+`
Arguments: `+Array.prototype.slice.call(i).join("")+`
`+new Error().stack),o=!1}return n.apply(this,arguments)},n)}var uCe={};function vRe(e,n){Os.deprecationHandler!=null&&Os.deprecationHandler(e,n),uCe[e]||(gRe(n),uCe[e]=!0)}Os.suppressDeprecationWarnings=!1;Os.deprecationHandler=null;function xE(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function PFe(e){var n,o;for(o in e)Il(e,o)&&(n=e[o],xE(n)?this[o]=n:this["_"+o]=n);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Pme(e,n){var o=tO({},e),i;for(i in n)Il(n,i)&&(fk(e[i])&&fk(n[i])?(o[i]={},tO(o[i],e[i]),tO(o[i],n[i])):n[i]!=null?o[i]=n[i]:delete o[i]);for(i in e)Il(e,i)&&!Il(n,i)&&fk(e[i])&&(o[i]=tO({},o[i]));return o}function a0e(e){e!=null&&this.set(e)}var Nme;Object.keys?Nme=Object.keys:Nme=function(e){var n,o=[];for(n in e)Il(e,n)&&o.push(n);return o};var NFe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function LFe(e,n,o){var i=this._calendar[e]||this._calendar.sameElse;return xE(i)?i.call(n,o):i}function _E(e,n,o){var i=""+Math.abs(e),c=n-i.length,d=e>=0;return(d?o?"+":"":"-")+Math.pow(10,Math.max(0,c)).toString().substr(1)+i}var l0e=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,xY=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ffe={},n3={};function $r(e,n,o,i){var c=i;typeof i=="string"&&(c=function(){return this[i]()}),e&&(n3[e]=c),n&&(n3[n[0]]=function(){return _E(c.apply(this,arguments),n[1],n[2])}),o&&(n3[o]=function(){return this.localeData().ordinal(c.apply(this,arguments),e)})}function BFe(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function VFe(e){var n=e.match(l0e),o,i;for(o=0,i=n.length;o<i;o++)n3[n[o]]?n[o]=n3[n[o]]:n[o]=BFe(n[o]);return function(c){var d="",p;for(p=0;p<i;p++)d+=xE(n[p])?n[p].call(c,e):n[p];return d}}function yX(e,n){return e.isValid()?(n=bRe(n,e.localeData()),Ffe[n]=Ffe[n]||VFe(n),Ffe[n](e)):e.localeData().invalidDate()}function bRe(e,n){var o=5;function i(c){return n.longDateFormat(c)||c}for(xY.lastIndex=0;o>=0&&xY.test(e);)e=e.replace(xY,i),xY.lastIndex=0,o-=1;return e}var FFe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function HFe(e){var n=this._longDateFormat[e],o=this._longDateFormat[e.toUpperCase()];return n||!o?n:(this._longDateFormat[e]=o.match(l0e).map(function(i){return i==="MMMM"||i==="MM"||i==="DD"||i==="dddd"?i.slice(1):i}).join(""),this._longDateFormat[e])}var $Fe="Invalid date";function UFe(){return this._invalidDate}var zFe="%d",jFe=/\d{1,2}/;function WFe(e){return this._ordinal.replace("%d",e)}var GFe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function qFe(e,n,o,i){var c=this._relativeTime[o];return xE(c)?c(e,n,o,i):c.replace(/%d/i,e)}function ZFe(e,n){var o=this._relativeTime[e>0?"future":"past"];return xE(o)?o(n):o.replace(/%s/i,n)}var dCe={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function t1(e){return typeof e=="string"?dCe[e]||dCe[e.toLowerCase()]:void 0}function c0e(e){var n={},o,i;for(i in e)Il(e,i)&&(o=t1(i),o&&(n[o]=e[i]));return n}var KFe={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function YFe(e){var n=[],o;for(o in e)Il(e,o)&&n.push({unit:o,priority:KFe[o]});return n.sort(function(i,c){return i.priority-c.priority}),n}var yRe=/\d/,Z0=/\d\d/,SRe=/\d{3}/,u0e=/\d{4}/,yee=/[+-]?\d{6}/,Tu=/\d\d?/,CRe=/\d\d\d\d?/,ERe=/\d\d\d\d\d\d?/,See=/\d{1,3}/,d0e=/\d{1,4}/,Cee=/[+-]?\d{1,6}/,t4=/\d+/,Eee=/[+-]?\d+/,XFe=/Z|[+-]\d\d:?\d\d/gi,wee=/Z|[+-]\d\d(?::?\d\d)?/gi,JFe=/[+-]?\d+(\.\d{1,3})?/,az=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,n4=/^[1-9]\d?/,h0e=/^([1-9]\d|\d)/,NJ;NJ={};function cr(e,n,o){NJ[e]=xE(n)?n:function(i,c){return i&&o?o:n}}function QFe(e,n){return Il(NJ,e)?NJ[e](n._strict,n._locale):new RegExp(eHe(e))}function eHe(e){return j_(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(n,o,i,c,d){return o||i||c||d}))}function j_(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function zy(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function za(e){var n=+e,o=0;return n!==0&&isFinite(n)&&(o=zy(n)),o}var Lme={};function Ic(e,n){var o,i=n,c;for(typeof e=="string"&&(e=[e]),nA(n)&&(i=function(d,p){p[n]=za(d)}),c=e.length,o=0;o<c;o++)Lme[e[o]]=i}function lz(e,n){Ic(e,function(o,i,c,d){c._w=c._w||{},n(o,c._w,c,d)})}function tHe(e,n,o){n!=null&&Il(Lme,e)&&Lme[e](n,o._a,o,e)}function _ee(e){return e%4===0&&e%100!==0||e%400===0}var _g=0,U_=1,mE=2,Kf=3,ES=4,z_=5,ek=6,nHe=7,oHe=8;$r("Y",0,0,function(){var e=this.year();return e<=9999?_E(e,4):"+"+e});$r(0,["YY",2],0,function(){return this.year()%100});$r(0,["YYYY",4],0,"year");$r(0,["YYYYY",5],0,"year");$r(0,["YYYYYY",6,!0],0,"year");cr("Y",Eee);cr("YY",Tu,Z0);cr("YYYY",d0e,u0e);cr("YYYYY",Cee,yee);cr("YYYYYY",Cee,yee);Ic(["YYYYY","YYYYYY"],_g);Ic("YYYY",function(e,n){n[_g]=e.length===2?Os.parseTwoDigitYear(e):za(e)});Ic("YY",function(e,n){n[_g]=Os.parseTwoDigitYear(e)});Ic("Y",function(e,n){n[_g]=parseInt(e,10)});function Y5(e){return _ee(e)?366:365}Os.parseTwoDigitYear=function(e){return za(e)+(za(e)>68?1900:2e3)};var wRe=o4("FullYear",!0);function sHe(){return _ee(this.year())}function o4(e,n){return function(o){return o!=null?(_Re(this,e,o),Os.updateOffset(this,n),this):_6(this,e)}}function _6(e,n){if(!e.isValid())return NaN;var o=e._d,i=e._isUTC;switch(n){case"Milliseconds":return i?o.getUTCMilliseconds():o.getMilliseconds();case"Seconds":return i?o.getUTCSeconds():o.getSeconds();case"Minutes":return i?o.getUTCMinutes():o.getMinutes();case"Hours":return i?o.getUTCHours():o.getHours();case"Date":return i?o.getUTCDate():o.getDate();case"Day":return i?o.getUTCDay():o.getDay();case"Month":return i?o.getUTCMonth():o.getMonth();case"FullYear":return i?o.getUTCFullYear():o.getFullYear();default:return NaN}}function _Re(e,n,o){var i,c,d,p,v;if(!(!e.isValid()||isNaN(o))){switch(i=e._d,c=e._isUTC,n){case"Milliseconds":return void(c?i.setUTCMilliseconds(o):i.setMilliseconds(o));case"Seconds":return void(c?i.setUTCSeconds(o):i.setSeconds(o));case"Minutes":return void(c?i.setUTCMinutes(o):i.setMinutes(o));case"Hours":return void(c?i.setUTCHours(o):i.setHours(o));case"Date":return void(c?i.setUTCDate(o):i.setDate(o));case"FullYear":break;default:return}d=o,p=e.month(),v=e.date(),v=v===29&&p===1&&!_ee(d)?28:v,c?i.setUTCFullYear(d,p,v):i.setFullYear(d,p,v)}}function rHe(e){return e=t1(e),xE(this[e])?this[e]():this}function iHe(e,n){if(typeof e=="object"){e=c0e(e);var o=YFe(e),i,c=o.length;for(i=0;i<c;i++)this[o[i].unit](e[o[i].unit])}else if(e=t1(e),xE(this[e]))return this[e](n);return this}function aHe(e,n){return(e%n+n)%n}var Dh;Array.prototype.indexOf?Dh=Array.prototype.indexOf:Dh=function(e){var n;for(n=0;n<this.length;++n)if(this[n]===e)return n;return-1};function f0e(e,n){if(isNaN(e)||isNaN(n))return NaN;var o=aHe(n,12);return e+=(n-o)/12,o===1?_ee(e)?29:28:31-o%7%2}$r("M",["MM",2],"Mo",function(){return this.month()+1});$r("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});$r("MMMM",0,0,function(e){return this.localeData().months(this,e)});cr("M",Tu,n4);cr("MM",Tu,Z0);cr("MMM",function(e,n){return n.monthsShortRegex(e)});cr("MMMM",function(e,n){return n.monthsRegex(e)});Ic(["M","MM"],function(e,n){n[U_]=za(e)-1});Ic(["MMM","MMMM"],function(e,n,o,i){var c=o._locale.monthsParse(e,i,o._strict);c!=null?n[U_]=c:ha(o).invalidMonth=e});var lHe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ARe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),TRe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,cHe=az,uHe=az;function dHe(e,n){return e?xS(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||TRe).test(n)?"format":"standalone"][e.month()]:xS(this._months)?this._months:this._months.standalone}function hHe(e,n){return e?xS(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[TRe.test(n)?"format":"standalone"][e.month()]:xS(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function fHe(e,n,o){var i,c,d,p=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)d=TE([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(d,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(d,"").toLocaleLowerCase();return o?n==="MMM"?(c=Dh.call(this._shortMonthsParse,p),c!==-1?c:null):(c=Dh.call(this._longMonthsParse,p),c!==-1?c:null):n==="MMM"?(c=Dh.call(this._shortMonthsParse,p),c!==-1?c:(c=Dh.call(this._longMonthsParse,p),c!==-1?c:null)):(c=Dh.call(this._longMonthsParse,p),c!==-1?c:(c=Dh.call(this._shortMonthsParse,p),c!==-1?c:null))}function pHe(e,n,o){var i,c,d;if(this._monthsParseExact)return fHe.call(this,e,n,o);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(c=TE([2e3,i]),o&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(c,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(c,"").replace(".","")+"$","i")),!o&&!this._monthsParse[i]&&(d="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[i]=new RegExp(d.replace(".",""),"i")),o&&n==="MMMM"&&this._longMonthsParse[i].test(e))return i;if(o&&n==="MMM"&&this._shortMonthsParse[i].test(e))return i;if(!o&&this._monthsParse[i].test(e))return i}}function xRe(e,n){if(!e.isValid())return e;if(typeof n=="string"){if(/^\d+$/.test(n))n=za(n);else if(n=e.localeData().monthsParse(n),!nA(n))return e}var o=n,i=e.date();return i=i<29?i:Math.min(i,f0e(e.year(),o)),e._isUTC?e._d.setUTCMonth(o,i):e._d.setMonth(o,i),e}function ORe(e){return e!=null?(xRe(this,e),Os.updateOffset(this,!0),this):_6(this,"Month")}function mHe(){return f0e(this.year(),this.month())}function gHe(e){return this._monthsParseExact?(Il(this,"_monthsRegex")||IRe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Il(this,"_monthsShortRegex")||(this._monthsShortRegex=cHe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function vHe(e){return this._monthsParseExact?(Il(this,"_monthsRegex")||IRe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Il(this,"_monthsRegex")||(this._monthsRegex=uHe),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function IRe(){function e(S,T){return T.length-S.length}var n=[],o=[],i=[],c,d,p,v;for(c=0;c<12;c++)d=TE([2e3,c]),p=j_(this.monthsShort(d,"")),v=j_(this.months(d,"")),n.push(p),o.push(v),i.push(v),i.push(p);n.sort(e),o.sort(e),i.sort(e),this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function bHe(e,n,o,i,c,d,p){var v;return e<100&&e>=0?(v=new Date(e+400,n,o,i,c,d,p),isFinite(v.getFullYear())&&v.setFullYear(e)):v=new Date(e,n,o,i,c,d,p),v}function A6(e){var n,o;return e<100&&e>=0?(o=Array.prototype.slice.call(arguments),o[0]=e+400,n=new Date(Date.UTC.apply(null,o)),isFinite(n.getUTCFullYear())&&n.setUTCFullYear(e)):n=new Date(Date.UTC.apply(null,arguments)),n}function LJ(e,n,o){var i=7+n-o,c=(7+A6(e,0,i).getUTCDay()-n)%7;return-c+i-1}function RRe(e,n,o,i,c){var d=(7+o-i)%7,p=LJ(e,i,c),v=1+7*(n-1)+d+p,S,T;return v<=0?(S=e-1,T=Y5(S)+v):v>Y5(e)?(S=e+1,T=v-Y5(e)):(S=e,T=v),{year:S,dayOfYear:T}}function T6(e,n,o){var i=LJ(e.year(),n,o),c=Math.floor((e.dayOfYear()-i-1)/7)+1,d,p;return c<1?(p=e.year()-1,d=c+W_(p,n,o)):c>W_(e.year(),n,o)?(d=c-W_(e.year(),n,o),p=e.year()+1):(p=e.year(),d=c),{week:d,year:p}}function W_(e,n,o){var i=LJ(e,n,o),c=LJ(e+1,n,o);return(Y5(e)-i+c)/7}$r("w",["ww",2],"wo","week");$r("W",["WW",2],"Wo","isoWeek");cr("w",Tu,n4);cr("ww",Tu,Z0);cr("W",Tu,n4);cr("WW",Tu,Z0);lz(["w","ww","W","WW"],function(e,n,o,i){n[i.substr(0,1)]=za(e)});function yHe(e){return T6(e,this._week.dow,this._week.doy).week}var SHe={dow:0,doy:6};function CHe(){return this._week.dow}function EHe(){return this._week.doy}function wHe(e){var n=this.localeData().week(this);return e==null?n:this.add((e-n)*7,"d")}function _He(e){var n=T6(this,1,4).week;return e==null?n:this.add((e-n)*7,"d")}$r("d",0,"do","day");$r("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});$r("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});$r("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});$r("e",0,0,"weekday");$r("E",0,0,"isoWeekday");cr("d",Tu);cr("e",Tu);cr("E",Tu);cr("dd",function(e,n){return n.weekdaysMinRegex(e)});cr("ddd",function(e,n){return n.weekdaysShortRegex(e)});cr("dddd",function(e,n){return n.weekdaysRegex(e)});lz(["dd","ddd","dddd"],function(e,n,o,i){var c=o._locale.weekdaysParse(e,i,o._strict);c!=null?n.d=c:ha(o).invalidWeekday=e});lz(["d","e","E"],function(e,n,o,i){n[i]=za(e)});function AHe(e,n){return typeof e!="string"?e:isNaN(e)?(e=n.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function THe(e,n){return typeof e=="string"?n.weekdaysParse(e)%7||7:isNaN(e)?null:e}function p0e(e,n){return e.slice(n,7).concat(e.slice(0,n))}var xHe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),kRe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),OHe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),IHe=az,RHe=az,kHe=az;function DHe(e,n){var o=xS(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(n)?"format":"standalone"];return e===!0?p0e(o,this._week.dow):e?o[e.day()]:o}function MHe(e){return e===!0?p0e(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function PHe(e){return e===!0?p0e(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function NHe(e,n,o){var i,c,d,p=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)d=TE([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(d,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(d,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(d,"").toLocaleLowerCase();return o?n==="dddd"?(c=Dh.call(this._weekdaysParse,p),c!==-1?c:null):n==="ddd"?(c=Dh.call(this._shortWeekdaysParse,p),c!==-1?c:null):(c=Dh.call(this._minWeekdaysParse,p),c!==-1?c:null):n==="dddd"?(c=Dh.call(this._weekdaysParse,p),c!==-1||(c=Dh.call(this._shortWeekdaysParse,p),c!==-1)?c:(c=Dh.call(this._minWeekdaysParse,p),c!==-1?c:null)):n==="ddd"?(c=Dh.call(this._shortWeekdaysParse,p),c!==-1||(c=Dh.call(this._weekdaysParse,p),c!==-1)?c:(c=Dh.call(this._minWeekdaysParse,p),c!==-1?c:null)):(c=Dh.call(this._minWeekdaysParse,p),c!==-1||(c=Dh.call(this._weekdaysParse,p),c!==-1)?c:(c=Dh.call(this._shortWeekdaysParse,p),c!==-1?c:null))}function LHe(e,n,o){var i,c,d;if(this._weekdaysParseExact)return NHe.call(this,e,n,o);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(c=TE([2e3,1]).day(i),o&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(c,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(c,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(c,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[i]=new RegExp(d.replace(".",""),"i")),o&&n==="dddd"&&this._fullWeekdaysParse[i].test(e))return i;if(o&&n==="ddd"&&this._shortWeekdaysParse[i].test(e))return i;if(o&&n==="dd"&&this._minWeekdaysParse[i].test(e))return i;if(!o&&this._weekdaysParse[i].test(e))return i}}function BHe(e){if(!this.isValid())return e!=null?this:NaN;var n=_6(this,"Day");return e!=null?(e=AHe(e,this.localeData()),this.add(e-n,"d")):n}function VHe(e){if(!this.isValid())return e!=null?this:NaN;var n=(this.day()+7-this.localeData()._week.dow)%7;return e==null?n:this.add(e-n,"d")}function FHe(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var n=THe(e,this.localeData());return this.day(this.day()%7?n:n-7)}else return this.day()||7}function HHe(e){return this._weekdaysParseExact?(Il(this,"_weekdaysRegex")||m0e.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Il(this,"_weekdaysRegex")||(this._weekdaysRegex=IHe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function $He(e){return this._weekdaysParseExact?(Il(this,"_weekdaysRegex")||m0e.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Il(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=RHe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function UHe(e){return this._weekdaysParseExact?(Il(this,"_weekdaysRegex")||m0e.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Il(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=kHe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function m0e(){function e(x,P){return P.length-x.length}var n=[],o=[],i=[],c=[],d,p,v,S,T;for(d=0;d<7;d++)p=TE([2e3,1]).day(d),v=j_(this.weekdaysMin(p,"")),S=j_(this.weekdaysShort(p,"")),T=j_(this.weekdays(p,"")),n.push(v),o.push(S),i.push(T),c.push(v),c.push(S),c.push(T);n.sort(e),o.sort(e),i.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+n.join("|")+")","i")}function g0e(){return this.hours()%12||12}function zHe(){return this.hours()||24}$r("H",["HH",2],0,"hour");$r("h",["hh",2],0,g0e);$r("k",["kk",2],0,zHe);$r("hmm",0,0,function(){return""+g0e.apply(this)+_E(this.minutes(),2)});$r("hmmss",0,0,function(){return""+g0e.apply(this)+_E(this.minutes(),2)+_E(this.seconds(),2)});$r("Hmm",0,0,function(){return""+this.hours()+_E(this.minutes(),2)});$r("Hmmss",0,0,function(){return""+this.hours()+_E(this.minutes(),2)+_E(this.seconds(),2)});function DRe(e,n){$r(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),n)})}DRe("a",!0);DRe("A",!1);function MRe(e,n){return n._meridiemParse}cr("a",MRe);cr("A",MRe);cr("H",Tu,h0e);cr("h",Tu,n4);cr("k",Tu,n4);cr("HH",Tu,Z0);cr("hh",Tu,Z0);cr("kk",Tu,Z0);cr("hmm",CRe);cr("hmmss",ERe);cr("Hmm",CRe);cr("Hmmss",ERe);Ic(["H","HH"],Kf);Ic(["k","kk"],function(e,n,o){var i=za(e);n[Kf]=i===24?0:i});Ic(["a","A"],function(e,n,o){o._isPm=o._locale.isPM(e),o._meridiem=e});Ic(["h","hh"],function(e,n,o){n[Kf]=za(e),ha(o).bigHour=!0});Ic("hmm",function(e,n,o){var i=e.length-2;n[Kf]=za(e.substr(0,i)),n[ES]=za(e.substr(i)),ha(o).bigHour=!0});Ic("hmmss",function(e,n,o){var i=e.length-4,c=e.length-2;n[Kf]=za(e.substr(0,i)),n[ES]=za(e.substr(i,2)),n[z_]=za(e.substr(c)),ha(o).bigHour=!0});Ic("Hmm",function(e,n,o){var i=e.length-2;n[Kf]=za(e.substr(0,i)),n[ES]=za(e.substr(i))});Ic("Hmmss",function(e,n,o){var i=e.length-4,c=e.length-2;n[Kf]=za(e.substr(0,i)),n[ES]=za(e.substr(i,2)),n[z_]=za(e.substr(c))});function jHe(e){return(e+"").toLowerCase().charAt(0)==="p"}var WHe=/[ap]\.?m?\.?/i,GHe=o4("Hours",!0);function qHe(e,n,o){return e>11?o?"pm":"PM":o?"am":"AM"}var PRe={calendar:NFe,longDateFormat:FFe,invalidDate:$Fe,ordinal:zFe,dayOfMonthOrdinalParse:jFe,relativeTime:GFe,months:lHe,monthsShort:ARe,week:SHe,weekdays:xHe,weekdaysMin:OHe,weekdaysShort:kRe,meridiemParse:WHe},Ju={},l5={},x6;function ZHe(e,n){var o,i=Math.min(e.length,n.length);for(o=0;o<i;o+=1)if(e[o]!==n[o])return o;return i}function hCe(e){return e&&e.toLowerCase().replace("_","-")}function KHe(e){for(var n=0,o,i,c,d;n<e.length;){for(d=hCe(e[n]).split("-"),o=d.length,i=hCe(e[n+1]),i=i?i.split("-"):null;o>0;){if(c=Aee(d.slice(0,o).join("-")),c)return c;if(i&&i.length>=o&&ZHe(d,i)>=o-1)break;o--}n++}return x6}function YHe(e){return!!(e&&e.match("^[^/\\\\]*$"))}function Aee(e){var n=null,o;if(Ju[e]===void 0&&typeof module<"u"&&module&&module.exports&&YHe(e))try{n=x6._abbr,o=kFe,o("./locale/"+e),fO(n)}catch{Ju[e]=null}return Ju[e]}function fO(e,n){var o;return e&&(xb(n)?o=lA(e):o=v0e(e,n),o?x6=o:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),x6._abbr}function v0e(e,n){if(n!==null){var o,i=PRe;if(n.abbr=e,Ju[e]!=null)vRe("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Ju[e]._config;else if(n.parentLocale!=null)if(Ju[n.parentLocale]!=null)i=Ju[n.parentLocale]._config;else if(o=Aee(n.parentLocale),o!=null)i=o._config;else return l5[n.parentLocale]||(l5[n.parentLocale]=[]),l5[n.parentLocale].push({name:e,config:n}),null;return Ju[e]=new a0e(Pme(i,n)),l5[e]&&l5[e].forEach(function(c){v0e(c.name,c.config)}),fO(e),Ju[e]}else return delete Ju[e],null}function XHe(e,n){if(n!=null){var o,i,c=PRe;Ju[e]!=null&&Ju[e].parentLocale!=null?Ju[e].set(Pme(Ju[e]._config,n)):(i=Aee(e),i!=null&&(c=i._config),n=Pme(c,n),i==null&&(n.abbr=e),o=new a0e(n),o.parentLocale=Ju[e],Ju[e]=o),fO(e)}else Ju[e]!=null&&(Ju[e].parentLocale!=null?(Ju[e]=Ju[e].parentLocale,e===fO()&&fO(e)):Ju[e]!=null&&delete Ju[e]);return Ju[e]}function lA(e){var n;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return x6;if(!xS(e)){if(n=Aee(e),n)return n;e=[e]}return KHe(e)}function JHe(){return Nme(Ju)}function b0e(e){var n,o=e._a;return o&&ha(e).overflow===-2&&(n=o[U_]<0||o[U_]>11?U_:o[mE]<1||o[mE]>f0e(o[_g],o[U_])?mE:o[Kf]<0||o[Kf]>24||o[Kf]===24&&(o[ES]!==0||o[z_]!==0||o[ek]!==0)?Kf:o[ES]<0||o[ES]>59?ES:o[z_]<0||o[z_]>59?z_:o[ek]<0||o[ek]>999?ek:-1,ha(e)._overflowDayOfYear&&(n<_g||n>mE)&&(n=mE),ha(e)._overflowWeeks&&n===-1&&(n=nHe),ha(e)._overflowWeekday&&n===-1&&(n=oHe),ha(e).overflow=n),e}var QHe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,e$e=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,t$e=/Z|[+-]\d\d(?::?\d\d)?/,OY=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Hfe=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],n$e=/^\/?Date\((-?\d+)/i,o$e=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,s$e={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function NRe(e){var n,o,i=e._i,c=QHe.exec(i)||e$e.exec(i),d,p,v,S,T=OY.length,x=Hfe.length;if(c){for(ha(e).iso=!0,n=0,o=T;n<o;n++)if(OY[n][1].exec(c[1])){p=OY[n][0],d=OY[n][2]!==!1;break}if(p==null){e._isValid=!1;return}if(c[3]){for(n=0,o=x;n<o;n++)if(Hfe[n][1].exec(c[3])){v=(c[2]||" ")+Hfe[n][0];break}if(v==null){e._isValid=!1;return}}if(!d&&v!=null){e._isValid=!1;return}if(c[4])if(t$e.exec(c[4]))S="Z";else{e._isValid=!1;return}e._f=p+(v||"")+(S||""),S0e(e)}else e._isValid=!1}function r$e(e,n,o,i,c,d){var p=[i$e(e),ARe.indexOf(n),parseInt(o,10),parseInt(i,10),parseInt(c,10)];return d&&p.push(parseInt(d,10)),p}function i$e(e){var n=parseInt(e,10);return n<=49?2e3+n:n<=999?1900+n:n}function a$e(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function l$e(e,n,o){if(e){var i=kRe.indexOf(e),c=new Date(n[0],n[1],n[2]).getDay();if(i!==c)return ha(o).weekdayMismatch=!0,o._isValid=!1,!1}return!0}function c$e(e,n,o){if(e)return s$e[e];if(n)return 0;var i=parseInt(o,10),c=i%100,d=(i-c)/100;return d*60+c}function LRe(e){var n=o$e.exec(a$e(e._i)),o;if(n){if(o=r$e(n[4],n[3],n[2],n[5],n[6],n[7]),!l$e(n[1],o,e))return;e._a=o,e._tzm=c$e(n[8],n[9],n[10]),e._d=A6.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),ha(e).rfc2822=!0}else e._isValid=!1}function u$e(e){var n=n$e.exec(e._i);if(n!==null){e._d=new Date(+n[1]);return}if(NRe(e),e._isValid===!1)delete e._isValid;else return;if(LRe(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Os.createFromInputFallback(e)}Os.createFromInputFallback=e1("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function LL(e,n,o){return e??n??o}function d$e(e){var n=new Date(Os.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function y0e(e){var n,o,i=[],c,d,p;if(!e._d){for(c=d$e(e),e._w&&e._a[mE]==null&&e._a[U_]==null&&h$e(e),e._dayOfYear!=null&&(p=LL(e._a[_g],c[_g]),(e._dayOfYear>Y5(p)||e._dayOfYear===0)&&(ha(e)._overflowDayOfYear=!0),o=A6(p,0,e._dayOfYear),e._a[U_]=o.getUTCMonth(),e._a[mE]=o.getUTCDate()),n=0;n<3&&e._a[n]==null;++n)e._a[n]=i[n]=c[n];for(;n<7;n++)e._a[n]=i[n]=e._a[n]==null?n===2?1:0:e._a[n];e._a[Kf]===24&&e._a[ES]===0&&e._a[z_]===0&&e._a[ek]===0&&(e._nextDay=!0,e._a[Kf]=0),e._d=(e._useUTC?A6:bHe).apply(null,i),d=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Kf]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==d&&(ha(e).weekdayMismatch=!0)}}function h$e(e){var n,o,i,c,d,p,v,S,T;n=e._w,n.GG!=null||n.W!=null||n.E!=null?(d=1,p=4,o=LL(n.GG,e._a[_g],T6(Au(),1,4).year),i=LL(n.W,1),c=LL(n.E,1),(c<1||c>7)&&(S=!0)):(d=e._locale._week.dow,p=e._locale._week.doy,T=T6(Au(),d,p),o=LL(n.gg,e._a[_g],T.year),i=LL(n.w,T.week),n.d!=null?(c=n.d,(c<0||c>6)&&(S=!0)):n.e!=null?(c=n.e+d,(n.e<0||n.e>6)&&(S=!0)):c=d),i<1||i>W_(o,d,p)?ha(e)._overflowWeeks=!0:S!=null?ha(e)._overflowWeekday=!0:(v=RRe(o,i,c,d,p),e._a[_g]=v.year,e._dayOfYear=v.dayOfYear)}Os.ISO_8601=function(){};Os.RFC_2822=function(){};function S0e(e){if(e._f===Os.ISO_8601){NRe(e);return}if(e._f===Os.RFC_2822){LRe(e);return}e._a=[],ha(e).empty=!0;var n=""+e._i,o,i,c,d,p,v=n.length,S=0,T,x;for(c=bRe(e._f,e._locale).match(l0e)||[],x=c.length,o=0;o<x;o++)d=c[o],i=(n.match(QFe(d,e))||[])[0],i&&(p=n.substr(0,n.indexOf(i)),p.length>0&&ha(e).unusedInput.push(p),n=n.slice(n.indexOf(i)+i.length),S+=i.length),n3[d]?(i?ha(e).empty=!1:ha(e).unusedTokens.push(d),tHe(d,i,e)):e._strict&&!i&&ha(e).unusedTokens.push(d);ha(e).charsLeftOver=v-S,n.length>0&&ha(e).unusedInput.push(n),e._a[Kf]<=12&&ha(e).bigHour===!0&&e._a[Kf]>0&&(ha(e).bigHour=void 0),ha(e).parsedDateParts=e._a.slice(0),ha(e).meridiem=e._meridiem,e._a[Kf]=f$e(e._locale,e._a[Kf],e._meridiem),T=ha(e).era,T!==null&&(e._a[_g]=e._locale.erasConvertYear(T,e._a[_g])),y0e(e),b0e(e)}function f$e(e,n,o){var i;return o==null?n:e.meridiemHour!=null?e.meridiemHour(n,o):(e.isPM!=null&&(i=e.isPM(o),i&&n<12&&(n+=12),!i&&n===12&&(n=0)),n)}function p$e(e){var n,o,i,c,d,p,v=!1,S=e._f.length;if(S===0){ha(e).invalidFormat=!0,e._d=new Date(NaN);return}for(c=0;c<S;c++)d=0,p=!1,n=i0e({},e),e._useUTC!=null&&(n._useUTC=e._useUTC),n._f=e._f[c],S0e(n),r0e(n)&&(p=!0),d+=ha(n).charsLeftOver,d+=ha(n).unusedTokens.length*10,ha(n).score=d,v?d<i&&(i=d,o=n):(i==null||d<i||p)&&(i=d,o=n,p&&(v=!0));tO(e,o||n)}function m$e(e){if(!e._d){var n=c0e(e._i),o=n.day===void 0?n.date:n.day;e._a=mRe([n.year,n.month,o,n.hour,n.minute,n.second,n.millisecond],function(i){return i&&parseInt(i,10)}),y0e(e)}}function g$e(e){var n=new iz(b0e(BRe(e)));return n._nextDay&&(n.add(1,"d"),n._nextDay=void 0),n}function BRe(e){var n=e._i,o=e._f;return e._locale=e._locale||lA(e._l),n===null||o===void 0&&n===""?bee({nullInput:!0}):(typeof n=="string"&&(e._i=n=e._locale.preparse(n)),OS(n)?new iz(b0e(n)):(rz(n)?e._d=n:xS(o)?p$e(e):o?S0e(e):v$e(e),r0e(e)||(e._d=null),e))}function v$e(e){var n=e._i;xb(n)?e._d=new Date(Os.now()):rz(n)?e._d=new Date(n.valueOf()):typeof n=="string"?u$e(e):xS(n)?(e._a=mRe(n.slice(0),function(o){return parseInt(o,10)}),y0e(e)):fk(n)?m$e(e):nA(n)?e._d=new Date(n):Os.createFromInputFallback(e)}function VRe(e,n,o,i,c){var d={};return(n===!0||n===!1)&&(i=n,n=void 0),(o===!0||o===!1)&&(i=o,o=void 0),(fk(e)&&s0e(e)||xS(e)&&e.length===0)&&(e=void 0),d._isAMomentObject=!0,d._useUTC=d._isUTC=c,d._l=o,d._i=e,d._f=n,d._strict=i,g$e(d)}function Au(e,n,o,i){return VRe(e,n,o,i,!1)}var b$e=e1("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Au.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:bee()}),y$e=e1("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Au.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:bee()});function FRe(e,n){var o,i;if(n.length===1&&xS(n[0])&&(n=n[0]),!n.length)return Au();for(o=n[0],i=1;i<n.length;++i)(!n[i].isValid()||n[i][e](o))&&(o=n[i]);return o}function S$e(){var e=[].slice.call(arguments,0);return FRe("isBefore",e)}function C$e(){var e=[].slice.call(arguments,0);return FRe("isAfter",e)}var E$e=function(){return Date.now?Date.now():+new Date},c5=["year","quarter","month","week","day","hour","minute","second","millisecond"];function w$e(e){var n,o=!1,i,c=c5.length;for(n in e)if(Il(e,n)&&!(Dh.call(c5,n)!==-1&&(e[n]==null||!isNaN(e[n]))))return!1;for(i=0;i<c;++i)if(e[c5[i]]){if(o)return!1;parseFloat(e[c5[i]])!==za(e[c5[i]])&&(o=!0)}return!0}function _$e(){return this._isValid}function A$e(){return DS(NaN)}function Tee(e){var n=c0e(e),o=n.year||0,i=n.quarter||0,c=n.month||0,d=n.week||n.isoWeek||0,p=n.day||0,v=n.hour||0,S=n.minute||0,T=n.second||0,x=n.millisecond||0;this._isValid=w$e(n),this._milliseconds=+x+T*1e3+S*6e4+v*1e3*60*60,this._days=+p+d*7,this._months=+c+i*3+o*12,this._data={},this._locale=lA(),this._bubble()}function SX(e){return e instanceof Tee}function Bme(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function T$e(e,n,o){var i=Math.min(e.length,n.length),c=Math.abs(e.length-n.length),d=0,p;for(p=0;p<i;p++)za(e[p])!==za(n[p])&&d++;return d+c}function HRe(e,n){$r(e,0,0,function(){var o=this.utcOffset(),i="+";return o<0&&(o=-o,i="-"),i+_E(~~(o/60),2)+n+_E(~~o%60,2)})}HRe("Z",":");HRe("ZZ","");cr("Z",wee);cr("ZZ",wee);Ic(["Z","ZZ"],function(e,n,o){o._useUTC=!0,o._tzm=C0e(wee,e)});var x$e=/([\+\-]|\d\d)/gi;function C0e(e,n){var o=(n||"").match(e),i,c,d;return o===null?null:(i=o[o.length-1]||[],c=(i+"").match(x$e)||["-",0,0],d=+(c[1]*60)+za(c[2]),d===0?0:c[0]==="+"?d:-d)}function E0e(e,n){var o,i;return n._isUTC?(o=n.clone(),i=(OS(e)||rz(e)?e.valueOf():Au(e).valueOf())-o.valueOf(),o._d.setTime(o._d.valueOf()+i),Os.updateOffset(o,!1),o):Au(e).local()}function Vme(e){return-Math.round(e._d.getTimezoneOffset())}Os.updateOffset=function(){};function O$e(e,n,o){var i=this._offset||0,c;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=C0e(wee,e),e===null)return this}else Math.abs(e)<16&&!o&&(e=e*60);return!this._isUTC&&n&&(c=Vme(this)),this._offset=e,this._isUTC=!0,c!=null&&this.add(c,"m"),i!==e&&(!n||this._changeInProgress?zRe(this,DS(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Os.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?i:Vme(this)}function I$e(e,n){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,n),this):-this.utcOffset()}function R$e(e){return this.utcOffset(0,e)}function k$e(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Vme(this),"m")),this}function D$e(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=C0e(XFe,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function M$e(e){return this.isValid()?(e=e?Au(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function P$e(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function N$e(){if(!xb(this._isDSTShifted))return this._isDSTShifted;var e={},n;return i0e(e,this),e=BRe(e),e._a?(n=e._isUTC?TE(e._a):Au(e._a),this._isDSTShifted=this.isValid()&&T$e(e._a,n.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function L$e(){return this.isValid()?!this._isUTC:!1}function B$e(){return this.isValid()?this._isUTC:!1}function $Re(){return this.isValid()?this._isUTC&&this._offset===0:!1}var V$e=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,F$e=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function DS(e,n){var o=e,i=null,c,d,p;return SX(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:nA(e)||!isNaN(+e)?(o={},n?o[n]=+e:o.milliseconds=+e):(i=V$e.exec(e))?(c=i[1]==="-"?-1:1,o={y:0,d:za(i[mE])*c,h:za(i[Kf])*c,m:za(i[ES])*c,s:za(i[z_])*c,ms:za(Bme(i[ek]*1e3))*c}):(i=F$e.exec(e))?(c=i[1]==="-"?-1:1,o={y:E2(i[2],c),M:E2(i[3],c),w:E2(i[4],c),d:E2(i[5],c),h:E2(i[6],c),m:E2(i[7],c),s:E2(i[8],c)}):o==null?o={}:typeof o=="object"&&("from"in o||"to"in o)&&(p=H$e(Au(o.from),Au(o.to)),o={},o.ms=p.milliseconds,o.M=p.months),d=new Tee(o),SX(e)&&Il(e,"_locale")&&(d._locale=e._locale),SX(e)&&Il(e,"_isValid")&&(d._isValid=e._isValid),d}DS.fn=Tee.prototype;DS.invalid=A$e;function E2(e,n){var o=e&&parseFloat(e.replace(",","."));return(isNaN(o)?0:o)*n}function fCe(e,n){var o={};return o.months=n.month()-e.month()+(n.year()-e.year())*12,e.clone().add(o.months,"M").isAfter(n)&&--o.months,o.milliseconds=+n-+e.clone().add(o.months,"M"),o}function H$e(e,n){var o;return e.isValid()&&n.isValid()?(n=E0e(n,e),e.isBefore(n)?o=fCe(e,n):(o=fCe(n,e),o.milliseconds=-o.milliseconds,o.months=-o.months),o):{milliseconds:0,months:0}}function URe(e,n){return function(o,i){var c,d;return i!==null&&!isNaN(+i)&&(vRe(n,"moment()."+n+"(period, number) is deprecated. Please use moment()."+n+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),d=o,o=i,i=d),c=DS(o,i),zRe(this,c,e),this}}function zRe(e,n,o,i){var c=n._milliseconds,d=Bme(n._days),p=Bme(n._months);e.isValid()&&(i=i??!0,p&&xRe(e,_6(e,"Month")+p*o),d&&_Re(e,"Date",_6(e,"Date")+d*o),c&&e._d.setTime(e._d.valueOf()+c*o),i&&Os.updateOffset(e,d||p))}var $$e=URe(1,"add"),U$e=URe(-1,"subtract");function jRe(e){return typeof e=="string"||e instanceof String}function z$e(e){return OS(e)||rz(e)||jRe(e)||nA(e)||W$e(e)||j$e(e)||e===null||e===void 0}function j$e(e){var n=fk(e)&&!s0e(e),o=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c,d,p=i.length;for(c=0;c<p;c+=1)d=i[c],o=o||Il(e,d);return n&&o}function W$e(e){var n=xS(e),o=!1;return n&&(o=e.filter(function(i){return!nA(i)&&jRe(e)}).length===0),n&&o}function G$e(e){var n=fk(e)&&!s0e(e),o=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],c,d;for(c=0;c<i.length;c+=1)d=i[c],o=o||Il(e,d);return n&&o}function q$e(e,n){var o=e.diff(n,"days",!0);return o<-6?"sameElse":o<-1?"lastWeek":o<0?"lastDay":o<1?"sameDay":o<2?"nextDay":o<7?"nextWeek":"sameElse"}function Z$e(e,n){arguments.length===1&&(arguments[0]?z$e(arguments[0])?(e=arguments[0],n=void 0):G$e(arguments[0])&&(n=arguments[0],e=void 0):(e=void 0,n=void 0));var o=e||Au(),i=E0e(o,this).startOf("day"),c=Os.calendarFormat(this,i)||"sameElse",d=n&&(xE(n[c])?n[c].call(this,o):n[c]);return this.format(d||this.localeData().calendar(c,this,Au(o)))}function K$e(){return new iz(this)}function Y$e(e,n){var o=OS(e)?e:Au(e);return this.isValid()&&o.isValid()?(n=t1(n)||"millisecond",n==="millisecond"?this.valueOf()>o.valueOf():o.valueOf()<this.clone().startOf(n).valueOf()):!1}function X$e(e,n){var o=OS(e)?e:Au(e);return this.isValid()&&o.isValid()?(n=t1(n)||"millisecond",n==="millisecond"?this.valueOf()<o.valueOf():this.clone().endOf(n).valueOf()<o.valueOf()):!1}function J$e(e,n,o,i){var c=OS(e)?e:Au(e),d=OS(n)?n:Au(n);return this.isValid()&&c.isValid()&&d.isValid()?(i=i||"()",(i[0]==="("?this.isAfter(c,o):!this.isBefore(c,o))&&(i[1]===")"?this.isBefore(d,o):!this.isAfter(d,o))):!1}function Q$e(e,n){var o=OS(e)?e:Au(e),i;return this.isValid()&&o.isValid()?(n=t1(n)||"millisecond",n==="millisecond"?this.valueOf()===o.valueOf():(i=o.valueOf(),this.clone().startOf(n).valueOf()<=i&&i<=this.clone().endOf(n).valueOf())):!1}function eUe(e,n){return this.isSame(e,n)||this.isAfter(e,n)}function tUe(e,n){return this.isSame(e,n)||this.isBefore(e,n)}function nUe(e,n,o){var i,c,d;if(!this.isValid())return NaN;if(i=E0e(e,this),!i.isValid())return NaN;switch(c=(i.utcOffset()-this.utcOffset())*6e4,n=t1(n),n){case"year":d=CX(this,i)/12;break;case"month":d=CX(this,i);break;case"quarter":d=CX(this,i)/3;break;case"second":d=(this-i)/1e3;break;case"minute":d=(this-i)/6e4;break;case"hour":d=(this-i)/36e5;break;case"day":d=(this-i-c)/864e5;break;case"week":d=(this-i-c)/6048e5;break;default:d=this-i}return o?d:zy(d)}function CX(e,n){if(e.date()<n.date())return-CX(n,e);var o=(n.year()-e.year())*12+(n.month()-e.month()),i=e.clone().add(o,"months"),c,d;return n-i<0?(c=e.clone().add(o-1,"months"),d=(n-i)/(i-c)):(c=e.clone().add(o+1,"months"),d=(n-i)/(c-i)),-(o+d)||0}Os.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Os.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function oUe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function sUe(e){if(!this.isValid())return null;var n=e!==!0,o=n?this.clone().utc():this;return o.year()<0||o.year()>9999?yX(o,n?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):xE(Date.prototype.toISOString)?n?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",yX(o,"Z")):yX(o,n?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function rUe(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",n="",o,i,c,d;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",n="Z"),o="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",c="-MM-DD[T]HH:mm:ss.SSS",d=n+'[")]',this.format(o+i+c+d)}function iUe(e){e||(e=this.isUtc()?Os.defaultFormatUtc:Os.defaultFormat);var n=yX(this,e);return this.localeData().postformat(n)}function aUe(e,n){return this.isValid()&&(OS(e)&&e.isValid()||Au(e).isValid())?DS({to:this,from:e}).locale(this.locale()).humanize(!n):this.localeData().invalidDate()}function lUe(e){return this.from(Au(),e)}function cUe(e,n){return this.isValid()&&(OS(e)&&e.isValid()||Au(e).isValid())?DS({from:this,to:e}).locale(this.locale()).humanize(!n):this.localeData().invalidDate()}function uUe(e){return this.to(Au(),e)}function WRe(e){var n;return e===void 0?this._locale._abbr:(n=lA(e),n!=null&&(this._locale=n),this)}var GRe=e1("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function qRe(){return this._locale}var BJ=1e3,o3=60*BJ,VJ=60*o3,ZRe=(365*400+97)*24*VJ;function s3(e,n){return(e%n+n)%n}function KRe(e,n,o){return e<100&&e>=0?new Date(e+400,n,o)-ZRe:new Date(e,n,o).valueOf()}function YRe(e,n,o){return e<100&&e>=0?Date.UTC(e+400,n,o)-ZRe:Date.UTC(e,n,o)}function dUe(e){var n,o;if(e=t1(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(o=this._isUTC?YRe:KRe,e){case"year":n=o(this.year(),0,1);break;case"quarter":n=o(this.year(),this.month()-this.month()%3,1);break;case"month":n=o(this.year(),this.month(),1);break;case"week":n=o(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":n=o(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":n=o(this.year(),this.month(),this.date());break;case"hour":n=this._d.valueOf(),n-=s3(n+(this._isUTC?0:this.utcOffset()*o3),VJ);break;case"minute":n=this._d.valueOf(),n-=s3(n,o3);break;case"second":n=this._d.valueOf(),n-=s3(n,BJ);break}return this._d.setTime(n),Os.updateOffset(this,!0),this}function hUe(e){var n,o;if(e=t1(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(o=this._isUTC?YRe:KRe,e){case"year":n=o(this.year()+1,0,1)-1;break;case"quarter":n=o(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":n=o(this.year(),this.month()+1,1)-1;break;case"week":n=o(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":n=o(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":n=o(this.year(),this.month(),this.date()+1)-1;break;case"hour":n=this._d.valueOf(),n+=VJ-s3(n+(this._isUTC?0:this.utcOffset()*o3),VJ)-1;break;case"minute":n=this._d.valueOf(),n+=o3-s3(n,o3)-1;break;case"second":n=this._d.valueOf(),n+=BJ-s3(n,BJ)-1;break}return this._d.setTime(n),Os.updateOffset(this,!0),this}function fUe(){return this._d.valueOf()-(this._offset||0)*6e4}function pUe(){return Math.floor(this.valueOf()/1e3)}function mUe(){return new Date(this.valueOf())}function gUe(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function vUe(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function bUe(){return this.isValid()?this.toISOString():null}function yUe(){return r0e(this)}function SUe(){return tO({},ha(this))}function CUe(){return ha(this).overflow}function EUe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}$r("N",0,0,"eraAbbr");$r("NN",0,0,"eraAbbr");$r("NNN",0,0,"eraAbbr");$r("NNNN",0,0,"eraName");$r("NNNNN",0,0,"eraNarrow");$r("y",["y",1],"yo","eraYear");$r("y",["yy",2],0,"eraYear");$r("y",["yyy",3],0,"eraYear");$r("y",["yyyy",4],0,"eraYear");cr("N",w0e);cr("NN",w0e);cr("NNN",w0e);cr("NNNN",MUe);cr("NNNNN",PUe);Ic(["N","NN","NNN","NNNN","NNNNN"],function(e,n,o,i){var c=o._locale.erasParse(e,i,o._strict);c?ha(o).era=c:ha(o).invalidEra=e});cr("y",t4);cr("yy",t4);cr("yyy",t4);cr("yyyy",t4);cr("yo",NUe);Ic(["y","yy","yyy","yyyy"],_g);Ic(["yo"],function(e,n,o,i){var c;o._locale._eraYearOrdinalRegex&&(c=e.match(o._locale._eraYearOrdinalRegex)),o._locale.eraYearOrdinalParse?n[_g]=o._locale.eraYearOrdinalParse(e,c):n[_g]=parseInt(e,10)});function wUe(e,n){var o,i,c,d=this._eras||lA("en")._eras;for(o=0,i=d.length;o<i;++o){switch(typeof d[o].since){case"string":c=Os(d[o].since).startOf("day"),d[o].since=c.valueOf();break}switch(typeof d[o].until){case"undefined":d[o].until=1/0;break;case"string":c=Os(d[o].until).startOf("day").valueOf(),d[o].until=c.valueOf();break}}return d}function _Ue(e,n,o){var i,c,d=this.eras(),p,v,S;for(e=e.toUpperCase(),i=0,c=d.length;i<c;++i)if(p=d[i].name.toUpperCase(),v=d[i].abbr.toUpperCase(),S=d[i].narrow.toUpperCase(),o)switch(n){case"N":case"NN":case"NNN":if(v===e)return d[i];break;case"NNNN":if(p===e)return d[i];break;case"NNNNN":if(S===e)return d[i];break}else if([p,v,S].indexOf(e)>=0)return d[i]}function AUe(e,n){var o=e.since<=e.until?1:-1;return n===void 0?Os(e.since).year():Os(e.since).year()+(n-e.offset)*o}function TUe(){var e,n,o,i=this.localeData().eras();for(e=0,n=i.length;e<n;++e)if(o=this.clone().startOf("day").valueOf(),i[e].since<=o&&o<=i[e].until||i[e].until<=o&&o<=i[e].since)return i[e].name;return""}function xUe(){var e,n,o,i=this.localeData().eras();for(e=0,n=i.length;e<n;++e)if(o=this.clone().startOf("day").valueOf(),i[e].since<=o&&o<=i[e].until||i[e].until<=o&&o<=i[e].since)return i[e].narrow;return""}function OUe(){var e,n,o,i=this.localeData().eras();for(e=0,n=i.length;e<n;++e)if(o=this.clone().startOf("day").valueOf(),i[e].since<=o&&o<=i[e].until||i[e].until<=o&&o<=i[e].since)return i[e].abbr;return""}function IUe(){var e,n,o,i,c=this.localeData().eras();for(e=0,n=c.length;e<n;++e)if(o=c[e].since<=c[e].until?1:-1,i=this.clone().startOf("day").valueOf(),c[e].since<=i&&i<=c[e].until||c[e].until<=i&&i<=c[e].since)return(this.year()-Os(c[e].since).year())*o+c[e].offset;return this.year()}function RUe(e){return Il(this,"_erasNameRegex")||_0e.call(this),e?this._erasNameRegex:this._erasRegex}function kUe(e){return Il(this,"_erasAbbrRegex")||_0e.call(this),e?this._erasAbbrRegex:this._erasRegex}function DUe(e){return Il(this,"_erasNarrowRegex")||_0e.call(this),e?this._erasNarrowRegex:this._erasRegex}function w0e(e,n){return n.erasAbbrRegex(e)}function MUe(e,n){return n.erasNameRegex(e)}function PUe(e,n){return n.erasNarrowRegex(e)}function NUe(e,n){return n._eraYearOrdinalRegex||t4}function _0e(){var e=[],n=[],o=[],i=[],c,d,p,v,S,T=this.eras();for(c=0,d=T.length;c<d;++c)p=j_(T[c].name),v=j_(T[c].abbr),S=j_(T[c].narrow),n.push(p),e.push(v),o.push(S),i.push(p),i.push(v),i.push(S);this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+n.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}$r(0,["gg",2],0,function(){return this.weekYear()%100});$r(0,["GG",2],0,function(){return this.isoWeekYear()%100});function xee(e,n){$r(0,[e,e.length],0,n)}xee("gggg","weekYear");xee("ggggg","weekYear");xee("GGGG","isoWeekYear");xee("GGGGG","isoWeekYear");cr("G",Eee);cr("g",Eee);cr("GG",Tu,Z0);cr("gg",Tu,Z0);cr("GGGG",d0e,u0e);cr("gggg",d0e,u0e);cr("GGGGG",Cee,yee);cr("ggggg",Cee,yee);lz(["gggg","ggggg","GGGG","GGGGG"],function(e,n,o,i){n[i.substr(0,2)]=za(e)});lz(["gg","GG"],function(e,n,o,i){n[i]=Os.parseTwoDigitYear(e)});function LUe(e){return XRe.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function BUe(e){return XRe.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function VUe(){return W_(this.year(),1,4)}function FUe(){return W_(this.isoWeekYear(),1,4)}function HUe(){var e=this.localeData()._week;return W_(this.year(),e.dow,e.doy)}function $Ue(){var e=this.localeData()._week;return W_(this.weekYear(),e.dow,e.doy)}function XRe(e,n,o,i,c){var d;return e==null?T6(this,i,c).year:(d=W_(e,i,c),n>d&&(n=d),UUe.call(this,e,n,o,i,c))}function UUe(e,n,o,i,c){var d=RRe(e,n,o,i,c),p=A6(d.year,0,d.dayOfYear);return this.year(p.getUTCFullYear()),this.month(p.getUTCMonth()),this.date(p.getUTCDate()),this}$r("Q",0,"Qo","quarter");cr("Q",yRe);Ic("Q",function(e,n){n[U_]=(za(e)-1)*3});function zUe(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}$r("D",["DD",2],"Do","date");cr("D",Tu,n4);cr("DD",Tu,Z0);cr("Do",function(e,n){return e?n._dayOfMonthOrdinalParse||n._ordinalParse:n._dayOfMonthOrdinalParseLenient});Ic(["D","DD"],mE);Ic("Do",function(e,n){n[mE]=za(e.match(Tu)[0])});var JRe=o4("Date",!0);$r("DDD",["DDDD",3],"DDDo","dayOfYear");cr("DDD",See);cr("DDDD",SRe);Ic(["DDD","DDDD"],function(e,n,o){o._dayOfYear=za(e)});function jUe(e){var n=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?n:this.add(e-n,"d")}$r("m",["mm",2],0,"minute");cr("m",Tu,h0e);cr("mm",Tu,Z0);Ic(["m","mm"],ES);var WUe=o4("Minutes",!1);$r("s",["ss",2],0,"second");cr("s",Tu,h0e);cr("ss",Tu,Z0);Ic(["s","ss"],z_);var GUe=o4("Seconds",!1);$r("S",0,0,function(){return~~(this.millisecond()/100)});$r(0,["SS",2],0,function(){return~~(this.millisecond()/10)});$r(0,["SSS",3],0,"millisecond");$r(0,["SSSS",4],0,function(){return this.millisecond()*10});$r(0,["SSSSS",5],0,function(){return this.millisecond()*100});$r(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});$r(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});$r(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});$r(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});cr("S",See,yRe);cr("SS",See,Z0);cr("SSS",See,SRe);var nO,QRe;for(nO="SSSS";nO.length<=9;nO+="S")cr(nO,t4);function qUe(e,n){n[ek]=za(("0."+e)*1e3)}for(nO="S";nO.length<=9;nO+="S")Ic(nO,qUe);QRe=o4("Milliseconds",!1);$r("z",0,0,"zoneAbbr");$r("zz",0,0,"zoneName");function ZUe(){return this._isUTC?"UTC":""}function KUe(){return this._isUTC?"Coordinated Universal Time":""}var hs=iz.prototype;hs.add=$$e;hs.calendar=Z$e;hs.clone=K$e;hs.diff=nUe;hs.endOf=hUe;hs.format=iUe;hs.from=aUe;hs.fromNow=lUe;hs.to=cUe;hs.toNow=uUe;hs.get=rHe;hs.invalidAt=CUe;hs.isAfter=Y$e;hs.isBefore=X$e;hs.isBetween=J$e;hs.isSame=Q$e;hs.isSameOrAfter=eUe;hs.isSameOrBefore=tUe;hs.isValid=yUe;hs.lang=GRe;hs.locale=WRe;hs.localeData=qRe;hs.max=y$e;hs.min=b$e;hs.parsingFlags=SUe;hs.set=iHe;hs.startOf=dUe;hs.subtract=U$e;hs.toArray=gUe;hs.toObject=vUe;hs.toDate=mUe;hs.toISOString=sUe;hs.inspect=rUe;typeof Symbol<"u"&&Symbol.for!=null&&(hs[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});hs.toJSON=bUe;hs.toString=oUe;hs.unix=pUe;hs.valueOf=fUe;hs.creationData=EUe;hs.eraName=TUe;hs.eraNarrow=xUe;hs.eraAbbr=OUe;hs.eraYear=IUe;hs.year=wRe;hs.isLeapYear=sHe;hs.weekYear=LUe;hs.isoWeekYear=BUe;hs.quarter=hs.quarters=zUe;hs.month=ORe;hs.daysInMonth=mHe;hs.week=hs.weeks=wHe;hs.isoWeek=hs.isoWeeks=_He;hs.weeksInYear=HUe;hs.weeksInWeekYear=$Ue;hs.isoWeeksInYear=VUe;hs.isoWeeksInISOWeekYear=FUe;hs.date=JRe;hs.day=hs.days=BHe;hs.weekday=VHe;hs.isoWeekday=FHe;hs.dayOfYear=jUe;hs.hour=hs.hours=GHe;hs.minute=hs.minutes=WUe;hs.second=hs.seconds=GUe;hs.millisecond=hs.milliseconds=QRe;hs.utcOffset=O$e;hs.utc=R$e;hs.local=k$e;hs.parseZone=D$e;hs.hasAlignedHourOffset=M$e;hs.isDST=P$e;hs.isLocal=L$e;hs.isUtcOffset=B$e;hs.isUtc=$Re;hs.isUTC=$Re;hs.zoneAbbr=ZUe;hs.zoneName=KUe;hs.dates=e1("dates accessor is deprecated. Use date instead.",JRe);hs.months=e1("months accessor is deprecated. Use month instead",ORe);hs.years=e1("years accessor is deprecated. Use year instead",wRe);hs.zone=e1("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",I$e);hs.isDSTShifted=e1("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",N$e);function YUe(e){return Au(e*1e3)}function XUe(){return Au.apply(null,arguments).parseZone()}function e2e(e){return e}var Rl=a0e.prototype;Rl.calendar=LFe;Rl.longDateFormat=HFe;Rl.invalidDate=UFe;Rl.ordinal=WFe;Rl.preparse=e2e;Rl.postformat=e2e;Rl.relativeTime=qFe;Rl.pastFuture=ZFe;Rl.set=PFe;Rl.eras=wUe;Rl.erasParse=_Ue;Rl.erasConvertYear=AUe;Rl.erasAbbrRegex=kUe;Rl.erasNameRegex=RUe;Rl.erasNarrowRegex=DUe;Rl.months=dHe;Rl.monthsShort=hHe;Rl.monthsParse=pHe;Rl.monthsRegex=vHe;Rl.monthsShortRegex=gHe;Rl.week=yHe;Rl.firstDayOfYear=EHe;Rl.firstDayOfWeek=CHe;Rl.weekdays=DHe;Rl.weekdaysMin=PHe;Rl.weekdaysShort=MHe;Rl.weekdaysParse=LHe;Rl.weekdaysRegex=HHe;Rl.weekdaysShortRegex=$He;Rl.weekdaysMinRegex=UHe;Rl.isPM=jHe;Rl.meridiem=qHe;function FJ(e,n,o,i){var c=lA(),d=TE().set(i,n);return c[o](d,e)}function t2e(e,n,o){if(nA(e)&&(n=e,e=void 0),e=e||"",n!=null)return FJ(e,n,o,"month");var i,c=[];for(i=0;i<12;i++)c[i]=FJ(e,i,o,"month");return c}function A0e(e,n,o,i){typeof e=="boolean"?(nA(n)&&(o=n,n=void 0),n=n||""):(n=e,o=n,e=!1,nA(n)&&(o=n,n=void 0),n=n||"");var c=lA(),d=e?c._week.dow:0,p,v=[];if(o!=null)return FJ(n,(o+d)%7,i,"day");for(p=0;p<7;p++)v[p]=FJ(n,(p+d)%7,i,"day");return v}function JUe(e,n){return t2e(e,n,"months")}function QUe(e,n){return t2e(e,n,"monthsShort")}function e5e(e,n,o){return A0e(e,n,o,"weekdays")}function t5e(e,n,o){return A0e(e,n,o,"weekdaysShort")}function n5e(e,n,o){return A0e(e,n,o,"weekdaysMin")}fO("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var n=e%10,o=za(e%100/10)===1?"th":n===1?"st":n===2?"nd":n===3?"rd":"th";return e+o}});Os.lang=e1("moment.lang is deprecated. Use moment.locale instead.",fO);Os.langData=e1("moment.langData is deprecated. Use moment.localeData instead.",lA);var w_=Math.abs;function o5e(){var e=this._data;return this._milliseconds=w_(this._milliseconds),this._days=w_(this._days),this._months=w_(this._months),e.milliseconds=w_(e.milliseconds),e.seconds=w_(e.seconds),e.minutes=w_(e.minutes),e.hours=w_(e.hours),e.months=w_(e.months),e.years=w_(e.years),this}function n2e(e,n,o,i){var c=DS(n,o);return e._milliseconds+=i*c._milliseconds,e._days+=i*c._days,e._months+=i*c._months,e._bubble()}function s5e(e,n){return n2e(this,e,n,1)}function r5e(e,n){return n2e(this,e,n,-1)}function pCe(e){return e<0?Math.floor(e):Math.ceil(e)}function i5e(){var e=this._milliseconds,n=this._days,o=this._months,i=this._data,c,d,p,v,S;return e>=0&&n>=0&&o>=0||e<=0&&n<=0&&o<=0||(e+=pCe(Fme(o)+n)*864e5,n=0,o=0),i.milliseconds=e%1e3,c=zy(e/1e3),i.seconds=c%60,d=zy(c/60),i.minutes=d%60,p=zy(d/60),i.hours=p%24,n+=zy(p/24),S=zy(o2e(n)),o+=S,n-=pCe(Fme(S)),v=zy(o/12),o%=12,i.days=n,i.months=o,i.years=v,this}function o2e(e){return e*4800/146097}function Fme(e){return e*146097/4800}function a5e(e){if(!this.isValid())return NaN;var n,o,i=this._milliseconds;if(e=t1(e),e==="month"||e==="quarter"||e==="year")switch(n=this._days+i/864e5,o=this._months+o2e(n),e){case"month":return o;case"quarter":return o/3;case"year":return o/12}else switch(n=this._days+Math.round(Fme(this._months)),e){case"week":return n/7+i/6048e5;case"day":return n+i/864e5;case"hour":return n*24+i/36e5;case"minute":return n*1440+i/6e4;case"second":return n*86400+i/1e3;case"millisecond":return Math.floor(n*864e5)+i;default:throw new Error("Unknown unit "+e)}}function cA(e){return function(){return this.as(e)}}var s2e=cA("ms"),l5e=cA("s"),c5e=cA("m"),u5e=cA("h"),d5e=cA("d"),h5e=cA("w"),f5e=cA("M"),p5e=cA("Q"),m5e=cA("y"),g5e=s2e;function v5e(){return DS(this)}function b5e(e){return e=t1(e),this.isValid()?this[e+"s"]():NaN}function Zk(e){return function(){return this.isValid()?this._data[e]:NaN}}var y5e=Zk("milliseconds"),S5e=Zk("seconds"),C5e=Zk("minutes"),E5e=Zk("hours"),w5e=Zk("days"),_5e=Zk("months"),A5e=Zk("years");function T5e(){return zy(this.days()/7)}var k_=Math.round,HL={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function x5e(e,n,o,i,c){return c.relativeTime(n||1,!!o,e,i)}function O5e(e,n,o,i){var c=DS(e).abs(),d=k_(c.as("s")),p=k_(c.as("m")),v=k_(c.as("h")),S=k_(c.as("d")),T=k_(c.as("M")),x=k_(c.as("w")),P=k_(c.as("y")),B=d<=o.ss&&["s",d]||d<o.s&&["ss",d]||p<=1&&["m"]||p<o.m&&["mm",p]||v<=1&&["h"]||v<o.h&&["hh",v]||S<=1&&["d"]||S<o.d&&["dd",S];return o.w!=null&&(B=B||x<=1&&["w"]||x<o.w&&["ww",x]),B=B||T<=1&&["M"]||T<o.M&&["MM",T]||P<=1&&["y"]||["yy",P],B[2]=n,B[3]=+e>0,B[4]=i,x5e.apply(null,B)}function I5e(e){return e===void 0?k_:typeof e=="function"?(k_=e,!0):!1}function R5e(e,n){return HL[e]===void 0?!1:n===void 0?HL[e]:(HL[e]=n,e==="s"&&(HL.ss=n-1),!0)}function k5e(e,n){if(!this.isValid())return this.localeData().invalidDate();var o=!1,i=HL,c,d;return typeof e=="object"&&(n=e,e=!1),typeof e=="boolean"&&(o=e),typeof n=="object"&&(i=Object.assign({},HL,n),n.s!=null&&n.ss==null&&(i.ss=n.s-1)),c=this.localeData(),d=O5e(this,!o,i,c),o&&(d=c.pastFuture(+this,d)),c.postformat(d)}var $fe=Math.abs;function SL(e){return(e>0)-(e<0)||+e}function Oee(){if(!this.isValid())return this.localeData().invalidDate();var e=$fe(this._milliseconds)/1e3,n=$fe(this._days),o=$fe(this._months),i,c,d,p,v=this.asSeconds(),S,T,x,P;return v?(i=zy(e/60),c=zy(i/60),e%=60,i%=60,d=zy(o/12),o%=12,p=e?e.toFixed(3).replace(/\.?0+$/,""):"",S=v<0?"-":"",T=SL(this._months)!==SL(v)?"-":"",x=SL(this._days)!==SL(v)?"-":"",P=SL(this._milliseconds)!==SL(v)?"-":"",S+"P"+(d?T+d+"Y":"")+(o?T+o+"M":"")+(n?x+n+"D":"")+(c||i||e?"T":"")+(c?P+c+"H":"")+(i?P+i+"M":"")+(e?P+p+"S":"")):"P0D"}var ul=Tee.prototype;ul.isValid=_$e;ul.abs=o5e;ul.add=s5e;ul.subtract=r5e;ul.as=a5e;ul.asMilliseconds=s2e;ul.asSeconds=l5e;ul.asMinutes=c5e;ul.asHours=u5e;ul.asDays=d5e;ul.asWeeks=h5e;ul.asMonths=f5e;ul.asQuarters=p5e;ul.asYears=m5e;ul.valueOf=g5e;ul._bubble=i5e;ul.clone=v5e;ul.get=b5e;ul.milliseconds=y5e;ul.seconds=S5e;ul.minutes=C5e;ul.hours=E5e;ul.days=w5e;ul.weeks=T5e;ul.months=_5e;ul.years=A5e;ul.humanize=k5e;ul.toISOString=Oee;ul.toString=Oee;ul.toJSON=Oee;ul.locale=WRe;ul.localeData=qRe;ul.toIsoString=e1("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Oee);ul.lang=GRe;$r("X",0,0,"unix");$r("x",0,0,"valueOf");cr("x",Eee);cr("X",JFe);Ic("X",function(e,n,o){o._d=new Date(parseFloat(e)*1e3)});Ic("x",function(e,n,o){o._d=new Date(za(e))});//! moment.js
Os.version="2.30.1";DFe(Au);Os.fn=hs;Os.min=S$e;Os.max=C$e;Os.now=E$e;Os.utc=TE;Os.unix=YUe;Os.months=JUe;Os.isDate=rz;Os.locale=fO;Os.invalid=bee;Os.duration=DS;Os.isMoment=OS;Os.weekdays=e5e;Os.parseZone=XUe;Os.localeData=lA;Os.isDuration=SX;Os.monthsShort=QUe;Os.weekdaysMin=n5e;Os.defineLocale=v0e;Os.updateLocale=XHe;Os.locales=JHe;Os.weekdaysShort=t5e;Os.normalizeUnits=t1;Os.relativeTimeRounding=I5e;Os.relativeTimeThreshold=R5e;Os.calendarFormat=q$e;Os.prototype=hs;Os.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const mXe=Object.freeze(Object.defineProperty({__proto__:null,default:Os},Symbol.toStringTag,{value:"Module"}));/*! License details at fancyapps.com/license */const kp=e=>typeof e=="string";/*! License details at fancyapps.com/license */const $L=e=>e&&e!==null&&e instanceof Element&&"nodeType"in e;/*! License details at fancyapps.com/license */const D5e=function(e){if(!(e&&e instanceof Element&&e.offsetParent))return!1;const n=e.scrollHeight>e.clientHeight,o=window.getComputedStyle(e).overflowY,i=o.indexOf("hidden")!==-1,c=o.indexOf("visible")!==-1;return n&&!i&&!c},pk=function(e,n=void 0){return!e||e===document.body||n&&e===n?null:D5e(e)?e:pk(e.parentElement,n)};/*! License details at fancyapps.com/license */const vO=function(e){var n=new DOMParser().parseFromString(e,"text/html").body;if(n.childElementCount>1){for(var o=document.createElement("div");n.firstChild;)o.appendChild(n.firstChild);return o}let i=n.firstChild;return!i||i instanceof HTMLElement?i:((o=document.createElement("div")).appendChild(i),o)};/*! License details at fancyapps.com/license */const ll=function(e=0,n=0,o=0){return Math.max(Math.min(n,o),e)};/*! License details at fancyapps.com/license */const Tg=e=>typeof e=="object"&&e!==null&&e.constructor===Object&&Object.prototype.toString.call(e)==="[object Object]";/*! License details at fancyapps.com/license */function mCe(e){return Tg(e)||Array.isArray(e)}function O6(e,n){const o=Object.keys(e),i=Object.keys(n);return o.length===i.length&&o.every((c=>{const d=e[c],p=n[c];return typeof d=="function"?`${d}`==`${p}`:mCe(d)&&mCe(p)?O6(d,p):d===p}))}/*! License details at fancyapps.com/license */const r2e=function(e){for(const n of HJ)n.getState()===Av.Running&&n.tick(Ufe?e-Ufe:0);Ufe=e,r3=window.requestAnimationFrame(r2e)};var Av,Vx,UL;(function(e){e[e.Initializing=0]="Initializing",e[e.Running=1]="Running",e[e.Paused=2]="Paused",e[e.Completed=3]="Completed",e[e.Destroyed=4]="Destroyed"})(Av||(Av={})),(function(e){e[e.Spring=0]="Spring",e[e.Ease=1]="Ease"})(Vx||(Vx={})),(function(e){e[e.Loop=0]="Loop",e[e.Reverse=1]="Reverse"})(UL||(UL={}));const HJ=new Set;let r3=null,Ufe=0;function bO(){let e=Av.Initializing,n=Vx.Ease,o=0,i=0,c=bO.Easings.Linear,d=500,p=0,v=0,S=0,T=0,x=1/0,P=.01,B=.01,U=!1,j={},W=null,Z={},re={},le={},ie=0,be=0,Ce=UL.Loop,Ae=bO.Easings.Linear;const F=new Map;function Ie(vt,...mt){for(const gt of F.get(vt)||[])gt(...mt)}function tt(vt){return i=0,vt?W=setTimeout((()=>{Xe()}),vt):Xe(),Re}function Xe(){e=Av.Running,Ie("start",Z,re)}function Ve(){if(e=Av.Completed,le={},Ie("end",Z),e===Av.Completed)if(o<ie){if(o++,Ce===UL.Reverse){const vt=Object.assign({},j);j=Object.assign({},re),re=vt}tt(be)}else o=0;return Re}const Re={getState:function(){return e},easing:function(vt){return c=vt,n=Vx.Ease,le={},Re},duration:function(vt){return d=vt,Re},spring:function(vt={}){n=Vx.Spring;const mt={velocity:0,mass:1,tension:170,friction:26,restDelta:.1,restSpeed:.1,maxSpeed:1/0,clamp:!0},{velocity:gt,mass:te,tension:hn,friction:ot,restDelta:Rt,restSpeed:kt,maxSpeed:at,clamp:Cn}=Object.assign(Object.assign({},mt),vt);return p=gt,v=te,S=hn,T=ot,B=Rt,P=kt,x=at,U=Cn,le={},Re},isRunning:function(){return e===Av.Running},isSpring:function(){return n===Vx.Spring},from:function(vt){return Z=Object.assign({},vt),Re},to:function(vt){return re=vt,Re},repeat:function(vt,mt=0,gt=UL.Loop,te){return ie=vt,be=mt,Ce=gt,Ae=te||c,Re},on:function(vt,mt){var gt,te;return gt=vt,te=mt,F.set(gt,[...F.get(gt)||[],te]),Re},off:function(vt,mt){var gt,te;return gt=vt,te=mt,F.has(gt)&&F.set(gt,F.get(gt).filter((hn=>hn!==te))),Re},start:function(vt){return e=Av.Initializing,j=Object.assign({},Z),O6(j,re)||(HJ.add(this),r3||(r3=window.requestAnimationFrame(r2e)),tt(vt)),Re},pause:function(){return W&&(clearTimeout(W),W=null),e===Av.Running&&(e=Av.Paused,Ie("pause",Z)),Re},end:Ve,tick:function(vt){vt>50&&(vt=50),i+=vt;let mt=0,gt=!1;if(e!==Av.Running)return Re;if(n===Vx.Ease){mt=ll(0,i/d,1),gt=mt===1;const hn=Ce===UL.Reverse?Ae:c;for(const ot in Z)Z[ot]=j[ot]+(re[ot]-j[ot])*hn(mt)}if(n===Vx.Spring){const hn=.001*vt;let ot=0;for(const Rt in Z){const kt=re[Rt];let at=Z[Rt];if(typeof kt!="number"||isNaN(kt)||typeof at!="number"||isNaN(at))continue;if(Math.abs(kt-at)<=B){Z[Rt]=kt,le[Rt]=0;continue}le[Rt]||(typeof p=="object"&&typeof p[Rt]=="number"?le[Rt]=p[Rt]:le[Rt]=typeof p=="number"?p:0);let Cn=le[Rt];Cn=ll(-1*Math.abs(x),Cn,Math.abs(x));const Ro=Cn*v*T;Cn+=((at>kt?-1:1)*(Math.abs(kt-at)*S)-Ro)/v*hn,at+=Cn*hn;const jn=Z[Rt]>kt?at<kt:at>kt;let wo=Math.abs(Cn)<P&&Math.abs(kt-at)<=B;U&&jn&&(wo=!0),wo?(at=kt,Cn=0):ot++,Z[Rt]=at,le[Rt]=Cn}gt=!ot}const te=Object.assign({},re);return Ie("step",Z,j,re,mt),gt&&e===Av.Running&&O6(re,te)&&(e=Av.Completed,Ve()),Re},getStartValues:function(){return j},getCurrentValues:function(){return Z},getCurrentVelocities:function(){return le},getEndValues:function(){return re},destroy:function(){e=Av.Destroyed,W&&(clearTimeout(W),W=null),j=Z=re={},HJ.delete(this)}};return Re}bO.destroy=()=>{for(const e of HJ)e.destroy();r3&&(cancelAnimationFrame(r3),r3=null)},bO.Easings={Linear:function(e){return e},EaseIn:function(e){return e===0?0:Math.pow(2,10*e-10)},EaseOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},EaseInOut:function(e){return e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}};/*! License details at fancyapps.com/license */function zfe(e){const n=[],o=typeof TouchEvent<"u"&&e instanceof TouchEvent?e.touches:e instanceof MouseEvent&&e.type!=="mouseup"?[e]:[];for(const i of o)n.push({x:i.clientX,y:i.clientY,ts:Date.now()});return n}function i2e(e){const n=[],o=typeof TouchEvent<"u"&&e instanceof TouchEvent?e.changedTouches:e instanceof MouseEvent?[e]:[];for(const i of o)n.push({x:i.clientX,y:i.clientY,ts:Date.now()});return n}function Rx(e){const n=e[0],o=e[1]||n;return{x:(n.x+o.x)/2,y:(n.y+o.y)/2,ts:o.ts}}function IY(e){const n=e[0],o=e[1]||e[0];return n&&o?-1*Math.sqrt((o.x-n.x)*(o.x-n.x)+(o.y-n.y)*(o.y-n.y)):0}const gCe=e=>{e.cancelable&&e.preventDefault()},vx={passive:!1},M5e={panThreshold:5,swipeThreshold:3,ignore:["textarea","input","select","[contenteditable]","[data-selectable]","[data-draggable]"]};let RY=!1,D5=!0;const R3=(e,n)=>{let o,i,c,d=Object.assign(Object.assign({},M5e),n),p=[],v=[],S=[],T=!1,x=!1,P=!1,B=0,U=0,j=0,W=0,Z=0,re=0,le=0,ie=0,be=0,Ce=[],Ae=0,F=0;const Ie=new Map;function tt(Rt){const kt=IY(v),at=IY(S),Cn=kt&&at?kt/at:0,Ro=Math.abs(le)>Math.abs(ie)?le:ie,jn={srcEvent:o,isPanRecognized:T,isSwipeRecognized:x,firstTouch:p,previousTouch:S,currentTouch:v,deltaX:j,deltaY:W,offsetX:Z,offsetY:re,velocityX:le,velocityY:ie,velocity:Ro,angle:be,axis:c,scale:Cn,center:i};for(const wo of Ie.get(Rt)||[])wo(jn)}function Xe(Rt){const kt=Date.now();Ce=Ce.filter((at=>!at.ts||at.ts>kt-100)),Rt&&Ce.push(Rt)}function Ve(){if(le=0,ie=0,Ce.length>3){const Rt=Ce[0],kt=Ce[Ce.length-1];if(Rt&&kt){const at=kt.x-Rt.x,Cn=kt.y-Rt.y,Ro=Rt.ts&&kt.ts?kt.ts-Rt.ts:0;Ro>0&&(le=Math.abs(at)>3?at/(Ro/30):0,ie=Math.abs(Cn)>3?Cn/(Ro/30):0)}}}function Re(Rt){if(Rt instanceof MouseEvent){if(RY)return}else RY=!0;const kt=Rt.composedPath()[0],at=d.ignore.join(",");if(kt.matches(at)||kt.closest(at)||typeof MouseEvent<"u"&&Rt instanceof MouseEvent&&(!Rt.buttons||Rt.button!==0))return;Rt instanceof MouseEvent&&gCe(Rt);const Cn=Date.now(),Ro=Cn-(B||Cn);P=Ro>0&&Ro<=250,B=Cn,clearTimeout(Ae),o=Rt,Rt instanceof MouseEvent&&(window.addEventListener("mousemove",vt),window.addEventListener("mouseup",mt)),window.addEventListener("blur",gt),v=zfe(Rt),p=[...v],S=[],U=v.length,i=Rx(v),U===1&&(T=!1,x=!1),U&&Xe(Rx(v)),tt("start")}function vt(Rt){var kt;if(!p.length||Rt.defaultPrevented)return;o=Rt,S=[...v],v=zfe(Rt),U=v.length,i=Rx(v);const at=i,Cn=Rx(S);if(j=at.x-Cn.x,W=at.y-Cn.y,Xe(at),Ve(),tt("move"),v.length>1){const Ro=IY(v),jn=IY(S);Math.abs(Ro-jn)>=.1&&tt("pinch")}if(!T&&p.length){const Ro=Rx(p);Z=at.x-Ro.x,re=at.y-Ro.y,T=Math.abs(Z)>d.panThreshold||Math.abs(re)>d.panThreshold,T&&(D5=!1,clearTimeout(F),F=0,be=Math.abs(180*Math.atan2(re,Z)/Math.PI),c=be>45&&be<135?"y":"x",p=[...v],S=[...v],(kt=window.getSelection())===null||kt===void 0||kt.removeAllRanges(),tt("panstart"))}T&&(j||W)&&tt("pan")}function mt(Rt){if(o=Rt,!p.length)return;const kt=zfe(Rt),at=i2e(Rt);if(U=kt.length,i=Rx(at),at.length&&Xe(Rx(at)),Ve(),S=[...v],v=[...kt],p=[...kt],kt.length>0)tt("end"),T=!1,x=!1,Ce=[];else{const Cn=d.swipeThreshold;(Math.abs(le)>Cn||Math.abs(ie)>Cn)&&(x=!0),T&&tt("panend"),x&&tt("swipe"),T||x||(tt("tap"),P?tt("doubleTap"):Ae=setTimeout((function(){tt("singleTap")}),250)),tt("end"),te()}}function gt(){clearTimeout(Ae),te(),T&&tt("panend"),tt("end")}function te(){RY=!1,T=!1,x=!1,P=!1,U=0,Ce=[],v=[],S=[],p=[],j=0,W=0,Z=0,re=0,le=0,ie=0,be=0,c=void 0,window.removeEventListener("mousemove",vt),window.removeEventListener("mouseup",mt),window.removeEventListener("blur",gt),D5||F||(F=setTimeout((()=>{D5=!0,F=0}),100))}function hn(Rt){const kt=Rt.target;RY=!1,kt&&!Rt.defaultPrevented&&(D5||(gCe(Rt),Rt.stopPropagation()))}const ot={init:function(){if(e)return e.addEventListener("click",hn,vx),e.addEventListener("mousedown",Re,vx),e.addEventListener("touchstart",Re,vx),e.addEventListener("touchmove",vt,vx),e.addEventListener("touchend",mt),e.addEventListener("touchcancel",mt),ot},on:function(Rt,kt){return(function(at,Cn){Ie.set(at,[...Ie.get(at)||[],Cn])})(Rt,kt),ot},off:function(Rt,kt){return Ie.has(Rt)&&Ie.set(Rt,Ie.get(Rt).filter((at=>at!==kt))),ot},isPointerDown:()=>U>0,destroy:function(){clearTimeout(Ae),clearTimeout(F),F=0,e&&(e.removeEventListener("click",hn,vx),e.removeEventListener("mousedown",Re,vx),e.removeEventListener("touchstart",Re,vx),e.removeEventListener("touchmove",vt,vx),e.removeEventListener("touchend",mt),e.removeEventListener("touchcancel",mt)),e=null,te()}};return ot};R3.isClickAllowed=()=>D5;/*! License details at fancyapps.com/license */const T0e={IMAGE_ERROR:"This image couldn't be loaded. <br /> Please try again later.",MOVE_UP:"Move up",MOVE_DOWN:"Move down",MOVE_LEFT:"Move left",MOVE_RIGHT:"Move right",ZOOM_IN:"Zoom in",ZOOM_OUT:"Zoom out",TOGGLE_FULL:"Toggle zoom level",TOGGLE_1TO1:"Toggle zoom level",ITERATE_ZOOM:"Toggle zoom level",ROTATE_CCW:"Rotate counterclockwise",ROTATE_CW:"Rotate clockwise",FLIP_X:"Flip horizontally",FLIP_Y:"Flip vertically",RESET:"Reset",TOGGLE_FS:"Toggle fullscreen"};/*! License details at fancyapps.com/license */const Ta=(e,n="")=>{e&&e.classList&&n.split(" ").forEach((o=>{o&&e.classList.add(o)}))};/*! License details at fancyapps.com/license */const cE=(e,n="")=>{e&&e.classList&&n.split(" ").forEach((o=>{o&&e.classList.remove(o)}))};/*! License details at fancyapps.com/license */const bg=(e,n="",o)=>{e&&e.classList&&n.split(" ").forEach((i=>{i&&e.classList.toggle(i,o||!1)}))};/*! License details at fancyapps.com/license */const w2=e=>{e.cancelable&&e.preventDefault()},Sv=(e,n=1e4)=>(e=parseFloat(e+"")||0,Math.round((e+Number.EPSILON)*n)/n),eE=e=>e instanceof HTMLImageElement;var gr,vCe;(function(e){e.Reset="reset",e.Zoom="zoom",e.ZoomIn="zoomIn",e.ZoomOut="zoomOut",e.ZoomTo="zoomTo",e.ToggleCover="toggleCover",e.ToggleFull="toggleFull",e.ToggleMax="toggleMax",e.IterateZoom="iterateZoom",e.Pan="pan",e.Swipe="swipe",e.Move="move",e.MoveLeft="moveLeft",e.MoveRight="moveRight",e.MoveUp="moveUp",e.MoveDown="moveDown",e.RotateCCW="rotateCCW",e.RotateCW="rotateCW",e.FlipX="flipX",e.FlipY="flipY",e.ToggleFS="toggleFS"})(gr||(gr={})),(function(e){e.Cover="cover",e.Full="full",e.Max="max"})(vCe||(vCe={}));const vS={x:0,y:0,scale:1,angle:0,flipX:1,flipY:1},Hme={bounds:!0,classes:{container:"f-panzoom",wrapper:"f-panzoom__wrapper",content:"f-panzoom__content",viewport:"f-panzoom__viewport"},clickAction:gr.ToggleFull,dblClickAction:!1,gestures:{},height:"auto",l10n:T0e,maxScale:4,minScale:1,mouseMoveFactor:1,panMode:"drag",protected:!1,singleClickAction:!1,spinnerTpl:'<div class="f-spinner"></div>',wheelAction:gr.Zoom,width:"auto"};let kY,bCe=0,yCe=0,DY=0;const $me=(e,n={},o={})=>{let i,c,d,p,v,S,T,x,P=0,B=Object.assign(Object.assign({},Hme),n),U={},j=Object.assign({},vS),W=Object.assign({},vS);const Z=[];function re(Ge){let Lt=B[Ge];return Lt&&typeof Lt=="function"?Lt(Yt):Lt}function le(){return e&&e.parentElement&&i&&P===3}const ie=new Map;function be(Ge,...Lt){const ln=[...ie.get(Ge)||[]];B.on&&ln.push(B.on[Ge]);for(const On of ln)On&&On instanceof Function&&On(Yt,...Lt);Ge!=="*"&&be("*",Ge,...Lt)}function Ce(Ge){if(!le())return;const Lt=Ge.target;if(pk(Lt))return;const ln=Date.now(),On=[-Ge.deltaX||0,-Ge.deltaY||0,-Ge.detail||0].reduce((function(Rs,Ao){return Math.abs(Ao)>Math.abs(Rs)?Ao:Rs})),Bt=ll(-1,On,1);be("wheel",Ge,Bt);const $t=re("wheelAction");if(!$t||Ge.defaultPrevented)return;const ls=W.scale;let ks=ls*(Bt>0?1.5:.5);if($t===gr.Zoom){const Rs=Math.abs(Ge.deltaY)<100&&Math.abs(Ge.deltaX)<100;if(ln-yCe<(Rs?200:45))return void w2(Ge);yCe=ln;const Ao=hn(),sr=at();if(Sv(ks)<Sv(Ao)&&Sv(ls)<=Sv(Ao)?(DY+=Math.abs(Bt),ks=Ao):Sv(ks)>Sv(sr)&&Sv(ls)>=Sv(sr)?(DY+=Math.abs(Bt),ks=sr):(DY=0,ks=ll(Ao,ks,sr)),DY>7)return}switch(w2(Ge),$t){case gr.Pan:wo($t,{srcEvent:Ge,deltaX:2*-Ge.deltaX,deltaY:2*-Ge.deltaY});break;case gr.Zoom:wo(gr.ZoomTo,{srcEvent:Ge,scale:ks,center:{x:Ge.clientX,y:Ge.clientY}});break;default:wo($t,{srcEvent:Ge})}}function Ae(Ge){var Lt,ln;const On=Ge.composedPath()[0];if(!R3.isClickAllowed()||!$L(On)||Ge.defaultPrevented||!(e!=null&&e.contains(On))||On.hasAttribute("disabled")||On.hasAttribute("aria-disabled"))return;const Bt=On.closest("[data-panzoom-action]"),$t=(Lt=Bt==null?void 0:Bt.dataset)===null||Lt===void 0?void 0:Lt.panzoomAction,ls=((ln=Bt==null?void 0:Bt.dataset)===null||ln===void 0?void 0:ln.panzoomValue)||"";if($t){switch(w2(Ge),$t){case gr.ZoomTo:case gr.ZoomIn:case gr.ZoomOut:wo($t,{scale:parseFloat(ls||"")||void 0});break;case gr.MoveLeft:case gr.MoveRight:wo($t,{deltaX:parseFloat(ls||"")||void 0});break;case gr.MoveUp:case gr.MoveDown:wo($t,{deltaY:parseFloat(ls||"")||void 0});break;case gr.ToggleFS:ct();break;default:wo($t)}return}if(!(i!=null&&i.contains(On)))return;const ks={srcEvent:Ge};if(wo(re("clickAction"),ks),re("dblClickAction")){const Rs=Date.now(),Ao=Rs-(bCe||Rs);bCe=Rs,Ao>0&&Ao<=250?(kY&&(clearTimeout(kY),kY=void 0),wo(re("dblClickAction"),ks)):kY=setTimeout((()=>{wo(re("singleClickAction"),ks)}),250)}}function F(Ge){if(x=Ge,!le()||!mt()||j.scale<=1||W.scale<=1||((i==null?void 0:i.dataset.animationName)||"").indexOf("zoom")>-1)return;const Lt=gt(W.scale);if(!Lt)return;const{x:ln,y:On}=Lt;wo(gr.Pan,{deltaX:ln-W.x,deltaY:On-W.y})}function Ie(){var Ge;e&&(cE(e,"is-loading"),(Ge=e.querySelector(".f-spinner"))===null||Ge===void 0||Ge.remove())}function tt(){if(!e||!c)return;if(Ie(),eE(c)&&(!c.complete||!c.naturalWidth))return P=2,i==null||i.classList.add("has-error"),void be("error");be("loaded");const{width:Ge,height:Lt}=Re();eE(c)&&(c.setAttribute("width",Ge+""),c.setAttribute("height",Lt+"")),i&&(cE(i,"has-error"),eE(c)&&(i.setAttribute("width",Ge+""),i.setAttribute("height",Lt+""),i.style.aspectRatio=`${Ge/Lt||""}`)),S=bO().on("start",((On,Bt)=>{Bt.angle!==void 0&&(Bt.angle=90*Math.round(Bt.angle/90)),Bt.flipX!==void 0&&(Bt.flipX=Bt.flipX>0?1:-1),Bt.flipY!==void 0&&(Bt.flipY=Bt.flipY>0?1:-1),W=Object.assign(Object.assign({},vS),Bt),jn(),be("animationStart")})).on("pause",(On=>{W=Object.assign(Object.assign({},vS),On)})).on("step",(On=>{if(!le())return void(S==null||S.end());if(j=Object.assign(Object.assign({},vS),On),mt()||!re("bounds")||zt()||W.scale>j.scale||W.scale<ot())return void qt();const Bt=Cn(W.scale);let $t=!1,ls=!1,ks=!1,Rs=!1;j.x<Bt.x[0]&&($t=!0),j.x>Bt.x[1]&&(ls=!0),j.y<Bt.y[0]&&(Rs=!0),j.y>Bt.y[1]&&(ks=!0);let Ao=!1,sr=!1,Ks=!1,Ls=!1;W.x<Bt.x[0]&&(Ao=!0),W.x>Bt.x[1]&&(sr=!0),W.y<Bt.y[0]&&(Ls=!0),W.y>Bt.y[1]&&(Ks=!0);let Xo=!1;(ls&&sr||$t&&Ao)&&(W.x=ll(Bt.x[0],W.x,Bt.x[1]),Xo=!0),(ks&&Ks||Rs&&Ls)&&(W.y=ll(Bt.y[0],W.y,Bt.y[1]),Xo=!0),Xo&&S&&S.spring({tension:94,friction:17,maxSpeed:555*W.scale,restDelta:.1,restSpeed:.1,velocity:S.getCurrentVelocities()}).from(j).to(W).start(),qt()})).on("end",(()=>{Ro(),S!=null&&S.isRunning()||(jn(),be("animationEnd"))})),(function(){const On=re("gestures");On&&p&&c&&(v=R3(p,On).on("start",(Bt=>{if(!S)return;const $t=Bt.srcEvent;mt()||((j.scale>1||Bt.currentTouch.length>1)&&($t==null||$t.stopPropagation(),S.pause()),Bt.currentTouch.length===1&&be("touchStart"))})).on("move",(Bt=>{var $t;mt()||(W.scale!==1||Bt.currentTouch.length>1)&&(w2(Bt.srcEvent),($t=Bt.srcEvent)===null||$t===void 0||$t.stopPropagation())})).on("pan",(Bt=>{if(!le()||mt())return;const $t=Bt.srcEvent;(W.scale!==1||Bt.currentTouch.length>1)&&(w2($t),wo(gr.Pan,Bt))})).on("swipe",(Bt=>{le()&&!mt()&&W.scale>1&&wo(gr.Swipe,Bt)})).on("tap",(Bt=>{be("click",Bt)})).on("singleTap",(Bt=>{be("singleClick",Bt)})).on("doubleTap",(Bt=>{be("dblClick",Bt)})).on("pinch",(Bt=>{mt()||(Bt.scale>ot()?wo(gr.ZoomIn,Bt):Bt.scale<ot()?wo(gr.ZoomOut,Bt):wo(gr.Pan,Bt))})).on("end",(Bt=>{mt()||(Bt.currentTouch.length?(Bt.srcEvent.stopPropagation(),w2(Bt.srcEvent),S==null||S.end()):(jn(),Ro(),be("touchEnd")))})).init())})(),p&&(p.addEventListener("wheel",Ce,{passive:!1}),Z.push((()=>{p==null||p.removeEventListener("wheel",Ce,{passive:!1})}))),e==null||e.addEventListener("click",Ae),document==null||document.addEventListener("mousemove",F),Z.push((()=>{e==null||e.removeEventListener("click",Ae),document==null||document.removeEventListener("mousemove",F)}));const ln=Xe();j=Object.assign({},ln),W=Object.assign({},ln),P=3,qt(),jn(),be("ready"),requestAnimationFrame((()=>{Ie(),p&&(p.style.visibility="")}))}function Xe(){const Ge=Object.assign({},re("startPos")||{});let Lt=Ge.scale,ln=1;ln=typeof Lt=="string"?te(Lt):typeof Lt=="number"?Lt:ot();const On=Object.assign(Object.assign(Object.assign({},vS),Ge),{scale:ln}),Bt=mt()?gt(ln):void 0;if(Bt){const{x:$t,y:ls}=Bt;On.x=$t,On.y=ls}return On}function Ve(){const Ge={top:0,left:0,width:0,height:0};if(i){const Lt=i.getBoundingClientRect();W.angle%180==90?(Ge.top=Lt.top+.5*Lt.height-.5*Lt.width,Ge.left=Lt.left+.5*Lt.width-.5*Lt.height,Ge.width=Lt.height,Ge.height=Lt.width):(Ge.top=Lt.top,Ge.left=Lt.left,Ge.width=Lt.width,Ge.height=Lt.height)}return Ge}function Re(){let Ge=re("width"),Lt=re("height");if(c&&Ge==="auto"){const ln=c.getAttribute("width");Ge=ln?parseFloat(ln+""):c.dataset.width!==void 0?parseFloat(c.dataset.width+""):eE(p)?p.naturalWidth:eE(c)?c.naturalWidth:c.getBoundingClientRect().width}else Ge=kp(Ge)?parseFloat(Ge):Ge;if(c&&Lt==="auto"){const ln=c.getAttribute("height");Lt=ln?parseFloat(ln+""):c.dataset.height!==void 0?parseFloat(c.dataset.height+""):eE(p)?p.naturalHeight:eE(c)?c.naturalHeight:c.getBoundingClientRect().height}else Lt=kp(Lt)?parseFloat(Lt):Lt;return{width:Ge,height:Lt}}function vt(){const Ge=Ve();return{width:Ge.width,height:Ge.height}}function mt(){return re("panMode")==="mousemove"&&matchMedia("(hover: hover)").matches}function gt(Ge){const Lt=x||re("event"),ln=i==null?void 0:i.getBoundingClientRect();if(!Lt||!ln||Ge<=1)return{x:0,y:0};const On=(Lt.clientX||0)-ln.left,Bt=(Lt.clientY||0)-ln.top,{width:$t,height:ls}=vt(),ks=Cn(Ge);if(Ge>1){const Ls=re("mouseMoveFactor");Ls>1&&(Ge*=Ls)}let Rs=$t*Ge,Ao=ls*Ge,sr=.5*(Rs-$t)-On/$t*100/100*(Rs-$t),Ks=.5*(Ao-ls)-Bt/ls*100/100*(Ao-ls);return sr=ll(ks.x[0],sr,ks.x[1]),Ks=ll(ks.y[0],Ks,ks.y[1]),{x:sr,y:Ks}}function te(Ge="base"){if(!e)return 1;const Lt=e.getBoundingClientRect(),ln=Ve(),{width:On,height:Bt}=Re(),$t=sr=>{if(typeof sr=="number")return sr;switch(sr){case"min":case"base":return 1;case"cover":return Math.max(Lt.height/ln.height,Lt.width/ln.width)||1;case"full":case"max":{const Ks=W.angle%180==90?Bt:On;return Ks&&ln.width?Ks/ln.width:1}}},ls=re("minScale"),ks=re("maxScale"),Rs=Math.min($t("full"),$t(ls)),Ao=typeof ks=="number"?$t("full")*ks:Math.min($t("full"),$t(ks));switch(Ge){case"min":return Rs;case"base":return ll(Rs,1,Ao);case"cover":return $t("cover");case"full":return Math.min(Ao,$t("full"));case"max":return Ao}}function hn(){return te("min")}function ot(){return te("base")}function Rt(){return te("cover")}function kt(){return te("full")}function at(){return te("max")}function Cn(Ge){const Lt={x:[0,0],y:[0,0]},ln=e==null?void 0:e.getBoundingClientRect();if(!ln)return Lt;const On=Ve(),Bt=ln.width,$t=ln.height;let ls=On.width,ks=On.height,Rs=Ge=Ge===void 0?W.scale:Ge,Ao=Ge;if(mt()&&Ge>1){const sr=re("mouseMoveFactor");sr>1&&(ls*Ge>Bt+.01&&(Rs*=sr),ks*Ge>$t+.01&&(Ao*=sr))}return ls*=Rs,ks*=Ao,Ge>1&&(ls>Bt&&(Lt.x[0]=.5*(Bt-ls),Lt.x[1]=.5*(ls-Bt)),Lt.x[0]-=.5*(On.left-ln.left),Lt.x[1]-=.5*(On.left-ln.left),Lt.x[0]-=.5*(On.left+On.width-ln.right),Lt.x[1]-=.5*(On.left+On.width-ln.right),ks>$t&&(Lt.y[0]=.5*($t-ks),Lt.y[1]=.5*(ks-$t)),Lt.y[0]-=.5*(On.top-ln.top),Lt.y[1]-=.5*(On.top-ln.top),Lt.y[0]-=.5*(On.top+On.height-ln.bottom),Lt.y[1]-=.5*(On.top+On.height-ln.bottom)),Lt}function Ro(){if(!le()||!re("bounds")||!S)return;const Ge=hn(),Lt=at(),ln=ll(Ge,W.scale,Lt);if(W.scale<Ge-.01||W.scale>Lt+.01)return void wo(gr.ZoomTo,{scale:ln});if(S.isRunning()||zt())return;const On=Cn(ln);W.x<On.x[0]||W.x>On.x[1]||W.y<On.y[0]||W.y>On.y[1]?(W.x=ll(On.x[0],W.x,On.x[1]),W.y=ll(On.y[0],W.y,On.y[1]),S.spring({tension:170,friction:17,restDelta:.001,restSpeed:.001,maxSpeed:1/0,velocity:S.getCurrentVelocities()}),S.from(j).to(W).start()):qt()}function jn(Ge){var Lt;if(!le())return;const ln=vn(),On=zt(),Bt=wn(),$t=fn(),ls=_e(),ks=vr();bg(i,"is-fullsize",$t),bg(i,"is-expanded",Bt),bg(i,"is-dragging",On),bg(i,"can-drag",ln),bg(i,"will-zoom-in",ls),bg(i,"will-zoom-out",ks);const Rs=Ut(),Ao=xn(),sr=vs(),Ks=!le();for(const Ls of((Lt=Ge||e)===null||Lt===void 0?void 0:Lt.querySelectorAll("[data-panzoom-action]"))||[]){const Xo=Ls.dataset.panzoomAction;let At=!1;if(Ks)At=!0;else switch(Xo){case gr.ZoomIn:Rs||(At=!0);break;case gr.ZoomOut:sr||(At=!0);break;case gr.ToggleFull:{Ao||sr||(At=!0);const Vt=Ls.querySelector("g");Vt&&(Vt.style.display=$t&&!At?"none":"");break}case gr.IterateZoom:{Rs||sr||(At=!0);const Vt=Ls.querySelector("g");Vt&&(Vt.style.display=Rs||At?"":"none");break}case gr.ToggleCover:case gr.ToggleMax:Rs||sr||(At=!0)}At?(Ls.setAttribute("aria-disabled",""),Ls.setAttribute("tabindex","-1")):(Ls.removeAttribute("aria-disabled"),Ls.removeAttribute("tabindex"))}}function wo(Ge,Lt){var ln;if(!e||!c||!S||Ge===gr.Swipe&&Math.abs(S.getCurrentVelocities().scale)>.01)return;const On=Object.assign({},W);let Bt=Object.assign({},W),$t=Cn(mt()?On.scale:j.scale);const ls=S.getCurrentVelocities(),ks=Ve(),Rs=(((ln=(Lt=Lt||{}).currentTouch)===null||ln===void 0?void 0:ln.length)||0)>1,Ao=Lt.velocityX||0,sr=Lt.velocityY||0;let Ks=Lt.center;!Ks&&Lt.srcEvent&&(Ks=Rx(i2e(Lt.srcEvent)));let Ls=Lt.deltaX||0,Xo=Lt.deltaY||0;switch(Ge){case gr.MoveRight:Ls=Lt.deltaX||100;break;case gr.MoveLeft:Ls=Lt.deltaX||-100;break;case gr.MoveUp:Xo=Lt.deltaY||-100;break;case gr.MoveDown:Xo=Lt.deltaY||100}let At=[];switch(Ge){case gr.Reset:Bt=Object.assign({},vS),Bt.scale=ot();break;case gr.Pan:case gr.Move:case gr.MoveLeft:case gr.MoveRight:case gr.MoveUp:case gr.MoveDown:if(zt()){let tn=1,to=1;Bt.x<=$t.x[0]&&Ao<=0&&(tn=Math.max(.01,1-Math.abs(1/ks.width*Math.abs(Bt.x-$t.x[0]))),tn*=.2),Bt.x>=$t.x[1]&&Ao>=0&&(tn=Math.max(.01,1-Math.abs(1/ks.width*Math.abs(Bt.x-$t.x[1]))),tn*=.2),Bt.y<=$t.y[0]&&sr<=0&&(to=Math.max(.01,1-Math.abs(1/ks.height*Math.abs(Bt.y-$t.y[0]))),to*=.2),Bt.y>=$t.y[1]&&sr>=0&&(to=Math.max(.01,1-Math.abs(1/ks.height*Math.abs(Bt.y-$t.y[1]))),to*=.2),Bt.x+=Ls*tn,Bt.y+=Xo*to}else Bt.x=ll($t.x[0],Bt.x+Ls,$t.x[1]),Bt.y=ll($t.y[0],Bt.y+Xo,$t.y[1]);break;case gr.Swipe:const Vt=(tn=0)=>Math.sign(tn)*Math.pow(Math.abs(tn),1.5);Bt.x+=ll(-1e3,Vt(Ao),1e3),Bt.y+=ll(-1e3,Vt(sr),1e3),sr&&!Ao&&(Bt.x=ll($t.x[0],Bt.x,$t.x[1])),!sr&&Ao&&(Bt.y=ll($t.y[0],Bt.y,$t.y[1])),ls.x=Ao,ls.y=sr;break;case gr.ZoomTo:Bt.scale=Lt.scale||1;break;case gr.ZoomIn:Bt.scale=Bt.scale*(Lt.scale||2),Rs||(Bt.scale=Math.min(Bt.scale,at()));break;case gr.ZoomOut:Bt.scale=Bt.scale*(Lt.scale||.5),Rs||(Bt.scale=Math.max(Bt.scale,hn()));break;case gr.ToggleCover:At=[ot(),Rt()];break;case gr.ToggleFull:At=[ot(),kt()];break;case gr.ToggleMax:At=[ot(),at()];break;case gr.IterateZoom:At=[ot(),kt(),at()];break;case gr.Zoom:const en=kt();Bt.scale>=en-.05?Bt.scale=ot():Bt.scale=Math.min(en,Bt.scale*(Lt.scale||2));break;case gr.RotateCW:Bt.angle+=90;break;case gr.RotateCCW:Bt.angle-=90;break;case gr.FlipX:Bt.flipX*=-1;break;case gr.FlipY:Bt.flipY*=-1}if(j.angle!==void 0&&Math.abs(j.angle)>=360&&(Bt.angle-=360*Math.floor(j.angle/360),j.angle-=360*Math.floor(j.angle/360)),At.length){const Vt=At.findIndex((en=>en>Bt.scale+1e-4));Bt.scale=At[Vt]||At[0]}if(Rs&&(Bt.scale=ll(hn()*(Rs?.8:1),Bt.scale,at()*(Rs?1.6:1))),mt()){const Vt=gt(Bt.scale);if(Vt){const{x:en,y:tn}=Vt;Bt.x=en,Bt.y=tn}}else if(Math.abs(Bt.scale-On.scale)>1e-4){let Vt=0,en=0;if(Ks)Vt=Ks.x,en=Ks.y;else{const cn=e.getBoundingClientRect();Vt=cn.x+.5*cn.width,en=cn.y+.5*cn.height}let tn=Vt-ks.left,to=en-ks.top;tn-=.5*ks.width,to-=.5*ks.height;const go=(tn-On.x)/On.scale,To=(to-On.y)/On.scale;Bt.x=tn-go*Bt.scale,Bt.y=to-To*Bt.scale,!Rs&&re("bounds")&&($t=Cn(Bt.scale),Bt.x=ll($t.x[0],Bt.x,$t.x[1]),Bt.y=ll($t.y[0],Bt.y,$t.y[1]))}if(Ge===gr.Swipe){let Vt=94,en=17,tn=500*Bt.scale,to=ls;S.spring({tension:Vt,friction:en,maxSpeed:tn,restDelta:.1,restSpeed:.1,velocity:to})}else Ge===gr.Pan||Rs?S.spring({tension:900,friction:17,restDelta:.01,restSpeed:.01,maxSpeed:1}):S.spring({tension:170,friction:17,restDelta:.001,restSpeed:.001,maxSpeed:1/0,velocity:ls});if(Lt.velocity===0||O6(j,Bt))j=Object.assign({},Bt),W=Object.assign({},Bt),S.end(),qt(),jn();else{if(O6(W,Bt))return;S.from(j).to(Bt).start()}be("action",Ge)}function qt(){if(!c||!i||!p)return;const{width:Ge,height:Lt}=Re();Object.assign(i.style,{maxWidth:`min(${Ge}px, 100%)`,maxHeight:`min(${Lt}px, 100%)`});const ln=(function(){const{width:Ls,height:Xo}=Re(),{width:At,height:Vt}=vt();if(!e)return{x:0,y:0,width:0,height:0,scale:0,flipX:0,flipY:0,angle:0,fitWidth:At,fitHeight:Vt,fullWidth:Ls,fullHeight:Xo};let{x:en,y:tn,scale:to,angle:go,flipX:To,flipY:cn}=j,ro=1/kt(),Xn=Ls,fs=Xo,rs=j.scale*ro,$n=W.scale*ro;const gi=Math.max(At,Vt),ur=Math.min(At,Vt);Ls>Xo?(Xn=gi,fs=ur):(Xn=ur,fs=gi),rs=Ls>Xo?gi*to/Ls||1:gi*to/Xo||1;let Nr=Xn?Ls*$n:0,fa=fs?Xo*$n:0,ta=Xn&&fs?Ls*rs/Nr:0;return en=en+.5*Xn-.5*Nr,tn=tn+.5*fs-.5*fa,{x:en,y:tn,width:Nr,height:fa,scale:ta,flipX:To,flipY:cn,angle:go,fitWidth:At,fitHeight:Vt,fullWidth:Ls,fullHeight:Xo}})(),{x:On,y:Bt,width:$t,height:ls,scale:ks,angle:Rs,flipX:Ao,flipY:sr}=ln;let Ks=`translate(${Sv(On)}px, ${Sv(Bt)}px)`;Ks+=Ao!==1||sr!==1?` scaleX(${Sv(ks*Ao)}) scaleY(${Sv(ks*sr)})`:` scale(${Sv(ks)})`,Rs!==0&&(Ks+=` rotate(${Rs}deg)`),p.style.width=`${Sv($t)}px`,p.style.height=`${Sv(ls)}px`,p.style.transform=`${Ks}`,be("render")}function Tn(){let Ge=W.scale;const Lt=re("clickAction");let ln=ot();if(Lt){let On=[];switch(Lt){case gr.ZoomIn:ln=2*Ge;break;case gr.ZoomOut:ln=.5*Ge;break;case gr.ToggleCover:On=[ot(),Rt()];break;case gr.ToggleFull:On=[ot(),kt()];break;case gr.ToggleMax:On=[ot(),at()];break;case gr.IterateZoom:On=[ot(),kt(),at()];break;case gr.Zoom:const Bt=kt();ln=Ge>=Bt-.05?ot():Math.min(Bt,2*Ge)}if(On.length){const Bt=On.findIndex(($t=>$t>Ge+1e-4));ln=On[Bt]||ot()}}return ln=ll(hn(),ln,at()),ln}function _e(){return!!(le()&&Tn()>W.scale)}function vr(){return!!(le()&&Tn()<W.scale)}function vs(){return!!(le()&&W.scale>hn())}function Ut(){return!!(le()&&W.scale<at())}function xn(){return!!(le()&&W.scale<kt())}function vn(){return!(!(le()&&wn()&&v)||mt())}function zt(){return!(!le()||!(v!=null&&v.isPointerDown())||mt())}function wn(){return!!(le()&&W.scale>ot())}function fn(){return!!(le()&&W.scale>=kt())}function ct(){const Ge="in-fullscreen",Lt="with-panzoom-in-fullscreen";e==null||e.classList.toggle(Ge);const ln=e==null?void 0:e.classList.contains(Ge);ln?(document.documentElement.classList.add(Lt),document.addEventListener("keydown",Mt,!0)):(document.documentElement.classList.remove(Lt),document.removeEventListener("keydown",Mt,!0)),qt(),be(ln?"enterFS":"exitFS")}function Mt(Ge){Ge.key!=="Escape"||Ge.defaultPrevented||ct()}const Yt={canDrag:vn,canZoomIn:Ut,canZoomOut:vs,canZoomToFull:xn,destroy:function(){be("destroy");for(const Ge of Object.values(U))Ge==null||Ge.destroy(Yt);for(const Ge of Z)Ge();return i&&(i.style.aspectRatio="",i.style.maxWidth="",i.style.maxHeight=""),p&&(p.style.width="",p.style.height="",p.style.transform=""),i=void 0,c=void 0,p=void 0,j=Object.assign({},vS),W=Object.assign({},vS),S==null||S.destroy(),S=void 0,v==null||v.destroy(),v=void 0,P=4,Yt},emit:be,execute:wo,getBoundaries:Cn,getContainer:function(){return e},getContent:function(){return c},getFullDim:Re,getGestures:function(){return v},getMousemovePos:gt,getOptions:function(){return B},getPlugins:function(){return U},getScale:te,getStartPosition:Xe,getState:function(){return P},getTransform:function(Ge){return Ge===!0?W:j},getTween:function(){return S},getViewport:function(){return p},getWrapper:function(){return i},init:function(){return P=0,be("init"),(function(){for(const[Ge,Lt]of Object.entries(Object.assign(Object.assign({},o),B.plugins||{})))if(Ge&&!U[Ge]&&Lt instanceof Function){const ln=Lt();ln.init(Yt),U[Ge]=ln}be("initPlugins")})(),(function(){const Ge=Object.assign(Object.assign({},Hme.classes),re("classes"));if(e&&(Ta(e,Ge.container),c=e.querySelector("."+Ge.content),!!c)){if(c.setAttribute("draggable","false"),i=e.querySelector("."+Ge.wrapper),i||(i=document.createElement("div"),Ta(i,Ge.wrapper),c.insertAdjacentElement("beforebegin",i),i.insertAdjacentElement("afterbegin",c)),p=e.querySelector("."+Ge.viewport),p||(p=document.createElement("div"),Ta(p,Ge.viewport),p.insertAdjacentElement("afterbegin",c),i.insertAdjacentElement("beforeend",p)),d=c.cloneNode(!0),d.removeAttribute("id"),i.insertAdjacentElement("afterbegin",d),c instanceof HTMLPictureElement&&(c=c.querySelector("img")),d instanceof HTMLPictureElement&&(d=d.querySelector("img")),p instanceof HTMLPictureElement&&(p=p.querySelector("img")),p&&(p.style.visibility="hidden",re("protected"))){p.addEventListener("contextmenu",(ln=>{w2(ln)}));const Lt=document.createElement("div");Ta(Lt,"f-panzoom__protected"),p.appendChild(Lt)}be("initLayout")}})(),(function(){if(e&&i&&!T){let Ge=null;T=new ResizeObserver((()=>{le()&&(Ge=Ge||requestAnimationFrame((()=>{le()&&(jn(),Ro(),be("refresh")),Ge=null})))})),T.observe(i),Z.push((()=>{T==null||T.disconnect(),T=void 0,Ge&&(cancelAnimationFrame(Ge),Ge=null)}))}})(),(function(){if(!e||!c)return;if(!eE(c)||!eE(d))return void tt();const Ge=()=>{c&&eE(c)&&c.decode().then((()=>{tt()})).catch((()=>{tt()}))};if(P=1,e.classList.add("is-loading"),be("loading"),d.src&&d.complete)return void Ge();(function(){if(!e||e!=null&&e.querySelector(".f-spinner"))return;const Lt=re("spinnerTpl"),ln=vO(Lt);ln&&(ln.classList.add("f-spinner"),e.classList.add("is-loading"),i==null||i.insertAdjacentElement("afterbegin",ln))})(),d.addEventListener("load",Ge,!1),d.addEventListener("error",Ge,!1),Z.push((()=>{d==null||d.removeEventListener("load",Ge,!1),d==null||d.removeEventListener("error",Ge,!1)}))})(),Yt},isDragging:zt,isExpanded:wn,isFullsize:fn,localize:function(Ge,Lt=[]){const ln=re("l10n")||{};Ge=String(Ge).replace(/\{\{(\w+)\}\}/g,((On,Bt)=>ln[Bt]||On));for(let On=0;On<Lt.length;On++)Ge=Ge.split(Lt[On][0]).join(Lt[On][1]);return Ge=Ge.replace(/\{\{(.*?)\}\}/g,((On,Bt)=>Bt))},off:function(Ge,Lt){for(const ln of Ge instanceof Array?Ge:[Ge])ie.has(ln)&&ie.set(ln,ie.get(ln).filter((On=>On!==Lt)));return Yt},on:function(Ge,Lt){for(const ln of Ge instanceof Array?Ge:[Ge])ie.set(ln,[...ie.get(ln)||[],Lt]);return Yt},toggleFS:ct,updateControls:jn,version:"6.0.32",willZoomIn:_e,willZoomOut:vr};return Yt};$me.l10n={en_EN:T0e},$me.getDefaults=()=>Hme;/*! License details at fancyapps.com/license */const jfe=(e,n)=>{let o=[];return e.childNodes.forEach((i=>{i.nodeType!==Node.ELEMENT_NODE||n&&!i.matches(n)||o.push(i)})),o};/*! License details at fancyapps.com/license */const Ib=(e,...n)=>{const o=n.length;for(let i=0;i<o;i++){const c=n[i]||{};Object.entries(c).forEach((([d,p])=>{const v=Array.isArray(p)?[]:{};e[d]||Object.assign(e,{[d]:v}),Tg(p)?Object.assign(e[d],Ib(e[d],p)):Array.isArray(p)?Object.assign(e,{[d]:[...p]}):Object.assign(e,{[d]:p})}))}return e};/*! License details at fancyapps.com/license */const Ume=function(e=0,n=0,o=0,i=0,c=0,d=!1){const p=(e-n)/(o-n)*(c-i)+i;return d?i<c?ll(i,p,c):ll(c,p,i):p};/*! License details at fancyapps.com/license */const x0e=Object.assign(Object.assign({},T0e),{ERROR:"Something went wrong. <br /> Please try again later.",NEXT:"Next page",PREV:"Previous page",GOTO:"Go to page #%d",DOWNLOAD:"Download",TOGGLE_FULLSCREEN:"Toggle full-screen mode",TOGGLE_EXPAND:"Toggle full-size mode",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_AUTOPLAY:"Toggle slideshow"});/*! License details at fancyapps.com/license */const u5=e=>{e.cancelable&&e.preventDefault()},BL={adaptiveHeight:!1,center:!0,classes:{container:"f-carousel",isEnabled:"is-enabled",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",hasAdaptiveHeight:"has-adaptive-height",viewport:"f-carousel__viewport",slide:"f-carousel__slide",isSelected:"is-selected"},dragFree:!1,enabled:!0,errorTpl:'<div class="f-html">{{ERROR}}</div>',fill:!1,infinite:!0,initialPage:0,l10n:x0e,rtl:!1,slides:[],slidesPerPage:"auto",spinnerTpl:'<div class="f-spinner"></div>',transition:"fade",tween:{clamp:!0,mass:1,tension:160,friction:25,restDelta:1,restSpeed:1,velocity:0},vertical:!1};let SCe,CCe=0;const $J=(e,n={},o={})=>{CCe++;let i,c,d,p,v,S=0,T=Object.assign({},BL),x=Object.assign({},BL),P={},B=null,U=null,j=!1,W=!1,Z=!1,re=!1,le="height",ie=0,be=!0,Ce=0,Ae=0,F=0,Ie=0,tt="*",Xe=[],Ve=[];const Re=new Set;let vt=[],mt=[],gt=0,te=0,hn=0;function ot(At,...Vt){let en=x[At];return en&&en instanceof Function?en(Xo,...Vt):en}function Rt(At,Vt=[]){const en=ot("l10n")||{};At=String(At).replace(/\{\{(\w+)\}\}/g,((tn,to)=>en[to]||tn));for(let tn=0;tn<Vt.length;tn++)At=At.split(Vt[tn][0]).join(Vt[tn][1]);return At=At.replace(/\{\{(.*?)\}\}/g,((tn,to)=>to))}const kt=new Map;function at(At,...Vt){const en=[...kt.get(At)||[]];x.on&&en.push(x.on[At]);for(const tn of en)tn&&tn instanceof Function&&tn(Xo,...Vt);At!=="*"&&at("*",At,...Vt)}function Cn(){var At,Vt;const en=Ib({},BL,T);Ib(en,BL,T);let tn="";const to=T.breakpoints||{};if(to)for(const[go,To]of Object.entries(to))window.matchMedia(go).matches&&(tn+=go,Ib(en,To));if(v===void 0||tn!==v){if(v=tn,S!==0){let go=(Vt=(At=mt[Ce])===null||At===void 0?void 0:At.slides[0])===null||Vt===void 0?void 0:Vt.index;go===void 0&&(go=x.initialSlide),en.initialSlide=go,en.slides=[];for(const To of Xe)To.isVirtual&&en.slides.push(To)}sr(),x=en,x.enabled!==!1&&(S=0,at("init"),(function(){for(const[go,To]of Object.entries(Object.assign(Object.assign({},o),x.plugins||{})))if(go&&!P[go]&&To instanceof Function){const cn=To();cn.init(Xo,$J),P[go]=cn}at("initPlugins")})(),(function(){if(!B)return;const go=ot("classes")||{};Ta(B,go.container);const To=ot("style");if(To&&Tg(To))for(const[cn,ro]of Object.entries(To))B.style.setProperty(cn,ro);U=B.querySelector(`.${go.viewport}`),U||(U=document.createElement("div"),Ta(U,go.viewport),U.append(...jfe(B,`.${go.slide}`)),B.insertAdjacentElement("afterbegin",U)),B.carousel=Xo,at("initLayout")})(),(function(){if(!U)return;const go=ot("classes")||{};Xe=[],[...jfe(U,`.${go.slide}`)].forEach((To=>{To.parentElement&&Xe.push(wn(Object.assign({el:To,isVirtual:!1},To.dataset||{})))})),zt(ot("slides"));for(const To of Xe)at("addSlide",To);for(const To of Xe){const cn=To.el;cn!=null&&cn.parentElement&&(Ta(cn,x.classes.slide),Ta(cn,To.class),ks(To),at("attachSlideEl",To))}at("initSlides")})(),Ge(),(function(){if(B&&(B.addEventListener("click",Bt,{passive:!1}),document.addEventListener("mousemove",Ro),!d)){let go=null;d=new ResizeObserver((To=>{go||(go=requestAnimationFrame((()=>{(function(cn){var ro;if(!B)return;if(S===0){const gi=(ro=cn[0])===null||ro===void 0?void 0:ro.contentBoxSize[0],ur=(gi==null?void 0:gi.blockSize)||0,Nr=(gi==null?void 0:gi.inlineSize)||0;return gt=ur,te=Nr,S=1,Ta(B,(ot("classes")||{}).isEnabled),Ao(),c=bO().on("start",(()=>{i&&i.isPointerDown()||(qt(),Ao())})).on("step",(fa=>{const ta=ie;ie=fa.pos,ie!==ta&&(be=!1,Ao())})).on("end",(fa=>{i!=null&&i.isPointerDown()||(ie=fa.pos,c&&!W&&(ie<F||ie>Ie)?c.spring({clamp:!0,mass:1,tension:200,friction:25,velocity:0,restDelta:1,restSpeed:1}).from({pos:ie}).to({pos:ll(F,ie,Ie)}).start():be||(be=!0,at("settle")))})),jn(),Tn(),void at("ready")}if(S!==1)return;const Xn=mt.length;Ge(),jn();const fs=B.getBoundingClientRect(),rs=fs.height,$n=fs.width;Xn>1&&(re&&Math.abs(rs-gt)<.5||!re&&Math.abs($n-te)<.5)||(gt=rs,te=$n,re&&!rs||!re&&!$n||B&&U&&(Xn===mt.length&&(i!=null&&i.isPointerDown())||(ot("dragFree")&&(W||ie>F&&ie<Ie)?(qt(),Ao()):Rs(Ce,{transition:!1}))))})(To),go=null})))})),d.observe(B)}})())}}function Ro(At){SCe=At}function jn(){if(!U)return;const At=ot("gestures");At!==!1?i||(i=R3(U,At).on("start",(Vt=>{var en,tn;if(!c)return;const{srcEvent:to}=Vt;re&&pk(to.target),c.pause(),c.getCurrentVelocities().pos=0;const go=(en=mt[Ce])===null||en===void 0?void 0:en.slides[0];go&&Re.has(go.index)&&go.el&&(ie=go.offset||0,ie+=((function(To){const cn=window.getComputedStyle(To),ro=new DOMMatrixReadOnly(cn.transform);return{width:ro.m41||0,height:ro.m42||0}})(go.el)[le]||0)*(Z&&!re?1:-1)),ln(),!W&&(ie<F||ie>Ie)&&c.spring({clamp:!0,mass:1,tension:500,friction:25,velocity:((tn=c.getCurrentVelocities())===null||tn===void 0?void 0:tn.pos)||0,restDelta:1,restSpeed:1}).from({pos:ie}).to({pos:ll(F,ie,Ie)}).start()})).on("move",(Vt=>{const{srcEvent:en,axis:tn}=Vt,to=Vt.srcEvent.target;to&&pk(to)||(tn||(en.stopPropagation(),en.stopImmediatePropagation()),(tn==="y"&&re||tn==="x"&&!re)&&(u5(en),en.stopPropagation()))})).on("panstart",(Vt=>{(Vt==null?void 0:Vt.axis)===(re?"y":"x")&&Ta(U,"is-dragging")})).on("panend",(()=>{cE(U,"is-dragging")})).on("pan",(Vt=>{var en;const{deltaX:tn,deltaY:to,currentTouch:go,axis:To}=Vt;if(!c||go.length>1||To==="y"&&!re||To==="x"&&re)return;const cn=Z&&!re?1:-1;let ro=re?to:tn,Xn=c!=null&&c.isRunning()?c.getEndValues().pos:ie,fs=1;W||(Xn<=F&&ro*cn<0?(fs=Math.max(.01,1-Math.abs(1/Ut()*Math.abs(Xn-F))),fs*=.2):Xn>=Ie&&ro*cn>0&&(fs=Math.max(.01,1-Math.abs(1/Ut()*Math.abs(Xn-Ie))),fs*=.2)),Xn+=ro*fs*cn,c.spring({clamp:!0,mass:1,tension:700,friction:25,velocity:((en=c.getCurrentVelocities())===null||en===void 0?void 0:en.pos)||0,restDelta:1,restSpeed:1}).from({pos:ie}).to({pos:Xn}).start()})).on("end",(Vt=>{var en,tn;const{axis:to,velocityX:go,velocityY:To,currentTouch:cn}=Vt,ro=mt.length,Xn=ot("dragFree");if(cn.length>0||!c||!ro)return;const fs=ot("vertical")?To:go;let rs=c!=null&&c.isRunning()?c.getEndValues().pos:ie;const $n=Z&&!re?1:-1;if(rs+=fs*(Xn?5:1)*$n,!W&&(fs*$n<=0&&rs<F||fs*$n>=0&&rs>Ie)){let ur=0;return Math.abs(fs)>0&&(ur=2*Math.abs(fs),ur=Math.min(.3*Ut(),ur)),rs=ll(F+-1*ur,rs,Ie+ur),void c.spring({clamp:!0,mass:1,tension:380,friction:25,velocity:-1*fs,restDelta:1,restSpeed:1}).from({pos:ie}).to({pos:rs}).start()}if(Xn||!((en=P.Autoscroll)===null||en===void 0)&&en.isEnabled())return void(Math.abs(fs)>10?c.spring({clamp:!0,mass:1,tension:150,friction:25,velocity:-1*fs,restDelta:1,restSpeed:1}).from({pos:ie}).to({pos:rs}).start():c.isRunning()||be||(be=!0,at("settle")));if(!Xn&&!(!((tn=P.Autoscroll)===null||tn===void 0)&&tn.isEnabled())&&(!Vt.offsetX&&!Vt.offsetY||to==="y"&&!re||to==="x"&&re))return void Rs(Ce,{transition:"tween"});let gi=vr(rs);Math.abs(fs)>10&&gi===Ce&&(gi+=fs>0?Z&&!re?1:-1:Z&&!re?-1:1),Rs(gi,{transition:"tween",tween:{velocity:-1*fs}})})).init()):i&&(i.destroy(),i=void 0)}function wo(At="*"){var Vt;const en=[];for(const tn of Xe)(At==="*"||tn.class&&tn.class.includes(At)||tn.el&&(!((Vt=tn.el)===null||Vt===void 0)&&Vt.classList.contains(At)))&&en.push(tn);p=void 0,tt=At,Ve=[...en]}function qt(){if(!c)return;const At=vr(c!=null&&c.isRunning()?c.getEndValues().pos:ie);At!==Ce&&(p=Ce,Ce=At,ks(),Tn(),_e(),at("change",Ce,p))}function Tn(){var At;if(!B)return;bg(U,"is-draggable",!!i&&mt.length>0);for(const tn of B.querySelectorAll("[data-carousel-index]"))tn.innerHTML=Ce+"";for(const tn of B.querySelectorAll("[data-carousel-page]"))tn.innerHTML=Ce+1+"";for(const tn of B.querySelectorAll("[data-carousel-pages]"))tn.innerHTML=mt.length+"";for(const tn of B.querySelectorAll("[data-carousel-go-prev]"))tn.toggleAttribute("aria-disabled",!Ks()),Ks()?tn.removeAttribute("tabindex"):tn.setAttribute("tabindex","-1");for(const tn of B.querySelectorAll("[data-carousel-go-next]"))tn.toggleAttribute("aria-disabled",!Ls()),Ls()?tn.removeAttribute("tabindex"):tn.setAttribute("tabindex","-1");let Vt=!1;const en=(At=mt[Ce])===null||At===void 0?void 0:At.slides[0];en&&(en.downloadSrc||en.type==="image"&&en.src)&&(Vt=!0);for(const tn of B.querySelectorAll("[data-carousel-download]"))tn.toggleAttribute("aria-disabled",!Vt)}function _e(At){var Vt;At||(At=(Vt=mt[Ce])===null||Vt===void 0?void 0:Vt.slides[0]);const en=At.el;if(en)for(const tn of en.querySelectorAll("[data-slide-index]"))tn.innerHTML=At.index+1+""}function vr(At){var Vt,en,tn;if(!mt.length||!c)return 0;const to=xn();let go=At;W?go-=Math.floor((At-((Vt=mt[0])===null||Vt===void 0?void 0:Vt.pos))/to)*to:go=ll((en=mt[0])===null||en===void 0?void 0:en.pos,At,(tn=mt[mt.length-1])===null||tn===void 0?void 0:tn.pos);const To=new Map;let cn=0;for(const Xn of mt){const fs=Math.abs(Xn.pos-go),rs=Math.abs(Xn.pos-go-to),$n=Math.abs(Xn.pos-go+to),gi=Math.min(fs,rs,$n);To.set(cn,gi),cn++}const ro=To.size>0?[...To.entries()].reduce(((Xn,fs)=>fs[1]<Xn[1]?fs:Xn)):[Ce,0];return parseInt(ro[0])}function vs(){return hn}function Ut(){return U&&U.getBoundingClientRect()[le]||0}function xn(At=!0){return Ve.reduce(((Vt,en)=>Vt+en.dim),0)+(Ve.length-(W&&At?0:1))*hn}function vn(At){const Vt=xn();let en=Ut();if(!U)return[];const tn=[];if(!Vt||!en)return[];At=At===void 0?ie:At,W&&(At-=Math.floor(At/Vt)*Vt);let to=0,go=0;if(j){const cn=U.getBoundingClientRect();to=Math.abs(cn.left),go=Math.abs(window.innerWidth-cn.right)}let To=0;for(let cn of Ve){const ro=(Xn=0)=>{tn.indexOf(cn)>-1||(cn.pos=To-At+Xn||0,cn.offset+Xn>At-cn.dim-to+.51&&cn.offset+Xn<At+en+go-.51&&tn.push(cn))};cn.offset=To,W&&(ro(Vt),ro(-1*Vt)),ro(),To+=cn.dim+hn}return tn}function zt(At,Vt){const en=[];for(const tn of Array.isArray(At)?At:[At]){const to=wn(Object.assign(Object.assign({},tn),{isVirtual:!0}));en.push(to)}Xe.splice(Vt===void 0?Xe.length:Vt,0,...en),Yt();for(const tn of en)fn(tn);return wo(tt),en}function wn(At){return(kp(At)||At instanceof HTMLElement)&&(At={html:At}),Object.assign({index:-1,el:void 0,class:"",isVirtual:!0,dim:0,pos:0,offset:0,html:"",src:""},At)}function fn(At){if(!At)return;let Vt=At.el;Vt||(Vt=document.createElement("div"),At.el=Vt);const en=At.html?At.html instanceof HTMLElement?At.html:vO(At.html):void 0;en&&(Ta(en,"f-html"),At.htmlEl=en,Ta(Vt,"has-html"),Vt.append(en),at("contentReady",At))}function ct(At){if(!U||!At)return;let Vt=At.el;if(Vt){if(Vt.setAttribute("index",At.index+""),Vt.parentElement!==U){let en;Ta(Vt,x.classes.slide),Ta(Vt,At.class),ks(At);for(const tn of Xe)if(tn.index>At.index){en=tn.el;break}U.insertBefore(Vt,en&&U.contains(en)?en:null),at("attachSlideEl",At)}return _e(At),Vt}}function Mt(At){const Vt=At==null?void 0:At.el;Vt&&(Vt.remove(),Lt(Vt),at("detachSlideEl",At))}function Yt(){for(let At=0;At<Xe.length;At++){const Vt=Xe[At],en=Vt.el;en&&(Vt.index!==At&&Lt(en),en.setAttribute("index",`${At}`)),Vt.index=At}}function Ge(){var At,Vt,en,tn,to;if(!B||!U)return;Z=ot("rtl"),re=ot("vertical"),le=re?"height":"width";const go=ot("classes");bg(B,go.isLTR,!Z),bg(B,go.isRTL,Z),bg(B,go.isHorizontal,!re),bg(B,go.isVertical,re),bg(B,go.hasAdaptiveHeight,ot("adaptiveHeight")),j=window.getComputedStyle(U).getPropertyValue("overflow-"+(re?"y":"x"))==="visible";const To=U.getBoundingClientRect();if(!To.width&&!To.height)return;hn=U&&parseFloat(getComputedStyle(U).getPropertyValue("--f-carousel-gap"))||0;const cn=(function(){let ro=0;if(U){let Xn=document.createElement("div");Ta(Xn,x.classes.slide),U.appendChild(Xn),ro=Xn.getBoundingClientRect()[le],Xn.remove(),Xn=void 0}return ro})();for(const ro of Ve){const Xn=ro.el;let fs=0;if(!ro.isVirtual&&Xn&&$L(Xn)){let rs=!1;Xn.parentElement&&Xn.parentElement===U||(U.appendChild(Xn),rs=!0),fs=Xn.getBoundingClientRect()[le],rs&&((At=Xn.parentElement)===null||At===void 0||At.removeChild(Xn))}else fs=cn;ro.dim=fs}if(W=!1,ot("infinite")){W=!0;const ro=xn();let Xn=Ut();if(j){const fs=U.getBoundingClientRect();Xn+=fs.left,Xn+=fs.right-fs.width}for(let fs=0;fs<Ve.length;fs++){const rs=((Vt=Ve[fs])===null||Vt===void 0?void 0:Vt.dim)+hn;if(ro-rs<Xn&&ro-rs-Xn<rs){W=!1;break}}}if((function(){var ro;if(!B)return;Yt();const Xn=Ut(),fs=xn(!1);let rs=ot("slidesPerPage");rs=rs==="auto"?1/0:parseFloat(rs+""),mt=[];let $n=0,gi=0;for(const jo of Ve)(!mt.length||$n+jo.dim-Xn>.05||gi>=rs)&&(mt.push({index:mt.length,slides:[],dim:0,offset:0,pos:0}),$n=0,gi=0),(ro=mt[mt.length-1])===null||ro===void 0||ro.slides.push(jo),$n+=jo.dim+hn,gi++;const ur=ot("center"),Nr=ot("fill");let fa=0;for(const jo of mt){jo.dim=(jo.slides.length-1)*hn;for(const Vs of jo.slides)jo.dim+=Vs.dim;jo.offset=fa,jo.pos=fa,ur!==!1&&(jo.pos-=.5*(Xn-jo.dim)),Nr&&!W&&fs>Xn&&(jo.pos=ll(0,jo.pos,fs-Xn)),fa+=jo.dim+hn}const ta=[];let dr;for(const jo of mt){const Vs=Object.assign({},jo);dr&&Math.abs(Vs.pos-dr.pos)<.1?(dr.dim+=Vs.dim,dr.slides=[...dr.slides,...Vs.slides]):(dr=Vs,Vs.index=ta.length,ta.push(Vs))}mt=ta,Tn()})(),F=((en=mt[0])===null||en===void 0?void 0:en.pos)||0,Ie=((tn=mt[mt.length-1])===null||tn===void 0?void 0:tn.pos)||0,S===0)(function(){var ro;p=void 0,Ce=ot("initialPage");const Xn=ot("initialSlide")||void 0;Xn!==void 0&&(Ce=Xo.getPageIndex(Xn)||0),Ce=ll(0,Ce,mt.length-1),ie=((ro=mt[Ce])===null||ro===void 0?void 0:ro.pos)||0,Ae=ie})();else{const ro=c!=null&&c.isRunning()?c.getEndValues().pos:ie;(ro<F||ro>Ie)&&(Ce=ll(0,Ce,mt.length-1),Ae=((to=mt[Ce||0])===null||to===void 0?void 0:to.pos)||0)}at("refresh")}function Lt(At){if(!At||!$L(At))return;const Vt=parseInt(At.getAttribute("index")||"-1");let en="";for(const to of Array.from(At.classList)){const go=to.match(/^f-(\w+)(Out|In)$/);go&&go[1]&&(en=go[1]+"")}if(!At||!en)return;const tn=[`f-${en}Out`,`f-${en}In`,"to-prev","to-next","from-prev","from-next"];At.removeEventListener("animationend",On),cE(At,tn.join(" ")),Re.delete(Vt)}function ln(){if(!U)return;const At=Re.size;for(const Vt of Ve)Lt(Vt.el);Re.clear(),At&&Ao()}function On(At){At.animationName.substring(0,2)==="f-"&&(Lt(At.target),Re.size||(cE(B,"in-transition"),!be&&Math.abs(Xo.getPosition(!0)-Ae)<.5&&(be=!0,at("settle"))),Ao())}function Bt(At){var Vt;if(At.defaultPrevented)return;const en=At.composedPath()[0];if(en.closest("[data-carousel-go-prev]"))return u5(At),void Xo.prev();if(en.closest("[data-carousel-go-next]"))return u5(At),void Xo.next();const tn=en.closest("[data-carousel-go-to]");if(tn)return u5(At),void Xo.goTo(parseFloat(tn.dataset.carouselGoTo||"")||0);if(en.closest("[data-carousel-download]")){u5(At);const to=(Vt=mt[Ce])===null||Vt===void 0?void 0:Vt.slides[0];if(to&&(to.downloadSrc||to.type==="image"&&to.src)){const go=to.downloadFilename,To=document.createElement("a"),cn=to.downloadSrc||to.src||"";To.href=cn,To.target="_blank",To.download=go||cn,To.click()}}else at("click",At)}function $t(At){var Vt;const en=At.el;en&&((Vt=en.querySelector(".f-spinner"))===null||Vt===void 0||Vt.remove())}function ls(At){var Vt;const en=At.el;en&&((Vt=en.querySelector(".f-html.is-error"))===null||Vt===void 0||Vt.remove(),cE(en,"has-error"))}function ks(At){var Vt;At||(At=(Vt=mt[Ce])===null||Vt===void 0?void 0:Vt.slides[0]);const en=At==null?void 0:At.el;if(!en)return;let tn=ot("formatCaption",At);tn===void 0&&(tn=At.caption),tn=tn||"";const to=ot("captionEl");if(to&&to instanceof HTMLElement){if(At.index!==Ce)return;if(kp(tn)&&(to.innerHTML=Rt(tn+"")),tn instanceof HTMLElement){if(tn.parentElement===to)return;to.innerHTML="",tn.parentElement&&(tn=tn.cloneNode(!0)),to.append(tn)}return}if(!tn)return;let go=At.captionEl||en.querySelector(".f-caption");!go&&tn instanceof HTMLElement&&tn.classList.contains("f-caption")&&(go=tn),go||(go=document.createElement("div"),Ta(go,"f-caption"),kp(tn)?go.innerHTML=Rt(tn+""):tn instanceof HTMLElement&&(tn.parentElement&&(tn=tn.cloneNode(!0)),go.append(tn)));const To=`f-caption-${CCe}_${At.index}`;go.setAttribute("id",To),go.dataset.selectable="true",Ta(en,"has-caption"),en.setAttribute("aria-labelledby",To),At.captionEl=go,en.insertAdjacentElement("beforeend",go)}function Rs(At,Vt={}){var en,tn;let{transition:to,tween:go}=Object.assign({transition:x.transition,tween:x.tween},Vt||{});if(!B||!c)return;const To=mt.length;if(!To||(function(ro,Xn){var fs,rs,$n,gi;if(!(B&&c&&Xn&&kp(Xn)&&Xn!=="tween")||((fs=mt[Ce])===null||fs===void 0?void 0:fs.slides.length)>1)return!1;const ur=mt.length;let Nr=ro>Ce?1:-1;ro=W?(ro%ur+ur)%ur:ll(0,ro,ur-1),Z&&(Nr*=-1);const fa=(rs=mt[Ce])===null||rs===void 0?void 0:rs.slides[0],ta=fa==null?void 0:fa.index,dr=($n=mt[ro])===null||$n===void 0?void 0:$n.slides[0],jo=dr==null?void 0:dr.index,Vs=(gi=mt[ro])===null||gi===void 0?void 0:gi.pos;if(jo===void 0||ta===void 0||ta===jo||ie===Vs||Math.abs(Ut()-((dr==null?void 0:dr.dim)||0))>1)return!1;be=!1,c.pause(),ln(),Ta(B,"in-transition"),ie=Ae=Vs;const bc=ct(fa),Vc=ct(dr);return qt(),bc&&(Re.add(ta),bc.style.transform="",bc.addEventListener("animationend",On),cE(bc,x.classes.isSelected),bc.inert=!1,Ta(bc,`f-${Xn}Out to-${Nr>0?"next":"prev"}`)),Vc&&(Re.add(jo),Vc.style.transform="",Vc.addEventListener("animationend",On),Ta(Vc,x.classes.isSelected),Vc.inert=!1,Ta(Vc,`f-${Xn}In from-${Nr>0?"prev":"next"}`)),Ao(),!0})(At,to))return;At=W?(At%To+To)%To:ll(0,At,To-1),Ae=((en=mt[At||0])===null||en===void 0?void 0:en.pos)||0;const cn=c.isRunning()?c.getEndValues().pos:ie;if(Math.abs(Ae-cn)<1)return ie=Ae,Ce!==At&&(ks(),Tn(),_e(),p=Ce,Ce=At,at("change",Ce,p)),Ao(),void(be||(be=!0,at("settle")));if(c.pause(),ln(),W){const ro=xn(),Xn=Math.floor((cn-((tn=mt[0])===null||tn===void 0?void 0:tn.pos))/ro),fs=Ae+Xn*ro;Ae=[fs+ro,fs,fs-ro].reduce((function(rs,$n){return Math.abs($n-cn)<Math.abs(rs-cn)?$n:rs}))}to!==!1&&Tg(go)?c.spring(Ib({},x.tween,go)).from({pos:ie}).to({pos:Ae}).start():(ie=Ae,qt(),Ao(),be||(be=!0,at("settle")))}function Ao(){var At;if(!B||!U)return;const Vt=mt[Ce];vt=vn();const en=new Set;let tn;const to=[];for(const go of Ve){if(go.isVirtual&&!Re.has(go.index)&&vt.indexOf(go)<0)continue;let To=ct(go);if(!To)continue;to.push(go);const cn=((At=Vt==null?void 0:Vt.slides)===null||At===void 0?void 0:At.indexOf(go))>-1;if(cn&&en.add(To),ot("adaptiveHeight")&&cn){const ro=(To.firstElementChild||To).getBoundingClientRect().height;tn=tn==null?ro:Math.max(tn,ro)}}U&&tn&&(U.style.height=`${tn}px`),[...jfe(U,`.${x.classes.slide}`)].forEach((go=>{const To=parseInt(go.getAttribute("index")||"-1"),cn=Xe[To];cn||go.remove();const ro=en.has(go);if(bg(go,x.classes.isSelected,ro),go.inert=vt.indexOf(cn)<0,cn.isVirtual&&!Re.has(cn.index)&&vt.indexOf(cn)<0)return void Mt(cn);let Xn=cn.pos?Math.round(1e4*cn.pos)/1e4:0,fs=0,rs=0,$n=0,gi=0,ur=x.setTransform||void 0;Re.has(cn.index)||(fs=re?0:Z?-1*Xn:Xn,rs=re?Xn:0,$n=Ume(fs,0,cn.dim,0,100),gi=Ume(rs,0,cn.dim,0,100)),ur instanceof Function&&!Re.has(cn.index)?ur(Xo,cn,{x:fs,y:rs,xPercent:$n,yPercent:gi}):go.style.transform=fs||rs?`translate3d(${$n}%, ${gi}%,0)`:""})),at("render",to)}function sr(){var At;B==null||B.removeEventListener("click",Bt),ln(),document.removeEventListener("mousemove",Ro),d==null||d.disconnect(),d=void 0;for(const Vt of Xe)Vt.el&&$L(Vt.el)&&(Vt.state=void 0,$t(Vt),ls(Vt),Mt(Vt),Vt.isVirtual?((At=Vt.el)===null||At===void 0||At.remove(),Vt.el=void 0):(Vt.el.style.transform="",U==null||U.appendChild(Vt.el)));for(const Vt of Object.values(P))Vt==null||Vt.destroy();P={},i==null||i.destroy(),i=void 0,c==null||c.destroy(),c=void 0;for(const[Vt,en]of Object.entries(x.classes||{}))Vt!=="container"&&cE(B,en);cE(U,"is-draggable")}function Ks(){return W||Ce>0}function Ls(){return W||Ce<mt.length-1}const Xo={add:function(At,Vt){var en,tn;let to=ie;const go=Ce,To=xn(),cn=c!=null&&c.isRunning()?c.getEndValues().pos:ie,ro=Math.floor((cn-((en=mt[0])===null||en===void 0?void 0:en.pos))/To),Xn=zt(At,Vt);for(const fs of Xn)at("addSlide",fs);return wo(tt),Ge(),c&&(go===Ce&&(to-=ro*To),Ae=((tn=mt[Ce||0])===null||tn===void 0?void 0:tn.pos)||0,to===Ae?ie=Ae:c.spring({clamp:!0,mass:1,tension:300,friction:25,restDelta:1,restSpeed:1}).from({pos:to}).to({pos:Ae}).start()),Ao(),Xo},canGoPrev:Ks,canGoNext:Ls,destroy:function(){return at("destroy"),window.removeEventListener("resize",Cn),sr(),kt.clear(),B=null,mt=[],Xe=[],x=Object.assign({},BL),P={},Ve=[],v="",tt="*",S=2,Xo},emit:at,filter:function(At="*"){return wo(At),Ge(),Ao(),at("filter",At),Xo},getContainer:function(){return B},getGapDim:vs,getGestures:function(){return i},getLastMouseMove:function(){return SCe},getOption:function(At){return ot(At)},getOptions:function(){return x},getPage:function(){return mt[Ce]},getPageIndex:function(At){if(At!==void 0){for(const Vt of mt||[])for(const en of Vt.slides)if(en.index===At)return Vt.index;return-1}return Ce},getPageProgress:function(At,Vt){var en;At===void 0&&(At=Ce);const tn=mt[At];if(!tn)return At>Ce?-1:1;const to=xn(),go=vs();let To=tn.pos,cn=Xo.getPosition();if(W&&Vt!==!0){const ro=Math.floor((cn-((en=mt[0])===null||en===void 0?void 0:en.pos))/to);cn-=ro*to,To=[To+to,To,To-to].reduce((function(Xn,fs){return Math.abs(fs-cn)<Math.abs(Xn-cn)?fs:Xn}))}return(cn-To)/(tn.dim+go)},getPageVisibility:function(At){var Vt;At===void 0&&(At=Ce);const en=mt[At];if(!en)return At>Ce?-1:1;const tn=Xo.getPosition(),to=Ut();let go=en.pos;if(W){const To=Xo.getPosition(),cn=xn(),ro=go+Math.floor((To-((Vt=mt[0])===null||Vt===void 0?void 0:Vt.pos))/cn)*cn;go=[ro+cn,ro,ro-cn].reduce((function(Xn,fs){return Math.abs(fs-To)<Math.abs(Xn-To)?fs:Xn}))}return go>tn&&go+en.dim<tn+to?1:go<tn?(go+en.dim-tn)/en.dim:go+en.dim>tn+to?(tn+to-go)/en.dim:0},getPages:function(){return mt},getPlugins:function(){return P},getPosition:function(At){var Vt;let en=ie;if(W&&At!==!0){const tn=xn();en-=Math.floor((ie-((Vt=mt[0])===null||Vt===void 0?void 0:Vt.pos)||0)/tn)*tn}return en},getSlides:function(){return Xe},getState:function(){return S},getTotalSlideDim:xn,getTween:function(){return c},getViewport:function(){return U},getViewportDim:Ut,getVisibleSlides:function(At){return At===void 0?vt:vn(At)},goTo:Rs,hasNavigated:function(){return p!==void 0},hideError:ls,hideLoading:$t,init:function(){if(!e||!$L(e))throw new Error("No Element found");return S!==0&&(sr(),S=0),B=e,T=n,window.removeEventListener("resize",Cn),T.breakpoints&&window.addEventListener("resize",Cn),Cn(),Xo},isInfinite:function(){return W},isInTransition:function(){return Re.size>0},isRTL:function(){return Z},isSettled:function(){return be},isVertical:function(){return re},localize:function(At,Vt=[]){return Rt(At,Vt)},next:function(At={}){return Rs(Ce+1,At),Xo},off:function(At,Vt){for(const en of At instanceof Array?At:[At])kt.has(en)&&kt.set(en,kt.get(en).filter((tn=>tn!==Vt)));return Xo},on:function(At,Vt){for(const en of At instanceof Array?At:[At])kt.set(en,[...kt.get(en)||[],Vt]);return Xo},prev:function(At={}){return Rs(Ce-1,At),Xo},remove:function(At){At===void 0&&(At=Xe.length-1);const Vt=Xe[At];return Vt&&(at("removeSlide",Vt),Vt.el&&(Lt(Vt.el),Vt.el.remove(),Vt.el=void 0),Xe.splice(At,1),wo(tt),Ge(),Ao()),Xo},setPosition:function(At){ie=At,qt(),Ao()},showError:function(At,Vt){$t(At),ls(At);const en=At.el;if(en){const tn=document.createElement("div");Ta(tn,"f-html"),Ta(tn,"is-error"),tn.innerHTML=Rt(Vt||"<p>{{ERROR}}</p>"),At.htmlEl=tn,Ta(en,"has-html"),Ta(en,"has-error"),en.insertAdjacentElement("afterbegin",tn),at("contentReady",At)}return Xo},showLoading:function(At){const Vt=At.el,en=Vt==null?void 0:Vt.querySelector(".f-spinner");if(!Vt||en)return Xo;const tn=ot("spinnerTpl"),to=vO(tn);return to&&(Ta(to,"f-spinner"),Vt.insertAdjacentElement("beforeend",to)),Xo},version:"6.0.32"};return Xo};$J.l10n={en_EN:x0e},$J.getDefaults=()=>BL;/*! License details at fancyapps.com/license */const ECe=(e=!0,n="--f-scrollbar-compensate",o="--f-body-margin",i="hide-scrollbar")=>{const c=document,d=c.body,p=c.documentElement;if(e){if(d.classList.contains(i))return;let v=window.innerWidth-p.getBoundingClientRect().width;v<0&&(v=0),p.style.setProperty(n,`${v}px`);const S=parseFloat(window.getComputedStyle(d).marginRight);S&&d.style.setProperty(o,`${S}px`),d.classList.add(i)}else d.classList.remove(i),d.style.setProperty(o,""),c.documentElement.style.setProperty(n,"")};/*! License details at fancyapps.com/license */function a2e(){return!(typeof window>"u"||!window.document||!window.document.createElement)}/*! License details at fancyapps.com/license */const oO=function(e="",n="",o=""){return e.split(n).join(o)};/*! License details at fancyapps.com/license */const wCe={tpl:e=>`<img class="f-panzoom__content" 
    ${e.srcset?'data-lazy-srcset="{{srcset}}"':""} 
    ${e.sizes?'data-lazy-sizes="{{sizes}}"':""} 
    data-lazy-src="{{src}}" alt="{{alt}}" />`},P5e=()=>{let e;function n(x,P){const B=e==null?void 0:e.getOptions().Zoomable;let U=(Tg(B)?Object.assign(Object.assign({},wCe),B):wCe)[x];return U&&typeof U=="function"&&P?U(P):U}function o(){e&&(e.on("addSlide",d),e.on("removeSlide",p),e.on("attachSlideEl",v),e.on("click",c),e.on("change",i),e.on("ready",i))}function i(){S();const x=(e==null?void 0:e.getVisibleSlides())||[];if(x.length>1||(e==null?void 0:e.getOption("transition"))==="slide")for(const P of x){const B=P.panzoomRef;B&&((e==null?void 0:e.getPage().slides)||[]).indexOf(P)<0&&B.execute(gr.ZoomTo,Object.assign({},B.getStartPosition()))}}function c(x,P){const B=P.target;B&&!P.defaultPrevented&&B.dataset.panzoomAction&&T(B.dataset.panzoomAction)}function d(x,P){if(!e)return;const B=P.el;if(!B)return;const U=P.src||P.lazySrc||"",j=P.alt||P.caption||`Image #${P.index}`,W=P.srcset||P.lazySrcset||"",Z=P.sizes||P.lazySizes||"";if(U&&kp(U)&&!P.html&&(!P.type||P.type==="image")){P.type="image",P.thumbSrc=P.thumbSrc||U;let be=n("tpl",P);be=oO(be,"{{src}}",U+""),be=oO(be,"{{alt}}",j+""),be=oO(be,"{{srcset}}",W+""),be=oO(be,"{{sizes}}",Z+""),B.insertAdjacentHTML("afterbegin",be)}if(!B.querySelector(".f-panzoom__content"))return;const re=P.width&&P.width!=="auto"?parseFloat(P.width+""):"auto",le=P.height&&P.height!=="auto"?parseFloat(P.height+""):"auto",ie=$me(B,Object.assign({width:re,height:le,classes:{container:"f-zoomable"},event:()=>e==null?void 0:e.getLastMouseMove(),spinnerTpl:()=>(e==null?void 0:e.getOption("spinnerTpl"))||""},n("Panzoom")));ie.on("*",((be,Ce,...Ae)=>{e&&(Ce==="loading"&&(P.state=0),Ce==="loaded"&&(P.state=1),Ce==="error"&&(P.state=2,e==null||e.showError(P,"{{IMAGE_ERROR}}")),e.emit(`panzoom:${Ce}`,P,...Ae),Ce==="ready"&&e.emit("contentReady",P),P.index===(e==null?void 0:e.getPageIndex())&&S())})),P.panzoomRef=ie}function p(x,P){P.panzoomRef&&(P.panzoomRef.destroy(),P.panzoomRef=void 0)}function v(x,P){const B=P.panzoomRef;if(B)switch(B.getState()){case 0:B.init();break;case 3:B.execute(gr.ZoomTo,Object.assign(Object.assign({},B.getStartPosition()),{velocity:0}))}}function S(){var x,P;const B=(e==null?void 0:e.getContainer())||void 0,U=(P=(x=e==null?void 0:e.getPage())===null||x===void 0?void 0:x.slides[0])===null||P===void 0?void 0:P.panzoomRef;if(B)if(U)U.updateControls(B);else for(const j of B.querySelectorAll("[data-panzoom-action]")||[])j.setAttribute("aria-disabled",""),j.setAttribute("tabindex","-1")}function T(x,...P){var B;(B=e==null?void 0:e.getPage().slides[0].panzoomRef)===null||B===void 0||B.execute(x,...P)}return{init:function(x){e=x,e.getOptions().Zoomable!==!1&&e.on("initPlugins",o)},destroy:function(){if(e){e.off("addSlide",d),e.off("removeSlide",p),e.off("attachSlideEl",v),e.off("click",c),e.off("change",i),e.off("ready",i);for(const x of e.getSlides())p(0,x)}e=void 0},execute:T}};/*! License details at fancyapps.com/license */const _Ce={syncOnChange:!1,syncOnClick:!0,syncOnHover:!1},l2e=()=>{let e,n;function o(){const U=e==null?void 0:e.getOptions().Sync;return Tg(U)?Object.assign(Object.assign({},_Ce),U):_Ce}function i(U){var j,W,Z;e&&U&&(n=U,e.getOptions().classes=Object.assign(Object.assign({},e.getOptions().classes),{isSelected:""}),e.getOptions().initialSlide=((W=(j=n.getPage())===null||j===void 0?void 0:j.slides[0])===null||W===void 0?void 0:W.index)||0,o().syncOnChange&&e.on("change",p),o().syncOnClick&&e.on("click",S),o().syncOnHover&&((Z=e.getViewport())===null||Z===void 0||Z.addEventListener("mouseover",T)),(function(){!e||!n||(e.on("ready",d),e.on("refresh",x),n.on("change",v),n.on("filter",P))})())}function c(){const U=o().target;e&&U&&i(U)}function d(){B()}function p(){var U;if(e&&n){const j=((U=e.getPage())===null||U===void 0?void 0:U.slides)||[],W=n.getPageIndex(j[0].index||0);W>-1&&n.goTo(W,e.hasNavigated()?void 0:{tween:!1,transition:!1}),B()}}function v(){var U;if(e&&n){const j=e.getPageIndex(((U=n.getPage())===null||U===void 0?void 0:U.slides[0].index)||0);j>-1&&e.goTo(j,n.hasNavigated()?void 0:{tween:!1,transition:!1}),B()}}function S(U,j){var W;if(!e||!n||!((W=e.getTween())===null||W===void 0)&&W.isRunning())return;const Z=e==null?void 0:e.getOptions().classes.slide;if(!Z)return;const re=Z?j.target.closest(`.${Z}`):null;if(re){const le=parseInt(re.getAttribute("index")||"")||0,ie=n.getPageIndex(le);n.goTo(ie)}}function T(U){e&&S(0,U)}function x(){var U;if(e&&n){const j=e.getPageIndex(((U=n.getPage())===null||U===void 0?void 0:U.slides[0].index)||0);j>-1&&e.goTo(j,{tween:!1,transition:!1}),B()}}function P(U,j){e&&n&&(e.filter(j),v())}function B(){var U,j,W;if(!n)return;const Z=((j=(U=n.getPage())===null||U===void 0?void 0:U.slides[0])===null||j===void 0?void 0:j.index)||0;for(const re of(e==null?void 0:e.getSlides())||[])(W=re.el)===null||W===void 0||W.classList.toggle("is-selected",re.index===Z)}return{init:function(U){e=U,e.on("initSlides",c)},destroy:function(){var U;e==null||e.off("ready",d),e==null||e.off("refresh",x),e==null||e.off("change",p),e==null||e.off("click",S),(U=e==null?void 0:e.getViewport())===null||U===void 0||U.removeEventListener("mouseover",T),n==null||n.off("change",v),n==null||n.off("filter",P),n=void 0,e==null||e.off("initSlides",c),e=void 0},getTarget:function(){return n}}};/*! License details at fancyapps.com/license */const ACe={showLoading:!0,preload:1},MY="is-lazyloading",TCe="is-lazyloaded",c2e=()=>{let e;function n(){const c=e==null?void 0:e.getOptions().Lazyload;return Tg(c)?Object.assign(Object.assign({},ACe),c):ACe}function o(c){var d;const p=c.el;if(!p)return;const v="[data-lazy-src],[data-lazy-srcset],[data-lazy-bg]",S=Array.from(p.querySelectorAll(v));p.matches(v)&&S.push(p);for(const T of S){const x=T.dataset.lazySrc,P=T.dataset.lazySrcset,B=T.dataset.lazySizes,U=T.dataset.lazyBg,j=(T instanceof HTMLImageElement||T instanceof HTMLSourceElement)&&(x||P),W=T instanceof HTMLElement&&U;if(!j&&!W)continue;const Z=x||P||U;if(Z){if(j&&Z){const re=(d=T.parentElement)===null||d===void 0?void 0:d.classList.contains("f-panzoom__wrapper");n().showLoading&&(e==null||e.showLoading(c)),T.addEventListener("load",(()=>{e==null||e.hideLoading(c),T instanceof HTMLImageElement?T.decode().then((()=>{T.classList.remove(MY),T.classList.add(TCe)})):(T.classList.remove(MY),T.classList.add(TCe)),re||e==null||e.emit("lazyLoad:loaded",c,T,Z)})),T.addEventListener("error",(()=>{e==null||e.hideLoading(c),T.classList.remove(MY),T.classList.add("has-lazyerror"),re||e==null||e.emit("lazyLoad:error",c,T,Z)})),T.classList.add("f-lazyload"),T.classList.add(MY),re||e==null||e.emit("lazyLoad:load",c,T,Z),x&&(T.src=x),P&&(T.srcset=P),B&&(T.sizes=B)}else W&&(document.body.contains(T)||(document.createElement("img").src=U),T.style.backgroundImage=`url('${U}')`);delete T.dataset.lazySrc,delete T.dataset.lazySrcset,delete T.dataset.lazySizes,delete T.dataset.lazyBg}}}function i(){if(!e)return;const c=[...e.getVisibleSlides()],d=n().preload;if(d>0){const p=e.getPosition(),v=e.getViewportDim();c.push(...e.getVisibleSlides(p+v*d),...e.getVisibleSlides(p-v*d))}for(const p of c)o(p)}return{init:function(c){e=c,e.on("render",i)},destroy:function(){e==null||e.off("render",i),e=void 0}}};/*! License details at fancyapps.com/license */const xCe={prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"></path></svg>',nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"></path></svg>'},N5e=()=>{let e,n,o;function i(){const v=e==null?void 0:e.getOptions().Arrows;return Tg(v)?Object.assign(Object.assign({},xCe),v):xCe}function c(v){if(!e)return;const S=`<button data-carousel-go-${v} tabindex="0" class="f-button is-arrow is-${v}" title="{{${v.toUpperCase()}}}">`+i()[`${v}Tpl`]+"</button",T=vO(e.localize(S))||void 0;return T&&Ta(T,i()[`${v}Class`]),T}function d(){var v;n==null||n.remove(),n=void 0,o==null||o.remove(),o=void 0,(v=e==null?void 0:e.getContainer())===null||v===void 0||v.classList.remove("has-arrows")}function p(){e&&e.getOptions().Arrows!==!1&&e.getPages().length>1?((function(){if(!e)return;const v=e.getViewport();v&&(n||(n=c("prev"),n&&v.insertAdjacentElement("beforebegin",n)),o||(o=c("next"),o&&v.insertAdjacentElement("afterend",o)),bg(e.getContainer(),"has-arrows",!(!n&&!o)))})(),e&&(n==null||n.toggleAttribute("aria-disabled",!e.canGoPrev()),o==null||o.toggleAttribute("aria-disabled",!e.canGoNext()))):d()}return{init:function(v){e=v.on(["change","refresh"],p)},destroy:function(){d(),e==null||e.off(["change","refresh"],p),e=void 0}}};/*! License details at fancyapps.com/license */const u2e='<circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/>',Wfe='<g><line x1="11" y1="8" x2="11" y2="14"></line></g>'+u2e,L5e={moveLeft:["moveLeft","MOVE_LEFT",'<path d="M5 12h14M5 12l6 6M5 12l6-6"/>'],moveRight:["moveRight","MOVE_RIGHT",'<path d="M5 12h14M13 18l6-6M13 6l6 6"/>'],moveUp:["moveUp","MOVE_UP",'<path d="M12 5v14M18 11l-6-6M6 11l6-6"/>'],moveDown:["moveDown","MOVE_DOWN",'<path d="M12 5v14M18 13l-6 6M6 13l6 6"/>'],zoomOut:["zoomOut","ZOOM_OUT",u2e],zoomIn:["zoomIn","ZOOM_IN",Wfe],toggleFull:["toggleFull","TOGGLE_FULL",Wfe],iterateZoom:["iterateZoom","ITERATE_ZOOM",Wfe],toggle1to1:["toggleFull","TOGGLE_FULL",'<path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/>'],rotateCCW:["rotateCCW","ROTATE_CCW",'<path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/>'],rotateCW:["rotateCW","ROTATE_CW",'<path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/>'],flipX:["flipX","FLIP_X",'<path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/>'],flipY:["flipY","FLIP_Y",'<path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/>'],reset:["reset","RESET",'<path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/>'],toggleFS:["toggleFS","TOGGLE_FS",'<g><path d="M14.5 9.5 21 3m0 0h-6m6 0v6M3 21l6.5-6.5M3 21v-6m0 6h6"/></g><g><path d="m14 10 7-7m-7 7h6m-6 0V4M3 21l7-7m0 0v6m0-6H4"/></g>']},O0e={};for(const[e,n]of Object.entries(L5e))O0e[e]={tpl:`<button data-panzoom-action="${n[0]}" class="f-button" title="{{${n[1]}}}"><svg>${n[2]}</svg></button>`};/*! License details at fancyapps.com/license */var OCe;(function(e){e.Left="left",e.middle="middle",e.right="right"})(OCe||(OCe={}));const ICe=Object.assign({counter:{tpl:'<div class="f-counter"><span data-carousel-page></span>/<span data-carousel-pages></span></div>'},download:{tpl:'<button data-carousel-download class="f-button" title="{{DOWNLOAD}}"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></button>'},autoplay:{tpl:'<button data-autoplay-action="toggle" class="f-button" title="{{TOGGLE_AUTOPLAY}}"><svg><g><path d="M5 3.5 19 12 5 20.5Z"/></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'},thumbs:{tpl:'<button data-thumbs-action="toggle" class="f-button" title="{{TOGGLE_THUMBS}}"><svg><rect width="18" height="14" x="3" y="3" rx="2"/><path d="M4 21h1M9 21h1M14 21h1M19 21h1"/></svg></button>'}},O0e),RCe={absolute:!1,display:{left:[],middle:["zoomIn","zoomOut","toggle1to1","rotateCCW","rotateCW","flipX","flipY","reset"],right:[]},enabled:"auto",items:{}},d2e=()=>{let e,n;function o(c){const d=e==null?void 0:e.getOptions().Toolbar;let p=(Tg(d)?Object.assign(Object.assign({},RCe),d):RCe)[c];return p&&typeof p=="function"&&e?p(e):p}function i(){var c,d;if(!(e!=null&&e.getOptions().Toolbar)||!e||n)return;const p=e.getContainer();if(!p)return;let v=o("enabled");if(!v)return;const S=o("absolute"),T=e.getSlides().length>1;let x=!1,P=!1;for(const re of e.getSlides())re.panzoomRef&&(x=!0),(re.downloadSrc||re.type==="image"&&re.src)&&(P=!0);const B=((c=e.getPlugins().Thumbs)===null||c===void 0?void 0:c.isEnabled())||!1,U=T&&e.getPlugins().Autoplay||!1,j=e.getPlugins().Fullscreen&&(document.fullscreenEnabled||document.webkitFullscreenEnabled);if(v==="auto"&&(v=x),!v)return;n=p.querySelector(".f-carousel__toolbar")||void 0,n||(n=document.createElement("div"),n.classList.add("f-carousel__toolbar"));const W=o("display"),Z=Ib({},ICe,o("items"));for(const re of["left","middle","right"]){const le=W[re]||[],ie=document.createElement("div");ie.classList.add("f-carousel__toolbar__column"),ie.classList.add(`is-${re}`);for(const be of le){let Ce;if(kp(be)){if(be==="counter"&&!T||be==="autoplay"&&!U||O0e[be]&&!x||be==="fullscreen"&&!j||be==="thumbs"&&!B||be==="download"&&!P)continue;Ce=Z[be]}if(Tg(be)&&(Ce=be),Ce&&Ce.tpl){let Ae=e.localize(Ce.tpl);Ae=Ae.split("<svg>").join('<svg tabindex="-1" width="24" height="24" viewBox="0 0 24 24">');const F=vO(Ae);F&&(typeof Ce.click=="function"&&e&&F.addEventListener("click",(Ie=>{Ie.preventDefault(),Ie.stopPropagation(),typeof Ce.click=="function"&&e&&Ce.click(e,Ie)})),ie.append(F))}}n.append(ie)}if(n.childElementCount){if(S===!0&&n.classList.add("is-absolute"),!n.parentElement){const re=o("parentEl");re?re.insertAdjacentElement("afterbegin",n):(d=e.getViewport())===null||d===void 0||d.insertAdjacentElement("beforebegin",n)}p.contains(n)&&p.classList.add("has-toolbar")}}return{init:function(c){e=c,e.on("initSlides",i)},destroy:function(){var c;e==null||e.off("initSlides",i),(c=e==null?void 0:e.getContainer())===null||c===void 0||c.classList.remove("has-toolbar"),n==null||n.remove(),n=void 0},add:function(c,d){ICe[c]=d},isEnabled:function(){return!!n}}};/*! License details at fancyapps.com/license */const kCe={autoStart:!0,pauseOnHover:!0,showProgressbar:!0,timeout:2e3},B5e=()=>{let e,n,o=!1,i=!1,c=!1,d=null;function p(Ce){const Ae=e==null?void 0:e.getOptions().Autoplay;let F=(Tg(Ae)?Object.assign(Object.assign({},kCe),Ae):kCe)[Ce];return F&&typeof F=="function"&&e?F(e):F}function v(){clearTimeout(n),n=void 0}function S(){if(!o||c||i||n||!(e!=null&&e.isSettled())||(function(){var Ae;const F=((Ae=e==null?void 0:e.getPage())===null||Ae===void 0?void 0:Ae.slides)||[];for(const Ie of F)if(Ie.state===0)return!0;return!1})())return;(function(){var Ae,F,Ie,tt;if(!e||(P(),!p("showProgressbar")))return;let Xe=p("progressbarParentEl");if(!Xe&&(!((Ae=e.getPlugins().Toolbar)===null||Ae===void 0)&&Ae.isEnabled())&&(Xe=e.getContainer()),!Xe&&((F=e.getPlugins().Toolbar)===null||F===void 0?void 0:F.isEnabled())!==!0){const Re=((Ie=e.getPages()[0])===null||Ie===void 0?void 0:Ie.slides)||[],vt=((tt=e.getPage())===null||tt===void 0?void 0:tt.slides)||[];Re.length===1&&vt.length===1&&(Xe=vt[0].el)}if(Xe||(Xe=e.getViewport()),!Xe)return;d=document.createElement("div"),d.classList.add("f-progressbar"),Xe.prepend(d);const Ve=p("timeout")||1e3;d.style.animationDuration=`${Ve}ms`})();const Ce=p("timeout");n=setTimeout((()=>{e&&o&&!i&&(e.isInfinite()||e.getPageIndex()!==e.getPages().length-1?e.next():e.goTo(0))}),Ce)}function T(){var Ce,Ae;if(!e||e.getPages().length<2||e.getOptions().Autoplay===!1||o)return;o=!0,e.emit("autoplay:start",p("timeout")),(Ce=e.getContainer())===null||Ce===void 0||Ce.classList.add("has-autoplay"),(Ae=e.getTween())===null||Ae===void 0||Ae.on("start",re);const F=e==null?void 0:e.getContainer();F&&p("pauseOnHover")&&matchMedia("(hover: hover)").matches&&(F.addEventListener("mouseenter",le,!1),F.addEventListener("mouseleave",ie,!1)),e.on("change",W),e.on("settle",Z),e.on("contentReady",U),e.on("panzoom:touchStart",x),e.on("panzoom:wheel",x),e.isSettled()&&S()}function x(){var Ce,Ae;if(v(),P(),o&&e){e.emit("autoplay:end"),(Ce=e.getContainer())===null||Ce===void 0||Ce.classList.remove("has-autoplay"),(Ae=e.getTween())===null||Ae===void 0||Ae.off("start",re);const F=e==null?void 0:e.getContainer();F&&(F.removeEventListener("mouseenter",le,!1),F.removeEventListener("mouseleave",ie,!1))}e&&(e.off("change",W),e.off("settle",Z),e.off("contentReady",U),e.off("panzoom:touchStart",x),e.off("panzoom:wheel",x)),o=!1,i=!1}function P(){d&&(d.remove(),d=null)}function B(){e&&e.getPages().length>1&&p("autoStart")&&T()}function U(){e&&S()}function j(Ce,Ae){const F=Ae.target;F&&!Ae.defaultPrevented&&F.dataset.autoplayAction==="toggle"&&be.toggle()}function W(){!e||!(e!=null&&e.isInfinite())&&e.getPageIndex()===e.getPages().length-1?x():(P(),v())}function Z(){S()}function re(){v(),P()}function le(){c=!0,o&&(P(),v())}function ie(){c=!1,o&&!i&&(e!=null&&e.isSettled())&&S()}const be={init:function(Ce){e=Ce,e.on("ready",B),e.on("click",j)},destroy:function(){x(),e==null||e.off("ready",B),e==null||e.off("click",j),e=void 0},isEnabled:()=>o,pause:function(){i=!0,v()},resume:function(){i=!1,o&&!c&&S()},start(){T()},stop(){x()},toggle(){o?x():T()}};return be};/*! License details at fancyapps.com/license */const Gfe={Carousel:{Lazyload:{showLoading:!1}},minCount:2,showOnStart:!0,thumbTpl:'<button aria-label="Slide to #{{page}}"><img draggable="false" alt="{{alt}}" data-lazy-src="{{src}}" /></button>',type:"modern"};let qfe;const V5e=()=>{let e,n,o,i=0,c=0,d=!0;function p(be){const Ce=e==null?void 0:e.getOptions().Thumbs;let Ae=(Tg(Ce)?Object.assign(Object.assign({},Gfe),Ce):Gfe)[be];return Ae&&typeof Ae=="function"&&e?Ae(e):Ae}function v(){if(!e||(e==null?void 0:e.getOptions().Thumbs)===!1)return!1;let be=0;for(const Ce of e.getSlides())Ce.thumbSrc&&be++;return be>=p("minCount")}function S(){return p("type")==="modern"}function T(be=!1){var Ce;const Ae=e==null?void 0:e.getContainer();if(!e||!Ae||o||!v())return;const F=((Ce=p("Carousel"))===null||Ce===void 0?void 0:Ce.classes)||{};if(F.container=F.container||"f-thumbs",!o){const Ie=Ae.nextElementSibling;Ie!=null&&Ie.classList.contains(F.container)&&(o=Ie)}if(!o){o=document.createElement("div");const Ie=p("parentEl");Ie?Ie.insertAdjacentElement("beforeend",o):Ae.insertAdjacentElement("afterend",o)}Ta(o,F.container),Ta(o,"f-thumbs"),Ta(o,`is-${p("type")}`),Ta(o,"is-syncing"),be&&(o.style.maxHeight="0px")}function x(be){const Ce=be.thumb?be.thumb instanceof HTMLImageElement?be.thumb.src:be.thumb:be.thumbSrc||void 0,Ae=be.thumbAlt===void 0?`Thumbnail #${be.index}`:be.thumbAlt+"";let F=p("thumbTpl");return F=oO(F,"{{alt}}",Ae),F=oO(F,"{{src}}",Ce+""),F=oO(F,"{{index}}",`${be.index}`),F=oO(F,"{{page}}",`${be.index||1}`),{html:F,class:be.thumbClass}}function P(){var be;if(!qfe||!e||!o||n)return;const Ce=[];for(const Ae of e.getSlides())Ce.push(x(Ae));Ce.length&&(n=qfe(o,Ib({},{Sync:{target:e},Lazyload:{preload:1},slides:Ce,classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",slide:"f-thumbs__slide"},center:!0,fill:!S(),infinite:!1,dragFree:!0,rtl:e.getOptions().rtl||!1,slidesPerPage:Ae=>{let F=0;return S()&&((function(){if(!S()||!o)return;const Ie=tt=>o&&parseFloat(getComputedStyle(o).getPropertyValue("--f-thumb-"+tt))||0;i=Ie("width"),c=Ie("clip-width")})(),F=4*(i-c)),Ae&&Ae.getTotalSlideDim()<=Ae.getViewportDim()-F?1/0:1}},Gfe.Carousel||{},p("Carousel")||{}),{Sync:l2e,Lazyload:c2e}),n.on("ready",(()=>{e==null||e.emit("thumbs:ready")})),n.on("destroy",(()=>{e==null||e.emit("thumbs:destroy")})),n.init(),(be=n.getGestures())===null||be===void 0||be.on("start",(()=>{d=!1})),n.on("click",((Ae,F)=>{const Ie=F.target;if(Ie){const tt=Ie.matches("button")?Ie:Ie.firstElementChild;tt&&tt.matches("button")&&(F.preventDefault(),tt.focus({preventScroll:!0}))}})),Ta(e.getContainer(),"has-thumbs"),ie())}function B(){v()&&p("showOnStart")&&(T(),P())}function U(){var be;v()&&(e==null||e.on("addSlide",re),e==null||e.on("click",le),(be=e==null?void 0:e.getGestures())===null||be===void 0||be.on("start",j))}function j(){var be,Ce;d=!0,!((be=document.activeElement)===null||be===void 0)&&be.closest(".f-thumbs")&&((Ce=document.activeElement)===null||Ce===void 0||Ce.blur())}function W(){var be,Ce;o==null||o.classList.toggle("is-syncing",(e==null?void 0:e.hasNavigated())===!1||((be=e==null?void 0:e.getTween())===null||be===void 0?void 0:be.isRunning())),ie(),!((Ce=e==null?void 0:e.getGestures())===null||Ce===void 0)&&Ce.isPointerDown()&&(function(){if(!S()||!e||!n||!d)return;const Ae=n.getTween(),F=n.getPages(),Ie=e.getPageIndex()||0,tt=e.getPageProgress()||0;if(!(e&&F&&F[Ie]&&Ae))return;const Xe=Ae.isRunning()?Ae.getCurrentValues().pos:n.getPosition();if(Xe===void 0)return;let Ve=F[Ie].pos+tt*(i-c);Ve=ll(F[0].pos,Ve,F[F.length-1].pos),Ae.from({pos:Xe}).to({pos:Ve}).start()})()}function Z(){d=!0}function re(be,Ce){n==null||n.add(x(Ce),Ce.index)}function le(be,Ce){const Ae=Ce.target;Ae&&!Ce.defaultPrevented&&Ae.dataset.thumbsAction==="toggle"&&(function(){if(o||(T(!0),P()),!o)return;const F=n!=null&&n.isVertical()?"maxWidth":"maxHeight",Ie=o.style[F];o.style[F]=Ie?"":"0px"})()}function ie(){if(!S()||!e||!n)return;const be=(n==null?void 0:n.getSlides())||[];let Ce=-.5*i;for(const Ae of be){const F=Ae.el;if(!F)continue;let Ie=e.getPageProgress(Ae.index)||0;Ie=Math.max(-1,Math.min(1,Ie)),Ie>-1&&Ie<1&&(Ce+=.5*i*(1-Math.abs(Ie))),Ie=Math.round(1e4*Ie)/1e4,Ce=Math.round(1e4*Ce)/1e4,F.style.setProperty("--progress",`${Math.abs(Ie)}`),F.style.setProperty("--shift",`${e!=null&&e.isRTL()?-1*Ce:Ce}px`),Ie>-1&&Ie<1&&(Ce+=.5*i*(1-Math.abs(Ie)))}}return{init:function(be,Ce){qfe=Ce,e=be,e.on("ready",U),e.on("initSlides",B),e.on("render",W),e.on("change",Z)},destroy:function(){var be,Ce;e==null||e.off("ready",U),e==null||e.off("initSlides",B),e==null||e.off("render",W),e==null||e.off("change",Z),e==null||e.off("addSlide",re),e==null||e.off("click",le),(be=e==null?void 0:e.getGestures())===null||be===void 0||be.off("start",j),(Ce=e==null?void 0:e.getContainer())===null||Ce===void 0||Ce.classList.remove("has-thumbs"),e=void 0,n==null||n.destroy(),n=void 0,o==null||o.remove(),o=void 0},getCarousel:function(){return n},getContainer:function(){return o},isEnabled:function(){return v()}}};/*! License details at fancyapps.com/license */const DCe={iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto"}},F5e=()=>{let e;function n(c,d){let p=d.src;if(!kp(p))return;let v=d.type;if(!v){if(v||(p.charAt(0)==="#"?v="inline":p.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.((a)?png|avif|gif|jp(g|eg)|pjp(eg)?|jfif|svg|webp|bmp|ico|tif(f)?)((\?|#).*)?$)/i)?v="image":p.match(/\.(pdf)((\?|#).*)?$/i)?v="pdf":p.match(/\.(html|php)((\?|#).*)?$/i)&&(v="iframe")),!v){const S=p.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i);S&&(p=`https://maps.google.${S[1]}/?ll=${(S[2]?S[2]+"&z="+Math.floor(parseFloat(S[3]))+(S[4]?S[4].replace(/^\//,"&"):""):S[4]+"").replace(/\?/,"&")}&output=${S[4]&&S[4].indexOf("layer=c")>0?"svembed":"embed"}`,v="gmap")}if(!v){const S=p.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i);S&&(p=`https://maps.google.${S[1]}/maps?q=${S[2].replace("query=","q=").replace("api=1","")}&output=embed`,v="gmap")}d.src=p,d.type=v}}function o(c,d){d.type!=="iframe"&&d.type!=="pdf"&&d.type!=="gmap"||(function(p){if(!e||!p.el||!p.src)return;const v=document.createElement("iframe");v.classList.add("f-iframe");for(const[T,x]of Object.entries((function(){const P=e==null?void 0:e.getOptions().Html;return Tg(P)?Object.assign(Object.assign({},DCe),P):DCe})().iframeAttr||{}))v.setAttribute(T,x);v.onerror=()=>{e&&e.getState()===1&&e.showError(p,"{{IFRAME_ERROR}}")},v.src=p.src;const S=document.createElement("div");if(S.classList.add("f-html"),S.append(v),p.width){let T=`${p.width}`;T.match(/^\d+$/)&&(T+="px"),S.style.maxWidth=`${T}`}if(p.height){let T=`${p.height}`;T.match(/^\d+$/)&&(T+="px"),S.style.maxHeight=`${T}`}if(p.aspectRatio){const T=p.el.getBoundingClientRect();S.style.aspectRatio=`${p.aspectRatio}`,S.style[T.width>T.height?"width":"height"]="auto",S.style[T.width>T.height?"maxWidth":"maxHeight"]="none"}p.contentEl=v,p.htmlEl=S,p.el.classList.add("has-html"),p.el.classList.add("has-iframe"),p.el.classList.add(`has-${p.type}`),p.el.prepend(S),e.emit("contentReady",p)})(d)}function i(c,d){var p,v;d.type!=="iframe"&&d.type!=="pdf"&&d.type!=="gmap"||(e==null||e.hideError(d),(p=d.contentEl)===null||p===void 0||p.remove(),d.contentEl=void 0,(v=d.htmlEl)===null||v===void 0||v.remove(),d.htmlEl=void 0)}return{init:function(c){e=c,e.on("addSlide",n),e.on("attachSlideEl",o),e.on("detachSlideEl",i)},destroy:function(){e==null||e.off("addSlide",n),e==null||e.off("attachSlideEl",o),e==null||e.off("detachSlideEl",i),e=void 0}}};/*! License details at fancyapps.com/license */const MCe=(e,n={})=>{const o=new URL(e),i=new URLSearchParams(o.search),c=new URLSearchParams;for(const[v,S]of[...i,...Object.entries(n)]){let T=S+"";if(v==="t"){let x=T.match(/((\d*)m)?(\d*)s?/);x&&c.set("start",60*parseInt(x[2]||"0")+parseInt(x[3]||"0")+"")}else c.set(v,T)}let d=c+"",p=e.match(/#t=((.*)?\d+s)/);return p&&(d+=`#t=${p[1]}`),d},PCe={autoplay:!1,html5videoTpl:`<video class="f-html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">
    <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn't support embedded videos.</video>`,iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto",credentialless:""},vimeo:{byline:1,color:"00adef",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}},H5e=()=>{let e,n=!1;function o(){const B=e==null?void 0:e.getOptions().Video;return Tg(B)?Object.assign(Object.assign({},PCe),B):PCe}function i(){var B;return(B=e==null?void 0:e.getPage())===null||B===void 0?void 0:B.slides[0]}const c=B=>{var U;try{let j=JSON.parse(B.data);if(B.origin==="https://player.vimeo.com"){if(j.event==="ready")for(let W of Array.from(((U=e==null?void 0:e.getContainer())===null||U===void 0?void 0:U.getElementsByClassName("f-iframe"))||[]))W instanceof HTMLIFrameElement&&W.contentWindow===B.source&&(W.dataset.ready="true")}else if(B.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/)&&j.event==="onReady"){const W=document.getElementById(j.id);W&&(W.dataset.ready="true")}}catch{}};function d(B,U){const j=U.src;if(!kp(j))return;let W=U.type;if(!W||W==="html5video"){const Z=j.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i);Z&&(W="html5video",U.html5videoFormat=U.html5videoFormat||"video/"+(Z[1]==="ogv"?"ogg":Z[1]))}if(!W||W==="youtube"){const Z=j.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|shorts\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i);if(Z){const re=Object.assign(Object.assign({},o().youtube),U.youtube||{}),le=`www.youtube${re.nocookie?"-nocookie":""}.com`,ie=MCe(j,re),be=encodeURIComponent(Z[2]);U.videoId=be,U.src=`https://${le}/embed/${be}?${ie}`,U.thumb=U.thumb||`https://i.ytimg.com/vi/${be}/mqdefault.jpg`,W="youtube"}}if(!W||W==="vimeo"){const Z=j.match(/^.+vimeo.com\/(?:\/)?(video\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/);if(Z){const re=Object.assign(Object.assign({},o().vimeo),U.vimeo||{}),le=MCe(j,re),ie=encodeURIComponent(Z[2]),be=Z[5]||"";U.videoId=ie,U.src=`https://player.vimeo.com/video/${ie}?${be?`h=${be}${le?"&":""}`:""}${le}`,W="vimeo"}}U.type=W}function p(B,U){U.type==="html5video"&&(function(j){if(!e||!j.el||!j.src)return;const{el:W,src:Z}=j;if(!W||!Z)return;const re=j.html5videoTpl||o().html5videoTpl,le=j.html5videoFormat||o().html5videoFormat;if(!re)return;const ie=j.poster||(j.thumb&&kp(j.thumb)?j.thumb:""),be=vO(re.replace(/\{\{src\}\}/gi,Z+"").replace(/\{\{format\}\}/gi,le||"").replace(/\{\{poster\}\}/gi,ie+""));if(!be)return;const Ce=document.createElement("div");Ce.classList.add("f-html"),Ce.append(be),j.contentEl=be,j.htmlEl=Ce,W.classList.add(`has-${j.type}`),W.prepend(Ce),x(j),e.emit("contentReady",j)})(U),U.type!=="youtube"&&U.type!=="vimeo"||(function(j){if(!e||!j.el||!j.src)return;const W=document.createElement("iframe");W.classList.add("f-iframe"),W.setAttribute("id",`f-iframe_${j.videoId}`);for(const[re,le]of Object.entries(o().iframeAttr||{}))W.setAttribute(re,le);W.onload=()=>{var re;e&&e.getState()===1&&j.type==="youtube"&&((re=W.contentWindow)===null||re===void 0||re.postMessage(JSON.stringify({event:"listening",id:W.getAttribute("id")}),"*"))},W.onerror=()=>{e&&e.getState()===1&&(e==null||e.showError(j,"{{IFRAME_ERROR}}"))},W.src=j.src;const Z=document.createElement("div");Z.classList.add("f-html"),Z.append(W),j.contentEl=W,j.htmlEl=Z,j.el.classList.add("has-html"),j.el.classList.add("has-iframe"),j.el.classList.add(`has-${j.type}`),j.el.prepend(Z),x(j),e.emit("contentReady",j)})(U)}function v(B,U){var j,W;U.type!=="html5video"&&U.type!=="youtube"&&U.type!=="vimeo"||((j=U.contentEl)===null||j===void 0||j.remove(),U.contentEl=void 0,(W=U.htmlEl)===null||W===void 0||W.remove(),U.htmlEl=void 0),U.poller&&clearTimeout(U.poller)}function S(){n=!1}function T(){if(n)return;n=!0;const B=i();(B&&B.autoplay!==void 0?B.autoplay:o().autoplay)&&((function(){var U;const j=i(),W=j==null?void 0:j.el;if(W&&(j==null?void 0:j.type)==="html5video")try{const re=W.querySelector("video");if(re){const le=re.play();le!==void 0&&le.then((()=>{})).catch((ie=>{re.muted=!0,re.play()}))}}catch{}const Z=j==null?void 0:j.htmlEl;Z instanceof HTMLIFrameElement&&((U=Z.contentWindow)===null||U===void 0||U.postMessage('{"event":"command","func":"stopVideo","args":""}',"*"))})(),(function(){const U=i(),j=U==null?void 0:U.type;if(!(U!=null&&U.el)||j!=="youtube"&&j!=="vimeo")return;const W=()=>{if(U.contentEl&&U.contentEl instanceof HTMLIFrameElement&&U.contentEl.contentWindow){let Z;if(U.contentEl.dataset.ready==="true")return Z=U.type==="youtube"?{event:"command",func:"playVideo"}:{method:"play",value:"true"},Z&&U.contentEl.contentWindow.postMessage(JSON.stringify(Z),"*"),void(U.poller=void 0);U.type==="youtube"&&(Z={event:"listening",id:U.contentEl.getAttribute("id")},U.contentEl.contentWindow.postMessage(JSON.stringify(Z),"*"))}U.poller=setTimeout(W,250)};W()})())}function x(B){const U=B==null?void 0:B.htmlEl;if(B&&U&&(B.type==="html5video"||B.type==="youtube"||B.type==="vimeo")){if(U.style.aspectRatio="",U.style.width="",U.style.height="",U.style.maxWidth="",U.style.maxHeight="",B.width){let j=`${B.width}`;j.match(/^\d+$/)&&(j+="px"),U.style.maxWidth=`${j}`}if(B.height){let j=`${B.height}`;j.match(/^\d+$/)&&(j+="px"),U.style.maxHeight=`${j}`}if(B.aspectRatio){const j=B.aspectRatio.split("/"),W=parseFloat(j[0].trim()),Z=j[1]?parseFloat(j[1].trim()):0,re=W&&Z?W/Z:W;U.offsetHeight;const le=U.getBoundingClientRect(),ie=re<(le.width||1)/(le.height||1);U.style.aspectRatio=`${B.aspectRatio}`,U.style.width=ie?"auto":"",U.style.height=ie?"":"auto"}}}function P(){x(i())}return{init:function(B){e=B,e.on("addSlide",d),e.on("attachSlideEl",p),e.on("detachSlideEl",v),e.on("ready",T),e.on("change",S),e.on("settle",T),e.on("refresh",P),window.addEventListener("message",c)},destroy:function(){e==null||e.off("addSlide",d),e==null||e.off("attachSlideEl",p),e==null||e.off("detachSlideEl",v),e==null||e.off("ready",T),e==null||e.off("change",S),e==null||e.off("settle",T),e==null||e.off("refresh",P),window.removeEventListener("message",c),e=void 0}}};/*! License details at fancyapps.com/license */const NCe={autoStart:!1,btnTpl:'<button data-fullscreen-action="toggle" class="f-button" title="{{TOGGLE_FULLSCREEN}}"><svg><g><path d="M8 3H5a2 2 0 0 0-2 2v3M21 8V5a2 2 0 0 0-2-2h-3M3 16v3a2 2 0 0 0 2 2h3M16 21h3a2 2 0 0 0 2-2v-3"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'},LCe="in-fullscreen-mode",$5e=()=>{let e;function n(x){const P=e==null?void 0:e.getOptions().Fullscreen;let B=(Tg(P)?Object.assign(Object.assign({},NCe),P):NCe)[x];return B&&typeof B=="function"&&e?B(e):B}function o(){var x;(x=e==null?void 0:e.getPlugins().Toolbar)===null||x===void 0||x.add("fullscreen",{tpl:n("btnTpl")})}function i(){if(n("autoStart")){const x=d();x&&v(x)}}function c(x,P){const B=P.target;B&&!P.defaultPrevented&&B.dataset.fullscreenAction==="toggle"&&T()}function d(){return n("el")||(e==null?void 0:e.getContainer())||void 0}function p(){const x=document;return x.fullscreenEnabled?!!x.fullscreenElement:!!x.webkitFullscreenEnabled&&!!x.webkitFullscreenElement}function v(x){const P=document;let B;return x||(x=P.documentElement),P.fullscreenEnabled?B=x.requestFullscreen():P.webkitFullscreenEnabled&&(B=x.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)),B&&B.then((()=>{x.classList.add(LCe)})),B}function S(){const x=document;let P;return x.fullscreenEnabled?P=x.fullscreenElement&&x.exitFullscreen():x.webkitFullscreenEnabled&&(P=x.webkitFullscreenElement&&x.webkitExitFullscreen()),P&&P.then((()=>{var B;(B=d())===null||B===void 0||B.classList.remove(LCe)})),P}function T(){const x=d();x&&(p()?S():v(x))}return{init:function(x){e=x,e.on("initPlugins",o),e.on("ready",i),e.on("click",c)},destroy:function(){e==null||e.off("initPlugins",o),e==null||e.off("ready",i),e==null||e.off("click",c)},exit:S,inFullscreen:p,request:v,toggle:T}};/*! License details at fancyapps.com/license */let vE,UJ=!1,BCe=!1,M5=!1,zme=!1;const zJ=()=>{const e=new URL(document.URL).hash,n=e.slice(1).split("-"),o=n[n.length-1],i=o&&/^\+?\d+$/.test(o)&&parseInt(n.pop()||"1",10)||1;return{hash:e,slug:n.join("-"),index:i}},I0e=()=>{if(!vE||vE.getInstance())return;const{slug:e,index:n}=zJ();if(!e||!vE||vE.getInstance())return;const o=document.querySelectorAll(`[data-fancybox="${e}"]`);if(!o.length)return;const i=o[n-1];i&&i.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0}))},U5e=()=>{var e,n;if(!vE||M5)return;const o=vE==null?void 0:vE.getInstance();if((o==null?void 0:o.getOptions().Hash)===!1)return;const{slug:i,index:c}=zJ(),d=((e=o==null?void 0:o.getSlide())===null||e===void 0?void 0:e.fancybox)||void 0;o&&d&&(i===d?(n=o.getCarousel())===null||n===void 0||n.goTo(c-1):(zme=!0,o.close(),zme=!1)),I0e()},VCe=()=>{vE&&setTimeout((()=>{UJ=!0,I0e(),UJ=!1,window.addEventListener("hashchange",U5e,!1)}),300)},jme=()=>{let e,n="auto",o="";function i(){var p,v;if(!e||!e.isTopMost()||e.getOptions().Hash===!1)return;const S=e.getCarousel();if(!S)return;const{hash:T,slug:x}=zJ(),P=e.getSlide();if(!P)return;let B=P.fancybox||"",U=parseInt(P.index+"",10)+1;if(!B)return;let j=`#${B}-${U}`;if((((v=(p=e.getCarousel())===null||p===void 0?void 0:p.getPages())===null||v===void 0?void 0:v.length)||0)<2&&(j=`#${B}`),T!==j&&(o=T),history.scrollRestoration&&(n=history.scrollRestoration,history.scrollRestoration="manual"),S.on("change",c),!UJ)if(B===x)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+j)}catch{}else try{window.history.pushState({},document.title,window.location.pathname+window.location.search+j),BCe=!0}catch{}}function c(){if(!e||!e.isTopMost()||e.getOptions().Hash===!1)return;const{slug:p}=zJ(),v=e.getSlide();if(!v)return;let S=v.fancybox||"",T=`#${S}-${v.index+1}`;if(S===p){M5=!0;try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+T)}catch{}M5=!1}}function d(){if(zme||!e||!e.isTopMost()||e.getOptions().Hash===!1)return;const p=e.getSlide();if(p&&p.fancybox){M5=!0;try{!BCe||UJ||(function(){if(window.parent===window)return!1;try{var v=window.frameElement}catch{v=null}return v===null?location.protocol==="data:":v.hasAttribute("sandbox")})()?window.history.replaceState({},document.title,window.location.pathname+window.location.search+o):window.history.back()}catch{}M5=!1}}return{init:function(p){e=p,e.on("ready",i),e.on("close",d)},destroy:function(){e==null||e.off("ready",i),e==null||e.off("close",d);const p=e==null?void 0:e.getCarousel();p&&p.off("change",c),e=void 0,history.scrollRestoration&&n&&(history.scrollRestoration=n)}}};jme.startFromUrl=I0e,jme.setup=function(e){vE||(vE=e,a2e()&&(/complete|interactive|loaded/.test(document.readyState)?VCe():document.addEventListener("DOMContentLoaded",VCe)))};/*! License details at fancyapps.com/license */const z5e=Object.assign(Object.assign({},x0e),{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ELEMENT_NOT_FOUND:"HTML Element Not Found",IFRAME_ERROR:"Error Loading Page"});/*! License details at fancyapps.com/license */const h2e='<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg><path d="M19.286 4.714 4.714 19.286M4.714 4.714l14.572 14.572" /></svg></button>';d2e().add("close",{tpl:h2e});const f2e=e=>{e&&e.dispatchEvent(new CustomEvent("animationend",{bubbles:!1,cancelable:!0,currentTarget:e}))},FCe=(e=null,n="",o)=>{if(!e||!e.parentElement||!n)return void(o&&o());f2e(e);const i=c=>{c.target===e&&e.dataset.animationName&&(e.removeEventListener("animationend",i),delete e.dataset.animationName,o&&o(),e.classList.remove(n))};e.dataset.animationName=n,e.addEventListener("animationend",i),Ta(e,n)};var lf;(function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Closing=2]="Closing",e[e.Destroyed=3]="Destroyed"})(lf||(lf={}));const X5={ajax:null,backdropClick:"close",Carousel:{},closeButton:"auto",closeExisting:!1,delegateEl:void 0,dragToClose:!0,fadeEffect:!0,groupAll:!1,groupAttr:"data-fancybox",hideClass:"f-fadeOut",hideScrollbar:!0,id:void 0,idle:!1,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"prev",ArrowDown:"next",ArrowRight:"next",ArrowLeft:"prev"},l10n:z5e,mainClass:"",mainStyle:{},mainTpl:`<dialog class="fancybox__dialog">
    <div class="fancybox__container" tabindex="0" aria-label="{{MODAL}}">
      <div class="fancybox__backdrop"></div>
      <div class="fancybox__carousel"></div>
    </div>
  </dialog>`,on:{},parentEl:void 0,placeFocusBack:!0,showClass:"f-zoomInUp",startIndex:0,sync:void 0,theme:"dark",triggerEl:void 0,triggerEvent:void 0,zoomEffect:!0},M_=new Map;let j5e=0;const HCe="with-fancybox",W5e=()=>{let e,n,o,i,c,d=lf.Init,p=Object.assign({},X5),v=-1,S={},T=[],x=!1,P=!0,B=0;function U(Ut,...xn){let vn=p[Ut];return vn&&typeof vn=="function"?vn(vs,...xn):vn}function j(Ut,xn=[]){const vn=U("l10n")||{};Ut=String(Ut).replace(/\{\{(\w+)\}\}/g,((zt,wn)=>vn[wn]||zt));for(let zt=0;zt<xn.length;zt++)Ut=Ut.split(xn[zt][0]).join(xn[zt][1]);return Ut=Ut.replace(/\{\{(.*?)\}\}/g,((zt,wn)=>wn))}const W=new Map;function Z(Ut,...xn){const vn=[...W.get(Ut)||[]];for(const[zt,wn]of Object.entries(p.on||{}))(zt===Ut||zt.split(" ").indexOf(Ut)>-1)&&vn.push(wn);for(const zt of vn)zt&&typeof zt=="function"&&zt(vs,...xn);Ut!=="*"&&Z("*",Ut,...xn)}function re(Ut=[],xn={}){d!==lf.Init&&(vs.destroy(),d=lf.Init),p=Ib({},X5,xn),v=U("id")||"fancybox-"+ ++j5e;const vn=M_.get(v);if(vn&&vn.destroy(),M_.set(v,vs),Z("init"),(function(){for(const[zt,wn]of Object.entries(Object.assign(Object.assign({},Ku.Plugins),p.plugins||{})))if(zt&&!S[zt]&&wn instanceof Function){const fn=wn();fn.init(vs),S[zt]=fn}Z("initPlugins")})(),(function(zt=[]){Z("initSlides",zt),T=[...zt]})(Ut),(function(){const zt=U("parentEl")||document.body;if(!(zt&&zt instanceof HTMLElement))return;const wn=j(U("mainTpl")||"");if(e=vO(wn)||void 0,!e||(n=e.querySelector(".fancybox__container"),!(n&&n instanceof HTMLElement)))return;const fn=U("mainClass");fn&&Ta(n,fn);const ct=U("mainStyle");if(ct&&Tg(ct))for(const[Ge,Lt]of Object.entries(ct))n.style.setProperty(Ge,Lt);const Mt=U("theme"),Yt=Mt==="auto"?window.matchMedia("(prefers-color-scheme:light)").matches:Mt==="light";n.setAttribute("theme",Yt?"light":"dark"),e.setAttribute("id",`${v}`),e.addEventListener("keydown",(Ge=>{Ge.key==="Escape"&&Ge.preventDefault()})),e.addEventListener("wheel",(Ge=>{const Lt=Ge.target;let ln=U("wheel",Ge);Lt.closest(".f-thumbs")&&(ln="slide");const On=ln==="slide",Bt=[-Ge.deltaX||0,-Ge.deltaY||0,-Ge.detail||0].reduce((function(ks,Rs){return Math.abs(Rs)>Math.abs(ks)?Rs:ks})),$t=Math.max(-1,Math.min(1,Bt)),ls=Date.now();B&&ls-B<300?On&&Ge.preventDefault():(B=ls,Z("wheel",Ge,$t),Ge.defaultPrevented||(ln==="close"?Tn(Ge):ln==="slide"&&i&&!pk(Lt)&&(Ge.preventDefault(),i[$t>0?"prev":"next"]())))}),{capture:!0,passive:!1}),e.addEventListener("cancel",(Ge=>{Tn(Ge)})),zt.append(e),M_.size===1&&(U("hideScrollbar")&&ECe(!0),document.documentElement.classList.add(HCe)),e instanceof HTMLDialogElement&&e.showModal(),Z("initLayout")})(),(function(){if(o=(e==null?void 0:e.querySelector(".fancybox__carousel"))||void 0,!o)return;o.fancybox=vs;const zt=Ib({},{Autoplay:{autoStart:!1,pauseOnHover:!1,progressbarParentEl:wn=>{const fn=wn.getContainer();return(fn==null?void 0:fn.querySelector(".f-carousel__toolbar [data-autoplay-action]"))||fn}},Fullscreen:{el:n},Toolbar:{absolute:!0,items:{counter:{tpl:'<div class="f-counter"><span data-fancybox-page></span>/<span data-fancybox-pages></span></div>'}},display:{left:["counter"],right:["toggleFull","autoplay","fullscreen","thumbs","close"]}},Video:{autoplay:!0},Thumbs:{minCount:2,Carousel:{classes:{container:"fancybox__thumbs"}}},classes:{container:"fancybox__carousel",viewport:"fancybox__viewport",slide:"fancybox__slide"},spinnerTpl:'<div class="f-spinner" data-fancybox-close></div>',dragFree:!1,slidesPerPage:1,plugins:{Sync:l2e,Arrows:N5e,Lazyload:c2e,Zoomable:P5e,Html:F5e,Video:H5e,Autoplay:B5e,Fullscreen:$5e,Thumbs:V5e,Toolbar:d2e}},U("Carousel")||{},{slides:T,enabled:!0,initialPage:U("startIndex")||0,l10n:U("l10n")});i=$J(o,zt),Z("initCarousel",i),i.on("*",((wn,fn,...ct)=>{Z(`Carousel.${fn}`,wn,...ct)})),i.on("attachSlideEl",ie),i.on("detachSlideEl",be),i.on("contentReady",tt),i.on("ready",F),i.on("change",Ae),i.on("settle",Ie),i.on("thumbs:ready",Xe),i.on("thumbs:destroy",Xe),i.init()})(),e&&n){if(U("closeExisting"))for(const[zt,wn]of M_.entries())zt!==v&&wn.close();U("fadeEffect")?(setTimeout((()=>{le()}),500),Ta(n,"is-revealing")):le(),n.classList.add("is-ready"),d=lf.Ready,Z("ready")}}function le(){cE(n,"is-revealing");try{document.activeElement===e&&((n==null?void 0:n.querySelector("[autofocus]"))||n).focus()}catch{}}function ie(Ut,xn){var vn;te(xn),Ve(),(vn=xn.el)===null||vn===void 0||vn.addEventListener("click",Ce),xn.type!=="inline"&&xn.type!=="clone"||(function(zt){if(!i||!zt||!zt.el)return;let wn=null;if(kp(zt.src)){const fn=zt.src.split("#",2).pop();wn=fn?document.getElementById(fn):null}if(wn){if(Ta(wn,"f-html"),zt.type==="clone"||wn.closest(".fancybox__carousel")){wn=wn.cloneNode(!0);const fn=wn.dataset.animationName;fn&&(wn.classList.remove(fn),delete wn.dataset.animationName);let ct=wn.getAttribute("id");ct=ct?`${ct}--clone`:`clone-${v}-${zt.index}`,wn.setAttribute("id",ct)}else if(wn.parentNode){const fn=document.createElement("div");fn.inert=!0,wn.parentNode.insertBefore(fn,wn),zt.placeholderEl=fn}zt.htmlEl=wn,Ta(zt.el,"has-html"),zt.el.prepend(wn),wn.classList.remove("hidden"),wn.style.display==="none"&&(wn.style.display=""),getComputedStyle(wn).getPropertyValue("display")==="none"&&(wn.style.display=wn.dataset.display||"flex"),i==null||i.emit("contentReady",zt)}else i==null||i.showError(zt,"{{ELEMENT_NOT_FOUND}}")})(xn),xn.type==="ajax"&&(function(zt){const wn=zt.el;if(!wn||zt.htmlEl||zt.xhr)return;i==null||i.showLoading(zt),zt.state=0;const fn=new XMLHttpRequest;fn.onreadystatechange=function(){if(fn.readyState===XMLHttpRequest.DONE&&d===lf.Ready)if(i==null||i.hideLoading(zt),zt.state=1,fn.status===200){let Mt=fn.responseText+"",Yt=null,Ge=null;if(zt.filter){const Lt=document.createElement("div");Lt.innerHTML=Mt,Ge=Lt.querySelector(zt.filter+"")}Ge&&Ge instanceof HTMLElement?Yt=Ge:(Yt=document.createElement("div"),Yt.innerHTML=Mt),Yt.classList.add("f-html"),zt.htmlEl=Yt,wn.classList.add("has-html"),wn.classList.add("has-ajax"),wn.prepend(Yt),i==null||i.emit("contentReady",zt)}else i==null||i.showError(zt)};const ct=U("ajax")||null;fn.open(ct?"POST":"GET",zt.src+""),fn.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),fn.setRequestHeader("X-Requested-With","XMLHttpRequest"),fn.send(ct),zt.xhr=fn})(xn)}function be(Ut,xn){var vn;(function(zt){zt.closeButtonEl&&(zt.closeButtonEl.remove(),zt.closeButtonEl=void 0)})(xn),(vn=xn.el)===null||vn===void 0||vn.removeEventListener("click",Ce),xn.type!=="inline"&&xn.type!=="clone"||(function(zt){const wn=zt.htmlEl,fn=zt.placeholderEl;wn&&(getComputedStyle(wn).getPropertyValue("display")!=="none"&&(wn.style.display="none"),wn.offsetHeight),fn&&(wn&&fn.parentNode&&fn.parentNode.insertBefore(wn,fn),fn.remove()),zt.htmlEl=void 0,zt.placeholderEl=void 0})(xn),xn.xhr&&(xn.xhr.abort(),xn.xhr=void 0)}function Ce(Ut){if(!ot())return;if(d!==lf.Ready)return Ut.preventDefault(),void Ut.stopPropagation();if(Ut.defaultPrevented||!R3.isClickAllowed())return;const xn=Ut.composedPath()[0];xn.closest(".fancybox__carousel")&&xn.classList.contains("fancybox__slide")&&Re(Ut)}function Ae(){P=!1,n&&i&&n.classList.remove("is-revealing"),Ve();const Ut=U("sync");if(i&&Ut){const xn=Ut.getPageIndex(i.getPageIndex())||0;Ut.goTo(xn,{transition:!1})}}function F(){var Ut;if(d!==lf.Ready)return;hn(Rt()),(function(){if(!U("dragToClose")||!i)return;const vn=i.getViewport();if(!vn)return;const zt=R3(vn).init();if(!zt)return;let wn=0,fn=0,ct=bO().on("step",(Mt=>{wn=Mt.y;const Yt=i==null?void 0:i.getViewport();if(n&&Yt){const Ge=Ume(Math.abs(wn),0,.5*Yt.getBoundingClientRect().height,1,.5);n.style.setProperty("--f-drag-opacity",Ge+""),n.style.setProperty("--f-drag-offset",wn+"px")}}));zt.on("start",(function(){ct.pause(),fn=wn})).on("panstart",(Mt=>{var Yt;const Ge=Mt.srcEvent.target;Ge&&!pk(Ge)&&((Yt=i==null?void 0:i.getViewport())===null||Yt===void 0||Yt.classList.add("is-dragging"))})).on("pan",(function(Mt){const Yt=Mt.srcEvent.target;Yt&&pk(Yt)||i!=null&&i.getViewport()&&Mt.axis==="y"&&(fn+=Mt.deltaY,ct.spring({clamp:!0,mass:1,tension:860,friction:17,restDelta:.01,restSpeed:.01}).from({y:wn}).to({y:fn}).start())})).on("end",(function(Mt){ct.pause(),Mt.axis==="y"&&Math.abs(Mt.velocityY)>5&&Math.abs(fn)>0&&(Tn(Mt.srcEvent,"f-throwOut"+(Mt.velocityY>0?"Down":"Up")),d===lf.Closing)||wn!==0&&(fn=0,ct.spring({clamp:!0,mass:1,tension:140,friction:25,restDelta:.1,restSpeed:.1,maxSpeed:1/0}).from({y:wn}).to({y:0}).start())}))})(),document.body.addEventListener("click",gt),document.body.addEventListener("keydown",mt,{passive:!1,capture:!0}),Ve(),Ro();const xn=U("sync");xn&&((Ut=xn.getTween())===null||Ut===void 0||Ut.start())}function Ie(){i!=null&&i.canGoNext()?Ro():qt()}function tt(Ut,xn){te(xn),hn(xn)}function Xe(){var Ut;const xn=i==null?void 0:i.getPlugins().Thumbs;bg(n,"has-thumbs",(xn==null?void 0:xn.isEnabled())||!1),bg(n,"has-vertical-thumbs",((Ut=xn==null?void 0:xn.getCarousel())===null||Ut===void 0?void 0:Ut.isVertical())||!1)}function Ve(){if(n){const Ut=(i==null?void 0:i.getPages())||[],xn=(i==null?void 0:i.getPageIndex())||0;for(const vn of n.querySelectorAll("[data-fancybox-index]"))vn.innerHTML=xn+"";for(const vn of n.querySelectorAll("[data-fancybox-page]"))vn.innerHTML=xn+1+"";for(const vn of n.querySelectorAll("[data-fancybox-pages]"))vn.innerHTML=Ut.length+""}}function Re(Ut){if(Ut.composedPath()[0].closest("[data-fancybox-close]"))return void Tn(Ut);Z("backdropClick",Ut),!Ut.defaultPrevented&&U("backdropClick")&&Tn(Ut)}function vt(){wo()}function mt(Ut){if(!ot()||d!==lf.Ready)return;const xn=Ut.key,vn=U("keyboard");if(!vn||Ut.ctrlKey||Ut.altKey||Ut.shiftKey)return;const zt=Ut.composedPath()[0];if(!$L(zt)||xn!=="Escape"&&(fn=>{const ct=["input","textarea","select","option","video","iframe","[contenteditable]","[data-selectable]","[data-draggable]"].join(",");return fn.matches(ct)||fn.closest(ct)})(zt)||(Z("keydown",Ut),Ut.defaultPrevented))return;const wn=vn[xn];if(wn)switch(wn){case"close":Tn(Ut);break;case"next":Ut.preventDefault(),i==null||i.next();break;case"prev":Ut.preventDefault(),i==null||i.prev()}}function gt(Ut){if(!ot()||d!==lf.Ready||(wo(),Ut.defaultPrevented))return;const xn=Ut.composedPath()[0],vn=!!xn.closest("[data-fancybox-close]"),zt=xn.classList.contains("fancybox__backdrop");(vn||zt)&&Re(Ut)}function te(Ut){var xn;const{el:vn,htmlEl:zt,closeButtonEl:wn}=Ut;if(!vn||!zt||wn)return;let fn=U("closeButton");if(fn==="auto"&&(fn=((xn=i==null?void 0:i.getPlugins().Toolbar)===null||xn===void 0?void 0:xn.isEnabled())!==!0),fn){const ct=vO(j(h2e));ct&&(Ta(ct,"is-close-button"),Ut.closeButtonEl=zt.insertAdjacentElement("afterbegin",ct),vn.classList.add("has-close-btn"))}}function hn(Ut){if(!(P&&i&&i.getState()===1&&Ut&&Ut.index===i.getOptions().initialPage&&Ut.el&&Ut.el.parentElement)||Ut.state!==void 0&&Ut.state!==1)return;P=!1;const xn=Ut.panzoomRef,vn=xn==null?void 0:xn.getTween(),zt=U("zoomEffect")&&vn?at(Ut):void 0;if(xn&&vn&&zt){const{x:fn,y:ct,scale:Mt}=xn.getStartPosition();return void vn.spring({tension:215,friction:25,restDelta:.001,restSpeed:.001,maxSpeed:1/0}).from(zt).to({x:fn,y:ct,scale:Mt}).start()}const wn=(xn==null?void 0:xn.getContent())||Ut.htmlEl;wn&&FCe(wn,U("showClass",Ut))}function ot(){var Ut;return((Ut=Ku.getInstance())===null||Ut===void 0?void 0:Ut.getId())===v}function Rt(){var Ut;return(Ut=i==null?void 0:i.getPage())===null||Ut===void 0?void 0:Ut.slides[0]}function kt(){const Ut=Rt();return Ut?Ut.triggerEl||U("triggerEl"):void 0}function at(Ut){var xn,vn;const zt=Ut.thumbEl;if(!zt||!(On=>{const Bt=On.getBoundingClientRect(),$t=On.closest("[style]"),ls=$t==null?void 0:$t.parentElement;if($t&&$t.style.transform&&ls){const Ao=ls.getBoundingClientRect();if(Bt.left<Ao.left||Bt.left>Ao.left+Ao.width-Bt.width||Bt.top<Ao.top||Bt.top>Ao.top+Ao.height-Bt.height)return!1}const ks=Math.max(document.documentElement.clientHeight,window.innerHeight),Rs=Math.max(document.documentElement.clientWidth,window.innerWidth);return!(Bt.bottom<0||Bt.top-ks>=0||Bt.right<0||Bt.left-Rs>=0)})(zt))return;const wn=(vn=(xn=Ut.panzoomRef)===null||xn===void 0?void 0:xn.getWrapper())===null||vn===void 0?void 0:vn.getBoundingClientRect(),fn=wn==null?void 0:wn.width,ct=wn==null?void 0:wn.height;if(!fn||!ct)return;const Mt=zt.getBoundingClientRect();let Yt=Mt.width,Ge=Mt.height,Lt=Mt.left,ln=Mt.top;if(!(!Mt||!Yt||!Ge)){if(zt instanceof HTMLImageElement){const On=window.getComputedStyle(zt).getPropertyValue("object-fit");if(On==="contain"||On==="scale-down"){const{width:Bt,height:$t}=((ls,ks,Rs,Ao,sr="contain")=>{if(sr==="contain"||ls>Rs||ks>Ao){const Ks=Rs/ls,Ls=Ao/ks,Xo=Math.min(Ks,Ls);ls*=Xo,ks*=Xo}return{width:ls,height:ks}})(zt.naturalWidth,zt.naturalHeight,Yt,Ge,On);Lt+=.5*(Yt-Bt),ln+=.5*(Ge-$t),Yt=Bt,Ge=$t}}if(!(Math.abs(fn/ct-Yt/Ge)>.1))return{x:Lt+.5*Yt-(wn.left+.5*fn),y:ln+.5*Ge-(wn.top+.5*ct),scale:Yt/fn}}}function Cn(){c&&clearTimeout(c),c=void 0,document.removeEventListener("mousemove",vt)}function Ro(){if(x||c)return;const Ut=U("idle");Ut&&(c=setTimeout(jn,Ut))}function jn(){n&&(Cn(),Ta(n,"is-idle"),document.addEventListener("mousemove",vt),x=!0)}function wo(){x&&(qt(),Ro())}function qt(){Cn(),n==null||n.classList.remove("is-idle"),x=!1}function Tn(Ut,xn){var vn,zt,wn,fn,ct,Mt,Yt;if(d===lf.Closing||d===lf.Destroyed)return;const Ge=new Event("shouldClose",{bubbles:!0,cancelable:!0});if(Z("shouldClose",Ge,Ut),Ge.defaultPrevented)return;if(Cn(),Ut){if(Ut.defaultPrevented)return;Ut.cancelable&&Ut.preventDefault(),Ut.stopPropagation(),Ut.stopImmediatePropagation()}if(d=lf.Closing,i){(vn=i.getGestures())===null||vn===void 0||vn.destroy(),(zt=i.getTween())===null||zt===void 0||zt.pause();const On=Rt(),Bt=On==null?void 0:On.panzoomRef;On&&Bt&&Ib(Bt.getOptions(),{clickAction:!1,wheelAction:!1,bounds:!1,minScale:0,maxScale:1/0});for(const $t of i.getSlides())(fn=(wn=$t.panzoomRef)===null||wn===void 0?void 0:wn.getGestures())===null||fn===void 0||fn.destroy(),(Mt=(ct=$t.panzoomRef)===null||ct===void 0?void 0:ct.getTween())===null||Mt===void 0||Mt.pause()}const Lt=i==null?void 0:i.getPlugins();(Yt=Lt==null?void 0:Lt.Autoplay)===null||Yt===void 0||Yt.stop();const ln=Lt==null?void 0:Lt.Fullscreen;ln&&ln.inFullscreen()?Promise.resolve(ln.exit()).then((()=>{setTimeout((()=>{_e(Ut,xn)}),150)})):_e(Ut,xn)}function _e(Ut,xn){var vn,zt,wn,fn,ct;if(d!==lf.Closing)return;if(Z("close",Ut),document.body.removeEventListener("click",gt),document.body.removeEventListener("keydown",mt,{passive:!1,capture:!0}),U("placeFocusBack")){const $t=kt();!$t||(ct=$t.getBoundingClientRect()).bottom>0&&ct.right>0&&ct.left<(window.innerWidth||document.documentElement.clientWidth)&&ct.top<(window.innerHeight||document.documentElement.clientHeight)||$t.scrollIntoView({behavior:"instant",block:"center",inline:"center"})}U("fadeEffect")&&(n==null||n.classList.remove("is-ready"),n==null||n.classList.add("is-hiding")),n==null||n.classList.add("is-closing");const Mt=Rt(),Yt=Mt==null?void 0:Mt.panzoomRef,Ge=(vn=Mt==null?void 0:Mt.panzoomRef)===null||vn===void 0?void 0:vn.getTween(),Lt=xn||U("hideClass");let ln=!1,On=!1;if(i&&Mt&&Yt&&Ge){let $t;U("zoomEffect")&&(((wn=(zt=i.getTween())===null||zt===void 0?void 0:zt.getCurrentVelocities())===null||wn===void 0?void 0:wn.pos)||0)<700&&Mt.state===1&&($t=at(Mt)),$t&&(ln=!0,i.on("refresh",(()=>{const ls=at(Mt);ls&&Ge.to(Object.assign(Object.assign({},vS),ls))})),Ge.easing(bO.Easings.EaseOut).duration(350).from(Object.assign({},Yt.getTransform())).to(Object.assign(Object.assign({},vS),$t)).start())}const Bt=(Mt==null?void 0:Mt.htmlEl)||((fn=Mt==null?void 0:Mt.panzoomRef)===null||fn===void 0?void 0:fn.getWrapper());Bt&&f2e(Bt),!ln&&Lt&&Bt&&(On=!0,FCe(Bt,Lt,(()=>{vr()}))),ln||On?setTimeout((()=>{vr()}),350):vr()}function vr(){var Ut,xn,vn,zt,wn;if(d===lf.Destroyed)return;d=lf.Destroyed;const fn=kt();Z("destroy"),(xn=(Ut=U("sync"))===null||Ut===void 0?void 0:Ut.getPlugins().Autoplay)===null||xn===void 0||xn.resume(),(zt=(vn=U("sync"))===null||vn===void 0?void 0:vn.getPlugins().Autoscroll)===null||zt===void 0||zt.resume(),e instanceof HTMLDialogElement&&e.close(),(wn=i==null?void 0:i.getContainer())===null||wn===void 0||wn.classList.remove("is-idle"),i==null||i.destroy();for(const ct of Object.values(S))ct==null||ct.destroy();if(S={},e==null||e.remove(),e=void 0,n=void 0,i=void 0,M_.delete(v),!M_.size&&(ECe(!1),document.documentElement.classList.remove(HCe),U("placeFocusBack")))try{fn==null||fn.focus({preventScroll:!0})}catch{}}const vs={close:Tn,destroy:vr,getCarousel:function(){return i},getContainer:function(){return n},getId:function(){return v},getOptions:function(){return p},getPlugins:function(){return S},getSlide:function(){return Rt()},getState:function(){return d},init:function(Ut=[],xn={}){return re(Ut,xn),vs},isCurrentSlide:function(Ut){const xn=Rt();return!(!Ut||!xn)&&xn.index===Ut.index},isTopMost:function(){return ot()},off:function(Ut,xn){return W.has(Ut)&&W.set(Ut,W.get(Ut).filter((vn=>vn!==xn))),vs},on:function(Ut,xn){return W.set(Ut,[...W.get(Ut)||[],xn]),vs},toggleIdle(Ut){(x||Ut===!0)&&jn(),x&&Ut!==!1||qt()}};return vs},Ku={Plugins:{Hash:jme},version:"6.0.32",openers:new Map,bind:function(e,n,o){if(!a2e())return;let i=document.body,c="[data-fancybox]",d={};if(kp(e)?(i=document.body,c=e,typeof n=="object"&&(d=n||{})):e instanceof Element&&(i=e,kp(n)&&(c=n),typeof o=="object"&&(d=o||{})),!(i&&i instanceof Element&&c))return!1;const p=Ku.openers.get(i)||new Map;if(p.set(c,d),Ku.openers.set(i,p),p.size===1){i.addEventListener("click",Ku.fromEvent);for(const v of Object.values(Ku.Plugins)){const S=v.setup;typeof S=="function"&&S(Ku)}}return!0},close:function(e=!0,...n){if(e)for(const o of M_.values())o.close(...n);else{const o=Ku.getInstance();o&&o.close(...n)}},destroy:function(){let e;for(;e=Ku.getInstance();)e.destroy();for(const n of Ku.openers.keys())n.removeEventListener("click",Ku.fromEvent);Ku.openers.clear()},fromEvent:function(e){var n,o,i;if(e.defaultPrevented||e.button&&e.button!==0||e.ctrlKey||e.metaKey||e.shiftKey)return;let c=e.composedPath()[0];if(c.closest(".fancybox__container.is-hiding"))return e.preventDefault(),void e.stopPropagation();const d=c.closest("[data-fancybox-delegate]")||void 0;if(d){const Z=d.dataset.fancyboxDelegate||"",re=document.querySelectorAll(`[data-fancybox="${Z}"]`);c=re[parseInt(d.dataset.fancyboxIndex||"",10)||0]||re[0]}if(!(c&&c instanceof Element))return;let p,v,S={};for(const[Z,re]of Ku.openers)if(re&&Z.contains(c))for(const[le,ie]of re){let be=null;try{be=c.closest(le)}catch{}be&&(c=be,p=Z,v=le,Ib(S,ie||{}))}if(!p||!v)return;e.preventDefault();const T=Ib({},X5,{triggerEvent:e,triggerEl:c,delegateEl:d},S),x=T.groupAll,P=T.groupAttr,B=P&&c?c.getAttribute(`${P}`):"";let U=[];const j=(n=c.closest(".f-carousel"))===null||n===void 0?void 0:n.carousel;if(j){const Z=[];for(const re of j==null?void 0:j.getSlides()){const le=re.el;le&&(le.matches(v)?Z.push(le):Z.push(...[].slice.call(le.querySelectorAll(v))))}Z.length&&(U=[...Z],(o=j.getPlugins().Autoplay)===null||o===void 0||o.pause(),(i=j.getPlugins().Autoscroll)===null||i===void 0||i.pause(),T.sync=j)}else(!c||B||x)&&(U=[].slice.call(p.querySelectorAll(v)));if(c&&!x&&(U=P&&B?U.filter((Z=>Z.getAttribute(`${P}`)===B)):[c]),!U.length)return;const W=Ku.getInstance();if(W){const Z=W.getOptions().triggerEl;if(Z&&U.indexOf(Z)>-1)return}return Object.assign({},T.Carousel||{}).rtl&&(U=U.reverse()),c&&(T.startIndex=U.indexOf(c)),Ku.fromNodes(U,T)},fromNodes:function(e,n){n=Ib({},X5,n||{});const o=[],i=c=>c instanceof HTMLImageElement?c:c instanceof HTMLElement?c.querySelector("img:not([aria-hidden])"):void 0;for(const c of e){const d=c.dataset||{},p=n.delegateEl&&e.indexOf(c)===n.startIndex?n.delegateEl:void 0,v=i(p)||i(c)||void 0,S=d.src||c.getAttribute("href")||c.getAttribute("currentSrc")||c.getAttribute("src")||void 0,T=d.thumb||d.thumbSrc||(v==null?void 0:v.getAttribute("currentSrc"))||(v==null?void 0:v.getAttribute("src"))||(v==null?void 0:v.dataset.lazySrc)||void 0,x={src:S,alt:d.alt||(v==null?void 0:v.getAttribute("alt"))||void 0,thumbSrc:T,thumbEl:v,triggerEl:c,delegateEl:p};for(const P in d){let B=d[P]+"";B=B!=="false"&&(B==="true"||B),x[P]=B}o.push(x)}return Ku.show(o,n)},fromSelector:function(e,n,o){let i=document.body,c="",d={};if(kp(e)?c=e:e instanceof Element&&(i=e,kp(n)&&(c=n),typeof o=="object"&&(d=o||{})),!(i&&i instanceof Element&&c))return;const p=Ku.openers.get(i);return p?(d=Ib({},p.get(c)||{},d),d?Ku.fromNodes(Array.from(i.querySelectorAll(c)),d):void 0):void 0},getCarousel:function(){var e;return((e=Ku.getInstance())===null||e===void 0?void 0:e.getCarousel())||void 0},getDefaults:function(){return X5},getInstance:function(e){if(e){const n=M_.get(e);return n&&n.getState()!==lf.Destroyed?n:void 0}return Array.from(M_.values()).reverse().find((n=>{if(n.getState()!==lf.Destroyed)return n}))||void 0},getSlide:function(){var e;return((e=Ku.getInstance())===null||e===void 0?void 0:e.getSlide())||void 0},show:function(e=[],n={}){return W5e().init(e,n)},unbind:function(e,n){let o=document.body,i="";if(kp(e)?i=e:e instanceof Element&&(o=e,kp(n)&&(i=n)),o){const c=Ku.openers.get(o);c&&i&&c.delete(i),c!=null&&c.size&&i||Ku.openers.delete(o),o.removeEventListener("click",Ku.fromEvent)}}};function p2e(e,n){return function(){return e.apply(n,arguments)}}const{toString:G5e}=Object.prototype,{getPrototypeOf:R0e}=Object,{iterator:Iee,toStringTag:m2e}=Symbol,Ree=(e=>n=>{const o=G5e.call(n);return e[o]||(e[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),MS=e=>(e=e.toLowerCase(),n=>Ree(n)===e),kee=e=>n=>typeof n===e,{isArray:s4}=Array,k3=kee("undefined");function cz(e){return e!==null&&!k3(e)&&e.constructor!==null&&!k3(e.constructor)&&Nb(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const g2e=MS("ArrayBuffer");function q5e(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&g2e(e.buffer),n}const Z5e=kee("string"),Nb=kee("function"),v2e=kee("number"),uz=e=>e!==null&&typeof e=="object",K5e=e=>e===!0||e===!1,EX=e=>{if(Ree(e)!=="object")return!1;const n=R0e(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(m2e in e)&&!(Iee in e)},Y5e=e=>{if(!uz(e)||cz(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},X5e=MS("Date"),J5e=MS("File"),Q5e=MS("Blob"),e6e=MS("FileList"),t6e=e=>uz(e)&&Nb(e.pipe),n6e=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||Nb(e.append)&&((n=Ree(e))==="formdata"||n==="object"&&Nb(e.toString)&&e.toString()==="[object FormData]"))},o6e=MS("URLSearchParams"),[s6e,r6e,i6e,a6e]=["ReadableStream","Request","Response","Headers"].map(MS),l6e=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function dz(e,n,{allOwnKeys:o=!1}={}){if(e===null||typeof e>"u")return;let i,c;if(typeof e!="object"&&(e=[e]),s4(e))for(i=0,c=e.length;i<c;i++)n.call(null,e[i],i,e);else{if(cz(e))return;const d=o?Object.getOwnPropertyNames(e):Object.keys(e),p=d.length;let v;for(i=0;i<p;i++)v=d[i],n.call(null,e[v],v,e)}}function b2e(e,n){if(cz(e))return null;n=n.toLowerCase();const o=Object.keys(e);let i=o.length,c;for(;i-- >0;)if(c=o[i],n===c.toLowerCase())return c;return null}const tk=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,y2e=e=>!k3(e)&&e!==tk;function Wme(){const{caseless:e,skipUndefined:n}=y2e(this)&&this||{},o={},i=(c,d)=>{const p=e&&b2e(o,d)||d;EX(o[p])&&EX(c)?o[p]=Wme(o[p],c):EX(c)?o[p]=Wme({},c):s4(c)?o[p]=c.slice():(!n||!k3(c))&&(o[p]=c)};for(let c=0,d=arguments.length;c<d;c++)arguments[c]&&dz(arguments[c],i);return o}const c6e=(e,n,o,{allOwnKeys:i}={})=>(dz(n,(c,d)=>{o&&Nb(c)?e[d]=p2e(c,o):e[d]=c},{allOwnKeys:i}),e),u6e=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),d6e=(e,n,o,i)=>{e.prototype=Object.create(n.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),o&&Object.assign(e.prototype,o)},h6e=(e,n,o,i)=>{let c,d,p;const v={};if(n=n||{},e==null)return n;do{for(c=Object.getOwnPropertyNames(e),d=c.length;d-- >0;)p=c[d],(!i||i(p,e,n))&&!v[p]&&(n[p]=e[p],v[p]=!0);e=o!==!1&&R0e(e)}while(e&&(!o||o(e,n))&&e!==Object.prototype);return n},f6e=(e,n,o)=>{e=String(e),(o===void 0||o>e.length)&&(o=e.length),o-=n.length;const i=e.indexOf(n,o);return i!==-1&&i===o},p6e=e=>{if(!e)return null;if(s4(e))return e;let n=e.length;if(!v2e(n))return null;const o=new Array(n);for(;n-- >0;)o[n]=e[n];return o},m6e=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&R0e(Uint8Array)),g6e=(e,n)=>{const i=(e&&e[Iee]).call(e);let c;for(;(c=i.next())&&!c.done;){const d=c.value;n.call(e,d[0],d[1])}},v6e=(e,n)=>{let o;const i=[];for(;(o=e.exec(n))!==null;)i.push(o);return i},b6e=MS("HTMLFormElement"),y6e=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,i,c){return i.toUpperCase()+c}),$Ce=(({hasOwnProperty:e})=>(n,o)=>e.call(n,o))(Object.prototype),S6e=MS("RegExp"),S2e=(e,n)=>{const o=Object.getOwnPropertyDescriptors(e),i={};dz(o,(c,d)=>{let p;(p=n(c,d,e))!==!1&&(i[d]=p||c)}),Object.defineProperties(e,i)},C6e=e=>{S2e(e,(n,o)=>{if(Nb(e)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const i=e[o];if(Nb(i)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},E6e=(e,n)=>{const o={},i=c=>{c.forEach(d=>{o[d]=!0})};return s4(e)?i(e):i(String(e).split(n)),o},w6e=()=>{},_6e=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n;function A6e(e){return!!(e&&Nb(e.append)&&e[m2e]==="FormData"&&e[Iee])}const T6e=e=>{const n=new Array(10),o=(i,c)=>{if(uz(i)){if(n.indexOf(i)>=0)return;if(cz(i))return i;if(!("toJSON"in i)){n[c]=i;const d=s4(i)?[]:{};return dz(i,(p,v)=>{const S=o(p,c+1);!k3(S)&&(d[v]=S)}),n[c]=void 0,d}}return i};return o(e,0)},x6e=MS("AsyncFunction"),O6e=e=>e&&(uz(e)||Nb(e))&&Nb(e.then)&&Nb(e.catch),C2e=((e,n)=>e?setImmediate:n?((o,i)=>(tk.addEventListener("message",({source:c,data:d})=>{c===tk&&d===o&&i.length&&i.shift()()},!1),c=>{i.push(c),tk.postMessage(o,"*")}))(`axios@${Math.random()}`,[]):o=>setTimeout(o))(typeof setImmediate=="function",Nb(tk.postMessage)),I6e=typeof queueMicrotask<"u"?queueMicrotask.bind(tk):typeof process<"u"&&process.nextTick||C2e,R6e=e=>e!=null&&Nb(e[Iee]),Qn={isArray:s4,isArrayBuffer:g2e,isBuffer:cz,isFormData:n6e,isArrayBufferView:q5e,isString:Z5e,isNumber:v2e,isBoolean:K5e,isObject:uz,isPlainObject:EX,isEmptyObject:Y5e,isReadableStream:s6e,isRequest:r6e,isResponse:i6e,isHeaders:a6e,isUndefined:k3,isDate:X5e,isFile:J5e,isBlob:Q5e,isRegExp:S6e,isFunction:Nb,isStream:t6e,isURLSearchParams:o6e,isTypedArray:m6e,isFileList:e6e,forEach:dz,merge:Wme,extend:c6e,trim:l6e,stripBOM:u6e,inherits:d6e,toFlatObject:h6e,kindOf:Ree,kindOfTest:MS,endsWith:f6e,toArray:p6e,forEachEntry:g6e,matchAll:v6e,isHTMLForm:b6e,hasOwnProperty:$Ce,hasOwnProp:$Ce,reduceDescriptors:S2e,freezeMethods:C6e,toObjectSet:E6e,toCamelCase:y6e,noop:w6e,toFiniteNumber:_6e,findKey:b2e,global:tk,isContextDefined:y2e,isSpecCompliantForm:A6e,toJSONObject:T6e,isAsyncFn:x6e,isThenable:O6e,setImmediate:C2e,asap:I6e,isIterable:R6e};function Qi(e,n,o,i,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),o&&(this.config=o),i&&(this.request=i),c&&(this.response=c,this.status=c.status?c.status:null)}Qn.inherits(Qi,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Qn.toJSONObject(this.config),code:this.code,status:this.status}}});const E2e=Qi.prototype,w2e={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{w2e[e]={value:e}});Object.defineProperties(Qi,w2e);Object.defineProperty(E2e,"isAxiosError",{value:!0});Qi.from=(e,n,o,i,c,d)=>{const p=Object.create(E2e);Qn.toFlatObject(e,p,function(x){return x!==Error.prototype},T=>T!=="isAxiosError");const v=e&&e.message?e.message:"Error",S=n==null&&e?e.code:n;return Qi.call(p,v,S,o,i,c),e&&p.cause==null&&Object.defineProperty(p,"cause",{value:e,configurable:!0}),p.name=e&&e.name||"Error",d&&Object.assign(p,d),p};const k6e=null;function Gme(e){return Qn.isPlainObject(e)||Qn.isArray(e)}function _2e(e){return Qn.endsWith(e,"[]")?e.slice(0,-2):e}function UCe(e,n,o){return e?e.concat(n).map(function(c,d){return c=_2e(c),!o&&d?"["+c+"]":c}).join(o?".":""):n}function D6e(e){return Qn.isArray(e)&&!e.some(Gme)}const M6e=Qn.toFlatObject(Qn,{},null,function(n){return/^is[A-Z]/.test(n)});function Dee(e,n,o){if(!Qn.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,o=Qn.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(W,Z){return!Qn.isUndefined(Z[W])});const i=o.metaTokens,c=o.visitor||x,d=o.dots,p=o.indexes,S=(o.Blob||typeof Blob<"u"&&Blob)&&Qn.isSpecCompliantForm(n);if(!Qn.isFunction(c))throw new TypeError("visitor must be a function");function T(j){if(j===null)return"";if(Qn.isDate(j))return j.toISOString();if(Qn.isBoolean(j))return j.toString();if(!S&&Qn.isBlob(j))throw new Qi("Blob is not supported. Use a Buffer instead.");return Qn.isArrayBuffer(j)||Qn.isTypedArray(j)?S&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function x(j,W,Z){let re=j;if(j&&!Z&&typeof j=="object"){if(Qn.endsWith(W,"{}"))W=i?W:W.slice(0,-2),j=JSON.stringify(j);else if(Qn.isArray(j)&&D6e(j)||(Qn.isFileList(j)||Qn.endsWith(W,"[]"))&&(re=Qn.toArray(j)))return W=_2e(W),re.forEach(function(ie,be){!(Qn.isUndefined(ie)||ie===null)&&n.append(p===!0?UCe([W],be,d):p===null?W:W+"[]",T(ie))}),!1}return Gme(j)?!0:(n.append(UCe(Z,W,d),T(j)),!1)}const P=[],B=Object.assign(M6e,{defaultVisitor:x,convertValue:T,isVisitable:Gme});function U(j,W){if(!Qn.isUndefined(j)){if(P.indexOf(j)!==-1)throw Error("Circular reference detected in "+W.join("."));P.push(j),Qn.forEach(j,function(re,le){(!(Qn.isUndefined(re)||re===null)&&c.call(n,re,Qn.isString(le)?le.trim():le,W,B))===!0&&U(re,W?W.concat(le):[le])}),P.pop()}}if(!Qn.isObject(e))throw new TypeError("data must be an object");return U(e),n}function zCe(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return n[i]})}function k0e(e,n){this._pairs=[],e&&Dee(e,this,n)}const A2e=k0e.prototype;A2e.append=function(n,o){this._pairs.push([n,o])};A2e.toString=function(n){const o=n?function(i){return n.call(this,i,zCe)}:zCe;return this._pairs.map(function(c){return o(c[0])+"="+o(c[1])},"").join("&")};function P6e(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function T2e(e,n,o){if(!n)return e;const i=o&&o.encode||P6e;Qn.isFunction(o)&&(o={serialize:o});const c=o&&o.serialize;let d;if(c?d=c(n,o):d=Qn.isURLSearchParams(n)?n.toString():new k0e(n,o).toString(i),d){const p=e.indexOf("#");p!==-1&&(e=e.slice(0,p)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class jCe{constructor(){this.handlers=[]}use(n,o,i){return this.handlers.push({fulfilled:n,rejected:o,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){Qn.forEach(this.handlers,function(i){i!==null&&n(i)})}}const x2e={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},N6e=typeof URLSearchParams<"u"?URLSearchParams:k0e,L6e=typeof FormData<"u"?FormData:null,B6e=typeof Blob<"u"?Blob:null,V6e={isBrowser:!0,classes:{URLSearchParams:N6e,FormData:L6e,Blob:B6e},protocols:["http","https","file","blob","url","data"]},D0e=typeof window<"u"&&typeof document<"u",qme=typeof navigator=="object"&&navigator||void 0,F6e=D0e&&(!qme||["ReactNative","NativeScript","NS"].indexOf(qme.product)<0),H6e=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$6e=D0e&&window.location.href||"http://localhost",U6e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:D0e,hasStandardBrowserEnv:F6e,hasStandardBrowserWebWorkerEnv:H6e,navigator:qme,origin:$6e},Symbol.toStringTag,{value:"Module"})),Cg={...U6e,...V6e};function z6e(e,n){return Dee(e,new Cg.classes.URLSearchParams,{visitor:function(o,i,c,d){return Cg.isNode&&Qn.isBuffer(o)?(this.append(i,o.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...n})}function j6e(e){return Qn.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function W6e(e){const n={},o=Object.keys(e);let i;const c=o.length;let d;for(i=0;i<c;i++)d=o[i],n[d]=e[d];return n}function O2e(e){function n(o,i,c,d){let p=o[d++];if(p==="__proto__")return!0;const v=Number.isFinite(+p),S=d>=o.length;return p=!p&&Qn.isArray(c)?c.length:p,S?(Qn.hasOwnProp(c,p)?c[p]=[c[p],i]:c[p]=i,!v):((!c[p]||!Qn.isObject(c[p]))&&(c[p]=[]),n(o,i,c[p],d)&&Qn.isArray(c[p])&&(c[p]=W6e(c[p])),!v)}if(Qn.isFormData(e)&&Qn.isFunction(e.entries)){const o={};return Qn.forEachEntry(e,(i,c)=>{n(j6e(i),c,o,0)}),o}return null}function G6e(e,n,o){if(Qn.isString(e))try{return(n||JSON.parse)(e),Qn.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(o||JSON.stringify)(e)}const hz={transitional:x2e,adapter:["xhr","http","fetch"],transformRequest:[function(n,o){const i=o.getContentType()||"",c=i.indexOf("application/json")>-1,d=Qn.isObject(n);if(d&&Qn.isHTMLForm(n)&&(n=new FormData(n)),Qn.isFormData(n))return c?JSON.stringify(O2e(n)):n;if(Qn.isArrayBuffer(n)||Qn.isBuffer(n)||Qn.isStream(n)||Qn.isFile(n)||Qn.isBlob(n)||Qn.isReadableStream(n))return n;if(Qn.isArrayBufferView(n))return n.buffer;if(Qn.isURLSearchParams(n))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let v;if(d){if(i.indexOf("application/x-www-form-urlencoded")>-1)return z6e(n,this.formSerializer).toString();if((v=Qn.isFileList(n))||i.indexOf("multipart/form-data")>-1){const S=this.env&&this.env.FormData;return Dee(v?{"files[]":n}:n,S&&new S,this.formSerializer)}}return d||c?(o.setContentType("application/json",!1),G6e(n)):n}],transformResponse:[function(n){const o=this.transitional||hz.transitional,i=o&&o.forcedJSONParsing,c=this.responseType==="json";if(Qn.isResponse(n)||Qn.isReadableStream(n))return n;if(n&&Qn.isString(n)&&(i&&!this.responseType||c)){const p=!(o&&o.silentJSONParsing)&&c;try{return JSON.parse(n,this.parseReviver)}catch(v){if(p)throw v.name==="SyntaxError"?Qi.from(v,Qi.ERR_BAD_RESPONSE,this,null,this.response):v}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Cg.classes.FormData,Blob:Cg.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Qn.forEach(["delete","get","head","post","put","patch"],e=>{hz.headers[e]={}});const q6e=Qn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Z6e=e=>{const n={};let o,i,c;return e&&e.split(`
`).forEach(function(p){c=p.indexOf(":"),o=p.substring(0,c).trim().toLowerCase(),i=p.substring(c+1).trim(),!(!o||n[o]&&q6e[o])&&(o==="set-cookie"?n[o]?n[o].push(i):n[o]=[i]:n[o]=n[o]?n[o]+", "+i:i)}),n},WCe=Symbol("internals");function d5(e){return e&&String(e).trim().toLowerCase()}function wX(e){return e===!1||e==null?e:Qn.isArray(e)?e.map(wX):String(e)}function K6e(e){const n=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=o.exec(e);)n[i[1]]=i[2];return n}const Y6e=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Zfe(e,n,o,i,c){if(Qn.isFunction(i))return i.call(this,n,o);if(c&&(n=o),!!Qn.isString(n)){if(Qn.isString(i))return n.indexOf(i)!==-1;if(Qn.isRegExp(i))return i.test(n)}}function X6e(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,o,i)=>o.toUpperCase()+i)}function J6e(e,n){const o=Qn.toCamelCase(" "+n);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+o,{value:function(c,d,p){return this[i].call(this,n,c,d,p)},configurable:!0})})}let Lb=class{constructor(n){n&&this.set(n)}set(n,o,i){const c=this;function d(v,S,T){const x=d5(S);if(!x)throw new Error("header name must be a non-empty string");const P=Qn.findKey(c,x);(!P||c[P]===void 0||T===!0||T===void 0&&c[P]!==!1)&&(c[P||S]=wX(v))}const p=(v,S)=>Qn.forEach(v,(T,x)=>d(T,x,S));if(Qn.isPlainObject(n)||n instanceof this.constructor)p(n,o);else if(Qn.isString(n)&&(n=n.trim())&&!Y6e(n))p(Z6e(n),o);else if(Qn.isObject(n)&&Qn.isIterable(n)){let v={},S,T;for(const x of n){if(!Qn.isArray(x))throw TypeError("Object iterator must return a key-value pair");v[T=x[0]]=(S=v[T])?Qn.isArray(S)?[...S,x[1]]:[S,x[1]]:x[1]}p(v,o)}else n!=null&&d(o,n,i);return this}get(n,o){if(n=d5(n),n){const i=Qn.findKey(this,n);if(i){const c=this[i];if(!o)return c;if(o===!0)return K6e(c);if(Qn.isFunction(o))return o.call(this,c,i);if(Qn.isRegExp(o))return o.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,o){if(n=d5(n),n){const i=Qn.findKey(this,n);return!!(i&&this[i]!==void 0&&(!o||Zfe(this,this[i],i,o)))}return!1}delete(n,o){const i=this;let c=!1;function d(p){if(p=d5(p),p){const v=Qn.findKey(i,p);v&&(!o||Zfe(i,i[v],v,o))&&(delete i[v],c=!0)}}return Qn.isArray(n)?n.forEach(d):d(n),c}clear(n){const o=Object.keys(this);let i=o.length,c=!1;for(;i--;){const d=o[i];(!n||Zfe(this,this[d],d,n,!0))&&(delete this[d],c=!0)}return c}normalize(n){const o=this,i={};return Qn.forEach(this,(c,d)=>{const p=Qn.findKey(i,d);if(p){o[p]=wX(c),delete o[d];return}const v=n?X6e(d):String(d).trim();v!==d&&delete o[d],o[v]=wX(c),i[v]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const o=Object.create(null);return Qn.forEach(this,(i,c)=>{i!=null&&i!==!1&&(o[c]=n&&Qn.isArray(i)?i.join(", "):i)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,o])=>n+": "+o).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...o){const i=new this(n);return o.forEach(c=>i.set(c)),i}static accessor(n){const i=(this[WCe]=this[WCe]={accessors:{}}).accessors,c=this.prototype;function d(p){const v=d5(p);i[v]||(J6e(c,p),i[v]=!0)}return Qn.isArray(n)?n.forEach(d):d(n),this}};Lb.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Qn.reduceDescriptors(Lb.prototype,({value:e},n)=>{let o=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(i){this[o]=i}}});Qn.freezeMethods(Lb);function Kfe(e,n){const o=this||hz,i=n||o,c=Lb.from(i.headers);let d=i.data;return Qn.forEach(e,function(v){d=v.call(o,d,c.normalize(),n?n.status:void 0)}),c.normalize(),d}function I2e(e){return!!(e&&e.__CANCEL__)}function r4(e,n,o){Qi.call(this,e??"canceled",Qi.ERR_CANCELED,n,o),this.name="CanceledError"}Qn.inherits(r4,Qi,{__CANCEL__:!0});function R2e(e,n,o){const i=o.config.validateStatus;!o.status||!i||i(o.status)?e(o):n(new Qi("Request failed with status code "+o.status,[Qi.ERR_BAD_REQUEST,Qi.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}function Q6e(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function eze(e,n){e=e||10;const o=new Array(e),i=new Array(e);let c=0,d=0,p;return n=n!==void 0?n:1e3,function(S){const T=Date.now(),x=i[d];p||(p=T),o[c]=S,i[c]=T;let P=d,B=0;for(;P!==c;)B+=o[P++],P=P%e;if(c=(c+1)%e,c===d&&(d=(d+1)%e),T-p<n)return;const U=x&&T-x;return U?Math.round(B*1e3/U):void 0}}function tze(e,n){let o=0,i=1e3/n,c,d;const p=(T,x=Date.now())=>{o=x,c=null,d&&(clearTimeout(d),d=null),e(...T)};return[(...T)=>{const x=Date.now(),P=x-o;P>=i?p(T,x):(c=T,d||(d=setTimeout(()=>{d=null,p(c)},i-P)))},()=>c&&p(c)]}const jJ=(e,n,o=3)=>{let i=0;const c=eze(50,250);return tze(d=>{const p=d.loaded,v=d.lengthComputable?d.total:void 0,S=p-i,T=c(S),x=p<=v;i=p;const P={loaded:p,total:v,progress:v?p/v:void 0,bytes:S,rate:T||void 0,estimated:T&&v&&x?(v-p)/T:void 0,event:d,lengthComputable:v!=null,[n?"download":"upload"]:!0};e(P)},o)},GCe=(e,n)=>{const o=e!=null;return[i=>n[0]({lengthComputable:o,total:e,loaded:i}),n[1]]},qCe=e=>(...n)=>Qn.asap(()=>e(...n)),nze=Cg.hasStandardBrowserEnv?((e,n)=>o=>(o=new URL(o,Cg.origin),e.protocol===o.protocol&&e.host===o.host&&(n||e.port===o.port)))(new URL(Cg.origin),Cg.navigator&&/(msie|trident)/i.test(Cg.navigator.userAgent)):()=>!0,oze=Cg.hasStandardBrowserEnv?{write(e,n,o,i,c,d){const p=[e+"="+encodeURIComponent(n)];Qn.isNumber(o)&&p.push("expires="+new Date(o).toGMTString()),Qn.isString(i)&&p.push("path="+i),Qn.isString(c)&&p.push("domain="+c),d===!0&&p.push("secure"),document.cookie=p.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function sze(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function rze(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function k2e(e,n,o){let i=!sze(n);return e&&(i||o==!1)?rze(e,n):n}const ZCe=e=>e instanceof Lb?{...e}:e;function Pk(e,n){n=n||{};const o={};function i(T,x,P,B){return Qn.isPlainObject(T)&&Qn.isPlainObject(x)?Qn.merge.call({caseless:B},T,x):Qn.isPlainObject(x)?Qn.merge({},x):Qn.isArray(x)?x.slice():x}function c(T,x,P,B){if(Qn.isUndefined(x)){if(!Qn.isUndefined(T))return i(void 0,T,P,B)}else return i(T,x,P,B)}function d(T,x){if(!Qn.isUndefined(x))return i(void 0,x)}function p(T,x){if(Qn.isUndefined(x)){if(!Qn.isUndefined(T))return i(void 0,T)}else return i(void 0,x)}function v(T,x,P){if(P in n)return i(T,x);if(P in e)return i(void 0,T)}const S={url:d,method:d,data:d,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,withXSRFToken:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:v,headers:(T,x,P)=>c(ZCe(T),ZCe(x),P,!0)};return Qn.forEach(Object.keys({...e,...n}),function(x){const P=S[x]||c,B=P(e[x],n[x],x);Qn.isUndefined(B)&&P!==v||(o[x]=B)}),o}const D2e=e=>{const n=Pk({},e);let{data:o,withXSRFToken:i,xsrfHeaderName:c,xsrfCookieName:d,headers:p,auth:v}=n;if(n.headers=p=Lb.from(p),n.url=T2e(k2e(n.baseURL,n.url,n.allowAbsoluteUrls),e.params,e.paramsSerializer),v&&p.set("Authorization","Basic "+btoa((v.username||"")+":"+(v.password?unescape(encodeURIComponent(v.password)):""))),Qn.isFormData(o)){if(Cg.hasStandardBrowserEnv||Cg.hasStandardBrowserWebWorkerEnv)p.setContentType(void 0);else if(Qn.isFunction(o.getHeaders)){const S=o.getHeaders(),T=["content-type","content-length"];Object.entries(S).forEach(([x,P])=>{T.includes(x.toLowerCase())&&p.set(x,P)})}}if(Cg.hasStandardBrowserEnv&&(i&&Qn.isFunction(i)&&(i=i(n)),i||i!==!1&&nze(n.url))){const S=c&&d&&oze.read(d);S&&p.set(c,S)}return n},ize=typeof XMLHttpRequest<"u",aze=ize&&function(e){return new Promise(function(o,i){const c=D2e(e);let d=c.data;const p=Lb.from(c.headers).normalize();let{responseType:v,onUploadProgress:S,onDownloadProgress:T}=c,x,P,B,U,j;function W(){U&&U(),j&&j(),c.cancelToken&&c.cancelToken.unsubscribe(x),c.signal&&c.signal.removeEventListener("abort",x)}let Z=new XMLHttpRequest;Z.open(c.method.toUpperCase(),c.url,!0),Z.timeout=c.timeout;function re(){if(!Z)return;const ie=Lb.from("getAllResponseHeaders"in Z&&Z.getAllResponseHeaders()),Ce={data:!v||v==="text"||v==="json"?Z.responseText:Z.response,status:Z.status,statusText:Z.statusText,headers:ie,config:e,request:Z};R2e(function(F){o(F),W()},function(F){i(F),W()},Ce),Z=null}"onloadend"in Z?Z.onloadend=re:Z.onreadystatechange=function(){!Z||Z.readyState!==4||Z.status===0&&!(Z.responseURL&&Z.responseURL.indexOf("file:")===0)||setTimeout(re)},Z.onabort=function(){Z&&(i(new Qi("Request aborted",Qi.ECONNABORTED,e,Z)),Z=null)},Z.onerror=function(be){const Ce=be&&be.message?be.message:"Network Error",Ae=new Qi(Ce,Qi.ERR_NETWORK,e,Z);Ae.event=be||null,i(Ae),Z=null},Z.ontimeout=function(){let be=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const Ce=c.transitional||x2e;c.timeoutErrorMessage&&(be=c.timeoutErrorMessage),i(new Qi(be,Ce.clarifyTimeoutError?Qi.ETIMEDOUT:Qi.ECONNABORTED,e,Z)),Z=null},d===void 0&&p.setContentType(null),"setRequestHeader"in Z&&Qn.forEach(p.toJSON(),function(be,Ce){Z.setRequestHeader(Ce,be)}),Qn.isUndefined(c.withCredentials)||(Z.withCredentials=!!c.withCredentials),v&&v!=="json"&&(Z.responseType=c.responseType),T&&([B,j]=jJ(T,!0),Z.addEventListener("progress",B)),S&&Z.upload&&([P,U]=jJ(S),Z.upload.addEventListener("progress",P),Z.upload.addEventListener("loadend",U)),(c.cancelToken||c.signal)&&(x=ie=>{Z&&(i(!ie||ie.type?new r4(null,e,Z):ie),Z.abort(),Z=null)},c.cancelToken&&c.cancelToken.subscribe(x),c.signal&&(c.signal.aborted?x():c.signal.addEventListener("abort",x)));const le=Q6e(c.url);if(le&&Cg.protocols.indexOf(le)===-1){i(new Qi("Unsupported protocol "+le+":",Qi.ERR_BAD_REQUEST,e));return}Z.send(d||null)})},lze=(e,n)=>{const{length:o}=e=e?e.filter(Boolean):[];if(n||o){let i=new AbortController,c;const d=function(T){if(!c){c=!0,v();const x=T instanceof Error?T:this.reason;i.abort(x instanceof Qi?x:new r4(x instanceof Error?x.message:x))}};let p=n&&setTimeout(()=>{p=null,d(new Qi(`timeout ${n} of ms exceeded`,Qi.ETIMEDOUT))},n);const v=()=>{e&&(p&&clearTimeout(p),p=null,e.forEach(T=>{T.unsubscribe?T.unsubscribe(d):T.removeEventListener("abort",d)}),e=null)};e.forEach(T=>T.addEventListener("abort",d));const{signal:S}=i;return S.unsubscribe=()=>Qn.asap(v),S}},cze=function*(e,n){let o=e.byteLength;if(o<n){yield e;return}let i=0,c;for(;i<o;)c=i+n,yield e.slice(i,c),i=c},uze=async function*(e,n){for await(const o of dze(e))yield*cze(o,n)},dze=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:o,value:i}=await n.read();if(o)break;yield i}}finally{await n.cancel()}},KCe=(e,n,o,i)=>{const c=uze(e,n);let d=0,p,v=S=>{p||(p=!0,i&&i(S))};return new ReadableStream({async pull(S){try{const{done:T,value:x}=await c.next();if(T){v(),S.close();return}let P=x.byteLength;if(o){let B=d+=P;o(B)}S.enqueue(new Uint8Array(x))}catch(T){throw v(T),T}},cancel(S){return v(S),c.return()}},{highWaterMark:2})},YCe=64*1024,{isFunction:PY}=Qn,hze=(({Request:e,Response:n})=>({Request:e,Response:n}))(Qn.global),{ReadableStream:XCe,TextEncoder:JCe}=Qn.global,QCe=(e,...n)=>{try{return!!e(...n)}catch{return!1}},fze=e=>{e=Qn.merge.call({skipUndefined:!0},hze,e);const{fetch:n,Request:o,Response:i}=e,c=n?PY(n):typeof fetch=="function",d=PY(o),p=PY(i);if(!c)return!1;const v=c&&PY(XCe),S=c&&(typeof JCe=="function"?(j=>W=>j.encode(W))(new JCe):async j=>new Uint8Array(await new o(j).arrayBuffer())),T=d&&v&&QCe(()=>{let j=!1;const W=new o(Cg.origin,{body:new XCe,method:"POST",get duplex(){return j=!0,"half"}}).headers.has("Content-Type");return j&&!W}),x=p&&v&&QCe(()=>Qn.isReadableStream(new i("").body)),P={stream:x&&(j=>j.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(j=>{!P[j]&&(P[j]=(W,Z)=>{let re=W&&W[j];if(re)return re.call(W);throw new Qi(`Response type '${j}' is not supported`,Qi.ERR_NOT_SUPPORT,Z)})});const B=async j=>{if(j==null)return 0;if(Qn.isBlob(j))return j.size;if(Qn.isSpecCompliantForm(j))return(await new o(Cg.origin,{method:"POST",body:j}).arrayBuffer()).byteLength;if(Qn.isArrayBufferView(j)||Qn.isArrayBuffer(j))return j.byteLength;if(Qn.isURLSearchParams(j)&&(j=j+""),Qn.isString(j))return(await S(j)).byteLength},U=async(j,W)=>{const Z=Qn.toFiniteNumber(j.getContentLength());return Z??B(W)};return async j=>{let{url:W,method:Z,data:re,signal:le,cancelToken:ie,timeout:be,onDownloadProgress:Ce,onUploadProgress:Ae,responseType:F,headers:Ie,withCredentials:tt="same-origin",fetchOptions:Xe}=D2e(j),Ve=n||fetch;F=F?(F+"").toLowerCase():"text";let Re=lze([le,ie&&ie.toAbortSignal()],be),vt=null;const mt=Re&&Re.unsubscribe&&(()=>{Re.unsubscribe()});let gt;try{if(Ae&&T&&Z!=="get"&&Z!=="head"&&(gt=await U(Ie,re))!==0){let at=new o(W,{method:"POST",body:re,duplex:"half"}),Cn;if(Qn.isFormData(re)&&(Cn=at.headers.get("content-type"))&&Ie.setContentType(Cn),at.body){const[Ro,jn]=GCe(gt,jJ(qCe(Ae)));re=KCe(at.body,YCe,Ro,jn)}}Qn.isString(tt)||(tt=tt?"include":"omit");const te=d&&"credentials"in o.prototype,hn={...Xe,signal:Re,method:Z.toUpperCase(),headers:Ie.normalize().toJSON(),body:re,duplex:"half",credentials:te?tt:void 0};vt=d&&new o(W,hn);let ot=await(d?Ve(vt,Xe):Ve(W,hn));const Rt=x&&(F==="stream"||F==="response");if(x&&(Ce||Rt&&mt)){const at={};["status","statusText","headers"].forEach(wo=>{at[wo]=ot[wo]});const Cn=Qn.toFiniteNumber(ot.headers.get("content-length")),[Ro,jn]=Ce&&GCe(Cn,jJ(qCe(Ce),!0))||[];ot=new i(KCe(ot.body,YCe,Ro,()=>{jn&&jn(),mt&&mt()}),at)}F=F||"text";let kt=await P[Qn.findKey(P,F)||"text"](ot,j);return!Rt&&mt&&mt(),await new Promise((at,Cn)=>{R2e(at,Cn,{data:kt,headers:Lb.from(ot.headers),status:ot.status,statusText:ot.statusText,config:j,request:vt})})}catch(te){throw mt&&mt(),te&&te.name==="TypeError"&&/Load failed|fetch/i.test(te.message)?Object.assign(new Qi("Network Error",Qi.ERR_NETWORK,j,vt),{cause:te.cause||te}):Qi.from(te,te&&te.code,j,vt)}}},pze=new Map,M2e=e=>{let n=e?e.env:{};const{fetch:o,Request:i,Response:c}=n,d=[i,c,o];let p=d.length,v=p,S,T,x=pze;for(;v--;)S=d[v],T=x.get(S),T===void 0&&x.set(S,T=v?new Map:fze(n)),x=T;return T};M2e();const Zme={http:k6e,xhr:aze,fetch:{get:M2e}};Qn.forEach(Zme,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const eEe=e=>`- ${e}`,mze=e=>Qn.isFunction(e)||e===null||e===!1,P2e={getAdapter:(e,n)=>{e=Qn.isArray(e)?e:[e];const{length:o}=e;let i,c;const d={};for(let p=0;p<o;p++){i=e[p];let v;if(c=i,!mze(i)&&(c=Zme[(v=String(i)).toLowerCase()],c===void 0))throw new Qi(`Unknown adapter '${v}'`);if(c&&(Qn.isFunction(c)||(c=c.get(n))))break;d[v||"#"+p]=c}if(!c){const p=Object.entries(d).map(([S,T])=>`adapter ${S} `+(T===!1?"is not supported by the environment":"is not available in the build"));let v=o?p.length>1?`since :
`+p.map(eEe).join(`
`):" "+eEe(p[0]):"as no adapter specified";throw new Qi("There is no suitable adapter to dispatch the request "+v,"ERR_NOT_SUPPORT")}return c},adapters:Zme};function Yfe(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new r4(null,e)}function tEe(e){return Yfe(e),e.headers=Lb.from(e.headers),e.data=Kfe.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),P2e.getAdapter(e.adapter||hz.adapter,e)(e).then(function(i){return Yfe(e),i.data=Kfe.call(e,e.transformResponse,i),i.headers=Lb.from(i.headers),i},function(i){return I2e(i)||(Yfe(e),i&&i.response&&(i.response.data=Kfe.call(e,e.transformResponse,i.response),i.response.headers=Lb.from(i.response.headers))),Promise.reject(i)})}const N2e="1.12.2",Mee={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{Mee[e]=function(i){return typeof i===e||"a"+(n<1?"n ":" ")+e}});const nEe={};Mee.transitional=function(n,o,i){function c(d,p){return"[Axios v"+N2e+"] Transitional option '"+d+"'"+p+(i?". "+i:"")}return(d,p,v)=>{if(n===!1)throw new Qi(c(p," has been removed"+(o?" in "+o:"")),Qi.ERR_DEPRECATED);return o&&!nEe[p]&&(nEe[p]=!0,console.warn(c(p," has been deprecated since v"+o+" and will be removed in the near future"))),n?n(d,p,v):!0}};Mee.spelling=function(n){return(o,i)=>(console.warn(`${i} is likely a misspelling of ${n}`),!0)};function gze(e,n,o){if(typeof e!="object")throw new Qi("options must be an object",Qi.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let c=i.length;for(;c-- >0;){const d=i[c],p=n[d];if(p){const v=e[d],S=v===void 0||p(v,d,e);if(S!==!0)throw new Qi("option "+d+" must be "+S,Qi.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new Qi("Unknown option "+d,Qi.ERR_BAD_OPTION)}}const _X={assertOptions:gze,validators:Mee},tE=_X.validators;let mk=class{constructor(n){this.defaults=n||{},this.interceptors={request:new jCe,response:new jCe}}async request(n,o){try{return await this._request(n,o)}catch(i){if(i instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const d=c.stack?c.stack.replace(/^.+\n/,""):"";try{i.stack?d&&!String(i.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+d):i.stack=d}catch{}}throw i}}_request(n,o){typeof n=="string"?(o=o||{},o.url=n):o=n||{},o=Pk(this.defaults,o);const{transitional:i,paramsSerializer:c,headers:d}=o;i!==void 0&&_X.assertOptions(i,{silentJSONParsing:tE.transitional(tE.boolean),forcedJSONParsing:tE.transitional(tE.boolean),clarifyTimeoutError:tE.transitional(tE.boolean)},!1),c!=null&&(Qn.isFunction(c)?o.paramsSerializer={serialize:c}:_X.assertOptions(c,{encode:tE.function,serialize:tE.function},!0)),o.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?o.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:o.allowAbsoluteUrls=!0),_X.assertOptions(o,{baseUrl:tE.spelling("baseURL"),withXsrfToken:tE.spelling("withXSRFToken")},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();let p=d&&Qn.merge(d.common,d[o.method]);d&&Qn.forEach(["delete","get","head","post","put","patch","common"],j=>{delete d[j]}),o.headers=Lb.concat(p,d);const v=[];let S=!0;this.interceptors.request.forEach(function(W){typeof W.runWhen=="function"&&W.runWhen(o)===!1||(S=S&&W.synchronous,v.unshift(W.fulfilled,W.rejected))});const T=[];this.interceptors.response.forEach(function(W){T.push(W.fulfilled,W.rejected)});let x,P=0,B;if(!S){const j=[tEe.bind(this),void 0];for(j.unshift(...v),j.push(...T),B=j.length,x=Promise.resolve(o);P<B;)x=x.then(j[P++],j[P++]);return x}B=v.length;let U=o;for(;P<B;){const j=v[P++],W=v[P++];try{U=j(U)}catch(Z){W.call(this,Z);break}}try{x=tEe.call(this,U)}catch(j){return Promise.reject(j)}for(P=0,B=T.length;P<B;)x=x.then(T[P++],T[P++]);return x}getUri(n){n=Pk(this.defaults,n);const o=k2e(n.baseURL,n.url,n.allowAbsoluteUrls);return T2e(o,n.params,n.paramsSerializer)}};Qn.forEach(["delete","get","head","options"],function(n){mk.prototype[n]=function(o,i){return this.request(Pk(i||{},{method:n,url:o,data:(i||{}).data}))}});Qn.forEach(["post","put","patch"],function(n){function o(i){return function(d,p,v){return this.request(Pk(v||{},{method:n,headers:i?{"Content-Type":"multipart/form-data"}:{},url:d,data:p}))}}mk.prototype[n]=o(),mk.prototype[n+"Form"]=o(!0)});let vze=class L2e{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(d){o=d});const i=this;this.promise.then(c=>{if(!i._listeners)return;let d=i._listeners.length;for(;d-- >0;)i._listeners[d](c);i._listeners=null}),this.promise.then=c=>{let d;const p=new Promise(v=>{i.subscribe(v),d=v}).then(c);return p.cancel=function(){i.unsubscribe(d)},p},n(function(d,p,v){i.reason||(i.reason=new r4(d,p,v),o(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const o=this._listeners.indexOf(n);o!==-1&&this._listeners.splice(o,1)}toAbortSignal(){const n=new AbortController,o=i=>{n.abort(i)};return this.subscribe(o),n.signal.unsubscribe=()=>this.unsubscribe(o),n.signal}static source(){let n;return{token:new L2e(function(c){n=c}),cancel:n}}};function bze(e){return function(o){return e.apply(null,o)}}function yze(e){return Qn.isObject(e)&&e.isAxiosError===!0}const Kme={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Kme).forEach(([e,n])=>{Kme[n]=e});function B2e(e){const n=new mk(e),o=p2e(mk.prototype.request,n);return Qn.extend(o,mk.prototype,n,{allOwnKeys:!0}),Qn.extend(o,n,null,{allOwnKeys:!0}),o.create=function(c){return B2e(Pk(e,c))},o}const Bh=B2e(hz);Bh.Axios=mk;Bh.CanceledError=r4;Bh.CancelToken=vze;Bh.isCancel=I2e;Bh.VERSION=N2e;Bh.toFormData=Dee;Bh.AxiosError=Qi;Bh.Cancel=Bh.CanceledError;Bh.all=function(n){return Promise.all(n)};Bh.spread=bze;Bh.isAxiosError=yze;Bh.mergeConfig=Pk;Bh.AxiosHeaders=Lb;Bh.formToJSON=e=>O2e(Qn.isHTMLForm(e)?new FormData(e):e);Bh.getAdapter=P2e.getAdapter;Bh.HttpStatusCode=Kme;Bh.default=Bh;const{Axios:bXe,AxiosError:yXe,CanceledError:SXe,isCancel:CXe,CancelToken:EXe,VERSION:wXe,all:_Xe,Cancel:AXe,isAxiosError:TXe,spread:xXe,toFormData:OXe,AxiosHeaders:IXe,HttpStatusCode:RXe,formToJSON:kXe,getAdapter:DXe,mergeConfig:MXe}=Bh;window.axios=Bh;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var Yme=!1,Xme=!1,gk=[],Jme=-1;function Sze(e){Cze(e)}function Cze(e){gk.includes(e)||gk.push(e),wze()}function Eze(e){let n=gk.indexOf(e);n!==-1&&n>Jme&&gk.splice(n,1)}function wze(){!Xme&&!Yme&&(Yme=!0,queueMicrotask(_ze))}function _ze(){Yme=!1,Xme=!0;for(let e=0;e<gk.length;e++)gk[e](),Jme=e;gk.length=0,Jme=-1,Xme=!1}var i4,Kk,a4,V2e,Qme=!0;function Aze(e){Qme=!1,e(),Qme=!0}function Tze(e){i4=e.reactive,a4=e.release,Kk=n=>e.effect(n,{scheduler:o=>{Qme?Sze(o):o()}}),V2e=e.raw}function oEe(e){Kk=e}function xze(e){let n=()=>{};return[i=>{let c=Kk(i);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach(d=>d())}),e._x_effects.add(c),n=()=>{c!==void 0&&(e._x_effects.delete(c),a4(c))},c},()=>{n()}]}function F2e(e,n){let o=!0,i,c=Kk(()=>{let d=e();JSON.stringify(d),o?i=d:queueMicrotask(()=>{n(d,i),i=d}),o=!1});return()=>a4(c)}var H2e=[],$2e=[],U2e=[];function Oze(e){U2e.push(e)}function M0e(e,n){typeof n=="function"?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(n)):(n=e,$2e.push(n))}function z2e(e){H2e.push(e)}function j2e(e,n,o){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[n]||(e._x_attributeCleanups[n]=[]),e._x_attributeCleanups[n].push(o)}function W2e(e,n){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach(([o,i])=>{(n===void 0||n.includes(o))&&(i.forEach(c=>c()),delete e._x_attributeCleanups[o])})}function Ize(e){var n,o;for((n=e._x_effects)==null||n.forEach(Eze);(o=e._x_cleanups)!=null&&o.length;)e._x_cleanups.pop()()}var P0e=new MutationObserver(V0e),N0e=!1;function L0e(){P0e.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),N0e=!0}function G2e(){Rze(),P0e.disconnect(),N0e=!1}var h5=[];function Rze(){let e=P0e.takeRecords();h5.push(()=>e.length>0&&V0e(e));let n=h5.length;queueMicrotask(()=>{if(h5.length===n)for(;h5.length>0;)h5.shift()()})}function Od(e){if(!N0e)return e();G2e();let n=e();return L0e(),n}var B0e=!1,WJ=[];function kze(){B0e=!0}function Dze(){B0e=!1,V0e(WJ),WJ=[]}function V0e(e){if(B0e){WJ=WJ.concat(e);return}let n=[],o=new Set,i=new Map,c=new Map;for(let d=0;d<e.length;d++)if(!e[d].target._x_ignoreMutationObserver&&(e[d].type==="childList"&&(e[d].removedNodes.forEach(p=>{p.nodeType===1&&p._x_marker&&o.add(p)}),e[d].addedNodes.forEach(p=>{if(p.nodeType===1){if(o.has(p)){o.delete(p);return}p._x_marker||n.push(p)}})),e[d].type==="attributes")){let p=e[d].target,v=e[d].attributeName,S=e[d].oldValue,T=()=>{i.has(p)||i.set(p,[]),i.get(p).push({name:v,value:p.getAttribute(v)})},x=()=>{c.has(p)||c.set(p,[]),c.get(p).push(v)};p.hasAttribute(v)&&S===null?T():p.hasAttribute(v)?(x(),T()):x()}c.forEach((d,p)=>{W2e(p,d)}),i.forEach((d,p)=>{H2e.forEach(v=>v(p,d))});for(let d of o)n.some(p=>p.contains(d))||$2e.forEach(p=>p(d));for(let d of n)d.isConnected&&U2e.forEach(p=>p(d));n=null,o=null,i=null,c=null}function q2e(e){return pz(D3(e))}function fz(e,n,o){return e._x_dataStack=[n,...D3(o||e)],()=>{e._x_dataStack=e._x_dataStack.filter(i=>i!==n)}}function D3(e){return e._x_dataStack?e._x_dataStack:typeof ShadowRoot=="function"&&e instanceof ShadowRoot?D3(e.host):e.parentNode?D3(e.parentNode):[]}function pz(e){return new Proxy({objects:e},Mze)}var Mze={ownKeys({objects:e}){return Array.from(new Set(e.flatMap(n=>Object.keys(n))))},has({objects:e},n){return n==Symbol.unscopables?!1:e.some(o=>Object.prototype.hasOwnProperty.call(o,n)||Reflect.has(o,n))},get({objects:e},n,o){return n=="toJSON"?Pze:Reflect.get(e.find(i=>Reflect.has(i,n))||{},n,o)},set({objects:e},n,o,i){const c=e.find(p=>Object.prototype.hasOwnProperty.call(p,n))||e[e.length-1],d=Object.getOwnPropertyDescriptor(c,n);return d!=null&&d.set&&(d!=null&&d.get)?d.set.call(i,o)||!0:Reflect.set(c,n,o)}};function Pze(){return Reflect.ownKeys(this).reduce((n,o)=>(n[o]=Reflect.get(this,o),n),{})}function Z2e(e){let n=i=>typeof i=="object"&&!Array.isArray(i)&&i!==null,o=(i,c="")=>{Object.entries(Object.getOwnPropertyDescriptors(i)).forEach(([d,{value:p,enumerable:v}])=>{if(v===!1||p===void 0||typeof p=="object"&&p!==null&&p.__v_skip)return;let S=c===""?d:`${c}.${d}`;typeof p=="object"&&p!==null&&p._x_interceptor?i[d]=p.initialize(e,S,d):n(p)&&p!==i&&!(p instanceof Element)&&o(p,S)})};return o(e)}function K2e(e,n=()=>{}){let o={initialValue:void 0,_x_interceptor:!0,initialize(i,c,d){return e(this.initialValue,()=>Nze(i,c),p=>ege(i,c,p),c,d)}};return n(o),i=>{if(typeof i=="object"&&i!==null&&i._x_interceptor){let c=o.initialize.bind(o);o.initialize=(d,p,v)=>{let S=i.initialize(d,p,v);return o.initialValue=S,c(d,p,v)}}else o.initialValue=i;return o}}function Nze(e,n){return n.split(".").reduce((o,i)=>o[i],e)}function ege(e,n,o){if(typeof n=="string"&&(n=n.split(".")),n.length===1)e[n[0]]=o;else{if(n.length===0)throw error;return e[n[0]]||(e[n[0]]={}),ege(e[n[0]],n.slice(1),o)}}var Y2e={};function PS(e,n){Y2e[e]=n}function tge(e,n){let o=Lze(n);return Object.entries(Y2e).forEach(([i,c])=>{Object.defineProperty(e,`$${i}`,{get(){return c(n,o)},enumerable:!1})}),e}function Lze(e){let[n,o]=nke(e),i={interceptor:K2e,...n};return M0e(e,o),i}function Bze(e,n,o,...i){try{return o(...i)}catch(c){I6(c,e,n)}}function I6(e,n,o=void 0){e=Object.assign(e??{message:"No error message given."},{el:n,expression:o}),console.warn(`Alpine Expression Error: ${e.message}

${o?'Expression: "'+o+`"

`:""}`,n),setTimeout(()=>{throw e},0)}var AX=!0;function X2e(e){let n=AX;AX=!1;let o=e();return AX=n,o}function vk(e,n,o={}){let i;return kv(e,n)(c=>i=c,o),i}function kv(...e){return J2e(...e)}var J2e=Q2e;function Vze(e){J2e=e}function Q2e(e,n){let o={};tge(o,e);let i=[o,...D3(e)],c=typeof n=="function"?Fze(i,n):$ze(i,n,e);return Bze.bind(null,e,n,c)}function Fze(e,n){return(o=()=>{},{scope:i={},params:c=[],context:d}={})=>{let p=n.apply(pz([i,...e]),c);GJ(o,p)}}var Xfe={};function Hze(e,n){if(Xfe[e])return Xfe[e];let o=Object.getPrototypeOf(async function(){}).constructor,i=/^[\n\s]*if.*\(.*\)/.test(e.trim())||/^(let|const)\s/.test(e.trim())?`(async()=>{ ${e} })()`:e,d=(()=>{try{let p=new o(["__self","scope"],`with (scope) { __self.result = ${i} }; __self.finished = true; return __self.result;`);return Object.defineProperty(p,"name",{value:`[Alpine] ${e}`}),p}catch(p){return I6(p,n,e),Promise.resolve()}})();return Xfe[e]=d,d}function $ze(e,n,o){let i=Hze(n,o);return(c=()=>{},{scope:d={},params:p=[],context:v}={})=>{i.result=void 0,i.finished=!1;let S=pz([d,...e]);if(typeof i=="function"){let T=i.call(v,i,S).catch(x=>I6(x,o,n));i.finished?(GJ(c,i.result,S,p,o),i.result=void 0):T.then(x=>{GJ(c,x,S,p,o)}).catch(x=>I6(x,o,n)).finally(()=>i.result=void 0)}}}function GJ(e,n,o,i,c){if(AX&&typeof n=="function"){let d=n.apply(o,i);d instanceof Promise?d.then(p=>GJ(e,p,o,i)).catch(p=>I6(p,c,n)):e(d)}else typeof n=="object"&&n instanceof Promise?n.then(d=>e(d)):e(n)}var F0e="x-";function l4(e=""){return F0e+e}function Uze(e){F0e=e}var qJ={};function ff(e,n){return qJ[e]=n,{before(o){if(!qJ[o]){console.warn(String.raw`Cannot find directive \`${o}\`. \`${e}\` will use the default order of execution`);return}const i=nk.indexOf(o);nk.splice(i>=0?i:nk.indexOf("DEFAULT"),0,e)}}}function zze(e){return Object.keys(qJ).includes(e)}function H0e(e,n,o){if(n=Array.from(n),e._x_virtualDirectives){let d=Object.entries(e._x_virtualDirectives).map(([v,S])=>({name:v,value:S})),p=eke(d);d=d.map(v=>p.find(S=>S.name===v.name)?{name:`x-bind:${v.name}`,value:`"${v.value}"`}:v),n=n.concat(d)}let i={};return n.map(rke((d,p)=>i[d]=p)).filter(ake).map(Gze(i,o)).sort(qze).map(d=>Wze(e,d))}function eke(e){return Array.from(e).map(rke()).filter(n=>!ake(n))}var nge=!1,P5=new Map,tke=Symbol();function jze(e){nge=!0;let n=Symbol();tke=n,P5.set(n,[]);let o=()=>{for(;P5.get(n).length;)P5.get(n).shift()();P5.delete(n)},i=()=>{nge=!1,o()};e(o),i()}function nke(e){let n=[],o=v=>n.push(v),[i,c]=xze(e);return n.push(c),[{Alpine:mz,effect:i,cleanup:o,evaluateLater:kv.bind(kv,e),evaluate:vk.bind(vk,e)},()=>n.forEach(v=>v())]}function Wze(e,n){let o=()=>{},i=qJ[n.type]||o,[c,d]=nke(e);j2e(e,n.original,d);let p=()=>{e._x_ignore||e._x_ignoreSelf||(i.inline&&i.inline(e,n,c),i=i.bind(i,e,n,c),nge?P5.get(tke).push(i):i())};return p.runCleanups=d,p}var oke=(e,n)=>({name:o,value:i})=>(o.startsWith(e)&&(o=o.replace(e,n)),{name:o,value:i}),ske=e=>e;function rke(e=()=>{}){return({name:n,value:o})=>{let{name:i,value:c}=ike.reduce((d,p)=>p(d),{name:n,value:o});return i!==n&&e(i,n),{name:i,value:c}}}var ike=[];function $0e(e){ike.push(e)}function ake({name:e}){return lke().test(e)}var lke=()=>new RegExp(`^${F0e}([^:^.]+)\\b`);function Gze(e,n){return({name:o,value:i})=>{let c=o.match(lke()),d=o.match(/:([a-zA-Z0-9\-_:]+)/),p=o.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],v=n||e[o]||o;return{type:c?c[1]:null,value:d?d[1]:null,modifiers:p.map(S=>S.replace(".","")),expression:i,original:v}}}var oge="DEFAULT",nk=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",oge,"teleport"];function qze(e,n){let o=nk.indexOf(e.type)===-1?oge:e.type,i=nk.indexOf(n.type)===-1?oge:n.type;return nk.indexOf(o)-nk.indexOf(i)}function J5(e,n,o={}){e.dispatchEvent(new CustomEvent(n,{detail:o,bubbles:!0,composed:!0,cancelable:!0}))}function Nk(e,n){if(typeof ShadowRoot=="function"&&e instanceof ShadowRoot){Array.from(e.children).forEach(c=>Nk(c,n));return}let o=!1;if(n(e,()=>o=!0),o)return;let i=e.firstElementChild;for(;i;)Nk(i,n),i=i.nextElementSibling}function Wy(e,...n){console.warn(`Alpine Warning: ${e}`,...n)}var sEe=!1;function Zze(){sEe&&Wy("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),sEe=!0,document.body||Wy("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),J5(document,"alpine:init"),J5(document,"alpine:initializing"),L0e(),Oze(n=>oA(n,Nk)),M0e(n=>u4(n)),z2e((n,o)=>{H0e(n,o).forEach(i=>i())});let e=n=>!Pee(n.parentElement,!0);Array.from(document.querySelectorAll(dke().join(","))).filter(e).forEach(n=>{oA(n)}),J5(document,"alpine:initialized"),setTimeout(()=>{Jze()})}var U0e=[],cke=[];function uke(){return U0e.map(e=>e())}function dke(){return U0e.concat(cke).map(e=>e())}function hke(e){U0e.push(e)}function fke(e){cke.push(e)}function Pee(e,n=!1){return c4(e,o=>{if((n?dke():uke()).some(c=>o.matches(c)))return!0})}function c4(e,n){if(e){if(n(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),!!e.parentElement)return c4(e.parentElement,n)}}function Kze(e){return uke().some(n=>e.matches(n))}var pke=[];function Yze(e){pke.push(e)}var Xze=1;function oA(e,n=Nk,o=()=>{}){c4(e,i=>i._x_ignore)||jze(()=>{n(e,(i,c)=>{i._x_marker||(o(i,c),pke.forEach(d=>d(i,c)),H0e(i,i.attributes).forEach(d=>d()),i._x_ignore||(i._x_marker=Xze++),i._x_ignore&&c())})})}function u4(e,n=Nk){n(e,o=>{Ize(o),W2e(o),delete o._x_marker})}function Jze(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([n,o,i])=>{zze(o)||i.some(c=>{if(document.querySelector(c))return Wy(`found "${c}", but missing ${n} plugin`),!0})})}var sge=[],z0e=!1;function j0e(e=()=>{}){return queueMicrotask(()=>{z0e||setTimeout(()=>{rge()})}),new Promise(n=>{sge.push(()=>{e(),n()})})}function rge(){for(z0e=!1;sge.length;)sge.shift()()}function Qze(){z0e=!0}function W0e(e,n){return Array.isArray(n)?rEe(e,n.join(" ")):typeof n=="object"&&n!==null?eje(e,n):typeof n=="function"?W0e(e,n()):rEe(e,n)}function rEe(e,n){let o=c=>c.split(" ").filter(d=>!e.classList.contains(d)).filter(Boolean),i=c=>(e.classList.add(...c),()=>{e.classList.remove(...c)});return n=n===!0?n="":n||"",i(o(n))}function eje(e,n){let o=v=>v.split(" ").filter(Boolean),i=Object.entries(n).flatMap(([v,S])=>S?o(v):!1).filter(Boolean),c=Object.entries(n).flatMap(([v,S])=>S?!1:o(v)).filter(Boolean),d=[],p=[];return c.forEach(v=>{e.classList.contains(v)&&(e.classList.remove(v),p.push(v))}),i.forEach(v=>{e.classList.contains(v)||(e.classList.add(v),d.push(v))}),()=>{p.forEach(v=>e.classList.add(v)),d.forEach(v=>e.classList.remove(v))}}function Nee(e,n){return typeof n=="object"&&n!==null?tje(e,n):nje(e,n)}function tje(e,n){let o={};return Object.entries(n).forEach(([i,c])=>{o[i]=e.style[i],i.startsWith("--")||(i=oje(i)),e.style.setProperty(i,c)}),setTimeout(()=>{e.style.length===0&&e.removeAttribute("style")}),()=>{Nee(e,o)}}function nje(e,n){let o=e.getAttribute("style",n);return e.setAttribute("style",n),()=>{e.setAttribute("style",o||"")}}function oje(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ige(e,n=()=>{}){let o=!1;return function(){o?n.apply(this,arguments):(o=!0,e.apply(this,arguments))}}ff("transition",(e,{value:n,modifiers:o,expression:i},{evaluate:c})=>{typeof i=="function"&&(i=c(i)),i!==!1&&(!i||typeof i=="boolean"?rje(e,o,n):sje(e,i,n))});function sje(e,n,o){mke(e,W0e,""),{enter:c=>{e._x_transition.enter.during=c},"enter-start":c=>{e._x_transition.enter.start=c},"enter-end":c=>{e._x_transition.enter.end=c},leave:c=>{e._x_transition.leave.during=c},"leave-start":c=>{e._x_transition.leave.start=c},"leave-end":c=>{e._x_transition.leave.end=c}}[o](n)}function rje(e,n,o){mke(e,Nee);let i=!n.includes("in")&&!n.includes("out")&&!o,c=i||n.includes("in")||["enter"].includes(o),d=i||n.includes("out")||["leave"].includes(o);n.includes("in")&&!i&&(n=n.filter((re,le)=>le<n.indexOf("out"))),n.includes("out")&&!i&&(n=n.filter((re,le)=>le>n.indexOf("out")));let p=!n.includes("opacity")&&!n.includes("scale"),v=p||n.includes("opacity"),S=p||n.includes("scale"),T=v?0:1,x=S?f5(n,"scale",95)/100:1,P=f5(n,"delay",0)/1e3,B=f5(n,"origin","center"),U="opacity, transform",j=f5(n,"duration",150)/1e3,W=f5(n,"duration",75)/1e3,Z="cubic-bezier(0.4, 0.0, 0.2, 1)";c&&(e._x_transition.enter.during={transformOrigin:B,transitionDelay:`${P}s`,transitionProperty:U,transitionDuration:`${j}s`,transitionTimingFunction:Z},e._x_transition.enter.start={opacity:T,transform:`scale(${x})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),d&&(e._x_transition.leave.during={transformOrigin:B,transitionDelay:`${P}s`,transitionProperty:U,transitionDuration:`${W}s`,transitionTimingFunction:Z},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:T,transform:`scale(${x})`})}function mke(e,n,o={}){e._x_transition||(e._x_transition={enter:{during:o,start:o,end:o},leave:{during:o,start:o,end:o},in(i=()=>{},c=()=>{}){age(e,n,{during:this.enter.during,start:this.enter.start,end:this.enter.end},i,c)},out(i=()=>{},c=()=>{}){age(e,n,{during:this.leave.during,start:this.leave.start,end:this.leave.end},i,c)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,n,o,i){const c=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let d=()=>c(o);if(n){e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(o):d():e._x_transition?e._x_transition.in(o):d();return}e._x_hidePromise=e._x_transition?new Promise((p,v)=>{e._x_transition.out(()=>{},()=>p(i)),e._x_transitioning&&e._x_transitioning.beforeCancel(()=>v({isFromCancelledTransition:!0}))}):Promise.resolve(i),queueMicrotask(()=>{let p=gke(e);p?(p._x_hideChildren||(p._x_hideChildren=[]),p._x_hideChildren.push(e)):c(()=>{let v=S=>{let T=Promise.all([S._x_hidePromise,...(S._x_hideChildren||[]).map(v)]).then(([x])=>x==null?void 0:x());return delete S._x_hidePromise,delete S._x_hideChildren,T};v(e).catch(S=>{if(!S.isFromCancelledTransition)throw S})})})};function gke(e){let n=e.parentNode;if(n)return n._x_hidePromise?n:gke(n)}function age(e,n,{during:o,start:i,end:c}={},d=()=>{},p=()=>{}){if(e._x_transitioning&&e._x_transitioning.cancel(),Object.keys(o).length===0&&Object.keys(i).length===0&&Object.keys(c).length===0){d(),p();return}let v,S,T;ije(e,{start(){v=n(e,i)},during(){S=n(e,o)},before:d,end(){v(),T=n(e,c)},after:p,cleanup(){S(),T()}})}function ije(e,n){let o,i,c,d=ige(()=>{Od(()=>{o=!0,i||n.before(),c||(n.end(),rge()),n.after(),e.isConnected&&n.cleanup(),delete e._x_transitioning})});e._x_transitioning={beforeCancels:[],beforeCancel(p){this.beforeCancels.push(p)},cancel:ige(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();d()}),finish:d},Od(()=>{n.start(),n.during()}),Qze(),requestAnimationFrame(()=>{if(o)return;let p=Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,v=Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;p===0&&(p=Number(getComputedStyle(e).animationDuration.replace("s",""))*1e3),Od(()=>{n.before()}),i=!0,requestAnimationFrame(()=>{o||(Od(()=>{n.end()}),rge(),setTimeout(e._x_transitioning.finish,p+v),c=!0)})})}function f5(e,n,o){if(e.indexOf(n)===-1)return o;const i=e[e.indexOf(n)+1];if(!i||n==="scale"&&isNaN(i))return o;if(n==="duration"||n==="delay"){let c=i.match(/([0-9]+)ms/);if(c)return c[1]}return n==="origin"&&["top","right","left","center","bottom"].includes(e[e.indexOf(n)+2])?[i,e[e.indexOf(n)+2]].join(" "):i}var yO=!1;function xO(e,n=()=>{}){return(...o)=>yO?n(...o):e(...o)}function aje(e){return(...n)=>yO&&e(...n)}var vke=[];function Lee(e){vke.push(e)}function lje(e,n){vke.forEach(o=>o(e,n)),yO=!0,bke(()=>{oA(n,(o,i)=>{i(o,()=>{})})}),yO=!1}var lge=!1;function cje(e,n){n._x_dataStack||(n._x_dataStack=e._x_dataStack),yO=!0,lge=!0,bke(()=>{uje(n)}),yO=!1,lge=!1}function uje(e){let n=!1;oA(e,(i,c)=>{Nk(i,(d,p)=>{if(n&&Kze(d))return p();n=!0,c(d,p)})})}function bke(e){let n=Kk;oEe((o,i)=>{let c=n(o);return a4(c),()=>{}}),e(),oEe(n)}function yke(e,n,o,i=[]){switch(e._x_bindings||(e._x_bindings=i4({})),e._x_bindings[n]=o,n=i.includes("camel")?bje(n):n,n){case"value":dje(e,o);break;case"style":fje(e,o);break;case"class":hje(e,o);break;case"selected":case"checked":pje(e,n,o);break;default:Ske(e,n,o);break}}function dje(e,n){if(wke(e))e.attributes.value===void 0&&(e.value=n),window.fromModel&&(typeof n=="boolean"?e.checked=TX(e.value)===n:e.checked=iEe(e.value,n));else if(G0e(e))Number.isInteger(n)?e.value=n:!Array.isArray(n)&&typeof n!="boolean"&&![null,void 0].includes(n)?e.value=String(n):Array.isArray(n)?e.checked=n.some(o=>iEe(o,e.value)):e.checked=!!n;else if(e.tagName==="SELECT")vje(e,n);else{if(e.value===n)return;e.value=n===void 0?"":n}}function hje(e,n){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=W0e(e,n)}function fje(e,n){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=Nee(e,n)}function pje(e,n,o){Ske(e,n,o),gje(e,n,o)}function Ske(e,n,o){[null,void 0,!1].includes(o)&&Sje(n)?e.removeAttribute(n):(Cke(n)&&(o=n),mje(e,n,o))}function mje(e,n,o){e.getAttribute(n)!=o&&e.setAttribute(n,o)}function gje(e,n,o){e[n]!==o&&(e[n]=o)}function vje(e,n){const o=[].concat(n).map(i=>i+"");Array.from(e.options).forEach(i=>{i.selected=o.includes(i.value)})}function bje(e){return e.toLowerCase().replace(/-(\w)/g,(n,o)=>o.toUpperCase())}function iEe(e,n){return e==n}function TX(e){return[1,"1","true","on","yes",!0].includes(e)?!0:[0,"0","false","off","no",!1].includes(e)?!1:e?!!e:null}var yje=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function Cke(e){return yje.has(e)}function Sje(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}function Cje(e,n,o){return e._x_bindings&&e._x_bindings[n]!==void 0?e._x_bindings[n]:Eke(e,n,o)}function Eje(e,n,o,i=!0){if(e._x_bindings&&e._x_bindings[n]!==void 0)return e._x_bindings[n];if(e._x_inlineBindings&&e._x_inlineBindings[n]!==void 0){let c=e._x_inlineBindings[n];return c.extract=i,X2e(()=>vk(e,c.expression))}return Eke(e,n,o)}function Eke(e,n,o){let i=e.getAttribute(n);return i===null?typeof o=="function"?o():o:i===""?!0:Cke(n)?!![n,"true"].includes(i):i}function G0e(e){return e.type==="checkbox"||e.localName==="ui-checkbox"||e.localName==="ui-switch"}function wke(e){return e.type==="radio"||e.localName==="ui-radio"}function _ke(e,n){let o;return function(){const i=this,c=arguments,d=function(){o=null,e.apply(i,c)};clearTimeout(o),o=setTimeout(d,n)}}function Ake(e,n){let o;return function(){let i=this,c=arguments;o||(e.apply(i,c),o=!0,setTimeout(()=>o=!1,n))}}function Tke({get:e,set:n},{get:o,set:i}){let c=!0,d,p=Kk(()=>{let v=e(),S=o();if(c)i(Jfe(v)),c=!1;else{let T=JSON.stringify(v),x=JSON.stringify(S);T!==d?i(Jfe(v)):T!==x&&n(Jfe(S))}d=JSON.stringify(e()),JSON.stringify(o())});return()=>{a4(p)}}function Jfe(e){return typeof e=="object"?JSON.parse(JSON.stringify(e)):e}function wje(e){(Array.isArray(e)?e:[e]).forEach(o=>o(mz))}var V2={},aEe=!1;function _je(e,n){if(aEe||(V2=i4(V2),aEe=!0),n===void 0)return V2[e];V2[e]=n,Z2e(V2[e]),typeof n=="object"&&n!==null&&n.hasOwnProperty("init")&&typeof n.init=="function"&&V2[e].init()}function Aje(){return V2}var xke={};function Tje(e,n){let o=typeof n!="function"?()=>n:n;return e instanceof Element?Oke(e,o()):(xke[e]=o,()=>{})}function xje(e){return Object.entries(xke).forEach(([n,o])=>{Object.defineProperty(e,n,{get(){return(...i)=>o(...i)}})}),e}function Oke(e,n,o){let i=[];for(;i.length;)i.pop()();let c=Object.entries(n).map(([p,v])=>({name:p,value:v})),d=eke(c);return c=c.map(p=>d.find(v=>v.name===p.name)?{name:`x-bind:${p.name}`,value:`"${p.value}"`}:p),H0e(e,c,o).map(p=>{i.push(p.runCleanups),p()}),()=>{for(;i.length;)i.pop()()}}var Ike={};function Oje(e,n){Ike[e]=n}function Ije(e,n){return Object.entries(Ike).forEach(([o,i])=>{Object.defineProperty(e,o,{get(){return(...c)=>i.bind(n)(...c)},enumerable:!1})}),e}var Rje={get reactive(){return i4},get release(){return a4},get effect(){return Kk},get raw(){return V2e},version:"3.15.0",flushAndStopDeferringMutations:Dze,dontAutoEvaluateFunctions:X2e,disableEffectScheduling:Aze,startObservingMutations:L0e,stopObservingMutations:G2e,setReactivityEngine:Tze,onAttributeRemoved:j2e,onAttributesAdded:z2e,closestDataStack:D3,skipDuringClone:xO,onlyDuringClone:aje,addRootSelector:hke,addInitSelector:fke,interceptClone:Lee,addScopeToNode:fz,deferMutations:kze,mapAttributes:$0e,evaluateLater:kv,interceptInit:Yze,setEvaluator:Vze,mergeProxies:pz,extractProp:Eje,findClosest:c4,onElRemoved:M0e,closestRoot:Pee,destroyTree:u4,interceptor:K2e,transition:age,setStyles:Nee,mutateDom:Od,directive:ff,entangle:Tke,throttle:Ake,debounce:_ke,evaluate:vk,initTree:oA,nextTick:j0e,prefixed:l4,prefix:Uze,plugin:wje,magic:PS,store:_je,start:Zze,clone:cje,cloneNode:lje,bound:Cje,$data:q2e,watch:F2e,walk:Nk,data:Oje,bind:Tje},mz=Rje;function kje(e,n){const o=Object.create(null),i=e.split(",");for(let c=0;c<i.length;c++)o[i[c]]=!0;return c=>!!o[c]}var Dje=Object.freeze({}),Mje=Object.prototype.hasOwnProperty,Bee=(e,n)=>Mje.call(e,n),bk=Array.isArray,Q5=e=>Rke(e)==="[object Map]",Pje=e=>typeof e=="string",q0e=e=>typeof e=="symbol",Vee=e=>e!==null&&typeof e=="object",Nje=Object.prototype.toString,Rke=e=>Nje.call(e),kke=e=>Rke(e).slice(8,-1),Z0e=e=>Pje(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Lje=e=>{const n=Object.create(null);return o=>n[o]||(n[o]=e(o))},Bje=Lje(e=>e.charAt(0).toUpperCase()+e.slice(1)),Dke=(e,n)=>e!==n&&(e===e||n===n),cge=new WeakMap,p5=[],uE,yk=Symbol("iterate"),uge=Symbol("Map key iterate");function Vje(e){return e&&e._isEffect===!0}function Fje(e,n=Dje){Vje(e)&&(e=e.raw);const o=Uje(e,n);return n.lazy||o(),o}function Hje(e){e.active&&(Mke(e),e.options.onStop&&e.options.onStop(),e.active=!1)}var $je=0;function Uje(e,n){const o=function(){if(!o.active)return e();if(!p5.includes(o)){Mke(o);try{return jje(),p5.push(o),uE=o,e()}finally{p5.pop(),Pke(),uE=p5[p5.length-1]}}};return o.id=$je++,o.allowRecurse=!!n.allowRecurse,o._isEffect=!0,o.active=!0,o.raw=e,o.deps=[],o.options=n,o}function Mke(e){const{deps:n}=e;if(n.length){for(let o=0;o<n.length;o++)n[o].delete(e);n.length=0}}var M3=!0,K0e=[];function zje(){K0e.push(M3),M3=!1}function jje(){K0e.push(M3),M3=!0}function Pke(){const e=K0e.pop();M3=e===void 0?!0:e}function IS(e,n,o){if(!M3||uE===void 0)return;let i=cge.get(e);i||cge.set(e,i=new Map);let c=i.get(o);c||i.set(o,c=new Set),c.has(uE)||(c.add(uE),uE.deps.push(c),uE.options.onTrack&&uE.options.onTrack({effect:uE,target:e,type:n,key:o}))}function SO(e,n,o,i,c,d){const p=cge.get(e);if(!p)return;const v=new Set,S=x=>{x&&x.forEach(P=>{(P!==uE||P.allowRecurse)&&v.add(P)})};if(n==="clear")p.forEach(S);else if(o==="length"&&bk(e))p.forEach((x,P)=>{(P==="length"||P>=i)&&S(x)});else switch(o!==void 0&&S(p.get(o)),n){case"add":bk(e)?Z0e(o)&&S(p.get("length")):(S(p.get(yk)),Q5(e)&&S(p.get(uge)));break;case"delete":bk(e)||(S(p.get(yk)),Q5(e)&&S(p.get(uge)));break;case"set":Q5(e)&&S(p.get(yk));break}const T=x=>{x.options.onTrigger&&x.options.onTrigger({effect:x,target:e,key:o,type:n,newValue:i,oldValue:c,oldTarget:d}),x.options.scheduler?x.options.scheduler(x):x()};v.forEach(T)}var Wje=kje("__proto__,__v_isRef,__isVue"),Nke=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(q0e)),Gje=Lke(),qje=Lke(!0),lEe=Zje();function Zje(){const e={};return["includes","indexOf","lastIndexOf"].forEach(n=>{e[n]=function(...o){const i=wu(this);for(let d=0,p=this.length;d<p;d++)IS(i,"get",d+"");const c=i[n](...o);return c===-1||c===!1?i[n](...o.map(wu)):c}}),["push","pop","shift","unshift","splice"].forEach(n=>{e[n]=function(...o){zje();const i=wu(this)[n].apply(this,o);return Pke(),i}}),e}function Lke(e=!1,n=!1){return function(i,c,d){if(c==="__v_isReactive")return!e;if(c==="__v_isReadonly")return e;if(c==="__v_raw"&&d===(e?n?l8e:Hke:n?a8e:Fke).get(i))return i;const p=bk(i);if(!e&&p&&Bee(lEe,c))return Reflect.get(lEe,c,d);const v=Reflect.get(i,c,d);return(q0e(c)?Nke.has(c):Wje(c))||(e||IS(i,"get",c),n)?v:dge(v)?!p||!Z0e(c)?v.value:v:Vee(v)?e?$ke(v):Q0e(v):v}}var Kje=Yje();function Yje(e=!1){return function(o,i,c,d){let p=o[i];if(!e&&(c=wu(c),p=wu(p),!bk(o)&&dge(p)&&!dge(c)))return p.value=c,!0;const v=bk(o)&&Z0e(i)?Number(i)<o.length:Bee(o,i),S=Reflect.set(o,i,c,d);return o===wu(d)&&(v?Dke(c,p)&&SO(o,"set",i,c,p):SO(o,"add",i,c)),S}}function Xje(e,n){const o=Bee(e,n),i=e[n],c=Reflect.deleteProperty(e,n);return c&&o&&SO(e,"delete",n,void 0,i),c}function Jje(e,n){const o=Reflect.has(e,n);return(!q0e(n)||!Nke.has(n))&&IS(e,"has",n),o}function Qje(e){return IS(e,"iterate",bk(e)?"length":yk),Reflect.ownKeys(e)}var e8e={get:Gje,set:Kje,deleteProperty:Xje,has:Jje,ownKeys:Qje},t8e={get:qje,set(e,n){return console.warn(`Set operation on key "${String(n)}" failed: target is readonly.`,e),!0},deleteProperty(e,n){return console.warn(`Delete operation on key "${String(n)}" failed: target is readonly.`,e),!0}},Y0e=e=>Vee(e)?Q0e(e):e,X0e=e=>Vee(e)?$ke(e):e,J0e=e=>e,Fee=e=>Reflect.getPrototypeOf(e);function NY(e,n,o=!1,i=!1){e=e.__v_raw;const c=wu(e),d=wu(n);n!==d&&!o&&IS(c,"get",n),!o&&IS(c,"get",d);const{has:p}=Fee(c),v=i?J0e:o?X0e:Y0e;if(p.call(c,n))return v(e.get(n));if(p.call(c,d))return v(e.get(d));e!==c&&e.get(n)}function LY(e,n=!1){const o=this.__v_raw,i=wu(o),c=wu(e);return e!==c&&!n&&IS(i,"has",e),!n&&IS(i,"has",c),e===c?o.has(e):o.has(e)||o.has(c)}function BY(e,n=!1){return e=e.__v_raw,!n&&IS(wu(e),"iterate",yk),Reflect.get(e,"size",e)}function cEe(e){e=wu(e);const n=wu(this);return Fee(n).has.call(n,e)||(n.add(e),SO(n,"add",e,e)),this}function uEe(e,n){n=wu(n);const o=wu(this),{has:i,get:c}=Fee(o);let d=i.call(o,e);d?Vke(o,i,e):(e=wu(e),d=i.call(o,e));const p=c.call(o,e);return o.set(e,n),d?Dke(n,p)&&SO(o,"set",e,n,p):SO(o,"add",e,n),this}function dEe(e){const n=wu(this),{has:o,get:i}=Fee(n);let c=o.call(n,e);c?Vke(n,o,e):(e=wu(e),c=o.call(n,e));const d=i?i.call(n,e):void 0,p=n.delete(e);return c&&SO(n,"delete",e,void 0,d),p}function hEe(){const e=wu(this),n=e.size!==0,o=Q5(e)?new Map(e):new Set(e),i=e.clear();return n&&SO(e,"clear",void 0,void 0,o),i}function VY(e,n){return function(i,c){const d=this,p=d.__v_raw,v=wu(p),S=n?J0e:e?X0e:Y0e;return!e&&IS(v,"iterate",yk),p.forEach((T,x)=>i.call(c,S(T),S(x),d))}}function FY(e,n,o){return function(...i){const c=this.__v_raw,d=wu(c),p=Q5(d),v=e==="entries"||e===Symbol.iterator&&p,S=e==="keys"&&p,T=c[e](...i),x=o?J0e:n?X0e:Y0e;return!n&&IS(d,"iterate",S?uge:yk),{next(){const{value:P,done:B}=T.next();return B?{value:P,done:B}:{value:v?[x(P[0]),x(P[1])]:x(P),done:B}},[Symbol.iterator](){return this}}}}function bx(e){return function(...n){{const o=n[0]?`on key "${n[0]}" `:"";console.warn(`${Bje(e)} operation ${o}failed: target is readonly.`,wu(this))}return e==="delete"?!1:this}}function n8e(){const e={get(d){return NY(this,d)},get size(){return BY(this)},has:LY,add:cEe,set:uEe,delete:dEe,clear:hEe,forEach:VY(!1,!1)},n={get(d){return NY(this,d,!1,!0)},get size(){return BY(this)},has:LY,add:cEe,set:uEe,delete:dEe,clear:hEe,forEach:VY(!1,!0)},o={get(d){return NY(this,d,!0)},get size(){return BY(this,!0)},has(d){return LY.call(this,d,!0)},add:bx("add"),set:bx("set"),delete:bx("delete"),clear:bx("clear"),forEach:VY(!0,!1)},i={get(d){return NY(this,d,!0,!0)},get size(){return BY(this,!0)},has(d){return LY.call(this,d,!0)},add:bx("add"),set:bx("set"),delete:bx("delete"),clear:bx("clear"),forEach:VY(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{e[d]=FY(d,!1,!1),o[d]=FY(d,!0,!1),n[d]=FY(d,!1,!0),i[d]=FY(d,!0,!0)}),[e,o,n,i]}var[o8e,s8e]=n8e();function Bke(e,n){const o=e?s8e:o8e;return(i,c,d)=>c==="__v_isReactive"?!e:c==="__v_isReadonly"?e:c==="__v_raw"?i:Reflect.get(Bee(o,c)&&c in i?o:i,c,d)}var r8e={get:Bke(!1)},i8e={get:Bke(!0)};function Vke(e,n,o){const i=wu(o);if(i!==o&&n.call(e,i)){const c=kke(e);console.warn(`Reactive ${c} contains both the raw and reactive versions of the same object${c==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var Fke=new WeakMap,a8e=new WeakMap,Hke=new WeakMap,l8e=new WeakMap;function c8e(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function u8e(e){return e.__v_skip||!Object.isExtensible(e)?0:c8e(kke(e))}function Q0e(e){return e&&e.__v_isReadonly?e:Uke(e,!1,e8e,r8e,Fke)}function $ke(e){return Uke(e,!0,t8e,i8e,Hke)}function Uke(e,n,o,i,c){if(!Vee(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(n&&e.__v_isReactive))return e;const d=c.get(e);if(d)return d;const p=u8e(e);if(p===0)return e;const v=new Proxy(e,p===2?i:o);return c.set(e,v),v}function wu(e){return e&&wu(e.__v_raw)||e}function dge(e){return!!(e&&e.__v_isRef===!0)}PS("nextTick",()=>j0e);PS("dispatch",e=>J5.bind(J5,e));PS("watch",(e,{evaluateLater:n,cleanup:o})=>(i,c)=>{let d=n(i),v=F2e(()=>{let S;return d(T=>S=T),S},c);o(v)});PS("store",Aje);PS("data",e=>q2e(e));PS("root",e=>Pee(e));PS("refs",e=>(e._x_refs_proxy||(e._x_refs_proxy=pz(d8e(e))),e._x_refs_proxy));function d8e(e){let n=[];return c4(e,o=>{o._x_refs&&n.push(o._x_refs)}),n}var Qfe={};function zke(e){return Qfe[e]||(Qfe[e]=0),++Qfe[e]}function h8e(e,n){return c4(e,o=>{if(o._x_ids&&o._x_ids[n])return!0})}function f8e(e,n){e._x_ids||(e._x_ids={}),e._x_ids[n]||(e._x_ids[n]=zke(n))}PS("id",(e,{cleanup:n})=>(o,i=null)=>{let c=`${o}${i?`-${i}`:""}`;return p8e(e,c,n,()=>{let d=h8e(e,o),p=d?d._x_ids[o]:zke(o);return i?`${o}-${p}-${i}`:`${o}-${p}`})});Lee((e,n)=>{e._x_id&&(n._x_id=e._x_id)});function p8e(e,n,o,i){if(e._x_id||(e._x_id={}),e._x_id[n])return e._x_id[n];let c=i();return e._x_id[n]=c,o(()=>{delete e._x_id[n]}),c}PS("el",e=>e);jke("Focus","focus","focus");jke("Persist","persist","persist");function jke(e,n,o){PS(n,i=>Wy(`You can't use [$${n}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${o}`,i))}ff("modelable",(e,{expression:n},{effect:o,evaluateLater:i,cleanup:c})=>{let d=i(n),p=()=>{let x;return d(P=>x=P),x},v=i(`${n} = __placeholder`),S=x=>v(()=>{},{scope:{__placeholder:x}}),T=p();S(T),queueMicrotask(()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let x=e._x_model.get,P=e._x_model.set,B=Tke({get(){return x()},set(U){P(U)}},{get(){return p()},set(U){S(U)}});c(B)})});ff("teleport",(e,{modifiers:n,expression:o},{cleanup:i})=>{e.tagName.toLowerCase()!=="template"&&Wy("x-teleport can only be used on a <template> tag",e);let c=fEe(o),d=e.content.cloneNode(!0).firstElementChild;e._x_teleport=d,d._x_teleportBack=e,e.setAttribute("data-teleport-template",!0),d.setAttribute("data-teleport-target",!0),e._x_forwardEvents&&e._x_forwardEvents.forEach(v=>{d.addEventListener(v,S=>{S.stopPropagation(),e.dispatchEvent(new S.constructor(S.type,S))})}),fz(d,{},e);let p=(v,S,T)=>{T.includes("prepend")?S.parentNode.insertBefore(v,S):T.includes("append")?S.parentNode.insertBefore(v,S.nextSibling):S.appendChild(v)};Od(()=>{p(d,c,n),xO(()=>{oA(d)})()}),e._x_teleportPutBack=()=>{let v=fEe(o);Od(()=>{p(e._x_teleport,v,n)})},i(()=>Od(()=>{d.remove(),u4(d)}))});var m8e=document.createElement("div");function fEe(e){let n=xO(()=>document.querySelector(e),()=>m8e)();return n||Wy(`Cannot find x-teleport element for selector: "${e}"`),n}var Wke=()=>{};Wke.inline=(e,{modifiers:n},{cleanup:o})=>{n.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,o(()=>{n.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore})};ff("ignore",Wke);ff("effect",xO((e,{expression:n},{effect:o})=>{o(kv(e,n))}));function hge(e,n,o,i){let c=e,d=S=>i(S),p={},v=(S,T)=>x=>T(S,x);if(o.includes("dot")&&(n=g8e(n)),o.includes("camel")&&(n=v8e(n)),o.includes("passive")&&(p.passive=!0),o.includes("capture")&&(p.capture=!0),o.includes("window")&&(c=window),o.includes("document")&&(c=document),o.includes("debounce")){let S=o[o.indexOf("debounce")+1]||"invalid-wait",T=ZJ(S.split("ms")[0])?Number(S.split("ms")[0]):250;d=_ke(d,T)}if(o.includes("throttle")){let S=o[o.indexOf("throttle")+1]||"invalid-wait",T=ZJ(S.split("ms")[0])?Number(S.split("ms")[0]):250;d=Ake(d,T)}return o.includes("prevent")&&(d=v(d,(S,T)=>{T.preventDefault(),S(T)})),o.includes("stop")&&(d=v(d,(S,T)=>{T.stopPropagation(),S(T)})),o.includes("once")&&(d=v(d,(S,T)=>{S(T),c.removeEventListener(n,d,p)})),(o.includes("away")||o.includes("outside"))&&(c=document,d=v(d,(S,T)=>{e.contains(T.target)||T.target.isConnected!==!1&&(e.offsetWidth<1&&e.offsetHeight<1||e._x_isShown!==!1&&S(T))})),o.includes("self")&&(d=v(d,(S,T)=>{T.target===e&&S(T)})),(y8e(n)||Gke(n))&&(d=v(d,(S,T)=>{S8e(T,o)||S(T)})),c.addEventListener(n,d,p),()=>{c.removeEventListener(n,d,p)}}function g8e(e){return e.replace(/-/g,".")}function v8e(e){return e.toLowerCase().replace(/-(\w)/g,(n,o)=>o.toUpperCase())}function ZJ(e){return!Array.isArray(e)&&!isNaN(e)}function b8e(e){return[" ","_"].includes(e)?e:e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function y8e(e){return["keydown","keyup"].includes(e)}function Gke(e){return["contextmenu","click","mouse"].some(n=>e.includes(n))}function S8e(e,n){let o=n.filter(d=>!["window","document","prevent","stop","once","capture","self","away","outside","passive","preserve-scroll"].includes(d));if(o.includes("debounce")){let d=o.indexOf("debounce");o.splice(d,ZJ((o[d+1]||"invalid-wait").split("ms")[0])?2:1)}if(o.includes("throttle")){let d=o.indexOf("throttle");o.splice(d,ZJ((o[d+1]||"invalid-wait").split("ms")[0])?2:1)}if(o.length===0||o.length===1&&pEe(e.key).includes(o[0]))return!1;const c=["ctrl","shift","alt","meta","cmd","super"].filter(d=>o.includes(d));return o=o.filter(d=>!c.includes(d)),!(c.length>0&&c.filter(p=>((p==="cmd"||p==="super")&&(p="meta"),e[`${p}Key`])).length===c.length&&(Gke(e.type)||pEe(e.key).includes(o[0])))}function pEe(e){if(!e)return[];e=b8e(e);let n={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return n[e]=e,Object.keys(n).map(o=>{if(n[o]===e)return o}).filter(o=>o)}ff("model",(e,{modifiers:n,expression:o},{effect:i,cleanup:c})=>{let d=e;n.includes("parent")&&(d=e.parentNode);let p=kv(d,o),v;typeof o=="string"?v=kv(d,`${o} = __placeholder`):typeof o=="function"&&typeof o()=="string"?v=kv(d,`${o()} = __placeholder`):v=()=>{};let S=()=>{let B;return p(U=>B=U),mEe(B)?B.get():B},T=B=>{let U;p(j=>U=j),mEe(U)?U.set(B):v(()=>{},{scope:{__placeholder:B}})};typeof o=="string"&&e.type==="radio"&&Od(()=>{e.hasAttribute("name")||e.setAttribute("name",o)});let x=e.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(e.type)||n.includes("lazy")?"change":"input",P=yO?()=>{}:hge(e,x,n,B=>{T(epe(e,n,B,S()))});if(n.includes("fill")&&([void 0,null,""].includes(S())||G0e(e)&&Array.isArray(S())||e.tagName.toLowerCase()==="select"&&e.multiple)&&T(epe(e,n,{target:e},S())),e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=P,c(()=>e._x_removeModelListeners.default()),e.form){let B=hge(e.form,"reset",[],U=>{j0e(()=>e._x_model&&e._x_model.set(epe(e,n,{target:e},S())))});c(()=>B())}e._x_model={get(){return S()},set(B){T(B)}},e._x_forceModelUpdate=B=>{B===void 0&&typeof o=="string"&&o.match(/\./)&&(B=""),window.fromModel=!0,Od(()=>yke(e,"value",B)),delete window.fromModel},i(()=>{let B=S();n.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate(B)})});function epe(e,n,o,i){return Od(()=>{if(o instanceof CustomEvent&&o.detail!==void 0)return o.detail!==null&&o.detail!==void 0?o.detail:o.target.value;if(G0e(e))if(Array.isArray(i)){let c=null;return n.includes("number")?c=tpe(o.target.value):n.includes("boolean")?c=TX(o.target.value):c=o.target.value,o.target.checked?i.includes(c)?i:i.concat([c]):i.filter(d=>!C8e(d,c))}else return o.target.checked;else{if(e.tagName.toLowerCase()==="select"&&e.multiple)return n.includes("number")?Array.from(o.target.selectedOptions).map(c=>{let d=c.value||c.text;return tpe(d)}):n.includes("boolean")?Array.from(o.target.selectedOptions).map(c=>{let d=c.value||c.text;return TX(d)}):Array.from(o.target.selectedOptions).map(c=>c.value||c.text);{let c;return wke(e)?o.target.checked?c=o.target.value:c=i:c=o.target.value,n.includes("number")?tpe(c):n.includes("boolean")?TX(c):n.includes("trim")?c.trim():c}}})}function tpe(e){let n=e?parseFloat(e):null;return E8e(n)?n:e}function C8e(e,n){return e==n}function E8e(e){return!Array.isArray(e)&&!isNaN(e)}function mEe(e){return e!==null&&typeof e=="object"&&typeof e.get=="function"&&typeof e.set=="function"}ff("cloak",e=>queueMicrotask(()=>Od(()=>e.removeAttribute(l4("cloak")))));fke(()=>`[${l4("init")}]`);ff("init",xO((e,{expression:n},{evaluate:o})=>typeof n=="string"?!!n.trim()&&o(n,{},!1):o(n,{},!1)));ff("text",(e,{expression:n},{effect:o,evaluateLater:i})=>{let c=i(n);o(()=>{c(d=>{Od(()=>{e.textContent=d})})})});ff("html",(e,{expression:n},{effect:o,evaluateLater:i})=>{let c=i(n);o(()=>{c(d=>{Od(()=>{e.innerHTML=d,e._x_ignoreSelf=!0,oA(e),delete e._x_ignoreSelf})})})});$0e(oke(":",ske(l4("bind:"))));var qke=(e,{value:n,modifiers:o,expression:i,original:c},{effect:d,cleanup:p})=>{if(!n){let S={};xje(S),kv(e,i)(x=>{Oke(e,x,c)},{scope:S});return}if(n==="key")return w8e(e,i);if(e._x_inlineBindings&&e._x_inlineBindings[n]&&e._x_inlineBindings[n].extract)return;let v=kv(e,i);d(()=>v(S=>{S===void 0&&typeof i=="string"&&i.match(/\./)&&(S=""),Od(()=>yke(e,n,S,o))})),p(()=>{e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedStyles&&e._x_undoAddedStyles()})};qke.inline=(e,{value:n,modifiers:o,expression:i})=>{n&&(e._x_inlineBindings||(e._x_inlineBindings={}),e._x_inlineBindings[n]={expression:i,extract:!1})};ff("bind",qke);function w8e(e,n){e._x_keyExpression=n}hke(()=>`[${l4("data")}]`);ff("data",(e,{expression:n},{cleanup:o})=>{if(_8e(e))return;n=n===""?"{}":n;let i={};tge(i,e);let c={};Ije(c,i);let d=vk(e,n,{scope:c});(d===void 0||d===!0)&&(d={}),tge(d,e);let p=i4(d);Z2e(p);let v=fz(e,p);p.init&&vk(e,p.init),o(()=>{p.destroy&&vk(e,p.destroy),v()})});Lee((e,n)=>{e._x_dataStack&&(n._x_dataStack=e._x_dataStack,n.setAttribute("data-has-alpine-state",!0))});function _8e(e){return yO?lge?!0:e.hasAttribute("data-has-alpine-state"):!1}ff("show",(e,{modifiers:n,expression:o},{effect:i})=>{let c=kv(e,o);e._x_doHide||(e._x_doHide=()=>{Od(()=>{e.style.setProperty("display","none",n.includes("important")?"important":void 0)})}),e._x_doShow||(e._x_doShow=()=>{Od(()=>{e.style.length===1&&e.style.display==="none"?e.removeAttribute("style"):e.style.removeProperty("display")})});let d=()=>{e._x_doHide(),e._x_isShown=!1},p=()=>{e._x_doShow(),e._x_isShown=!0},v=()=>setTimeout(p),S=ige(P=>P?p():d(),P=>{typeof e._x_toggleAndCascadeWithTransitions=="function"?e._x_toggleAndCascadeWithTransitions(e,P,p,d):P?v():d()}),T,x=!0;i(()=>c(P=>{!x&&P===T||(n.includes("immediate")&&(P?v():d()),S(P),T=P,x=!1)}))});ff("for",(e,{expression:n},{effect:o,cleanup:i})=>{let c=T8e(n),d=kv(e,c.items),p=kv(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},o(()=>A8e(e,c,d,p)),i(()=>{Object.values(e._x_lookup).forEach(v=>Od(()=>{u4(v),v.remove()})),delete e._x_prevKeys,delete e._x_lookup})});function A8e(e,n,o,i){let c=p=>typeof p=="object"&&!Array.isArray(p),d=e;o(p=>{x8e(p)&&p>=0&&(p=Array.from(Array(p).keys(),Z=>Z+1)),p===void 0&&(p=[]);let v=e._x_lookup,S=e._x_prevKeys,T=[],x=[];if(c(p))p=Object.entries(p).map(([Z,re])=>{let le=gEe(n,re,Z,p);i(ie=>{x.includes(ie)&&Wy("Duplicate key on x-for",e),x.push(ie)},{scope:{index:Z,...le}}),T.push(le)});else for(let Z=0;Z<p.length;Z++){let re=gEe(n,p[Z],Z,p);i(le=>{x.includes(le)&&Wy("Duplicate key on x-for",e),x.push(le)},{scope:{index:Z,...re}}),T.push(re)}let P=[],B=[],U=[],j=[];for(let Z=0;Z<S.length;Z++){let re=S[Z];x.indexOf(re)===-1&&U.push(re)}S=S.filter(Z=>!U.includes(Z));let W="template";for(let Z=0;Z<x.length;Z++){let re=x[Z],le=S.indexOf(re);if(le===-1)S.splice(Z,0,re),P.push([W,Z]);else if(le!==Z){let ie=S.splice(Z,1)[0],be=S.splice(le-1,1)[0];S.splice(Z,0,be),S.splice(le,0,ie),B.push([ie,be])}else j.push(re);W=re}for(let Z=0;Z<U.length;Z++){let re=U[Z];re in v&&(Od(()=>{u4(v[re]),v[re].remove()}),delete v[re])}for(let Z=0;Z<B.length;Z++){let[re,le]=B[Z],ie=v[re],be=v[le],Ce=document.createElement("div");Od(()=>{be||Wy('x-for ":key" is undefined or invalid',d,le,v),be.after(Ce),ie.after(be),be._x_currentIfEl&&be.after(be._x_currentIfEl),Ce.before(ie),ie._x_currentIfEl&&ie.after(ie._x_currentIfEl),Ce.remove()}),be._x_refreshXForScope(T[x.indexOf(le)])}for(let Z=0;Z<P.length;Z++){let[re,le]=P[Z],ie=re==="template"?d:v[re];ie._x_currentIfEl&&(ie=ie._x_currentIfEl);let be=T[le],Ce=x[le],Ae=document.importNode(d.content,!0).firstElementChild,F=i4(be);fz(Ae,F,d),Ae._x_refreshXForScope=Ie=>{Object.entries(Ie).forEach(([tt,Xe])=>{F[tt]=Xe})},Od(()=>{ie.after(Ae),xO(()=>oA(Ae))()}),typeof Ce=="object"&&Wy("x-for key cannot be an object, it must be a string or an integer",d),v[Ce]=Ae}for(let Z=0;Z<j.length;Z++)v[j[Z]]._x_refreshXForScope(T[x.indexOf(j[Z])]);d._x_prevKeys=x})}function T8e(e){let n=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,o=/^\s*\(|\)\s*$/g,i=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,c=e.match(i);if(!c)return;let d={};d.items=c[2].trim();let p=c[1].replace(o,"").trim(),v=p.match(n);return v?(d.item=p.replace(n,"").trim(),d.index=v[1].trim(),v[2]&&(d.collection=v[2].trim())):d.item=p,d}function gEe(e,n,o,i){let c={};return/^\[.*\]$/.test(e.item)&&Array.isArray(n)?e.item.replace("[","").replace("]","").split(",").map(p=>p.trim()).forEach((p,v)=>{c[p]=n[v]}):/^\{.*\}$/.test(e.item)&&!Array.isArray(n)&&typeof n=="object"?e.item.replace("{","").replace("}","").split(",").map(p=>p.trim()).forEach(p=>{c[p]=n[p]}):c[e.item]=n,e.index&&(c[e.index]=o),e.collection&&(c[e.collection]=i),c}function x8e(e){return!Array.isArray(e)&&!isNaN(e)}function Zke(){}Zke.inline=(e,{expression:n},{cleanup:o})=>{let i=Pee(e);i._x_refs||(i._x_refs={}),i._x_refs[n]=e,o(()=>delete i._x_refs[n])};ff("ref",Zke);ff("if",(e,{expression:n},{effect:o,cleanup:i})=>{e.tagName.toLowerCase()!=="template"&&Wy("x-if can only be used on a <template> tag",e);let c=kv(e,n),d=()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let v=e.content.cloneNode(!0).firstElementChild;return fz(v,{},e),Od(()=>{e.after(v),xO(()=>oA(v))()}),e._x_currentIfEl=v,e._x_undoIf=()=>{Od(()=>{u4(v),v.remove()}),delete e._x_currentIfEl},v},p=()=>{e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)};o(()=>c(v=>{v?d():p()})),i(()=>e._x_undoIf&&e._x_undoIf())});ff("id",(e,{expression:n},{evaluate:o})=>{o(n).forEach(c=>f8e(e,c))});Lee((e,n)=>{e._x_ids&&(n._x_ids=e._x_ids)});$0e(oke("@",ske(l4("on:"))));ff("on",xO((e,{value:n,modifiers:o,expression:i},{cleanup:c})=>{let d=i?kv(e,i):()=>{};e.tagName.toLowerCase()==="template"&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(n)||e._x_forwardEvents.push(n));let p=hge(e,n,o,v=>{d(()=>{},{scope:{$event:v},params:[v]})});c(()=>p())}));Hee("Collapse","collapse","collapse");Hee("Intersect","intersect","intersect");Hee("Focus","trap","focus");Hee("Mask","mask","mask");function Hee(e,n,o){ff(n,i=>Wy(`You can't use [x-${n}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${o}`,i))}mz.setEvaluator(Q2e);mz.setReactivityEngine({reactive:Q0e,effect:Fje,release:Hje,raw:wu});var O8e=mz,Kke=O8e;const gc=Symbol("store"),Ko=Symbol("getState"),Bc=Symbol("dispatch"),KJ=Symbol("additionFeatures"),Rn=Symbol("mediaContext");function $ee(e,n,o){const i=document.createElement("script");i.type="text/javascript",i.readyState?i.onreadystatechange=()=>{i.readyState!=="loaded"&&i.readyState!=="complete"||(i.onreadystatechange=null,n())}:(i.onload=()=>{n()},i.onerror=()=>{o()}),i.src=e,window.crossOriginIsolated&&(i.crossOrigin="anonymous"),typeof document.body.append=="function"?document.getElementsByTagName("head")[0].append(i):document.getElementsByTagName("head")[0].appendChild(i)}function Yke(e,n){let o=e;/^https?:\/\//.test(o)||(o=`https://${e}`);try{const i=new URL(o);if(!n)return i.href;if(n.hostname)return i.hostname;if(n.path)return i.pathname}catch{return""}return""}function R6(e){if(e){var n;const o=document.getElementById(e);o==null||(n=o.parentNode)===null||n===void 0||n.removeChild(o)}}function Uee(e,n){if(!e||typeof e=="string")return!1;if(e.ownerDocument===window.document)return e instanceof n;{var o;const i=(o=e.ownerDocument)===null||o===void 0?void 0:o.defaultView;let c;return!!i&&(n.name==="HTMLVideoElement"?c=i.HTMLVideoElement:n.name==="HTMLCanvasElement"?c=i.HTMLCanvasElement:n.name==="HTMLElement"&&(c=i.HTMLElement),!!c&&e instanceof c||e instanceof n)}}function G_(e){return Uee(e,HTMLVideoElement)}function d4(e){return Uee(e,HTMLCanvasElement)}function vEe(e,n){return Array.from(document.getElementsByTagName(n)).some((o=>o.contains(e)))}function bEe(e,n,o){const i=e.parentElement;if(!i)return null;const c=document.createElement("canvas");c.id=n,i==null||i.appendChild(c);let d=null;function p(){o&&o()}return typeof ResizeObserver<"u"?(d=new ResizeObserver(p),d.observe(e),i&&d.observe(i)):window.addEventListener("resize",p),p(),c._overlayCleanup=function(){d?(d.unobserve(e),i&&d.unobserve(i),d.disconnect(),d=null):window.removeEventListener("resize",p),typeof c.remove=="function"?c.remove():i&&i.removeChild(c)},c}function yEe(e){var n;const o=e.getBoundingClientRect(),i=(n=e.parentElement)===null||n===void 0?void 0:n.getBoundingClientRect(),c=getComputedStyle(e),d=parseFloat(c.borderTopWidth)||0,p=parseFloat(c.borderLeftWidth)||0,v=p+(parseFloat(c.borderRightWidth)||0),S=d+(parseFloat(c.borderBottomWidth)||0),T=Math.max(e.width/(o.width-v),e.height/(o.height-S)),x={width:e.width/T,height:e.height/T},P=o.top-((i==null?void 0:i.top)||0),B=o.left-((i==null?void 0:i.left)||0);return{size:x,position:{top:`${P+((o.height-S-x.height)/2+d)}px`,left:`${B+((o.width-v-x.width)/2+p)}px`}}}let zee="zoom.us";const jee="4.0.5",xX=`https://dmogdx0jrul3u.cloudfront.net/${jee}/lib/av`,q2=`https://source.zoom.us/${jee}/lib/av`,OX=`https://jssdk.zoomus.cn/${jee}/lib/av`,k6=()=>zee;function Yu(e,n){const o=n.match(e);return o&&o.length>0&&o[1]||""}function Xke(e,n){const o=n.match(e);return o&&o.length>1&&o[2]||""}const yx=/version\/(\d+(\.?_?\d+)+)/i,I8e=[{test:[/opera/i],describe:e=>["Opera(Legacy)",Yu(yx,e)||Yu(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e)]},{test:[/opr\/|opios/i],describe:e=>["Opera",Yu(/(?:opr|opios)[\s/](\S+)/i,e)||Yu(yx,e)]},{test:[/SamsungBrowser/i],describe:e=>["Samsung Internet for Android",Yu(yx,e)||Yu(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e)]},{test:[/micromessenger/i],describe:e=>["WeChat",Yu(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||Yu(yx,e)]},{test:[/qqbrowser/i],describe:e=>[/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser",Yu(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||Yu(yx,e)]},{test:[/msie|trident/i],describe:e=>["Internet Explorer",Yu(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e)]},{test:[/\sedg\//i],describe:e=>["Microsoft Edge",Yu(/\sedg\/(\d+(\.?_?\d+)+)/i,e)]},{test:[/edg([ea]|ios)/i],describe:e=>["Microsoft Edge(Legacy)",Xke(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e)]},{test:[/firefox|iceweasel|fxios/i],describe:e=>["Firefox",Yu(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e)]},{test:[/electron/i],describe:e=>["Electron",Yu(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e)]},{test:[/chromium/i],describe:e=>["Chromium",Yu(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||Yu(yx,e)]},{test:[/chrome|crios|crmo/i],describe:e=>["Chrome",Yu(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e)]},{test:e=>!/like android/i.test(e)&&/android/i.test(e),describe:e=>["Android Browser",Yu(yx,e)]},{test:[/safari|applewebkit/i],describe:e=>["Safari",Yu(yx,e)]}],R8e=[{test:e=>{const n=e.match(/OpenHarmony (\d+\.?\d*)/);return(n==null?void 0:n.length)&&Number(n[1])>=5},describe:e=>["HarmonyOS",Yu(/OpenHarmony (\d+\.?\d*)/i,e)]},{test:[/windows /i],describe:e=>["Windows",Yu(/Windows ((NT|XP)( \d\d?.\d)?)/i,e)]},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:e=>["iOS",Xke(/(Version\/)(\d[\d.]+)/,e)]},{test:[/macintosh/i],describe:e=>["macOS",Yu(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,".")]},{test:[/(ipod|iphone|ipad)/i],describe:e=>["iOS",Yu(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".")]},{test:e=>!/like android/i.test(e)&&/android/i.test(e),describe:e=>["Android",Yu(/android[\s/-](\d+(\.\d+)*)/i,e)]},{test:[/linux/i],describe:()=>["Linux"]},{test:[/CrOS/],describe:()=>["Chrome OS"]}],Yo=new class{constructor(){this._browser=void 0,this._os=void 0,this._browserVersion=void 0,this._osVersion=void 0,this._clientHintsData=void 0,this._mediaFeatureOptions=void 0,"userAgentData"in navigator&&navigator.userAgentData.getHighEntropyValues(["architecture","bitness","formFactor","model","platformVersion","wow64"]).then((e=>{this._clientHintsData=e,this._os&&this._osVersion&&this._clientHintsData.platform&&this._clientHintsData.platformVersion&&(this._os=this._clientHintsData.platform,this._osVersion=this._clientHintsData.platformVersion)})).catch((e=>{console.warn(e)}))}_getBrowserVersion(){var e;if((e=this._clientHintsData)!==null&&e!==void 0&&(e=e.brands)!==null&&e!==void 0&&e.length){const n=this._clientHintsData.brands.filter((i=>!/(Chromium|Not.*Brand)/i.test(i.brand)))[0];n&&(this._browser=n.brand);const o=this._clientHintsData.brands.find((i=>{var c;return((c=i.brand)===null||c===void 0?void 0:c.toLowerCase())==="chromium"}));o?(this._browserVersion=o.version,this._browser||(this._browser=o.brand)):this._browserVersion=n.version}else{const n=navigator.userAgent,o=I8e.find((i=>typeof i.test=="function"?i.test(n):i.test.some((c=>c.test(n)))));if(o){const i=o.describe(n);this._browser=i[0],this._browserVersion=i[1],this.isIOSMobile&&(this._browser="ios-safari")}else this._browser="unknown",this._browserVersion="0"}}_getOSVersion(){var e,n;if((e=this._clientHintsData)!==null&&e!==void 0&&e.platform&&(n=this._clientHintsData)!==null&&n!==void 0&&n.platformVersion)this._os=this._clientHintsData.platform,this._osVersion=this._clientHintsData.platformVersion;else{const o=navigator.userAgent,i=R8e.find((c=>typeof c.test=="function"?c.test(o):c.test.some((d=>d.test(o)))));if(i){const c=i.describe(o);this._os=c[0],this._osVersion=c[1]}else this._os="unknown",this._osVersion="0"}}get browser(){return this._browser||this._getBrowserVersion(),this._browser}get browserVersion(){return this._browserVersion||this._getBrowserVersion(),this._browserVersion}get os(){return this._os||this._getOSVersion(),this._os}get osVersion(){return this._osVersion||this._getOSVersion(),this._osVersion}get isIE(){return this.browser==="Internet Explorer"}get isLegacyEdge(){return this.browser==="Microsoft Edge(Legacy)"}get isLegacyOpera(){return this.browser==="Opera(Legacy)"}get isFirefox(){return this.browser==="Firefox"}get isSafari(){return this.browser==="Safari"}get isChrome(){var e,n;if((e=this._clientHintsData)!==null&&e!==void 0&&(e=e.brands)!==null&&e!==void 0&&e.length)return(n=this._clientHintsData)===null||n===void 0?void 0:n.brands.some((i=>{var c;return((c=i.brand)===null||c===void 0?void 0:c.toLocaleLowerCase())==="chromium"}));const{userAgent:o}=navigator;return!this.isLegacyOpera&&!this.isLegacyEdge&&/chrome/i.test(o)&&/webkit/i.test(o)}get isLegacyChrome(){var e;return this.isChrome&&typeof((e=navigator.mediaDevices)===null||e===void 0?void 0:e.getDisplayMedia)!="function"}get isMacOS(){return this.os==="macOS"}get isIPad(){var e;return/iPad/i.test(navigator.userAgent)||this.isMacOS&&((e=navigator)===null||e===void 0?void 0:e.maxTouchPoints)>2}get isHarmonyOS(){return this.os==="HarmonyOS"}get isIOSMobile(){return this.os==="iOS"||this.isIPad}get architecture(){var e,n;return(e=(n=this._clientHintsData)===null||n===void 0?void 0:n.architecture)!==null&&e!==void 0?e:""}get isArm(){return this.architecture?this.architecture==="arm":/arm/i.test(navigator.userAgent)}get isChromeOS(){return this.os==="Chrome OS"}get isAndroidBrowser(){var e;return((e=this.os)===null||e===void 0?void 0:e.toLowerCase())==="android"}get isArmChromeOS(){return this.isArm&&this.isChromeOS}get isAndroidOrIOSBrowser(){return this.isAndroidBrowser||this.isIOSMobile}get isSupportEssentialAudioAndVideoAbility(){return typeof WebAssembly=="object"&&typeof Worker=="function"}get isSupportAudioWorklet(){return typeof AudioWorklet=="function"}get isSupportImageCapture(){return"ImageCapture"in window}get isSupportMediaStreamTrackProcessor(){var e;return this._mediaFeatureOptions?!((e=window.JsMediaSDK_Instance)===null||e===void 0||(e=e.util)===null||e===void 0||!e.isSupportMediaStreamTrackProcessor(this._mediaFeatureOptions)):"MediaStreamTrackProcessor"in window}get isSupportOffscreenCanvas(){var e;return(e=window.JsMediaSDK_Instance)===null||e===void 0||(e=e.util)===null||e===void 0?void 0:e.isSupportOffscreenCanvas()}get gpu(){var e;return this.isSupportOffscreenCanvas?(e=window.JsMediaSDK_Instance)===null||e===void 0||(e=e.util)===null||e===void 0||(e=e.getGpuInfo())===null||e===void 0?void 0:e.renderInfo:""}get bitness(){var e,n;return(e=(n=this._clientHintsData)===null||n===void 0?void 0:n.bitness)!==null&&e!==void 0?e:""}get model(){var e,n;return(e=(n=this._clientHintsData)===null||n===void 0?void 0:n.model)!==null&&e!==void 0?e:""}get wow64(){var e;if(this.os.toLowerCase()==="windows")return(e=this._clientHintsData)===null||e===void 0?void 0:e.wow64}get isSupportSendScreenSharing(){return"getDisplayMedia"in navigator.mediaDevices&&typeof navigator.mediaDevices.getDisplayMedia=="function"}get isSupportSharedArrayBuffer(){return typeof SharedArrayBuffer=="function"}get is32bitChrome(){var e;return!((e=window.JsMediaSDK_Instance)===null||e===void 0||(e=e.util)===null||e===void 0||!e.is32bitBrowser())}get isSwiftShader(){var e;return!((e=window.JsMediaSDK_Instance)===null||e===void 0||(e=e.util)===null||e===void 0||!e.isUsingSwiftShader())}set mediaFeatureOptions(e){this._mediaFeatureOptions=e}};function Jke(){var e;return"webkit"in window&&!("chrome"in window)&&!((e=window.webkit.messageHandlers)===null||e===void 0||!e.jsOCHelper)}function HY(){var e;const{isAndroidBrowser:n,isIOSMobile:o,osVersion:i,browserVersion:c,isChrome:d,isFirefox:p,isSafari:v}=Yo;var S,T;if(o)return Number((S=i.match(/^\d+/))===null||S===void 0?void 0:S[0])>=15;if(n)return Number((T=i.match(/^\d+/))===null||T===void 0?void 0:T[0])>=10;const x=Number((e=c.match(/^\d+/))===null||e===void 0?void 0:e[0]);return!!(d&&x>=69)||!!(v&&x>14)||!!(p&&x>=76)}function Qke(){const{isSupportAudioWorklet:e,isSupportEssentialAudioAndVideoAbility:n,isAndroidOrIOSBrowser:o,isSupportSendScreenSharing:i}=Yo,c=n&&e||o,d=n&&navigator.mediaDevices!==void 0&&navigator.mediaCapabilities!==void 0,p=typeof"".replaceAll=="function";return{audio:p&&c,video:p&&d,screen:p&&n&&i}}class k8e{constructor(n){this.instant=void 0,this.context=void 0,this.script=void 0,this.mic=void 0,this.instant=0,this.context=n,this.mic=null,this.script=n.createScriptProcessor(2048,1,1),this.script.onaudioprocess=o=>{const i=o.inputBuffer.getChannelData(0);let c,d=0;for(c=0;c<i.length;++c)d+=i[c]*i[c];this.instant=Math.sqrt(d/i.length)}}connectToSource(n){console.log("InputMicDetector is listening");try{var o;this.mic=this.context.createMediaStreamSource(n),this.mic.connect(this.script),(o=this.script)===null||o===void 0||o.connect(this.context.destination)}catch(i){console.error(i)}}stop(){var n,o;console.log("Audio Previewer stopped"),(n=this.mic)===null||n===void 0||n.disconnect(),this.mic=null,(o=this.script)===null||o===void 0||o.disconnect(),this.script=null}getMicVolume(){return this.instant}}const D8e="https://st1.zoom.us/web_client/4qu8baa/audio/ring.mp3";class M8e{constructor(){this.sampleAudio=void 0,this.audioCtx=void 0,this.destinationNode=void 0,this.audioPlayer=void 0,this.analyzserInterval=void 0,this.analyserNode=void 0,this.analyserNodeBufferDataArray=void 0,this.analyserCallback=void 0,this.sourceNode=void 0,this.mAudioStream=void 0,this.mSourceNode=void 0,this.mediaRecorder=void 0,this.isRecording=void 0,this.recorderChunks=[],this.recorderObjUrl=void 0,this.recorderPlayer=void 0,this.maximumRecordingTimer=void 0,this.shouldPlayAfterRecording=!0,this.isRunning=!1}testSpeaker(n){var o;if(typeof AudioContext!="function"||typeof MediaStreamAudioDestinationNode!="function"||!AudioContext.prototype.decodeAudioData)return void console.warn("Cannot test the speaker due to the browser capability");const{speakerId:i,sampleAudioUrl:c=D8e,onAnalyseFrequency:d}=n||{};if(this.isRunning)return void console.warn("A tester is running,please stop it first");this.isRunning=!0,this.initAudioContext(),(((o=this.sampleAudio)===null||o===void 0?void 0:o.url)===c&&this.sampleAudio.data?Promise.resolve(this.sampleAudio.data):window.fetch(c).then((v=>v.arrayBuffer())).then((v=>this.audioCtx.decodeAudioData(v))).then((v=>(this.sampleAudio={url:c,data:v},v)))).then((v=>{var S,T,x;this.sourceNode=this.audioCtx.createBufferSource(),this.sourceNode.buffer=v,this.sourceNode.loop=!0,i&&(S=this.audioPlayer)!==null&&S!==void 0&&S.setSinkId&&this.audioPlayer.setSinkId(i),d?typeof AudioContext.prototype.createAnalyser=="function"?(this.analyzserInterval&&window.clearInterval(this.analyzserInterval),this.analyserCallback=d,this.initAnalyserNode(),this.analyserNode&&this.sourceNode.connect(this.analyserNode)):(this.sourceNode.connect(this.destinationNode),console.warn("Cannot analyze the stream due to the browser capability")):(this.analyserCallback=void 0,this.sourceNode.connect(this.destinationNode)),this.sourceNode.start(0),((T=this.audioCtx)===null||T===void 0?void 0:T.state)!=="running"&&((x=this.audioCtx)===null||x===void 0||x.resume()),this.audioPlayer&&(this.audioPlayer.muted=!1,this.audioPlayer.currentTime=0,this.audioPlayer.play())}));const p=()=>{this.isRunning=!1,this.audioPlayer&&(this.audioPlayer.currentTime=0,this.audioPlayer.pause()),this.analyserNode&&this.analyzserInterval&&(window.clearInterval(this.analyzserInterval),this.analyzserInterval=void 0,this.analyserNodeBufferDataArray=void 0),this.sourceNode&&(this.sourceNode.stop(0),this.sourceNode.disconnect(),this.sourceNode.buffer=null,this.sourceNode=void 0)};return{stop:p,destroy:()=>{var v;p(),this.analyserNode&&this.destinationNode&&(this.analyserNode.disconnect(this.destinationNode),this.analyserNode=void 0),(v=this.audioCtx)===null||v===void 0||v.close(),this.audioCtx=void 0}}}testMicrophone(n){var o;if(typeof AudioContext!="function"||typeof MediaStreamAudioDestinationNode!="function"||typeof AudioContext.prototype.createMediaStreamSource!="function"||typeof((o=navigator.mediaDevices)===null||o===void 0?void 0:o.getUserMedia)!="function")return void console.warn("Cannot test the microphone due to the browser capability");const{microphoneId:i,speakerId:c,recordAndPlay:d,maxRecordDuration:p,onAnalyseFrequency:v,onStartRecording:S,onStopRecording:T,onStartPlayRecording:x,onStopPlayRecording:P}=n||{};if(this.isRunning)return void console.warn("A tester is running,please stop it first");this.isRunning=!0,this.initAudioContext();const B=()=>{d&&this.mediaRecorder&&this.isRecording&&(this.shouldPlayAfterRecording=!0,this.mediaRecorder.state!=="inactive"&&this.mediaRecorder.stop())};window.navigator.mediaDevices.getUserMedia({audio:!i||{deviceId:{exact:i}}}).then((j=>{var W,Z,re,le;this.mAudioStream=j,this.mSourceNode=(W=this.audioCtx)===null||W===void 0?void 0:W.createMediaStreamSource(j),this.audioPlayer.muted=!0,v?(this.analyzserInterval&&window.clearInterval(this.analyzserInterval),this.analyserCallback=v,this.initAnalyserNode(),this.analyserNode&&((re=this.mSourceNode)===null||re===void 0||re.connect(this.analyserNode))):this.analyserCallback=void 0,d&&(typeof MediaRecorder=="function"?(this.recorderObjUrl&&window.URL.revokeObjectURL(this.recorderObjUrl),this.mediaRecorder=new MediaRecorder(this.mAudioStream),this.mediaRecorder.ondataavailable=ie=>{ie.data&&this.recorderChunks.push(ie.data)},this.mediaRecorder.onstop=()=>{if(this.isRecording=!1,this.maximumRecordingTimer&&(window.clearTimeout(this.maximumRecordingTimer),this.maximumRecordingTimer=void 0),T==null||T(),this.recorderChunks.length>0){var ie;const be=new Blob(this.recorderChunks,{type:((ie=this.recorderChunks[0])===null||ie===void 0?void 0:ie.type)||"audio/ogg; codecs=opus"});this.recorderObjUrl=window.URL.createObjectURL(be),this.shouldPlayAfterRecording&&this.playRecording(this.recorderObjUrl,c,x,P).catch((Ce=>{this.analyzserInterval&&(window.clearInterval(this.analyzserInterval),this.analyzserInterval=void 0,this.analyserNodeBufferDataArray=void 0),console.warn(Ce)})),this.recorderChunks=[],this.mediaRecorder&&(this.mediaRecorder.ondataavailable=null,this.mediaRecorder.onstop=null,this.mediaRecorder=void 0)}},this.mediaRecorder.start(),this.isRecording=!0,S==null||S(),this.maximumRecordingTimer=window.setTimeout((()=>{B()}),p||1e4)):console.warn("Cannot record the sound due to the browser capability")),((Z=this.audioCtx)===null||Z===void 0?void 0:Z.state)!=="running"&&((le=this.audioCtx)===null||le===void 0||le.resume()),this.audioPlayer&&(this.audioPlayer.currentTime=0,this.audioPlayer.play())}));const U=()=>{this.isRunning=!1,this.maximumRecordingTimer&&(window.clearTimeout(this.maximumRecordingTimer),this.maximumRecordingTimer=void 0),this.audioPlayer&&(this.audioPlayer.currentTime=0,this.audioPlayer.pause()),this.analyserNode&&this.analyzserInterval&&(window.clearInterval(this.analyzserInterval),this.analyzserInterval=void 0,this.analyserNodeBufferDataArray=void 0),this.mSourceNode&&(v&&this.analyserNode&&this.mSourceNode.disconnect(this.analyserNode),this.mSourceNode=void 0),this.mAudioStream&&(this.mAudioStream.getAudioTracks().forEach((j=>{j.stop()})),this.mAudioStream=void 0),this.mediaRecorder&&(this.shouldPlayAfterRecording=!1,this.mediaRecorder.ondataavailable=null,this.mediaRecorder.onstop=null,this.mediaRecorder.state!=="inactive"&&this.mediaRecorder.stop(),this.isRecording=!1,this.mediaRecorder=void 0,this.recorderChunks=[]),this.recorderPlayer&&(this.recorderPlayer.currentTime=0,this.recorderPlayer.pause())};return{stop:U,stopRecording:B,destroy:()=>{var j;U(),this.analyserNode&&this.destinationNode&&(this.analyserNode.disconnect(this.destinationNode),this.analyserNode=void 0),(j=this.audioCtx)===null||j===void 0||j.close(),this.audioCtx=void 0}}}initAudioContext(){this.audioCtx&&this.audioPlayer||(this.audioCtx=new AudioContext,this.destinationNode=new MediaStreamAudioDestinationNode(this.audioCtx),this.audioPlayer=new Audio,this.audioPlayer.loop=!0,this.audioPlayer.srcObject=this.destinationNode.stream)}initAnalyserNode(){if(!this.audioCtx)return;this.analyserNode||(this.analyserNode=this.audioCtx.createAnalyser(),this.analyserNode.connect(this.destinationNode),this.analyserNode.fftSize=1024);const n=this.analyserNode.frequencyBinCount;this.analyserNodeBufferDataArray=new Uint8Array(n),this.analyzserInterval=window.setInterval(this.audioAnalyserCallback.bind(this),20)}audioAnalyserCallback(){if(this.analyserNodeBufferDataArray&&this.analyserNode&&this.analyserCallback){this.analyserNode.getByteFrequencyData(this.analyserNodeBufferDataArray);let n=0;for(const i of this.analyserNodeBufferDataArray)n+=i;const o=n/this.analyserNodeBufferDataArray.length;this.analyserCallback(o)}}playRecording(n,o,i,c){this.recorderPlayer=new Audio,this.recorderPlayer.src=n,this.recorderPlayer.currentTime=0,this.recorderPlayer.setSinkId&&o&&this.recorderPlayer.setSinkId(o);const d=()=>{c==null||c(),this.recorderPlayer&&(this.recorderPlayer.onpause=null,this.recorderPlayer.onended=null,this.recorderPlayer=void 0,this.isRunning=!1)};return new Promise(((p,v)=>{this.recorderPlayer&&(this.recorderPlayer.onpause=()=>{p(!0)},this.recorderPlayer.onended=()=>{p(!0)},this.recorderPlayer.onerror=v,i==null||i(),this.recorderPlayer.play().catch(v))})).finally((()=>{window.URL.revokeObjectURL(n),d()}))}}const npe="AudioNotStartedError";class P8e{constructor(n=""){this.audioContext=void 0,this.inputMicDetector=void 0,this.isMicUnmuted=void 0,this.isAudioStarted=void 0,this.audioStream=void 0,this.deviceId=void 0,this.tester=void 0,this.audioContext=null,this.inputMicDetector=null,this.isMicUnmuted=!1,this.isAudioStarted=!1,this.audioStream=null,this.deviceId=n,this.tester=new M8e}async start(){if(this.audioStream||this.isAudioStarted)throw new Error("AudioAlreadyStartedError");try{const n=await navigator.mediaDevices.getUserMedia(this.getAudioConstraints());this.audioStream=n,this.isAudioStarted=!0}catch(n){throw n}}async unmute(){if(!this.audioStream||!this.isAudioStarted)throw new Error(npe);if(this.isMicUnmuted)throw new Error("AudioAlreadyUnmutedError");return this.toggleMicIsMuted(!0)}async mute(){if(!this.audioStream||!this.isAudioStarted)throw new Error(npe);if(!this.isMicUnmuted)throw new Error("AudioAlreadyMutedError");return this.toggleMicIsMuted(!1)}getCurrentVolume(){return this.inputMicDetector?this.inputMicDetector.getMicVolume():0}async stop(){if(!this.audioStream||!this.isAudioStarted)throw new Error(npe);this.audioStream.getAudioTracks().forEach((n=>n.stop())),this.audioStream=null,this.isAudioStarted=!1}async toggleMicIsMuted(n){if(n){if(!this.audioContext){const o=window.AudioContext||window.webkitAudioContext;this.audioContext=new o}this.inputMicDetector=new k8e(this.audioContext),this.inputMicDetector.connectToSource(this.audioStream)}else this.inputMicDetector&&this.inputMicDetector.stop(),this.inputMicDetector=null;this.isMicUnmuted=n}getAudioConstraints(){return{audio:this.deviceId===""||{deviceId:{exact:this.deviceId}},video:!1}}testSpeaker(n){return this.tester.testSpeaker(n)}testMicrophone(n){return this.tester.testMicrophone(n)}}let Jn=(function(e){return e[e.InitSuccess=1]="InitSuccess",e[e.InitSuccessVideo=1.1]="InitSuccessVideo",e[e.InitSuccessAudio=1.2]="InitSuccessAudio",e[e.InitSuccessSharing=1.3]="InitSuccessSharing",e[e.UserGrantCaptureAudio=2]="UserGrantCaptureAudio",e[e.CurrentVideoResolution=3]="CurrentVideoResolution",e[e.JpegDecThreadOk=4]="JpegDecThreadOk",e[e.JpegData=5]="JpegData",e[e.SharingPara=6]="SharingPara",e[e.VideoDecodeMaxSize=7]="VideoDecodeMaxSize",e[e.CurrentCaptureVideoWidthHeight=8]="CurrentCaptureVideoWidthHeight",e[e.StartVideoCaptureSuccess=9]="StartVideoCaptureSuccess",e[e.StopVideoCaptureSuccess=10]="StopVideoCaptureSuccess",e[e.StartRemoteControlSuccess=11]="StartRemoteControlSuccess",e[e.CancelRemoteControlSuccess=12]="CancelRemoteControlSuccess",e[e.RemoteControlCopiedTextNotify=13]="RemoteControlCopiedTextNotify",e[e.MonitorLog=14]="MonitorLog",e[e.CurrentDesktopSharingWidthHeight=15]="CurrentDesktopSharingWidthHeight",e[e.DesktopSharingCaptureSuccess=16]="DesktopSharingCaptureSuccess",e[e.CheckChromeSharingExtensionResponse=17]="CheckChromeSharingExtensionResponse",e[e.SharingDecodeMaxSize=18]="SharingDecodeMaxSize",e[e.DataChannelOffer=19]="DataChannelOffer",e[e.AesGcmIvResponse=21]="AesGcmIvResponse",e[e.SharingDesktopStreamHaveAudio=23]="SharingDesktopStreamHaveAudio",e[e.JoinComputerAudioComplete=24]="JoinComputerAudioComplete",e[e.JoinSharingAudioComplete=25]="JoinSharingAudioComplete",e[e.LeaveComputerAudioComplete=26]="LeaveComputerAudioComplete",e[e.LeaveSharingAudioComplete=27]="LeaveSharingAudioComplete",e[e.HidStatusMute=28]="HidStatusMute",e[e.AudioStreamFailed=31]="AudioStreamFailed",e[e.VideoStreamFailed=32]="VideoStreamFailed",e[e.AudioSpeakerSetSuccess=33]="AudioSpeakerSetSuccess",e[e.AudiobridgeSetCcLangSuccess=36]="AudiobridgeSetCcLangSuccess",e[e.AudioLevelIndicator=38]="AudioLevelIndicator",e[e.SyncRendererTypeResponse=39]="SyncRendererTypeResponse",e[e.SendRemoteControlQrCode=55]="SendRemoteControlQrCode",e[e.StartVideoStreamInMaskSettingSuccess=66]="StartVideoStreamInMaskSettingSuccess",e[e.CurrentDecodeVideoQuality=66.5]="CurrentDecodeVideoQuality",e[e.CurrentDecodeVideoFps=66.6]="CurrentDecodeVideoFps",e[e.SharingFirstDecodeFrameReceivedSsrc=70]="SharingFirstDecodeFrameReceivedSsrc",e[e.StartVideoStreamInVbSettingSuccess=94]="StartVideoStreamInVbSettingSuccess",e[e.VbModelPreloading_3S=96]="VbModelPreloading_3S",e[e.VbModelPreloading_10S=97]="VbModelPreloading_10S",e[e.VbModelPreloadingOk=98]="VbModelPreloadingOk",e[e.NewActiveSpeakerFirstFrameCallback=111]="NewActiveSpeakerFirstFrameCallback",e[e.AudioBridgeFirstRecvData=114]="AudioBridgeFirstRecvData",e[e.AudioBridgeCanSendData=115]="AudioBridgeCanSendData",e[e.StartAnnotationSuccess=158]="StartAnnotationSuccess",e[e.DeviceChangeEvent=159]="DeviceChangeEvent",e[e.RecaptureAudio=160]="RecaptureAudio",e[e.InitFailed=-1]="InitFailed",e[e.InitFailedVideo=-1.1]="InitFailedVideo",e[e.InitFailedAudio=-1.2]="InitFailedAudio",e[e.InitFailedSharing=-1.3]="InitFailedSharing",e[e.AudioCaptureFailed=-2]="AudioCaptureFailed",e[e.AudioWebsocketBroken=-3]="AudioWebsocketBroken",e[e.VideoWebsocketBroken=-4]="VideoWebsocketBroken",e[e.SharingDecThreadFailed=-5]="SharingDecThreadFailed",e[e.AudioZeroData=-6]="AudioZeroData",e[e.AudioCtxSamplerate=-7]="AudioCtxSamplerate",e[e.UserForbiddedCaptureVideo=-8]="UserForbiddedCaptureVideo",e[e.UserCameraIsTakenByOtherPrograms=-9]="UserCameraIsTakenByOtherPrograms",e[e.StopVideoCaptureFailed=-10]="StopVideoCaptureFailed",e[e.StartRemoteControlFailed=-11]="StartRemoteControlFailed",e[e.CancelRemoteControlFailed=-12]="CancelRemoteControlFailed",e[e.RemoteControlPasteTextLengthOverflow=-14]="RemoteControlPasteTextLengthOverflow",e[e.UserStopDesktopSharing=-15]="UserStopDesktopSharing",e[e.UserCancelPermissionRequest=-16]="UserCancelPermissionRequest",e[e.DesktopSharingChromeExtensionUninstalled=-17]="DesktopSharingChromeExtensionUninstalled",e[e.DesktopSharingPermissionDenied=-18]="DesktopSharingPermissionDenied",e[e.DesktopSharingTimeOut=-19]="DesktopSharingTimeOut",e[e.DesktopSharingError=-20]="DesktopSharingError",e[e.AudioSpeakerSetError=-21]="AudioSpeakerSetError",e[e.DesktopSharingSystemError=-22]="DesktopSharingSystemError",e[e.SharingDesktopStreamHaveNoAudio=-27]="SharingDesktopStreamHaveNoAudio",e[e.AudioBridgeSocketConnectionError=-28]="AudioBridgeSocketConnectionError",e[e.AudioBridgeReconnectStart=-29]="AudioBridgeReconnectStart",e[e.AudioBridgeReconnectEnd=-31]="AudioBridgeReconnectEnd",e[e.WebglLostInMultiView=-32]="WebglLostInMultiView",e[e.MaskSettingParaError=-33]="MaskSettingParaError",e[e.VbSettingParaError=-34]="VbSettingParaError",e[e.NotifyUIFailover=-35]="NotifyUIFailover",e[e.AudiobridgeSetCcLangFailure=-39]="AudiobridgeSetCcLangFailure",e[e.NotifyUIWMSCFailover=-42]="NotifyUIWMSCFailover",e[e.NotifyUIWMSCWSSDisconnected=-43]="NotifyUIWMSCWSSDisconnected",e[e.RecoverWebrtcAudio=-44]="RecoverWebrtcAudio",e[e.WebglContextInvalid=-51]="WebglContextInvalid",e[e.WasmMemoryFail=-52]="WasmMemoryFail",e[e.WorkletProcessExceptions=-53]="WorkletProcessExceptions",e[e.NotSupportExternalCanvasInVTagRenderer=-55]="NotSupportExternalCanvasInVTagRenderer",e[e.HealthCheckFailed=-129]="HealthCheckFailed",e[e.StartAnnotationFailed=-130]="StartAnnotationFailed",e.AudioQosData="AUDIO_QOS_DATA",e.VideoQosData="VIDEO_QOS_DATA",e.ShareQosData="VIDEOSHARE_QOS_DATA",e.NetworkQualityChange="NETWORK_QUALITY_CHANGE",e.NetworkQualityChangeAudio="NETWORK_QUALITY_CHANGE_AUDIO",e.AudioStreamMuted="AUDIO_STREAM_MUTED",e.AudioStreamUnmuted="AUDIO_STREAM_UNMUTED",e.AnnotationRedoStatus="ANNO_REDO_STATUS",e.AnnotationUndoStatus="ANNO_UNDO_STATUS",e.AnnoViewerRequestDraw="ANNO_VIEWER_REQUEST_DRAW",e.VideoStreamMuted="VIDEO_STREAM_MUTED",e.VideoStreamUnmuted="VIDEO_STREAM_UNMUTED",e})({}),pg=(function(e){return e[e.EncodeSuccess=1]="EncodeSuccess",e[e.DecodeSuccess=2]="DecodeSuccess",e[e.EncodeFailed=-1]="EncodeFailed",e[e.DecodeFailed=-2]="DecodeFailed",e})({}),ope=(function(e){return e.Spotlight="Spotlight",e.Unmute="Unmute",e.AllowToTalk="Allow to talk",e})({}),Uy=(function(e){return e.Inherited="inherited",e.Active="active",e.PassiveByMuteOne="passive(mute one)",e.PassiveByMuteAll="passive(mute all)",e.SharingAudio="sharing audio",e})({}),i3=(function(e){return e.Inherited="inherited",e.Active="active",e.Passive="passive",e.SharingAudio="sharing audio",e})({}),Sk=(function(e){return e.Active="active",e.Failover="failover",e.EndedBySystem="audio stream is ended by system",e.Pstn="pstn",e.MicrophoneError="microphone error",e})({}),m5=(function(e){return e.Join="join",e.Leave="leave",e.Muted="muted",e.Unmuted="unmuted",e})({}),_v=(function(e){return e[e.Calling=1]="Calling",e[e.Ringing=2]="Ringing",e[e.Accepted=3]="Accepted",e[e.Busy=4]="Busy",e[e.NotAvailable=5]="NotAvailable",e[e.HangUp=6]="HangUp",e[e.Fail=7]="Fail",e[e.Success=8]="Success",e[e.Timeout=9]="Timeout",e[e.Canceling=10]="Canceling",e[e.Canceled=11]="Canceled",e[e.CancelFailed=12]="CancelFailed",e[e.NoAnswer=13]="NoAnswer",e[e.BlockNoHost=14]="BlockNoHost",e[e.BlockHighRate=15]="BlockHighRate",e[e.BlockTooFrequent=16]="BlockTooFrequent",e})({});const N8e=(()=>{const e=new ArrayBuffer(684),n=new Uint32Array(e);return n.set([1179011410,676,1163280727,544501094,16,65539,16e3,64e3,2097156,1635017060,640],0),new Blob([n],{type:"audio/wav"})})(),L8e=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]),B8e=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);let U0=(function(e){return e[e.HostGrab=0]="HostGrab",e[e.OnlyHost=1]="OnlyHost",e[e.AnyoneGrab=2]="AnyoneGrab",e[e.MultipleShare=3]="MultipleShare",e})({}),Xr=(function(e){return e.Sharing="sharing",e.Paused="paused",e.End="ended",e})({}),YJ=(function(e){return e[e.Video_90P=0]="Video_90P",e[e.Video_180P=1]="Video_180P",e[e.Video_360P=2]="Video_360P",e[e.Video_720P=3]="Video_720P",e[e.Video_1080P=4]="Video_1080P",e})({}),SEe=(function(e){return e.Active="Active",e.Inactive="Inactive",e})({}),$Y=(function(e){return e.Muted="Muted",e.Unmuted="Unmuted",e})({}),spe=(function(e){return e.Started="Started",e.Stopped="Stopped",e.Failed="Failed",e})({}),CEe=(function(e){return e.Approved="Approved",e.Rejected="Rejected",e})({}),rpe=(function(e){return e.PrivilegeChange="PrivilegeChange",e.StopScreenCapture="StopScreenCapture",e.ShareFromMainSession="ShareFromMainSession",e})({}),eDe=(function(e){return e[e.ImageNotMatch=2]="ImageNotMatch",e[e.CanvasNotMatch=3]="CanvasNotMatch",e[e.VBModelNotMatch=4]="VBModelNotMatch",e})({});const P3="blur";let ok=(function(e){return e.User="user",e.Environment="environment",e.Left="left",e.Right="right",e})({});const gz=Object.values(ok),Fx=1e3,EEe="__ZOOM_SDK_SHARING_VIDEO__",wEe="__ZOOM_SDK_ANNOTATION_CANVAS_@__",sO="__ZOOM_SDK_VIDEO_ZONE__",ipe="__ZOOM_SDK_MEDIA_PLAYBACK_SOURCE_VIDEO__",a3="__ZOOM_SDK_DYMMY_VIDEO_PLAYER_CANVAS_ID__",fge="__ZOOM_SDK_DUMMY_HIDDEN_SELF_VIEW_VIDEO_ID__",XJ={data:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,rate:0,bandwidth:0}},rO={data:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,width:0,height:0,fps:0,rate:0,bandwidth:0}};let gg=(function(e){return e[e.Request=11]="Request",e[e.Decline=12]="Decline",e[e.Approve=13]="Approve",e[e.GiveUp=14]="GiveUp",e[e.StartControl=15]="StartControl",e[e.ContinueControl=16]="ContinueControl",e[e.StopControl=17]="StopControl",e[e.SwitchCamera=20]="SwitchCamera",e})({}),Hx=(function(e){return e[e.Bk=0]="Bk",e[e.Center=1]="Center",e[e.ZoomIn=2]="ZoomIn",e[e.ZoomOut=3]="ZoomOut",e[e.Left=4]="Left",e[e.Right=5]="Right",e[e.Up=6]="Up",e[e.Down=7]="Down",e[e.SwitchCamera=8]="SwitchCamera",e})({}),CL=(function(e){return e[e.Pan=192]="Pan",e[e.Tilt=48]="Tilt",e[e.Zoom=12]="Zoom",e[e.Focus=3]="Focus",e})({});(function(e){return e[e.ZoomIn=2]="ZoomIn",e[e.ZoomOut=3]="ZoomOut",e[e.Left=4]="Left",e[e.Right=5]="Right",e[e.Up=6]="Up",e[e.Down=7]="Down",e[e.SwitchCamera=8]="SwitchCamera",e})({});(function(e){return e[e.None=0]="None",e[e.ApproveAnother=3]="ApproveAnother",e[e.Stop=5]="Stop",e})({});let e6=(function(e){return e[e.Null=0]="Null",e[e.Normal=1]="Normal",e[e.VideoMode=2]="VideoMode",e})({}),Mh=(function(e){return e[e.Null=0]="Null",e[e.VirtualBackground=1]="VirtualBackground",e[e.Mask=2]="Mask",e[e.VideoProcessor=3]="VideoProcessor",e})({}),Ji=(function(e){return e.Computer="computer",e.Phone="phone",e})({}),JJ=(function(e){return e[e.Decline=0]="Decline",e[e.Approve=1]="Approve",e[e.CacheClean=2]="CacheClean",e})({}),Ip=(function(e){return e.Unknown="unknown",e.Uninstalled="uninstalled",e.Installed="installed",e})({}),QJ=(function(e){return e.Unlaunched="unlaunched",e.Launched="launched",e})({}),ape=(function(e){return e.Started="started",e.Ended="ended",e})({}),lpe=(function(e){return e[e.Max=30]="Max",e[e.Min=10]="Min",e[e.Default=24]="Default",e})({}),N5=(function(e){return e[e.Loading=1]="Loading",e[e.Done=2]="Done",e})({}),_Ee=(function(e){return e.Browser="Browser",e.Zoom="Zoom",e})({}),AEe=(function(e){return e.Denoise="backgroundNoiseSuppression",e.OriginalSound="originalSound",e})({}),pge=(function(e){return e[e.Undefined=0]="Undefined",e[e.WebGL=1]="WebGL",e[e.WebGPU=2]="WebGPU",e[e.WebGL2=3]="WebGL2",e})({});(function(e){return e[e.H323=1]="H323",e[e.SIP=2]="SIP",e})({});let IX=(function(e){return e[e.Success=0]="Success",e[e.Ringing=1]="Ringing",e[e.Timeout=2]="Timeout",e[e.Busy=101]="Busy",e[e.Fail=104]="Fail",e})({}),L5=(function(e){return e[e.Exception=-1]="Exception",e[e.PermissionReset=-2]="PermissionReset",e[e.LostAccess=-3]="LostAccess",e})({}),Cv=(function(e){return e[e.AudioConnectionFailed=101]="AudioConnectionFailed",e[e.AudioStreamEnded=102]="AudioStreamEnded",e[e.MicrophonePermissionReset=103]="MicrophonePermissionReset",e[e.AudioStreamFailed=104]="AudioStreamFailed",e[e.MicrophoneMuted=105]="MicrophoneMuted",e[e.AudioStreamMuted=106]="AudioStreamMuted",e[e.AudioPlaybackInterrupted=107]="AudioPlaybackInterrupted",e[e.VideoConnectionFailed=201]="VideoConnectionFailed",e[e.VideoStreamEnded=202]="VideoStreamEnded",e[e.CameraPermissionReset=203]="CameraPermissionReset",e[e.WebGlContextInvalid=204]="WebGlContextInvalid",e[e.WasmOutOfMemory=205]="WasmOutOfMemory",e[e.VideoStreamFailed=206]="VideoStreamFailed",e[e.VideoStreamMuted=207]="VideoStreamMuted",e[e.SharingStreamFailed=301]="SharingStreamFailed",e})({}),TEe=(function(e){return e[e.NoFallback=0]="NoFallback",e[e.FallbackToWasm=1]="FallbackToWasm",e})({}),mge=(function(e){return e[e.WebRTCAudio=1]="WebRTCAudio",e[e.WebRTCVideo=2]="WebRTCVideo",e})({}),V8e=(function(e){return e[e.WebRTCAudio=1]="WebRTCAudio",e[e.WebRTCAudio2=2]="WebRTCAudio2",e})({}),EL=(function(e){return e[e.BROWSER_NOT_SUPPORTED=-3]="BROWSER_NOT_SUPPORTED",e[e.DEVICE_UNSUPPORTED=-4]="DEVICE_UNSUPPORTED",e[e.OTHER_ERROR=-7]="OTHER_ERROR",e[e.DEVICE_UNVERIFIED=-8]="DEVICE_UNVERIFIED",e[e.FEATURE_DISABLED=-9]="FEATURE_DISABLED",e[e.FORCE_SAME_AV_STRATEGY=-10]="FORCE_SAME_AV_STRATEGY",e})({});const F8e={[EL.BROWSER_NOT_SUPPORTED]:"Your browser does not support WebRTC Video.",[EL.DEVICE_UNSUPPORTED]:"WebRTC video cannot currently run on this environment. We are evaluating support for it in the future.",[EL.OTHER_ERROR]:"An error occurred with WebRTC video.",[EL.DEVICE_UNVERIFIED]:"WebRTC video has not been verified in this environment. We are evaluating it for future support.",[EL.FEATURE_DISABLED]:"We disabled WebRTC video for this environment.",[EL.FORCE_SAME_AV_STRATEGY]:"The same AV strategy is forced."};let xp=(function(e){return e[e.SELECT_MOUSE=0]="SELECT_MOUSE",e[e.SELECT_TOOL=1]="SELECT_TOOL",e[e.SELECT_ERASER=2]="SELECT_ERASER",e[e.UNDO=3]="UNDO",e[e.REDO=4]="REDO",e[e.CLEAR=5]="CLEAR",e[e.CLOSE_TOOL_BAR=6]="CLOSE_TOOL_BAR",e[e.UPDATE_PARAMS=7]="UPDATE_PARAMS",e[e.PAUSE_ANNOTATION=8]="PAUSE_ANNOTATION",e[e.SHOW_ANNOTATOR_NAME=9]="SHOW_ANNOTATOR_NAME",e[e.ANNOTATOR_ID_TO_NAME=10]="ANNOTATOR_ID_TO_NAME",e[e.ANNO_CANVAS_SIZE_UPDATE=11]="ANNO_CANVAS_SIZE_UPDATE",e[e.STAMP=12]="STAMP",e[e.SPOTLIGHT=13]="SPOTLIGHT",e[e.TEXTBOX=14]="TEXTBOX",e[e.SELECT_OBJ=15]="SELECT_OBJ",e[e.UPDATE_REMOTE_POSITION_INFO=16]="UPDATE_REMOTE_POSITION_INFO",e[e.UPDATE_VANISHING_TOOL_TIME=17]="UPDATE_VANISHING_TOOL_TIME",e})({}),cpe=(function(e){return e[e.Mine=0]="Mine",e[e.Viewer=1]="Viewer",e[e.All=2]="All",e})({}),dE=(function(e){return e[e.None=0]="None",e[e.Pen=1]="Pen",e[e.Highlighter=2]="Highlighter",e[e.Spotlight=3]="Spotlight",e[e.Arrow=4]="Arrow",e[e.Eraser=7]="Eraser",e[e.Line=11]="Line",e[e.Arrow1=12]="Arrow1",e[e.Rectangle=14]="Rectangle",e[e.RectangleSemiFill=15]="RectangleSemiFill",e[e.Ellipse=18]="Ellipse",e[e.EllipseSemiFill=19]="EllipseSemiFill",e[e.DoubleArrow=20]="DoubleArrow",e[e.RectangleFill=21]="RectangleFill",e[e.EllipseFill=23]="EllipseFill",e[e.Diamond=24]="Diamond",e[e.StampArrow=25]="StampArrow",e[e.StampCheck=26]="StampCheck",e[e.StampX=27]="StampX",e[e.StampStar=31]="StampStar",e[e.StampHeart=32]="StampHeart",e[e.StampQuestionMark=33]="StampQuestionMark",e[e.VanishingPen=36]="VanishingPen",e[e.DiamondSemiFill=37]="DiamondSemiFill",e[e.DiamondFill=38]="DiamondFill",e[e.VanishingArrow=43]="VanishingArrow",e[e.VanishingDoubleArrow=44]="VanishingDoubleArrow",e[e.VanishingDiamond=45]="VanishingDiamond",e[e.VanishingEllipse=46]="VanishingEllipse",e[e.VanishingRectangle=47]="VanishingRectangle",e})({}),xEe=(function(e){return e[e.White=4294967295]="White",e[e.Red=4294908185]="Red",e[e.Yellow=4294958642]="Yellow",e[e.Green=4286760838]="Green",e[e.Blue=4281240831]="Blue",e[e.LightPurple=4290017791]="LightPurple",e[e.Pink=4294916295]="Pink",e[e.Orange=4294937088]="Orange",e[e.LimeTreeGreen=4283029022]="LimeTreeGreen",e[e.IceBlue=4283554027]="IceBlue",e[e.DarkGrey=4278190080]="DarkGrey",e[e.DarkRed=4286513152]="DarkRed",e[e.Brown=4286006280]="Brown",e[e.DarkGreen=4278940200]="DarkGreen",e[e.DarkBlue=4279521219]="DarkBlue",e})({});const g5=152,H8e=[{name:"audio_simd.min.js",category:"audio",type:"worker",tag:"simd",alias:"audioSIMDWorkletPath"},{name:"audio.simd.wasm",category:"audio",type:"wasm",tag:"simd",alias:"audioSIMDWasm"},{name:"js_audio_process.min.js",category:"audio",type:"worker",tag:"",alias:"audioWorkerPath"},{name:"audio.encode.wasm",category:"audio",type:"wasm",tag:"",alias:"audioWasm"},{name:"js_audio_worklet.min.js",category:"audio",type:"worklet",tag:"",alias:"audioWorkletPath"},{name:"js_audio_worklet_simd.min.js",category:"audio",type:"worklet",tag:"simd",alias:"audioWorkletSIMDPath"},{name:"js_audio_worklet_process.min.js",category:"audio",type:"worklet",tag:"",alias:"audioWorkletProcessPath"},{name:"js_sharing_audio_worklet.min.js",category:"audio",type:"worklet",tag:"",alias:"sharingAudioWorkletPath"},{name:"js_audio_level_worklet_process.min.js",category:"audio",type:"worklet",tag:"",alias:"audioLevelWorkletPath"},{name:"video_mtsimd.min.js",category:"video",type:"worker",tag:"simd,thread",alias:"videoMSIMDWorkerPath"},{name:"video.mtsimd.wasm",category:"video",type:"wasm",tag:"simd,thread,videoShare",alias:"videoMSIMDWasm"},{name:"video_m.min.js",category:"video",type:"worker",tag:"thread",alias:"videoMtWorkerPath"},{name:"video.mt.wasm",category:"video",type:"wasm",tag:"thread",alias:"videoMtWasm"},{name:"video_simd.min.js",category:"video",type:"worker",tag:"simd",alias:"videoSIMDWorkerPath"},{name:"video.simd.wasm",category:"video",type:"wasm",tag:"simd",alias:"videoSIMDWasm"},{name:"video_s.min.js",category:"video",type:"worker",tag:"",alias:"videoWorkerPath"},{name:"video.decode.wasm",category:"video",type:"wasm",tag:"",alias:"videoWasm"},{name:"video_share_mtsimd.min.js",category:"video",type:"worker",tag:"videoShare",alias:"vsmiworkerpath"},{name:"sharing_mtsimd.min.js",category:"sharing",type:"worker",tag:"simd,thread",alias:"sharingMSIMDWorkerPath"},{name:"sharing_m.min.js",category:"sharing",type:"worker",tag:"thread",alias:"sharingMtWorkerPath"},{name:"sharing_simd.min.js",category:"sharing",type:"worker",tag:"simd",alias:"sharingSIMDWorkerPath"},{name:"sharing_s.min.js",category:"sharing",type:"worker",tag:"",alias:"sharingWorkerPath"},{name:"net_thread.min.js",category:"common",type:"worker",tag:"thread",alias:"netThreadPath"}];class $0{constructor(){this.assetsPath=void 0,this.instance=void 0,this.callbackList=void 0,this.mediaWorkersPath=void 0,this.mediaOptions=void 0,this.inProgress=void 0,this.callbackList=[]}static getInstance(){return this.agentInstance===void 0&&(this.agentInstance=new $0),this.agentInstance}static isSupportMultipleView(){var n;return(n=window.JsMediaSDK_Instance)===null||n===void 0?void 0:n.util.isSupportMultiViewAPI()}static getMaxCountRender(n,o,i){var c;const d=i?{disableRenderLimits:!0}:o;return(c=window.JsMediaSDK_Instance)===null||c===void 0?void 0:c.util.getMaxCountRender(n,d)}init(n,o,i){var c,d,p;!this.instance&&window.JsMediaSDK_Instance&&(this.instance=new window.JsMediaSDK_Instance({...o??{},mediaSDKConfig:{mediaSDKCDNPath:n}})),this.onMediaSDKCallback=this.onMediaSDKCallback.bind(this),this.mediaOptions=o,(c=this.instance)===null||c===void 0||c.setProps({callback:this.onMediaSDKCallback,isPreviewMode:!0,meetingParams:{cid:"",userId:0,rwgHost:"",nginxHost:"",abToken:"",confId:"",e2eEncrypt:!0,enableWebtransport:!1,webtransportPort:0,rwgToMediaSDKConfig:{},webrtcMode:0},mediaParams:{videoDecodeThreadNum:$0.getMaxCountRender(!1,(d=this.mediaOptions)===null||d===void 0?void 0:d.enableMultiDecodeVideoWithoutSAB,i),rendererType:1,isEnableHD:!0,isEnableHW:!0}}),(p=this.instance)===null||p===void 0||p.initVideoEncode(),this.inProgress=!0}onMediaSDKCallback(n,o){this.callbackList.length>0&&this.callbackList.forEach((i=>i(n,o)))}registerCallback(n){this.callbackList.push(n)}unregisterCallback(n){this.callbackList=this.callbackList.filter((o=>o!==n))}async destroy(){var n;this.callbackList=[],await((n=this.instance)===null||n===void 0?void 0:n.destroy()),this.instance=null,this.inProgress=!1}disconnect(){var n,o;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(17,{}),(o=this.instance)===null||o===void 0||o.JsMediaSDK_UnInit()}startVirtualBackgroundSetting(n,o,i,c,d,p,v=!1,S){var T;(T=this.instance)===null||T===void 0||T.Notify_MeidaSDK(91,{canvas:n,bgdom:o,width:d,height:p,ssid:0,VideoSelectValue:c==="default"?null:c,disableOriginalRatio:v,usingFacingMode:["user","environment"].includes(c),id:S})}updateVirtualBackgroundImage(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(92,{bgdom:n})}stopVirtualBackgroundSetting(n=!1){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(93,{isSwitch:n})}startMaskSetting(n,o,i,c,d,p,v,S,T){var x;(x=this.instance)===null||x===void 0||x.Notify_MeidaSDK(62,{canvas:n,maskdom:null,bgdom:null,dx:0,dy:0,dWidth:170,dHeight:170,width:1280,height:720,ssid:0,originWidth:379,originHeight:213,VideoSelectValue:d==="default"?null:d,usingFacingMode:["user","environment"].includes(d)})}stopMaskSetting(n=!1){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(65,{isSwitch:n})}}$0.agentInstance=void 0;const dn="INVALID_OPERATION",cf="INTERNAL_ERROR",Wee="OPERATION_TIMEOUT",Pp="INSUFFICIENT_PRIVILEGES",RX="IMPROPER_MEETING_STATE",nr="INVALID_PARAMETERS",OEe="OPERATION_CANCELLED";var gge=function(e,n){return gge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,i){o.__proto__=i}||function(o,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(o[c]=i[c])},gge(e,n)};function Vb(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}gge(e,n),e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}var t6=function(){return t6=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++)for(var c in n=arguments[o])Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c]);return e},t6.apply(this,arguments)};function tDe(e,n){var o,i,c,d,p={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return d={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function v(S){return function(T){return(function(x){if(o)throw new TypeError("Generator is already executing.");for(;p;)try{if(o=1,i&&(c=2&x[0]?i.return:x[0]?i.throw||((c=i.return)&&c.call(i),0):i.next)&&!(c=c.call(i,x[1])).done)return c;switch(i=0,c&&(x=[2&x[0],c.value]),x[0]){case 0:case 1:c=x;break;case 4:return p.label++,{value:x[1],done:!1};case 5:p.label++,i=x[1],x=[0];continue;case 7:x=p.ops.pop(),p.trys.pop();continue;default:if(!((c=(c=p.trys).length>0&&c[c.length-1])||x[0]!==6&&x[0]!==2)){p=0;continue}if(x[0]===3&&(!c||x[1]>c[0]&&x[1]<c[3])){p.label=x[1];break}if(x[0]===6&&p.label<c[1]){p.label=c[1],c=x;break}if(c&&p.label<c[2]){p.label=c[2],p.ops.push(x);break}c[2]&&p.ops.pop(),p.trys.pop();continue}x=n.call(e,p)}catch(P){x=[6,P],i=0}finally{o=c=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}})([S,T])}}}function D6(e){var n=typeof Symbol=="function"&&Symbol.iterator,o=n&&e[n],i=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xy(e,n){var o=typeof Symbol=="function"&&e[Symbol.iterator];if(!o)return e;var i,c,d=o.call(e),p=[];try{for(;(n===void 0||n-- >0)&&!(i=d.next()).done;)p.push(i.value)}catch(v){c={error:v}}finally{try{i&&!i.done&&(o=d.return)&&o.call(d)}finally{if(c)throw c.error}}return p}function RS(e,n){for(var o=0,i=n.length,c=e.length;o<i;o++,c++)e[c]=n[o];return e}function zL(e){return this instanceof zL?(this.v=e,this):new zL(e)}function Ol(e){return typeof e=="function"}function vz(e){var n=e((function(o){Error.call(o),o.stack=new Error().stack}));return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var upe=vz((function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map((function(o,i){return i+1+") "+o.toString()})).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}}));function eQ(e,n){if(e){var o=e.indexOf(n);0<=o&&e.splice(o,1)}}var bz=(function(){function e(o){this.initialTeardown=o,this.closed=!1,this._parentage=null,this._finalizers=null}var n;return e.prototype.unsubscribe=function(){var o,i,c,d,p;if(!this.closed){this.closed=!0;var v=this._parentage;if(v)if(this._parentage=null,Array.isArray(v))try{for(var S=D6(v),T=S.next();!T.done;T=S.next())T.value.remove(this)}catch(W){o={error:W}}finally{try{T&&!T.done&&(i=S.return)&&i.call(S)}finally{if(o)throw o.error}}else v.remove(this);var x=this.initialTeardown;if(Ol(x))try{x()}catch(W){p=W instanceof upe?W.errors:[W]}var P=this._finalizers;if(P){this._finalizers=null;try{for(var B=D6(P),U=B.next();!U.done;U=B.next()){var j=U.value;try{IEe(j)}catch(W){p=p??[],W instanceof upe?p=RS(RS([],Xy(p)),Xy(W.errors)):p.push(W)}}}catch(W){c={error:W}}finally{try{U&&!U.done&&(d=B.return)&&d.call(B)}finally{if(c)throw c.error}}}if(p)throw new upe(p)}},e.prototype.add=function(o){var i;if(o&&o!==this)if(this.closed)IEe(o);else{if(o instanceof e){if(o.closed||o._hasParent(this))return;o._addParent(this)}(this._finalizers=(i=this._finalizers)!==null&&i!==void 0?i:[]).push(o)}},e.prototype._hasParent=function(o){var i=this._parentage;return i===o||Array.isArray(i)&&i.includes(o)},e.prototype._addParent=function(o){var i=this._parentage;this._parentage=Array.isArray(i)?(i.push(o),i):i?[i,o]:o},e.prototype._removeParent=function(o){var i=this._parentage;i===o?this._parentage=null:Array.isArray(i)&&eQ(i,o)},e.prototype.remove=function(o){var i=this._finalizers;i&&eQ(i,o),o instanceof e&&o._removeParent(this)},e.EMPTY=((n=new e).closed=!0,n),e})(),nDe=bz.EMPTY;function oDe(e){return e instanceof bz||e&&"closed"in e&&Ol(e.remove)&&Ol(e.add)&&Ol(e.unsubscribe)}function IEe(e){Ol(e)?e():e.unsubscribe()}var $8e=void 0;function sDe(e){(function(n,o){for(var i=[],c=2;c<arguments.length;c++)i[c-2]=arguments[c];setTimeout.apply(void 0,RS([n,o],Xy(i)))})((function(){throw e}))}function N3(){}function kX(e){e()}var eye=(function(e){function n(o){var i=e.call(this)||this;return i.isStopped=!1,o?(i.destination=o,oDe(o)&&o.add(i)):i.destination=z8e,i}return Vb(n,e),n.create=function(o,i,c){return new tQ(o,i,c)},n.prototype.next=function(o){this.isStopped||this._next(o)},n.prototype.error=function(o){this.isStopped||(this.isStopped=!0,this._error(o))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(o){this.destination.next(o)},n.prototype._error=function(o){try{this.destination.error(o)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n})(bz),U8e=(function(){function e(n){this.partialObserver=n}return e.prototype.next=function(n){var o=this.partialObserver;if(o.next)try{o.next(n)}catch(i){UY(i)}},e.prototype.error=function(n){var o=this.partialObserver;if(o.error)try{o.error(n)}catch(i){UY(i)}else UY(n)},e.prototype.complete=function(){var n=this.partialObserver;if(n.complete)try{n.complete()}catch(o){UY(o)}},e})(),tQ=(function(e){function n(o,i,c){var d,p=e.call(this)||this;return d=Ol(o)||!o?{next:o??void 0,error:i??void 0,complete:c??void 0}:o,p.destination=new U8e(d),p}return Vb(n,e),n})(eye);function UY(e){sDe(e)}var z8e={closed:!0,next:N3,error:function(e){throw e},complete:N3},tye=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Gee(e){return e}function CO(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return rDe(e)}function rDe(e){return e.length===0?Gee:e.length===1?e[0]:function(n){return e.reduce((function(o,i){return i(o)}),n)}}var Cu=(function(){function e(n){n&&(this._subscribe=n)}return e.prototype.lift=function(n){var o=new e;return o.source=this,o.operator=n,o},e.prototype.subscribe=function(n,o,i){var c,d=this,p=(c=n)&&c instanceof eye||(function(v){return v&&Ol(v.next)&&Ol(v.error)&&Ol(v.complete)})(c)&&oDe(c)?n:new tQ(n,o,i);return kX((function(){var v=d,S=v.operator,T=v.source;p.add(S?S.call(p,T):T?d._subscribe(p):d._trySubscribe(p))})),p},e.prototype._trySubscribe=function(n){try{return this._subscribe(n)}catch(o){n.error(o)}},e.prototype.forEach=function(n,o){var i=this;return new(o=REe(o))((function(c,d){var p=new tQ({next:function(v){try{n(v)}catch(S){d(S),p.unsubscribe()}},error:d,complete:c});i.subscribe(p)}))},e.prototype._subscribe=function(n){var o;return(o=this.source)===null||o===void 0?void 0:o.subscribe(n)},e.prototype[tye]=function(){return this},e.prototype.pipe=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return rDe(n)(this)},e.prototype.toPromise=function(n){var o=this;return new(n=REe(n))((function(i,c){var d;o.subscribe((function(p){return d=p}),(function(p){return c(p)}),(function(){return i(d)}))}))},e.create=function(n){return new e(n)},e})();function REe(e){var n;return(n=e??$8e)!==null&&n!==void 0?n:Promise}function lh(e){return function(n){if((function(o){return Ol(o==null?void 0:o.lift)})(n))return n.lift((function(o){try{return e(o,this)}catch(i){this.error(i)}}));throw new TypeError("Unable to lift unknown Observable type")}}function Rd(e,n,o,i,c){return new j8e(e,n,o,i,c)}var dpe,j8e=(function(e){function n(o,i,c,d,p,v){var S=e.call(this,o)||this;return S.onFinalize=p,S.shouldUnsubscribe=v,S._next=i?function(T){try{i(T)}catch(x){o.error(x)}}:e.prototype._next,S._error=d?function(T){try{d(T)}catch(x){o.error(x)}finally{this.unsubscribe()}}:e.prototype._error,S._complete=c?function(){try{c()}catch(T){o.error(T)}finally{this.unsubscribe()}}:e.prototype._complete,S}return Vb(n,e),n.prototype.unsubscribe=function(){var o;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var i=this.closed;e.prototype.unsubscribe.call(this),!i&&((o=this.onFinalize)===null||o===void 0||o.call(this))}},n})(eye),W8e=vz((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),qy=(function(e){function n(){var o=e.call(this)||this;return o.closed=!1,o.currentObservers=null,o.observers=[],o.isStopped=!1,o.hasError=!1,o.thrownError=null,o}return Vb(n,e),n.prototype.lift=function(o){var i=new kEe(this,this);return i.operator=o,i},n.prototype._throwIfClosed=function(){if(this.closed)throw new W8e},n.prototype.next=function(o){var i=this;kX((function(){var c,d;if(i._throwIfClosed(),!i.isStopped){i.currentObservers||(i.currentObservers=Array.from(i.observers));try{for(var p=D6(i.currentObservers),v=p.next();!v.done;v=p.next())v.value.next(o)}catch(S){c={error:S}}finally{try{v&&!v.done&&(d=p.return)&&d.call(p)}finally{if(c)throw c.error}}}}))},n.prototype.error=function(o){var i=this;kX((function(){if(i._throwIfClosed(),!i.isStopped){i.hasError=i.isStopped=!0,i.thrownError=o;for(var c=i.observers;c.length;)c.shift().error(o)}}))},n.prototype.complete=function(){var o=this;kX((function(){if(o._throwIfClosed(),!o.isStopped){o.isStopped=!0;for(var i=o.observers;i.length;)i.shift().complete()}}))},n.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(n.prototype,"observed",{get:function(){var o;return((o=this.observers)===null||o===void 0?void 0:o.length)>0},enumerable:!1,configurable:!0}),n.prototype._trySubscribe=function(o){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,o)},n.prototype._subscribe=function(o){return this._throwIfClosed(),this._checkFinalizedStatuses(o),this._innerSubscribe(o)},n.prototype._innerSubscribe=function(o){var i=this,c=this,d=c.hasError,p=c.isStopped,v=c.observers;return d||p?nDe:(this.currentObservers=null,v.push(o),new bz((function(){i.currentObservers=null,eQ(v,o)})))},n.prototype._checkFinalizedStatuses=function(o){var i=this,c=i.hasError,d=i.thrownError,p=i.isStopped;c?o.error(d):p&&o.complete()},n.prototype.asObservable=function(){var o=new Cu;return o.source=this,o},n.create=function(o,i){return new kEe(o,i)},n})(Cu),kEe=(function(e){function n(o,i){var c=e.call(this)||this;return c.destination=o,c.source=i,c}return Vb(n,e),n.prototype.next=function(o){var i,c;(c=(i=this.destination)===null||i===void 0?void 0:i.next)===null||c===void 0||c.call(i,o)},n.prototype.error=function(o){var i,c;(c=(i=this.destination)===null||i===void 0?void 0:i.error)===null||c===void 0||c.call(i,o)},n.prototype.complete=function(){var o,i;(i=(o=this.destination)===null||o===void 0?void 0:o.complete)===null||i===void 0||i.call(o)},n.prototype._subscribe=function(o){var i,c;return(c=(i=this.source)===null||i===void 0?void 0:i.subscribe(o))!==null&&c!==void 0?c:nDe},n})(qy),G8e=(function(e){function n(o){var i=e.call(this)||this;return i._value=o,i}return Vb(n,e),Object.defineProperty(n.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),n.prototype._subscribe=function(o){var i=e.prototype._subscribe.call(this,o);return!i.closed&&o.next(this._value),i},n.prototype.getValue=function(){var o=this,i=o.hasError,c=o.thrownError,d=o._value;if(i)throw c;return this._throwIfClosed(),d},n.prototype.next=function(o){e.prototype.next.call(this,this._value=o)},n})(qy),q8e=function(){return Date.now()},Z8e=(function(e){function n(o,i){return e.call(this)||this}return Vb(n,e),n.prototype.schedule=function(o,i){return this},n})(bz),nye=(function(e){function n(o,i){var c=e.call(this,o,i)||this;return c.scheduler=o,c.work=i,c.pending=!1,c}return Vb(n,e),n.prototype.schedule=function(o,i){var c;if(i===void 0&&(i=0),this.closed)return this;this.state=o;var d=this.id,p=this.scheduler;return d!=null&&(this.id=this.recycleAsyncId(p,d,i)),this.pending=!0,this.delay=i,this.id=(c=this.id)!==null&&c!==void 0?c:this.requestAsyncId(p,this.id,i),this},n.prototype.requestAsyncId=function(o,i,c){return c===void 0&&(c=0),(function(d,p){for(var v=[],S=2;S<arguments.length;S++)v[S-2]=arguments[S];return setInterval.apply(void 0,RS([d,p],Xy(v)))})(o.flush.bind(o,this),c)},n.prototype.recycleAsyncId=function(o,i,c){if(c===void 0&&(c=0),c!=null&&this.delay===c&&this.pending===!1)return i;i!=null&&(function(d){clearInterval(d)})(i)},n.prototype.execute=function(o,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var c=this._execute(o,i);if(c)return c;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n.prototype._execute=function(o,i){var c,d=!1;try{this.work(o)}catch(p){d=!0,c=p||new Error("Scheduled action threw falsy error")}if(d)return this.unsubscribe(),c},n.prototype.unsubscribe=function(){if(!this.closed){var o=this.id,i=this.scheduler,c=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,eQ(c,this),o!=null&&(this.id=this.recycleAsyncId(i,o,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},n})(Z8e),K8e=1,vge={};function iDe(e){return e in vge&&(delete vge[e],!0)}var Y8e=function(e){var n=K8e++;return vge[n]=!0,dpe||(dpe=Promise.resolve()),dpe.then((function(){return iDe(n)&&e()})),n},X8e=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Y8e.apply(void 0,RS([],Xy(e)))},J8e=function(e){return(function(n){iDe(n)})(e)},Q8e=(function(e){function n(o,i){var c=e.call(this,o,i)||this;return c.scheduler=o,c.work=i,c}return Vb(n,e),n.prototype.requestAsyncId=function(o,i,c){return c===void 0&&(c=0),c!==null&&c>0?e.prototype.requestAsyncId.call(this,o,i,c):(o.actions.push(this),o._scheduled||(o._scheduled=X8e(o.flush.bind(o,void 0))))},n.prototype.recycleAsyncId=function(o,i,c){var d;if(c===void 0&&(c=0),c!=null?c>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,o,i,c);var p=o.actions;i!=null&&((d=p[p.length-1])===null||d===void 0?void 0:d.id)!==i&&(J8e(i),o._scheduled===i&&(o._scheduled=void 0))},n})(nye),DEe=(function(){function e(n,o){o===void 0&&(o=e.now),this.schedulerActionCtor=n,this.now=o}return e.prototype.schedule=function(n,o,i){return o===void 0&&(o=0),new this.schedulerActionCtor(this,n).schedule(i,o)},e.now=q8e,e})(),oye=(function(e){function n(o,i){i===void 0&&(i=DEe.now);var c=e.call(this,o,i)||this;return c.actions=[],c._active=!1,c}return Vb(n,e),n.prototype.flush=function(o){var i=this.actions;if(this._active)i.push(o);else{var c;this._active=!0;do if(c=o.execute(o.state,o.delay))break;while(o=i.shift());if(this._active=!1,c){for(;o=i.shift();)o.unsubscribe();throw c}}},n})(DEe),sA=new((function(e){function n(){return e!==null&&e.apply(this,arguments)||this}return Vb(n,e),n.prototype.flush=function(o){this._active=!0;var i=this._scheduled;this._scheduled=void 0;var c,d=this.actions;o=o||d.shift();do if(c=o.execute(o.state,o.delay))break;while((o=d[0])&&o.id===i&&d.shift());if(this._active=!1,c){for(;(o=d[0])&&o.id===i&&d.shift();)o.unsubscribe();throw c}},n})(oye))(Q8e),Dv=new oye(nye),e7e=Dv,t7e=(function(e){function n(o,i){var c=e.call(this,o,i)||this;return c.scheduler=o,c.work=i,c}return Vb(n,e),n.prototype.schedule=function(o,i){return i===void 0&&(i=0),i>0?e.prototype.schedule.call(this,o,i):(this.delay=i,this.state=o,this.scheduler.flush(this),this)},n.prototype.execute=function(o,i){return i>0||this.closed?e.prototype.execute.call(this,o,i):this._execute(o,i)},n.prototype.requestAsyncId=function(o,i,c){return c===void 0&&(c=0),c!=null&&c>0||c==null&&this.delay>0?e.prototype.requestAsyncId.call(this,o,i,c):(o.flush(this),0)},n})(nye),MEe=new((function(e){function n(){return e!==null&&e.apply(this,arguments)||this}return Vb(n,e),n})(oye))(t7e),Oo=new Cu((function(e){return e.complete()}));function aDe(e){return e&&Ol(e.schedule)}function sye(e){return e[e.length-1]}function lDe(e){return Ol(sye(e))?e.pop():void 0}function yz(e){return aDe(sye(e))?e.pop():void 0}var rye=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function cDe(e){return Ol(e==null?void 0:e.then)}function uDe(e){return Ol(e[tye])}function dDe(e){return Symbol.asyncIterator&&Ol(e==null?void 0:e[Symbol.asyncIterator])}function hDe(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var PEe,fDe=typeof Symbol=="function"&&Symbol.iterator?Symbol.iterator:"@@iterator";function pDe(e){return Ol(e==null?void 0:e[fDe])}function mDe(e){return(function(n,o,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,d=i.apply(n,o||[]),p=[];return c={},v("next"),v("throw"),v("return"),c[Symbol.asyncIterator]=function(){return this},c;function v(B){d[B]&&(c[B]=function(U){return new Promise((function(j,W){p.push([B,U,j,W])>1||S(B,U)}))})}function S(B,U){try{(function(j){j.value instanceof zL?Promise.resolve(j.value.v).then(T,x):P(p[0][2],j)})(d[B](U))}catch(j){P(p[0][3],j)}}function T(B){S("next",B)}function x(B){S("throw",B)}function P(B,U){B(U),p.shift(),p.length&&S(p[0][0],p[0][1])}})(this,arguments,(function(){var n,o,i;return tDe(this,(function(c){switch(c.label){case 0:n=e.getReader(),c.label=1;case 1:c.trys.push([1,,9,10]),c.label=2;case 2:return[4,zL(n.read())];case 3:return o=c.sent(),i=o.value,o.done?[4,zL(void 0)]:[3,5];case 4:return[2,c.sent()];case 5:return[4,zL(i)];case 6:return[4,c.sent()];case 7:return c.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}}))}))}function gDe(e){return Ol(e==null?void 0:e.getReader)}function Yf(e){if(e instanceof Cu)return e;if(e!=null){if(uDe(e))return c=e,new Cu((function(d){var p=c[tye]();if(Ol(p.subscribe))return p.subscribe(d);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(rye(e))return i=e,new Cu((function(d){for(var p=0;p<i.length&&!d.closed;p++)d.next(i[p]);d.complete()}));if(cDe(e))return o=e,new Cu((function(d){o.then((function(p){d.closed||(d.next(p),d.complete())}),(function(p){return d.error(p)})).then(null,sDe)}));if(dDe(e))return NEe(e);if(pDe(e))return n=e,new Cu((function(d){var p,v;try{for(var S=D6(n),T=S.next();!T.done;T=S.next()){var x=T.value;if(d.next(x),d.closed)return}}catch(P){p={error:P}}finally{try{T&&!T.done&&(v=S.return)&&v.call(S)}finally{if(p)throw p.error}}d.complete()}));if(gDe(e))return NEe(mDe(e))}var n,o,i,c;throw hDe(e)}function NEe(e){return new Cu((function(n){(function(o,i){var c,d,p,v;return(function(S,T,x,P){return new(x||(x=Promise))((function(B,U){function j(re){try{Z(P.next(re))}catch(le){U(le)}}function W(re){try{Z(P.throw(re))}catch(le){U(le)}}function Z(re){var le;re.done?B(re.value):(le=re.value,le instanceof x?le:new x((function(ie){ie(le)}))).then(j,W)}Z((P=P.apply(S,[])).next())}))})(this,0,void 0,(function(){var S,T;return tDe(this,(function(x){switch(x.label){case 0:x.trys.push([0,5,6,11]),c=(function(P){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var B,U=P[Symbol.asyncIterator];return U?U.call(P):(P=D6(P),B={},j("next"),j("throw"),j("return"),B[Symbol.asyncIterator]=function(){return this},B);function j(W){B[W]=P[W]&&function(Z){return new Promise((function(re,le){(function(ie,be,Ce,Ae){Promise.resolve(Ae).then((function(F){ie({value:F,done:Ce})}),be)})(re,le,(Z=P[W](Z)).done,Z.value)}))}}})(o),x.label=1;case 1:return[4,c.next()];case 2:if((d=x.sent()).done)return[3,4];if(S=d.value,i.next(S),i.closed)return[2];x.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return T=x.sent(),p={error:T},[3,11];case 6:return x.trys.push([6,,9,10]),d&&!d.done&&(v=c.return)?[4,v.call(c)]:[3,8];case 7:x.sent(),x.label=8;case 8:return[3,10];case 9:if(p)throw p.error;return[7];case 10:return[7];case 11:return i.complete(),[2]}}))}))})(e,n).catch((function(o){return n.error(o)}))}))}function pO(e,n,o,i,c){i===void 0&&(i=0),c===void 0&&(c=!1);var d=n.schedule((function(){o(),c?e.add(this.schedule(null,i)):this.unsubscribe()}),i);if(e.add(d),!c)return d}function ed(e,n){return n===void 0&&(n=0),lh((function(o,i){o.subscribe(Rd(i,(function(c){return pO(i,e,(function(){return i.next(c)}),n)}),(function(){return pO(i,e,(function(){return i.complete()}),n)}),(function(c){return pO(i,e,(function(){return i.error(c)}),n)})))}))}function bge(e,n){return n===void 0&&(n=0),lh((function(o,i){i.add(e.schedule((function(){return o.subscribe(i)}),n))}))}function LEe(e,n){if(!e)throw new Error("Iterable cannot be null");return new Cu((function(o){pO(o,n,(function(){var i=e[Symbol.asyncIterator]();pO(o,n,(function(){i.next().then((function(c){c.done?o.complete():o.next(c.value)}))}),0,!0)}))}))}function eo(e,n){return n?(function(o,i){if(o!=null){if(uDe(o))return(function(c,d){return Yf(c).pipe(bge(d),ed(d))})(o,i);if(rye(o))return(function(c,d){return new Cu((function(p){var v=0;return d.schedule((function(){v===c.length?p.complete():(p.next(c[v++]),p.closed||this.schedule())}))}))})(o,i);if(cDe(o))return(function(c,d){return Yf(c).pipe(bge(d),ed(d))})(o,i);if(dDe(o))return LEe(o,i);if(pDe(o))return(function(c,d){return new Cu((function(p){var v;return pO(p,d,(function(){v=c[fDe](),pO(p,d,(function(){var S,T,x;try{T=(S=v.next()).value,x=S.done}catch(P){return void p.error(P)}x?p.complete():p.next(T)}),0,!0)})),function(){return Ol(v==null?void 0:v.return)&&v.return()}}))})(o,i);if(gDe(o))return(function(c,d){return LEe(mDe(c),d)})(o,i)}throw hDe(o)})(e,n):Yf(e)}function Ua(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return eo(e,yz(e))}function EO(e,n){var o=Ol(e)?e:function(){return e};return new Cu((function(i){return i.error(o())}))}(function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"})(PEe||(PEe={}));var hpe=(function(){function e(n,o,i){this.kind=n,this.value=o,this.error=i,this.hasValue=n==="N"}return e.prototype.observe=function(n){return vDe(this,n)},e.prototype.do=function(n,o,i){var c=this,d=c.kind,p=c.value,v=c.error;return d==="N"?n==null?void 0:n(p):d==="E"?o==null?void 0:o(v):i==null?void 0:i()},e.prototype.accept=function(n,o,i){var c;return Ol((c=n)===null||c===void 0?void 0:c.next)?this.observe(n):this.do(n,o,i)},e.prototype.toObservable=function(){var n=this,o=n.kind,i=n.value,c=n.error,d=o==="N"?Ua(i):o==="E"?EO((function(){return c})):o==="C"?Oo:0;if(!d)throw new TypeError("Unexpected notification kind "+o);return d},e.createNext=function(n){return new e("N",n)},e.createError=function(n){return new e("E",void 0,n)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e})();function vDe(e,n){var o,i,c,d=e,p=d.kind,v=d.value,S=d.error;if(typeof p!="string")throw new TypeError('Invalid notification, missing "kind"');p==="N"?(o=n.next)===null||o===void 0||o.call(n,v):p==="E"?(i=n.error)===null||i===void 0||i.call(n,S):(c=n.complete)===null||c===void 0||c.call(n)}var bDe=vz((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));function n6(e,n){return new Promise((function(o,i){var c,d=!1;e.subscribe({next:function(p){c=p,d=!0},error:i,complete:function(){d?o(c):i(new bDe)}})}))}function vc(e,n){return new Promise((function(o,i){var c=new tQ({next:function(d){o(d),c.unsubscribe()},error:i,complete:function(){i(new bDe)}});e.subscribe(c)}))}function yDe(e){return e instanceof Date&&!isNaN(e)}var n7e=vz((function(e){return function(n){n===void 0&&(n=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n}}));function iye(e,n){var o=yDe(e)?{first:e}:typeof e=="number"?{each:e}:e,i=o.first,c=o.each,d=o.with,p=d===void 0?o7e:d,v=o.scheduler,S=v===void 0?Dv:v,T=o.meta,x=T===void 0?null:T;if(i==null&&c==null)throw new TypeError("No timeout provided.");return lh((function(P,B){var U,j,W=null,Z=0,re=function(le){j=pO(B,S,(function(){try{U.unsubscribe(),Yf(p({meta:x,lastValue:W,seen:Z})).subscribe(B)}catch(ie){B.error(ie)}}),le)};U=P.subscribe(Rd(B,(function(le){j==null||j.unsubscribe(),Z++,B.next(W=le),c>0&&re(c)}),void 0,void 0,(function(){j!=null&&j.closed||j==null||j.unsubscribe(),W=null}))),!Z&&re(i!=null?typeof i=="number"?i:+i-S.now():c)}))}function o7e(e){throw new n7e(e)}function xo(e,n){return lh((function(o,i){var c=0;o.subscribe(Rd(i,(function(d){i.next(e.call(n,d,c++))})))}))}var s7e=Array.isArray;function aye(e){return xo((function(n){return(function(o,i){return s7e(i)?o.apply(void 0,RS([],Xy(i))):o(i)})(e,n)}))}var r7e=Array.isArray,i7e=Object.getPrototypeOf,a7e=Object.prototype,l7e=Object.keys;function SDe(e,n,o,i,c,d,p,v){var S=[],T=0,x=0,P=!1,B=function(){!P||S.length||T||n.complete()},U=function(W){return T<i?j(W):S.push(W)},j=function(W){d&&n.next(W),T++;var Z=!1;Yf(o(W,x++)).subscribe(Rd(n,(function(re){d?U(re):n.next(re)}),(function(){Z=!0}),void 0,(function(){if(Z)try{T--;for(var re=function(){var le=S.shift();p||j(le)};S.length&&T<i;)re();B()}catch(le){n.error(le)}})))};return e.subscribe(Rd(n,U,(function(){P=!0,B()}))),function(){}}function rn(e,n,o){return o===void 0&&(o=1/0),Ol(n)?rn((function(i,c){return xo((function(d,p){return n(i,d,c,p)}))(Yf(e(i,c)))}),o):(typeof n=="number"&&(o=n),lh((function(i,c){return SDe(i,c,e,o)})))}function CDe(e){return e===void 0&&(e=1/0),rn(Gee,e)}function EDe(){return CDe(1)}function M6(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return EDe()(eo(e,yz(e)))}function BEe(e){return new Cu((function(n){Yf(e()).subscribe(n)}))}function lye(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=lDe(e),i=(function(v){if(v.length===1){var S=v[0];if(r7e(S))return{args:S,keys:null};if((x=S)&&typeof x=="object"&&i7e(x)===a7e){var T=l7e(S);return{args:T.map((function(P){return S[P]})),keys:T}}}var x;return{args:v,keys:null}})(e),c=i.args,d=i.keys,p=new Cu((function(v){var S=c.length;if(S)for(var T=new Array(S),x=S,P=S,B=function(j){var W=!1;Yf(c[j]).subscribe(Rd(v,(function(Z){W||(W=!0,P--),T[j]=Z}),(function(){return x--}),void 0,(function(){x&&W||(P||v.next(d?(function(Z,re){return Z.reduce((function(le,ie,be){return le[ie]=re[be],le}),{})})(d,T):T),v.complete())})))},U=0;U<S;U++)B(U);else v.complete()}));return o?p.pipe(aye(o)):p}var c7e=["addListener","removeListener"],u7e=["addEventListener","removeEventListener"],d7e=["on","off"];function ah(e,n,o,i){if(Ol(o)&&(i=o,o=void 0),i)return ah(e,n,o).pipe(aye(i));var c=Xy((function(v){return Ol(v.addEventListener)&&Ol(v.removeEventListener)})(e)?u7e.map((function(v){return function(S){return e[v](n,S,o)}})):(function(v){return Ol(v.addListener)&&Ol(v.removeListener)})(e)?c7e.map(VEe(e,n)):(function(v){return Ol(v.on)&&Ol(v.off)})(e)?d7e.map(VEe(e,n)):[],2),d=c[0],p=c[1];if(!d&&rye(e))return rn((function(v){return ah(v,n,o)}))(Yf(e));if(!d)throw new TypeError("Invalid event target");return new Cu((function(v){var S=function(){for(var T=[],x=0;x<arguments.length;x++)T[x]=arguments[x];return v.next(1<T.length?T:T[0])};return d(S),function(){return p(S)}}))}function VEe(e,n){return function(o){return function(i){return e[o](n,i)}}}function rA(e,n,o){return o?rA(e,n).pipe(aye(o)):new Cu((function(i){var c=function(){for(var p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];return i.next(p.length===1?p[0]:p)},d=e(c);return Ol(n)?function(){return n(c,d)}:void 0}))}function _u(e,n,o){e===void 0&&(e=0),o===void 0&&(o=e7e);var i=-1;return n!=null&&(aDe(n)?o=n:i=n),new Cu((function(c){var d=yDe(e)?+e-o.now():e;d<0&&(d=0);var p=0;return o.schedule((function(){c.closed||(c.next(p++),0<=i?this.schedule(void 0,i):c.complete())}),d)}))}function P6(e,n){return e===void 0&&(e=0),n===void 0&&(n=Dv),e<0&&(e=0),_u(e,e,n)}function Id(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=yz(e),i=(function(d){return typeof sye(d)=="number"?d.pop():1/0})(e),c=e;return c.length?c.length===1?Yf(c[0]):CDe(i)(eo(c,o)):Oo}var FEe=new Cu(N3),h7e=Array.isArray;function f7e(e,n){return function(o,i){return!e.call(n,o,i)}}function En(e,n){return lh((function(o,i){var c=0;o.subscribe(Rd(i,(function(d){return e.call(n,d,c++)&&i.next(d)})))}))}function Np(){for(var e,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return(n=(e=n).length===1&&h7e(e[0])?e[0]:e).length===1?Yf(n[0]):new Cu((function(i){return function(c){for(var d=[],p=function(S){d.push(Yf(i[S]).subscribe(Rd(c,(function(T){if(d){for(var x=0;x<d.length;x++)x!==S&&d[x].unsubscribe();d=null}c.next(T)}))))},v=0;d&&!c.closed&&v<i.length;v++)p(v)}})(n))}function xm(e){return lh((function(n,o){var i,c=null,d=!1;c=n.subscribe(Rd(o,void 0,void 0,(function(p){i=Yf(e(p,xm(e)(n))),c?(c.unsubscribe(),c=null,i.subscribe(o)):d=!0}))),d&&(c.unsubscribe(),c=null,i.subscribe(o))}))}function p7e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=yz(e);return lh((function(i,c){EDe()(eo(RS([i],Xy(e)),o)).subscribe(c)}))}function m7e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return p7e.apply(void 0,RS([],Xy(e)))}function Qr(e){return e<=0?function(){return Oo}:lh((function(n,o){var i=0;n.subscribe(Rd(o,(function(c){++i<=e&&(o.next(c),e<=i&&o.complete())})))}))}function Eg(){return lh((function(e,n){e.subscribe(Rd(n,N3))}))}function Lk(e){return xo((function(){return e}))}function wDe(e,n){return rn((function(o,i){return Yf(e(o,i)).pipe(Qr(1),Lk(o))}))}function L3(e,n){n===void 0&&(n=Dv);var o=_u(e,n);return wDe((function(){return o}))}function Pa(e,n,o){return o===void 0&&(o=1/0),Ol(n)?rn((function(){return e}),n,o):rn((function(){return e}),o)}function g7e(e,n){return lh((function(o,i,c){return function(d,p){var v=c,S=i,T=0;d.subscribe(Rd(p,(function(x){var P=T++;S=v?o(S,x,P):(v=!0,x),p.next(S)}),void 0))}})(e,n,arguments.length>=2))}function _De(e){return lh((function(n,o){var i=!1,c=0;n.subscribe(Rd(o,(function(d){return(i||(i=!e(d,c++)))&&o.next(d)})))}))}function Jy(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=yz(e);return lh((function(i,c){(o?M6(e,i,o):M6(e,i)).subscribe(c)}))}function Ei(e,n){return lh((function(o,i){var c=null,d=0,p=!1,v=function(){return p&&!c&&i.complete()};o.subscribe(Rd(i,(function(S){c==null||c.unsubscribe();var T=0,x=d++;Yf(e(S,x)).subscribe(c=Rd(i,(function(P){return i.next(n?n(S,P,x,T++):P)}),(function(){c=null,v()})))}),(function(){p=!0,v()})))}))}function Nh(e){return lh((function(n,o){Yf(e).subscribe(Rd(o,(function(){return o.complete()}),N3)),!o.closed&&n.subscribe(o)}))}function sk(e,n){return n===void 0&&(n=!1),lh((function(o,i){var c=0;o.subscribe(Rd(i,(function(d){var p=e(d,c++);(p||n)&&i.next(d),!p&&i.complete()})))}))}function $o(e,n,o){var i=Ol(e)||n||o?{next:e,error:n,complete:o}:e;return i?lh((function(c,d){var p;(p=i.subscribe)===null||p===void 0||p.call(i);var v=!0;c.subscribe(Rd(d,(function(S){var T;(T=i.next)===null||T===void 0||T.call(i,S),d.next(S)}),(function(){var S;v=!1,(S=i.complete)===null||S===void 0||S.call(i),d.complete()}),(function(S){var T;v=!1,(T=i.error)===null||T===void 0||T.call(i,S),d.error(S)}),(function(){var S,T;v&&((S=i.unsubscribe)===null||S===void 0||S.call(i)),(T=i.finalize)===null||T===void 0||T.call(i)})))})):Gee}function ts(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=lDe(e);return lh((function(i,c){for(var d=e.length,p=new Array(d),v=e.map((function(){return!1})),S=!1,T=function(P){Yf(e[P]).subscribe(Rd(c,(function(B){p[P]=B,S||v[P]||(v[P]=!0,(S=v.every(Gee))&&(v=null))}),N3))},x=0;x<d;x++)T(x);i.subscribe(Rd(c,(function(P){if(S){var B=RS([P],Xy(p));c.next(o?o.apply(void 0,RS([],Xy(B))):B)}})))}))}const Sz="ADD_CURRENT_USER_PARTICIPANT_ATTRIBUTE",Rp="UPDATE_CURRENT_USER_PARTICIPANT_ATTRIBUTE",qee="ADD_USER_PARTICIPANT_ATTRIBUTE",kS="UPDATE_USER_PARTICIPANT_ATTRIBUTE",cye="REMOVE_USER_PARTICIPANT_ATTRIBUTE",zx="UPDATE_WEBINAR_PARTICIPANT_ATTRIBUTE",ADe="REMOVE_WEBINAR_ATTENDEE_ATTRIBUTE";let Om=(function(e){return e.Failover="failover",e.OnHold="on hold",e.Promote="promote",e.Depromote="depromote",e.JoinBreakoutRoom="join breakout room",e.MoveToBreakoutRoom="move to breakout room",e.BackToMainSession="back to main session",e})({});const Z2="js_media.min.js";let fpe=(function(e){return e.CDN="CDN",e.Global="Global",e.CN="CN",e})({}),jL=(function(e){return e.Connected="Connected",e.Reconnecting="Reconnecting",e.Closed="Closed",e.Fail="Fail",e})({}),Lh=(function(e){return e.Initial="initial",e.Joined="joined",e.Closed="closed",e})({}),jx=(function(e){return e.AudioDecodeInWorklet="M:6;V:3",e.VideoWebRTCEnable="M:10;V:6",e.VideoHalfWebRTCEnable="M:11;V:7",e.WebGL2Render="M:20;V:8",e.WebGPURender="M:21;V:9",e.ZMKFromRWG="M:19;V:10",e})({}),df=(function(e){return e[e.NormalCase=-1]="NormalCase",e[e.NoHeartbeat=0]="NoHeartbeat",e[e.NoHeartbeatMChannel=1]="NoHeartbeatMChannel",e[e.NetworkChange=2]="NetworkChange",e[e.NotifyUiFailover=3]="NotifyUiFailover",e[e.InvalidParameters=4]="InvalidParameters",e[e.OnError=5]="OnError",e[e.OnErrorMChannel=6]="OnErrorMChannel",e[e.Disconnect=7]="Disconnect",e[e.DisconnectMChannel=8]="DisconnectMChannel",e[e.DisconnectXmpp=9]="DisconnectXmpp",e[e.RefreshPage=10]="RefreshPage",e[e.NotifyUIWMSCFailover=11]="NotifyUIWMSCFailover",e[e.NotifyUIWMSCWSSDisconnected=12]="NotifyUIWMSCWSSDisconnected",e[e.OnErrorXmppChannel=15]="OnErrorXmppChannel",e})({});const TDe="JOIN_MEETING_SUCCESS",Qu="JOIN_MEETING_FAILED",Rv="RECONNECTING_MEETING",Wx="LEAVING_MEETING",uye="MEETING_IN_WAITING_ROOM",dye="UPDATE_MEETING_ATTRIBUTE",xDe="SHARE_PRONOUN_TYPE_UPDATE",DX="MEETING_RLB_TP_READY_STATUS_CHANGE";var gS=(function(e){return e.ConnectionChange="connection-change",e.OnHoldChange="on-hold-change",e.UserAdd="user-added",e.UserUpdate="user-updated",e.UserRemove="user-removed",e.AttendeeUpdate="attendee-updated",e.MeetingAttributeUpdate="meeting-attribute-updated",e.PromoteAttendeeConsent="promote-attendee-consent",e.ActiveAppsUpdate="active-apps-updated",e.SharePronounTypeUpdate="share-pronoun-type-update",e})(gS||{});const v7e={JoinMeeting:{success:Sz,fail:[Qu]}},b7e={[gS.ConnectionChange]:[{event:TDe,payload:()=>({state:jL.Connected})},{event:Qu,payload:e=>({state:jL.Fail,...e})},{event:Rv,payload:e=>({state:jL.Reconnecting,...e})},{event:Wx,payload:e=>({state:jL.Closed,...e})}],[gS.OnHoldChange]:[{event:uye,payload:e=>({isOnHold:e})}],[gS.UserAdd]:[{event:Sz,payload:e=>[e]},{event:qee,payload:e=>e}],[gS.UserUpdate]:[{event:Rp,payload:e=>[e]},{event:kS,payload:e=>e}],[gS.UserRemove]:[{event:cye,payload:e=>e}],[gS.AttendeeUpdate]:[{event:zx,payload:e=>e},{event:ADe,payload:e=>e}],[gS.MeetingAttributeUpdate]:[{event:dye,payload:e=>"bNoHostTimeOut"in e?{isHostLost:e.bNoHostTimeOut}:null}],[gS.PromoteAttendeeConsent]:[{event:"MEETING_WEBINAR_PROMOTE_CONSENT_REQ",payload:({req_id:e,sender_id:n})=>({reqId:e,senderId:n})}],[gS.ActiveAppsUpdate]:[{event:"ACTIVE_APPS_UPDATE",payload:()=>{}}],[gS.SharePronounTypeUpdate]:[{event:xDe,payload:e=>e}]},o6="LIVE_TRANSCRIPTION_RECEIVE_MESSAGE",H0="LIVE_TRANSCRIPTION_CAPTION_STATUS_CHANGE_RESPONSE",ODe="LIVE_TRANSCRIPTION_STATUS_CHANGE",hye="LIVE_TRANSCRIPTION_HOST_DISABLE_CHANGE",fye="LIVE_TRANSCRIPTION_LANGUAGE_LOCK_CHANGE",y7e={"caption-message":[{event:o6,payload:e=>e}],"caption-status":[{event:H0,payload:e=>e}],"caption-enable":[{event:ODe,payload:e=>e}],"caption-host-disable":[{event:hye,payload:e=>e}],"caption-language-lock":[{event:fye,payload:e=>e}]},Ck="CHAT_RECEIVE_MESSAGE_EVENTS",l3="CHAT_PRIVILEGE_CHANGE",IDe="CHAT_MESSAGE_RESPONSE",nQ="CHAT_DELETE_MESSAGE_REPONSE",Bk="CHAT_FILE_CHAT_UPLOAD_PROGRESS",MX="CHAT_FILE_CHAT_DOWNLOAD_PROGRESS";let v5=(function(e){return e.ChatOnMessage="chat-on-message",e.ChatPrivilegeChange="chat-privilege-change",e.ChatDeleteMessage="chat-delete-message",e.ChatFileUploadProgress="chat-file-upload-progress",e.ChatFileDownloadProgress="chat-file-download-progress",e})({});const S7e={[v5.ChatOnMessage]:[{event:Ck,payload:e=>e}],[v5.ChatPrivilegeChange]:[{event:l3,payload:e=>e}],[v5.ChatDeleteMessage]:[{event:nQ,payload:e=>e}],[v5.ChatFileUploadProgress]:[{event:Bk,payload:e=>e}],[v5.ChatFileDownloadProgress]:[{event:MX,payload:e=>e}]},yge="COMMAND_RECEIVE_MESSAGE_EVENTS",pye="COMMAND_STATUS_EVENTS";let HEe=(function(e){return e.CommandChannelStatus="command-channel-status",e.CommandChannelMessage="command-channel-message",e})({});const C7e={[HEe.CommandChannelStatus]:[{event:pye,payload:e=>e}],[HEe.CommandChannelMessage]:[{event:yge,payload:e=>e}]};let CS=(function(e){return e.Recording="Recording",e.Paused="Paused",e.Stopped="Stopped",e.Ask="Ask",e.Accept="Accept",e.Decline="Decline",e})({}),Td=(function(e){return e[e.None=0]="None",e[e.Init=1]="Init",e[e.Start=2]="Start",e[e.Pause=3]="Pause",e[e.Stop=4]="Stop",e})({}),N6=(function(e){return e[e.Stop=0]="Stop",e[e.Start=1]="Start",e[e.Pause=2]="Pause",e})({}),Tv=(function(e){return e[e.None=0]="None",e[e.Deny=1]="Deny",e[e.Allow=2]="Allow",e})({}),E7e=(function(e){return e[e.None=0]="None",e[e.DenyAllRequest=1]="DenyAllRequest",e[e.AllowAllRequest=2]="AllowAllRequest",e})({});const s6="CLOUD_RECORDING_STATUS_CHANGE",oQ="CLOUD_RECORDING_ISO_STATUS_CHANGE",sQ="LOCAL_RECORDING_CHANGE",hE="LOCAL_RECORDING_PERMISSION_CHANGE",RDe="RECORDING_FOR_IQ_STATUS_CHANGE",kDe="RECORDING_FOR_IQ_OPERATION_CHANGE";let _2=(function(e){return e.RecordingChange="recording-change",e.IndividualRecordingChange="individual-recording-change",e.LocalRecordingChange="local-recording-change",e.LocalRecordingPermissionChange="local-recording-permission-change",e.MediaCaptureStatusChange="media-capture-status-change",e.MediaCapturePermissionChange="media-capture-permission-change",e.RecordingIqChange="recording-iq-change",e})({});const w7e={[_2.RecordingChange]:[{event:s6,payload:e=>{const{cmrServerStatus:n}=e;return n===Td.Start?CS.Recording:n===Td.Pause?CS.Paused:CS.Stopped}}],[_2.IndividualRecordingChange]:[{event:oQ,payload:e=>e}],[_2.LocalRecordingChange]:[{event:sQ,payload:e=>e}],[_2.LocalRecordingPermissionChange]:[{event:hE,payload:e=>e}],[_2.MediaCaptureStatusChange]:[{event:sQ,payload:e=>e}],[_2.MediaCapturePermissionChange]:[{event:hE,payload:e=>e}],[_2.RecordingIqChange]:[{event:RDe,payload:e=>e}]},DDe="RECEIVE_VIDEO_ACTIVE_INDICATION",MDe="RECEIVE_VIDEO_MUTE_INDICATION",PDe="ASK_FOR_START_VIDEO_CONSENT",NDe="RECEIVE_VIDEO_DIMENSION_CHANGE",LDe="CAPTURED_VIDEO_DIMENSION_CHANGE",rQ="CAN_NOT_DETECT_CAMERA",iQ="CAN_NOT_FIND_CAMERA",aQ="VIDEO_USER_FORBIDDEN_CAPTURE",lQ="VIDEO_CAMERA_IS_TAKEN",mye="VIDEO_BACKGROUND_FAILED",gye="VIDEO_ESTABLISH_STREAM_ERROR",vye="VIDEO_CAPTURE_START_SUCCESS",c3="VIDEO_CAPTURE_STOP_RESULT",u3="VIDEO_SPOTLIGHT_CHANGE",BDe="VIDEO_FOLLOW_HOST_ORDER_CHANGE",VDe="VIDEO_HOST_DRAG_LAYOUT_CHANGE",FDe="VIDEO_NEW_USER_START",PX="VIDEO_OLD_USER_STOP",cQ="VIDEO_VIRTUAL_BACKGROUND_PRELOAD_READY",Sge="VIDEO_VIRTUAL_BACKGROUND_SETTING_SUCCESS",Cge="VIDEO_STATISTIC_DATA",Ege="VIDEO_CELL_DETAILED_DATA",wge="VIDEO_NETWORK_QUALITY_CHANGE",HDe="VIDEO_FAR_END_CAMERA_CONTROL_REQUEST",_ge="VIDEO_FAR_END_CAMERA_CONTROL_RESPONSE",uQ="VIDEO_FAR_END_CAMERA_IN_CONTROL_CHANGE",$De="VIDEO_FAR_END_CAMERA_CAPABILITY_CHANGE",Age="VIDEO_MASK_SETTING_SUCCESS",UDe="VIDEO_CAPTURE_SDK_SUCCESS",zDe="VIDEO_PREFETCH_VIDEO_FRAME_CALLBACK",jDe="VIDEO_CURRENT_USER_SSRC",WDe="VIDEO_RENDER_ASPECT_RATIO_CHANGE",dQ="VIDEO_LEADERSHIP_USER_CHANGE",GDe="VIDEO_SCREENSHOT_TAKEN_NOTIFICATION",$Ee={startCaptureVideo:{success:vye,fail:[rQ,iQ,aQ,gye,lQ,mye]},switchCameraVideo:{success:UDe,fail:[rQ,iQ,aQ,lQ]}};let $f=(function(e){return e.VideoActiveChange="video-active-change",e.PeerVideoStateChange="peer-video-state-change",e.VideoSpotlightChange="video-spotlight-change",e.VideoMutedChange="video-muted-change",e.VideoCapturingChange="video-capturing-change",e.AskForStartVideoConsent="ask-for-start-video-consent",e.VideoDimensionChange="video-dimension-change",e.VideoFollowHostOrder="video-follow-host-order-change",e.VideoHostLayoutChange="video-host-layout-change",e.VideoVBPreloadChange="video-virtual-background-preload-change",e.VideoStatisticDataChange="video-statistic-data-change",e.VideoDetailedDataChange="video-detailed-data-change",e.VideoAspectRatioChange="video-aspect-ratio-change",e.NetworkQualityChange="network-quality-change",e.FarEndCameraRequestControl="far-end-camera-request-control",e.FarEndCameraResponseControl="far-end-camera-response-control",e.FarEndCameraInControlChange="far-end-camera-in-control-change",e.FarEndCameraCapabilityChange="far-end-camera-capability-change",e.VideoScreenshotTaken="video-screenshot-taken",e})({});const _7e={[$f.VideoActiveChange]:[{event:DDe,payload:e=>({state:e.bVideoOn?SEe.Active:SEe.Inactive,userId:e.userId})}],[$f.VideoCapturingChange]:[{event:vye,payload:()=>({state:spe.Started})},{event:c3,payload:e=>({state:e!=null&&e.failed?spe.Failed:spe.Stopped})}],[$f.VideoMutedChange]:[{event:MDe,payload:e=>({state:e.isVideoMuted?$Y.Muted:$Y.Unmuted,userId:e.id})}],[$f.AskForStartVideoConsent]:[{event:PDe,payload:e=>({state:e.isVideoMuted?$Y.Muted:$Y.Unmuted,userId:e.id})}],[$f.VideoSpotlightChange]:[{event:u3,payload:e=>({spotlightList:e.spotlightList&&e.spotlightList.map((n=>({userId:n})))})},{event:dQ,payload:e=>{var n;return{spotlightList:(n=e.spotlightList)===null||n===void 0?void 0:n.map((o=>({userId:o})))}}}],[$f.VideoDimensionChange]:[{event:NDe,payload:e=>({type:"received",width:e.width,height:e.height})},{event:LDe,payload:e=>({type:"captured",width:e.width,height:e.height})}],[$f.VideoFollowHostOrder]:[{event:BDe,payload:e=>({isFollowHostOrder:e.bOn})}],[$f.VideoHostLayoutChange]:[{event:VDe,payload:e=>Array.isArray(e.layout)?e.layout.map((n=>({userId:n}))):[]}],[$f.PeerVideoStateChange]:[{event:FDe,payload:e=>({action:"Start",...e})},{event:PX,payload:e=>({action:"Stop",...e})}],[$f.VideoVBPreloadChange]:[{event:cQ,payload:e=>({isReady:e})}],[$f.VideoStatisticDataChange]:[{event:Cge,payload:e=>{const{data:{rate:n,...o},...i}=e??{data:{}};return{data:{bitrate:n,...o},...i}}}],[$f.VideoDetailedDataChange]:[{event:Ege,payload:e=>e}],[$f.VideoAspectRatioChange]:[{event:WDe,payload:e=>e}],[$f.NetworkQualityChange]:[{event:wge,payload:e=>e}],[$f.FarEndCameraRequestControl]:[{event:HDe,payload:e=>e}],[$f.FarEndCameraResponseControl]:[{event:_ge,payload:e=>e}],[$f.FarEndCameraInControlChange]:[{event:uQ,payload:e=>e}],[$f.FarEndCameraCapabilityChange]:[{event:$De,payload:e=>e}],[$f.VideoScreenshotTaken]:[{event:GDe,payload:e=>e}]},qDe="AUDIO_ACTIVE_SPEAKER",NX="AUDIO_UNMUTE_CONSENT",WL="AUDIO_CURRENT_USER_JOIN_BY_VOIP",Tge="AUDIO_CURRENT_USER_JOIN_BY_PHONE",Zee="AUDIO_CURRENT_USER_LEAVE_AUDIO",bye="AUDIO_CURRENT_USER_MUTED",yye="AUDIO_CURRENT_USER_UNMUTED",ZDe="AUDIO_PARTICIPANT_AUDIO_UPDATE",KDe="AUDIO_DIALOUT_RESULT_CODE",YDe="AUDIO_DIALOUT_RESULT_SUCCESS",XDe="AUDIO_DIALOUT_RESULT_FAIL",JDe="AUDIO_DIALOUT_CANCEL_SUCCESS",QDe="DIALOUT_CANCEL_FAIL",eMe="AUDIO_MERGE_AUDIO_INDICATION",tMe="AUDIO_CAPTURE_FAILED",nMe="ESTABLISH_AUDIO_STREAM_ERROR",oMe="AUDIO_AUTO_PLAY_FAILED",UEe="INVALID_DEVICE_ID",sMe="AUDIO_ALLOW_TALK_CHANGE",B3="SHARE_AUDIO_STATE_CHANGE",xge="AUDIO_STATISTIC_DATA",rMe="AUDIO_CURRENT_USER_SSRC",Oge="AUDIO_SET_SPEAKER_RESULT",iMe="AUDIO_SHARE_SECONDARY_AUDIO_SUCCESS",aMe="AUDIO_CRC_CALL_OUT_RESULT_CODE",lMe="AUDIO_CRC_CALL_OUT_RESULT_SUCCESS",cMe="AUDIO_CRC_CALL_OUT_RESULT_FAIL",uMe="AUDIO_CURRENT_AUDIO_LEVEL_CHANGE";let cS=(function(e){return e.ActiveSpeaker="active-speaker",e.UnmuteAudioConsent="unmute-audio-consent",e.CurrentAudioChange="current-audio-change",e.CurrentAudioLevelChange="current-audio-level-change",e.DialoutStateChange="dialout-state-change",e.MergeAudio="merged-audio",e.AutoPlayFailed="auto-play-audio-failed",e.AllowTalkChange="allow-talk-change",e.ShareAudioChange="share-audio-change",e.AudioStatisticDataChange="audio-statistic-data-change",e.CrcCallOutStateChange="crc-call-out-state-change",e})({});const GL={JoinComputerAudio:{success:WL,fail:[tMe,nMe]},JoinAudioByCallMe:{success:YDe,fail:[XDe]},cancelDialOut:{success:JDe,fail:[QDe]},hangup:{success:Zee},crcCallOut:{success:lMe,fail:[cMe]}},A7e={[cS.ActiveSpeaker]:[{event:qDe,payload:e=>e}],[cS.UnmuteAudioConsent]:[{event:NX,payload:e=>({reason:e})}],[cS.CurrentAudioChange]:[{event:Tge,payload:()=>({action:m5.Join,type:Ji.Phone})},{event:WL,payload:()=>({action:m5.Join,type:Ji.Computer})},{event:Zee,payload:({source:e})=>({action:m5.Leave,source:e})},{event:bye,payload:({source:e})=>({action:m5.Muted,source:e})},{event:yye,payload:({source:e})=>({action:m5.Unmuted,source:e})}],[cS.DialoutStateChange]:[{event:KDe,payload:e=>e}],[cS.MergeAudio]:[{event:eMe,payload:e=>e}],[cS.AutoPlayFailed]:[{event:oMe,payload:()=>{}}],[cS.AllowTalkChange]:[{event:sMe,payload:e=>({enabled:e})}],[cS.ShareAudioChange]:[{event:B3,payload:e=>e}],[cS.AudioStatisticDataChange]:[{event:xge,payload:e=>{const{data:{rate:n,...o},...i}=e??{data:{}};return{data:{bitrate:n,...o},...i}}}],[cS.CrcCallOutStateChange]:[{event:aMe,payload:e=>e}],[cS.CurrentAudioLevelChange]:[{event:uMe,payload:e=>e}]},d3="SHARE_ACTIVE_INDICATION",dMe="SHARE_START_DESKTOP_SHARE_FAILED",hMe="SHARE_DIMENSION_CHANGE",hQ="SHARE_RECEIVED_DIMENSION_CHANGE",fMe="SHARE_VIDEO_STREAMS_END",pMe="SHARE_PASSIVE_STOP_SHARE",mMe="SHARE_PASSIVE_BO_STOP",Sye="SHARE_NEW_USER_ADD",Cye="SHARE_USER_REMOVE",gMe="SHARE_USER_PAUSED",vMe="SHARE_USER_RESUMED",fQ="SHARE_AUTO_CHANGE_SOURCE",pQ="SHARE_REMOTE_CONTROL_APPROVE",Ek="SHARE_GRAB_REMOTE_CONTROL_CHANGE",Ige="SHARE_REMOTE_CONTROL_CLIPBOARD_CHANGE",bMe="SHARE_REMOTE_CONTROL_SUCCESS",yMe="SHARE_REMOTE_CONTROL_FAILED",SMe="SHARE_PRIVILEGE_CHANGE",CMe="SHARE_READ_RECEIPT",Rge="SHARE_STATISTIC_DATA",EMe="SHARE_REMOTE_CONTROL_REQUEST",F2="SHARE_REMOTE_CONTROL_APP_STATUS",LX="SHARE_REMOTE_CONTROL_SESSION_STATUS",wMe="SHARE_REMOTE_CONTROL_APP_SCHEME",_Me="SHARE_SCREENSHOT_TAKEN_NOTIFICATION",kge="ANNOTATION_START_RESULT",Eye="ANNOTATION_PRIVILEGE_CHANGE",AMe="ANNOTATION_UNDO_STATUS",TMe="ANNOTATION_REDO_STATUS",xMe="ANNOTATION_DRAW_REQUEST";let Uf=(function(e){return e.ShareActiveChange="active-share-change",e.ShareDimensionChange="share-content-dimension-change",e.SharePassiveStop="passively-stop-share",e.SharePeerStateChange="peer-share-state-change",e.ShareContentChange="share-content-change",e.SharePrivilegeChange="share-privilege-change",e.ShareReadReceipt="share-can-see-screen",e.ShareStatisticDataChange="share-statistic-data-change",e.RemoteControlApprovedChange="remote-control-approved-change",e.RemoteControlInControlChange="remote-control-in-control-change",e.RemoteControlClipboardChange="remote-control-clipboard-change",e.RemoteControlRequestChange="remote-control-request-change",e.RemoteControlAppStatusChange="remote-control-app-status-change",e.RemoteControlControlledStatusChange="remote-control-controlled-status-change",e.ShareScreenshotTaken="share-content-screenshot-taken",e.AnnotationPrivilegeChange="annotation-privilege-change",e.AnnotationRedoStatus="annotation-redo-status",e.AnnotationUndoStatus="annotation-undo-status",e.AnnotationDrawRequest="annotation-viewer-draw-request",e})({});const T7e={[Uf.ShareActiveChange]:[{event:d3,payload:e=>{const{isActive:n,activeUserId:o,...i}=e;return{state:n?"Active":"Inactive",userId:o,...i}}}],[Uf.ShareDimensionChange]:[{event:hMe,payload:e=>({type:"sended",width:e.width,height:e.height,userId:e.userId})},{event:hQ,payload:e=>({type:"received",width:e.width,height:e.height,userId:e.nodeid})}],[Uf.SharePassiveStop]:[{event:fMe,payload:()=>({reason:rpe.StopScreenCapture})},{event:pMe,payload:()=>({reason:rpe.PrivilegeChange})},{event:mMe,payload:()=>({reason:rpe.ShareFromMainSession})}],[Uf.SharePeerStateChange]:[{event:Sye,payload:e=>{var n;return{userId:e.id,action:"Start",isFromMainSession:(n=e==null?void 0:e.isFromMainSession)!==null&&n!==void 0&&n}}},{event:Cye,payload:e=>{var n;return{userId:e.id,action:"Stop",isFromMainSession:(n=e==null?void 0:e.isFromMainSession)!==null&&n!==void 0&&n}}},{event:gMe,payload:e=>({userId:e.id,action:"Pause"})},{event:vMe,payload:e=>({userId:e.id,action:"Resume"})}],[Uf.ShareContentChange]:[{event:fQ,payload:e=>e}],[Uf.SharePrivilegeChange]:[{event:SMe,payload:e=>({privilege:e})}],[Uf.ShareReadReceipt]:[{event:CMe,payload:()=>{}}],[Uf.ShareStatisticDataChange]:[{event:Rge,payload:e=>{const{data:{rate:n,...o},...i}=e??{data:{}};return{data:{bitrate:n,...o},...i}}}],[Uf.RemoteControlApprovedChange]:[{event:pQ,payload:e=>({state:e?CEe.Approved:CEe.Rejected})}],[Uf.RemoteControlInControlChange]:[{event:Ek,payload:e=>({isControlling:e})}],[Uf.RemoteControlClipboardChange]:[{event:Ige,payload:e=>e}],[Uf.RemoteControlRequestChange]:[{event:EMe,payload:e=>e}],[Uf.RemoteControlAppStatusChange]:[{event:F2,payload:e=>e}],[Uf.RemoteControlControlledStatusChange]:[{event:LX,payload:e=>e}],[Uf.ShareScreenshotTaken]:[{event:_Me,payload:e=>e}],[Uf.AnnotationPrivilegeChange]:[{event:Eye,payload:e=>e}],[Uf.AnnotationRedoStatus]:[{event:TMe,payload:e=>e}],[Uf.AnnotationUndoStatus]:[{event:AMe,payload:e=>e}],[Uf.AnnotationDrawRequest]:[{event:xMe,payload:e=>e}]};let __=(function(e){return e.Question="question",e.UpdateQuestion="updateQuestion",e.Answer="answer",e.DeleteComment="deleteComment",e.DeleteQuestion="deleteQuestion",e.Dismiss="dismiss",e.Reopen="reopen",e.Upvote="upvote",e.AnswerLive="answerLive",e})({}),zEe=(function(e){return e.QaSettingChange="qa-setting-change",e.QaActionChange="qa-action-change",e})({});const x7e={[zEe.QaSettingChange]:[{event:"QA_SETTING_OPTION_CHANGE",payload:e=>e}],[zEe.QaActionChange]:[{event:"QA_NEW_ASK_QUESTION",payload:e=>({action:__.Question,data:e})},{event:"QA_UPDATE_ANONYMOUS_QUESTION",payload:e=>({action:__.UpdateQuestion,data:e})},{event:"QA_ANSWER_QUESTION",payload:e=>({action:__.Answer,data:e})},{event:"QA_ANSWER_REMOVE_COMMENT",payload:e=>({action:__.DeleteComment,data:e})},{event:"QA_ANSWER_REMOVE_QUESTION",payload:e=>({action:__.DeleteQuestion,data:e})},{event:"QA_ANSWER_DISMISS_QUESTION",payload:e=>({action:__.Dismiss,data:e})},{event:"QA_ANSWER_REOPEN_QUESTION",payload:e=>({action:__.Reopen,data:e})},{event:"QA_ANSWER_VOTE_QUESTION",payload:e=>({action:__.Upvote,data:e})},{event:"QA_ANSWER_QUESTION_LIVE",payload:e=>({action:__.AnswerLive,data:e})}]},OMe="AUDIO_ENCODE_SUCCESS",IMe="AUDIO_DECODE_SUCCESS",RMe="VIDEO_ENCODE_SUCCESS",kMe="VIDEO_DECODE_SUCCESS",DMe="SHARING_ENCODE_SUCCESS",Dge="SHARING_DECODE_SUCCESS",MMe="AUDIO_ENCODE_FAIL",PMe="AUDIO_DECODE_FAIL",NMe="VIDEO_ENCODE_FAIL",LMe="VIDEO_DECODE_FAIL",BMe="SHARING_ENCODE_FAIL",VMe="SHARING_DECODE_FAIL",FMe="MEDIA_DEVICE_CHANGE",BX="MEDIS_SDK_PATHCH_LOADED",Mge="DEVICE_PERMISSION_CHANGE",HMe="MEDIA_HEALTH_CHECK_FAILED";let zY=(function(e){return e.DeviceChange="device-change",e.MediaSDKChange="media-sdk-change",e.DevicePermissionChange="device-permission-change",e.MediaInternalError="media-internal-error",e})({});const O7e={[zY.DeviceChange]:[{event:FMe,payload:()=>({})}],[zY.MediaSDKChange]:[{event:OMe,payload:()=>({type:"audio",action:"encode",result:"success"})},{event:MMe,payload:()=>({type:"audio",action:"encode",result:"fail"})},{event:IMe,payload:()=>({type:"audio",action:"decode",result:"success"})},{event:PMe,payload:()=>({type:"audio",action:"decode",result:"fail"})},{event:RMe,payload:()=>({type:"video",action:"encode",result:"success"})},{event:NMe,payload:()=>({type:"video",action:"encode",result:"fail"})},{event:kMe,payload:()=>({type:"video",action:"decode",result:"success"})},{event:LMe,payload:()=>({type:"video",action:"decode",result:"fail"})},{event:DMe,payload:()=>({type:"share",action:"encode",result:"success"})},{event:BMe,payload:()=>({type:"share",action:"encode",result:"fail"})},{event:Dge,payload:()=>({type:"share",action:"decode",result:"success"})},{event:VMe,payload:()=>({type:"share",action:"decode",result:"fail"})}],[zY.DevicePermissionChange]:[{event:Mge,payload:e=>e}],[zY.MediaInternalError]:[{event:HMe,payload:e=>e}]},$Me="BREAKOUT_ROOM_ADD_TOKEN",VX="BREAKOUT_ROOM_INVITE_TO_JOIN_NOTIFICATION",Pge="BREAKOUT_ROOM_ROOM_CLOSING_COUNTDOWN",Nge="BREAKOUT_ROOM_ROOM_COUNTDOWN",UMe="BREAKOUT_ROOM_BROADCAST_MESSAGE",zMe="BREAKOUT_ROOM_ASK_HELP_REQUEST",wye="BREAKOUT_ROOM_ASK_HELP_RESPONSE",K2="BREAKOUT_ROOM_ATTRIBUTE_INDICATION",FX="BREAKOUT_ROOM_JOIN_BO_RESPONSE",jMe="BREAKOUT_ROOM_ROOM_COUNTDOWN_TIME_UP",Lge="BREAKOUT_ROOM_CURRENT_USER_PARTICIPANT_ROLE",WMe="BREAKOUT_ROOM_LOAD_PRE_ASSIGNED_ROOMS",GMe="BREAKOUT_ROOM_MAIN_SESSION_USER_UPDATE",qMe="BREAKOUT_ROOM_INVITE_TO_BACK_NOTIFICATION",ZMe="BREAKOUT_ROOM_IN_ROOM_USER_STATUS_UPDATE",KMe="BREAKOUT_ROOM_BROADCAST_VOICE";let Vy=(function(e){return e.InviteToJoin="invite-to-join",e.RoomCountdown="room-countdown",e.RoomTimeUp="room-time-up",e.ClosingRoomCountdown="closing-room-countdown",e.BroadcastMessage="broadcast-message",e.AskForHelp="ask-for-help",e.AskForHelpResponse="ask-for-help-response",e.RoomStateChange="room-state-change",e.MainSessionUserUpdate="main-session-user-updated",e.InviteToBack="invite-back-to-main-session",e.RoomUserUpdate="room-user-update",e.BroadcastVoice="broadcast-voice",e})({});const I7e={[Vy.InviteToJoin]:[{event:VX,payload:e=>e}],[Vy.RoomCountdown]:[{event:Nge,payload:e=>e}],[Vy.RoomTimeUp]:[{event:jMe,payload:e=>e}],[Vy.ClosingRoomCountdown]:[{event:Pge,payload:e=>e}],[Vy.BroadcastMessage]:[{event:UMe,payload:e=>e}],[Vy.AskForHelp]:[{event:zMe,payload:e=>e}],[Vy.AskForHelpResponse]:[{event:wye,payload:e=>e}],[Vy.RoomStateChange]:[{event:K2,payload:e=>({status:e.controlStatus})}],[Vy.MainSessionUserUpdate]:[{event:GMe,payload:()=>({})}],[Vy.InviteToBack]:[{event:qMe,payload:e=>e}],[Vy.RoomUserUpdate]:[{event:ZMe,payload:e=>e}],[Vy.BroadcastVoice]:[{event:KMe,payload:e=>e}]};var Bge=(function(e){return e.StatusUpdate="archiving-status-update",e.OptionsUpdate="archiving-options-update",e})(Bge||{});const R7e={[Bge.StatusUpdate]:[{event:"ARCHIVING_STATUS_UPDATE",payload:e=>e}],[Bge.OptionsUpdate]:[{event:"ARCHIVING_OPTIONS_UPDATE",payload:e=>e}]};let ppe=(function(e){return e.PollDataChange="poll-data-change",e.PollSizeUpdate="poll-size-update",e.PollStatusUpdate="poll-status-update",e})({});const k7e={[ppe.PollDataChange]:[{event:"POLL_DATA_CHANGE",payload:e=>e}],[ppe.PollSizeUpdate]:[{event:"POLL_SIZE_UPDATE",payload:e=>e}],[ppe.PollStatusUpdate]:[{event:"POLL_STATUS_UPDATE",payload:e=>e}]};let jEe=(function(e){return e.ReactionReceived="reaction-received",e.ReactionRemoved="reaction-removed",e})({});const D7e={[jEe.ReactionReceived]:[{event:"REACTION_RECEIVED",payload:e=>e}],[jEe.ReactionRemoved]:[{event:"REACTION_REMOVED",payload:e=>e}]},Gx="SMART_SUMMARY_STATUS_CHANGE",qx="MEETING_QUERY_STATUS_CHANGE";let WEe=(function(e){return e.SummaryChange="summary-status-change",e.MeetingQueryChang="meeting-query-status-change",e})({});const M7e={[WEe.SummaryChange]:[{event:Gx,payload:e=>e}],[WEe.MeetingQueryChang]:[{event:qx,payload:e=>e}]},r6="LIVE_STREAM_STATUS_CHANGE",P7e={"live-stream-status":[{event:r6,payload:e=>e}]},Vge="BROADCAST_STREAM_UTK_UPDATE",Fge="BROADCAST_STREAM_STATUS_CHANGE",N7e={"broadcast-streaming-status":[{event:Fge,payload:e=>e}]};let lt=(function(e){return e[e.OPERATION_TIMEOUT=1]="OPERATION_TIMEOUT",e[e.INTERNAL_ERROR=2]="INTERNAL_ERROR",e[e.OPERATION_CANCELLED=3]="OPERATION_CANCELLED",e[e.SESSION_FETCH_INFO_ERROR=200]="SESSION_FETCH_INFO_ERROR",e[e.SESSION_IN_ANOTHER_SESSION=3e3]="SESSION_IN_ANOTHER_SESSION",e[e.SESSION_INCORRECT_PASSCODE=3004]="SESSION_INCORRECT_PASSCODE",e[e.SESSION_NOT_STARTED=3008]="SESSION_NOT_STARTED",e[e.SESSION_USER_REMOVED=3009]="SESSION_USER_REMOVED",e[e.SESSION_ROLE_TYPE_ERROR=3010]="SESSION_ROLE_TYPE_ERROR",e[e.SESSION_WEBINAR_USER_REMOVED=3620]="SESSION_WEBINAR_USER_REMOVED",e[e.SESSION_INVALID_PARAMETER=4003]="SESSION_INVALID_PARAMETER",e[e.SESSION_ENDED=4004]="SESSION_ENDED",e[e.SESSION_LOCKED=4006]="SESSION_LOCKED",e[e.SESSION_IB_BLOCKED=4007]="SESSION_IB_BLOCKED",e[e.SESSION_PARTICIPANT_EXIST=4008]="SESSION_PARTICIPANT_EXIST",e[e.CLIENT_PLATFORM_UNSUPPORTED=5e3]="CLIENT_PLATFORM_UNSUPPORTED",e[e.CLIENT_DEPENDENT_ASSETS_INACCESSIBLE=5001]="CLIENT_DEPENDENT_ASSETS_INACCESSIBLE",e[e.CLIENT_SESSION_STATE_CLOSED=5002]="CLIENT_SESSION_STATE_CLOSED",e[e.CLIENT_SESSION_STATE_RECONNECTING=5003]="CLIENT_SESSION_STATE_RECONNECTING",e[e.CLIENT_SESSION_STATE_ON_HOLD=5004]="CLIENT_SESSION_STATE_ON_HOLD",e[e.CLIENT_SESSION_NOT_WEBINAR=5005]="CLIENT_SESSION_NOT_WEBINAR",e[e.CLIENT_HOST_OR_MANAGER_PERMISSION_REQUIRED=5006]="CLIENT_HOST_OR_MANAGER_PERMISSION_REQUIRED",e[e.CLIENT_HOST_PERMISSION_REQUIRED=5007]="CLIENT_HOST_PERMISSION_REQUIRED",e[e.CLIENT_ORIGIN_HOST_PERMISSION_REQUIRED=5008]="CLIENT_ORIGIN_HOST_PERMISSION_REQUIRED",e[e.CLIENT_ATTENDEE_APPLICABLE_ONLY=5009]="CLIENT_ATTENDEE_APPLICABLE_ONLY",e[e.CLIENT_PARTICIPANT_APPLICABLE_ONLY=5010]="CLIENT_PARTICIPANT_APPLICABLE_ONLY",e[e.CLIENT_MISMATCH_USER=5011]="CLIENT_MISMATCH_USER",e[e.CLIENT_DUPLICATED_JOIN=5012]="CLIENT_DUPLICATED_JOIN",e[e.CLIENT_INVALID_JOIN_PARAMETER=5013]="CLIENT_INVALID_JOIN_PARAMETER",e[e.CLIENT_HOST_DISALLOW_RENAME=5014]="CLIENT_HOST_DISALLOW_RENAME",e[e.STREAM_MISMATCH_DEVICE=6e3]="STREAM_MISMATCH_DEVICE",e[e.STREAM_MISMATCH_USER=6001]="STREAM_MISMATCH_USER",e[e.STREAM_SESSION_JOIN_REQUIRED=6002]="STREAM_SESSION_JOIN_REQUIRED",e[e.STREAM_MISMATCH_RENDER_ELEMENT=6003]="STREAM_MISMATCH_RENDER_ELEMENT",e[e.AUDIO_CAPTURE_FAILED=6010]="AUDIO_CAPTURE_FAILED",e[e.AUDIO_CAPTURE_LOADING=6011]="AUDIO_CAPTURE_LOADING",e[e.AUDIO_IN_PSTN=6012]="AUDIO_IN_PSTN",e[e.AUDIO_ENCODING_REQUIRED=6013]="AUDIO_ENCODING_REQUIRED",e[e.AUDIO_SHARE_AUDIO_CONFLICT=6014]="AUDIO_SHARE_AUDIO_CONFLICT",e[e.AUDIO_NOT_STARTED=6015]="AUDIO_NOT_STARTED",e[e.AUDIO_ATTENDEE_NOT_ALLOWED=6016]="AUDIO_ATTENDEE_NOT_ALLOWED",e[e.SECONDARY_AUDIO_UNSUPPORTED=6017]="SECONDARY_AUDIO_UNSUPPORTED",e[e.SECONDARY_AUDIO_DEVICE_CONFLICT=6018]="SECONDARY_AUDIO_DEVICE_CONFLICT",e[e.SECONDARY_AUDIO_SCREEN_SHARING_CONFLICT=6019]="SECONDARY_AUDIO_SCREEN_SHARING_CONFLICT",e[e.SECONDARY_AUDIO_NOT_STARTED=6020]="SECONDARY_AUDIO_NOT_STARTED",e[e.PSTN_MISMATCH_COUNTRY_CODE=6021]="PSTN_MISMATCH_COUNTRY_CODE",e[e.PSTN_NOT_CONNECTED=6022]="PSTN_NOT_CONNECTED",e[e.CRC_NOT_CONNECTED=6023]="CRC_NOT_CONNECTED",e[e.AUDIO_ALLOW_TALK_UNSUPPORTED=6024]="AUDIO_ALLOW_TALK_UNSUPPORTED",e[e.AUDIO_ALLOW_TALK_MISMATCH_USER=6025]="AUDIO_ALLOW_TALK_MISMATCH_USER",e[e.AUDIO_PROCESSOR_UNSUPPORTED=6026]="AUDIO_PROCESSOR_UNSUPPORTED",e[e.AUDIO_PROCESSOR_DUPLICATE_CREATE=6027]="AUDIO_PROCESSOR_DUPLICATE_CREATE",e[e.AUDIO_PROCESSOR_MISMATCH_PROCESSOR=6028]="AUDIO_PROCESSOR_MISMATCH_PROCESSOR",e[e.AUDIO_PROCESSOR_LIMIT_EXCEED=6029]="AUDIO_PROCESSOR_LIMIT_EXCEED",e[e.VIDEO_CAMERA_PERMISSION_DENIED=6100]="VIDEO_CAMERA_PERMISSION_DENIED",e[e.VIDEO_NO_CAMERA=6101]="VIDEO_NO_CAMERA",e[e.VIDEO_MISMATCH_CAMERA=6102]="VIDEO_MISMATCH_CAMERA",e[e.VIDEO_CAMERA_TAKEN=6103]="VIDEO_CAMERA_TAKEN",e[e.VIDEO_VB_INITIALIZE_ERROR=6104]="VIDEO_VB_INITIALIZE_ERROR",e[e.VIDEO_CAPTURE_LOADING=6105]="VIDEO_CAPTURE_LOADING",e[e.VIDEO_MUTED_BY_HOST=6106]="VIDEO_MUTED_BY_HOST",e[e.VIDEO_VB_UNSUPPORTED=6107]="VIDEO_VB_UNSUPPORTED",e[e.VIDEO_VB_PROCESSOR_CONFLICT=6108]="VIDEO_VB_PROCESSOR_CONFLICT",e[e.VIDEO_MISMATCH_STATE=6109]="VIDEO_MISMATCH_STATE",e[e.VIDEO_ESTABLISH_STREAM_ERROR=6110]="VIDEO_ESTABLISH_STREAM_ERROR",e[e.VIDEO_RENDER_LIMIT_EXCEED=6111]="VIDEO_RENDER_LIMIT_EXCEED",e[e.VIDEO_METHOD_DEPRECATED=6112]="VIDEO_METHOD_DEPRECATED",e[e.VIDEO_VB_IMAGE_INACCESSIBLE=6113]="VIDEO_VB_IMAGE_INACCESSIBLE",e[e.VIDEO_VB_MISMATCH_STATE=6114]="VIDEO_VB_MISMATCH_STATE",e[e.VIDEO_MASK_IMAGE_INACCESSIBLE=6115]="VIDEO_MASK_IMAGE_INACCESSIBLE",e[e.VIDEO_MASK_PROCESSOR_CONFLICT=6116]="VIDEO_MASK_PROCESSOR_CONFLICT",e[e.VIDEO_SPOTLIGHT_MISMATCH_STATE=6117]="VIDEO_SPOTLIGHT_MISMATCH_STATE",e[e.VIDEO_SPOTLIGHT_MULTI_CONFLICT=6118]="VIDEO_SPOTLIGHT_MULTI_CONFLICT",e[e.VIDEO_PROCESSOR_UNSUPPORTED=6119]="VIDEO_PROCESSOR_UNSUPPORTED",e[e.VIDEO_PROCESSOR_LIMIT_EXCEED=6120]="VIDEO_PROCESSOR_LIMIT_EXCEED",e[e.VIDEO_PROCESSOR_DUPLICATE_CREATE=6121]="VIDEO_PROCESSOR_DUPLICATE_CREATE",e[e.VIDEO_PROCESSOR_MISMATCH_PROCESSOR=6122]="VIDEO_PROCESSOR_MISMATCH_PROCESSOR",e[e.FAR_END_CAMERA_CONTROL_DEVICE_UNSUPPORTED=6150]="FAR_END_CAMERA_CONTROL_DEVICE_UNSUPPORTED",e[e.FAR_END_CAMERA_CONTROL_MISMATCH_STATE=6151]="FAR_END_CAMERA_CONTROL_MISMATCH_STATE",e[e.FAR_END_CAMERA_PERMISSION_REQUIRED=6152]="FAR_END_CAMERA_PERMISSION_REQUIRED",e[e.FAR_END_CAMERA_INVALID_RANGE=6153]="FAR_END_CAMERA_INVALID_RANGE",e[e.FAR_END_CAMERA_RATE_LIMIT=6154]="FAR_END_CAMERA_RATE_LIMIT",e[e.SCREEN_SHARE_USER_DENIED=6200]="SCREEN_SHARE_USER_DENIED",e[e.SCREEN_SHARE_SYSTEM_DENIED=6201]="SCREEN_SHARE_SYSTEM_DENIED",e[e.SCREEN_SHARE_UNSUPPORTED=6202]="SCREEN_SHARE_UNSUPPORTED",e[e.SCREEN_SHARE_SUBSESSION_CONFLICT=6203]="SCREEN_SHARE_SUBSESSION_CONFLICT",e[e.SCREEN_SHARE_HOST_PRIVILEGE_REQUIRED=6204]="SCREEN_SHARE_HOST_PRIVILEGE_REQUIRED",e[e.SCREEN_SHARE_MISMATCH_STATE=6205]="SCREEN_SHARE_MISMATCH_STATE",e[e.SCREEN_SHARE_OPTIMIZE_VIDEO_UNSUPPORTED=6206]="SCREEN_SHARE_OPTIMIZE_VIDEO_UNSUPPORTED",e[e.SCREEN_SHARE_OPTIMIZE_VIDEO_CONFLICT=6207]="SCREEN_SHARE_OPTIMIZE_VIDEO_CONFLICT",e[e.SCREEN_SHARE_INVALID_PRIVILEGE=6208]="SCREEN_SHARE_INVALID_PRIVILEGE",e[e.SCREEN_SHARE_IB_DENIED=6209]="SCREEN_SHARE_IB_DENIED",e[e.SCREEN_SHARE_LIMIT_EXCEED=6218]="SCREEN_SHARE_LIMIT_EXCEED",e[e.SCREEN_SHARE_ANNOTATION_ACCOUNT_DISABLE=6210]="SCREEN_SHARE_ANNOTATION_ACCOUNT_DISABLE",e[e.SCREEN_SHARE_ANNOTATION_NO_ACTIVE_SHARE=6211]="SCREEN_SHARE_ANNOTATION_NO_ACTIVE_SHARE",e[e.SCREEN_SHARE_ANNOTATION_PRESENTER_DISABLED=6212]="SCREEN_SHARE_ANNOTATION_PRESENTER_DISABLED",e[e.SCREEN_SHARE_ANNOTATION_DUPLICATE_START=6213]="SCREEN_SHARE_ANNOTATION_DUPLICATE_START",e[e.SCREEN_SHARE_ANNOTATION_START_ERROR=6214]="SCREEN_SHARE_ANNOTATION_START_ERROR",e[e.SCREEN_SHARE_ANNOTATION_INCORRECT_PARAMETER=6215]="SCREEN_SHARE_ANNOTATION_INCORRECT_PARAMETER",e[e.SCREEN_SHARE_ANNOTATION_NOT_SUPPORT=6216]="SCREEN_SHARE_ANNOTATION_NOT_SUPPORT",e[e.SCREEN_SHARE_ANNOTATION_NOT_START=6217]="SCREEN_SHARE_ANNOTATION_NOT_START",e[e.SHARED_PROCESSOR_UNSUPPORTED=6223]="SHARED_PROCESSOR_UNSUPPORTED",e[e.SHARED_PROCESSOR_DUPLICATE_CREATE=6224]="SHARED_PROCESSOR_DUPLICATE_CREATE",e[e.SHARED_PROCESSOR_MISMATCH_PROCESSOR=6225]="SHARED_PROCESSOR_MISMATCH_PROCESSOR",e[e.SHARED_PROCESSOR_LIMIT_EXCEED=6226]="SHARED_PROCESSOR_LIMIT_EXCEED",e[e.REMOTE_CONTROL_ACCOUNT_DISABLE=6300]="REMOTE_CONTROL_ACCOUNT_DISABLE",e[e.REMOTE_CONTROL_MISMATCH_STATE=6301]="REMOTE_CONTROL_MISMATCH_STATE",e[e.REMOTE_CONTROL_PERMISSION_REQUIRED=6302]="REMOTE_CONTROL_PERMISSION_REQUIRED",e[e.REMOTE_CONTROL_MISMATCH_DISPLAY_SURFACE=6303]="REMOTE_CONTROL_MISMATCH_DISPLAY_SURFACE",e[e.REMOTE_CONTROL_INVALID_LAUNCH_SCHEME=6304]="REMOTE_CONTROL_INVALID_LAUNCH_SCHEME",e[e.CHAT_EMPTY_MESSAGE=7e3]="CHAT_EMPTY_MESSAGE",e[e.CHAT_MISMATCH_USER=7001]="CHAT_MISMATCH_USER",e[e.CHAT_INSUFFICIENT_PRIVILEGE=7002]="CHAT_INSUFFICIENT_PRIVILEGE",e[e.CHAT_INVALID_PRIVILEGE=7003]="CHAT_INVALID_PRIVILEGE",e[e.CHAT_SUBSESSION_CONFLICT=7004]="CHAT_SUBSESSION_CONFLICT",e[e.CHAT_EMPTY_FILE=7005]="CHAT_EMPTY_FILE",e[e.CHAT_INVALID_RETRY_TOKEN=7006]="CHAT_INVALID_RETRY_TOKEN",e[e.CHAT_MISMATCH_FILE_TYPE=7007]="CHAT_MISMATCH_FILE_TYPE",e[e.CHAT_EXCEED_FILE_SIZE=7008]="CHAT_EXCEED_FILE_SIZE",e[e.CHAT_INVALID_MSG_ID_OR_URL=7009]="CHAT_INVALID_MSG_ID_OR_URL",e[e.CHAT_FILE_ACCOUNT_DISABLE=7010]="CHAT_FILE_ACCOUNT_DISABLE",e[e.CHAT_DELETE_ACCOUNT_DISABLE=7011]="CHAT_DELETE_ACCOUNT_DISABLE",e[e.CMD_EMPTY_MESSAGE=7100]="CMD_EMPTY_MESSAGE",e[e.CMD_MISMATCH_USER=7101]="CMD_MISMATCH_USER",e[e.CMD_INVALID_MESSAGE_TYPE=7102]="CMD_INVALID_MESSAGE_TYPE",e[e.CMD_EXCEED_MESSAGE_LENGTH=7103]="CMD_EXCEED_MESSAGE_LENGTH",e[e.CMD_CHANNEL_NOT_READY=7104]="CMD_CHANNEL_NOT_READY",e[e.RECORDING_ACCOUNT_DISABLE=7200]="RECORDING_ACCOUNT_DISABLE",e[e.RECORDING_STOP_FORBIDDEN=7201]="RECORDING_STOP_FORBIDDEN",e[e.RECORDING_MISMATCH_STATE=7202]="RECORDING_MISMATCH_STATE",e[e.RECORDING_ISO_DISABLE=7203]="RECORDING_ISO_DISABLE",e[e.RECORDING_IQ_DISABLE=7204]="RECORDING_IQ_DISABLE",e[e.RECORDING_IQ_PERMISSION_REQUIRED=7205]="RECORDING_IQ_PERMISSION_REQUIRED",e[e.RECORDING_IQ_MISMATCH_STATE=7206]="RECORDING_IQ_MISMATCH_STATE",e[e.LOCAL_RECORDING_ACCOUNT_DISABLE=7207]="LOCAL_RECORDING_ACCOUNT_DISABLE",e[e.LOCAL_RECORDING_INVALID_VALUE=7208]="LOCAL_RECORDING_INVALID_VALUE",e[e.LOCAL_RECORDING_MISMATCH_STATE=7209]="LOCAL_RECORDING_MISMATCH_STATE",e[e.TRANSCRIPTION_ACCOUNT_DISABLE=7300]="TRANSCRIPTION_ACCOUNT_DISABLE",e[e.TRANSCRIPTION_FEATURE_DISABLE=7301]="TRANSCRIPTION_FEATURE_DISABLE",e[e.TRANSCRIPTION_LANGUAGE_UNSUPPORTED=7302]="TRANSCRIPTION_LANGUAGE_UNSUPPORTED",e[e.TRANSCRIPTION_MISMATCH_STATE=7303]="TRANSCRIPTION_MISMATCH_STATE",e[e.TRANSLATION_ACCOUNT_DISABLE=7304]="TRANSLATION_ACCOUNT_DISABLE",e[e.TRANSLATION_LANGUAGE_UNSUPPORTED=7305]="TRANSLATION_LANGUAGE_UNSUPPORTED",e[e.MANUAL_CAPTION_ACCOUNT_DISABLE=7306]="MANUAL_CAPTION_ACCOUNT_DISABLE",e[e.MANUAL_CAPTION_FEATURE_DISABLE=7307]="MANUAL_CAPTION_FEATURE_DISABLE",e[e.MANUAL_CAPTION_MISMATCH_USER=7308]="MANUAL_CAPTION_MISMATCH_USER",e[e.MANUAL_CAPTION_INSUFFICIENT_PRIVILEGE=7309]="MANUAL_CAPTION_INSUFFICIENT_PRIVILEGE",e[e.TRANSCRIPTION_LANGUAGE_LOCKED=7310]="TRANSCRIPTION_LANGUAGE_LOCKED",e[e.LIVE_STREAM_ACCOUNT_DISABLE=7400]="LIVE_STREAM_ACCOUNT_DISABLE",e[e.LIVE_STREAM_INVALID_PARAMETER=7401]="LIVE_STREAM_INVALID_PARAMETER",e[e.LIVE_STREAM_MISMATCH_STATE=7402]="LIVE_STREAM_MISMATCH_STATE",e[e.SUBSESSION_ACCOUNT_DISABLE=7500]="SUBSESSION_ACCOUNT_DISABLE",e[e.SUBSESSION_EXCEED_CAPACITY=7501]="SUBSESSION_EXCEED_CAPACITY",e[e.SUBSESSION_MISMATCH_ID=7502]="SUBSESSION_MISMATCH_ID",e[e.SUBSESSION_MISMATCH_USER=7503]="SUBSESSION_MISMATCH_USER",e[e.SUBSESSION_MISMATCH_STATE=7504]="SUBSESSION_MISMATCH_STATE",e[e.SUBSESSION_EXIT_RESTRICTED=7505]="SUBSESSION_EXIT_RESTRICTED",e[e.SUBSESSION_BROADCAST_DISABLE=7506]="SUBSESSION_BROADCAST_DISABLE",e[e.SUBSESSION_BROADCAST_INVALID_CONTENT=7507]="SUBSESSION_BROADCAST_INVALID_CONTENT",e[e.SUBSESSION_BROADCAST_VOICE_DISABLE=7508]="SUBSESSION_BROADCAST_VOICE_DISABLE",e[e.SUBSESSION_BROADCAST_VOICE_RESTRICTED=7509]="SUBSESSION_BROADCAST_VOICE_RESTRICTED",e[e.SUBSESSION_BROADCAST_VOICE_MISMATCH_STATE=7510]="SUBSESSION_BROADCAST_VOICE_MISMATCH_STATE",e[e.REACTION_ACCOUNT_DISABLE=7600]="REACTION_ACCOUNT_DISABLE",e[e.REACTION_INVALID_PARAMETER=7601]="REACTION_INVALID_PARAMETER",e[e.SUMMARY_ACCOUNT_DISABLE=7700]="SUMMARY_ACCOUNT_DISABLE",e[e.QA_INVALID_PARAMETER=7800]="QA_INVALID_PARAMETER",e[e.QA_INSUFFICIENT_PRIVILEGE=7801]="QA_INSUFFICIENT_PRIVILEGE",e[e.BROADCAST_STREAMING_ACCOUNT_DISABLE=7900]="BROADCAST_STREAMING_ACCOUNT_DISABLE",e[e.BROADCAST_STREAMING_MISMATCH_STATE=7901]="BROADCAST_STREAMING_MISMATCH_STATE",e[e.BROADCAST_STREAMING_INVALID_CHANNEL_ID=7902]="BROADCAST_STREAMING_INVALID_CHANNEL_ID",e})({});const GEe={...b7e,...y7e,...S7e,...C7e,...w7e,...A7e,..._7e,...x7e,...T7e,...O7e,...I7e,...R7e,"closed-caption-message":[{event:"CC_RECEIVE_MESSAGE",payload:e=>e}],"closed-caption-lt-status":[{event:"LT_STATUS_CHANGE",payload:e=>e}],"closed-caption-lt-message":[{event:"LT_RECEIVE_MESSAGE",payload:e=>e}],"closed-caption-status":[{event:"CC_ASSIGN_CC_EDITOR_SUCCESS",payload:e=>e},{event:"CC_STATUS_CHANGE",payload:e=>e}],...k7e,...D7e,...M7e,...P7e,...N7e},i6=(function(e){return{all:e=e||new Map,on:function(n,o){var i=e.get(n);i?i.push(o):e.set(n,[o])},off:function(n,o){var i=e.get(n);i&&(o?i.splice(i.indexOf(o)>>>0,1):e.set(n,[]))},emit:function(n,o){var i=e.get(n);i&&i.slice().map((function(c){c(o)})),(i=e.get("*"))&&i.slice().map((function(c){c(n,o)}))}}})(),H2=new Map,Hge=new Array,L6=[Wx,Qu,Rv];let rk,$ge;function qEe(){return e=>e.pipe(lh((function(n,o){n.subscribe(Rd(o,(function(i){o.next(hpe.createNext(i))}),(function(){o.next(hpe.createComplete()),o.complete()}),(function(i){o.next(hpe.createError(i)),o.complete()})))})),rn((n=>n.kind==="C"?Ua(n).pipe(ed(Dv)):Ua(n))),lh((function(n,o){n.subscribe(Rd(o,(function(i){return vDe(i,o)})))})))}const it=(e,n=void 0)=>{i6.emit(e,n)};function iO(e){return L6.includes(e)?ah(i6,e):(rk&&$ge||(rk=new qy,$ge=Id(...L6.map((n=>ah(i6,n)))).subscribe(rk)),ah(i6,e).pipe(Nh(rk)))}const kx=e=>new Promise(((n,o)=>{if(e.fail&&e.fail.length>0){var i;const c=L6.filter((p=>{var v;return!((v=e.fail)!==null&&v!==void 0&&v.includes(p))})),d=c.length>0?Id(...c.map((p=>iO(p).pipe(Qr(1),xo((()=>({type:OEe,reason:p,errorCode:lt.OPERATION_CANCELLED}))))))):FEe;Np(iO(e.success).pipe(Qr(1),qEe(),m7e((i=e.fail)!==null&&i!==void 0&&i.some((p=>L6.includes(p)))?FEe:Oo)),Id(...e.fail.map((p=>iO(p).pipe(Qr(1),qEe(),rn((v=>EO({type:p,payload:v}))))))),d).subscribe({next:p=>p&&p.type===OEe?o(p):n(p),error(p){if(typeof p.payload=="object"){const v={...p.payload};p.payload instanceof Error&&Object.assign(v,{name:p.payload.name,message:p.payload.message}),o({type:p.type,...v})}else p.payload===void 0?o({type:p.type}):o(p)}})}else iO(e.success).pipe(Qr(1)).subscribe((c=>n(c)))})),yr=(e,n,o=1e4)=>new Promise(((i,c)=>{let d=Oo;typeof e=="string"?d=iO(e).pipe(Qr(1)):(d=iO(e.event),e.operations&&(d=e.operations.reduce(((p,v)=>p.pipe(v)),d))),Np(d,_u(o).pipe(rn((()=>EO("timeout"))))).subscribe({next(p){if(n){const v=n(p);typeof v=="boolean"?v?i(""):c({type:cf,errorCode:lt.INTERNAL_ERROR}):v.ret===0?i(v.body):c({type:cf,errorCode:lt.INTERNAL_ERROR,reason:v.body})}else i(p)},error(){c({type:Wee,errorCode:lt.OPERATION_TIMEOUT})}})})),xa=(e,n)=>n!==void 0?iO(e).pipe(Qr(n)):iO(e);function iA(e){const n=L6.map((o=>xa(o,1)));return e&&n.push(e),Np(...n)}const _ye=()=>{var e;Hge.forEach((n=>{n.unsubscribe()})),Hge.length=0,H2.clear(),rk&&(rk.complete(),(e=$ge)===null||e===void 0||e.unsubscribe(),rk=void 0)};var jY="NOT_FOUND",L7e=function(e,n){return e===n};function YMe(e,n){var o,i,c=typeof n=="object"?n:{equalityCheck:n},d=c.equalityCheck,p=d===void 0?L7e:d,v=c.maxSize,S=v===void 0?1:v,T=c.resultEqualityCheck,x=(function(U){return function(j,W){if(j===null||W===null||j.length!==W.length)return!1;for(var Z=j.length,re=0;re<Z;re++)if(!U(j[re],W[re]))return!1;return!0}})(p),P=S===1?(o=x,{get:function(U){return i&&o(i.key,U)?i.value:jY},put:function(U,j){i={key:U,value:j}},getEntries:function(){return i?[i]:[]},clear:function(){i=void 0}}):(function(U,j){var W=[];function Z(re){var le=W.findIndex((function(be){return j(re,be.key)}));if(le>-1){var ie=W[le];return le>0&&(W.splice(le,1),W.unshift(ie)),ie.value}return jY}return{get:Z,put:function(re,le){Z(re)===jY&&(W.unshift({key:re,value:le}),W.length>U&&W.pop())},getEntries:function(){return W},clear:function(){W=[]}}})(S,x);function B(){var U=P.get(arguments);if(U===jY){if(U=e.apply(null,arguments),T){var j=P.getEntries().find((function(W){return T(W.value,U)}));j&&(U=j.value)}P.put(arguments,U)}return U}return B.clearCache=function(){return P.clear()},B}function XMe(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return function(){for(var c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];var v,S=0,T={memoizeOptions:void 0},x=d.pop();if(typeof x=="object"&&(T=x,x=d.pop()),typeof x!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof x+"]");var P=T.memoizeOptions,B=P===void 0?o:P,U=Array.isArray(B)?B:[B],j=(function(re){var le=Array.isArray(re[0])?re[0]:re;if(!le.every((function(be){return typeof be=="function"}))){var ie=le.map((function(be){return typeof be=="function"?"function "+(be.name||"unnamed")+"()":typeof be})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+ie+"]")}return le})(d),W=e.apply(void 0,[function(){return S++,x.apply(null,arguments)}].concat(U)),Z=e((function(){for(var re=[],le=j.length,ie=0;ie<le;ie++)re.push(j[ie].apply(null,arguments));return v=W.apply(null,re)}));return Object.assign(Z,{resultFunc:x,memoizedResultFunc:W,dependencies:j,lastResult:function(){return v},recomputations:function(){return S},resetRecomputations:function(){return S=0}}),Z}}var ec=XMe(YMe);const uA=({participants:{attendeesList:e}})=>e,JMe=({meeting:{userId:e}})=>e,Uge=({participants:{xmppAttendeeList:e}})=>e;let Vk=(function(e){return e[e.Attendee=0]="Attendee",e[e.Host=1]="Host",e[e.Owner=4]="Owner",e[e.ViewOnly=8]="ViewOnly",e[e.HostOwner=5]="HostOwner",e[e.ViewOnlyCanTalk=24]="ViewOnlyCanTalk",e})({}),B7e=(function(e){return e[e.Host=10]="Host",e[e.Panelist=20]="Panelist",e[e.Attendee=30]="Attendee",e})({}),zge=(function(e){return e[e.Client=9]="Client",e[e.Phone=5]="Phone",e[e.H323=15]="H323",e[e.Assitant=51]="Assitant",e})({});const B6=e=>(e&Vk.Host)===Vk.Host,Fk=e=>(e&zge.Phone)===zge.Phone,mQ=e=>e===Vk.ViewOnlyCanTalk,hf=e=>(e&Vk.ViewOnly)===Vk.ViewOnly;let ik=(function(e){return e[e.Automatically=1]="Automatically",e[e.Manually=2]="Manually",e[e.SelfSelect=3]="SelfSelect",e})({}),mi=(function(e){return e[e.NotStarted=1]="NotStarted",e[e.InProgress=2]="InProgress",e[e.Closing=3]="Closing",e[e.Closed=4]="Closed",e})({}),QMe=(function(e){return e[e.NoToken=1]="NoToken",e[e.GotToken=2]="GotToken",e[e.Started=3]="Started",e[e.Closing=4]="Closing",e[e.Closed=5]="Closed",e})({}),ar=(function(e){return e.Initial="initial",e.Invited="invited",e.Joining="joining",e.InRoom="in room",e.Leaving="leaving",e.TimeUp="time up",e.MainSession="main session",e})({}),A2=(function(e){return e.Join="joinRequest",e.Switch="switchRequest",e.Leave="leaveRequest",e.Broadcast="messageText",e.HelpReq="helpRequest",e.HelpRes="helpResponse",e.CoHostWantJoinThisBo="wantJoinThisBO",e.BOActivity="BOActivity",e})({});const ZEe="Subsession";let Zx=(function(e){return e[e.Received=0]="Received",e[e.Busy=1]="Busy",e[e.Ignore=2]="Ignore",e[e.AlreadyInRoom=3]="AlreadyInRoom",e})({}),KEe=(function(e){return e[e.AskToLeave=0]="AskToLeave",e[e.ClosingRoom=1]="ClosingRoom",e})({}),V7e=(function(e){return e[e.Active=0]="Active",e[e.Ask=1]="Ask",e})({}),mpe=(function(e){return e[e.Connect=1]="Connect",e[e.Muted=2]="Muted",e[e.Voip=4]="Voip",e})({}),YEe=(function(e){return e[e.Connect=8]="Connect",e[e.On=16]="On",e})({}),XEe=(function(e){return e[e.Share=32]="Share",e[e.ShareAudio=64]="ShareAudio",e})({});const ePe=({breakoutRoom:e})=>e&&e.controlStatus,tPe=({breakoutRoom:e})=>e&&e.currentRoom.status,gs=ec([JMe,uA],((e,n)=>n.find((o=>o.userId===e)))),Iv=ec([gs],(e=>(e==null?void 0:e.isHost)||(e==null?void 0:e.bCoHost))),nPe=ec([gs],(e=>e==null?void 0:e.isHost)),Cz=ec([Uge],(e=>e.filter((n=>n.userRole===B7e.Attendee)))),F7e=ec([uA],(e=>e.filter((n=>n.bHold&&!n.bid)))),Ba=ec([uA,ePe,tPe],((e,n,o)=>n!==mi.InProgress&&n!==mi.Closing||o!==ar.InRoom?e.filter((i=>!i.bHold&&!i.bid)):e.filter((i=>!i.bHold)))),H7e=ec([({participants:{assistantList:e}})=>e],(e=>e)),jge=ec([Ba],(e=>e.find((n=>n.isHost)))),JEe=ec([Ba],(e=>e.filter((n=>n.bCoHost)))),Aye=ec([gs,Ba],((e,n)=>n.filter((o=>o.userId!==(e==null?void 0:e.userId)))));ec([Uge],(e=>e.reduce(((n,o)=>{const{jid:i}=o;return Object.assign(n,{[i]:o}),n}),{}))),ec([Uge,({meeting:{jid:e}})=>e],((e,n)=>{var o;return(o=e.find((i=>i.jid===n)))===null||o===void 0?void 0:o.userId}));const $7e=ec([uA],((e=[])=>e.some((n=>(n==null?void 0:n.bLocalRecord)===N6.Start)))),U7e=ec([ePe,({meeting:e})=>e&&e.meetingOptions,uA,nPe],((e,n,o,i)=>{const c=o.filter((v=>v.bCoHost)),{moveToWRIfHostLeave:d}=n,p=e===mi.InProgress;return i&&!!d&&c.length<=0&&!p&&o.length>1}));ec([uA,tPe,({breakoutRoom:e})=>e&&e.mainSessionAttendeeList],((e,n,o)=>(n===ar.InRoom?o:e).filter((i=>{return!(i.bHold||i.isHost||i.audio===Ji.Phone||Fk(i==null?void 0:i.userType)||(c=i==null?void 0:i.caps,d=i==null?void 0:i.bMultiStreamVideoUser,((p,v)=>(S=>!!(128&S))(p)&&v!==void 0)(c,d)&&d));var c,d}))));class oPe{constructor(n){this._cancelError=new Error("request for lock canceled"),this._locked=void 0,this._queue=[],this._waiters=[],this._currentReleaser=void 0,n&&(this._cancelError=n),this._locked=!1}acquire(){const n=this.isLocked(),o=new Promise(((i,c)=>this._queue.push({resolve:i,reject:c})));return n||this._dispatch(),o}async runExclusive(n){const o=await this.acquire();try{return await n()}finally{o()}}async waitForUnlock(){return this.isLocked()?new Promise((n=>this._waiters.push({resolve:n}))):Promise.resolve()}isLocked(){return this._locked}release(){if(this._currentReleaser){const n=this._currentReleaser;this._currentReleaser=void 0,n()}}cancel(){this._queue.forEach((n=>n.reject(this._cancelError))),this._queue=[]}_dispatch(){const n=this._queue.shift();if(!n)return;let o=!1;this._currentReleaser=()=>{o||(o=!0,this._locked=!1,this._resolveWaiters(),this._dispatch())},this._locked=!0,n.resolve(this._currentReleaser)}_resolveWaiters(){this._waiters.forEach((n=>n.resolve())),this._waiters=[]}}let Op=(function(e){return e.VideoEncode="0",e.VideoDecode="1",e.AudioEncode="2",e.AudioDecode="3",e.SharingEncode="4",e.SharingDecode="5",e})({});class Ns{static getInstance(){return this.agentInstance===void 0&&(this.agentInstance=new Ns),this.agentInstance}constructor(){this.assetsPath=void 0,this.instance=void 0,this.callbackList=void 0,this.constraints=void 0,this.svcUrl=void 0,this.meetingNumber=void 0,this.confId=void 0,this.currentUserId=void 0,this.receivedSharingCanvas=void 0,this.sharingCanvas=void 0,this.annotationCanvas=void 0,this.annotationPresenterCanvas=void 0,this.mediaOptions=void 0,this.inProgress=void 0,this.callbackList=[]}init(n){!this.instance&&window.JsMediaSDK_Instance&&(this.instance=new window.JsMediaSDK_Instance(n))}setAssetsAndConstraint(n,o){this.assetsPath=n,this.constraints=o,this.onMediaSDKCallback=this.onMediaSDKCallback.bind(this)}onMediaSDKCallback(n,o){this.callbackList.length>0&&this.callbackList.forEach((i=>i(n,o)))}registerCallback(n){this.callbackList.push(n)}unregisterCallback(n){this.callbackList=this.callbackList.filter((o=>o!==n))}static isSupportVideoEncodeHardwareAcceleration(){return window.JsMediaSDK_Instance.util.IsSupportVideoEncodeHardwareAcceleration()}static isSupportVideoDecodeHardwareAcceleration(){return window.JsMediaSDK_Instance.util.IsSupportVideoDecodeHardwareAcceleration()}static isCompatibleHardwareForEncode(){var n;return Yo.isSupportOffscreenCanvas&&((n=window.JsMediaSDK_Instance)===null||n===void 0?void 0:n.util.AdapterWhiteListCheckForEncoder())==0}static getPTZCapability(){var n,o,i,c,d,p;return{pan:!((n=window.JsMediaSDK_Instance)===null||n===void 0||(n=n.util)===null||n===void 0||(o=n.isSupportCameraPan)===null||o===void 0||!o.call(n)),tilt:!((i=window.JsMediaSDK_Instance)===null||i===void 0||(i=i.util)===null||i===void 0||(c=i.isSupportCameraTilt)===null||c===void 0||!c.call(i)),zoom:!((d=window.JsMediaSDK_Instance)===null||d===void 0||(d=d.util)===null||d===void 0||(p=d.isSupportCameraZoom)===null||p===void 0||!p.call(d))}}static isSupportVideoShare(){var n,o;return!((n=window.JsMediaSDK_Instance)===null||n===void 0||(n=n.util)===null||n===void 0||(o=n.isSupportVideoShareReceive)===null||o===void 0||!o.call(n))}static getVideoProcessorCapability(n){var o;return!((o=window.JsMediaSDK_Instance)===null||o===void 0||(o=o.util)===null||o===void 0||!o.isSupportVideoProcessor(n))}static getAudioProcessorCapability(n){var o;return!((o=window.JsMediaSDK_Instance)===null||o===void 0||(o=o.util)===null||o===void 0||!o.isSupportAudioProcessor(n))}static getShareProcessorCapability(n){var o;return!((o=window.JsMediaSDK_Instance)===null||o===void 0||(o=o.util)===null||o===void 0||!o.isSupportShareProcessor(n))}static isSupportVideoShareSend(){var n,o;return!((n=window.JsMediaSDK_Instance)===null||n===void 0||(n=n.util)===null||n===void 0||(o=n.isSupportVideoShareSend)===null||o===void 0||!o.call(n))}static isSupportSending720P(){var n;return!((n=window.JsMediaSDK_Instance)===null||n===void 0||(n=n.util)===null||n===void 0||!n.get720pcapacity())}static isSupportSubscribing1080P(){var n;return!((n=window.JsMediaSDK_Instance)===null||n===void 0||(n=n.util)===null||n===void 0||!n.getsub1080pcapacity())}static isSupportOpenMicWhenShareAudio(n){var o;return!((o=window.JsMediaSDK_Instance)===null||o===void 0||!o.util.isSupportOpenMicWhenShareAudio(n))}static isSupportMediaPlaybackAsVideoInput(){var n;return!((n=window.JsMediaSDK_Instance)===null||n===void 0||(n=n.util.videoToMediaStreamManager)===null||n===void 0||!n.isSupported())}static isSupportMediaPlaybackAsAudioInput(){var n;return!((n=window.JsMediaSDK_Instance)===null||n===void 0||(n=n.util.audioToMediaStreamMananger)===null||n===void 0||!n.isSupported())}static isSupportAudioDenoise(n,o){var i;return!((i=window.JsMediaSDK_Instance)===null||i===void 0||!i.util.isSupportAudioDenoise(n,o))}static isSupportAudioBridgeAVSync(){var n;return!((n=window.JsMediaSDK_Instance)===null||n===void 0||!n.util.isSupportAudioBridgeAvsync())}static getAudioFeatureFlag(n){var o;return(o=window.JsMediaSDK_Instance)===null||o===void 0?void 0:o.util.getAudioFeatureFlags(n)}static isSupportShareMultiStream(){var n;return(n=window.JsMediaSDK_Instance)===null||n===void 0?void 0:n.util.isSupportShareMultiStream()}static isSupportVideoLTR(){var n;return(n=window.JsMediaSDK_Instance)===null||n===void 0?void 0:n.util.isSupportVideoLTR()}static isSupportStereoAudio(){var n;return!((n=window.JsMediaSDK_Instance)===null||n===void 0||!n.util.isBrowserSupportStereo())}static isSupportFullHDVideo(n){var o;return!((o=window.JsMediaSDK_Instance)===null||o===void 0||!o.util.isSupportSendVideoFullHD(n))}static isSupportFullHDVideoShare(n){var o;return!((o=window.JsMediaSDK_Instance)===null||o===void 0||!o.util.isSupportSendVideoShareFullHD(n))}static isRenderSelfViewWithVideoElement(){var n;return!((n=window.JsMediaSDK_Instance)===null||n===void 0||!n.util.isSelfPreviewRenderWithVideo())}static getWebRTCCapability(n,o,i){var c;return(c=window.JsMediaSDK_Instance)===null||c===void 0?void 0:c.util.evaluateWebRTCStrategy(n,o,i)}static getMaxCountRender(n,o,i){var c;const d=i?{disableRenderLimits:!0}:o;return(c=window.JsMediaSDK_Instance)===null||c===void 0?void 0:c.util.getMaxCountRender(n,d)}static isSupportMultipleView(){var n;return(n=window.JsMediaSDK_Instance)===null||n===void 0?void 0:n.util.isSupportMultiViewAPI()}static isSupportShare2ndAudioDevice(n){var o;return!((o=window.JsMediaSDK_Instance)===null||o===void 0||!o.util.isSupportShare2ndAudioDevice(n))}static getWebRtcAudioMode(n,o,i,c){var d;return(d=window.JsMediaSDK_Instance)===null||d===void 0?void 0:d.util.evaluateAudioStrategy(n,o,i,c)}static getAnnotationCapability(n){var o;return(o=window.JsMediaSDK_Instance)===null||o===void 0?void 0:o.util.getAnnotationCapability(n)}connect({svcUrl:n,meetingNumber:o,conId:i,confId:c,e2eEncrypt:d,isViewOnly:p,currentUserId:v,isWebinar:S,enableWebtransport:T=!1,webtransportPort:x,isWebRtcVideoCapable:P,rendererType:B,isWebRtcAudioCapable:U,mediasdkConfig:j,enforceMultipleVideos:W,disableRenderLimits:Z,reportDomain:re,abToken:le,webrtcMode:ie}){var be,Ce,Ae,F;const{isSupportEssentialAudioAndVideoAbility:Ie,isSupportAudioWorklet:tt,isSupportSendScreenSharing:Xe}=Yo;this.svcUrl=n,this.meetingNumber=o,this.confId=i,this.currentUserId=v;const Ve=Ns.getMaxCountRender(P,W,Z);if((be=this.instance)===null||be===void 0||be.setProps({callback:this.onMediaSDKCallback,isPreviewMode:!1,meetingParams:{cid:i,confId:c,userId:v,rwgHost:n,nginxHost:re,abToken:le,e2eEncrypt:d,enableWebtransport:T,webtransportPort:x,rwgToMediaSDKConfig:j,webrtcMode:ie},mediaParams:{videoDecodeThreadNum:Ve,rendererType:B,isEnableHD:!0,isEnableHW:!0}}),((Ce=this.constraints)===null||Ce===void 0?void 0:Ce.audio)===!0&&Ie){const ot=tt||U;var Re,vt;(S||ot)&&((Re=this.instance)===null||Re===void 0||Re.initAudioDecode()),!ot||S&&p||(vt=this.instance)===null||vt===void 0||vt.initAudioEncode()}var mt,gt,te,hn;((Ae=this.constraints)===null||Ae===void 0?void 0:Ae.video)===!0&&Ie&&((mt=this.instance)===null||mt===void 0||mt.initVideoDecode(),S&&p||(gt=this.instance)===null||gt===void 0||gt.initVideoEncode()),((F=this.constraints)===null||F===void 0?void 0:F.screen)===!0&&Ie&&((te=this.instance)===null||te===void 0||te.initSharingDecode(),!Xe||S&&p||(hn=this.instance)===null||hn===void 0||hn.initSharingEncode()),this.inProgress=!0}async addProcessor(n){var o;return await((o=this.instance)===null||o===void 0?void 0:o.addProcessor(n))}async startProcessor(n){var o;await((o=this.instance)===null||o===void 0?void 0:o.startProcessor(n))}async stopProcessor(n){var o;await((o=this.instance)===null||o===void 0?void 0:o.stopProcessor(n))}async destroy(){var n;this.callbackList=[],[Op.AudioDecode,Op.AudioEncode,Op.VideoDecode,Op.VideoEncode].forEach((i=>{var c;(c=this.instance)===null||c===void 0||c.updateQosSubscription(!1,i)}));const o=(n=this.instance)===null||n===void 0?void 0:n.destroy.bind(this.instance);this.instance=null,this.inProgress=!1,await(o==null?void 0:o())}disconnect(){var n,o;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(17,{}),(o=this.instance)===null||o===void 0||o.JsMediaSDK_UnInit()}muteAudio(){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(8,{ssrc:0})}unmuteAudio(){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(7,{ssrc:0,AudioSelectValue:0})}joinComputerAudio(n,o,i,c,d,p,v){var S;const T=v?{...v,enableHID:!0}:{enableHID:!1};return(S=this.instance)===null||S===void 0?void 0:S.Notify_MeidaSDK(22,{CaptureAudio:c,CaptureAudioInfo:{ssrc:n,AudioSelectValue:o==="default"?null:o,...T,audioProfile:d},speakerInfo:{defaultDeviceId:i},audioBridge:!!p})}leaveComputerAudio(){var n;return(n=this.instance)===null||n===void 0?void 0:n.Notify_MeidaSDK(21,null)}joinSharingAudio({ssrc:n,microphoneDeviceId:o,speakerDeviceId:i,isCaptureAudio:c,audioBridge:d}){var p;return(p=this.instance)===null||p===void 0?void 0:p.Notify_MeidaSDK(72,{CaptureAudio:c,CaptureAudioInfo:{ssrc:n,AudioSelectValue:o==="default"?null:o},speakerInfo:{defaultDeviceId:i},checkAutoplay:!1,audioBridge:!!d})}leaveSharingAudio(n){var o;return(o=this.instance)===null||o===void 0?void 0:o.Notify_MeidaSDK(73,{isPause:n?1:0})}changeSpeaker(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(11,{ssrc:0,AudioSelectValue:n})}changeMicrophone(n,o,i){var c;(c=this.instance)===null||c===void 0||c.Notify_MeidaSDK(18,{ssrc:0,AudioSelectValue:n==="default"?null:n,microphoneLabel:o??"default",defaultMuted:i})}restoreWebRTC(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(19,{ssrc:0,AudioSelectValue:n==="default"?null:n})}renderVideo(n,o,i,c,d,p,v,S,T,x,P){var B;const U={userId:o,width:c,height:d,x:p,y:v,quality:S,isMyself:T,canvas:n,enableWaterMark:P,waterMarkText:x,zone:i};G_(n)&&Object.assign(U,{videodom:n}),(B=this.instance)===null||B===void 0||B.Notify_MeidaSDK(1,U)}stopRenderVideo(n,o,i,c,d=!1){var p;(p=this.instance)===null||p===void 0||p.Notify_MeidaSDK(2,{canvas:n,userId:o,RGBA:c,doNotClean:d,zone:i})}subscribeVideo(n,o,i){var c;(c=this.instance)===null||c===void 0||c.Notify_MeidaSDK(132,[{id:n,size:o,bOn:i}])}unsubscribeVideo(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(133,[{id:n}])}startCaptureVideo(n,o,i,c,d,p,v=!1,S,T,x){var P;const B=S?Ns.getPTZCapability():void 0;(P=this.instance)===null||P===void 0||P.Notify_MeidaSDK(3,{ssid:n,width:i,height:c,fps:T,video:d,usingFacingMode:p,VideoSelectValue:o==="default"?null:o,disableOriginalRatio:v,customConstraints:x,...B})}stopCaptureVideo(){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(4,{ssrc:0})}changeCamera(n,o,i,c){var d;const p=c?{}:{customConstraints:void 0};(d=this.instance)===null||d===void 0||d.Notify_MeidaSDK(12,{VideoSelectValue:n==="default"?null:n,usingFacingMode:!!o,...i||{},...p})}switchCanvasForVideoCapture(n){var o;let i=n;typeof n=="string"&&(i=[n]),(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(25,i)}renderSharing(n,o,i=!1,c="",d=!1){var p;this.receivedSharingCanvas=o,(p=this.instance)===null||p===void 0||p.Notify_MeidaSDK(23,{width:0,height:0,ssrc:n,canvas:o,enableWaterMark:i,waterMarkText:c,isFromMainSession:d})}stopRenderSharing(){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(24,{})}switchSharingSource(n,o=!1){var i;this.receivedSharingCanvas&&(this.stopRenderSharing(),this.renderSharing(n,this.receivedSharingCanvas,!1,"",o)),(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(36,{ssrc:n,isFromMainSession:Number(o)})}ajustmentReceivedSharingCanvas(n,o){if(this.receivedSharingCanvas&&n&&o)try{if(Yo.isAndroidOrIOSBrowser){const[i,c]=[1280,720],d=Math.max(n/i,o/c,1);this.receivedSharingCanvas.width=Math.floor(n/d),this.receivedSharingCanvas.height=Math.floor(o/d)}else this.receivedSharingCanvas.width=n,this.receivedSharingCanvas.height=o}catch{}}startRemoteControl(n,o,i){var c;(c=this.instance)===null||c===void 0||c.Notify_MeidaSDK(26,{socketURL:`wss://${this.svcUrl}`,meetingID:this.meetingNumber,condID:this.confId,os:o,dom:n,...i})}stopRemoteControl(){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(28)}resendRemoteControlPositionPDU(){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(41)}updateRemoteControlProperties(n){var o;const{dimension:i,...c}=n;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(27,{...i,...c})}startDesktopSharing(n,o,i,c,d=!0,p,v,S){var T;this.sharingCanvas=o;const x={};c&&Object.assign(x,{share2ndCamera:!0,share2ndCameraParams:{VideoSelectValue:c.cameraId==="default"?null:c.cameraId,width:c.width,height:c.height}}),p!==void 0&&Object.assign(x,{videoParams:{displaySurface:p}}),S!==void 0&&Object.assign(x,{otherParams:{...S}}),(T=this.instance)===null||T===void 0||T.Notify_MeidaSDK(30,{ssid:n,canvas:o,video:i,...x,showShareAudioOption:d,sourceId:v,noPreview:!0})}stopDesktopSharing(){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(31,{})}pauseDesktopSharing(){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(32,{})}updateSharingInfo(n,o){var i;(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(153,{shareSessionId:n,userName:o})}resumeDesktopSharing(){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(33,{})}selectLanguageChannelForNewLTT(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(57,{lang:n})}changeSharingSecondCamera(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(49,{VideoSelectValue:n})}ajustmentSharingCanvas(n,o){if(this.sharingCanvas)try{this.sharingCanvas.width=n,this.sharingCanvas.height=o}catch{}}startPresenterAnnotation(n,o,i){const c={shareSessionId:n,presenterId:o,userName:i};var d;this.sharingCanvas&&(this.annotationPresenterCanvas||(this.annotationPresenterCanvas=bEe(this.sharingCanvas,wEe+"PRESENTER",(()=>{this.updatePresenterAnnotationCanvas()}))),this.annotationPresenterCanvas&&(Object.assign(c,{localShareCanvas:this.sharingCanvas,annoPresenterCanvas:this.annotationPresenterCanvas,isPresenter:!0}),(d=this.instance)===null||d===void 0||d.Notify_MeidaSDK(150,c),this.updatePresenterAnnotationCanvas()))}startViewerAnnotation(n,o,i){const c={shareSessionId:n,presenterId:o,userName:i};var d,p;this.receivedSharingCanvas?(this.annotationCanvas?(this.annotationCanvas.parentNode&&(this.annotationCanvas.parentNode.style.display="block"),this.annotationCanvas.style.display="block"):this.annotationCanvas=bEe(this.receivedSharingCanvas,wEe+"VIEWER",(()=>{this.updateViewerAnnotationCanvas()})),this.annotationCanvas&&(Object.assign(c,{canvas:this.receivedSharingCanvas,annoCanvas:this.annotationCanvas,isPresenter:!1}),(d=this.instance)===null||d===void 0||d.Notify_MeidaSDK(150,c),this.updateViewerAnnotationCanvas())):(p=this.instance)===null||p===void 0||p.Notify_MeidaSDK(150,{...c,isPresenter:!1})}stopPresenterAnnotation(n){var o;this.annotationPresenterCanvas&&typeof this.annotationPresenterCanvas._overlayCleanup=="function"&&(this.annotationPresenterCanvas._overlayCleanup(),this.annotationPresenterCanvas=null),(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(156,{presenterId:n})}hideViewerAnnotationCanvas(){this.annotationCanvas&&(this.annotationCanvas.style.display="none",this.annotationCanvas.parentNode)&&(this.annotationCanvas.parentNode.style.display="none")}removeViewerAnnotationCanvas(){this.annotationCanvas&&typeof this.annotationCanvas._overlayCleanup=="function"&&(this.annotationCanvas._overlayCleanup(),this.annotationCanvas=null)}stopViewerAnnotation(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(156,{presenterId:n})}annotateAction(n,o={}){var i;(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(g5,{actionType:n,...o})}updatePresenterAnnotationCanvas(){if(this.sharingCanvas){var n,o;const{size:i,position:c}=yEe(this.sharingCanvas);(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(g5,{actionType:xp.ANNO_CANVAS_SIZE_UPDATE,...i}),(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(g5,{actionType:xp.UPDATE_REMOTE_POSITION_INFO,...c})}}updateViewerAnnotationCanvas(){if(this.receivedSharingCanvas){var n,o;const{size:i,position:c}=yEe(this.receivedSharingCanvas);(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(g5,{actionType:xp.ANNO_CANVAS_SIZE_UPDATE,...i}),(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(g5,{actionType:xp.UPDATE_REMOTE_POSITION_INFO,...c})}}enableAudioEncode(){var n;(n=this.instance)===null||n===void 0||n.initAudioEncode()}sendUserNodeList(n,o){var i;(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(43,{userList:n,encryptKey:o})}updateRenderedSharingDimension(n,o){var i;(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(44,{width:n,height:o})}pauseOrResumeAudio(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(45,{bPause:n})}updateRenderedVideoCanvasDimension(n,o,i){var c;(c=this.instance)===null||c===void 0||c.Notify_MeidaSDK(46,{canvas:n,width:o,height:i})}clearVideoCanvas(n,o){var i;(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(47,{id:n,RGBA:o})}adjustRenderedVideoPosition(n,o,i,c,d,p,v,S){var T;(T=this.instance)===null||T===void 0||T.Notify_MeidaSDK(48,{userId:o,x:c,y:d,width:p,height:v,canvas:n,zone:i,RGBA:S})}mirrorVideo(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(75,{isMirrorMyVideo:n})}updateUserMediaSN(n){var o,i,c;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(80,{isFromMainSession:Number(n.isFromMainSession),mediaActionType:n.iVType,body:{add:(i=n.added)!==null&&i!==void 0?i:[],remove:(c=n.removed)!==null&&c!==void 0?c:[]}})}updateMediaParams(n){var o;const{iVType:i,isFromMainSession:c,updateParams:d}=n;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(81,{mediaActionType:i,isFromMainSession:Number(c),updateParams:d})}createMainSessionChannel(n,o){var i,c;n==="sharing"?(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(84,o):(c=this.instance)===null||c===void 0||c.Notify_MeidaSDK(85,o)}addReceivedSharingChannelType(n){var o;const{isFromMainSession:i,...c}=n;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(82,{isFromMainSession:Number(i),...c})}removeReceivedSharingChannelType(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(83,{isFromMainSession:Number(n.isFromMainSession),ssrc:n.ssrc})}beforeReportToGlobalTracing(){var n,o;(n=this.instance)===null||n===void 0||(o=n.beforeReportToGlobalTracing)===null||o===void 0||o.call(n)}enableHardwareAccelerationForVideoDecode(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(70,{enable:n})}enableHardwareAccelerationForVideoEncode(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(71,{enable:n})}setSharingAudioVolume(n,o,i,c=!1){var d;(d=this.instance)===null||d===void 0||d.Notify_MeidaSDK(74,{userid:n>>10,shareVolume:o?0:100,isFromMainSession:i,isSecondAudio:c})}subscribeToQos(n,o){n.forEach((i=>{var c;(c=this.instance)===null||c===void 0||c.updateQosSubscription(!0,i,o)}))}unsubscribeFromQos(n){n.forEach((o=>{var i;(i=this.instance)===null||i===void 0||i.updateQosSubscription(!1,o)}))}passThroughRWGMessage(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(40,n)}startVirtualBackgroundSetting(n,o,i,c,d,p,v=!1,S){var T;(T=this.instance)===null||T===void 0||T.Notify_MeidaSDK(91,{canvas:n,bgdom:o,width:d,height:p,ssid:i,VideoSelectValue:c==="default"?null:c,disableOriginalRatio:v,id:S})}updateVirtualBackgroundImage(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(92,{bgdom:n})}stopVirtualBackgroundSetting(n=!1){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(93,{isSwitch:n})}startMaskSetting(n,o,i,c,d,p,v,S,T){var x;(x=this.instance)===null||x===void 0||x.Notify_MeidaSDK(62,{canvas:n,maskdom:i,bgdom:o,dx:0,dy:0,dWidth:p,dHeight:v,width:S,height:T,ssid:c,VideoSelectValue:d==="default"?null:d})}updateMaskBackgroundImage(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(63,{bgdom:n})}updateMaskClip(n,o,i){var c;(c=this.instance)===null||c===void 0||c.Notify_MeidaSDK(64,{maskdom:n,dx:0,dy:0,dWidth:o,dHeight:i})}stopMaskSetting(n=!1){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(65,{isSwitch:n})}enableVideoObserver(n,o=!1){var i;(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(99,{enable:n,fpsdisbale:o})}enableShareAudioToBreakoutRoom(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(86,{enable:n})}sendUserAudioStatus(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(51,n)}muteOrUnmuteOtherAudio(n,o){var i;(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(50,{userId:n,volume:o?0:100})}adjustOtherAudioVolume(n,o){var i;(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(50,{userId:n,volume:o})}notifySDKMeetingReady(){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(113)}movePTZCamera(n){var o;return(o=window.JsMediaSDK_Instance)===null||o===void 0||(o=o.util)===null||o===void 0?void 0:o.queryPTZPermisson().then((i=>{var c;return i?((c=this.instance)===null||c===void 0||c.Notify_MeidaSDK(53,n),Promise.resolve("")):Promise.reject("Cannot move camera without permission granted")}))}switchSharingMode(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(101,{mode:n})}updateVideoHDValue(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK("update_videohd_value",{videohd:n})}updateVideoFullhdValue(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK("update_videofullhd_value",{videofullhd:n})}changeAudioProfile(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(126,n)}enableSyncButtonsOnHeadset(n,o,i){var c;(c=this.instance)===null||c===void 0||c.Notify_MeidaSDK(100,{enable:n,microphoneLabel:o,defaultMuted:i})}stopAllIncomingAudio(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(123,n)}isSharingEntireScreen(){var n,o;const i=(n=this.instance)===null||n===void 0||(o=n.getShareStreamInfo)===null||o===void 0?void 0:o.call(n);if(i){const{displaySurface:c}=i;return!c||c==="monitor"}return!1}getShareStreamInfo(n=!1){var o,i;const c=(o=this.instance)===null||o===void 0||(i=o.getShareStreamInfo)===null||i===void 0?void 0:i.call(o);if(c){const{deviceId:d,width:p,height:v}=c,S={deviceId:d,width:p,height:v};return n&&Object.assign(S,{displaySurface:c.displaySurface}),S}return{}}prefetchVideoSsrc(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(110,{ssrc:n})}cancelPrefetchVideoSsrc(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(112,{ssrc:n,haddata:!1})}setMobileRotateMode(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(124,{isLandScape:n})}changeActiveVideoSsrc(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(13,{ssrc:n})}setAudioCodecMode(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(122,{mode:n})}startRemoteControlQRCheck(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(54,{enable:n})}broadcastVoiceToBreakoutRoom(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(87,{enable:n})}share2ndAudio(n,o){var i;const c={audioOnly:!0,deviceId:n==="default"?null:n};o&&Object.assign(c,o),(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(129,c)}enablePlayAudioFileLocally(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(138,n)}bypassMediaMessage(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(128,n)}screenshot(n,o){var i;return(i=this.instance)===null||i===void 0?void 0:i.ScreenShot(n,o)}}Ns.agentInstance=void 0;const h4=typeof Buffer=="function",QEe=typeof TextDecoder=="function"?new TextDecoder:void 0,ewe=typeof TextEncoder=="function"?new TextEncoder:void 0,B5=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),WY=(()=>{let e={};return B5.forEach(((n,o)=>e[n]=o)),e})(),z7e=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Tm=String.fromCharCode.bind(String),twe=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),sPe=e=>e.replace(/=/g,"").replace(/[+\/]/g,(n=>n=="+"?"-":"_")),rPe=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),iPe=typeof btoa=="function"?e=>btoa(e):h4?e=>Buffer.from(e,"binary").toString("base64"):e=>{let n,o,i,c,d="";const p=e.length%3;for(let v=0;v<e.length;){if((o=e.charCodeAt(v++))>255||(i=e.charCodeAt(v++))>255||(c=e.charCodeAt(v++))>255)throw new TypeError("invalid character found");n=o<<16|i<<8|c,d+=B5[n>>18&63]+B5[n>>12&63]+B5[n>>6&63]+B5[63&n]}return p?d.slice(0,p-3)+"===".substring(p):d},Wge=h4?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let o=0,i=e.length;o<i;o+=4096)n.push(Tm.apply(null,e.subarray(o,o+4096)));return iPe(n.join(""))},j7e=e=>{if(e.length<2)return(n=e.charCodeAt(0))<128?e:n<2048?Tm(192|n>>>6)+Tm(128|63&n):Tm(224|n>>>12&15)+Tm(128|n>>>6&63)+Tm(128|63&n);var n=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return Tm(240|n>>>18&7)+Tm(128|n>>>12&63)+Tm(128|n>>>6&63)+Tm(128|63&n)},W7e=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,nwe=h4?e=>Buffer.from(e,"utf8").toString("base64"):ewe?e=>Wge(ewe.encode(e)):e=>iPe((n=>n.replace(W7e,j7e))(e)),G7e=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,q7e=e=>{switch(e.length){case 4:var n=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return Tm((n>>>10)+55296)+Tm(56320+(1023&n));case 3:return Tm((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return Tm((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},aPe=typeof atob=="function"?e=>atob(rPe(e)):h4?e=>Buffer.from(e,"base64").toString("binary"):e=>{if(e=e.replace(/\s+/g,""),!z7e.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let n,o,i,c="";for(let d=0;d<e.length;)n=WY[e.charAt(d++)]<<18|WY[e.charAt(d++)]<<12|(o=WY[e.charAt(d++)])<<6|(i=WY[e.charAt(d++)]),c+=o===64?Tm(n>>16&255):i===64?Tm(n>>16&255,n>>8&255):Tm(n>>16&255,n>>8&255,255&n);return c},Z7e=h4?e=>twe(Buffer.from(e,"base64")):e=>twe(aPe(e).split("").map((n=>n.charCodeAt(0)))),K7e=h4?e=>Buffer.from(e,"base64").toString("utf8"):QEe?e=>QEe.decode(Z7e(e)):e=>(n=>n.replace(G7e,q7e))(aPe(e)),lPe=(e,n=!1)=>n?sPe(nwe(e)):nwe(e),Y7e=e=>K7e((n=>rPe(n.replace(/[-_]/g,(o=>o=="-"?"+":"/"))))(e)),X7e=(e,n=!1)=>n?sPe(Wge(e)):Wge(e);function Su(e){return lPe(e,!0)}function Qy(e){return Y7e(e)}function cPe(e){return lPe(e,!1)}const J7e={"-":"+",_:"/",".":"="};function j0(e){const n=e.replace(/[-_.]/g,(o=>J7e[o]));return Uint8Array.from(window.atob(n),(o=>o.charCodeAt(0)))}const uPe=e=>{const n=e.charCodeAt(0);return n<=parseInt("0x7F",16)?1:n<=parseInt("0x7FF",16)?2:n<=parseInt("0xFFFF",16)?3:n<=parseInt("0x1FFFFF",16)?4:n<=parseInt("0x3FFFFFF",16)?5:6},gQ=(e,n)=>{const o=e.split(".").map((d=>Number(d))).slice(0,3),i=n.split(".").map((d=>Number(d))).slice(0,3);let c=0;for(let d=0;d<3;d++){const p=d<o.length?o[d]:0,v=d<i.length?i[d]:0;if(p<v){c=-1;break}if(p>v){c=1;break}}return c},vQ=e=>{var n;let o=new Date().getTime(),i=1e3*((n=performance)===null||n===void 0?void 0:n.now())||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(d=>{let p=16*Math.random();return o>0?(p=(o+p)%16|0,o=Math.floor(o/16)):(p=(i+p)%16|0,i=Math.floor(i/16)),(d==="x"?p:3&p|8).toString(16)}))+""};function Ez(e,n){if(e===n)return!0;if(!e||!n)return!1;const o=Object.keys(e),i=Object.keys(n),c=o.length;if(i.length!==c)return!1;for(let d=0;d<c;d++){const p=o[d];if(e[p]!==n[p]||!Object.prototype.hasOwnProperty.call(n,p))return!1}return!0}const qf=(e,n)=>e>>10==n>>10,Kee=(e,n)=>new Promise((o=>{setTimeout((()=>{o(e())}),n)})),q_=e=>{const n=`${Math.floor(1e4*Math.random())}`;return e.indexOf("@")>-1?e.replace("@",n):`${e}${n}`},Rb=e=>{try{const n=new URL(e);return!(n.protocol==="data:"&&n.origin==="null")&&n.origin!==location.origin}catch{return!0}},aA=e=>{const n=e.split(".")[1];if(typeof n=="string"){let o=n.replace(/-/g,"+").replace(/_/g,"/");switch(o.length%4){case 0:break;case 2:o+="==";break;case 3:o+="=";break;default:throw new Error("base64 string is not of the correct length")}try{const i=decodeURIComponent(window.atob(o).replace(/(.)/g,(function(c,d){let p=d.charCodeAt(0).toString(16).toUpperCase();return p.length<2&&(p="0"+p),"%"+p})));return JSON.parse(i)}catch{console.error("Invalid token specified: invalid base64")}}};function Yee(e){return e&&e.endsWith("/")?e.slice(0,e.length-1):e}function dPe(e){return[...new Uint8Array(e)].map((n=>n.toString(16).padStart(2,"0"))).join("")}function owe(e){return`${e.tagName}${e.id?`#${e.id}`:""}${e.className?`${e.className.split(" ").map((n=>`.${n}`)).join("")}`:""}`}function hPe(e){const n=(function(o){const i=o&&o.getRootNode();if(i&&i.nodeName!=="#document"&&i.host)return owe(i.host)})(e);return`${n?`${n}>`:""}${owe(e)}`}function bQ(e){return typeof e=="object"&&e!==null?Uee(e,HTMLElement)?hPe(e):ArrayBuffer.isView(e)?dPe(e.buffer):Array.isArray(e)?e.map((n=>bQ(n))):Object.keys(e).reduce(((n,o)=>({...n,[`${o}`]:bQ(e[o])})),{}):e}const Q7e=[xX,OX,q2].map((e=>Yke(e,{hostname:!0})));function fPe(e){return Q7e.some((n=>new RegExp(`^https://${n}`).test(e??"")))}const Gf=(e,n,o)=>lye([n,o].map(((i,c)=>{if(i!=="initial")return eo([i==="success"]);{const d=c===0?"ENCODE":"DECODE";return Np(xa(`${e.toUpperCase()}_${d}_SUCCESS`,1).pipe(xo((()=>!0))),xa(`${e.toUpperCase()}_${d}_FAIL`,1).pipe(xo((()=>!1))))}}))),Hk=e=>{const n=gs(e.value);return n?Ua(n):xa(Sz,1).pipe(ed(sA),ts(e),xo((([,o])=>gs(o))))};function Gge(e,n){var o,i,c;const d=e==="audio"?(o=n.audio)===null||o===void 0?void 0:o.audioSsrc:(i=n.video)===null||i===void 0?void 0:i.videoSsrc,p=e==="audio"?rMe:jDe;return e==="audio"&&(c=n.audio)!==null&&c!==void 0&&c.isWebRtcAudioCapable||d?Promise.resolve():yr(p)}const $k=()=>eo(navigator.mediaDevices.enumerateDevices()).pipe(xo((e=>{const n=[],o=[],i=[];return e.forEach((c=>{const{kind:d,deviceId:p,label:v}=c,S=v.replace(/\([\w,\d]+:[\w,\d]+\)/i,"").trim();switch(d){case"audioinput":p==="communications"||/ZoomAudioDevice/i.test(S)||/Zoom-\S*/.test(S)||/CubebAggregateDevice\S*/.test(S)||/Microsoft Teams Audio/i.test(S)||n.push({deviceId:p,label:S});break;case"audiooutput":p==="communications"||/ZoomAudioDevice/i.test(S)||/Microsoft Teams Audio/i.test(S)||o.push({deviceId:p,label:S});break;case"videoinput":i.push({deviceId:p,label:S})}})),{microphones:n,speakers:o,cameras:i}})));function yQ(e){const{x:n,y:o,width:i,height:c}=e.getBoundingClientRect();return{scaleWidth:i,scaleHeight:c,srcOffsetX:n,srcOffsetY:o}}function SQ(e){if(e){let o=e;try{const i=e.width;e.width=i}catch{var n;o=e.cloneNode(!0),(n=e.parentNode)===null||n===void 0||n.replaceChild(o,e)}return o}return e}function swe(){try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(L8e)}catch{return!1}}function GY(){var e;return(e=WebAssembly)===null||e===void 0?void 0:e.validate(B8e)}const pPe=(()=>{const e=new oPe;return{withAudioAction:n=>(...o)=>new Promise((async(i,c)=>{let d=!1;const p=setTimeout((()=>{d=!0,e.release()}),3e4);try{await e.acquire(),d||clearTimeout(p),i(n(...o))}catch(v){d||(clearTimeout(p),c(v))}})),processAudioAction:n=>e.acquire().then((()=>n())),completeAudioAction:()=>{e.release()},cancelAllAudioAction:()=>{e.cancel()}}})();function Xee(e){const n=["joinComputerAudio","joinSharingAudio","leaveComputerAudio","leaveSharingAudio"];return new Proxy(e,{get:(o,i)=>typeof i=="string"&&n.includes(i)?function(...c){return pPe.withAudioAction(o[i].bind(o))(...c)}:Reflect.get(o,i)})}function qge(e,n){var o;const{browserVersion:i,isChrome:c,isFirefox:d,isSafari:p,isAndroidOrIOSBrowser:v,isSupportMediaStreamTrackProcessor:S,isSupportOffscreenCanvas:T,isSwiftShader:x}=Yo,P=Number(i==null||(o=i.match(/^\d+/))===null||o===void 0?void 0:o[0]),B=c&&P>=91,U=d&&P>=89,j=p&&gQ(i,"17.4")>=0,W=navigator.hardwareConcurrency>2;let Z=Ns.isSupportMultipleView();return e&&!Z&&(Z=T&&S),!v&&!x&&(Z||n)&&(B||U||j)&&W}const gpe=(e,n)=>{const o=document.createElement("link");return o.rel="preload",o.href=e,o.as=n,o.crossOrigin="anonymous",o},Sx=(e,n,o)=>{const i=[],c=[],d=Array.isArray(e)?e:[e];return H8e.filter((p=>{var v;return d.includes(p.category)&&(p.tag===n||((v=p.tag)===null||v===void 0?void 0:v.split(",").includes(n)))})).forEach((p=>{p.type==="worker"?i.push(`${o}${p.name}`):p.type==="wasm"&&c.push(`${o}${p.name}`)})),{workers:i,wasms:c}};function mPe(e,n){const o={},{isSupportSharedArrayBuffer:i,isSupportOffscreenCanvas:c,isSupportMediaStreamTrackProcessor:d,isAndroidOrIOSBrowser:p,isHarmonyOS:v}=Yo;return i||(Object.assign(o,{enableMultiDecodeVideoWithoutSAB:!!e}),c&&d&&Object.assign(o,{enableVirtualBackgroundWithoutSAB:!!n})),Object.assign(o,{platformMode:{isDesktopMode:!(p||v)}}),o}function vpe(e,n,o){if(e.deviceId===n)return!0;if(n==="default"){const i=o.find((c=>c.deviceId===n));if(i)return i.label.indexOf(e.label)>-1}return!1}function b5(e){return e.find((n=>n.deviceId==="default"))}const Zge=(()=>{let e,n=!1;return{watch:function(o){n=!0,e=Promise.race([o,Kee((()=>!0),1e4)]).then((()=>{e=void 0,n=!1})).finally((()=>{e=void 0,n=!1}))},acquire:function(){return n&&e?e:Promise.resolve()}}})(),V5=(e,n)=>yr({event:dye,operations:[En((o=>o[`${e}`]!==void 0)),Qr(1)]},(o=>o[`${e}`]===n));function rwe(e,n,o,i){const c={play:()=>e.play(),pause:()=>e.pause(),get paused(){return e.paused},get muted(){return e.muted},set muted(d){e.muted=d},get currentTime(){return e.currentTime},set currentTime(d){e.currentTime=d},get loop(){return e.loop},set loop(d){e.loop=d}};if(n==="audio"){const{audio:{mediaPlaybackFile:d}}=o;Object.defineProperty(c,"playback",{get(){const p=e.dataset.playback;return p!==void 0?p==="1":!(d==null||!d.playback)},set(p){i.enablePlayAudioFileLocally(p),e.dataset.playback=p?"1":"0"}})}return c}function Kge(){return Np(ah(document,"click").pipe(Qr(1)),ah(document,"touchend").pipe(Qr(1))).pipe(Nh(iA()))}function gPe(e,n){const{audio:{activeMicrophone:o,microphoneDevicesList:i}}=n,c=i.find((p=>p.deviceId===o)),d=gs(n);e.changeMicrophone(o,c==null?void 0:c.label,!(d==null||!d.muted))}function vPe(e,n,o,i){var c;const{audio:d,share:{isReceiveSharingFromMainSession:p}}=o;if((d==null||(c=d.localShareAudioUserMutedList)===null||c===void 0?void 0:c.length)>0){const{localShareAudioUserMutedList:v}=d,S=v.filter((T=>T.userId!==e));if(S.length){const T=Ba(o);S.forEach((x=>{const P=T.find((B=>B.userId===x.userId));P&&!P.audioShare&&i.setSharingAudioVolume(x.userId,!0,x.isFromMainSession)}))}}i.setSharingAudioVolume(e,n,!!p)}function eWe(e,n){let o=0;return e&&(o|=mge.WebRTCAudio),n&&(o|=mge.WebRTCVideo),o}function bPe(){var e,n;return"orientation"in window.screen?(e=screen.orientation.type)===null||e===void 0?void 0:e.startsWith("landscape"):"orientation"in window?Math.abs(window.orientation)===90:"matchMedia"in window?!((n=window.matchMedia("(orientation: landscape)"))===null||n===void 0||!n.matches):screen.availWidth>screen.availHeight}function yPe(){return"orientation"in window.screen?ah(screen.orientation,"change").pipe(Nh(iA()),xo((()=>{var e;return(e=screen.orientation.type)===null||e===void 0?void 0:e.startsWith("landscape")}))):ah(window,"orientationchange").pipe(Nh(iA()),xo((e=>{var n;const o=(n=e.target)===null||n===void 0||(n=n.screen)===null||n===void 0||(n=n.orientation)===null||n===void 0?void 0:n.angle;return Math.abs(o)===90})))}function qY(e,n){var o;let i;if(typeof e=="string"){if(i=document.querySelector(e),!i)return[!1,{type:nr,reason:"Cannot find the element",errorCode:lt.STREAM_MISMATCH_RENDER_ELEMENT}]}else i=e;return((o=i)===null||o===void 0||(o=o.tagName)===null||o===void 0?void 0:o.toUpperCase())!==n.toUpperCase()?[!1,{type:nr,reason:"Invalid element type",errorCode:lt.STREAM_MISMATCH_RENDER_ELEMENT}]:[!0,i]}function iwe(e){const{share:{isRemoteSharingActive:n,isSimultaneousShareView:o}}=e;return n||o?Ua(!0):xa(d3).pipe(En((i=>{const{isActive:c}=i;return c})),Qr(1),xo((()=>!0)))}var awe,lwe,ak=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jee(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tWe=(lwe||(lwe=1,awe=function(e,n,o,i,c,d,p,v){if(!e){var S;if(n===void 0)S=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var T=[o,i,c,d,p,v],x=0;(S=new Error(n.replace(/%s/g,(function(){return T[x++]})))).name="Invariant Violation"}throw S.framesToPop=1,S}}),awe),h3=Jee(tWe),wk=function(e){return typeof e=="function"},cwe=function(e){return e.toString()},bpe=function(e){return typeof e=="string"},HX="||",_k=function(e){return e},uwe=function(e){return e===null};function Ql(e,n,o){n===void 0&&(n=_k),h3(wk(n)||uwe(n),"Expected payloadCreator to be a function, undefined or null");var i=uwe(n)||n===_k?_k:function(v){for(var S=arguments.length,T=new Array(S>1?S-1:0),x=1;x<S;x++)T[x-1]=arguments[x];return v instanceof Error?v:n.apply(void 0,[v].concat(T))},c=wk(o),d=e.toString(),p=function(){var v=i.apply(void 0,arguments),S={type:e};return v instanceof Error&&(S.error=!0),v!==void 0&&(S.payload=v),c&&(S.meta=o.apply(void 0,arguments)),S};return p.toString=function(){return d},p}var ype,dwe,hwe,fwe,pwe,mwe,V3=function(e){if(typeof e!="object"||e===null)return!1;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n},gwe=function(e){return Array.isArray(e)},SPe=function(e){return e==null},vwe=Jee((function(){if(mwe)return pwe;mwe=1;var e=(function(){if(fwe)return hwe;fwe=1;var n=(function(){if(dwe)return ype;dwe=1,ype=function(v){return o.test(v)?v.toLowerCase():i.test(v)?((function(S){return S.replace(d,(function(T,x){return x?" "+x:""}))})(v)||v).toLowerCase():c.test(v)?(function(S){return S.replace(p,(function(T,x,P){return x+" "+P.toLowerCase().split("").join(" ")}))})(v).toLowerCase():v.toLowerCase()};var o=/\s/,i=/(_|-|\.|:)/,c=/([a-z][A-Z]|[A-Z][a-z])/,d=/[\W_]+(.|$)/g,p=/(.)([A-Z]+)/g;return ype})();return hwe=function(o){return n(o).replace(/[\W_]+(.|$)/g,(function(i,c){return c?" "+c:""})).trim()}})();return pwe=function(n){return e(n).replace(/\s(\w)/g,(function(o,i){return i.toUpperCase()}))}})()),CPe=function(e){return e.indexOf("/")===-1?vwe(e):e.split("/").map(vwe).join("/")},Yge=function(e,n){return e.reduce((function(o,i){return n(o,i)}),{})},Qee=function(e){return typeof Map<"u"&&e instanceof Map};function Tye(e){if(Qee(e))return Array.from(e.keys());if(typeof Reflect<"u"&&typeof Reflect.ownKeys=="function")return Reflect.ownKeys(e);var n=Object.getOwnPropertyNames(e);return typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(e))),n}function EPe(e,n){return Qee(n)?n.get(e):n[e]}var wPe=function(e){return function n(o,i,c,d){var p=i===void 0?{}:i,v=p.namespace,S=v===void 0?"/":v,T=p.prefix;return c===void 0&&(c={}),d===void 0&&(d=""),Tye(o).forEach((function(x){var P=(function(U){return d||!T||T&&new RegExp("^"+T+S).test(U)?U:""+T+S+U})((function(U){var j;if(!d)return U;var W=U.toString().split(HX),Z=d.split(HX);return(j=[]).concat.apply(j,Z.map((function(re){return W.map((function(le){return""+re+S+le}))}))).join(HX)})(x)),B=EPe(x,o);e(B)?n(B,{namespace:S,prefix:T},c,P):c[P]=B})),c}},nWe=wPe(V3);function CQ(e){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{},i=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(o).filter((function(c){return Object.getOwnPropertyDescriptor(o,c).enumerable})))),i.forEach((function(c){oWe(e,c,o[c])}))}return e}function oWe(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function ch(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];var c,d=V3((c=o)[c.length-1])?o.pop():{};return h3(o.every(bpe)&&(bpe(e)||V3(e)),"Expected optional object followed by string action types"),bpe(e)?bwe([e].concat(o),d):CQ({},(function(p,v){return(function(S,T){var x=T===void 0?{}:T,P=x.namespace,B=P===void 0?"/":P,U=x.prefix;function j(Z,re,le){var ie=CPe(le.shift());le.length===0?re[ie]=S[Z]:(re[ie]||(re[ie]={}),j(Z,re[ie],le))}var W={};return Object.getOwnPropertyNames(S).forEach((function(Z){var re=U?Z.replace(""+U+B,""):Z;return j(Z,W,re.split(B))})),W})(_Pe(nWe(p,v)),v)})(e,d),bwe(o,d))}function _Pe(e,n){var o=n===void 0?{}:n,i=o.prefix,c=o.namespace,d=c===void 0?"/":c;return Yge(Object.keys(e),(function(p,v){var S,T=e[v];h3((function(B){if(wk(B)||SPe(B))return!0;if(gwe(B)){var U=B[0],j=U===void 0?_k:U,W=B[1];return wk(j)&&wk(W)}return!1})(T),"Expected function, undefined, null, or array with payload and meta functions for "+v);var x=i?""+i+d+v:v,P=gwe(T)?Ql.apply(void 0,[x].concat(T)):Ql(x,T);return CQ({},p,((S={})[v]=P,S))}))}function bwe(e,n){var o=_Pe(Yge(e,(function(i,c){var d;return CQ({},i,((d={})[c]=_k,d))})),n);return Yge(Object.keys(o),(function(i,c){var d;return CQ({},i,((d={})[CPe(c)]=o[c],d))}))}var sWe=function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];var i=typeof n[n.length-1]!="function"&&n.pop(),c=n;if(i===void 0)throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");return function(d,p){for(var v=arguments.length,S=Array(v>2?v-2:0),T=2;T<v;T++)S[T-2]=arguments[T];var x=d===void 0,P=p===void 0;return x&&P&&i?i:c.reduce((function(B,U){return U.apply(void 0,[B,p].concat(S))}),x&&!P&&i?i:d)}},rWe=wPe((function(e){return(V3(e)||Qee(e))&&!(function(n){var o=Tye(n),i=o.every((function(c){return c==="next"||c==="throw"}));return o.length&&o.length<=2&&i})(e)}));function Im(e,n,o){o===void 0&&(o={}),h3(V3(e)||Qee(e),"Expected handlers to be a plain object.");var i=rWe(e,o),c=Tye(i).map((function(p){return(function(v,S,T){S===void 0&&(S=_k);var x=cwe(v).split(HX);h3(T!==void 0,"defaultState for reducer handling "+x.join(", ")+" should be defined"),h3(wk(S)||V3(S),"Expected reducer to be a function or object with next and throw reducers");var P=wk(S)?[S,S]:[S.next,S.throw].map((function(j){return SPe(j)?_k:j})),B=P[0],U=P[1];return function(j,W){j===void 0&&(j=T);var Z=W.type;return Z&&x.indexOf(cwe(Z))!==-1?(W.error===!0?U:B)(j,W):j}})(p,EPe(p,i),n)})),d=sWe.apply(void 0,c.concat([n]));return function(p,v){return p===void 0&&(p=n),d(p,v)}}const Xge=Ql("SCREENSHOT_VIDEO_NOTIFICATION"),{setVideoSsrc:APe,setActiveVideoId:TPe,setCameraList:xye,setActiveCamera:F3,setIsCurrentUserStartedVideo:xPe,setSpotlightVideo:Jge,setIsCaptureForbidden:EQ,setVideoMaxQuality:OPe,setIsVideoMuted:IPe,setIsCaptureCameraLoading:qL,setIsCameraTaken:wQ,resetVideo:RPe,setReceivedVideoDimension:kPe,addSubscribedVideoId:_Q,removeSubscribedVideoId:$X,setIsFollowHostVideoLayout:DPe,setHostDragLayout:MPe,addRenderedVideoId:Ak,removeRenderedVideoId:AQ,setIsSupportHdVideo:PPe,setIsCanUnmuteVideo:NPe,setIsVbPreloadReady:Qge,setIsVbConfiged:TQ,setVbImageSrc:UX,setVideoDataEncoding:xQ,setVideoDataDecoding:OQ,setHardwareAccelerationState:VL,setVideoCaptureCustomizedOption:LPe,setNetworkQuality:eve,setVideoCameraPtzCapabilities:BPe,setIsCurrentUserRequestCameraControlled:IQ,setIsCurrentUserCameraInControl:RQ,addVideoFarEndCameraControlUser:VPe,removeVideoFarEndCameraControlUser:kQ,setVideoPtzCameraMoving:tve,setVideoPtzCameraValue:Oye,setIsControllingFarEndCamera:nve,setNetworkQualityBroadcastTime:FPe,setIsMaskConfiged:DQ,setVideoBackgroundMode:ove,setVideoMask:zX,setVideoCapturedDimension:HPe,addVideoRenderedEnsuredCanvas:$Pe,setVideoMediaPlaybackFile:sve,setPrefetchedVideoUser:f3,setVideoQosSubscriptionStatus:rve,setMiniRwgOptionValue:UPe,addVideoPlayerAttachment:Iye,removeVideoPlayerAttachment:jX,setIsWebGl2RendererType:zPe,setIsWebGpuRendererType:jPe,setVideoRendererType:WPe,setIsVideoMirrored:GPe,addSelfPreviewVideoTag:qPe,removeSelfPreviewVideoTag:Rye,setVideoLeadershipUserId:ZPe,setIsWebrtcVideoCapable:kye,removeCustomVideoConstraints:KPe}=ch("SET_VIDEO_SSRC","SET_ACTIVE_VIDEO_ID","SET_CAMERA_LIST","SET_ACTIVE_CAMERA","SET_IS_CURRENT_USER_STARTED_VIDEO","SET_SPOTLIGHT_VIDEO","SET_IS_CAPTURE_FORBIDDEN","SET_VIDEO_MAX_QUALITY","SET_IS_VIDEO_MUTED","SET_IS_CAPTURE_CAMERA_LOADING","SET_IS_CAMERA_TAKEN","RESET_VIDEO","SET_RECEIVED_VIDEO_DIMENSION","ADD_SUBSCRIBED_VIDEO_ID","REMOVE_SUBSCRIBED_VIDEO_ID","SET_IS_FOLLOW_HOST_VIDEO_LAYOUT","SET_HOST_DRAG_LAYOUT","ADD_RENDERED_VIDEO_ID","REMOVE_RENDERED_VIDEO_ID","SET_IS_SUPPORT_HD_VIDEO","SET_IS_CAN_UNMUTE_VIDEO","SET_IS_VB_PRELOAD_READY","SET_IS_VB_CONFIGED","SET_VB_IMAGE_SRC","SET_VIDEO_DATA_ENCODING","SET_VIDEO_DATA_DECODING","SET_HARDWARE_ACCELERATION_STATE","SET_VIDEO_CAPTURE_CUSTOMIZED_OPTION","SET_NETWORK_QUALITY","SET_VIDEO_CAMERA_PTZ_CAPABILITIES","SET_IS_CURRENT_USER_REQUEST_CAMERA_CONTROLLED","SET_IS_CURRENT_USER_CAMERA_IN_CONTROL","ADD_VIDEO_FAR_END_CAMERA_CONTROL_USER","REMOVE_VIDEO_FAR_END_CAMERA_CONTROL_USER","SET_VIDEO_PTZ_CAMERA_MOVING","SET_VIDEO_PTZ_CAMERA_VALUE","SET_IS_CONTROLLING_FAR_END_CAMERA","SET_NETWORK_QUALITY_BROADCAST_TIME","SET_IS_MASK_CONFIGED","SET_VIDEO_BACKGROUND_MODE","SET_VIDEO_MASK","SET_VIDEO_CAPTURED_DIMENSION","ADD_VIDEO_RENDERED_ENSURED_CANVAS","SET_VIDEO_MEDIA_PLAYBACK_FILE","SET_PREFETCHED_VIDEO_USER","SET_VIDEO_QOS_SUBSCRIPTION_STATUS","SET_MINI_RWG_OPTION_VALUE","ADD_VIDEO_PLAYER_ATTACHMENT","REMOVE_VIDEO_PLAYER_ATTACHMENT","SET_IS_WEB_GL2_RENDERER_TYPE","SET_IS_WEB_GPU_RENDERER_TYPE","SET_VIDEO_RENDERER_TYPE","SET_IS_VIDEO_MIRRORED","ADD_SELF_PREVIEW_VIDEO_TAG","REMOVE_SELF_PREVIEW_VIDEO_TAG","SET_VIDEO_LEADERSHIP_USER_ID","SET_IS_WEBRTC_VIDEO_CAPABLE","REMOVE_CUSTOM_VIDEO_CONSTRAINTS");var YPe=typeof global=="object"&&global&&global.Object===Object&&global,iWe=typeof self=="object"&&self&&self.Object===Object&&self,OE=YPe||iWe||Function("return this")(),wO=OE.Symbol,XPe=Object.prototype,aWe=XPe.hasOwnProperty,lWe=XPe.toString,y5=wO?wO.toStringTag:void 0,cWe=Object.prototype.toString,ywe=wO?wO.toStringTag:void 0;function f4(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":ywe&&ywe in Object(e)?(function(n){var o=aWe.call(n,y5),i=n[y5];try{n[y5]=void 0;var c=!0}catch{}var d=lWe.call(n);return c&&(o?n[y5]=i:delete n[y5]),d})(e):(function(n){return cWe.call(n)})(e)}function H3(e){return e!=null&&typeof e=="object"}function JPe(e){return typeof e=="symbol"||H3(e)&&f4(e)=="[object Symbol]"}var $3=Array.isArray,Swe=wO?wO.prototype:void 0,Cwe=Swe?Swe.toString:void 0;function QPe(e){if(typeof e=="string")return e;if($3(e))return(function(o,i){for(var c=-1,d=o==null?0:o.length,p=Array(d);++c<d;)p[c]=i(o[c],c,o);return p})(e,QPe)+"";if(JPe(e))return Cwe?Cwe.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n}var uWe=/\s/,dWe=/^\s+/;function V6(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var hWe=/^[-+]0x[0-9a-f]+$/i,fWe=/^0b[01]+$/i,pWe=/^0o[0-7]+$/i,mWe=parseInt;function Ewe(e){if(typeof e=="number")return e;if(JPe(e))return NaN;if(V6(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=V6(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=(function(i){return i&&i.slice(0,(function(c){for(var d=c.length;d--&&uWe.test(c.charAt(d)););return d})(i)+1).replace(dWe,"")})(e);var o=fWe.test(e);return o||pWe.test(e)?mWe(e.slice(2),o?2:8):hWe.test(e)?NaN:+e}function eNe(e){if(!V6(e))return!1;var n=f4(e);return n=="[object Function]"||n=="[object GeneratorFunction]"||n=="[object AsyncFunction]"||n=="[object Proxy]"}var wwe,Spe=OE["__core-js_shared__"],_we=(wwe=/[^.]+$/.exec(Spe&&Spe.keys&&Spe.keys.IE_PROTO||""))?"Symbol(src)_1."+wwe:"",gWe=Function.prototype.toString;function Yk(e){if(e!=null){try{return gWe.call(e)}catch{}try{return e+""}catch{}}return""}var vWe=/^\[object .+?Constructor\]$/,bWe=Function.prototype,yWe=Object.prototype,SWe=bWe.toString,CWe=yWe.hasOwnProperty,EWe=RegExp("^"+SWe.call(CWe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p4(e,n){var o=(function(i,c){return i==null?void 0:i[c]})(e,n);return(function(i){return!(!V6(i)||(c=i,_we&&_we in c))&&(eNe(i)?EWe:vWe).test(Yk(i));var c})(o)?o:void 0}var ive=p4(OE,"WeakMap"),wWe=/^(?:0|[1-9]\d*)$/;function _We(e,n){var o=typeof e;return!!(n=n??9007199254740991)&&(o=="number"||o!="symbol"&&wWe.test(e))&&e>-1&&e%1==0&&e<n}function tNe(e,n){return e===n||e!=e&&n!=n}function nNe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991}function oNe(e){return e!=null&&nNe(e.length)&&!eNe(e)}var AWe=Object.prototype;function sNe(e){var n=e&&e.constructor;return e===(typeof n=="function"&&n.prototype||AWe)}function Awe(e){return H3(e)&&f4(e)=="[object Arguments]"}var rNe=Object.prototype,TWe=rNe.hasOwnProperty,xWe=rNe.propertyIsEnumerable,iNe=Awe((function(){return arguments})())?Awe:function(e){return H3(e)&&TWe.call(e,"callee")&&!xWe.call(e,"callee")},aNe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Twe=aNe&&typeof module=="object"&&module&&!module.nodeType&&module,xwe=Twe&&Twe.exports===aNe?OE.Buffer:void 0,MQ=(xwe?xwe.isBuffer:void 0)||function(){return!1},bu={};bu["[object Float32Array]"]=bu["[object Float64Array]"]=bu["[object Int8Array]"]=bu["[object Int16Array]"]=bu["[object Int32Array]"]=bu["[object Uint8Array]"]=bu["[object Uint8ClampedArray]"]=bu["[object Uint16Array]"]=bu["[object Uint32Array]"]=!0,bu["[object Arguments]"]=bu["[object Array]"]=bu["[object ArrayBuffer]"]=bu["[object Boolean]"]=bu["[object DataView]"]=bu["[object Date]"]=bu["[object Error]"]=bu["[object Function]"]=bu["[object Map]"]=bu["[object Number]"]=bu["[object Object]"]=bu["[object RegExp]"]=bu["[object Set]"]=bu["[object String]"]=bu["[object WeakMap]"]=!1;var Owe,lNe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,a6=lNe&&typeof module=="object"&&module&&!module.nodeType&&module,Cpe=a6&&a6.exports===lNe&&YPe.process,Iwe=(function(){try{return a6&&a6.require&&a6.require("util").types||Cpe&&Cpe.binding&&Cpe.binding("util")}catch{}})(),Rwe=Iwe&&Iwe.isTypedArray,Dye=Rwe?(Owe=Rwe,function(e){return Owe(e)}):function(e){return H3(e)&&nNe(e.length)&&!!bu[f4(e)]},OWe=Object.prototype.hasOwnProperty,IWe=(function(e,n){return function(o){return e(n(o))}})(Object.keys,Object),RWe=Object.prototype.hasOwnProperty;function cNe(e){if(!sNe(e))return IWe(e);var n=[];for(var o in Object(e))RWe.call(e,o)&&o!="constructor"&&n.push(o);return n}function kWe(e){return oNe(e)?(function(n){var o=$3(n),i=!o&&iNe(n),c=!o&&!i&&MQ(n),d=!o&&!i&&!c&&Dye(n),p=o||i||c||d,v=p?(function(x,P){for(var B=-1,U=Array(x);++B<x;)U[B]=P(B);return U})(n.length,String):[],S=v.length;for(var T in n)!OWe.call(n,T)||p&&(T=="length"||c&&(T=="offset"||T=="parent")||d&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||_We(T,S))||v.push(T);return v})(e):cNe(e)}var S5=p4(Object,"create"),DWe=Object.prototype.hasOwnProperty,MWe=Object.prototype.hasOwnProperty;function Y2(e){var n=-1,o=e==null?0:e.length;for(this.clear();++n<o;){var i=e[n];this.set(i[0],i[1])}}function ZY(e,n){for(var o=e.length;o--;)if(tNe(e[o][0],n))return o;return-1}Y2.prototype.clear=function(){this.__data__=S5?S5(null):{},this.size=0},Y2.prototype.delete=function(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n},Y2.prototype.get=function(e){var n=this.__data__;if(S5){var o=n[e];return o==="__lodash_hash_undefined__"?void 0:o}return DWe.call(n,e)?n[e]:void 0},Y2.prototype.has=function(e){var n=this.__data__;return S5?n[e]!==void 0:MWe.call(n,e)},Y2.prototype.set=function(e,n){var o=this.__data__;return this.size+=this.has(e)?0:1,o[e]=S5&&n===void 0?"__lodash_hash_undefined__":n,this};var PWe=Array.prototype.splice;function V_(e){var n=-1,o=e==null?0:e.length;for(this.clear();++n<o;){var i=e[n];this.set(i[0],i[1])}}V_.prototype.clear=function(){this.__data__=[],this.size=0},V_.prototype.delete=function(e){var n=this.__data__,o=ZY(n,e);return!(o<0||(o==n.length-1?n.pop():PWe.call(n,o,1),--this.size,0))},V_.prototype.get=function(e){var n=this.__data__,o=ZY(n,e);return o<0?void 0:n[o][1]},V_.prototype.has=function(e){return ZY(this.__data__,e)>-1},V_.prototype.set=function(e,n){var o=this.__data__,i=ZY(o,e);return i<0?(++this.size,o.push([e,n])):o[i][1]=n,this};var F6=p4(OE,"Map");function KY(e,n){var o,i,c=e.__data__;return((i=typeof(o=n))=="string"||i=="number"||i=="symbol"||i=="boolean"?o!=="__proto__":o===null)?c[typeof n=="string"?"string":"hash"]:c.map}function X2(e){var n=-1,o=e==null?0:e.length;for(this.clear();++n<o;){var i=e[n];this.set(i[0],i[1])}}function uNe(e){return e==null?"":QPe(e)}X2.prototype.clear=function(){this.size=0,this.__data__={hash:new Y2,map:new(F6||V_),string:new Y2}},X2.prototype.delete=function(e){var n=KY(this,e).delete(e);return this.size-=n?1:0,n},X2.prototype.get=function(e){return KY(this,e).get(e)},X2.prototype.has=function(e){return KY(this,e).has(e)},X2.prototype.set=function(e,n){var o=KY(this,e),i=o.size;return o.set(e,n),this.size+=o.size==i?0:1,this};var NWe=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function kwe(e){return NWe.test(e)}var dNe="\\ud800-\\udfff",LWe="["+dNe+"]",ave="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",lve="\\ud83c[\\udffb-\\udfff]",hNe="[^"+dNe+"]",fNe="(?:\\ud83c[\\udde6-\\uddff]){2}",pNe="[\\ud800-\\udbff][\\udc00-\\udfff]",Dwe="(?:"+ave+"|"+lve+")?",Mwe="[\\ufe0e\\ufe0f]?",BWe=Mwe+Dwe+"(?:\\u200d(?:"+[hNe,fNe,pNe].join("|")+")"+Mwe+Dwe+")*",VWe="(?:"+[hNe+ave+"?",ave,fNe,pNe,LWe].join("|")+")",FWe=RegExp(lve+"(?="+lve+")|"+VWe+BWe,"g"),HWe=function(e){var n=kwe(e=uNe(e))?(function(c){return kwe(c)?(function(d){return d.match(FWe)||[]})(c):(function(d){return d.split("")})(c)})(e):void 0,o=n?n[0]:e.charAt(0),i=n?(function(c,d,p){var v=c.length;return p=p===void 0?v:p,!d&&p>=v?c:(function(S,T,x){var P=-1,B=S.length;T<0&&(T=-T>B?0:B+T),(x=x>B?B:x)<0&&(x+=B),B=T>x?0:x-T>>>0,T>>>=0;for(var U=Array(B);++P<B;)U[P]=S[P+T];return U})(c,d,p)})(n,1).join(""):e.slice(1);return o.toUpperCase()+i};function Kx(e){var n=this.__data__=new V_(e);this.size=n.size}Kx.prototype.clear=function(){this.__data__=new V_,this.size=0},Kx.prototype.delete=function(e){var n=this.__data__,o=n.delete(e);return this.size=n.size,o},Kx.prototype.get=function(e){return this.__data__.get(e)},Kx.prototype.has=function(e){return this.__data__.has(e)},Kx.prototype.set=function(e,n){var o=this.__data__;if(o instanceof V_){var i=o.__data__;if(!F6||i.length<199)return i.push([e,n]),this.size=++o.size,this;o=this.__data__=new X2(i)}return o.set(e,n),this.size=o.size,this};var $We=Object.prototype.propertyIsEnumerable,Pwe=Object.getOwnPropertySymbols,UWe=Pwe?function(e){return e==null?[]:(e=Object(e),(function(n,o){for(var i=-1,c=n==null?0:n.length,d=0,p=[];++i<c;){var v=n[i];o(v)&&(p[d++]=v)}return p})(Pwe(e),(function(n){return $We.call(e,n)})))}:function(){return[]};function Nwe(e){return(function(n,o,i){var c=kWe(n);return $3(n)?c:(function(d,p){for(var v=-1,S=p.length,T=d.length;++v<S;)d[T+v]=p[v];return d})(c,i(n))})(e,0,UWe)}var cve=p4(OE,"DataView"),uve=p4(OE,"Promise"),dve=p4(OE,"Set"),Lwe="[object Map]",Bwe="[object Promise]",Vwe="[object Set]",Fwe="[object WeakMap]",Hwe="[object DataView]",zWe=Yk(cve),jWe=Yk(F6),WWe=Yk(uve),GWe=Yk(dve),qWe=Yk(ive),P_=f4;(cve&&P_(new cve(new ArrayBuffer(1)))!=Hwe||F6&&P_(new F6)!=Lwe||uve&&P_(uve.resolve())!=Bwe||dve&&P_(new dve)!=Vwe||ive&&P_(new ive)!=Fwe)&&(P_=function(e){var n=f4(e),o=n=="[object Object]"?e.constructor:void 0,i=o?Yk(o):"";if(i)switch(i){case zWe:return Hwe;case jWe:return Lwe;case WWe:return Bwe;case GWe:return Vwe;case qWe:return Fwe}return n});var $we=OE.Uint8Array;function WX(e){var n=-1,o=e==null?0:e.length;for(this.__data__=new X2;++n<o;)this.add(e[n])}function ZWe(e,n){for(var o=-1,i=e==null?0:e.length;++o<i;)if(n(e[o],o,e))return!0;return!1}function Uwe(e,n,o,i,c,d){var p=1&o,v=e.length,S=n.length;if(v!=S&&!(p&&S>v))return!1;var T=d.get(e),x=d.get(n);if(T&&x)return T==n&&x==e;var P=-1,B=!0,U=2&o?new WX:void 0;for(d.set(e,n),d.set(n,e);++P<v;){var j=e[P],W=n[P];if(i)var Z=p?i(W,j,P,n,e,d):i(j,W,P,e,n,d);if(Z!==void 0){if(Z)continue;B=!1;break}if(U){if(!ZWe(n,(function(re,le){if(ie=le,!U.has(ie)&&(j===re||c(j,re,o,i,d)))return U.push(le);var ie}))){B=!1;break}}else if(j!==W&&!c(j,W,o,i,d)){B=!1;break}}return d.delete(e),d.delete(n),B}function KWe(e){var n=-1,o=Array(e.size);return e.forEach((function(i,c){o[++n]=[c,i]})),o}function YWe(e){var n=-1,o=Array(e.size);return e.forEach((function(i){o[++n]=i})),o}WX.prototype.add=WX.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},WX.prototype.has=function(e){return this.__data__.has(e)};var zwe=wO?wO.prototype:void 0,Epe=zwe?zwe.valueOf:void 0,XWe=Object.prototype.hasOwnProperty,jwe="[object Arguments]",Wwe="[object Array]",YY="[object Object]",Gwe=Object.prototype.hasOwnProperty;function mNe(e,n,o,i,c){return e===n||(e==null||n==null||!H3(e)&&!H3(n)?e!=e&&n!=n:(function(d,p,v,S,T,x){var P=$3(d),B=$3(p),U=P?Wwe:P_(d),j=B?Wwe:P_(p),W=(U=U==jwe?YY:U)==YY,Z=(j=j==jwe?YY:j)==YY,re=U==j;if(re&&MQ(d)){if(!MQ(p))return!1;P=!0,W=!1}if(re&&!W)return x||(x=new Kx),P||Dye(d)?Uwe(d,p,v,S,T,x):(function(Ae,F,Ie,tt,Xe,Ve,Re){switch(Ie){case"[object DataView]":if(Ae.byteLength!=F.byteLength||Ae.byteOffset!=F.byteOffset)return!1;Ae=Ae.buffer,F=F.buffer;case"[object ArrayBuffer]":return!(Ae.byteLength!=F.byteLength||!Ve(new $we(Ae),new $we(F)));case"[object Boolean]":case"[object Date]":case"[object Number]":return tNe(+Ae,+F);case"[object Error]":return Ae.name==F.name&&Ae.message==F.message;case"[object RegExp]":case"[object String]":return Ae==F+"";case"[object Map]":var vt=KWe;case"[object Set]":var mt=1&tt;if(vt||(vt=YWe),Ae.size!=F.size&&!mt)return!1;var gt=Re.get(Ae);if(gt)return gt==F;tt|=2,Re.set(Ae,F);var te=Uwe(vt(Ae),vt(F),tt,Xe,Ve,Re);return Re.delete(Ae),te;case"[object Symbol]":if(Epe)return Epe.call(Ae)==Epe.call(F)}return!1})(d,p,U,v,S,T,x);if(!(1&v)){var le=W&&Gwe.call(d,"__wrapped__"),ie=Z&&Gwe.call(p,"__wrapped__");if(le||ie){var be=le?d.value():d,Ce=ie?p.value():p;return x||(x=new Kx),T(be,Ce,v,S,x)}}return!!re&&(x||(x=new Kx),(function(Ae,F,Ie,tt,Xe,Ve){var Re=1&Ie,vt=Nwe(Ae),mt=vt.length;if(mt!=Nwe(F).length&&!Re)return!1;for(var gt=mt;gt--;){var te=vt[gt];if(!(Re?te in F:XWe.call(F,te)))return!1}var hn=Ve.get(Ae),ot=Ve.get(F);if(hn&&ot)return hn==F&&ot==Ae;var Rt=!0;Ve.set(Ae,F),Ve.set(F,Ae);for(var kt=Re;++gt<mt;){var at=Ae[te=vt[gt]],Cn=F[te];if(tt)var Ro=Re?tt(Cn,at,te,F,Ae,Ve):tt(at,Cn,te,Ae,F,Ve);if(!(Ro===void 0?at===Cn||Xe(at,Cn,Ie,tt,Ve):Ro)){Rt=!1;break}kt||(kt=te=="constructor")}if(Rt&&!kt){var jn=Ae.constructor,wo=F.constructor;jn==wo||!("constructor"in Ae)||!("constructor"in F)||typeof jn=="function"&&jn instanceof jn&&typeof wo=="function"&&wo instanceof wo||(Rt=!1)}return Ve.delete(Ae),Ve.delete(F),Rt})(d,p,v,S,T,x))})(e,n,o,i,mNe,c))}var wpe=function(){return OE.Date.now()},JWe=Math.max,QWe=Math.min,e9e=Object.prototype.hasOwnProperty;class vg{constructor(){this.audioPlaybackUrl=void 0,this.videoPlaybackUrl=void 0,this._audioElement=void 0,this._videoElement=void 0,this.videoSrc=void 0,this.isUsingSameFile=void 0}static getInstance(){return this.instance===void 0&&(this.instance=new vg),this.instance}static destroyInstance(){if(this.instance){this.instance.stopAudioElement(),this.instance.stopVideoElement();const o=document.getElementById(ipe);var n;o&&((n=o.parentNode)===null||n===void 0||n.removeChild(o)),this.instance=void 0}}setAudioElement(n){return this._audioElement===void 0&&(this._audioElement=new Audio),new Promise(((o,i)=>{if(this.videoSrc===n.url)this._audioElement.pause(),this.isUsingSameFile=!0,this._videoElement.muted=!1,(d=this._videoElement).currentTime>0&&!d.paused&&!d.ended&&d.readyState>2?o(""):this._videoElement.play().then((()=>{o("")})).catch((()=>{i()}));else{var c;this.isUsingSameFile=!1;const p=Yo.isFirefox?"canplay":"canplaythrough",v=()=>{this._audioElement.play().then((()=>{this._audioElement.removeEventListener(p,v),o("")}))},S=()=>{this._audioElement.removeEventListener(p,v),this._audioElement.removeEventListener("error",S),i()};this._audioElement.addEventListener(p,v),this._audioElement.addEventListener("error",S),this._audioElement.src=n.url,this._audioElement.loop=!!n.loop,Rb(n.url)&&this._audioElement.setAttribute("crossorigin",""),this._audioElement.currentTime=Math.max((c=n.currentTime)!==null&&c!==void 0?c:0,1e-4),Yo.isIOSMobile&&this._audioElement.load()}var d}))}setVideoElement(n){const{isFirefox:o,isSafari:i,isIOSMobile:c}=Yo;return this._videoElement===void 0&&(this._videoElement=document.createElement("video")),new Promise(((d,p)=>{var v;this.videoSrc=n.url;const S=o?"canplay":"canplaythrough",T=()=>{this._videoElement.play().then((()=>{this._videoElement.removeEventListener(S,T),d("")}))},x=()=>{this._videoElement.removeEventListener(S,T),this._videoElement.removeEventListener("error",x),p()};this._videoElement.addEventListener(S,T),this._videoElement.addEventListener("error",x),this._videoElement.src=n.url,this.isUsingSameFile||(this._videoElement.muted=!0),this._videoElement.loop=!!n.loop,this._videoElement.currentTime=Math.max((v=n.currentTime)!==null&&v!==void 0?v:0,1e-4),this._videoElement.playsInline=!0,Rb(n.url)&&this._videoElement.setAttribute("crossorigin",""),i&&!document.getElementById(ipe)&&(this._videoElement.id=ipe,this._videoElement.setAttribute("style","position:fixed;top:-10000px;left:-10000px"),document.body.appendChild(this._videoElement)),(c||i)&&this._videoElement.load()}))}get audioElement(){return this.isUsingSameFile?this._videoElement:this._audioElement}get videoElement(){return this._videoElement}stopAudioElement(){this.isUsingSameFile?this.isUsingSameFile=!1:this._audioElement&&(this._audioElement.currentTime=0,this._audioElement.pause())}stopVideoElement(){this._videoElement&&this._videoElement.pause(),this.videoSrc=void 0}}vg.instance=void 0;const qwe=e=>4294966272&e,_pe=e=>{let n={R:0,G:0,B:0,A:0};if(typeof e=="string"&&e.startsWith("#")){const v=e.slice(1);try{if(v.length===3){const S=Array.from(v).map((T=>T.repeat(2))).map((T=>parseInt(T,16)));n={R:S[0]/255,G:S[1]/255,B:S[2]/255,A:1}}else if(v.length===6||v.length===8){var o,i,c,d,p;const S=(o=v.match(/\S{2}/g))===null||o===void 0?void 0:o.map((T=>parseInt(T,16)));n={R:((i=S==null?void 0:S[0])!==null&&i!==void 0?i:0)/255,G:((c=S==null?void 0:S[1])!==null&&c!==void 0?c:0)/255,B:((d=S==null?void 0:S[2])!==null&&d!==void 0?d:0)/255,A:S!=null&&S[3]?((p=S==null?void 0:S[3])!==null&&p!==void 0?p:0)/255:1}}}catch{console.warn("error color representation:",e)}}else typeof e=="object"&&(n={R:e.R/255,G:e.G/255,B:e.B/255,A:e.A||1});return n};function ete(e){let{captureWidth:n=0,captureHeight:o=0}=e||{};const{hd:i}=e||{};var c,d;return n!==0&&o!==0||(i&&Ns.isSupportSending720P()?(n=1280,o=720):(n=640,o=360)),{captureWidth:n,captureHeight:o,isCustomizedResolution:!(e==null||!e.captureWidth||!e.captureHeight||(c=n,d=o,Math.abs(Math.floor(c/d*10)-Math.floor(16/9*10))<=1))}}function gNe(e,n){return e==="default"||n.some((o=>o.deviceId===e))||[ok.Environment,ok.User,ok.Left,ok.Right].includes(e)}function Mye(e,n){if(typeof DOMMatrixReadOnly=="function"){if(e.dataset.mirrored==="1"===n)return;const o=new DOMMatrixReadOnly(getComputedStyle(e).transform).scale(-1,1).toString();e.style.transform=o,e.dataset.mirrored=n?"1":"0"}}function vNe(e,n,o){const i=[],{video:{videoSsrc:c,activeCamera:d},meeting:{mediaFeatureOptions:p}}=n,{cameraId:v=d,videoElement:S,originalRatio:T,ptz:x,hd:P,fullHd:B,mediaFile:U,fps:j,mirrored:W,customVideoConstraints:Z}=o||{};let re;if(S!==void 0){let F=G_(S)?S:null;if(typeof S=="string"){let[Ie,tt]=[document.body,S];if(S.indexOf(">")>-1){const[Xe,Ve]=S.split(">");Ie=document.querySelector(Xe),tt=Ve}Ie&&(F=Ie.querySelector(tt))}if(!F)return[];re=F,F.id||(F.id=q_("__ZOOM_SDK_SELF_VIDEO_@__")),W!==void 0&&Mye(F,W)}let le=j??lpe.Default;le=Math.max(lpe.Min,le),le=Math.min(lpe.Max,le);const{captureWidth:ie,captureHeight:be,isCustomizedResolution:Ce}=ete(o);if(Ce)e.updateVideoHDValue(!1);else{e.updateVideoHDValue(!!P||!!B);const F=!!B&&Ns.isSupportFullHDVideo(p||"");e.updateVideoFullhdValue(F)}let Ae=Promise.resolve(v);if(U&&U.url){const F=vg.getInstance();Ae=F.setVideoElement(U).then((()=>F.videoElement))}else vg.getInstance().stopVideoElement();return Ae.then((F=>{e.startCaptureVideo(c,F,ie,be,re,Yo.isAndroidOrIOSBrowser&&gz.includes(F),!T&&(function(){var Ie,tt;const{isAndroidOrIOSBrowser:Xe,isFirefox:Ve,isSafari:Re}=Yo;return Xe||!((Ie=navigator.mediaDevices)!==null&&Ie!==void 0&&(tt=Ie.getSupportedConstraints)!==null&&tt!==void 0&&tt.call(Ie).aspectRatio)||Ve||Re||Jke()})(),x,j!==void 0?le:void 0,Z)})),i.push(LPe({cameraId:v,captureWidth:ie,captureHeight:be,videoElement:typeof S=="string"?S:G_(S)?hPe(S):void 0,originalRatio:T,ptz:x,hd:P,fullHd:B,mediaFile:U,fps:j!==void 0?le:void 0,mirrored:W,customVideoConstraints:Z})),i}function bNe(e,n,o){const{max:i,min:c,step:d}=e;let p=o/100*(i-c);d&&(p=Math.min(Math.floor(p/d)*d,Math.floor(p)));let v=n+p;return v=Math.min(i,v),v=Math.max(c,v),v}function yNe(e,n){let o="",i=n;switch(e){case Hx.Down:i=-n,o="tilt";break;case Hx.Up:o="tilt";break;case Hx.Left:i=-n,o="pan";break;case Hx.Right:o="pan";break;case Hx.ZoomIn:o="zoom";break;case Hx.ZoomOut:i=-n,o="zoom"}return{key:o,range:i}}function Pye(e){const n=["pan","tilt","zoom"].reduce(((o,i)=>e[i]&&e[i].value!==0?{...o,[i]:e[i].value}:o),{});return(function(o){if(o==null)return!0;if(oNe(o)&&($3(o)||typeof o=="string"||typeof o.splice=="function"||MQ(o)||Dye(o)||iNe(o)))return!o.length;var i=P_(o);if(i=="[object Map]"||i=="[object Set]")return!o.size;if(sNe(o))return!cNe(o).length;for(var c in o)if(e9e.call(o,c))return!1;return!0})(n)?null:n}function SNe(e){return{pan:(e&CL.Pan)===CL.Pan,tilt:(e&CL.Tilt)===CL.Tilt,zoom:(e&CL.Zoom)===CL.Zoom}}function lk(e){return!!e||Ns.isRenderSelfViewWithVideoElement()}function Zwe(e){const{errorCode:n,type:o,...i}=e??{},c={...i};let d;return n!==void 0&&Object.assign(c,{subCode:n}),o===rQ?d=lt.VIDEO_NO_CAMERA:o===iQ?d=lt.VIDEO_MISMATCH_CAMERA:o===aQ?d=lt.VIDEO_CAMERA_PERMISSION_DENIED:o===gye?d=lt.VIDEO_ESTABLISH_STREAM_ERROR:o===lQ?d=lt.VIDEO_CAMERA_TAKEN:o===mye&&(d=lt.VIDEO_VB_INITIALIZE_ERROR),Object.assign(c,{errorCode:d,type:o}),c}function Kwe(e,n,o){const{video:{selfPreviewVideoList:i,customizedVideoOption:c,videoAttachments:d},meeting:{userId:p}}=o;if(lk()){const v=[];i.length>0&&i.forEach((S=>{v.push(document.getElementById(S))})),c!=null&&c.videoElement&&v.push(document.querySelector(c==null?void 0:c.videoElement)),d&&d[`${p}`]&&d[`${p}`].forEach((S=>{var T;v.push(S==null||(T=S.render)===null||T===void 0?void 0:T.el)})),v.filter((S=>!!S)).forEach((S=>{S&&Mye(S,e)}))}else n.mirrorVideo(e)}let fE,p3;async function CNe(e,n,o){const i=q_(e),c=document.createElement("img");return c.src=n,c.id=i,c.style.display="none",Rb(n)&&c.setAttribute("crossorigin",""),await new Promise(((d,p)=>{c.onload=()=>{o&&URL.revokeObjectURL(n),d("")},c.onerror=()=>{o&&URL.revokeObjectURL(n),p("Cannot load  image.")}})),{imageId:i,imgElement:c}}async function wz(e,n,o){if(e===P3)return P3;{let i=e;if(n){const c=await(function(d){return new Promise(((p,v)=>{try{fE&&p3||(fE=document.createElement("canvas"),p3=fE.getContext("2d"));const S=fE,T=p3;if(T){T.clearRect(0,0,fE.width,fE.height);const x=new Image;x.src=d,Rb(d)&&(x.crossOrigin="");const P=16/9,B=1280,U=Math.floor(B/P);S.width=B,S.height=U,x.onload=()=>{const{width:j,height:W}=x,Z=W*P;if(Z>j){const re=j,le=Math.floor(j/P),ie=0,be=(W-le)/2;T==null||T.drawImage(x,ie,be,re,le,0,0,B,U)}else{const re=Z,le=W,ie=(j-re)/2;T.drawImage(x,ie,0,re,le,0,0,B,U)}try{S.toBlob((re=>{p(re)}))}catch(re){re instanceof DOMException&&re.code===DOMException.SECURITY_ERR&&console.error("Image is not from the same origin, add CORS header to solve this issue"),v(re)}},x.onerror=j=>{v("Cannot load  image.")}}}catch(S){v(S)}}))})(e);i=URL.createObjectURL(c)}if(i){const{imageId:c,imgElement:d}=await CNe("__ZOOM_SDK_VIRTUAL_BACKGROUND_IMAGE_@__",i,!!n);return(o??document.body).appendChild(d),c}}return null}async function ENe(e,n,o){var i;const c=(i=o&&o.parentNode)!==null&&i!==void 0?i:document.body,{imageUrl:d,cropped:p,rootWidth:v,rootHeight:S}=e;let T=e;!n.video.customizedVideoOption||e.captureWidth&&e.captureHeight||(T=n.video.customizedVideoOption);const{captureWidth:x,captureHeight:P}=ete(T),B=document.createElement("div");let U;B.style.display="none",U=d?await wz(d,p,B):null;let j,W=q_("__ZOOM_SDK_VIRTUAL_BACKGROUND_CANVAS_@__");if(o)if(d4(o)){const Z=SQ(o);Z.id?W=Z.id:Z.id=W,j=Z;try{v&&o.width!==v&&(o.width=v),S&&o.height!==S&&(o.height=S)}catch{console.warn("Cannot set the canvas width/height, and pay attention the canvas dimension is different from the setting")}}else o.setAttribute("node-id",W),o.setAttribute("media-type","preview"),j=o;else{const Z=document.createElement("canvas");Z.width=v??380,Z.height=S??214,Z.id=W,j=Z,B.appendChild(Z)}return c==null||c.appendChild(B),{captureWidth:x,captureHeight:P,imageId:U,element:j,divElement:B,id:W}}async function Ywe(e,n,o,i){const c=Array.isArray(e)?e:e&&[e];if((c==null?void 0:c.length)>0){fE&&p3||(fE=document.createElement("canvas"),p3=fE.getContext("2d"));const d=fE,p=p3;if(d.width=n,d.height=o,p)try{p.fillStyle="#fff",p.clearRect(0,0,n,o);for(let S=0;S<c.length;S++){const T=c[S],{type:x,x:P,y:B}=T;if(x==="rectangle"){const{width:U,height:j}=T;p.fillRect(P,B,U,j)}else if(x==="square"){const{length:U}=T;p.fillRect(P,B,U,U)}else if(x==="circle"){const{radius:U}=T;p.beginPath(),p.arc(P,B,U,0,2*Math.PI),p.fill()}else if(x==="svg"){const{svg:U,width:j,height:W}=T,Z=new Image;Z.src=U,Rb(U)&&(Z.crossOrigin=""),await new Promise(((ie,be)=>{Z.onload=()=>{ie("")},Z.onerror=()=>{be()}}));const{width:re,height:le}=Z;p.drawImage(Z,0,0,re,le,P,B,j,W)}}const v=await new Promise((S=>{d==null||d.toBlob((T=>{S(T)}))}));if(v){const S=URL.createObjectURL(v),{imageId:T,imgElement:x}=await CNe("__ZOOM_SDK_MASK_CLIP_@__",S,!0);return(i??document.body).appendChild(x),T}}catch(v){v instanceof DOMException&&v.code===DOMException.SECURITY_ERR&&console.error("Image is not from the same origin, add CORS header to solve this issue")}}return null}function Xwe(e,n){if(e===n||e==null&&n==null)return!0;const o=Array.isArray(e)?[...e]:[e],i=Array.isArray(n)?[...n]:[n];if(o.length!==i.length)return!1;const c=(d,p)=>d.type<p.type?-1:d.type===p.type?0:1;o.sort(c),i.sort(c);for(let d=0;d<o.length;d++)if(!Ez(o[d],i[d]))return!1;return!0}function GX(e,n,o,i){const{video:{isCurrentUserStartedVideo:c,virtualBackground:{isVBPreloadReady:d,isVBConfigured:p,imageSrc:v},backgroundMode:S},meeting:{isCurrentUserStartVideoBeforeReset:T,isUseWBVideo:x}}=o;return vc((function(P){return P!==void 0?eo([P]):xa(cQ,1).pipe(xo((B=>B)))})(d)).then((P=>{if(P){if(i||!p&&e.imageUrl!==P3&&e.imageUrl){if(d4(i)){if(x)return Promise.reject({reason:"When you are in a WebRTC Video meeting, please use VideoPlayer to preview the virtual background.",errorCode:lt.STREAM_MISMATCH_RENDER_ELEMENT});console.warn("The canvas element will be deprecated. Please use the Videoplayer element to preview the virtual background.")}return(async function(B,U,j,W){const{element:Z,imageId:re,captureHeight:le,captureWidth:ie,divElement:be,id:Ce}=await ENe(B,j,W),{cameraId:Ae}=B,{video:{videoSsrc:F,activeCamera:Ie}}=j;return U.startVirtualBackgroundSetting(Z,re,F,Ae??Ie,ie,le,void 0,Ce),be})(e,n,o,i).then((B=>c?TQ(!0):vc(xa(Sge,1)).then((U=>{var j;return i||n.stopVirtualBackgroundSetting(),U?(B==null||(j=B.parentNode)===null||j===void 0||j.removeChild(B),!0):Promise.reject({reason:"Cannot access the virtual background image.",errorCode:lt.VIDEO_VB_IMAGE_INACCESSIBLE})}))))}return v===e.imageUrl&&S===Mh.VirtualBackground&&!T||(async function(B,U,j){const{imageUrl:W,cropped:Z}=B;if(W){const re=await wz(W,Z);re&&(j.video.backgroundMode===Mh.Mask&&(U.stopMaskSetting(!0),await Kee((()=>{U.stopVirtualBackgroundSetting()}),0)),U.updateVirtualBackgroundImage(re),re!==P3&&setTimeout((()=>{R6(re)}),0))}else U.updateVirtualBackgroundImage(null)})(e,n,o)}return Promise.reject({reason:"Cannot load virtual background model.",errorCode:lt.VIDEO_VB_MISMATCH_STATE})}))}function qX(e,n,o,i){const{video:{mask:{isMaskConfigured:c,imageSrc:d,clip:p},backgroundMode:v,isCurrentUserStartedVideo:S},meeting:{isCurrentUserStartVideoBeforeReset:T}}=o;return i||!c&&e.imageUrl?(async function(x,P,B,U){const{element:j,imageId:W,captureHeight:Z,captureWidth:re,divElement:le}=await ENe(x,B,U),{cameraId:ie,clip:be,rootWidth:Ce=1280,rootHeight:Ae=720}=x,F=be?await Ywe(be,Ce,Ae,le):null,{video:{videoSsrc:Ie,activeCamera:tt}}=B;return F?(P.startMaskSetting(j,W,F,Ie,ie??tt,Ce,Ae,re,Z),le):Promise.reject({reason:"Clip is empty",errorCode:lt.VIDEO_MASK_IMAGE_INACCESSIBLE})})(e,n,o,i).then((x=>S?DQ(!0):vc(xa(Age,1)).then((P=>{var B;return i||n.stopMaskSetting(),P?(x==null||(B=x.parentNode)===null||B===void 0||B.removeChild(x),!0):Promise.reject({reason:"Cannot set video mask",errorCode:lt.VIDEO_MISMATCH_STATE})})))):v===Mh.Mask&&e.imageUrl===d&&Xwe(e.clip,p)&&!T?Promise.resolve(!0):(async function(x,P,B){const{imageUrl:U,cropped:j,clip:W,rootWidth:Z,rootHeight:re}=x,{video:{mask:{imageSrc:le,cropped:ie,clip:be},backgroundMode:Ce}}=B;if(U){if(Ce===Mh.VirtualBackground&&(P.stopVirtualBackgroundSetting(!0),await Kee((()=>{P.stopMaskSetting()}),0)),U!==le||j!==ie){const Ae=await wz(U,j);Ae&&(P.updateMaskBackgroundImage(Ae),setTimeout((()=>{R6(Ae)}),0))}if((!Xwe(W,be)||!le)&&W&&Z&&re){const Ae=await Ywe(W,Z,re);Ae&&(P.updateMaskClip(Ae,Z,re),setTimeout((()=>{R6(Ae)}),0))}}else P.updateMaskBackgroundImage(null),P.updateMaskClip(null,Z,re)})(e,n,o)}var cl,H6;(function(e){e[e.ADD_RENDER_VIDEO=1]="ADD_RENDER_VIDEO",e[e.STOP_RENDER_VIDEO=2]="STOP_RENDER_VIDEO",e[e.START_SHARING=23]="START_SHARING",e[e.STOP_SHARING=24]="STOP_SHARING",e[e.ZOOM_SHARING=140]="ZOOM_SHARING",e[e.START_SHARE_PREVIEW=37]="START_SHARE_PREVIEW",e[e.STOP_SHARE_PREVIEW=38]="STOP_SHARE_PREVIEW",e[e.SWITCH_CANVAS_FOR_VIDEO_CAPTURE=25]="SWITCH_CANVAS_FOR_VIDEO_CAPTURE",e[e.UPDATE_SHARING_DECODE_PARAM=44]="UPDATE_SHARING_DECODE_PARAM",e[e.UPDATE_CANVAS_SIZE=46]="UPDATE_CANVAS_SIZE",e[e.ZOOM_RENDER=48]="ZOOM_RENDER",e[e.UPDATE_SETTING_CANVAS_SIZE=52]="UPDATE_SETTING_CANVAS_SIZE",e[e.REMOVE_EXPIRED_CANVAS=76]="REMOVE_EXPIRED_CANVAS",e[e.WEBGL_LOST_REPLACE_CANVAS=77]="WEBGL_LOST_REPLACE_CANVAS",e[e.UPDATE_VIDEO_QUALITY=78]="UPDATE_VIDEO_QUALITY",e[e.SEND_RENDER_LOG=79]="SEND_RENDER_LOG",e[e.ADD_VIDEO_VB_SETTING_DOM=102]="ADD_VIDEO_VB_SETTING_DOM",e[e.REMOVE_VIDEO_VB_SETTING_DOM=103]="REMOVE_VIDEO_VB_SETTING_DOM",e[e.UPDATE_BORDER_RADIUS=104]="UPDATE_BORDER_RADIUS"})(cl||(cl={})),(function(e){e[e.WEBGL_LOST_IN_MULTI_VIEW=-32]="WEBGL_LOST_IN_MULTI_VIEW",e[e.MOBILE_CAPTURE_DEVICE_CHANGE=135]="MOBILE_CAPTURE_DEVICE_CHANGE",e[e.SELF_PREVIEW_WATERMARK_CHANGE=139]="SELF_PREVIEW_WATERMARK_CHANGE"})(H6||(H6={}));const $6="default-sesssion-key";var m3,Jwe,Qwe,F_,bE;(function(e){e.Video="video",e.Share="share",e.Preview="preview"})(m3||(m3={})),(function(e){e.DEFAULT="",e.MAIN="main"})(Jwe||(Jwe={})),(function(e){e.Video_90P="0",e.Video_180P="1",e.Video_360P="2",e.Video_720P="3",e.Video_1080P="4"})(Qwe||(Qwe={})),(function(e){e[e.Unknown=0]="Unknown",e[e.VideoTag=1]="VideoTag",e[e.WebGL=2]="WebGL",e[e.WebGL2=3]="WebGL2",e[e.WebGPU=4]="WebGPU"})(F_||(F_={})),(function(e){e.Debounce="debounce",e.Throttle="throttle",e.None="none"})(bE||(bE={}));const uf=new class{constructor(){this.state={mediaSDK:void 0,mediaSDKInstanceMap:new Map,tagName:"video-player",renderCountMap:new Map},this.onceMap=new WeakMap,this.subscribers=[]}get(e){return this.state[e]}dispatch(e,n,o){n&&Object.assign(this.state,n),e&&this.notifySubscribers(e,o)}subscribe(e){return this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);n!==-1&&this.subscribers.splice(n,1)}}once(e,n){this.onceMap.set(n,{event:e,unSubscribe:this.subscribe(n)})}notifySubscribers(e,n){const o=[];this.subscribers.forEach((i=>{i(e,this.state,n);const c=this.onceMap.get(i);if(c){const{event:d,unSubscribe:p}=c;d===e&&(o.push(p),this.onceMap.delete(i))}})),o.forEach((i=>i()))}};function wL(e,n,o,i,c,d=!1){const p=document.createElement("canvas");p.id=i;const v=TNe(p,e,n);return c(`VPISC:${window.devicePixelRatio},${v}`),p.style.position="absolute",p.style.left="0px",p.style.top="0px",p.style.width=e+"px",p.width=e*aO(p),p.style.height=n+"px",p.height=n*aO(p),p.style.zIndex=o,d||(p.style.pointerEvents="none",p.ariaHidden="true"),p}function Cx(e,n,o=!0,i=window,c){c==null||c("VPACE:"+(e==null?void 0:e.id)+":"+(i!==window));const d=()=>{if(e){uf.dispatch("resize",void 0,e.id),TNe(e,n.clientWidth,n.clientHeight),o&&[cl.UPDATE_CANVAS_SIZE,cl.UPDATE_SHARING_DECODE_PARAM].forEach((P=>{var B,U;(U=wS((B=n==null?void 0:n.getSessionId)===null||B===void 0?void 0:B.call(n)))===null||U===void 0||U.Notify_MeidaSDK(P,{width:n.clientWidth*aO(e),height:n.clientHeight*aO(e),canvas:e})})),e.style.width=n.clientWidth+"px",e.style.height=n.clientHeight+"px";try{e.width=n.clientWidth*aO(e),e.height=n.clientHeight*aO(e)}catch{}}},p=hve(d,300),v=(function(P){let B,U=0;return function(...j){const W=Date.now(),Z=W-U;!U||Z>=300?(P(...j),U=W):B||(B=setTimeout((()=>{P(...j),U=Date.now(),B=null}),300-Z))}})(d),S=()=>{var P;switch(((P=n==null?void 0:n.getResizeStrategy)===null||P===void 0?void 0:P.call(n))||bE.Debounce){case bE.Debounce:p();break;case bE.Throttle:v();break;case bE.None:d();break;default:p()}},T=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),x=new i.ResizeObserver(S);return T.addEventListener("change",S),x.observe(n),()=>{c==null||c("VPRCE:"+(e==null?void 0:e.id)+":"+(i!==window)),(function(P){PQ.delete(P)})(e),x==null||x.disconnect(),T.removeEventListener("change",S)}}function wNe(e,n){Object.defineProperties(e,n.reduce(((o,i)=>(o[i]={get:()=>e.getAttribute(i),set:c=>{c?e.setAttribute(i,c):e.removeAttribute(i)}},o)),{}))}function _Ne(e,n){Object.entries(n).forEach((([o,i])=>{e.getAttribute(o)||e.setAttribute(o,i)}))}function e_e(e,n){const o=e.getAttribute(n);return!(!o||o!=="true")}function wS(e=$6){var n;return(n=uf.get("mediaSDKInstanceMap").get(e))===null||n===void 0?void 0:n()}function m4(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();let e=new Date().getTime(),n=performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(o=>{let i=16*Math.random();return e>0?(i=(e+i)%16|0,e=Math.floor(e/16)):(i=(n+i)%16|0,n=Math.floor(n/16)),(o==="x"?i:3&i|8).toString(16)}))}function hve(e,n){let o;return function(...i){clearTimeout(o),o=setTimeout((()=>{e(...i)}),n)}}function ANe(e,n){const o=Object.keys(e),i=Object.keys(n);if(o.length!==i.length)return!1;for(const c of o){const d=e[c],p=n[c];if(typeof d=="object"&&typeof p=="object"){if(!ANe(d,p))return!1}else if(d!==p)return!1}return!0}function Ex(e){return!e||e==="0"}const PQ=new Map;function TNe(e,n,o){const i=n>=2*window.screen.width||o>=2*window.screen.height?1:window.devicePixelRatio,c=PQ.get(e);return PQ.set(e,i),c&&c!==i&&uf.dispatch("scale",void 0,e.id),i}function aO(e){return e&&PQ.get(e)||window.devicePixelRatio}function jf(e,n){n&&(e==null||e.Notify_MeidaSDK(cl.SEND_RENDER_LOG,{message:n}))}function t_e(e,n){const o=uf.get("renderCountMap"),i=o.get(e)||0;o.set(e,n?i+1:i-1)}function n_e(){return window.self!==window.top?window.top:window.self}function o_e(e){const n=j=>{const W=j.match(/^(\d+(?:\.\d+)?)(px|%)?$/);return W?{value:parseFloat(W[1]),unit:W[2]||"px"}:{value:0,unit:"px"}},o=e.split(/[\s\/]+/).filter((j=>j));let i=[],c=[];e.includes("/")?[i,c]=e.split("/").map((j=>j.trim().split(/\s+/))):(i=[...o],c=[...o]);const d=j=>{switch(j.length){case 1:return[j[0],j[0],j[0],j[0]];case 2:return[j[0],j[1],j[0],j[1]];case 3:return[j[0],j[1],j[2],j[1]];case 4:return j;default:return["0","0","0","0"]}},[p,v,S,T]=d(i).map(n),[x,P,B,U]=d(c).map(n);return{topLeft:{x:p,y:x},topRight:{x:v,y:P},bottomRight:{x:S,y:B},bottomLeft:{x:T,y:U}}}function Ape(e,n){const{left:o,top:i,bottom:c,right:d,width:p,height:v}=e.getBoundingClientRect(),S=n.getBoundingClientRect();return{left:o-S.left,top:i-S.top,bottom:S.bottom-c,right:S.right-d,width:p,height:v}}const xNe=[];for(let e=0;e<=1;e+=.01)xNe.push(e);let tte=class{constructor(e,n){var o;if(this.getRenderParams=n,this.el=document.createElement("div"),this.position=null,this.id="",this.srcObject=null,this.removePositionObserve=null,this.viewId=`${uf.get("tagName")}-${m4()}`,this.borderRadius=null,this.getSDK=()=>{var i,c;return wS((c=(i=this.container)===null||i===void 0?void 0:i.getSessionId)===null||c===void 0?void 0:c.call(i))},!e)throw new Error(`The ${uf.get("tagName")} must have a ${uf.get("tagName")}-container as its ancestor element.`);this.container=e,this.el.style.width="100%",this.el.style.height="100%",this.debounceUpdateVideoPosition=((o=e==null?void 0:e.getResizeStrategy)===null||o===void 0?void 0:o.call(e))!==bE.None?hve(this.updateVideoPosition.bind(this),300):this.updateVideoPosition.bind(this)}getElement(){return this.el}init(e){e!=null&&e.borderRadius&&(this.borderRadius=e==null?void 0:e.borderRadius),this.removeSubscribe=uf.subscribe(((n,o,i)=>{i===this.getCanvas().id&&(n==="resize"?(this.updateVideoPosition(),setTimeout((()=>{this.updateVideoPosition()}),300)):n==="scale"&&jf(this.getSDK(),`VPSC:${aO(this.getCanvas())}`))}))}getCanvas(){return this.container.getCanvas()}initObservePosition(){var e,n;this.stopObservePosition(),this.removePositionObserve=(function(o,i,c={}){const{wrapper:d=document.documentElement}=c,p=c.strategy===bE.None?i:hve(i,300);let v,S;const T=(x=.9999999,P=!1)=>{v&&(v.disconnect(),v=null);const{top:B,left:U,width:j,height:W,right:Z,bottom:re}=Ape(o,d);if(!j||!W)return void i({hide:!0,cross:!1,width:0,height:0,top:0,left:0,bottom:0,right:0});const le=B<0||re<0||U<0||Z<0,ie=((F,Ie,tt,Xe,Ve,Re)=>F<=0&&F+Re<=0||Ie<=0&&Ie+Re<=0||tt<=0&&tt+Ve<=0||Xe<=0&&Xe+Ve<=0)(B,re,U,Z,j,W),be={root:d,threshold:le?xNe:x};le||(be.rootMargin=`${-B}px ${-Z}px ${-re}px ${-U}px`);let Ce=!0,Ae=!0;P&&(Ae=!1),i({hide:ie,cross:le,top:B,left:U,width:j,height:W,bottom:re,right:Z}),p({hide:ie,cross:le,top:B,left:U,width:j,height:W,bottom:re,right:Z},!0),v=new IntersectionObserver((([F])=>{if(F.intersectionRatio===0)return Ae?T(.9999999,!0):void 0;if(x!==F.intersectionRatio){if(!Ce)return T();T(F.intersectionRatio===0?1e-7:F.intersectionRatio)}F.intersectionRatio===1&&le&&T(),Ce=!1}),be),v.observe(o)};return T(),S=new ResizeObserver((()=>T())),S.observe(o),()=>{v==null||v.disconnect(),v=null,S==null||S.disconnect(),S=null}})(this.el,((o,i)=>{i?setTimeout((()=>{this.updateVideoPosition()}),300):this.debounceUpdateVideoPosition(o)}),{wrapper:this.container,strategy:((n=(e=this.container)===null||e===void 0?void 0:e.getResizeStrategy)===null||n===void 0?void 0:n.call(e))||bE.Debounce})}stopObservePosition(){this.removePositionObserve&&(this.removePositionObserve(),this.removePositionObserve=null)}getCurrentPosition(e){return this.transformRectToPosition(Ape(e,this.container))}transformRectToPosition(e){const{left:n,width:o,height:i,bottom:c,top:d}=e,p=aO(this.getCanvas());return{x:n*p,y:c*p,width:o*p,height:i*p,left:n*p,bottom:c*p,top:d*p}}playVideo(e){this.initObservePosition(),typeof e=="string"?this.id=e:this.srcObject=e;const n=this.getCurrentPosition(this.el);this.addRender(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),{canvas:this.getCanvas(),zone:this.viewId,userId:Number(this.id),ssrc:Number(this.id)}),this.getRenderParams()),this.srcObject?{srcObject:this.srcObject}:{}),this.borderRadius?{borderRadius:this.borderRadius}:{})),this.position=n}updateVideoPosition(e){if(!this.id&&!this.srcObject)return;const n=this.transformRectToPosition(e||Ape(this.el,this.container));this.position&&ANe(n,this.position)||(this.zoomRender(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),{userId:Number(this.id),canvas:this.getCanvas(),RGBA:this.container.getRGBA(),zone:this.viewId}),this.getRenderParams()),this.srcObject?{srcObject:this.srcObject}:{}),this.borderRadius?{borderRadius:this.borderRadius}:{})),this.position=n)}stopVideo(){this.stopObservePosition(),(this.id||this.srcObject)&&this.position&&((this.id||this.srcObject)&&this.stopRender(Object.assign(Object.assign(Object.assign(Object.assign({},this.position),{userId:Number(this.id),canvas:this.getCanvas(),RGBA:this.container.getRGBA(),zone:this.viewId}),this.getRenderParams()),this.srcObject?{srcObject:this.srcObject}:{})),this.position=null,this.id="",this.srcObject=null)}updateVideoQuality(e){var n;this.id&&((n=this.getSDK())===null||n===void 0||n.Notify_MeidaSDK(cl.UPDATE_VIDEO_QUALITY,{userId:this.id,videoQuality:e}))}updateBorderRadius(e){var n;this.borderRadius=e,this.id&&((n=this.getSDK())===null||n===void 0||n.Notify_MeidaSDK(cl.UPDATE_BORDER_RADIUS,{userId:Number(this.id),zone:this.viewId,data:e}))}refresh(){this.debounceUpdateVideoPosition()}destroy(){var e;this.borderRadius=null,this.stopVideo(),(e=this.removeSubscribe)===null||e===void 0||e.call(this)}},nte=class{constructor(e){this.container=e,this.id="",this.srcObject=null,this.viewId=`${uf.get("tagName")}-${m4()}`,this.getSDK=()=>{var n,o;return wS((o=(n=this.container)===null||n===void 0?void 0:n.getSessionId)===null||o===void 0?void 0:o.call(n))},this.el=this.createVideoElement()}createVideoElement(){const e=document.createElement("video");return e.style.width="100%",e.style.height="100%",e.style.borderRadius="inherit",e.setAttribute("autoplay","true"),e.setAttribute("muted","true"),e.muted=!0,e.setAttribute("playsinline","true"),e}replaceVideoElement(e){const n=this.createVideoElement();e.replaceWith(n),setTimeout((()=>{e.srcObject=null}),50),this.el=n}getElement(){return this.el}init(){}playVideo(e){typeof e=="string"?this.id=e:this.srcObject=e,this.addRender(Object.assign({id:this.id,zone:this.viewId,userId:Number(this.id),videodom:this.el},this.srcObject?{srcObject:this.srcObject}:{}))}stopVideo(){var e;(this.id||this.srcObject)&&(this.stopRender(Object.assign({id:this.id,zone:this.viewId,userId:Number(this.id),videodom:this.el},this.srcObject?{srcObject:this.srcObject}:{})),!((e=this.getSDK())===null||e===void 0)&&e.getWebRTCFlag()&&this.replaceVideoElement(this.el),this.id="",this.srcObject=null)}updateVideoQuality(e){}destroy(){this.stopVideo()}},t9e=class{constructor(e){this.container=e,this.id="",this.srcObject=null,this.getSDK=()=>{var n,o;return wS((o=(n=this.container)===null||n===void 0?void 0:n.getSessionId)===null||o===void 0?void 0:o.call(n))},this.resizeObserver=new ResizeObserver((([n])=>{var o;(o=this.getSDK())===null||o===void 0||o.Notify_MeidaSDK(cl.UPDATE_SETTING_CANVAS_SIZE,{canvas:this.el,width:n.target.clientWidth,height:n.target.clientHeight});try{this.el.width=n.target.clientWidth,this.el.height=n.target.clientHeight}catch{}})),this.el=document.createElement("canvas"),this.el.id=m4(),this.el.style.borderRadius="inherit",this.el.style.width="100%",this.el.style.height="100%"}getElement(){return this.el}init(){this.el.parentElement&&(this.el.width=this.el.parentElement.clientWidth,this.el.height=this.el.parentElement.clientHeight,this.resizeObserver.observe(this.el.parentElement))}playVideo(e){typeof e=="string"?this.id=e:this.srcObject=e,this.addRender({id:this.id,canvas:this.el})}stopVideo(){(this.id||this.srcObject)&&(this.stopRender({id:this.id,canvas:this.el}),this.id="",this.srcObject=null)}updateVideoQuality(e){}destroy(){var e,n,o;this.stopVideo(),this.resizeObserver.disconnect(),(o=wS((n=(e=this.container)===null||e===void 0?void 0:e.getSessionId)===null||n===void 0?void 0:n.call(e)))===null||o===void 0||o.Notify_MeidaSDK(cl.REMOVE_EXPIRED_CANVAS,{canvasId:this.el.id})}},Nye=class{constructor(e,n,o){this.id="",this.srcObject=null,this.viewId=`${uf.get("tagName")}-${m4()}`,this.ssrcStream=null,this.videoElement=null,this.cursorElement=null,this.hasCursorLayer=!1,this.cursorTransform={tx:0,ty:0,scale:1},this.mirrorState=!1,this.rotation="rot0",this.scale=1,this.containerCssWidth=void 0,this.containerCssHeight=void 0,this.videoWidth=void 0,this.videoHeight=void 0,this.getSDK=()=>{var i,c;return wS((c=(i=this.container)===null||i===void 0?void 0:i.getSessionId)===null||c===void 0?void 0:c.call(i))},this.container=e,this.getRenderParams=n,this.renderMode=o,this.containerElement=this.createDivElement(),this.resizeObserver=new ResizeObserver((([i])=>{this.containerCssWidth=i.target.clientWidth,this.containerCssHeight=i.target.clientHeight,this.ssrcStream&&this.ssrcStream.updateDesiredSize({width:this.containerCssWidth,height:this.containerCssHeight}),this.rotation!=="rot90"&&this.rotation!=="rot270"||this._doRotateVideoContent(this.rotation),this.hasCursorLayer&&this._updateCursorTransform()}))}init(){}destroy(){this.stopVideo()}createDivElement(){const e=document.createElement("div");return e.style.width="100%",e.style.height="100%",e.style.borderRadius="inherit",e}getElement(){return this.containerElement}getAnnoCanvas(){var e;return(e=this.container)===null||e===void 0?void 0:e.getAnnoCanvas()}getPreviewCanvas(){var e;return(e=this.container)===null||e===void 0?void 0:e.getPreviewCanvas()}getLocalShareCanvas(){var e;return(e=this.container)===null||e===void 0?void 0:e.getLocalShareCanvas()}playVideo(e){this.stopVideo(),typeof e=="string"?this.id=e:this.srcObject=e;let n=0;this.renderMode!=="vb"&&(n=Number(this.id));const o=getComputedStyle(this.getElement()),i=parseFloat(o.width),c=parseFloat(o.height);this.addVideoElement(),this.ssrcStream=this.createSsrcStream(n,this.videoElement,{width:i,height:c}),this.videoElement.srcObject=this.ssrcStream.mediaStream,this.resizeObserver.observe(this.containerElement),this.addRender(Object.assign(Object.assign({id:this.id,x:0,y:0,width:i,height:c,left:0,top:0,bottom:c,canvas:this.containerElement,zone:this.viewId,userId:Number(this.id),ssrc:Number(this.id)},this.getRenderParams()),this.srcObject?{srcObject:this.srcObject}:{}))}stopVideo(){var e;if(!this.id&&!this.srcObject)return;const n=getComputedStyle(this.getElement()),o=parseFloat(n.width),i=parseFloat(n.height);this.clear(),this.stopRender(Object.assign(Object.assign({id:this.id,x:0,y:0,width:o,height:i,left:0,top:0,bottom:i,userId:Number(this.id),canvas:this.containerElement,RGBA:(e=this.container)===null||e===void 0?void 0:e.getRGBA(),zone:this.viewId},this.getRenderParams()),this.srcObject?{srcObject:this.srcObject}:{})),this.id="",this.srcObject=null}updateVideoQuality(e){}clear(){this.removeVideoElement(),this.removeCursorElement(),this.resizeObserver.disconnect(),this.containerCssWidth=void 0,this.containerCssHeight=void 0,this.ssrcStream&&(this.ssrcStream.stop(),this.ssrcStream=null)}addVideoElement(){this.removeVideoElement();const e=document.createElement("video");e.style.width="100%",e.style.height="100%",e.style.borderRadius="inherit",e.setAttribute("autoplay","true"),e.setAttribute("muted","true"),e.muted=!0,e.setAttribute("playsinline","true"),this.containerElement.appendChild(e);const n=getComputedStyle(this.containerElement);this.containerCssWidth=parseFloat(n.width),this.containerCssHeight=parseFloat(n.height),this.videoElement=e}removeVideoElement(){if(this.videoElement===null)return;this.videoElement.remove();const e=this.videoElement;setTimeout((()=>{e.srcObject=null}),50),this.videoElement=null}addCursorElement(){this.removeCursorElement();const e=document.createElement("canvas");return e.style.borderRadius="inherit",e.style.width="100%",e.style.height="100%",e.style.position="absolute",e.style.visibility="hidden",this.containerElement.appendChild(e),this.cursorElement=e,this.hasCursorLayer=!0,this._updateCursorTransform(),e}removeCursorElement(){const e=this.cursorElement;e!==null&&(e.remove(),this.cursorElement=null,this.hasCursorLayer=!1)}createSsrcStream(e,n,o){const i=this.getSDK().createSsrcStreamWithRender(e,n,this.renderMode,o);return i.on("addCursorTrack",(c=>{this.addCursorElement(),i.cursorTrack.renderTarget=this.cursorElement,c.on("cursorMove",(d=>{this.onCursorMove(d)}))})),i.metaTrack.on("videoRotationChange",(c=>{this.handleVideoRotated(c)})),i.metaTrack.on("videoMirrorChange",(c=>{this.handleMirrorStateChanged(c)})),i.metaTrack.on("videoSizeChange",((c,d)=>{this.handleVideoSizeChanged(c,d)})),i}_updateCursorTransform(){this.videoWidth&&this.containerCssWidth&&(this.cursorTransform.scale=this.containerCssWidth/this.videoWidth)}onCursorMove(e){if(!this.videoWidth||!this.containerCssWidth)return;this.getSDK().base.assertion.assert(this.cursorElement!==null);const n=this.cursorElement;n.style.visibility="visible";const o=this.cursorTransform.scale;n.style.top=e.y*o+"px",n.style.left=e.x*o+"px",n.style.width=e.width*o+"px",n.style.height=e.height*o+"px"}_doRotateVideoContent(e){const n={rot0:0,rot90:90,rot180:180,rot270:270}[e];this.getSDK().base.assertion.assert(this.videoElement!==null);const o=this.videoElement;let i=o.style.transform;const c=`rotate(${n}deg)`;i.includes("rotate")?i=i.replace(/rotate\([0-9]+(deg)?\)/,c):i+=` ${c}`,o.style.transform=i,o.style.transformOrigin="center";let d=1;if((e==="rot90"||e==="rot270")&&this.videoWidth&&this.videoHeight){const v=this.videoHeight/this.videoWidth,S=this.containerCssWidth,T=this.containerCssHeight;if(d=T/S,S>T){const x=v/(T/S);x>1&&(d*=x)}else{const x=v/(S/T);x>1&&(d/=x)}}const p=this.mirrorState?-1:1;this._scaleVideoContent(p*d,d),this.scale=d,this.rotation=e}handleVideoRotated(e){this.rotation!==e&&this._doRotateVideoContent(e)}handleMirrorStateChanged(e){const n=e?-1:1,o=this.scale;this._scaleVideoContent(n*o,o),this.mirrorState=e}_scaleVideoContent(e,n){this.getSDK().base.assertion.assert(this.videoElement!==null);const o=this.videoElement;let i=o.style.transform;const c=`scaleX(${e})`;i.includes("scaleX")?i=i.replace(/scaleX\(-?([0-9]+(\.[0-9]*)?)\)/,c):i+=c;const d=`scaleY(${n})`;i.includes("scaleY")?i=i.replace(/scaleY\(-?([0-9]+(\.[0-9]*)?)\)/,d):i+=d,o.style.transform=i,o.style.transformOrigin="center"}handleVideoSizeChanged(e,n){this.videoWidth===e&&this.videoHeight===n||(this.videoWidth=e,this.videoHeight=n,this.rotation!=="rot90"&&this.rotation!=="rot270"||this._doRotateVideoContent(this.rotation),this.hasCursorLayer&&this._updateCursorTransform())}};class n9e extends Nye{constructor(n,o){super(n,o,"normal")}addRender({width:n,height:o,x:i,y:c,canvas:d,zone:p,userId:v,left:S,bottom:T,top:x,fillMode:P,videoQuality:B}){var U;(U=this.getSDK())===null||U===void 0||U.Notify_MeidaSDK(cl.ADD_RENDER_VIDEO,{width:n,height:o,x:i,y:c,canvas:d,zone:p,userId:v,left:S,bottom:T,top:x,fillMode:P,videoQuality:B})}stopRender({width:n,height:o,x:i,y:c,userId:d,canvas:p,doNotClean:v,RGBA:S,zone:T,left:x,bottom:P,top:B,videoQuality:U}){var j;(j=this.getSDK())===null||j===void 0||j.Notify_MeidaSDK(cl.STOP_RENDER_VIDEO,{width:n,height:o,x:i,y:c,userId:d,canvas:p,doNotClean:v,RGBA:S,zone:T,left:x,bottom:P,top:B,videoQuality:U})}}let o9e=class extends Nye{constructor(e,n){super(e,n,"sharing")}addRender({width:e,height:n,canvas:o,ssrc:i}){var c,d;(c=this.getSDK())===null||c===void 0||c.Notify_MeidaSDK(cl.START_SHARING,Object.assign({width:e,height:n,canvas:o,ssrc:i,annoCanvas:this.getAnnoCanvas(),annoPresenterCanvas:this.getPreviewCanvas(),localShareCanvas:this.getLocalShareCanvas()},(d=this.getRenderParams)===null||d===void 0?void 0:d.call(this)))}stopRender({canvas:e}){var n;(n=this.getSDK())===null||n===void 0||n.Notify_MeidaSDK(cl.STOP_SHARING,{canvas:e})}},s9e=class extends Nye{constructor(e,n){super(e,n,"vb")}addRender({id:e,canvas:n}){var o;(o=this.getSDK())===null||o===void 0||o.Notify_MeidaSDK(cl.ADD_VIDEO_VB_SETTING_DOM,{id:e,canvas:n})}stopRender({id:e,canvas:n}){var o;(o=this.getSDK())===null||o===void 0||o.Notify_MeidaSDK(cl.REMOVE_VIDEO_VB_SETTING_DOM,{id:e,canvas:n})}},r9e=class extends tte{addRender({width:e,height:n,x:o,y:i,canvas:c,zone:d,userId:p,left:v,bottom:S,top:T,fillMode:x,videoQuality:P}){var B;this.getSDK()&&(t_e(this.container,!0),(function(U){var j,W;const Z=uf.get("renderCountMap").get(U)||0,re=((W=(j=JsMediaSDK_Instance==null?void 0:JsMediaSDK_Instance.util)===null||j===void 0?void 0:j.getMaxCountRender)===null||W===void 0?void 0:W.call(j))||25,le=Z>=0&&Z<=re,ie=uf.get("tagName");le||console.error(`In your environment, the maximum number of ${ie} that can be accommodated in each ${ie}-container is ${re}. The current number has exceeded this limit, which may cause video rendering issues.`)})(this.container)),(B=this.getSDK())===null||B===void 0||B.Notify_MeidaSDK(cl.ADD_RENDER_VIDEO,{width:e,height:n,x:o,y:i,canvas:c,zone:d,userId:p,left:v,bottom:S,top:T,fillMode:x,videoQuality:P})}zoomRender({width:e,height:n,x:o,y:i,userId:c,canvas:d,RGBA:p,zone:v,left:S,bottom:T,top:x}){var P;(P=this.getSDK())===null||P===void 0||P.Notify_MeidaSDK(cl.ZOOM_RENDER,{width:e,height:n,x:o,y:i,userId:c,canvas:d,RGBA:p,zone:v,left:S,bottom:T,top:x})}stopRender({width:e,height:n,x:o,y:i,userId:c,canvas:d,doNotClean:p,RGBA:v,zone:S,left:T,bottom:x,top:P,videoQuality:B}){var U;this.getSDK()&&t_e(this.container,!1),(U=this.getSDK())===null||U===void 0||U.Notify_MeidaSDK(cl.STOP_RENDER_VIDEO,{width:e,height:n,x:o,y:i,userId:c,canvas:d,doNotClean:p,RGBA:v,zone:S,left:T,bottom:x,top:P,videoQuality:B})}};class i9e extends nte{addRender({userId:n,videodom:o,zone:i}){var c;(c=this.getSDK())===null||c===void 0||c.Notify_MeidaSDK(cl.ADD_RENDER_VIDEO,{userId:n,videodom:o,zone:i})}stopRender({userId:n,videodom:o,zone:i}){var c;(c=this.getSDK())===null||c===void 0||c.Notify_MeidaSDK(cl.STOP_RENDER_VIDEO,{userId:n,videodom:o,zone:i})}}let a9e=class extends tte{constructor(){super(...arguments),this.ismain=!1}getAnnoCanvas(){var e;return(e=this.container)===null||e===void 0?void 0:e.getAnnoCanvas()}getPreviewCanvas(){var e;return(e=this.container)===null||e===void 0?void 0:e.getPreviewCanvas()}getLocalShareCanvas(){return this.container.getLocalShareCanvas()}addRender({x:e,y:n,width:o,height:i,userId:c,canvas:d,isFromMainSession:p,zone:v}){var S;this.ismain=!!p,(S=this.getSDK())===null||S===void 0||S.Notify_MeidaSDK(cl.START_SHARING,{width:o,height:i,x:e,y:n,ssrc:c,isFromMainSession:p,canvas:d,zone:v,annoCanvas:this.getAnnoCanvas()})}zoomRender({x:e,y:n,width:o,height:i,userId:c,canvas:d,zone:p,RGBA:v,isFromMainSession:S}){var T;(T=this.getSDK())===null||T===void 0||T.Notify_MeidaSDK(cl.ZOOM_SHARING,{width:o,height:i,x:e,y:n,ssrc:c,zone:p,canvas:d,RGBA:v,isFromMainSession:S})}stopRender({canvas:e,userId:n,zone:o,isFromMainSession:i}){var c;(c=this.getSDK())===null||c===void 0||c.Notify_MeidaSDK(cl.STOP_SHARING,{canvas:e,ssrc:n,zone:o,isFromMainSession:this.ismain})}},s_e=class extends tte{getAnnoCanvas(){var e;return(e=this.container)===null||e===void 0?void 0:e.getAnnoCanvas()}getPreviewCanvas(){var e;return(e=this.container)===null||e===void 0?void 0:e.getPreviewCanvas()}getLocalShareCanvas(){return this.container.getLocalShareCanvas()}addRender({canvas:e}){var n;(n=this.getSDK())===null||n===void 0||n.Notify_MeidaSDK(cl.START_SHARE_PREVIEW,{annoPresenterCanvas:this.getPreviewCanvas(),localShareCanvas:this.getLocalShareCanvas()})}zoomRender(){}stopRender({canvas:e}){var n;(n=this.getSDK())===null||n===void 0||n.Notify_MeidaSDK(cl.STOP_SHARE_PREVIEW,{})}},r_e=class extends nte{addRender({userId:e,videodom:n}){var o,i;(o=this.getSDK())===null||o===void 0||o.Notify_MeidaSDK(cl.SWITCH_CANVAS_FOR_VIDEO_CAPTURE,[n]),(i=this.getSDK())===null||i===void 0||i.Notify_MeidaSDK(cl.ADD_RENDER_VIDEO,{userId:e,videodom:n})}stopRender({userId:e,videodom:n}){var o;(o=this.getSDK())===null||o===void 0||o.Notify_MeidaSDK(cl.STOP_RENDER_VIDEO,{userId:e,videodom:n})}},l9e=class extends nte{addRender({id:e,videodom:n}){var o;(o=this.getSDK())===null||o===void 0||o.Notify_MeidaSDK(cl.ADD_VIDEO_VB_SETTING_DOM,{id:e,videodom:n})}stopRender({id:e,videodom:n}){var o;(o=this.getSDK())===null||o===void 0||o.Notify_MeidaSDK(cl.REMOVE_VIDEO_VB_SETTING_DOM,{id:e,videodom:n})}},c9e=class extends t9e{addRender({id:e,canvas:n}){var o;(o=this.getSDK())===null||o===void 0||o.Notify_MeidaSDK(cl.ADD_VIDEO_VB_SETTING_DOM,{id:e,canvas:n})}stopRender({id:e,canvas:n}){var o;(o=this.getSDK())===null||o===void 0||o.Notify_MeidaSDK(cl.REMOVE_VIDEO_VB_SETTING_DOM,{id:e,canvas:n})}};function _O(e,n,o){if(typeof e=="function"?e===n:e.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}function i_e(e,n,o,i,c,d,p){try{var v=e[d](p),S=v.value}catch(T){return void o(T)}v.done?n(S):Promise.resolve(S).then(i,c)}function ONe(e,n){(function(o,i){if(i.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,n),n.add(e)}function U3(e,n,o){return(n=(function(i){var c=(function(d){if(typeof d!="object"||!d)return d;var p=d[Symbol.toPrimitive];if(p!==void 0){var v=p.call(d,"string");if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)})(i);return typeof c=="symbol"?c:c+""})(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}var l6=new WeakSet;let fve=class pve{constructor(){ONe(this,l6)}preview(n,o,i){var c=o.getContext("webgl"),d=_O(l6,this,u9e).call(this,c,pve.VERTEX_SHADER,pve.FRAGMENT_SHADER),p=c.getAttribLocation(d,"position"),v=c.getUniformLocation(d,"videoTexture");c.useProgram(d);var S=_O(l6,this,d9e).call(this,c);c.bindBuffer(c.ARRAY_BUFFER,S),c.enableVertexAttribArray(p),c.vertexAttribPointer(p,2,c.FLOAT,!1,0,0),this.frame({glContext:c,program:d,positionAttributeLocation:p,textureLocation:v,positionBuffer:S,viewport:i,source:n})}frame(n){var o=n.glContext;n.glContext.clearColor(0,0,0,1),n.glContext.clear(n.glContext.COLOR_BUFFER_BIT),n.glContext.viewport(n.viewport.x,n.viewport.y,n.viewport.w,n.viewport.h),n.glContext.enable(n.glContext.DEPTH_TEST);var i=n.glContext.createTexture();o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,i),o.uniform1i(n.textureLocation,0),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,n.source),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),n.glContext.drawArrays(n.glContext.TRIANGLE_STRIP,0,4),requestAnimationFrame((()=>this.frame(n)))}};function u9e(e,n,o){var i=_O(l6,this,a_e).call(this,e,e.VERTEX_SHADER,n),c=_O(l6,this,a_e).call(this,e,e.FRAGMENT_SHADER,o),d=e.createProgram();return e.attachShader(d,i),e.attachShader(d,c),e.linkProgram(d),d}function a_e(e,n,o){var i=e.createShader(n);return e.shaderSource(i,o),e.compileShader(i),i}function d9e(e){var n=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,1]),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),n}U3(fve,"VERTEX_SHADER",`
    attribute vec2 position;
    varying vec2 texCoord;

    void main() {
      texCoord = (position + 1.0) * 0.5;
      // gl_Position = vec4(position, 0.0, 1.0);
      gl_Position = vec4(position.x, -position.y, 0.0, 1.0);
    }
  `),U3(fve,"FRAGMENT_SHADER",`
    precision mediump float;
    varying vec2 texCoord;
    uniform sampler2D videoTexture;

    void main() {
      gl_FragColor = texture2D(videoTexture, texCoord);
    }
  `);var c6=new WeakSet;class z3{constructor(){ONe(this,c6)}preview(n,o,i){var c=o.getContext("webgl2"),d=_O(c6,this,h9e).call(this,c,z3.VERTEX_SHADER,z3.FRAGMENT_SHADER),p=c.getAttribLocation(d,"position"),v=c.getUniformLocation(d,"videoTexture");c.useProgram(d);var S=_O(c6,this,f9e).call(this,c);c.bindBuffer(c.ARRAY_BUFFER,S),c.enableVertexAttribArray(p),c.vertexAttribPointer(p,2,c.FLOAT,!1,0,0),this.frame({glContext:c,program:d,positionAttributeLocation:p,textureLocation:v,positionBuffer:S,viewport:i,source:n})}frame(n){var o=n.glContext;n.glContext.clearColor(0,0,0,1),n.glContext.clear(n.glContext.COLOR_BUFFER_BIT),n.glContext.viewport(n.viewport.x,n.viewport.y,n.viewport.w,n.viewport.h),n.glContext.enable(n.glContext.DEPTH_TEST);var i=n.glContext.createTexture();o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,i),o.uniform1i(n.textureLocation,0),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,n.source),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),n.glContext.drawArrays(n.glContext.TRIANGLE_STRIP,0,4),requestAnimationFrame((()=>this.frame(n)))}}function h9e(e,n,o){var i=_O(c6,this,l_e).call(this,e,e.VERTEX_SHADER,n),c=_O(c6,this,l_e).call(this,e,e.FRAGMENT_SHADER,o),d=e.createProgram();return e.attachShader(d,i),e.attachShader(d,c),e.linkProgram(d),d}function l_e(e,n,o){var i=e.createShader(n);return e.shaderSource(i,o),e.compileShader(i),i}function f9e(e){var n=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,1]),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),n}U3(z3,"VERTEX_SHADER",`#version 300 es
    in vec2 position;
    out vec2 texCoord;

    void main() {
      texCoord = (position + 1.0) * 0.5;
      gl_Position = vec4(position.x, -position.y, 0.0, 1.0);
    }
  `),U3(z3,"FRAGMENT_SHADER",`#version 300 es
    precision mediump float;
    in vec2 texCoord;
    uniform sampler2D videoTexture;
    out vec4 fragColor;

    void main() {
      fragColor = texture(videoTexture, texCoord);
    }
  `);class j3{constructor(){}preview(n,o,i){var c,d=this;return(c=function*(){if(!n||!o||!i)throw new Error("Invalid arguments: source, target, or viewport is missing");var p=yield navigator.gpu.requestAdapter(),v=yield p.requestDevice(),S=navigator.gpu.getPreferredCanvasFormat(),T=o.getContext("webgpu");T.configure({device:v,format:S,alphaMode:"opaque"});var x=v.createSampler({}),P=v.createRenderPipeline({layout:"auto",vertex:{module:v.createShaderModule({code:j3.VERTEX_SHADER}),entryPoint:"vert_main"},fragment:{module:v.createShaderModule({code:j3.FRAG_SHADER_VF}),entryPoint:"frag_main",targets:[{format:S}]},primitive:{topology:"triangle-list"}}),B={device:v,context:T,pipeline:P,sampler:x,source:n,viewport:i};d.frame(B)},function(){var p=this,v=arguments;return new Promise((function(S,T){var x=c.apply(p,v);function P(U){i_e(x,S,T,P,B,"next",U)}function B(U){i_e(x,S,T,P,B,"throw",U)}P(void 0)}))})()}frame(n){var o=n.device.createCommandEncoder(),i={colorAttachments:[{view:n.context.getCurrentTexture().createView(),loadOp:"clear",storeOp:"store"}]},c=o.beginRenderPass(i);c.setPipeline(n.pipeline);var d=n.device.createBindGroup({layout:n.pipeline.getBindGroupLayout(0),entries:[{binding:0,resource:n.sampler},{binding:1,resource:n.device.importExternalTexture({source:n.source})}]});c.setBindGroup(0,d),c.setViewport(n.viewport.x,n.viewport.y,n.viewport.w,n.viewport.h,0,1),c.draw(6),c.end(),n.device.queue.submit([o.finish()]),requestAnimationFrame((()=>this.frame(n)))}}U3(j3,"VERTEX_SHADER",`
    struct VertexOutput {
      @builtin(position) Position: vec4<f32>,
      @location(0) uv: vec2<f32>,
    }

    @vertex
    fn vert_main(@builtin(vertex_index) VertexIndex: u32) -> VertexOutput {
      var pos = array<vec2<f32>, 6>(
        vec2<f32>( 1.0,  1.0),
        vec2<f32>( 1.0, -1.0),
        vec2<f32>(-1.0, -1.0),
        vec2<f32>( 1.0,  1.0),
        vec2<f32>(-1.0, -1.0),
        vec2<f32>(-1.0,  1.0)
      );

      var uv = array<vec2<f32>, 6>(
        vec2<f32>(1.0, 0.0),
        vec2<f32>(1.0, 1.0),
        vec2<f32>(0.0, 1.0),
        vec2<f32>(1.0, 0.0),
        vec2<f32>(0.0, 1.0),
        vec2<f32>(0.0, 0.0)
      );

      var output : VertexOutput;
      output.Position = vec4<f32>(pos[VertexIndex], 0.0, 1.0);
      output.uv = uv[VertexIndex];
      return output;
    }
  `),U3(j3,"FRAG_SHADER_VF",`
    @group(0) @binding(0) var mySampler: sampler;
    @group(0) @binding(1) var vfTexture: texture_external;

    @fragment
    fn frag_main(@location(0) uv : vec2<f32>) -> @location(0) vec4<f32> {
      var color0: vec4<f32> = textureSampleBaseClampToEdge(vfTexture, mySampler, uv);
      return color0;
    }
  `);class ck{constructor(){}preview(n,o,i,c){n==1?i.srcObject=o:n==2?new fve().preview(o,i,c):n==3?new z3().preview(o,i,c):n==4&&new j3().preview(o,i,c)}static getInstance(){return ck.instance||(ck.instance=new ck),ck.instance}}class p9e extends tte{constructor(){super(...arguments),this.rendersProxy=ck.getInstance(),this.videoSource=null}createSource(n,o,i){return(function(c,d,p,v){return new(p||(p=Promise))((function(S,T){function x(U){try{B(v.next(U))}catch(j){T(j)}}function P(U){try{B(v.throw(U))}catch(j){T(j)}}function B(U){var j;U.done?S(U.value):(j=U.value,j instanceof p?j:new p((function(W){W(j)}))).then(x,P)}B((v=v.apply(c,[])).next())}))})(this,0,void 0,(function*(){const c=document.createElement("video");return c.width=o,c.height=i,c.loop=!0,c.autoplay=!0,c.muted=!0,c.srcObject=n,yield c.play(),c}))}addRender(n){n.renderType&&n.srcObject&&!this.videoSource&&(this.videoSource&&(this.videoSource=null),this.createSource(n.srcObject,n.width,n.height).then((o=>{this.videoSource=o,this.rendersProxy.preview(n.renderType,this.videoSource,n.canvas,{x:n.x,y:n.renderType===F_.WebGPU?n.top:n.y,w:n.width,h:n.height})})))}zoomRender(n){n.renderType&&this.videoSource&&(this.videoSource.width!==n.width&&(this.videoSource.width=n.width),this.videoSource.height!==n.height&&(this.videoSource.height=n.height))}stopRender(n){n.renderType&&this.videoSource&&(this.videoSource.srcObject=null,this.videoSource=null)}}class m9e extends nte{constructor(){super(...arguments),this.rendersProxy=ck.getInstance()}addRender(n){n.srcObject&&n.videodom&&this.rendersProxy.preview(F_.VideoTag,n.srcObject,n.videodom)}stopRender(n){n.videodom.srcObject=null}}const $y="node-id",u6="media-type",ZX="video-quality",F5="share-source",INe="fill-mode",RNe="stop-no-clean",mve="refresh-key";class W3 extends HTMLElement{static get observedAttributes(){return[$y,u6,ZX,mve,F5]}constructor(){super(),this.container=null,this.borderRadius=null,this._srcObject=null,wNe(this,W3.customAttributes),this.getRenderParams=this.getParsedParams.bind(this),this.callback=(n,o)=>{var i;n===H6.MOBILE_CAPTURE_DEVICE_CHANGE&&o===this.getAttribute($y)&&this.initRender(),n===H6.SELF_PREVIEW_WATERMARK_CHANGE&&this.getAttribute($y)&&(!((i=this.getCurrentMediaSDK())===null||i===void 0)&&i.isSelfUser(this.getAttribute($y)))&&this.initRender()}}initRender(){var n,o,i,c,d,p,v,S,T,x;if(this.render&&this.render.destroy(),(n=this.getContainer())===null||n===void 0?void 0:n.useInsideRender()){const re=(o=this.getContainer())===null||o===void 0?void 0:o.getInsideRenderType();if(re===F_.VideoTag)this.render=new m9e(this.getContainer());else{if(![F_.WebGL,F_.WebGL2,F_.WebGPU].includes(re))return void console.error("Inside render type error.");this.render=new p9e(this.getContainer(),this.getRenderParams)}return this.shadowRoot&&(this.shadowRoot.innerHTML="",this.shadowRoot.appendChild(this.render.getElement())),this.render.init({borderRadius:this.borderRadius}),void(this.srcObject&&this.render.playVideo(this.srcObject))}const P=(c=(i=this.getCurrentMediaSDK())===null||i===void 0?void 0:i.getWasmRenderingMethod)===null||c===void 0?void 0:c.bind(this.getCurrentMediaSDK()),B=this.getAttribute($y),U=B&&((d=this.getCurrentMediaSDK())===null||d===void 0?void 0:d.isPreviewVideotag(B)),j=this.getAttribute(u6);let W=0;j===m3.Preview?!((p=this.getCurrentMediaSDK())===null||p===void 0)&&p.getWebRTCFlag()?(this.render=new l9e(null),W=6):P&&P()==="video-tag"?(this.render=new s9e(this.getContainer(),this.getRenderParams),W=10):(this.render=new c9e(null),W=5):j===m3.Share?B&&this.getAttribute(F5)!=="main"&&(!((S=(v=this.getCurrentMediaSDK())===null||v===void 0?void 0:v.isSharePreviewVideotag)===null||S===void 0)&&S.call(v,B))?(this.render=new s_e(this.getContainer(),this.getRenderParams),W=7):P&&P()==="video-tag"?(this.render=new o9e(this.getContainer(),this.getRenderParams),W=9):(this.render=new a9e(this.getContainer(),this.getRenderParams),W=2):!((T=this.getCurrentMediaSDK())===null||T===void 0)&&T.getWebRTCFlag()?(this.render=new i9e(this.getContainer()),W=4):U?(this.render=new r_e(this.getContainer()),W=1):P&&P()==="video-tag"?(this.render=new n9e(this.getContainer(),this.getRenderParams),W=8):(this.render=new r9e(this.getContainer(),this.getRenderParams),W=3),this.getCurrentMediaSDK()&&jf(this.getCurrentMediaSDK(),`VPREN:${W}`),this.innerHTML="",this.appendChild(this.render.getElement()),this.render.init({borderRadius:this.borderRadius});const Z=this.getAttribute($y);Ex(Z)||(x=this.render)===null||x===void 0||x.playVideo(Z)}get srcObject(){return this._srcObject}set srcObject(n){var o,i,c,d;!this._srcObject&&n?(o=this.render)===null||o===void 0||o.playVideo(n):this._srcObject&&n?((i=this.render)===null||i===void 0||i.stopVideo(),(c=this.render)===null||c===void 0||c.playVideo(n)):this._srcObject&&((d=this.render)===null||d===void 0||d.stopVideo()),this._srcObject=n}getContainer(){return this.container||(this.container=this.closest(`${uf.get("tagName")}-container`)),this.container}getCurrentMediaSDK(){var n,o;return wS((o=(n=this.getContainer())===null||n===void 0?void 0:n.getSessionId)===null||o===void 0?void 0:o.call(n))}getParsedParams(){var n,o;return{fillMode:e_e(this,INe),doNotClean:e_e(this,RNe),isFromMainSession:this.getAttribute(F5)==="main",videoQuality:this.getAttribute(ZX),renderType:(o=(n=this.getContainer())===null||n===void 0?void 0:n.getInsideRenderType())!==null&&o!==void 0?o:F_.Unknown}}connectedCallback(){var n;this.style.display||(this.style.display="block"),_Ne(this,W3.defaultValues),this.initRender(),(n=this.getCurrentMediaSDK())===null||n===void 0||n.addCallback(this.callback),this.removeSubscribe=uf.subscribe(((o,i,c)=>{var d,p,v,S;o==="failover"&&c===(((p=(d=this.getContainer())===null||d===void 0?void 0:d.getSessionId)===null||p===void 0?void 0:p.call(d))||$6)&&(this.initRender(),Ex(this.getAttribute($y))||(v=this.render)===null||v===void 0||v.playVideo(this.getAttribute($y)),this.srcObject&&((S=this.render)===null||S===void 0||S.playVideo(this.srcObject)))})),this.removeStyleListener=(function(o,i){let c=null;const d=()=>{let v=getComputedStyle(o).borderRadius;v&&v!=="0px"&&v!=="0%"?(c=v,i(o_e(v))):c&&(i(o_e("0%")),c=null)};d();const p=new MutationObserver((()=>d()));return p.observe(o,{attributes:!0,attributeFilter:["style"]}),()=>{p.disconnect()}})(this,(o=>{var i,c;this.borderRadius=o,o&&((c=(i=this.render)===null||i===void 0?void 0:i.updateBorderRadius)===null||c===void 0||c.call(i,o))}))}disconnectedCallback(){var n,o,i,c;(n=this.removeSubscribe)===null||n===void 0||n.call(this),(o=this.removeStyleListener)===null||o===void 0||o.call(this),(i=this.render)===null||i===void 0||i.destroy(),this.callback&&((c=this.getCurrentMediaSDK())===null||c===void 0||c.removeCallback(this.callback))}attributeChangedCallback(n,o,i){var c,d,p,v,S,T,x;if(this.render)switch(n){case $y:!((c=this.getCurrentMediaSDK())===null||c===void 0)&&c.getWebRTCFlag()&&this.getAttribute($y)===m3.Video||(!!(!((d=this.getCurrentMediaSDK())===null||d===void 0)&&d.isPreviewVideotag(i))!=this.render instanceof r_e&&this.initRender(),!!(!((v=(p=this.getCurrentMediaSDK())===null||p===void 0?void 0:p.isSharePreviewVideotag)===null||v===void 0)&&v.call(p,i))!=this.render instanceof s_e&&this.initRender()),Ex(o)&&!Ex(i)?this.render.playVideo(i):Ex(o)||Ex(i)?Ex(o)||this.render.stopVideo():(this.render.stopVideo(),this.render.playVideo(i));break;case F5:case u6:this.initRender();break;case ZX:(S=this.render)===null||S===void 0||S.updateVideoQuality(i);break;case mve:Ex(i)||(x=(T=this.render)===null||T===void 0?void 0:T.refresh)===null||x===void 0||x.call(T)}}}W3.customAttributes=[$y,u6,ZX,F5,INe,RNe,mve],W3.defaultValues={[$y]:"",[u6]:m3.Video};const c_e="session-id",wx="z-index",C5="inside-render",u_e="label";class G3 extends HTMLElement{static get observedAttributes(){return[c_e,wx,C5]}get pipWindow(){var n,o;return"documentPictureInPicture"in window&&(function(){const i=n_e();try{return!!(i!=null&&i.location.origin)}catch{return!1}})()&&((o=(n=n_e())===null||n===void 0?void 0:n.documentPictureInPicture)===null||o===void 0?void 0:o.window)||void 0}constructor(){super(),this.canvasId="video-player-canvas-"+(this.getAttribute(u_e)?`${this.getAttribute(u_e)}-`:"")+m4(),this.needInitCanvas=!1,this.canvasKeys=["annoCanvas","previewCanvas","localShareCanvas"],this.needInitCanvasMap={annoCanvas:!1,previewCanvas:!1,localShareCanvas:!1},this.listenerList=[],this.pipListenerList=[],this.callback=null,wNe(this,G3.customAttributes);const n=this.attachShadow({mode:"open"}),o=document.createElement("slot");this.appendCanvas=(i,c=o)=>{n.insertBefore(i,c)},n.appendChild(o)}connectedCallback(){this.style.display||(this.style.display="block"),this.style.position||(this.style.position="relative"),_Ne(this,G3.defaultValues),this.needInitCanvas&&this.initCanvasEvents(),this.canvasKeys.forEach((n=>{if(this.needInitCanvasMap[n]){const o=this[n];o&&this.initCanvasListenerList(o)}})),this.removeSubscribe=uf.subscribe(((n,o,i)=>{n==="failover"&&i===(this.getSessionId()||$6)&&(this.replaceCanvas(),this.initCanvasEvents(),this.canvasKeys.forEach((c=>{const d=this[c];d&&this.initCanvasListenerList(d)})))}))}removeFromShadowRoot(n){if(!this.shadowRoot)return;let o=n;for(;o;){if(o.parentNode===null)return;if(o.parentNode===this.shadowRoot)break;o=o.parentNode}o.remove()}disconnectedCallback(){var n,o,i,c;(n=this.removeListener)===null||n===void 0||n.call(this),this.resetPIPListener(),this.listenerList.length&&this.listenerList.forEach((d=>d())),(o=this.removeSubscribe)===null||o===void 0||o.call(this),this.canvas&&((i=wS(this.getSessionId()))===null||i===void 0||i.Notify_MeidaSDK(cl.REMOVE_EXPIRED_CANVAS,{canvasId:this.canvasId}),this.canvas.remove(),this.canvas=void 0),this.canvasKeys.forEach((d=>{const p=this[d];p&&(this.removeFromShadowRoot(p),this[d]=void 0)})),this.callback&&((c=wS(this.getSessionId()))===null||c===void 0||c.removeCallback(this.callback))}attributeChangedCallback(n,o,i){n===wx&&this.canvas&&i&&(this.canvas.style.zIndex=i)}adoptedCallback(){jf(this.getCurrentMediaSDK(),"VPADOP:"+!!this.pipWindow),this.pipWindow?this.canvas&&(this.resetPIPListener(),this.removePIPListener=Cx(this.canvas,this,!0,this.pipWindow,(n=>jf(this.getCurrentMediaSDK(),n))),this.canvasKeys.forEach((n=>{const o=this[n];o&&this.pipListenerList.push(Cx(o,this,!1,this.pipWindow))}))):this.resetPIPListener()}resetPIPListener(){var n;(n=this.removePIPListener)===null||n===void 0||n.call(this),this.removePIPListener=void 0,this.pipListenerList.length&&this.pipListenerList.forEach((o=>o())),this.pipListenerList=[]}initCanvasListenerList(n){this.listenerList.push(Cx(n,this,!1)),this.pipWindow&&this.pipListenerList.push(Cx(n,this,!1,this.pipWindow))}createCanvas(){this.getCurrentMediaSDK()&&jf(this.getCurrentMediaSDK(),"VPCC"),this.canvas=wL(this.clientWidth,this.clientHeight,this.getAttribute(wx)||"",this.canvasId,(n=>jf(this.getCurrentMediaSDK(),n))),this.appendCanvas(this.canvas),this.isConnected?this.initCanvasEvents():this.needInitCanvas=!0}createPreviewCanvas(){this.getCurrentMediaSDK()&&jf(this.getCurrentMediaSDK(),"VPCC"),this.previewCanvas=wL(this.clientWidth,this.clientHeight,this.getAttribute(wx)||"",this.canvasId+"-anno-presenter",(n=>jf(this.getCurrentMediaSDK(),n))),this.appendCanvas(this.previewCanvas)}createLocalShareCanvas(){this.getCurrentMediaSDK()&&jf(this.getCurrentMediaSDK(),"VPCC"),this.localShareCanvas=wL(this.clientWidth,this.clientHeight,this.getAttribute(wx)||"",this.canvasId+"-local-share",(n=>jf(this.getCurrentMediaSDK(),n))),this.appendCanvas(this.localShareCanvas),this.isConnected?this.initCanvasListenerList(this.localShareCanvas):this.needInitCanvasMap.localShareCanvas=!0}createAnnoCanvas(){this.annoCanvas=wL(this.clientWidth,this.clientHeight,this.getAttribute(wx)||"",this.canvasId+"-anno",(n=>jf(this.getCurrentMediaSDK(),n))),this.appendCanvas(this.annoCanvas),this.isConnected?this.initCanvasListenerList(this.annoCanvas):this.needInitCanvasMap.annoCanvas=!0}initCanvasEvents(){var n;this.removeListener=Cx(this.canvas,this,!0,window,(o=>jf(this.getCurrentMediaSDK(),o))),this.pipWindow&&(this.removePIPListener=Cx(this.canvas,this,!0,this.pipWindow,(o=>jf(this.getCurrentMediaSDK(),o)))),this.callback=(o,i)=>{var c,d;o===H6.WEBGL_LOST_IN_MULTI_VIEW&&i.replaceCanvas&&i.canvasId===((c=this.canvas)===null||c===void 0?void 0:c.id)&&(this.replaceCanvas(),(d=wS(this.getSessionId()))===null||d===void 0||d.Notify_MeidaSDK(cl.WEBGL_LOST_REPLACE_CANVAS,{canvasId:this.canvasId,canvas:this.canvas}))},(n=this.getCurrentMediaSDK())===null||n===void 0||n.addCallback(this.callback)}replaceCanvas(){var n;if(this.getCurrentMediaSDK()&&jf(this.getCurrentMediaSDK(),"VPRC"),this.canvas){(n=this.removeListener)===null||n===void 0||n.call(this);const o=wL(this.clientWidth,this.clientHeight,this.getAttribute(wx)||"",this.canvasId,(i=>jf(this.getCurrentMediaSDK(),i)));this.removeListener=Cx(o,this,!0,window,(i=>jf(this.getCurrentMediaSDK(),i))),this.pipWindow&&(this.removePIPListener=Cx(this.canvas,this,!0,this.pipWindow,(i=>jf(this.getCurrentMediaSDK(),i)))),this.shadowRoot&&this.shadowRoot.replaceChild(o,this.canvas),this.canvas=o}if(this.annoCanvas){const o=wL(this.clientWidth,this.clientHeight,this.getAttribute(wx)||"",this.canvasId+"anno",(i=>jf(this.getCurrentMediaSDK(),i)));this.shadowRoot&&this.shadowRoot.replaceChild(o,this.annoCanvas),this.annoCanvas=o}}getResizeStrategy(){return this.getAttribute("resize-strategy")||bE.Debounce}getCanvas(){return this.canvas||this.createCanvas(),this.canvas}getPreviewCanvas(){return this.previewCanvas||this.createPreviewCanvas(),this.previewCanvas}getLocalShareCanvas(){return this.localShareCanvas||this.createLocalShareCanvas(),this.localShareCanvas}getAnnoCanvas(){return this.annoCanvas||this.createAnnoCanvas(),this.annoCanvas}useInsideRender(){return this.getAttribute(C5)!==null&&this.getAttribute(C5)!==void 0&&this.getAttribute(C5)!=="false"&&this.getAttribute(C5)!=="0"}getInsideRenderType(){return Number(this.getAttribute("inside-render-type"))}getSessionId(){return this.getAttribute(c_e)||void 0}getCurrentMediaSDK(){return wS(this.getSessionId())}getRGBA(){return(function(n){let o=0,i=0,c=0,d=0;if(n[0]==="r")if(n[3]==="a"){const p=n.slice(5,-1).split(",").map((v=>parseInt(v.trim(),10)));o=p[0],i=p[1],c=p[2],d=p[3]}else{const p=n.slice(4,-1).split(",").map((v=>parseInt(v.trim(),10)));o=p[0],i=p[1],c=p[2]}else if(n[0]==="#"){let p=n.slice(1);p.length===3&&(p=p.split("").map((S=>S.repeat(2))).join(""));const v=parseInt(p,16);o=v>>16&255,i=v>>8&255,c=255&v}return{R:o/255,G:i/255,B:c/255,A:d}})(getComputedStyle(this).getPropertyValue("background-color"))}}function kNe(e){var n;let o="video-player";e.tagName&&(o=e.tagName,uf.dispatch("",{tagName:e.tagName}),jf((n=e.mediaSDK)===null||n===void 0?void 0:n.call(e),`VPTN:${o}`));const i=`${o}-container`,c=e.sessionId||m4();return uf.get("renderCountMap").clear(),e.mediaSDK&&(uf.get("mediaSDKInstanceMap").set($6,e.mediaSDK),uf.get("mediaSDKInstanceMap").set(c,e.mediaSDK)),e.failover&&uf.dispatch("failover",void 0,e.sessionId||$6),customElements.get(i)||customElements.define(i,G3),customElements.get(o)||customElements.define(o,W3),c}G3.customAttributes=[],G3.defaultValues={};const d_e="PREVIEW_VIDEO_ENCODE_SUCCESS",Tpe="PREVIEW_VIDEO_VB_MODEL_READY",h_e="PREVIEW_VIDEO_USER_FORBIDDEN_CAPTURE",f_e="PREVIEW_VIDEO_CAMERA_IS_TAKEN",p_e="PREVIEW_VB_SETTING_SUCCESS";async function m_e(e,n,o,i){const{imageUrl:c,cropped:d,deviceId:p}=o;let v=q_("__ZOOM_SDK_PREVIEW_VIRTUAL_BACKGROUND_CANVAS_@__"),S=null;d4(n)?n.id?v=n.id:n.id=v:(n.setAttribute("node-id",v),n.setAttribute("media-type","preview"));let[T,x]=[640,360];Ns.isSupportSending720P()&&(T=1280,x=720),c&&qge(i)&&(S=await wz(c,d)),e.startVirtualBackgroundSetting(n,S,0,p??"default",T,x,void 0,v),S&&S!==P3&&setTimeout((()=>{R6(S)}),0)}class ih{constructor(){this.previewMediaAgent=$0.getInstance(),this.state=void 0,this.eventHandler=(n,o)=>{switch(n){case Jn.InitSuccessVideo:o===pg.EncodeSuccess&&(ih.isVideoEncoded=!0,it(d_e,!0));break;case Jn.VbModelPreloadingOk:case Jn.VbModelPreloading_3S:case Jn.VbModelPreloading_10S:ih.isVBModelReady=!0,it(Tpe,!0);break;case Jn.VbSettingParaError:o===eDe.VBModelNotMatch&&(ih.isVBModelReady=!1,it(Tpe,!1));break;case Jn.UserForbiddedCaptureVideo:it(h_e,o);break;case Jn.UserCameraIsTakenByOtherPrograms:it(f_e,{reason:"User camera is taken by other programs.",...o??{}});break;case Jn.StartVideoStreamInVbSettingSuccess:it(p_e,!0)}}}static setMediaOption(n){ih.mediaOption=n}setup(){if(ih.mediaOption){if(Ns.getInstance().inProgress)return Promise.resolve("");if(!$0.getInstance().inProgress){var n,o;let i;ih.isVideoEncoded=void 0,ih.isVBModelReady=void 0,this.previewMediaAgent.unregisterCallback(this.eventHandler),(n=ih.mediaOption)!==null&&n!==void 0&&n.enforceMultipleVideos&&typeof((o=ih.mediaOption)===null||o===void 0?void 0:o.enforceMultipleVideos)=="object"&&(i=!!ih.mediaOption.enforceMultipleVideos.disableRenderLimits);const{assetsPath:c,enforceMultipleVideos:d,enforceVirtualBackground:p,alternativeNameForVideoPlayer:v}=ih.mediaOption,S={...mPe(!!d,p)};this.previewMediaAgent.init(c,S,i),this.previewMediaAgent.registerCallback(this.eventHandler),kNe({mediaSDK:()=>this.previewMediaAgent.instance,tagName:v,failover:"1"})}return Promise.resolve("")}return Promise.reject({type:dn,reason:"Cannot preview video with virtual background before `client.init` method."})}async startPreview(n,o){if(Ns.getInstance().inProgress){var i;m_e(Ns.getInstance(),n,o,(i=ih.mediaOption)===null||i===void 0?void 0:i.enforceVirtualBackground)}else{if(!await(o.imageUrl?vc(ih.isVBModelReady!==void 0?eo([ih.isVBModelReady]):xa(Tpe,1).pipe(xo((p=>p)))):Promise.resolve(!0)))return Promise.reject({type:dn,reason:"Cannot start video with virtual background"});var c;await vc(ih.isVideoEncoded?eo([!0]):xa(d_e,1))&&(await m_e($0.getInstance(),n,o,(c=ih.mediaOption)===null||c===void 0?void 0:c.enforceVirtualBackground),await vc(Np(xa(p_e,1).pipe(xo((()=>!0))),Id(...[h_e,f_e].map((p=>xa(p,1).pipe(rn((v=>($0.getInstance().stopVirtualBackgroundSetting(),EO({type:p.replace("PREVIEW_",""),reason:v})))))))))),this.state={element:n,vb:o})}}async stopPreview(){Ns.getInstance().inProgress?Ns.getInstance().stopVirtualBackgroundSetting():$0.getInstance().stopVirtualBackgroundSetting()}async updatePreview(n,o){const i=Ns.getInstance().inProgress?Ns.getInstance():$0.getInstance();if(n){const c=await wz(n,o);c&&(i.updateVirtualBackgroundImage(c),c!==P3&&setTimeout((()=>{R6(c)}),0))}else i.updateVirtualBackgroundImage(null)}}ih.mediaOption=void 0,ih.isVideoEncoded=void 0,ih.isVBModelReady=void 0;const g9e={width:{min:1024,ideal:1280,max:1920},height:{min:576,ideal:720,max:1080},aspectRatio:{ideal:1.777777778}};class v9e{constructor(n=""){this.isVideoStarted=void 0,this.videoStream=void 0,this.deviceId=void 0,this.localPreview=void 0,this.vbPreviewInProgress=void 0,this.videoParams=void 0,this.isVideoStarted=!1,this.videoStream=null,this.vbPreviewInProgress=!1,this.deviceId=n,this.localPreview=new ih}async start(n,o){if(!n)throw new Error("VideoPlayer DOM element is falsy");if(this.isVideoStarted||this.videoStream)throw new Error("VideoAlreadyStartedError");this.videoParams={element:n,virtualBackground:o};const i=async c=>{if(!c||c.name!=="OverconstrainedError"&&c.name!=="ConstraintNotSatisfiedError")throw c;console.log(`Warning: detected ${c.name} -- trying to fall back to lower aspect ratio`);try{const d=await navigator.mediaDevices.getUserMedia(this.getVideoConstraints(!0));return this.tryPlayVideo(n,d)}catch(d){throw d}};if(G_(n)){if(o!==void 0)throw new Error("Cannot start video with virtual background");try{const c=await navigator.mediaDevices.getUserMedia(this.getVideoConstraints());return this.tryPlayVideo(n,c)}catch(c){return i(c)}}else d4(n)&&o!==void 0&&console.warn("The canvas element will be deprecated. Please use the Videoplayer element to preview the virtual background."),await this.localPreview.setup().then((()=>this.localPreview.startPreview(n,{...o,deviceId:this.deviceId}))).then((()=>{this.vbPreviewInProgress=!0,this.isVideoStarted=!0}))}async stop(){if(this.vbPreviewInProgress)await this.localPreview.stopPreview(),this.vbPreviewInProgress=!1,this.isVideoStarted=!1;else{if(!this.videoStream||!this.isVideoStarted)throw new Error("VideoNotStartedError");this.videoStream.getVideoTracks().forEach((n=>n.stop())),this.videoStream=null,this.isVideoStarted=!1}}async switchCamera(n){n!==this.deviceId&&(this.deviceId=n,(this.videoStream||this.isVideoStarted)&&(await this.stop(),this.videoParams&&await this.start(this.videoParams.element,this.videoParams.virtualBackground)))}async updateVirtualBackground(n,o){this.vbPreviewInProgress&&(await this.localPreview.updatePreview(n,o),this.videoParams.virtualBackground={imageUrl:n,cropped:o})}getVideoConstraints(n=!1){let o=g9e;return gz.includes(this.deviceId)?{audio:!1,video:{facingMode:this.deviceId}}:(n?o=this.deviceId===""||{deviceId:{exact:this.deviceId}}:this.deviceId!==""&&(o.deviceId={exact:this.deviceId}),{audio:!1,video:o})}async tryPlayVideo(n,o){if(!n)throw new Error("Video DOM element is falsy");try{this.videoStream=o,n.muted=!0,n.playsInline=!0,n.srcObject=this.videoStream,await n.play(),this.isVideoStarted=!0}catch(i){throw i}}}const b9e="SET_MEETING_INFO",y9e="SET_MEETING_JOIN_INFO",S9e="SET_WINDOWN_OPEN",C9e="SET_APPID_SIGNATURE",E9e="SET_ZTK",w9e="SET_ZSK",_9e="SET_TK_MTKGUID",A9e="SET_PING_RWC_TIMESTAMP",T9e="SET_IN_MEETING_INFO",x9e="SET_MEETING_ATTRIBUTE",O9e="RESET_MEETING",I9e="SET_IS_HOST",R9e="SET_IS_COHOST",k9e="SET_MEETING_IS_ON_HOLD",D9e="SET_IS_MEETING_RESET",M9e="SET_AUDIO_VIDEO_BEFORE_ON_HOLD",P9e="SET_CURRENT_USER_AUDIO_BEFORE_RESET",N9e="SET_IS_CURRENT_USER_MUTED_BEFORE_RESET",L9e="SET_IS_CURRENT_USER_START_VIDEO_BEFORE_RESET",B9e="SET_MEETING_STATUS",V9e="SET_MEETING_REGION",F9e="SET_JOIN_MEETING_TIME_STAMP",H9e="SET_ACTIVE_APP_INFO",$9e="SET_MEETING_IDLE_START_TIME",U9e="SET_SESSION_IDLE_TIMEOUT_MINUTES",z9e="ADD_DISCARDED_RWC_HOST",j9e="SET_SHARE_PRONOUN_TYPE",W9e="SET_IS_STAY_AWAKE_DURING_THE_SESSION",G9e="SET_MEETING_JOIN_SUCCESS_TIMESTAMP",q9e="RESET_FAILOVER_RECORD",Z9e="SET_FAILOVER_REASON",K9e="SET_IS_QUICKLY_LEAVE_MEETING_AFTER_REFRESH",Y9e="SET_MEETING_INFO_TIMESTAMP",X9e="SET_IS_ENABLE_ZMK_FROM_RWG",J9e="SET_IS_RLB_TP",Q9e="SET_IS_RLB_TP_READY",eGe=["bLock","bHoldUponEntry","viewOnly","listenOnlyPhone","bAllowRaiseHand","bAllowAttendeeRename","bBroadcast","bAllowPlayChimeForEnterOrExit","bIbDisableShare","bIbDisableChat","encryptKey","bNoHostTimeOut","bAllowShowCount","bHasAST","bHasRMC","gatewayKey","encryptKey"],g_e={bChime:"bAllowPlayChimeForEnterOrExit",bHasAST:"hasAst",bHasRMC:"hasRmc",topic:e=>({meetingTopic:Qy(e)}),gatewayKey:e=>{const[,n,o]=e.split(".");return n&&o?{gatewayUser:{userId:Number(n),sn:o}}:{}},encryptKey:e=>({gcmSessinKey:j0(e)})},NQ=Ql("GET_MEETING_INFO"),q3=Ql("GET_INSTANT_MEETING_INFO");Ql("LOGON_ZOOM_DOMAIN"),Ql("VERIFY_ZOOM_RECAPTCHA"),Ql("LOGON_THIRD_PARTY_DOMAIN");const Lye=Ql("PING_RWC_SERVER"),wg=Ql("MEETING_FAILOVER"),Uk=Ql("LEAVE_MEETING"),gve=Ql("LEAVE_WAITING_ROOM"),Z3=Ql("END_MEETING");Ql("REGISTER_WEBINAR");const v_e=Ql("TRIGGER_IDLE_CHECK"),DNe=Ql("END_OF_ZE_WORLD"),MNe=Ql("SET_IS_UITOOLKIT"),{setMeetingInfo:Mv,setMeetingJoinInfo:tGe,setWindownOpen:nGe,setAppidSignature:PNe,setZtk:oGe,setZsk:sGe,setTkMtkguid:rGe,setPingRwcTimestamp:NNe,setInMeetingInfo:AE,setMeetingAttribute:LQ,resetMeeting:vve,setIsHost:LNe,setIsCohost:BNe,setMeetingIsOnHold:ZL,setIsMeetingReset:VNe,setAudioVideoBeforeOnHold:FNe,setCurrentUserAudioBeforeReset:bve,setIsCurrentUserMutedBeforeReset:yve,setMeetingStatus:Bye,setMeetingRegion:HNe,setIsCurrentUserStartVideoBeforeReset:$Ne,setJoinMeetingTimeStamp:UNe,setActiveAppInfo:iGe,setMeetingIdleStartTime:H5,setSessionIdleTimeoutMinutes:zNe,addDiscardedRwcHost:aGe,setSharePronounType:jNe,setIsStayAwakeDuringTheSession:WNe,setMeetingJoinSuccessTimestamp:GNe,resetFailoverRecord:qNe,setFailoverReason:BQ,setIsQuicklyLeaveMeetingAfterRefresh:ZNe,setMeetingInfoTimestamp:KNe,setIsEnableZmkFromRwg:YNe,setIsRlbTp:KX,setIsRlbTpReady:XNe}=ch({[b9e]:e=>e,[y9e]:e=>e,[S9e]:e=>e,[C9e]:e=>e,[E9e]:e=>e,[w9e]:e=>e,[_9e]:e=>e,[A9e]:e=>e,[T9e]:e=>e,[x9e]:e=>{if(eGe.some((n=>e&&e[n]!==void 0))){let n=e;return Object.keys(g_e).some((o=>e[o]!==void 0))&&(n=Object.keys(e).reduce(((o,i)=>{const c=g_e[i];return typeof c=="function"?Object.assign(o,c(e[i])):typeof c=="string"&&(o[c]=e[i]),o}),{})),n}return{}},[I9e]:e=>e&&e.bHost,[R9e]:e=>e&&e.bCoHost,[O9e]:e=>e,[k9e]:e=>e,[D9e]:e=>e,[M9e]:e=>e,[P9e]:e=>e,[N9e]:e=>e,[B9e]:e=>e,[V9e]:e=>e,[L9e]:e=>e,[F9e]:e=>e,[H9e]:e=>e,[$9e]:e=>e,[U9e]:e=>e,[z9e]:e=>e,[j9e]:e=>e,[W9e]:e=>e,[G9e]:e=>e,[q9e]:e=>e,[Z9e]:e=>e,[K9e]:e=>e,[Y9e]:e=>e,[X9e]:e=>e,[J9e]:e=>e,[Q9e]:e=>e});class Sve{static destroyClient(){if(this.meetingClient){const n=this.meetingClient[Bc],o=this.meetingClient.leave().then((()=>vc(_u(500)).then((()=>{n==null||n(DNe()),_ye()}))));return this.meetingClient=null,o}return Promise.resolve(void 0)}static checkFeatureRequirements(){return(function(){const n=[],o=[],{isAndroidOrIOSBrowser:i,browser:c,browserVersion:d,os:p,osVersion:v,isChrome:S,isFirefox:T,isSafari:x}=Yo;!i&&(S||T||x)&&HY()?n.push("Virtual Background"):o.push("Virtual Background"),(i||S)&&HY()?n.push("Share Chrome Tab Audio"):o.push("Share Chrome Tab Audio"),!i&&HY()?(n.push("Screen Share (send)"),n.push("720p Video (receive)"),n.push("Share 2nd Camera")):(o.push("Screen Share (send)"),o.push("720p Video (receive)"),o.push("Share 2nd Camera")),HY()?(n.push("Audio"),n.push("Video"),n.push("Screen Share (receive)"),n.push("Chat"),n.push("Closed Captioning"),n.push("Live Transcription"),n.push("Live Translation"),n.push("Cloud Recording"),n.push("Call Out (PSTN)"),n.push("Command Channel"),n.push("RTMP Live Streaming"),n.push("Encryption"),n.push("720p Video (send)"),n.push("Render Multiple Videos")):(o.push("Audio"),o.push("Video"),o.push("Screen Share (receive)"),o.push("Chat"),o.push("Closed Captioning"),o.push("Live Transcription"),o.push("Live Translation"),o.push("Cloud Recording"),o.push("Call Out (PSTN)"),o.push("Command Channel"),o.push("RTMP Live Streaming"),o.push("Encryption"),n.push("720p Video (send)"),n.push("Render Multiple Videos"));const P=i?`${p}${v}`:`${c}${d}`;return o.length>0&&console.log("Some features are not supported on your platform, please refer to https://developers.zoom.us/docs/video-sdk/web/browser-support/"),{platform:P,supportFeatures:n,unSupportFeatures:o}})()}static checkSystemRequirements(){return Qke()}static getDevices(n){return n?navigator.mediaDevices.enumerateDevices():navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then((o=>(o.getTracks().forEach((i=>i.stop())),navigator.mediaDevices.enumerateDevices()))).catch((o=>(console.warn(o),navigator.mediaDevices.enumerateDevices())))}static createLocalAudioTrack(n=""){return new P8e(n)}static createLocalVideoTrack(n=""){return new v9e(n)}static preloadDependentAssets(n){(async o=>{const i=o||q2,c=`${i}/${Z2}`,d=[],p=[],v=`${i}/`;if(GY()){const{workers:P,wasms:B}=Sx("audio","simd",v);d.push(...P),p.push(...B)}else{const{workers:P,wasms:B}=Sx("audio","",v);d.push(...P),p.push(...B)}if(GY()&&(function(){const{browser:P,browserVersion:B,isAndroidBrowser:U,isSupportSharedArrayBuffer:j}=Yo;return!U&&P.toLowerCase()==="chrome"&&gQ(B,"100")>0&&j})()){const{workers:P,wasms:B}=Sx(["video","sharing"],"videoShare",v);d.push(...P),p.push(...B)}else if(GY()&&swe()){const{workers:P,wasms:B}=Sx(["video","sharing"],"simd,thread",v);d.push(...P),p.push(...B)}else if(swe()){const{workers:P,wasms:B}=Sx(["video","sharing"],"thread",v);d.push(...P),p.push(...B)}else if(GY()){const{workers:P,wasms:B}=Sx(["video","sharing"],"simd",v);d.push(...P),p.push(...B)}else{const{workers:P,wasms:B}=Sx(["video","sharing"],"",v);d.push(...P),p.push(...B)}const{workers:S,wasms:T}=Sx("common","thread",v);d.push(...S),p.push(...T);const x=[gpe(c,"script")];d.forEach((P=>{x.push(gpe(P,"fetch"))})),p.forEach((P=>{x.push(gpe(P,"fetch"))}));try{document.head.append(...x)}catch{}})(n)}}function zn(e,n,o,i,c){var d={};return Object.keys(i).forEach((function(p){d[p]=i[p]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=o.slice().reverse().reduce((function(p,v){return v(e,n,p)||p}),d),c&&d.initializer!==void 0&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),d.initializer===void 0?(Object.defineProperty(e,n,d),null):d}function Gn(e,n,o){const i=o.value;o.value=function(...c){const d=this[gc];if(d){const{meeting:{isOnHold:p,isMeetingReset:v,meetingStatus:S}}=d.getState();if(S!==Lh.Joined)return Promise.reject({type:RX,reason:"closed",errorCode:lt.CLIENT_SESSION_STATE_CLOSED});if(v)return Promise.reject({type:RX,reason:"reconnecting",errorCode:lt.CLIENT_SESSION_STATE_RECONNECTING});if(p)return Promise.reject({type:RX,reason:"on hold",errorCode:lt.CLIENT_SESSION_STATE_ON_HOLD})}return i.apply(this,c)}}function yu(e,n,o){const i=o.value;o.value=function(...c){const d=this[gc];if(d){const p=d.getState();if(!Iv(p))return Promise.reject({type:Pp,reason:"only host or co-host can do the operation",errorCode:lt.CLIENT_HOST_OR_MANAGER_PERMISSION_REQUIRED})}return i.apply(this,c)}}function xd(e,n,o){const i=o.value;o.value=function(...c){const d=this[gc];if(d){const p=d.getState();if(!nPe(p))return Promise.reject({type:Pp,reason:"only host can do the operation",errorCode:lt.CLIENT_HOST_PERMISSION_REQUIRED})}return i.apply(this,c)}}function Fo(e){return function(n,o,i){const c=i.value;i.value=function(...d){const p=this[gc];return p&&p.getState()[e]===void 0?Promise.reject({type:dn,reason:`Module:${e} is not enabled`}):c.apply(this,d)}}}Sve.meetingClient=void 0,Sve.VERSION=jee;var lGe=(function(e){function n(o,i){var c=e.call(this,(function(d){var p=c.__notifier.subscribe(d);return p&&!p.closed&&d.next(c.value),p}))||this;return c.__notifier=new qy,c.value=i,o.subscribe((function(d){d!==c.value&&(c.value=d,c.__notifier.next(d))})),c}return Vb(n,e),n})(Cu),b_e=function(e,n){return e===n||typeof n=="function"&&e===n.toString()};function Uo(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=e.length;return En(o===1?function(i){return b_e(i.type,e[0])}:function(i){for(var c=0;c<o;c++)if(b_e(i.type,e[c]))return!0;return!1})}const Cve=Ql("CONNECT_ZOOM_SOCKET"),XY=Ql("CONNECT_XMPP_SOCKET"),q0=Ql("CLOSE_ZOOM_SOCKET"),Eve=Ql("CLOSE_XMPP_SOCKET"),Xk=Ql("RECEIVE_MESSAGE_FROM_ZOOM_SOCKET"),cGe=Ql("RECEIVE_SHARING_PAYLOAD_FROM_ZOOM_SOCKET"),JNe=Ql("RECEIVE_MESSAGE_FROM_XMPP_SOCKET"),wve=Ql("CONNECT_MAIN_SESSION_SOCKET"),QNe=Ql("CLOSE_MAIN_SESSION_SOCKET"),Z_=Ql("RECEIVE_MESSAGE_FROM_MAIN_SESSION_SOCKET"),{setZoomSocketStatus:d6,setRwgServersList:eLe,setRwgRetryCount:Vye,setXmppSocketStatus:YX,setMainSessionSocketStatus:XX,setXmppSocketRetryCount:VQ,resetSocket:tLe}=ch("SET_ZOOM_SOCKET_STATUS","SET_RWG_SERVERS_LIST","SET_RWG_RETRY_COUNT","SET_XMPP_SOCKET_STATUS","SET_MAIN_SESSION_SOCKET_STATUS","SET_XMPP_SOCKET_RETRY_COUNT","RESET_SOCKET"),_ve=Ql("CONNECT_TO_MEDIA_STREAM"),nLe=Ql("RECEIVE_PAYLOAD_FROM_MEDIA_SDK"),{setAudioEncodeStatus:Ave,setAudioDecodeStatus:Tve,setVideoEncodeStatus:xve,setVideoDecodeStatus:Ove,setSharingEncodeStatus:Ive,setSharingDecodeStatus:JX,setMediaConstraints:Fye,setMediaEncryptKey:oLe,setIsEnableDecoderInWorklet:sLe,setPatchedMediaSdkStatus:QX,setMediaAssetsPath:rLe,setIsMediaAgentInitialized:Rve,resetMedia:iLe}=ch("SET_AUDIO_ENCODE_STATUS","SET_AUDIO_DECODE_STATUS","SET_VIDEO_ENCODE_STATUS","SET_VIDEO_DECODE_STATUS","SET_SHARING_ENCODE_STATUS","SET_SHARING_DECODE_STATUS","SET_MEDIA_CONSTRAINTS","SET_MEDIA_ENCRYPT_KEY","SET_IS_ENABLE_DECODER_IN_WORKLET","SET_PATCHED_MEDIA_SDK_STATUS","SET_MEDIA_ASSETS_PATH","SET_IS_MEDIA_AGENT_INITIALIZED","RESET_MEDIA");function uGe(e,n,...o){return e(Ua(...o||[]),n,null)}function aLe(...e){const n=(...o)=>Id(...e.map((i=>{const c=i(...o);if(!c)throw new TypeError(`combineEpics: one of the provided Epics "${i.name||"<anonymous>"}" does not return a stream. Double check you're not missing a return statement!`);return c.pipe(xm(((d,p)=>(setTimeout((()=>{throw d}),0),p))))})));try{Object.defineProperty(n,"name",{value:`combineEpics(${e.map((o=>o.name||"<anonymous>")).join(", ")})`})}catch{}return n}function xg(...e){return aLe(...e.flatMap((n=>Object.values(n))))}function Bo(e,n){return e.pipe(Uo(`${Xk}`),En((o=>o.payload.evt===n)))}function Yx(e,n){return e.pipe(Uo(`${Z_}`),En((o=>o.payload.evt===n)))}function g3(e,n){return e.pipe(Uo(`${JNe}`),En((o=>o.payload.evt===n)))}function TS(e,n){return e.pipe(Uo(`${Xk}`,`${Z_}`),En((o=>o.payload.evt===n)))}function lr(e,n){return e.pipe(Uo(`${nLe}`),En((o=>Array.isArray(n)?n.indexOf(o.payload.type)>-1:o.payload.type===n)))}const kve=20225,Hye=20234,jl=7937,W0=7938,Dve=12039,y_e=16138,ote=4098,_L=4305,JY=4343,Mve=16428,dGe="SET_ATTENDEES_LIST",hGe="SET_ASSISTANT_LIST",fGe="RESET_PARTICIPANTS",pGe="SET_IS_ADMIT_ALL_SILENT_USERS",mGe="SET_CLEAR_RAISE_HAND",gGe="SET_CLEAR_ATTENDEE_FEEDBACK",vGe="ADD_FAILOVER_ATTENDEES",bGe="REMOVE_FAILOVER_ATTENDEES",yGe="UPDATE_ATTENDEE_DISPLAY_NAME",SGe="REMOVE_XMPP_ATTENDEE_USER",CGe="UPDATE_XMPP_ATTENDEE_LIST",EGe="SET_ATTENDEE_EXTRA_KEY",{setAttendeesList:K3,setAssistantList:PXe,setIsAdmitAllSilentUsers:lLe,resetParticipants:cLe,addFailoverAttendees:Pve,removeFailoverAttendees:uLe,setClearRaiseHand:dLe,setClearAttendeeFeedback:hLe,updateAttendeeDisplayName:fLe,removeXmppAttendeeUser:pLe,updateXmppAttendeeList:mLe,setAttendeeExtraKey:U6}=ch({[dGe]:e=>e,[hGe]:e=>e,[CGe]:e=>e,[fGe]:()=>({}),[pGe]:e=>e,[bGe]:e=>e,[vGe]:e=>e,[mGe]:()=>({}),[gGe]:()=>({}),[yGe]:e=>e,[SGe]:e=>e,[EGe]:e=>e}),wGe={id:"userId",type:e=>Fk(e)?{userType:e,avatarBackgroundType:Math.floor(8*Math.random())+1}:{userType:e},role:e=>({userRole:e,isHost:B6(e)}),dn2:e=>({displayName:Qy(e)}),bShareOn:"sharerOn",bSharePause:"sharerPause",bLocalRecordStatus:e=>({bLocalRecord:e}),bGuest:"isGuest",bCapsRequestLT:"isRequestLT",customerKey:"userIdentity"},K_=e=>{const n={};return["add","remove","update"].forEach((o=>{const i=o,c=e[i];c!=null&&(n[i]=c.reduce(((d,p)=>{const v=Object.keys(p).reduce(((T,x)=>{const P=wGe[x];return typeof P=="function"?Object.assign(T,P(p[x])):typeof P=="string"?Object.assign(T,{[`${P}`]:p[x]}):Object.assign(T,{[`${x}`]:p[x]}),T}),{}),S=d.find((T=>T.userId===v.userId));return S!==void 0?Object.assign(S,v):d.push(v),d}),[]))})),n},_Ge={name:"displayName",node:e=>({userId:Number(e)}),role:e=>({userRole:Number(e)})},xpe=e=>Object.keys(e).reduce(((n,o)=>{const i=_Ge[o];return typeof i=="function"?Object.assign(n,i(e[o])):typeof i=="string"?Object.assign(n,{[`${i}`]:e[o]}):Object.assign(n,{[`${o}`]:e[o]}),n}),{});let pE=(function(e){return e.Add="add",e.List="list",e.Remove="memberremove",e.rename="rename",e.update="UPDATE",e})({});function jy(e){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];throw Error("[Immer] minified error nr: "+e+(o.length?" "+o.map((function(c){return"'"+c+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Tk(e){return!!e&&!!e[Bb]}function xk(e){var n;return!!e&&((function(o){if(!o||typeof o!="object")return!1;var i=Object.getPrototypeOf(o);if(i===null)return!0;var c=Object.hasOwnProperty.call(i,"constructor")&&i.constructor;return c===Object||typeof c=="function"&&Function.toString.call(c)===IGe})(e)||Array.isArray(e)||!!e[x_e]||!!(!((n=e.constructor)===null||n===void 0)&&n[x_e])||$ye(e)||Uye(e))}function FQ(e){return Tk(e)||jy(23,e),e[Bb].t}function z6(e,n,o){o===void 0&&(o=!1),Y3(e)===0?(o?Object.keys:qye)(e).forEach((function(i){o&&typeof i=="symbol"||n(i,e[i],e)})):e.forEach((function(i,c){return n(c,i,e)}))}function Y3(e){var n=e[Bb];return n?n.i>3?n.i-4:n.i:Array.isArray(e)?1:$ye(e)?2:Uye(e)?3:0}function Nve(e,n){return Y3(e)===2?e.has(n):Object.prototype.hasOwnProperty.call(e,n)}function gLe(e,n,o){var i=Y3(e);i===2?e.set(n,o):i===3?e.add(o):e[n]=o}function $ye(e){return xGe&&e instanceof Map}function Uye(e){return OGe&&e instanceof Set}function $2(e){return e.o||e.t}function zye(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var n=RGe(e);delete n[Bb];for(var o=qye(n),i=0;i<o.length;i++){var c=o[i],d=n[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(n[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[c]})}return Object.create(Object.getPrototypeOf(e),n)}function jye(e,n){return n===void 0&&(n=!1),Wye(e)||Tk(e)||!xk(e)||(Y3(e)>1&&(e.set=e.add=e.clear=e.delete=AGe),Object.freeze(e),n&&z6(e,(function(o,i){return jye(i,!0)}),!0)),e}function AGe(){jy(2)}function Wye(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function CE(e){var n=kGe[e];return n||jy(18,e),n}function S_e(){return j6}function Ope(e,n){n&&(CE("Patches"),e.u=[],e.s=[],e.v=n)}function HQ(e){Lve(e),e.p.forEach(TGe),e.p=null}function Lve(e){e===j6&&(j6=e.l)}function C_e(e){return j6={p:[],l:j6,h:e,m:!0,_:0}}function TGe(e){var n=e[Bb];n.i===0||n.i===1?n.j():n.g=!0}function Ipe(e,n){n._=n.p.length;var o=n.p[0],i=e!==void 0&&e!==o;return n.h.O||CE("ES5").S(n,e,i),i?(o[Bb].P&&(HQ(n),jy(4)),xk(e)&&(e=$Q(n,e),n.l||UQ(n,e)),n.u&&CE("Patches").M(o[Bb].t,e,n.u,n.s)):e=$Q(n,o,[]),HQ(n),n.u&&n.v(n.u,n.s),e!==vLe?e:void 0}function $Q(e,n,o){if(Wye(n))return n;var i=n[Bb];if(!i)return z6(n,(function(v,S){return E_e(e,i,n,v,S,o)}),!0),n;if(i.A!==e)return n;if(!i.P)return UQ(e,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var c=i.i===4||i.i===5?i.o=zye(i.k):i.o,d=c,p=!1;i.i===3&&(d=new Set(c),c.clear(),p=!0),z6(d,(function(v,S){return E_e(e,i,c,v,S,o,p)})),UQ(e,c,!1),o&&e.u&&CE("Patches").N(i,o,e.u,e.s)}return i.o}function E_e(e,n,o,i,c,d,p){if(Tk(c)){var v=$Q(e,c,d&&n&&n.i!==3&&!Nve(n.R,i)?d.concat(i):void 0);if(gLe(o,i,v),!Tk(v))return;e.m=!1}else p&&o.add(c);if(xk(c)&&!Wye(c)){if(!e.h.D&&e._<1)return;$Q(e,c),n&&n.A.l||UQ(e,c)}}function UQ(e,n,o){o===void 0&&(o=!1),!e.l&&e.h.D&&e.m&&jye(n,o)}function Rpe(e,n){var o=e[Bb];return(o?$2(o):e)[n]}function w_e(e,n){if(n in e)for(var o=Object.getPrototypeOf(e);o;){var i=Object.getOwnPropertyDescriptor(o,n);if(i)return i;o=Object.getPrototypeOf(o)}}function Bve(e){e.P||(e.P=!0,e.l&&Bve(e.l))}function kpe(e){e.o||(e.o=zye(e.t))}function Vve(e,n,o){var i=$ye(n)?CE("MapSet").F(n,o):Uye(n)?CE("MapSet").T(n,o):e.O?(function(c,d){var p=Array.isArray(c),v={i:p?1:0,A:d?d.A:S_e(),P:!1,I:!1,R:{},l:d,t:c,k:null,o:null,j:null,C:!1},S=v,T=Fve;p&&(S=[v],T=$5);var x=Proxy.revocable(S,T),P=x.revoke,B=x.proxy;return v.k=B,v.j=P,B})(n,o):CE("ES5").J(n,o);return(o?o.A:S_e()).p.push(i),i}function __e(e,n){switch(n){case 2:return new Map(e);case 3:return Array.from(e)}return zye(e)}var A_e,j6,Gye=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",xGe=typeof Map<"u",OGe=typeof Set<"u",T_e=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",vLe=Gye?Symbol.for("immer-nothing"):((A_e={})["immer-nothing"]=!0,A_e),x_e=Gye?Symbol.for("immer-draftable"):"__$immer_draftable",Bb=Gye?Symbol.for("immer-state"):"__$immer_state",IGe=""+Object.prototype.constructor,qye=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,RGe=Object.getOwnPropertyDescriptors||function(e){var n={};return qye(e).forEach((function(o){n[o]=Object.getOwnPropertyDescriptor(e,o)})),n},kGe={},Fve={get:function(e,n){if(n===Bb)return e;var o=$2(e);if(!Nve(o,n))return(function(c,d,p){var v,S=w_e(d,p);return S?"value"in S?S.value:(v=S.get)===null||v===void 0?void 0:v.call(c.k):void 0})(e,o,n);var i=o[n];return e.I||!xk(i)?i:i===Rpe(e.t,n)?(kpe(e),e.o[n]=Vve(e.A.h,i,e)):i},has:function(e,n){return n in $2(e)},ownKeys:function(e){return Reflect.ownKeys($2(e))},set:function(e,n,o){var i=w_e($2(e),n);if(i!=null&&i.set)return i.set.call(e.k,o),!0;if(!e.P){var c=Rpe($2(e),n),d=c==null?void 0:c[Bb];if(d&&d.t===o)return e.o[n]=o,e.R[n]=!1,!0;if((function(p,v){return p===v?p!==0||1/p==1/v:p!=p&&v!=v})(o,c)&&(o!==void 0||Nve(e.t,n)))return!0;kpe(e),Bve(e)}return e.o[n]===o&&(o!==void 0||n in e.o)||Number.isNaN(o)&&Number.isNaN(e.o[n])||(e.o[n]=o,e.R[n]=!0),!0},deleteProperty:function(e,n){return Rpe(e.t,n)!==void 0||n in e.t?(e.R[n]=!1,kpe(e),Bve(e)):delete e.R[n],e.o&&delete e.o[n],!0},getOwnPropertyDescriptor:function(e,n){var o=$2(e),i=Reflect.getOwnPropertyDescriptor(o,n);return i&&{writable:!0,configurable:e.i!==1||n!=="length",enumerable:i.enumerable,value:o[n]}},defineProperty:function(){jy(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){jy(12)}},$5={};z6(Fve,(function(e,n){$5[e]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}})),$5.deleteProperty=function(e,n){return $5.set.call(this,e,n,void 0)},$5.set=function(e,n,o){return Fve.set.call(this,e[0],n,o,e[0])};var DGe=(function(){function e(o){var i=this;this.O=T_e,this.D=!0,this.produce=function(c,d,p){if(typeof c=="function"&&typeof d!="function"){var v=d;d=c;var S=i;return function(W){var Z=this;W===void 0&&(W=v);for(var re=arguments.length,le=Array(re>1?re-1:0),ie=1;ie<re;ie++)le[ie-1]=arguments[ie];return S.produce(W,(function(be){var Ce;return(Ce=d).call.apply(Ce,[Z,be].concat(le))}))}}var T;if(typeof d!="function"&&jy(6),p!==void 0&&typeof p!="function"&&jy(7),xk(c)){var x=C_e(i),P=Vve(i,c,void 0),B=!0;try{T=d(P),B=!1}finally{B?HQ(x):Lve(x)}return typeof Promise<"u"&&T instanceof Promise?T.then((function(W){return Ope(x,p),Ipe(W,x)}),(function(W){throw HQ(x),W})):(Ope(x,p),Ipe(T,x))}if(!c||typeof c!="object"){if((T=d(c))===void 0&&(T=c),T===vLe&&(T=void 0),i.D&&jye(T,!0),p){var U=[],j=[];CE("Patches").M(c,T,U,j),p(U,j)}return T}jy(21,c)},this.produceWithPatches=function(c,d){if(typeof c=="function")return function(T){for(var x=arguments.length,P=Array(x>1?x-1:0),B=1;B<x;B++)P[B-1]=arguments[B];return i.produceWithPatches(T,(function(U){return c.apply(void 0,[U].concat(P))}))};var p,v,S=i.produce(c,d,(function(T,x){p=T,v=x}));return typeof Promise<"u"&&S instanceof Promise?S.then((function(T){return[T,p,v]})):[S,p,v]},typeof(o==null?void 0:o.useProxies)=="boolean"&&this.setUseProxies(o.useProxies),typeof(o==null?void 0:o.autoFreeze)=="boolean"&&this.setAutoFreeze(o.autoFreeze)}var n=e.prototype;return n.createDraft=function(o){xk(o)||jy(8),Tk(o)&&(o=(function(d){return Tk(d)||jy(22,d),(function p(v){if(!xk(v))return v;var S,T=v[Bb],x=Y3(v);if(T){if(!T.P&&(T.i<4||!CE("ES5").K(T)))return T.t;T.I=!0,S=__e(v,x),T.I=!1}else S=__e(v,x);return z6(S,(function(P,B){T&&(function(U,j){return Y3(U)===2?U.get(j):U[j]})(T.t,P)===B||gLe(S,P,p(B))})),x===3?new Set(S):S})(d)})(o));var i=C_e(this),c=Vve(this,o,void 0);return c[Bb].C=!0,Lve(i),c},n.finishDraft=function(o,i){var c=(o&&o[Bb]).A;return Ope(c,i),Ipe(void 0,c)},n.setAutoFreeze=function(o){this.D=o},n.setUseProxies=function(o){o&&!T_e&&jy(20),this.O=o},n.applyPatches=function(o,i){var c;for(c=i.length-1;c>=0;c--){var d=i[c];if(d.path.length===0&&d.op==="replace"){o=d.value;break}}c>-1&&(i=i.slice(c+1));var p=CE("Patches").$;return Tk(o)?p(o,i):this.produce(o,(function(v){return p(v,i)}))},e})(),F0=new DGe,ht=F0.produce;F0.produceWithPatches.bind(F0),F0.setAutoFreeze.bind(F0),F0.setUseProxies.bind(F0),F0.applyPatches.bind(F0),F0.createDraft.bind(F0),F0.finishDraft.bind(F0);const O_e={attendeesList:[],assistantList:[],xmppAttendeeList:[],allowTalkAttendeesList:[],failoverAttendeesList:[],isAdmitAllSilentUsers:!1},MGe=Im({[`${K3}`]:ht(((e,{payload:n})=>{n.add!==void 0&&n.add.length>0&&n.add.forEach((o=>{if(o.userType===zge.Assitant){const i=e.assistantList.find((c=>c.userId===o.userId));i!==void 0?Object.assign(i,o):e.assistantList.push(o)}else if(mQ(o.userRole)){const i=e.allowTalkAttendeesList.find((c=>c.userId===o.userId));i!==void 0?Object.assign(i,o):e.allowTalkAttendeesList.push(o)}else{const i=e.attendeesList.find((c=>c.userId===o.userId));i!==void 0?Object.assign(i,o):e.attendeesList.push(o)}})),n.update!==void 0&&n.update.length>0&&n.update.forEach((o=>{const i=e.attendeesList.find((c=>c.userId===o.userId));if(i!==void 0)Object.assign(i,o);else{const c=e.allowTalkAttendeesList.find((d=>d.userId===o.userId));if(c!==void 0)Object.assign(c,o);else{const d=e.assistantList.find((p=>p.userId===o.userId));d!==void 0&&Object.assign(d,o)}}})),n.remove!==void 0&&n.remove.length>0&&n.remove.forEach((o=>{const i=e.attendeesList.findIndex((c=>c.userId===o.userId));if(i!==-1)e.attendeesList.splice(i,1);else{const c=e.allowTalkAttendeesList.findIndex((d=>d.userId===o.userId));if(c!==-1)e.allowTalkAttendeesList.splice(c,1);else{const d=e.assistantList.findIndex((p=>p.userId===o.userId));d!==-1&&e.assistantList.splice(d,1)}}}))})),[`${mLe}`]:ht(((e,{payload:n})=>{const{xmppAttendeeList:o}=e,i=o.map((c=>c.jid));n.forEach((c=>{const{jid:d}=c,p=i.indexOf(d);p!==-1?Object.assign(o[p],c):o.push(c)}))})),[`${lLe}`]:ht(((e,{payload:n})=>{e.isAdmitAllSilentUsers=n})),[`${dLe}`]:ht((e=>{e.attendeesList.forEach((n=>{n.bRaiseHand&&(n.bRaiseHand=!1)}))})),[`${hLe}`]:ht((e=>{e.attendeesList.forEach((n=>{n.feedback>0&&(n.feedback=0)}))})),[`${Pve}`]:ht(((e,{payload:n})=>{e.failoverAttendeesList.push(n)})),[`${uLe}`]:ht(((e,{payload:n})=>{n.forEach((o=>{const i=e.failoverAttendeesList.findIndex((c=>c.zoomID===o.zoomID));i!==-1&&e.failoverAttendeesList.splice(i,1)}))})),[`${fLe}`]:ht(((e,{payload:n})=>{const{jid:o,name:i}=n,c=e.xmppAttendeeList.find((d=>d.jid===o));c&&(c.displayName=i)})),[`${pLe}`]:ht(((e,{payload:n})=>{const{jid:o}=n,i=e.xmppAttendeeList.findIndex((c=>c.jid===o));o!==-1&&e.xmppAttendeeList.splice(i,1)})),[`${U6}`]:ht(((e,{payload:n})=>{const{userId:o,key:i,value:c}=n,d=e.attendeesList.find((p=>p.userId===o));d&&(d[`${i}`]=c)})),[`${cLe}`]:()=>O_e},O_e),PGe={epics0:(e,n)=>Bo(e,jl).pipe(xo((o=>K_(o.payload.body))),ts(n),rn((([o,i])=>{let c=[K3(o)];const{meeting:{userId:d,isWebinar:p,isOnHold:v},participants:{attendeesList:S,failoverAttendeesList:T,allowTalkAttendeesList:x}}=i,P=x.map((U=>U.userId));if(o.add){const U=o.add.filter((W=>W.userId===d));U.length>0&&U.forEach((W=>{W.bHold!==void 0&&c.push(ZL(W.bHold)),S.some((Z=>Z.userId===W.userId))?it(Rp,W):it(Sz,W)}));const j=o.add.filter((W=>W.userId!==d));if(j.length>0){const W=j.filter((re=>!mQ(re.userRole))).map((re=>{const le={...re};if(Fk(re.userType)){var ie;const Ce=(ie=i.audio)===null||ie===void 0?void 0:ie.dialout.find((Ae=>Ae.phoneNodeId===re.userId));Ce&&Object.assign(le,{phoneNumber:Ce.phoneNumber})}const be=T.find((Ce=>Ce.zoomID===re.zoomID));return be&&Object.assign(le,{source:be.isOnHold?"on hold":"failover"}),le})),Z=W.filter((re=>!!re.source)).map((re=>({zoomID:re.zoomID})));if(c.push(uLe(Z)),it(qee,W),p){const re=j.filter((le=>mQ(le.userRole)));re.length>0&&it(zx,re.map((le=>({userId:le.userId,isAllowToTalk:!0}))))}}}if(o.update){const U=o.update.filter((W=>W.userId===d));U.length>0&&U.forEach((W=>{it(Rp,W),W.bHold!==void 0&&c.push(ZL(W.bHold))}));const j=o.update.filter((W=>!(W.userId===d||P.includes(W.userId))));if(j.length>0&&it(kS,j),p){const W=o.update.filter((Z=>Z.userId!==d&&P.includes(Z.userId)));W.length>0&&it(zx,W)}}if(o.remove){const U=o.remove.map((j=>{const W=S.find((Z=>Z.userId===j.userId));return W?j.action===2&&j.nUserStatus===1?W.bHold?(c.push(Pve({zoomID:W.zoomID,isOnHold:!0})),{...j,...W,reason:"on hold"}):(c.push(Pve({zoomID:W.zoomID,isOnHold:!1})),{...j,...W,reason:"failover"}):{...j,...W}:null})).filter((j=>!!j));if(it(cye,U),p){const j=o.remove.filter((W=>P.includes(W.userId)));j.length>0&&it(zx,j.map((W=>({userId:W.userId,isAllowToTalk:!1}))))}}const B=c.filter((U=>U.type===`${ZL}`));if(B.length>0){const U=B[B.length-1];c=c.filter((j=>j.type!==`${ZL}`)),U.payload!==v&&(c.push(U),it(uye,!v))}return eo(c)}))),epics1:(e,n)=>g3(e,24595).pipe(rn((o=>{const{payload:{body:{action:i,data:c}}}=o,{meeting:{jid:d},participants:{xmppAttendeeList:p}}=n.value,v=[];if(i===pE.rename){c.forEach((T=>{v.push(fLe(T))}));const S=c.map((T=>xpe(T)));it(zx,S)}if(i===pE.Remove){c.forEach((T=>{v.push(pLe(T))}));const S=c.map((T=>({...xpe(T),removed:!0})));it(ADe,S)}if([pE.Add,pE.List,pE.update].includes(i)){const S=c.map((T=>{const x=xpe(T);return Object.keys(x).reduce(((P,B)=>(x[B]!==""&&Object.assign(P,{[B]:x[B]}),P)),{})}));if(it(zx,S),v.push(mLe(S)),i===pE.update){const T=c.find((x=>x.jid===d));if(T&&T.bRaiseHand!==void 0){const x=p.find((P=>P.jid===d));(x==null?void 0:x.bRaiseHand)!==T.bRaiseHand&&it("MEETING_WEBINAR_ATTENDEE_RAISE_HAND",{bRaiseHand:T.bRaiseHand})}}}return eo(v)}))),epics2:e=>Bo(e,7951).pipe($o((n=>{n.payload.body.bStarted===!1&&it("ADMIT_ALL_SILENT_USERS_END",n.payload.body.bStarted)})),xo((n=>lLe(n.payload.body.bStarted)))),epics3:e=>Bo(e,7946).pipe(En((n=>{var o;return["bRaiseHand","feedback"].includes((o=n.payload.body)===null||o===void 0?void 0:o.key)&&n.payload.body.value===0})),xo((n=>(it(kS,{}),n.payload.body.key==="bRaiseHand"?dLe():hLe()))))},NGe=xg(PGe);function I_e(e){return function(n,o,i){const c=i.value;i.value=function(...d){const p=this[gc];if(p){const{meeting:{meetingOptions:v}}=p.getState();if(v[e]===!0)return Promise.reject({type:"OPERATION_LOCKED",reason:`${e} is locked`})}return c.apply(this,d)}}}let Xx=(function(e){return e.Self="Self",e.Other="Other",e.Client="Client",e.Phone="Phone",e.Attendee="Attendee",e})({});function Dpe(e){return function(n,o,i){const c=i.value;i.value=function(d,...p){const v=this[gc];if(v){const T=v.getState(),x=Array.isArray(e)?e:[e];let P=Ba(T).find((B=>B.userId===d));if(x.findIndex((B=>B===Xx.Attendee))>-1&&(P=Cz(T).find((B=>B.userId===d))),!P)return Promise.reject({type:nr,reason:"no matching user"});{const{meeting:{userId:B}}=v.getState();for(let U=0;U<x.length;U++){const j=x[U];if(j===Xx.Other&&d===B)return Promise.reject({type:dn,reason:"operation is not applicable to self"});if(j===Xx.Self&&d!==B)return Promise.reject({type:dn,reason:"operation is only applicable to self "});if(j===Xx.Client&&Fk(P.userType)||j===Xx.Phone&&!Fk(P.userType))return Promise.reject({types:dn,reason:"improper target client"})}}}const S=[d,...p];return c.apply(this,S)}}}var Mpe,LGe=new Uint8Array(16);function BGe(){if(!Mpe&&!(Mpe=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Mpe(LGe)}for(var VGe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,_m=[],Ppe=0;Ppe<256;++Ppe)_m.push((Ppe+256).toString(16).substr(1));function zQ(e,n,o){var i=(e=e||{}).random||(e.rng||BGe)();return i[6]=15&i[6]|64,i[8]=63&i[8]|128,(function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,p=(_m[c[d+0]]+_m[c[d+1]]+_m[c[d+2]]+_m[c[d+3]]+"-"+_m[c[d+4]]+_m[c[d+5]]+"-"+_m[c[d+6]]+_m[c[d+7]]+"-"+_m[c[d+8]]+_m[c[d+9]]+"-"+_m[c[d+10]]+_m[c[d+11]]+_m[c[d+12]]+_m[c[d+13]]+_m[c[d+14]]+_m[c[d+15]]).toLowerCase();if(!(function(v){return typeof v=="string"&&VGe.test(v)})(p))throw TypeError("Stringified UUID is invalid");return p})(i)}let ya=(function(e){return e.LocalStorage="LocalStorage",e.SessionStorage="SessionStorage",e.Memory="Memory",e})({});const R_e=Su("{}");class ai{constructor(n){this.sessionStorageKey=void 0,this.localStorageKey=void 0,this.sessionCache=void 0,this.localCache=void 0,this.memoryCache=void 0,this.sessionStorageKey=Su(`zoom-storage-${n}`),this.localStorageKey=Su("zoom-local-storage"),this.memoryCache={};try{this.sessionCache=JSON.parse(Qy(sessionStorage.getItem(this.sessionStorageKey)||R_e)),this.localCache=JSON.parse(Qy(localStorage.getItem(this.localStorageKey)||R_e))}catch(o){console.error(o),this.sessionCache={},this.localCache={}}}static init(n){this.instance=new ai(n)}static get(n){if(this.instance===void 0)throw new Error("read before initial");return this.instance.getValue(n).value}static set(n,o,i){if(this.instance===void 0)throw new Error("set before initial");return this.instance.setValue(n,o,i)}static remove(n){if(this.instance===void 0)throw new Error("remove before initial");return this.instance.removeValue(n)}static clearSession(){if(this.instance!==void 0)return this.instance.memoryCache={},this.instance.sessionCache={},this.instance.localCache={},sessionStorage.removeItem(this.instance.sessionStorageKey);console.warn("clear before initial")}getValue(n){return this.sessionCache.hasOwnProperty(n)?{value:this.sessionCache[n],type:ya.SessionStorage}:this.localCache.hasOwnProperty(n)?{value:this.localCache[n],type:ya.LocalStorage}:{value:this.memoryCache[n],type:ya.Memory}}setValue(n,o,i){if(!n)throw new Error("key is null");switch(i){case ya.SessionStorage:{const c=this.sessionCache[n];let d=o;return typeof o=="function"&&(d=o(c)),c!==d&&(this.sessionCache[n]=d,this.flushValue(ya.SessionStorage)),d}case ya.LocalStorage:{const c=this.localCache[n];let d=o;return typeof o=="function"&&(d=o(c)),c!==d&&(this.localCache[n]=d,this.flushValue(ya.LocalStorage)),d}case ya.Memory:{const c=this.memoryCache[n];let d=o;return typeof o=="function"&&(d=o(c)),this.memoryCache[n]=d,d}default:return null}}removeValue(n){const{type:o}=this.getValue(n);switch(o){case ya.SessionStorage:delete this.sessionCache[n],this.flushValue(ya.SessionStorage);break;case ya.LocalStorage:delete this.localCache[n],this.flushValue(ya.LocalStorage);break;case ya.Memory:delete this.memoryCache[n]}}flushValue(n){n===ya.SessionStorage?sessionStorage.setItem(this.sessionStorageKey,Su(JSON.stringify(this.sessionCache))):n===ya.LocalStorage&&localStorage.setItem(this.localStorageKey,Su(JSON.stringify(this.localCache)))}}ai.instance=void 0;let ol=(function(e){return e.WebclientOpt="WEB_CLIENT_OPT",e.WebclientWebinarToken="WEB_CLIENT_WEBINAR_TOKEN",e.WebclientMeetingToken="WEB_CLIENT_MEETING_TOKEN",e.WebclientZtk="WEB_CLIENT_ZTK",e.WebclientZsk="WEB_CLIENT_ZSK",e.WebclientTk="WEB_CLIENT_TK",e.WebclientIVState="WEB_CLIENT_IV_STATE",e.WebclientIsOnHold="WEB_CLIENT_IS_ON_HOLD",e.WebclientParticipantId="WEB_CLIENT_PARTICIPANT_ID",e.WebclientZoomId="WEB_CLIENT_ZOOM_ID",e.WebclientUserName="WEB_CLIENT_USER_NAME",e.WebclientUserEmail="WEB_CLIENT_USER_EMAIL",e.WebclientBreakoutRoomAttendeeStatus="WEB_CLIENT_BO_ATTENDEE_STATUS",e.WebclientBreakoutRoomCommand="WEB_CLIENT_BO_COMMAND",e.WebclientAudioEncryptKey="WEB_CLIENT_AUDIO_ENCRYPT_KEY",e.WebclientVideoEncryptKey="WEB_CLIENT_VIDEO_ENCRYPT_KEY",e.WebclientSharingEncryptKey="WEB_CLIENT_SHARING_ENCRYPT_KEY",e.WebclientFailoverCount="WEB_CLIENT_FAILOVER_COUNT",e.WebclientRecordingToken="WEB_CLIENT_RECORDING_TOKEN",e.VideoSDKWebRTCAudioFallbackWasm="VIDEO_SDK_WEB_RTC_AUDIO_FALLBACK_WASM",e.VideoSDKWebRTCVideoFallbackWasm="VIDEO_SDK_WEB_RTC_VIDEO_FALLBACK_WASM",e.VIDEO_SDK_BROADCAST_STREAMING_CHANNEL_ID="VIDEO_SDK_BROADCAST_STREAMING_CHANNEL_ID",e})({}),Hve=(function(e){return e.WebclientDeviceId="WEBCLIENT_DEVICE_ID",e.VSDKLogTrackingId="ZM_VSDK_LOG_TRACKING_IDS",e})({}),bLe=(function(e){return e.DisableAutoReportLogs="DISABLE_AUTO_REPORT_LOGS",e})({});var Ap,Xu,jQ,yE;(function(e){e[e.PLAIN=0]="PLAIN",e[e.RSA=1]="RSA",e[e.AESGCM256=2]="AESGCM256"})(Ap||(Ap={})),(function(e){e[e.info=0]="info",e[e.debug=1]="debug",e[e.log=2]="log",e[e.warn=3]="warn",e[e.error=4]="error"})(Xu||(Xu={})),(function(e){e[e.PROTECT_LOCAL_KEY=0]="PROTECT_LOCAL_KEY"})(jQ||(jQ={})),(function(e){e.beforeInit="beforeInit",e.afterInit="afterInit",e.beforeLog="beforeLog",e.hitSizeLimit="hitSizeLimit",e.afterLog="afterLog",e.beforeReport="beforeReport",e.afterReport="afterReport"})(yE||(yE={}));class Zye{constructor(){}}var k_e,D_e,M_e={exports:{}},P_e={exports:{}},FGe=(function(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var o=function i(){var c=!1;try{c=this instanceof i}catch{}return c?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};o.prototype=n.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(e).forEach((function(i){var c=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(o,i,c.get?c:{enumerable:!0,get:function(){return e[i]}})})),o})(Object.freeze({__proto__:null,default:{}}));function yLe(){return k_e||(k_e=1,P_e.exports=(e=e||(function(n){var o;if(typeof window<"u"&&window.crypto&&(o=window.crypto),typeof self<"u"&&self.crypto&&(o=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(o=globalThis.crypto),!o&&typeof window<"u"&&window.msCrypto&&(o=window.msCrypto),!o&&ak!==void 0&&ak.crypto&&(o=ak.crypto),!o)try{o=FGe}catch{}var i=function(){if(o){if(typeof o.getRandomValues=="function")try{return o.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof o.randomBytes=="function")try{return o.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},c=Object.create||(function(){function W(){}return function(Z){var re;return W.prototype=Z,re=new W,W.prototype=null,re}})(),d={},p=d.lib={},v=p.Base={extend:function(W){var Z=c(this);return W&&Z.mixIn(W),Z.hasOwnProperty("init")&&this.init!==Z.init||(Z.init=function(){Z.$super.init.apply(this,arguments)}),Z.init.prototype=Z,Z.$super=this,Z},create:function(){var W=this.extend();return W.init.apply(W,arguments),W},init:function(){},mixIn:function(W){for(var Z in W)W.hasOwnProperty(Z)&&(this[Z]=W[Z]);W.hasOwnProperty("toString")&&(this.toString=W.toString)},clone:function(){return this.init.prototype.extend(this)}},S=p.WordArray=v.extend({init:function(W,Z){W=this.words=W||[],this.sigBytes=Z??4*W.length},toString:function(W){return(W||x).stringify(this)},concat:function(W){var Z=this.words,re=W.words,le=this.sigBytes,ie=W.sigBytes;if(this.clamp(),le%4)for(var be=0;be<ie;be++){var Ce=re[be>>>2]>>>24-be%4*8&255;Z[le+be>>>2]|=Ce<<24-(le+be)%4*8}else for(var Ae=0;Ae<ie;Ae+=4)Z[le+Ae>>>2]=re[Ae>>>2];return this.sigBytes+=ie,this},clamp:function(){var W=this.words,Z=this.sigBytes;W[Z>>>2]&=4294967295<<32-Z%4*8,W.length=n.ceil(Z/4)},clone:function(){var W=v.clone.call(this);return W.words=this.words.slice(0),W},random:function(W){for(var Z=[],re=0;re<W;re+=4)Z.push(i());return new S.init(Z,W)}}),T=d.enc={},x=T.Hex={stringify:function(W){for(var Z=W.words,re=W.sigBytes,le=[],ie=0;ie<re;ie++){var be=Z[ie>>>2]>>>24-ie%4*8&255;le.push((be>>>4).toString(16)),le.push((15&be).toString(16))}return le.join("")},parse:function(W){for(var Z=W.length,re=[],le=0;le<Z;le+=2)re[le>>>3]|=parseInt(W.substr(le,2),16)<<24-le%8*4;return new S.init(re,Z/2)}},P=T.Latin1={stringify:function(W){for(var Z=W.words,re=W.sigBytes,le=[],ie=0;ie<re;ie++){var be=Z[ie>>>2]>>>24-ie%4*8&255;le.push(String.fromCharCode(be))}return le.join("")},parse:function(W){for(var Z=W.length,re=[],le=0;le<Z;le++)re[le>>>2]|=(255&W.charCodeAt(le))<<24-le%4*8;return new S.init(re,Z)}},B=T.Utf8={stringify:function(W){try{return decodeURIComponent(escape(P.stringify(W)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(W){return P.parse(unescape(encodeURIComponent(W)))}},U=p.BufferedBlockAlgorithm=v.extend({reset:function(){this._data=new S.init,this._nDataBytes=0},_append:function(W){typeof W=="string"&&(W=B.parse(W)),this._data.concat(W),this._nDataBytes+=W.sigBytes},_process:function(W){var Z,re=this._data,le=re.words,ie=re.sigBytes,be=this.blockSize,Ce=ie/(4*be),Ae=(Ce=W?n.ceil(Ce):n.max((0|Ce)-this._minBufferSize,0))*be,F=n.min(4*Ae,ie);if(Ae){for(var Ie=0;Ie<Ae;Ie+=be)this._doProcessBlock(le,Ie);Z=le.splice(0,Ae),re.sigBytes-=F}return new S.init(Z,F)},clone:function(){var W=v.clone.call(this);return W._data=this._data.clone(),W},_minBufferSize:0});p.Hasher=U.extend({cfg:v.extend(),init:function(W){this.cfg=this.cfg.extend(W),this.reset()},reset:function(){U.reset.call(this),this._doReset()},update:function(W){return this._append(W),this._process(),this},finalize:function(W){return W&&this._append(W),this._doFinalize()},blockSize:16,_createHelper:function(W){return function(Z,re){return new W.init(re).finalize(Z)}},_createHmacHelper:function(W){return function(Z,re){return new j.HMAC.init(W,re).finalize(Z)}}});var j=d.algo={};return d})(Math),e)),P_e.exports;var e}var N_e,Npe,SLe=D_e?M_e.exports:(D_e=1,M_e.exports=yLe().enc.Utf8),L_e={exports:{}},CLe=(N_e||(N_e=1,L_e.exports=(Npe=yLe(),(function(){var e=Npe,n=e.lib.WordArray;function o(i,c,d){for(var p=[],v=0,S=0;S<c;S++)if(S%4){var T=d[i.charCodeAt(S-1)]<<S%4*2|d[i.charCodeAt(S)]>>>6-S%4*2;p[v>>>2]|=T<<24-v%4*8,v++}return n.create(p,v)}e.enc.Base64={stringify:function(i){var c=i.words,d=i.sigBytes,p=this._map;i.clamp();for(var v=[],S=0;S<d;S+=3)for(var T=(c[S>>>2]>>>24-S%4*8&255)<<16|(c[S+1>>>2]>>>24-(S+1)%4*8&255)<<8|c[S+2>>>2]>>>24-(S+2)%4*8&255,x=0;x<4&&S+.75*x<d;x++)v.push(p.charAt(T>>>6*(3-x)&63));var P=p.charAt(64);if(P)for(;v.length%4;)v.push(P);return v.join("")},parse:function(i){var c=i.length,d=this._map,p=this._reverseMap;if(!p){p=this._reverseMap=[];for(var v=0;v<d.length;v++)p[d.charCodeAt(v)]=v}var S=d.charAt(64);if(S){var T=i.indexOf(S);T!==-1&&(c=T)}return o(i,c,p)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})(),Npe.enc.Base64)),L_e.exports),WQ=function(e,n,o,i){return new(o||(o=Promise))((function(c,d){function p(T){try{S(i.next(T))}catch(x){d(x)}}function v(T){try{S(i.throw(T))}catch(x){d(x)}}function S(T){var x;T.done?c(T.value):(x=T.value,x instanceof o?x:new o((function(P){P(x)}))).then(p,v)}S((i=i.apply(e,[])).next())}))};const HGe=e=>{try{const n=CLe.parse(e);return SLe.stringify(n)}catch{return e}},GQ=e=>{for(var n=e.length,o=e.length-1;o>=0;o--){var i=e.charCodeAt(o);i>127&&i<=2047?n++:i>2047&&i<=65535&&(n+=2),i>=56320&&i<=57343&&o--}return n},ELe=()=>WQ(void 0,void 0,void 0,(function*(){return yield self.crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"])})),$Ge=(e,n,o)=>WQ(void 0,void 0,void 0,(function*(){try{return yield self.crypto.subtle.encrypt({name:"AES-GCM",iv:o},n,e)}catch(i){throw i}})),UGe=(e,n)=>{const o=typeof e=="string"?(function(i){const c=new ArrayBuffer(i.length),d=new Uint8Array(c);for(let p=0,v=i.length;p<v;p++)d[p]=i.charCodeAt(p);return c})(e):e;return self.crypto.subtle.encrypt({name:"RSA-OAEP"},n,o)},wLe={},qQ=(e,n)=>{wLe[n]=e},zGe=wLe,Kye=e=>{try{return JSON.stringify(e)}catch{return"json stringify failed"}},jGe=e=>{try{return JSON.parse(e)}catch{return e}},B_e=e=>{let n=0;return n+=GQ(e.message),e.tags.forEach((o=>{n+=GQ(o)})),n};class WGe{constructor(n){this.uuid="randomUUID"in self.crypto?self.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(B=>(B^crypto.getRandomValues(new Uint8Array(1))[0]&15>>B/4).toString(16)));const{databaseName:o,maxSize:i,publicKey:c,reportUrl:d,plugins:p,idbManager:v,logManager:S,currentSize:T,externalKeys:x,codecWorkerFilePath:P}=n;this.databaseName=o,this.maxSize=i,this.publicKey=c??"",this.reportUrl=d??"",this.plugins=p??[],this.idbManager=v,this.logManager=S,this.currentSize=T??0,this.externalKeys=x,this.commonMethods=Object.assign({},zGe)}getLocalAESGCM256Key(){var n;return(function(o,i,c,d){return new(c||(c=Promise))((function(p,v){function S(P){try{x(d.next(P))}catch(B){v(B)}}function T(P){try{x(d.throw(P))}catch(B){v(B)}}function x(P){var B;P.done?p(P.value):(B=P.value,B instanceof c?B:new c((function(U){U(B)}))).then(S,T)}x((d=d.apply(o,[])).next())}))})(this,void 0,void 0,(function*(){if(this.localAESGCM256Key)return this.localAESGCM256Key;this.localAESGCM256Key=yield ELe();const o=this.externalKeys?(n=this.externalKeys.filter((i=>i.usage===jQ.PROTECT_LOCAL_KEY))[0])===null||n===void 0?void 0:n.key:void 0;return yield this.idbManager.saveAESGCM256Key(this.uuid,this.localAESGCM256Key,o),this.localAESGCM256Key}))}updateCurrentSize(n){var o;let i=(o=this.currentSize)!==null&&o!==void 0?o:0;if(n instanceof Map)for(const[c,d]of n)i+=B_e(d);else i+=B_e(n);return this.currentSize=i,i>=this.maxSize}}const Lpe=(...e)=>{const n={},o=[];for(const c of e)c.forEach((d=>{n[d.id]||(n[d.id]=!0,o.push(d))}));const i=new Map;return o.sort(((c,d)=>(c==null?void 0:c.id)-(d==null?void 0:d.id))).forEach((c=>{i.set(c.id,c)})),i},QY=(e,n)=>{const o=new Map;return n.forEach((i=>{e(i)&&o.set(i.id,i)})),o};class GGe{constructor(){this.getStore=()=>({byTag:Object.assign({},this.store.byTag),byTime:new Map(this.store.byTime)}),this.pushByTime=n=>{for(const o of n)this.store.byTime.set(o.id,o)},this.pushByTag=n=>{n.forEach((o=>{const i=o.tags;Array.isArray(i)&&i.forEach((c=>{this.store.byTag[c]||(this.store.byTag[c]=new Map),this.store.byTag[c].set(o.id,o)}))}))},this.addLog=n=>{let o=n;Array.isArray(n)||(o=[n]),this.pushByTime(o),this.pushByTag(o)},this.syncFromIDB=n=>(function(o,i,c,d){return new(c||(c=Promise))((function(p,v){function S(P){try{x(d.next(P))}catch(B){v(B)}}function T(P){try{x(d.throw(P))}catch(B){v(B)}}function x(P){var B;P.done?p(P.value):(B=P.value,B instanceof c?B:new c((function(U){U(B)}))).then(S,T)}x((d=d.apply(o,[])).next())}))})(this,void 0,void 0,(function*(){const o=yield n.getAllLogs();this.addLog(o)})),this.reset=()=>{this.store={byTag:{},byTime:new Map}},this.deleteLogs=n=>{for(const o of n){const i=this.store.byTime.get(o);if(!i)continue;const{tags:c}=i;for(const d of c)this.store.byTag[d].delete(o);this.store.byTime.delete(o)}},this.filterStore=n=>{const o=((c,d)=>{if(!d)return c.byTime;if(typeof d=="string")return c.byTag[d]||new Map;if(Array.isArray(d)){if(d.every((p=>typeof p=="string")))return Lpe(...d.map((p=>c.byTag[p])).filter((p=>!!p)))}else{if(typeof d=="function")return QY(d,c.byTime);if(typeof d=="object")if(d.tags&&d.filter){if(typeof d.tags=="string")return QY(d.filter,c.byTag[d.tags]);if(Array.isArray(d.tags)&&d.tags.every((p=>typeof p=="string")))return Lpe(...d.tags.map((p=>{const v=c.byTag[p];return v?QY(d.filter,v):new Map})))}else{if(d.filter)return QY(d.filter,c.byTime);if(d.tags){if(typeof d=="string")return c.byTag[d]||new Map;if(Array.isArray(d)&&d.every((p=>typeof p=="string")))return Lpe(...d.map((p=>c.byTag[p])))}}else console.error("Wrong filter type")}return new Map})(this.store,n),i=new Map;for(const[c,d]of o){const p=Object.assign(Object.assign({},d),{message:jGe(HGe(d.message))});i.set(c,p)}return i},this.store={byTag:{},byTime:new Map}}}function lO(e,n,o){const i=e.plugins;if(!Array.isArray(i))return o;let c=o;return i.forEach((d=>{const p=d[n];if(typeof p=="function"){const v=p(e,c);v&&(c=v)}})),c}const _Le=(e,n,o,i,c,d={})=>(function(p,v,S,T){return new(S||(S=Promise))((function(x,P){function B(W){try{j(T.next(W))}catch(Z){P(Z)}}function U(W){try{j(T.throw(W))}catch(Z){P(Z)}}function j(W){var Z;W.done?x(W.value):(Z=W.value,Z instanceof S?Z:new S((function(re){re(Z)}))).then(B,U)}j((T=T.apply(p,[])).next())}))})(void 0,void 0,void 0,(function*(){const{noCache:p,extraProperties:v={}}=d,S=((x,P,B,U,j,W)=>{const Z=Array.isArray(P)?P:[P],re=Date.now();return Object.assign({message:x,logLevel:B,tags:Z,encryptMode:U,timestamp:re,laplaceSessionId:j},W)})(`${n}`,o,i,c,e.uuid,v),T=lO(e,yE.beforeLog,S);if(p)lO(e,yE.afterLog,S);else{const{idbManager:x,logManager:P}=e,B=yield x.makeNextId();T.message=(j=>{try{const W=SLe.parse(j);return CLe.stringify(W)}catch{return j}})(T.message);const U=Object.assign(Object.assign({},T),{id:B});e.updateCurrentSize(U)&&lO(e,yE.hitSizeLimit,U),P.addLog(U),yield x.addLog(U),lO(e,yE.afterLog,U)}}));qQ(_Le,"commonLog");const qGe=e=>new Promise((n=>{if(e.isSendByBeacon)navigator.sendBeacon?(navigator.sendBeacon(e.url,e.data),n({report:e.reportItem})):n({error:"sendBeacon is not supported",report:e.reportItem});else{const o=new XMLHttpRequest;o.open(e.type||"GET",e.url,!0),o.withCredentials=e.withCredentials,o.onerror=i=>{n({error:i,report:e.reportItem})},o.onreadystatechange=function(){if(o.readyState===4){const i=o.status;n(i>=200&&i<300?{report:e.reportItem}:{error:`Request failed, status: ${i}, responseText: ${o.responseText}`,report:e.reportItem})}},Object.entries(e.headers).forEach((([i,c])=>{c&&i&&o.setRequestHeader(i,c)})),o.send(e.data)}})),AL=(e,n=2)=>{let o=`${e}`;for(;o.length<n;)o=`0${o}`;return o},ALe=e=>{const n=new Date(e);return`${n.getUTCFullYear()}-${AL(n.getUTCMonth()+1)}-${AL(n.getUTCDate())} ${AL(n.getUTCHours())}:${AL(n.getUTCMinutes())}:${AL(n.getUTCSeconds())}.${AL(n.getUTCMilliseconds(),3)}`},TLe={version:"000001",flag:"0"},ZGe=(e,n)=>Array.from(e.values()).reduce(((o,i)=>{const c=((v,S)=>{const{message:T,logLevel:x,tags:P,timestamp:B,encryptMode:U,id:j}=v,W=(function(re,le){var ie={};for(var be in re)Object.prototype.hasOwnProperty.call(re,be)&&le.indexOf(be)<0&&(ie[be]=re[be]);if(re!=null&&typeof Object.getOwnPropertySymbols=="function"){var Ce=0;for(be=Object.getOwnPropertySymbols(re);Ce<be.length;Ce++)le.indexOf(be[Ce])<0&&Object.prototype.propertyIsEnumerable.call(re,be[Ce])&&(ie[be[Ce]]=re[be[Ce]])}return ie})(v,["message","logLevel","tags","timestamp","encryptMode","id"]),Z=Object.assign(Object.assign({time:ALe(B),logLevel:Xu[x],message:T,tags:P},S),W);return Kye(Z)})(i,n),d=GQ(c),p=o[o.length-1];return p.currentSize+d>30720?o.push({messages:[c],ids:[i.id],currentSize:d}):(p.messages.push(c),p.ids.push(i.id),p.currentSize+=d),o}),[{messages:[],ids:[],currentSize:0}]).filter((o=>o.currentSize>0)).map((o=>({messages:o.messages.join(`
`),ids:o.ids,meta:TLe}))),xLe=(e,n,o)=>((i,c,d)=>Promise.all(i.map((p=>Object.assign({url:c||"",type:"POST",withCredentials:!1,headers:{},data:Kye({messages:p.messages,meta:p.meta}),reportItem:p},d))).map(qGe)))(e,n.reportUrl,o).then((i=>{i.forEach((c=>{var d;lO(n,yE.afterReport,{report:c.report,error:(d=c.error)!==null&&d!==void 0?d:null})}))})),OLe=(e,n,o)=>(function(i,c,d,p){return new(d||(d=Promise))((function(v,S){function T(B){try{P(p.next(B))}catch(U){S(U)}}function x(B){try{P(p.throw(B))}catch(U){S(U)}}function P(B){var U;B.done?v(B.value):(U=B.value,U instanceof d?U:new d((function(j){j(U)}))).then(T,x)}P((p=p.apply(i,[])).next())}))})(void 0,void 0,void 0,(function*(){const i=e.logManager.filterStore(n);if(!i||(i==null?void 0:i.size)===0||!o)return;const{xhrOptions:c={},additionalContext:d}=o,p=lO(e,yE.beforeReport,i),v=ZGe(p,d);xLe(v,e,c)}));qQ(OLe,"commonReport");var ILe=function(e,n,o,i){return new(o||(o=Promise))((function(c,d){function p(T){try{S(i.next(T))}catch(x){d(x)}}function v(T){try{S(i.throw(T))}catch(x){d(x)}}function S(T){var x;T.done?c(T.value):(x=T.value,x instanceof o?x:new o((function(P){P(x)}))).then(p,v)}S((i=i.apply(e,[])).next())}))};const RLe=(e,n,o)=>ILe(void 0,void 0,void 0,(function*(){const{idbManager:i,logManager:c}=e;if(Array.isArray(o)&&(yield i.deleteLogs(o),c.deleteLogs(o),!n))return;const d=e.logManager.filterStore(n),p=[];for(const[S,T]of d)p.push(T.id);let v=p;Array.isArray(p)||(v=[p]),yield i.deleteLogs(v),c.deleteLogs(v)})),kLe=e=>ILe(void 0,void 0,void 0,(function*(){const{idbManager:n,logManager:o}=e;yield n.reset(),o.reset()}));function mO(e){return new Promise(((n,o)=>{e.oncomplete=e.onsuccess=()=>n(e.result),e.onabort=e.onerror=()=>o(e.error)}))}function DLe(e,n){let o;return(i,c)=>(()=>{if(o)return o;const d=indexedDB.open(e);return d.onupgradeneeded=()=>d.result.createObjectStore(n),o=mO(d),o.then((p=>{p.onclose=()=>o=void 0}),(()=>{})),o})().then((d=>c(d.transaction(n,i).objectStore(n))))}let Bpe;function h6(){return Bpe||(Bpe=DLe("keyval-store","keyval")),Bpe}function V_e(e,n=h6()){return n("readwrite",(o=>(e.forEach((i=>o.delete(i))),mO(o.transaction))))}function KGe(e=h6()){return e("readonly",(n=>{if(n.getAll&&n.getAllKeys)return Promise.all([mO(n.getAllKeys()),mO(n.getAll())]).then((([i,c])=>i.map(((d,p)=>[d,c[p]]))));const o=[];return e("readonly",(i=>(function(c){return c.openCursor().onsuccess=function(){this.result&&((d=>{o.push([d.key,d.value])})(this.result),this.result.continue())},mO(c.transaction)})(i).then((()=>o))))}))}qQ(RLe,"commonDelete"),qQ(kLe,"commonReset");const F_e={default:{queue:[],isRunning:!1,listeners:[]}},Yye=e=>{let n=F_e[e];return n||(n={queue:[],isRunning:!1,listeners:[]},F_e[e]=n),n};function MLe(e){return(function(n,o,i,c){return new(i||(i=Promise))((function(d,p){function v(x){try{T(c.next(x))}catch(P){p(P)}}function S(x){try{T(c.throw(x))}catch(P){p(P)}}function T(x){var P;x.done?d(x.value):(P=x.value,P instanceof i?P:new i((function(B){B(P)}))).then(v,S)}T((c=c.apply(n,[])).next())}))})(this,void 0,void 0,(function*(){const n=Yye(e),{queue:o,listeners:i}=n;for(;o.length>0&&!n.isRunning;){const c=o.shift();n.isRunning=!0;try{const d=yield c.task();c.resolution(d)}catch(d){c.rejection(d)}n.isRunning=!1,MLe(e)}i.length&&i.forEach((c=>{c()}))}))}function eX(e,n="default"){const o=Yye(n);try{return new Promise(((i,c)=>{o.queue.push({task:e,resolution:i,rejection:c}),MLe(n)}))}catch(i){return Promise.reject(i)}}const H_e=(e,n)=>{Yye(e).listeners.push(n)};var N0=function(e,n,o,i){return new(o||(o=Promise))((function(c,d){function p(T){try{S(i.next(T))}catch(x){d(x)}}function v(T){try{S(i.throw(T))}catch(x){d(x)}}function S(T){var x;T.done?c(T.value):(x=T.value,x instanceof o?x:new o((function(P){P(x)}))).then(p,v)}S((i=i.apply(e,[])).next())}))};const Vpe="change_meta",Fpe="change_log",TL=()=>Promise.resolve();class YGe{constructor(n){this.waitingForReset=!1,this.resetting=!1,this.isChangingMeta=!1,this.isChangingLog=!1,this.dbFailCount={read:0,write:0},this.get=o=>(function(i,c=h6()){return c("readonly",(d=>mO(d.get(i))))})(o,this.store),this.set=(o,i)=>N0(this,void 0,void 0,(function*(){try{return!(this.dbFailCount.write>3)&&(yield(function(c,d,p=h6()){return p("readwrite",(v=>(v.put(d,c),mO(v.transaction))))})(o,i,this.store))}catch(c){c instanceof DOMException&&(c&&c.name==="QuotaExceededError"?(yield this.deleteOldLogsForSetNewOne(),yield this.set(o,i)):this.dbFailCount.write+=1),console.error(c)}})),this.deleteOldLogsForSetNewOne=()=>N0(this,void 0,void 0,(function*(){var o;const i=yield this.getAllLogs(),c=[];for(let d=0;d<13;d++){const p=(o=i[d])===null||o===void 0?void 0:o.id;(p||p===0)&&c.push(`${p}`)}return V_e(c,this.store)})),this.adjustMaxId=()=>N0(this,void 0,void 0,(function*(){return this.resetting?TL():(this.isChangingMeta=!0,yield eX((()=>N0(this,void 0,void 0,(function*(){var o;const i=yield this.getAllLogs(),c=i[i.length-1],d=(o=c==null?void 0:c.id)!==null&&o!==void 0?o:0;return yield this.set("maxId",d),d}))),Vpe))})),this.makeNextId=()=>N0(this,void 0,void 0,(function*(){return this.resetting?TL():(this.isChangingMeta=!0,yield eX((()=>N0(this,void 0,void 0,(function*(){const o=yield this.get("maxId");if(!o&&o!==0)return yield this.set("maxId",0),0;const i=o+1;return yield this.set("maxId",i),i}))),Vpe))})),this.addLog=o=>N0(this,void 0,void 0,(function*(){if(this.resetting)return TL();this.isChangingLog=!0,yield eX((()=>N0(this,void 0,void 0,(function*(){const{id:i}=o;return this.set(`${i}`,o)}))),Fpe)})),this.getAllLogs=()=>N0(this,void 0,void 0,(function*(){return(yield KGe(this.store)).filter((([o])=>o!=="maxId")).sort(((o,i)=>{var c,d;return((c=o[1])===null||c===void 0?void 0:c.id)-((d=i[1])===null||d===void 0?void 0:d.id)})).map((([,o])=>o))})),this.deleteLogs=o=>N0(this,void 0,void 0,(function*(){if(this.resetting)return TL();this.isChangingLog=!0,yield eX((()=>N0(this,void 0,void 0,(function*(){return V_e(o.map((i=>`${i}`)),this.store)}))),Fpe),yield this.adjustMaxId()})),this.saveAESGCM256Key=(o,i,c)=>N0(this,void 0,void 0,(function*(){if(c){const d=yield self.crypto.subtle.exportKey("raw",i),p=yield((v,S,T)=>WQ(void 0,void 0,void 0,(function*(){return new Promise(((x,P)=>{requestAnimationFrame((()=>WQ(void 0,void 0,void 0,(function*(){var B;const U=(B=S==null?void 0:S.algorithm)===null||B===void 0?void 0:B.name;let j;if(U==="RSA-OAEP"?j=UGe:U==="AES-GCM"&&(j=$Ge),!j)throw new Error("Unsupported encrypt key type");if(typeof v=="string"){const W=new TextEncoder,Z=yield j(W.encode(v),S,T);x(Z)}else{const W=yield j(v,S,T);x(W)}}))))}))})))(d,c,new Uint8Array(16));yield this.set(`aes-gcm-256-${o}`,p)}else yield this.set(`aes-gcm-256-${o}`,i)})),this.reset=()=>N0(this,void 0,void 0,(function*(){return this.resetting?TL():(this.waitingForReset=!0,this.isChangingLog||this.isChangingMeta?TL():(this.resetting=!0,yield(function(o=h6()){return o("readwrite",(i=>(i.clear(),mO(i.transaction))))})(this.store),this.resetting=!1,void(this.waitingForReset=!1)))})),this.store=DLe(n,n+"-store"),H_e(Vpe,(()=>{if(this.isChangingMeta=!1,this.waitingForReset)return this.reset()})),H_e(Fpe,(()=>{if(this.isChangingLog=!1,this.waitingForReset)return this.reset()}))}}var Zu=function(e,n,o,i){return new(o||(o=Promise))((function(c,d){function p(T){try{S(i.next(T))}catch(x){d(x)}}function v(T){try{S(i.throw(T))}catch(x){d(x)}}function S(T){var x;T.done?c(T.value):(x=T.value,x instanceof o?x:new o((function(P){P(x)}))).then(p,v)}S((i=i.apply(e,[])).next())}))};const XGe={databaseName:"laplace-default-db",maxSize:49283072};class $ve{constructor(n){this.commonLogWithContext=(i,c,d,p,v)=>Zu(this,void 0,void 0,(function*(){yield _Le(this.runtimeMetaManager,i,c,d,p,v)})),this.commonReportWithContext=(i,c)=>Zu(this,void 0,void 0,(function*(){yield OLe(this.runtimeMetaManager,i,c)})),this.commonDeleteWithContext=i=>Zu(this,void 0,void 0,(function*(){yield RLe(this.runtimeMetaManager,i)})),this.resetWithContext=()=>Zu(this,void 0,void 0,(function*(){yield kLe(this.runtimeMetaManager)})),this.initLocalAESGCM256Key=()=>Zu(this,void 0,void 0,(function*(){return yield ELe()})),this.doNotUseDirtyGetStore=()=>this.runtimeMetaManager.logManager.getStore(),this.log=(i,c,d)=>Zu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Xu.log,Ap.PLAIN,{extraProperties:d})})),this.info=(i,c,d)=>Zu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Xu.info,Ap.PLAIN,{extraProperties:d})})),this.warn=(i,c,d)=>Zu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Xu.warn,Ap.PLAIN,{extraProperties:d})})),this.debug=(i,c,d)=>Zu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Xu.debug,Ap.PLAIN,{extraProperties:d})})),this.error=(i,c,d)=>Zu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Xu.error,Ap.PLAIN,{extraProperties:d})})),this.logWithEncryption=(i,c,d)=>Zu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Xu.log,Ap.AESGCM256,{extraProperties:d})})),this.infoWithEncryption=(i,c,d)=>Zu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Xu.info,Ap.AESGCM256,{extraProperties:d})})),this.debugWithEncryption=(i,c,d)=>Zu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Xu.debug,Ap.AESGCM256,{extraProperties:d})})),this.warnWithEncryption=(i,c,d)=>Zu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Xu.warn,Ap.AESGCM256,{extraProperties:d})})),this.errorWithEncryption=(i,c,d)=>Zu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Xu.error,Ap.AESGCM256,{extraProperties:d})})),this.logWithoutCache=(i,c,d)=>Zu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Xu.log,Ap.PLAIN,{extraProperties:d,noCache:!0})})),this.infoWithoutCache=(i,c,d)=>Zu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Xu.info,Ap.PLAIN,{extraProperties:d,noCache:!0})})),this.warnWithoutCache=(i,c,d)=>Zu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Xu.warn,Ap.PLAIN,{extraProperties:d,noCache:!0})})),this.debugWithoutCache=(i,c,d)=>Zu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Xu.debug,Ap.PLAIN,{extraProperties:d,noCache:!0})})),this.errorWithoutCache=(i,c,d)=>Zu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Xu.error,Ap.PLAIN,{extraProperties:d,noCache:!0})})),this.getLogs=i=>{const c=this.runtimeMetaManager.logManager;return c?c.filterStore(i):new Map},this.report=(...i)=>((c,d,p={})=>(function(v,S,T,x){return new(T||(T=Promise))((function(P,B){function U(Z){try{W(x.next(Z))}catch(re){B(re)}}function j(Z){try{W(x.throw(Z))}catch(re){B(re)}}function W(Z){var re;Z.done?P(Z.value):(re=Z.value,re instanceof T?re:new T((function(le){le(re)}))).then(U,j)}W((x=x.apply(v,[])).next())}))})(void 0,void 0,void 0,(function*(){var v,S;const T=(v=p.sampleRate)!==null&&v!==void 0?v:1;if(Math.random()>T)return;if(GQ(d)>30720)throw new Error("ERROR: Laplace .report(strMsg) size bigger than 30KB is NOT allowed.");const x=Object.assign({message:Object.assign({strMsg:d},p.extraMsg),time:ALe(Date.now())},p.extraData);return!((S=p==null?void 0:p.tags)===null||S===void 0)&&S.length&&(x.tags=p==null?void 0:p.tags),xLe([{messages:JSON.stringify(x),meta:TLe}],c,p.xhrOptions)})))(this.runtimeMetaManager,...i),this.reportByHttps=(i,c)=>Zu(this,void 0,void 0,(function*(){yield this.commonReportWithContext(i,c)})),this.deleteLog=i=>Zu(this,void 0,void 0,(function*(){yield this.commonDeleteWithContext(i)})),this.deleteAll=()=>Zu(this,void 0,void 0,(function*(){yield this.resetWithContext()}));const{runtimeMetaManager:o}=n;this.runtimeMetaManager=o}}$ve.init=e=>Zu(void 0,void 0,void 0,(function*(){const{databaseName:n="laplace-default-db"}=e,o=new YGe(n),i=new GGe,c=new WGe(Object.assign(Object.assign(Object.assign({},XGe),e),{idbManager:o,logManager:i}));lO(c,yE.beforeInit),yield i.syncFromIDB(c.idbManager);const d=new $ve({runtimeMetaManager:c});return lO(c,yE.afterInit),d}));class JGe extends Zye{constructor(n){super(),this.config={verbose:!1},this.beforeLog=(o,i)=>{const{verbose:c}=this.config;switch(c&&console.log("beforeLog, ","state: ",i,"meta: ",o),i.logLevel){case Xu.error:console.error(i.message);break;case Xu.warn:console.warn(i.message);break;case Xu.log:console.log(i.message);break;case Xu.debug:console.debug(i.message);break;case Xu.info:console.info(i.message)}},this.afterLog=(o,i)=>{const{verbose:c}=this.config;c&&console.log("afterLog, ","state: ",i,"meta: ",o)},this.beforeReport=(o,i)=>{const{verbose:c}=this.config;c&&console.log("beforeReport, ","pluginParams: ",i,"meta: ",o)},this.afterReport=(o,i)=>{const{verbose:c}=this.config;c&&console.log("afterReport, ","pluginParams: ",i,"runtimeMetaManager: ",o)},n&&(this.config=n)}}const $_e=e=>{const n=[];for(const[o,i]of e)n.push(i);return n};class QGe extends Zye{constructor(n){super(),this.config={debug:!1},this.debugLog=o=>{const{debug:i}=this.config;i&&console.log(`[AutoCleanLogPlugin]: ${o}`)},this.afterInit=o=>{const{expireBefore:i}=this.config;if(!i)return void this.debugLog("early return on beforeInit because expireBefore is falsy");const{logManager:c,commonMethods:{commonDelete:d}}=o,p=c.getStore().byTime,v=(typeof i=="function"?$_e(p).filter(i):$_e(p).filter((S=>S.timestamp<i))).map((S=>S.id));d(o,void 0,v),this.debugLog(`afterInit, clean log id: ${v}`)},this.afterReport=(o,{report:i,error:c})=>{if(c)return this.debugLog("error"),void console.error(c);const{cleanAfterReport:d}=this.config;if(!d)return void this.debugLog("early return on afterReport because cleanAfterReport is falsy");const{commonMethods:{commonDelete:p}}=o;p(o,void 0,i.ids),this.debugLog(`afterReport, clean log id: ${i.ids}`)},n&&(this.config=n)}}var Hpe,U_e,eqe=(function(){if(U_e)return Hpe;U_e=1;var e="Expected a function",n=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt,p=typeof ak=="object"&&ak&&ak.Object===Object&&ak,v=typeof self=="object"&&self&&self.Object===Object&&self,S=p||v||Function("return this")(),T=Object.prototype.toString,x=Math.max,P=Math.min,B=function(){return S.Date.now()};function U(W){var Z=typeof W;return!!W&&(Z=="object"||Z=="function")}function j(W){if(typeof W=="number")return W;if((function(le){return typeof le=="symbol"||(function(ie){return!!ie&&typeof ie=="object"})(le)&&T.call(le)=="[object Symbol]"})(W))return NaN;if(U(W)){var Z=typeof W.valueOf=="function"?W.valueOf():W;W=U(Z)?Z+"":Z}if(typeof W!="string")return W===0?W:+W;W=W.replace(n,"");var re=i.test(W);return re||c.test(W)?d(W.slice(2),re?2:8):o.test(W)?NaN:+W}return Hpe=function(W,Z,re){var le=!0,ie=!0;if(typeof W!="function")throw new TypeError(e);return U(re)&&(le="leading"in re?!!re.leading:le,ie="trailing"in re?!!re.trailing:ie),(function(be,Ce,Ae){var F,Ie,tt,Xe,Ve,Re,vt=0,mt=!1,gt=!1,te=!0;if(typeof be!="function")throw new TypeError(e);function hn(Cn){var Ro=F,jn=Ie;return F=Ie=void 0,vt=Cn,Xe=be.apply(jn,Ro)}function ot(Cn){var Ro=Cn-Re;return Re===void 0||Ro>=Ce||Ro<0||gt&&Cn-vt>=tt}function Rt(){var Cn=B();if(ot(Cn))return kt(Cn);Ve=setTimeout(Rt,(function(Ro){var jn=Ce-(Ro-Re);return gt?P(jn,tt-(Ro-vt)):jn})(Cn))}function kt(Cn){return Ve=void 0,te&&F?hn(Cn):(F=Ie=void 0,Xe)}function at(){var Cn=B(),Ro=ot(Cn);if(F=arguments,Ie=this,Re=Cn,Ro){if(Ve===void 0)return(function(jn){return vt=jn,Ve=setTimeout(Rt,Ce),mt?hn(jn):Xe})(Re);if(gt)return Ve=setTimeout(Rt,Ce),hn(Re)}return Ve===void 0&&(Ve=setTimeout(Rt,Ce)),Xe}return Ce=j(Ce)||0,U(Ae)&&(mt=!!Ae.leading,tt=(gt="maxWait"in Ae)?x(j(Ae.maxWait)||0,Ce):tt,te="trailing"in Ae?!!Ae.trailing:te),at.cancel=function(){Ve!==void 0&&clearTimeout(Ve),vt=0,F=Re=Ie=Ve=void 0},at.flush=function(){return Ve===void 0?Xe:kt(B())},at})(W,Z,{leading:le,maxWait:Z,trailing:ie})},Hpe})(),tqe=Jee(eqe);const nqe=["RESOURCE_ERROR","JS_ERROR","UNHANDLED_PROMISE_REJECTION"];class oqe extends Zye{constructor(n){super(),this.config={debug:!1,publicTags:[]},this.errorCount=0,this.hashErrors={},this.runtimeMetaManager=null,this.addPublicTags=o=>{var i;return(i=this.config.publicTags)===null||i===void 0?void 0:i.concat(o).filter((c=>c))},this.debugLog=o=>{const{debug:i}=this.config;i&&console.log("[AutoLogErrorPlugin]:",o)},this.ignore=o=>{var i,c,d,p,v;return((i=this.config)===null||i===void 0?void 0:i.maxErrorCount)!==void 0&&this.errorCount>=((c=this.config)===null||c===void 0?void 0:c.maxErrorCount)||!!(!((d=this.config)===null||d===void 0)&&d.ignoredErrorMsgKeywords)&&o&&((v=(p=this.config)===null||p===void 0?void 0:p.ignoredErrorMsgKeywords)===null||v===void 0?void 0:v.some((S=>o==null?void 0:o.includes(S))))},this.report=tqe((()=>{if(this.runtimeMetaManager===null)return;const{autoReport:o}=this.config,{commonMethods:{commonReport:i}}=this.runtimeMetaManager;return i(this.runtimeMetaManager,nqe,o)}),600,{trailing:!0,leading:!1}),this.afterInit=o=>{if(this.runtimeMetaManager=o,!self.addEventListener)return;const{commonMethods:{commonLog:i}}=o,c=(d,p,v)=>{this.debugLog(v),this.errorCount+=1;try{return(function(S){const T=new TextEncoder().encode(S);return crypto.subtle.digest("SHA-1",T).then((x=>Array.from(new Uint8Array(x)).map((P=>P.toString(16).padStart(2,"0"))).join("")))})(d).then((S=>this.hashErrors[S]?"dismissed":(this.hashErrors[S]=!0,i(o,d,this.addPublicTags([].concat(p)),Xu.error,Ap.PLAIN,{extraProperties:{messageHash:S}}).then(this.report)))).catch(console.error)}catch(S){return console.error(S),Promise.resolve(S)}};try{self.addEventListener("error",(d=>{var p,v,S,T,x,P,B;if(!this.ignore(d==null?void 0:d.message)){if(d!=null&&d.target&&(!((p=d==null?void 0:d.target)===null||p===void 0)&&p.src||!((v=d==null?void 0:d.target)===null||v===void 0)&&v.href)){const U=`Load Resource Error in ${(S=d==null?void 0:d.target)===null||S===void 0?void 0:S.tagName} element: ${((T=d==null?void 0:d.target)===null||T===void 0?void 0:T.src)||((x=d==null?void 0:d.target)===null||x===void 0?void 0:x.href)}`;return c(U,"RESOURCE_ERROR",d)}{const U=`Javascript Runtime Error in ${d==null?void 0:d.filename} (${d==null?void 0:d.lineno}:${d==null?void 0:d.colno}): ${d==null?void 0:d.message}
Stack: ${(B=(P=d==null?void 0:d.error)===null||P===void 0?void 0:P.stack)!==null&&B!==void 0?B:d==null?void 0:d.stack}`;return c(U,"JS_ERROR",d)}}})),self.addEventListener("unhandledrejection",(d=>{var p;if(this.ignore((p=d==null?void 0:d.reason)===null||p===void 0?void 0:p.message))return;let v;const S=d==null?void 0:d.reason;return v=typeof S=="string"?`Promise Error: ${S}`:S instanceof Error?`Promise Error: ${S.message} ${S.name} ${S.stack}`:typeof S=="object"?`Promise Error with reason: ${Kye(S)}`:`Promise Error with unrecognized reason: ${S}`,c(v,"UNHANDLED_PROMISE_REJECTION",d)}))}catch(d){console.error(d)}this.debugLog("afterInit, add listener")},n&&(this.config=n),this.config.publicTags=[].concat(n==null?void 0:n.publicTags)}}let T2=(function(e){return e.DeviceAudioStreamCaptured="device audio stream captured",e.AudioJoinComplete="audio join complete",e.AudioLeaveComplete="audio leave complete",e.SharingAudioStartComplete="sharing audio start complete",e.SharingAudioStopComplete="sharing audio stop complete",e.AudioBridgeReconnectStart="audio bridge reconnect start",e.AudioBridgeReconnectEnd="audio bridge reconnect end",e})({}),x2=(function(e){return e.VBSettingSuccess="video VB setting success",e.VBSettingFailed="init video VB failed",e.VBPreloadSuccess="preload video VB success",e.VBPreloading3S="preload video VB 3s",e.VBPreloading10S="preload video VB 10s",e.StartCaptureVideoSuccess="start capture video success",e.StopCaptureVideoSuccess="stop capture video success",e})({});function Zf(e){return`{E}${e}{/E}`}const sqe=["exception flow","MEDIA SDK"],rqe={enable:!1,enableReport:!1,gatewayEndPoint:"",newGatewayEndPoint:"",logLevel:{debug:!1,log:!1,info:!1,print:!1,warn:!1,error:!1},performanceReportRatio:.25,trackingCount:7},z_e=["debug","log","info","print","warn","error"],xL=(e,n)=>[...e,...n].filter((o=>!!o)),j_e=["JOIN_MEETING_FAILED","Join Meeting Flow","UNAVAILABLE_RWG","connection_info_map","exception flow"];class Qf{static getInstance(){return this.agentInstance||(this.agentInstance=new Qf),this.agentInstance}constructor(){this.laplace=void 0,this.trackingId=void 0,this.logConfig=void 0,this.reportUrl=void 0,this.publicTags=void 0,this.accountId=void 0,this.disableAutoReport=void 0,this.debouncedReport=void 0,this.initConfig=async n=>{let o,i=rqe;try{n.logConfig&&(i=JSON.parse(n.logConfig),i.gatewayEndPoint&&(this.reportUrl=i.gatewayEndPoint),i.newGatewayEndPoint&&(this.reportUrl=i.newGatewayEndPoint));const{enable:v,enableReport:S,reportUrl:T,logLevel:x,encryptKeys:P,trackingId:B,accountId:U}=n;if(v!==void 0&&(i={...i,enable:!!v}),S!==void 0&&(i={...i,enableReport:!!S}),T&&(this.reportUrl=T),typeof x=="string"){const j=z_e.indexOf(x),W=z_e.reduce(((Z,re,le)=>le<j?{...Z,[`${re}`]:!1}:{...Z,[`${re}`]:!0}),{});i={...i,logLevel:W}}else x!==void 0&&(i={...i,logLevel:x});if(B&&(this.trackingId=B,i={...i,enable:!0,enableReport:!0}),P!==void 0){const j=Array.isArray(P)?P:[P];o=await Promise.all(j.map((W=>(function(Z){return window.crypto.subtle.importKey("raw",new TextEncoder().encode(Z.slice(0,32)),"AES-GCM",!1,["encrypt","decrypt"])})(W).then((Z=>({usage:jQ.PROTECT_LOCAL_KEY,key:Z}))))))}U!==void 0&&(this.accountId=U)}catch(v){console.error("parse log config error",v)}const c=new Date().getTime()-6048e5,d=i.enableReport&&this.reportUrl?{gzip:!1,encrypt:!1,additionalContext:{trackingId:this.trackingId}}:void 0;this.publicTags=["VideoSDK",this.trackingId],n.isUIToolkit&&this.publicTags.push("UI-Toolkit");const p=[n.debugMode&&new JGe({verbose:!1}),new QGe({debug:!1,cleanAfterReport:!0,expireBefore:c}),new oqe({debug:!1,autoReport:d,ignoredErrorMsgKeywords:["table index is out of bounds"],maxErrorCount:223,publicTags:this.accountId?[...this.publicTags,Zf(this.accountId)]:this.publicTags})].filter(Boolean);return{laplaceConfig:{databaseName:"ZM-VSDK-LOG-DATABASE",maxSize:49283072,publicKey:n.logEncryptionPubKey,reportUrl:this.reportUrl,externalKeys:o,plugins:p},logConfig:i}},this.handleInitLaplaceSuccess=(n,o)=>{var i;this.laplace=n;const c=ai.get(Hve.VSDKLogTrackingId);let d=[];try{d=JSON.parse(c?window.atob(c):"[]")}catch{}d.length>=((i=o==null?void 0:o.trackingCount)!==null&&i!==void 0?i:7)&&d.shift();const p=d.reduce(((S,T)=>({...S,[`${T}`]:!0})),{});n.deleteLog((S=>{var T;return!((T=S.tags)!==null&&T!==void 0&&T.some((x=>p[x])))})),d.push(this.trackingId),ai.set(Hve.VSDKLogTrackingId,window.btoa(JSON.stringify(d)),ya.LocalStorage);const v=navigator.hardwareConcurrency>=4?5e3:1e4;this.debouncedReport=(function(S,T=5e3){const x=[];let P;const B=(function(U,j,W){var Z,re,le,ie,be,Ce,Ae=0,F=!1,Ie=!1,tt=!0;if(typeof U!="function")throw new TypeError("Expected a function");function Xe(gt){var te=Z,hn=re;return Z=re=void 0,Ae=gt,ie=U.apply(hn,te)}function Ve(gt){var te=gt-Ce;return Ce===void 0||te>=j||te<0||Ie&&gt-Ae>=le}function Re(){var gt=wpe();if(Ve(gt))return vt(gt);be=setTimeout(Re,(function(te){var hn=j-(te-Ce);return Ie?QWe(hn,le-(te-Ae)):hn})(gt))}function vt(gt){return be=void 0,tt&&Z?Xe(gt):(Z=re=void 0,ie)}function mt(){var gt=wpe(),te=Ve(gt);if(Z=arguments,re=this,Ce=gt,te){if(be===void 0)return(function(hn){return Ae=hn,be=setTimeout(Re,j),F?Xe(hn):ie})(Ce);if(Ie)return clearTimeout(be),be=setTimeout(Re,j),Xe(Ce)}return be===void 0&&(be=setTimeout(Re,j)),ie}return j=Ewe(j)||0,V6(W)&&(F=!0,le=(Ie="maxWait"in W)?JWe(Ewe(W.maxWait)||0,j):le,tt="trailing"in W||tt),mt.cancel=function(){be!==void 0&&clearTimeout(be),Ae=0,Z=Ce=re=be=void 0},mt.flush=function(){return be===void 0?ie:vt(wpe())},mt})(((U,j)=>{const W=S(U,j);return x.length=0,W}),T,{leading:!0,trailing:!0,maxWait:1e4});return window.addEventListener("beforeunload",(()=>{var U;B.cancel&&B.cancel(),x.length>0&&((U=P)!==null&&U!==void 0&&U.xhrOptions&&Object.assign(P.xhrOptions,{isSendByBeacon:!0}),S(x,P))})),(U,j)=>(Array.isArray(U)?x.push(...U):typeof U=="string"&&x.push(U),P=j,B(x,j))})(this.laplace.reportByHttps.bind(this.laplace),v)},this.init=async n=>{const{laplaceConfig:o,logConfig:i}=await this.initConfig(n);return i.enable?(this.logConfig=i,$ve.init(o).then((c=>{this.handleInitLaplaceSuccess(c,i)})).catch((c=>{throw{type:cf,reason:"Logger init failed.",error:c,errorCode:lt.INTERNAL_ERROR}}))):Promise.reject({type:dn,reason:"Logger feature is not enabled."})},this.check=n=>{var o;return!(!this.checkLaplace()||((o=this.logConfig)===null||o===void 0||(o=o.logLevel)===null||o===void 0||!o[n])&&(console.warn(`Logger ${n} is not enabled.`),1))},this.log=(n,o,i)=>{if(this.check("log"))try{var c;return(c=this.laplace.logWithEncryption(n,xL(o,i)))===null||c===void 0?void 0:c.catch((()=>{}))}catch{return}},this.logWithExtraProperties=(n,o,i)=>{if(this.check("log"))try{var c;return(c=this.laplace.log(n,o,i))===null||c===void 0?void 0:c.catch((()=>{}))}catch{return}},this.warn=(n,o,i)=>{if(this.check("warn"))try{var c;return(c=this.laplace.warnWithEncryption(n,xL(o,i)))===null||c===void 0?void 0:c.catch((()=>{}))}catch{return}},this.info=(n,o,i)=>{if(this.check("info"))try{var c;return(c=this.laplace.infoWithEncryption(n,xL(o,i)))===null||c===void 0?void 0:c.catch((()=>{}))}catch{return}},this.debug=(n,o,i)=>{if(this.check("debug"))try{var c;return(c=this.laplace.debugWithEncryption(n,xL(o,i)))===null||c===void 0?void 0:c.catch((()=>{}))}catch{return}},this.error=(n,o,i)=>{if(this.check("error"))try{var c;return(c=this.laplace.errorWithEncryption(n,xL(o,i)))===null||c===void 0?void 0:c.catch((()=>{}))}catch{return}},this.checkLaplace=()=>{var n;return!((n=this.laplace)===null||n===void 0||!n.log)},this.makeLogger=n=>{var o;const i=xL((o=this.publicTags)!==null&&o!==void 0?o:[],n);return{log:(c,d)=>this.log(c,i,d??[]),logWithExtraProperties:(c,d)=>this.logWithExtraProperties(c,i,d),warn:(c,d)=>this.warn(c,i,d??[]),info:(c,d)=>this.info(c,i,d??[]),debug:(c,d)=>this.debug(c,i,d??[]),error:(c,d)=>this.error(c,i,d??[]),directReport:(c,d)=>{const p=typeof c!="string"?JSON.stringify(c):c,v=(Array.isArray(d)?d:[d]).filter(Boolean);v.push("MEDIA SDK Direct"),this.report(p,v,"info")}}},this.reportToGlobalTracing=(n,o=!1,i=!1)=>{var c;if(!this.checkLaplace())return Promise.reject({type:dn,reason:"Logger has not been enabled or initialized."});if((c=this.logConfig)===null||c===void 0||!c.enableReport||!this.reportUrl)return Promise.reject({type:dn,reason:"Please use getLogs to obtain log data and report by yourself."});if((function(){try{return!!ai.get(bLe.DisableAutoReportLogs)}catch{return!1}})()&&!o&&!(Array.isArray(n)?n.some((v=>j_e.some((S=>v.includes(S))))):j_e.some((v=>`${n}`.includes(v)))))return Promise.resolve();const d=(function(p){let v=!0;return p&&(v=!(Array.isArray(p)?p:[p]).some((S=>sqe.some((T=>`${S}`.indexOf(T)>-1))))),v})(n);return(o||d?this.laplace.reportByHttps.bind(this.laplace):this.debouncedReport)(n,{gzip:!1,encrypt:!1,xhrOptions:{url:this.reportUrl,isSendByBeacon:i},additionalContext:{trackingId:this.trackingId}})},this.report=(n,o,i="warn")=>{if(this.checkLaplace()&&this.logConfig.enableReport&&this.reportUrl){var c,d;const p=Array.isArray(o)?o:[o],v=this.accountId?[...p,Zf(this.accountId)]:p;(c=(d=this.makeLogger(v))[`${i}`])===null||c===void 0||(c=c.call(d,n))===null||c===void 0||c.then((()=>{this.reportToGlobalTracing(p)}))}},this.getLogs=(n,o)=>{if(!this.checkLaplace())return console.warn("Logger has not been enabled or initialized."),[];const i=n.getState(),{meeting:{meetingNumber:c,userId:d,userEmail:p,userName:v}}=i,S={meetingNumber:c,userId:d,userEmail:p,userName:v},T=this.laplace.getLogs(o),x=[];for(const[,P]of T)x.push({...P,...S});return x},this.doNotUseDirtyGetStore=()=>this.checkLaplace()?this.laplace.doNotUseDirtyGetStore():(console.warn("Logger has not been enabled or initialized."),{byTag:{},byTime:new Map}),this.trackingId=zQ()}}Qf.agentInstance=void 0;const PLe=Qf.getInstance(),NLe=[{type:"MediaMeta",methods:["sendUserNodeList","updateUserMediaSN","updateMediaParams","subscribeToQos","unsubscribeFromQos","sendUserAudioStatus","destroy","createMainSessionChannel","notifySDKMeetingReady"]},{type:"Audio",methods:["joinComputerAudio","leaveComputerAudio","joinSharingAudio","leaveSharingAudio","changeSpeaker","changeMicrophone","enableAudioEncode","pauseOrResumeAudio","setSharingAudioVolume","enableShareAudioToBreakoutRoom","enableAudioDenoise","enableSyncButtonsOnHeadset","stopAllIncomingAudio","setAudioCodecMode","muteOrUnmuteOtherAudio","adjustOtherAudioVolume","changeAudioProfile","unmuteAudio","muteAudio"]},{type:"Video",methods:["startCaptureVideo","stopCaptureVideo","renderVideo","stopRenderVideo","changeCamera","updateRenderedVideoCanvasDimension","adjustRenderedVideoPosition","mirrorVideo","enableHardwareAccelerationForVideoDecode","enableHardwareAccelerationForVideoEncode","startVirtualBackgroundSetting","updateVirtualBackgroundImage","stopVirtualBackgroundSetting","startMaskSetting","updateMaskBackgroundImage","updateMaskClip","stopMaskSetting","enableVideoObserver","prefetchVideoSsrc","cancelPrefetchVideoSsrc","setMobileRotateMode","changeActiveVideoSsrc","updateVideoHDValue","updateVideoFullhdValue","clearVideoCanvas"]},{type:"Sharing",methods:["stopDesktopSharing","startDesktopSharing","pauseDesktopSharing","resumeDesktopSharing","renderSharing","stopRenderSharing","switchSharingSource","ajustmentReceivedSharingCanvas","changeSharingSecondCamera","updateRenderedSharingDimension","addReceivedSharingChannelType","removeReceivedSharingChannelType","switchSharingMode","ajustmentSharingCanvas"]},{type:"RemoteControl",methods:["startRemoteControl","stopRemoteControl","resendRemoteControlPositionPDU","updateRemoteControlProperties","ajustmentReceivedSharingCanvas","startRemoteControlQRCheck"]},{type:"LiveTranscription",methods:["selectLanguageChannelForNewLTT"]},{type:"RemoteCamera",methods:["movePTZCamera"]}].reduce(((e,n)=>{const{type:o,methods:i}=n;return[...e,...i.map((c=>({name:c,type:o})))]}),[]),iqe=NLe.map((e=>e.name)),aqe=(e,...n)=>{const o=NLe.find((i=>i.name===e));if(o){const{type:i}=o,c=n==null?void 0:n.map((d=>bQ(d)));PLe.makeLogger([i,`${i} Media SDK`]).info(`${e},params:${JSON.stringify(c)}`)}};function Rm(e){return new Proxy(e,{get:(n,o)=>typeof o=="string"&&iqe.includes(o)?function(...i){try{Reflect.apply(aqe,void 0,[o,...i])}catch{}return Reflect.apply(Reflect.get(n,o),n,i)}:Reflect.get(n,o)})}function lqe(e){return e&&new Proxy(e,{get:(n,o)=>typeof o=="string"&&o==="error"?function(...i){try{var c;PLe.report(i[0],["MEDIA SDK",...(c=i[1])!==null&&c!==void 0?c:[]],"error")}catch{}}:Reflect.get(n,o)})}const $pe=Qf.getInstance();function W_e(e,n){return e.toLowerCase().includes("url")&&n.startsWith("http")||e==="displayName"?`[${e.toUpperCase()}]`:n}function Dp(e,n){return function(o,i,c){const d=c.value;c.value=function(...p){let v="";if(e==="Video"){var S;const x=this[gc];v=`${x==null||(S=x.getState())===null||S===void 0||(S=S.meeting)===null||S===void 0?void 0:S.isUseWBVideo}`}if($pe.checkLaplace())try{var T;const x=$pe.makeLogger([e]),P=(T=n?p.map(((B,U)=>n.includes(U+1)?Zf(B):B)):p)===null||T===void 0?void 0:T.map((B=>bQ(B)));return x.info(`${i},params:${JSON.stringify(P,W_e)}`),d.apply(this,p).then((B=>(x.info(`${i} success`),B))).catch((B=>{const U=`${i},params:${JSON.stringify(P,W_e)},return failed,${v?`isUseWBVideo:${v},`:""}${(function(j){if(!j)return"";if(typeof j=="object"){let W="";return j.type&&(W+=`type:${j.type},`),j.errorCode&&(W+=`errorCode:${j.errorCode},`),j.reason&&(W+=`reason:${j.reason},`),j.subCode&&(W+=`subCode:${j.subCode},`),j.name&&(W+=`name:${j.name},`),j.message&&(W+=`message:${j.message},`),W}return`${j}`})(B)}`;return $pe.report(U,`${e} exception flow`,"error"),Promise.reject(B)}))}catch{}return d.apply(this,p)}}}function ste(e,n,o){return function(i,c,d){const p=d.value;d.value=function(...v){var S,T;const x=v[n];let P=e;return Array.isArray(P)||(P=[P]),!P.some((B=>Uee(x,B)))||o&&!o.every((B=>!!x[B]))?Promise.reject({type:nr,reason:`Expected to accept ${(S=P)===null||S===void 0?void 0:S.map((B=>B.name)).join(" or ")}, but actual it is ${typeof x=="object"&&x!==null?(T=Object.getPrototypeOf(x))===null||T===void 0?void 0:T.constructor.name:x}`,errorCode:lt.STREAM_MISMATCH_RENDER_ELEMENT}):p.apply(this,v)}}}let G_e=(function(e){return e[e.Unknown=0]="Unknown",e[e.Windows=1]="Windows",e[e.Mac=2]="Mac",e[e.Pad=3]="Pad",e[e.Mobile=4]="Mobile",e[e.CallIn=5]="CallIn",e[e.Linux=6]="Linux",e[e.WebClient=7]="WebClient",e[e.ChromeOs=8]="ChromeOs",e})({});const q_e=262144,Z_e=1048576,K_e=16777216,LLe=e=>!(4&~e),tX=e=>(e&Z_e)===Z_e,Xye=({share:{isReceiveSharing:e}})=>e,BLe=({share:{activeNodeId:e}})=>e,VLe=({share:{shareViewAttachments:e}})=>e,cqe=ec([Ba,Xye,BLe],((e=[],n,o)=>{if(n){const i=e.find((c=>c.userId===o&&c.sharerOn===!0));if(i){let{os:c}=i;const{pwaOS:d}=i;return d==="mac"?c=G_e.Mac:d==="win"&&(c=G_e.Windows),{...i,os:c}}}return null})),H_=ec([Ba],(e=>e.filter((n=>n.sharerOn)))),FLe=ec([H_],(e=>e.some((n=>!!n.bVideoShare)))),U2=ec([({share:{remoteControlledUserList:e}})=>e,Xye,BLe],((e,n,o)=>!!n&&e.some((i=>qf(i,o))))),Jye=ec([Xye,VLe],((e,n)=>e?Object.entries(n).reduce(((o,i)=>{const[,c]=i;return c&&c.length>0&&(o+=c.length),o}),0):0)),HLe=ec([Jye],(e=>e>1)),J2=ec([Jye,VLe],((e,n)=>e===1&&Object.entries(n).every((([,o])=>o.every((i=>i.isDummy))))));function $Le(e){return function(n,o,i){const c=i.value;i.value=async function(...d){const p=this[gc],v=p==null?void 0:p.getState();if(v!=null&&v.share){const{share:{isSimultaneousShareView:S,isReceiveSharing:T}}=v;if(T){if(S)return Promise.reject({type:dn,reason:`Cannot start ${e} due to multiple sharing views are currently in progress.`,errorCode:lt.SCREEN_SHARE_MISMATCH_STATE});if(HLe(v))return Promise.reject({type:dn,reason:`Cannot start ${e} due to multiple sharing views are currently in progress.`,errorCode:lt.SCREEN_SHARE_MISMATCH_STATE})}}return c.apply(this,d)}}}let Jc=(function(e){return e[e.NoAttendee=0]="NoAttendee",e[e.All=1]="All",e[e.AllPanelist=2]="AllPanelist",e[e.Host=3]="Host",e[e.NoOne=4]="NoOne",e[e.EveryonePublicly=5]="EveryonePublicly",e})({}),zk=(function(e){return e[e.AllPanelist=1]="AllPanelist",e[e.Everyone=2]="Everyone",e[e.Invalid=0]="Invalid",e})({}),Jl=(function(e){return e[e.All=0]="All",e[e.Panelist=1]="Panelist",e[e.IndividualCcPanelist=2]="IndividualCcPanelist",e[e.Individual=3]="Individual",e[e.SilentModeUsers=4]="SilentModeUsers",e})({}),ZQ=(function(e){return e[e.None=0]="None",e[e.Delete=1]="Delete",e[e.Modify=2]="Modify",e})({}),Upe=(function(e){return e[e.Success=0]="Success",e[e.Delete=1]="Delete",e[e.Block=3]="Block",e})({});const uqe=[Jc.All,Jc.Host,Jc.NoOne,Jc.EveryonePublicly],dqe=[Jc.NoOne,Jc.All,Jc.AllPanelist],KQ={AllPanelist:11,Everyone:12},hqe={[KQ.AllPanelist]:zk.AllPanelist,[KQ.Everyone]:zk.Everyone},U5={userId:Jl.All,displayName:"Everyone",isHost:!1,isCoHost:!1},KL={userId:Jl.Panelist,displayName:"All panelists"},fqe={userId:Jl.SilentModeUsers,displayName:"Everyone (in Waiting Room)",isHost:!1,isCoHost:!1};let pqe=(function(e){return e[e.Local=0]="Local",e[e.ThirdParty=1]="ThirdParty",e})({}),Tp=(function(e){return e[e.ChunkSize=20971520]="ChunkSize",e[e.EncodeBlockSize=32768]="EncodeBlockSize",e[e.DecodeBlockSize=32803]="DecodeBlockSize",e[e.MaxSize=2147483648]="MaxSize",e[e.ReaderChunkSize=1073741824]="ReaderChunkSize",e})({}),Ph=(function(e){return e[e.Init=0]="Init",e[e.InProgress=1]="InProgress",e[e.Success=2]="Success",e[e.Fail=3]="Fail",e[e.Cancel=4]="Cancel",e[e.Complete=5]="Complete",e})({}),N_=(function(e){return e[e.InProgress=1]="InProgress",e[e.Success=2]="Success",e[e.Fail=3]="Fail",e[e.Cancel=4]="Cancel",e})({});const mqe={"7z":"application/x-7z-compressed",avi:"video/x-msvideo",bin:"application/octet-stream",bmp:"image/bmp",css:"text/css",csv:"text/csv",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",gif:"image/gif",gz:"application/gzip",html:"text/html",ics:"text/calendar",jar:"application/java-archive",jpeg:"image/jpeg",jpg:"image/jpeg",js:"text/javascript",json:"application/json",mid:"audio/midi",mov:"video/*",mp3:"audio/mpeg",mp4:"video/mp4",mpeg:"video/*",mpg:"video/*",pdf:"application/pdf",png:"image/png",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",rar:"application/vnd.rar",rtf:"application/rtf",tar:"application/x-tar",tif:"image/tiff",tiff:"image/tiff",txt:"text/plain",wav:"audio/wav",webp:"image/webp",wma:"audio/*",wmv:"video/*",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xml:"application/xml",zip:"application/zip"};let yg=(function(e){return e.Open="open",e.Message="message",e.Error="error",e.Close="close",e.Inactive="inactive",e})({});var z2=(function(e){return e[e.SelectTranslationLanguage=1]="SelectTranslationLanguage",e[e.ShowTranscription=2]="ShowTranscription",e[e.OffTranslation=3]="OffTranslation",e[e.DisableCaption=4]="DisableCaption",e[e.LockTranscriptionLanguage=5]="LockTranscriptionLanguage",e[e.SelectTranscriptionLanguage=6]="SelectTranscriptionLanguage",e[e.SelectSimuliveLanguage=7]="SelectSimuliveLanguage",e})(z2||{});class ULe{constructor(){this.eventHandlers=void 0,this.websocket=void 0,this.seq=void 0,this.intervalsToBeCleardWhenSocketClose=[],this.isAlive=!1,this.isRlbTP=void 0,this.eventHandlers=new Map,this.websocket=null,this.seq=1,this.isRlbTP=!1}on(n,o){let i=this.eventHandlers.get(n);i||(i=[]),i.push(o),this.eventHandlers.set(n,i)}off(n,o){const i=this.eventHandlers.get(n);if(i){const c=i.filter((d=>d!==o));this.eventHandlers.set(n,c)}}emit(n,o){const i=this.eventHandlers.get(n);i&&i instanceof Array&&i.slice(0).forEach((c=>{try{c(o)}catch(d){console.error(d)}}))}sendMessageToRwg(n){this.seq+=1;const o=this.seq;return this.websocket&&this.websocket.readyState===WebSocket.OPEN&&this.websocket.send(JSON.stringify(Object.assign(n,{seq:o}))),o}connect(n,o){this.websocket=o?new window.ZoomTPModule.ZoomTPWebSocket(n):new WebSocket(n),this.websocket.binaryType="arraybuffer",this.isRlbTP=o,this.addWebSocketEventListeners()}close(){var n;(n=this.websocket)===null||n===void 0||n.close()}addHeartBeat(){const n=Yo.isAndroidOrIOSBrowser?15e3:2e4,o=setInterval((()=>{this.isAlive||this.emit(yg.Inactive,{}),this.sendMessageToRwg({evt:0}),this.isAlive=!1}),n);this.intervalsToBeCleardWhenSocketClose.push(o)}clearIntervals(){this.intervalsToBeCleardWhenSocketClose.forEach((n=>clearInterval(n))),this.isAlive=!1}addWebSocketEventListeners(){this.websocket&&(this.websocket.addEventListener("open",(n=>{this.isRlbTP||this.addHeartBeat(),this.emit(yg.Open,n)})),this.websocket.addEventListener("message",(n=>{this.isAlive=!0,this.emit(yg.Message,n)})),this.websocket.addEventListener("close",(n=>{this.clearIntervals(),this.emit(yg.Close,n)})),this.websocket.addEventListener("error",(n=>{this.clearIntervals(),this.emit(yg.Error,n)})))}sendLaunchParams(n){return{seq:this.sendMessageToRwg({evt:4301,body:n})}}joinMeeting(n){return{seq:this.sendMessageToRwg({evt:4097,body:{meetingtoken:n}})}}lockMeeting(n){return{seq:this.sendMessageToRwg({evt:4099,body:{bLock:n}})}}endMeeting(){return{seq:this.sendMessageToRwg({evt:4101,body:{}})}}leaveMeeting(n=!1){const o=n?4364:4103;return{seq:this.sendMessageToRwg({evt:o,body:{}})}}recordMeeting(n,o){return{seq:this.sendMessageToRwg({evt:4105,body:{bRecord:n,bPause:o}})}}localRecordingGrantPermission(n,o,i){return{seq:this.sendMessageToRwg({evt:JY,body:{cmdType:"permission_request_answer",userId:n,agreed:o,saveAgreed:i}})}}hostGrantPermission(n,o){return{seq:this.sendMessageToRwg({evt:JY,body:{cmdType:"grant_permission",userId:n,grant:o}})}}localRecordingRequestPermission(){return{seq:this.sendMessageToRwg({evt:JY,body:{cmdType:"request_permission"}})}}localRecordingMeeting(n){return{seq:this.sendMessageToRwg({evt:JY,body:{cmdType:"change_recording_status",status:n}})}}summaryMeeting(n){return{seq:this.sendMessageToRwg({evt:8009,body:{type:n?"start":"stop"}})}}startMeetingQuery(n){return{seq:this.sendMessageToRwg({evt:8017,body:{type:n?"start":"stop"}})}}allowSelfRecord(n){return{seq:this.sendMessageToRwg({evt:4325,body:{bAllowISORecord:n}})}}enableZoomIQRecord(n){return{seq:this.sendMessageToRwg({evt:4318,body:{check:n}})}}expel(n){return{seq:this.sendMessageToRwg({evt:4107,body:{id:n}})}}expelAttendee(n,o){return{seq:this.sendMessageToRwg({evt:4205,body:{jid:n,nodeID:o}})}}rename(n,o,i){return{seq:this.sendMessageToRwg({evt:4109,body:{id:n,dn2:o,olddn2:i}})}}assignHost(n,o){return{seq:this.sendMessageToRwg({evt:4111,body:{id:n,bCoHost:o}})}}reclaimHost(n,o=!1){return{seq:this.sendMessageToRwg({evt:4133,body:{id:n,bCoHost:o}})}}revokeCoHost(n){return{seq:this.sendMessageToRwg({evt:4195,body:{id:n}})}}putOnHold(n,o){return{seq:this.sendMessageToRwg({evt:4113,body:{id:n,bHold:o}})}}setMuteOnEntry(n){return{seq:this.sendMessageToRwg({evt:4115,body:{bOn:n}})}}setHoldOnEntry(n){return{seq:this.sendMessageToRwg({evt:4117,body:{bOn:n}})}}inviteCRCDevice(n,o,i=2){return{seq:this.sendMessageToRwg({evt:4119,body:{ip:n,type:o,encrypt:i}})}}cancelInviteCRCDevice(n){return{seq:this.sendMessageToRwg({evt:4121,body:{transID:n}})}}sendCloseCaption(n){return{seq:this.sendMessageToRwg({evt:4125,body:{...n}})}}allowViewParticipantNumber(n){return{seq:this.sendMessageToRwg({evt:4127,body:{bOn:n}})}}lowerAllHands(){return{seq:this.sendMessageToRwg({evt:4129,body:{}})}}raiseLowerHand(n,o){return{seq:this.sendMessageToRwg({evt:4131,body:{id:n,bOn:o}})}}chat(n,o,i,c,d,p){const v={text:n,destNodeID:o};return i&&Object.assign(v,{sn:i}),c&&Object.assign(v,{attendeeNodeID:c}),d&&Object.assign(v,{xmppMsgData:d}),p&&Object.assign(v,{msgID:p}),{seq:this.sendMessageToRwg({evt:4135,body:v})}}assignCC(n,o){return{seq:this.sendMessageToRwg({evt:4137,body:{id:n,bCCEditor:o}})}}enableLT(n){return{seq:this.sendMessageToRwg({evt:4227,body:{op:n?2:4}})}}enableNewLLT(){return{seq:this.sendMessageToRwg({evt:4285})}}disableCaptions(n){return{seq:this.sendMessageToRwg({evt:_L,body:{type:z2.DisableCaption,disableNewLtt:n}})}}enableManualCaption(n){return{seq:this.sendMessageToRwg({evt:4291,body:{op:n?1:0}})}}setTranslationLanguage(n){return n!==void 0?{seq:this.sendMessageToRwg({evt:_L,body:{type:z2.SelectTranslationLanguage,lang:n}})}:{seq:this.sendMessageToRwg({evt:_L,body:{type:z2.OffTranslation}})}}setTranscriptionLanguage(n,o){return{seq:this.sendMessageToRwg({evt:_L,body:{type:z2.SelectTranscriptionLanguage,lang:n,nodeid:o??0}})}}lockTranscriptionLanguage(n){return{seq:this.sendMessageToRwg({evt:_L,body:{type:z2.LockTranscriptionLanguage,lock:n}})}}setSimuliveLanguage(n){return{seq:this.sendMessageToRwg({evt:_L,body:{type:z2.SelectSimuliveLanguage,lang:n}})}}setSpokenLanguage(n){return{seq:this.sendMessageToRwg({evt:4287,body:{lang:n}})}}allowAskLT(n){return{seq:this.sendMessageToRwg({evt:4263,body:{bAnonymous:n}})}}approveLT(){return{seq:this.sendMessageToRwg({evt:4262,body:{bApproved:!0}})}}askLT(n){return{seq:this.sendMessageToRwg({evt:4261,body:{bAnonymous:n}})}}setChatPriviledge(n){return{seq:this.sendMessageToRwg({evt:4141,body:{chatPriviledge:n}})}}setPanelistChatPrivilege(n){if(!Object.values(KQ).includes(n))throw Error("Invalid panelist chat privilege req value");return{seq:this.sendMessageToRwg({evt:4141,body:{chatPriviledge:n}})}}sendFeedback(n){return{seq:this.sendMessageToRwg({evt:4143,body:{feedback:n}})}}clearFeedback(){return{seq:this.sendMessageToRwg({evt:4145,body:{}})}}allowUnmuteVideo(n){return{seq:this.sendMessageToRwg({evt:4147,body:{bOn:n}})}}allowUnmuteAudio(n){return{seq:this.sendMessageToRwg({evt:4149,body:{bOn:n}})}}allowRaiseHand(n){return{seq:this.sendMessageToRwg({evt:4151,body:{bOn:n}})}}boToken(n){return{seq:this.sendMessageToRwg({evt:4173,body:{topic:n}})}}startBO(n){return{seq:this.sendMessageToRwg({evt:4175,body:{proto:n}})}}stopBO(n){return{seq:this.sendMessageToRwg({evt:4177,body:{status:n}})}}assignToBO(n,o){return{seq:this.sendMessageToRwg({evt:4179,body:{targetID:n,targetBID:o}})}}switchBO(n,o){return{seq:this.sendMessageToRwg({evt:4181,body:{targetID:n,targetBID:o}})}}wantJoinBO(n,o){return{seq:this.sendMessageToRwg({evt:4183,body:{targetID:n,targetBID:o}})}}joinBO(n){return{seq:this.sendMessageToRwg({evt:4193,body:{targetBID:n}})}}leaveBO(n=1){return{seq:this.sendMessageToRwg({evt:4185,body:{reason:n}})}}broadcastBO(n){return{seq:this.sendMessageToRwg({evt:4187,body:{textContent:n}})}}askForHelpBO(n){return{seq:this.sendMessageToRwg({evt:4189,body:{targetID:n}})}}askForHelpResultBO(n,o){return{seq:this.sendMessageToRwg({evt:4191,body:{targetID:n,helpResult:o}})}}coHostStartBO(n,o){return{seq:this.sendMessageToRwg({evt:4241,body:{proto:n,targetID:o}})}}coHostStopBO(n,o){return{seq:this.sendMessageToRwg({evt:4243,body:{status:n,targetID:o}})}}coHostAssignToBO(n,o,i){return{seq:this.sendMessageToRwg({evt:4245,body:{userGUID:n,targetID:i,targetBID:o}})}}moveToMainSession(n){return{seq:this.sendMessageToRwg({evt:4247,body:{userGUID:n}})}}coHostMoveToMainSession(n,o){return{seq:this.sendMessageToRwg({evt:4249,body:{userGUID:n,targetID:o}})}}allowParticipantRename(n){return{seq:this.sendMessageToRwg({evt:4163,body:{bOn:n}})}}allowMessageFeedbackNotify(n,o){return{seq:this.sendMessageToRwg({evt:4171,body:{bOn:n,id:o}})}}setPlayChime(n,o){return{seq:this.sendMessageToRwg({evt:4197,body:{bOn:n,id:o}})}}admitAllSilentUsers(){return{seq:this.sendMessageToRwg({evt:4199,body:{}})}}bindTeleUser(n,o,i){return{seq:this.sendMessageToRwg({evt:4201,body:{teleUserID:n,targetUserID:o,bBind:i}})}}practiceSession(){return{seq:this.sendMessageToRwg({evt:4207,body:null})}}roleChangeWebinar(n,o,i,c){return{seq:this.sendMessageToRwg({evt:4209,body:{jid:o,userID:i,clientCap:c,bPromote:n}})}}sendPromoteConsent(n,o){return{seq:this.sendMessageToRwg({evt:4254,body:{agreed:n,req_id:o}})}}batchCreateBOToken(n){const o=n.map(((i,c)=>({topic:i,index:c})));return{seq:this.sendMessageToRwg({evt:4211,body:o})}}mute(n,o){return{seq:this.sendMessageToRwg({evt:8193,body:{bMute:o,id:n}})}}audioDrop(n){return{seq:this.sendMessageToRwg({evt:8195,body:{id:n}})}}audioDialout(n,o,i,c,d){return{seq:this.sendMessageToRwg({evt:8197,body:{pn:n,dn2:Su(o),bCallme:i,bPressOne:c,bGreeting:d}})}}audioCancelDialout(n,o){return{seq:this.sendMessageToRwg({evt:8199,body:{pn:n,bCallme:o}})}}audioMuteAll(n){return{seq:this.sendMessageToRwg({evt:8201,body:{bMute:n}})}}allowToTalk(n,o){return{seq:this.sendMessageToRwg({evt:8204,body:{id:n,bAllowTalk:o}})}}muteAttendeeVideo(n,o){return{seq:this.sendMessageToRwg({evt:12297,body:{id:n,bOn:o}})}}notifyRwgIsMuteVideo(n,o){return this.muteAttendeeVideo(n,o)}pauseSharing(){return{seq:this.sendMessageToRwg({evt:16385,body:{}})}}resumeSharing(){return{seq:this.sendMessageToRwg({evt:16387,body:{}})}}allowAnonymousQuestion(n,o){return{seq:this.sendMessageToRwg({evt:4155,body:{userId:n,bOn:o}})}}allowViewAll(n,o){return{seq:this.sendMessageToRwg({evt:4157,body:{userId:n,bOn:o}})}}allowVote(n,o){return{seq:this.sendMessageToRwg({evt:4159,body:{userId:n,bOn:o}})}}allowComment(n,o){return{seq:this.sendMessageToRwg({evt:4161,body:{userId:n,bOn:o}})}}sharingRequestRemoteControl(n,o){return{seq:this.sendMessageToRwg({evt:16389,body:{id:n,bOn:o}})}}subscribeGrabRemoteControl(n,o){return{seq:this.sendMessageToRwg({evt:16393,body:{id:n,bOn:o}})}}subscribeSharing(n,o,i,c,d){const p={id:n,size:o};return i&&Object.assign(p,{bShareToBO:!0}),c!==void 0&&Object.assign(p,{bVideoShare:c}),d!==void 0&&Object.assign(p,{bEnableViewMultiShareMode:d}),{seq:this.sendMessageToRwg({evt:16415,body:p})}}unsubscribeSharing(n,o,i){const c={id:n};return o&&Object.assign(c,{bShareToBO:!0}),i!==void 0&&Object.assign(c,{bEnableViewMultiShareMode:i}),{seq:this.sendMessageToRwg({evt:16417,body:c})}}sendRWGConnectionPerformance(n){return{seq:this.sendMessageToRwg({evt:4167,body:{data:n}})}}sendSdkKeyToMonitor(n,o,i){return{seq:this.sendMessageToRwg({evt:4167,body:{data:`ZoomConferenceClient,videoapp_HTML5_sdk_web_join,${i},2,${o},${n}`}})}}sendDatachannelOffer(n){return{seq:this.sendMessageToRwg({evt:24321,offer:n})}}joinOrLeaveVoip(n,o){return{seq:this.sendMessageToRwg({evt:8203,body:{bOn:n,mute:o}})}}startSharing(n,o){return{seq:this.sendMessageToRwg({evt:16409,body:{id:n,boOn:!1,...o??{}}})}}stopSharing(n){return{seq:this.sendMessageToRwg({evt:16409,body:{id:n,bOn:!0}})}}lockSharing(n){return{seq:this.sendMessageToRwg({evt:4169,body:{lockShare:n}})}}startShareToBreakoutRoom(n){return{seq:this.sendMessageToRwg({evt:16425,body:{id:n,bShareToBO:!0}})}}stopShareToBreakoutRoom(n){return{seq:this.sendMessageToRwg({evt:16425,body:{id:n,bShareToBO:!1}})}}preAssignBreakoutRoom(){return{seq:this.sendMessageToRwg({evt:4213,body:{}})}}claimHost(n){return{seq:this.sendMessageToRwg({evt:4215,body:{hostKey:n}})}}allowMultiplePin(n,o){return{seq:this.sendMessageToRwg({evt:4217,body:{userID:n,bOn:o}})}}spotlightVideo(n,o){return{seq:this.sendMessageToRwg({evt:4219,body:{id:n,...o}})}}connectCamera(n,o){const i={evt:12307,body:{id:n,bOn:o}};return{seq:this.sendMessageToRwg(i)}}followHostLayout(n){return{seq:this.sendMessageToRwg({evt:4223,body:{bFollowHostVideo:n}})}}setVideoDragLayout(n){return{seq:this.sendMessageToRwg({evt:4218,body:{drag_list:n}})}}chatCmdReq(n,o){return{seq:this.sendMessageToRwg({evt:4237,body:{msgID:n,cmd:o}})}}activeAppLinkReq(n){return{seq:this.sendMessageToRwg({evt:4257,body:{appId:n}})}}activeAppInfoReq(){return{seq:this.sendMessageToRwg({evt:4255,body:{}})}}muteShareAudio(n,o){const i={bOn:!0,bShareAudio:!n};return o&&Object.assign(i,{bShareAudioOnly:!0}),{seq:this.sendMessageToRwg({evt:16423,body:i})}}localMuteAudio(n,o){return{seq:this.sendMessageToRwg({evt:8209,body:{id:n,bMute:o}})}}changeSharePronoun(n,o){return{seq:this.sendMessageToRwg({evt:4264,body:{bPronoun:n,strPronoun:o}})}}sendReceivingSharingReady(n){return{seq:this.sendMessageToRwg({evt:16421,body:{ssrc:n}})}}sendManualCaption(n){return{seq:this.sendMessageToRwg({evt:4289,body:{...n}})}}sendPollingAction(n,o,i){return{seq:this.sendMessageToRwg({evt:4224,body:{action:n,PollingId:o,...i}})}}broadcastUserNetworkQuality(n){const o={type:n.isUplink,level:n.level,bwLevel:n.bwLevel};return{seq:this.sendMessageToRwg({evt:4331,body:o})}}sendFarEndCameraControl(n,o,i){return{seq:this.sendMessageToRwg({evt:4329,body:{cmd:n,userID:o,buttonID:i}})}}sendCameraAblity(n){return{seq:this.sendMessageToRwg({evt:4330,body:{...n,focus:!1}})}}sendReaction(n){return{seq:this.sendMessageToRwg({evt:4259,body:{...n}})}}remoteControlConsent(n,o,i,c,d=!1,p){const{deviceId:v,...S}=c,T=p!==void 0?{runAsAdmin:p}:{};return{seq:this.sendMessageToRwg({evt:16427,body:{DeviceID:v,op:n,SendUserID:i,AssignUserID:o,...S,bAutoDelete:d,...T}})}}takeBackRemoteControlPermission(n,o){return{seq:this.sendMessageToRwg({evt:16431,body:{SendUserID:n,ReceiverUserID:o}})}}syncSharedContentMetaWithRcApp(n){const{deviceId:o,...i}=n;return{seq:this.sendMessageToRwg({evt:16429,body:{DeviceID:o,...i}})}}startLiveStream(n,o,i){return{seq:this.sendMessageToRwg({evt:7977,body:{action:1,streamingURL:n,streamingKey:o,broadcastURL:i}})}}stopLiveStream(){return{seq:this.sendMessageToRwg({evt:7977,body:{action:0}})}}sendRemoteControlAuth(n){return{seq:this.sendMessageToRwg({evt:16433,body:{auth:n}})}}chatFileTransfer(n){return{seq:this.sendMessageToRwg({evt:4307,body:{...n,fileType:0,receiverType:0}})}}broadcastVoiceReq(n){return{seq:this.sendMessageToRwg({evt:4314,body:{broadcastVoice:n}})}}requestUserInfoToken(n,o){return{seq:this.sendMessageToRwg({evt:4309,body:{type:n,reqId:o}})}}toggleShareAnnotation(n,o){return{seq:this.sendMessageToRwg({evt:20241,body:{annotationOff:n?0:1,activeNodeId:o}})}}sendCommandMessage(n,o){return{seq:this.sendMessageToRwg({evt:4383,body:{recieverID:o,commandContent:n}})}}}class ea extends ULe{static createAgent(){return this.rwgInstance||(this.rwgInstance=new ea),this.rwgInstance}}ea.rwgInstance=null;class rte extends ULe{static getInstance(){return this.instance||(this.instance=new rte),this.instance}}rte.instance=null;class NS{constructor(n){this[gc]=void 0,this[Bc]=void 0,this[Ko]=void 0,this[KJ]=void 0,this[gc]=n,this[Bc]=n.dispatch,this[Ko]=n.getState}}let $_=(function(e){return e.Open="open",e.Message="message",e.Error="error",e.Close="close",e})({});class Jk{constructor(){this.eventHandlers=void 0,this.websocket=void 0,this.seq=void 0,this.eventHandlers=new Map,this.websocket=null,this.seq=1}static getInstance(){return this.xmppInstance||(this.xmppInstance=new Jk),this.xmppInstance}on(n,o){let i=this.eventHandlers.get(n);i||(i=[]),i.push(o),this.eventHandlers.set(n,i)}off(n,o){const i=this.eventHandlers.get(n);if(i){const c=i.filter((d=>d!==o));this.eventHandlers.set(n,c)}}emit(n,o){const i=this.eventHandlers.get(n);i&&i instanceof Array&&i.slice(0).forEach((c=>{try{c(o)}catch(d){console.error(d)}}))}sendMessageToRwg(n){this.seq+=1;const o=this.seq;return this.websocket&&this.websocket.readyState===WebSocket.OPEN&&this.websocket.send(JSON.stringify(Object.assign(n,{seq:o}))),o}connect(n,o){this.websocket=o?new window.ZoomTPModule.ZoomTPWebSocket(n):new WebSocket(n),this.websocket.binaryType="arraybuffer",this.addWebSocketEventListeners()}close(){var n;(n=this.websocket)===null||n===void 0||n.close()}addWebSocketEventListeners(){this.websocket&&(this.websocket.addEventListener("open",(n=>{this.emit($_.Open,n)})),this.websocket.addEventListener("message",(n=>{const{data:o}=n;var i;if(o instanceof ArrayBuffer)new Uint8Array(o)[0]===0&&((i=this.websocket)===null||i===void 0||i.send(o));else try{this.emit($_.Message,JSON.parse(o))}catch{console.warn("Unsupported format",o)}})),this.websocket.addEventListener("close",(n=>{this.emit($_.Close,n)})),this.websocket.addEventListener("error",(n=>{this.emit($_.Error,n)})))}join(n){return{seq:this.sendMessageToRwg({evt:24576,body:{clientCap:n}})}}raiseHand(){return{seq:this.sendMessageToRwg({evt:24580,body:null})}}lowerHand(n){return{seq:this.sendMessageToRwg({evt:24578,jids:n||[]})}}sendWebinarMseeage(n,o,i,c=!1){const d={msg:n,jid:o?[o]:[],type:i,bcm:c};return{seq:this.sendMessageToRwg({evt:24582,body:d})}}sendAnswer(n,o,i){return{seq:this.sendMessageToRwg({evt:24584,body:{question_attendeejid:o.jid,question_attendeename:o.displayName,question_text:o.questionText,question_id:o.questionId,question_anonymous:o.isAnonymous,question_time:o.questionTime,text:n,isPrivate:i}})}}answerOnline(n,o){return{seq:this.sendMessageToRwg({evt:24586,body:{question_attendeejid:n.jid,question_attendeename:n.displayName,question_text:n.questionText,question_id:n.questionId,question_anonymous:n.isAnonymous,question_time:n.questionTime,isLiveStart:o}})}}dismissQuestion(n){return{seq:this.sendMessageToRwg({evt:24590,body:{question_attendeejid:n.jid,question_attendeename:n.displayName,question_text:n.questionText,question_id:n.questionId,question_anonymous:n.isAnonymous,question_time:n.questionTime,bOpen:!1}})}}deleteQuestion(n){return{seq:this.sendMessageToRwg({evt:24614,body:{question_id:n,bDelete:!0}})}}deleteComment(n){return{seq:this.sendMessageToRwg({body:{comment_id:n,bDelete:!0},evt:24616})}}reopenQuestion(n){return{seq:this.sendMessageToRwg({body:{question_attendeejid:n.jid,question_attendeename:n.displayName,question_text:n.questionText,question_id:n.questionId,question_anonymous:n.isAnonymous,question_time:n.questionTime,bOpen:!0},evt:24590})}}askQuestion(n,o,i=!1,c){const d=vQ();return{seq:this.sendMessageToRwg({body:{id:d,text:n,isAnonymous:i,bAllowAttendeeViewAllQuestion:c,name:o},evt:24592}),questionId:d}}upOrDownVote(n,o){return{seq:this.sendMessageToRwg({body:{question_attendeejid:n.jid,question_attendeename:n.displayName,question_text:n.questionText,question_id:n.questionId,question_anonymous:n.isAnonymous,question_time:n.questionTime,bUpVote:o},evt:24598})}}rename(n,o){return{seq:this.sendMessageToRwg({body:{jid:n,displayName:o},evt:24600})}}setSkinTome(n){return{seq:this.sendMessageToRwg({body:{skinTone:n},evt:24618})}}}function _z(e){return CO(xo(((n,o)=>e(n,o))),En((n=>n!=null)))}function zLe(e){return CO(rn(((n,o)=>e(n,o)||Oo)))}function Y_(e){return CO(rn(((n,o)=>e(n,o))),rn((n=>Array.isArray(n)?eo(n):Ua(n))))}Jk.xmppInstance=null;const gqe={period:500,rules:[{peak:50,throttle:300},{peak:60,throttle:400}]},zpe={[`${jl}`]:()=>({payloads:{add:[],update:[],remove:[]},onThrottle(e){e.add&&this.payloads.add.push(...e.add),e.update&&this.payloads.update.push(...e.update),e.remove&&this.payloads.remove.push(...e.remove)}})};function jLe(e=gqe){return n=>new Cu((o=>{const i=new Map;let c=0,d=null;const{period:p,rules:v}=e;let S=null;d||(d=((P,B)=>{const U=performance.now();let j=0,W=!1;return setTimeout((function Z(){j+=B,P();const re=performance.now()-U-j,le=setTimeout(Z,Math.max(B-re,0));W&&clearTimeout(le)}),B),()=>{W=!0}})((()=>{c=0}),p));const T=Object.keys(zpe),x=n.subscribe({next(P){if(P&&P.evt&&d!==null){c+=1;const{evt:B,body:U}=P,j=String(B);if(T.indexOf(j)>=0)if(S){const W=i.get(j);if(W)W.onThrottle(U);else{const Z=zpe[j]();Z.onThrottle(U),i.set(j,Z)}}else{let W=0;if(v.forEach((Z=>{c>Z.peak&&(W=Z.throttle)})),W>0){const Z=zpe[j]();Z.onThrottle(U),i.set(j,Z),S=setTimeout((()=>{i.forEach(((re,le)=>{const ie={evt:Number(le),body:re.payloads};o.next(ie)})),i.clear(),S=null}),W)}else o.next(P)}else o.next(P)}else o.next(P)},error(P){o.error(P)},complete(){o.complete()}});return()=>{x.unsubscribe(),d&&(d(),d=null),c=0}}))}let La=(function(e){return e.Closed="closed",e.Connecting="connecting",e.Connected="connected",e})({});function kh(e){return 1<<e-1}let wb=(function(e){return e[e.SupportASL=kh(1)]="SupportASL",e[e.SidecarPhase2=kh(2)]="SidecarPhase2",e[e.SupportBroadcastVoice=kh(4)]="SupportBroadcastVoice",e[e.SendMeetingTokenSeparately=kh(5)]="SendMeetingTokenSeparately",e[e.SupportPreview=kh(6)]="SupportPreview",e[e.WebCameraIndication=kh(7)]="WebCameraIndication",e[e.SupportFarEndCameraControl=kh(9)]="SupportFarEndCameraControl",e[e.SupportVideoShare=kh(10)]="SupportVideoShare",e[e.UnifyErrorType=kh(11)]="UnifyErrorType",e[e.WhiteBoard=kh(12)]="WhiteBoard",e[e.RequestRemoteControl=kh(14)]="RequestRemoteControl",e[e.SmartSummary=kh(15)]="SmartSummary",e[e.LocalRecording=kh(16)]="LocalRecording",e[e.LocalRecordingGrantPermission=kh(17)]="LocalRecordingGrantPermission",e[e.ShareMultiStream=kh(18)]="ShareMultiStream",e[e.VideoLTR=kh(19)]="VideoLTR",e[e.WebrtcAudioRtcpTime=kh(20)]="WebrtcAudioRtcpTime",e[e.SupportSend1080PVideo=kh(29)]="SupportSend1080PVideo",e[e.SupportSend1080PVideoShare=kh(30)]="SupportSend1080PVideoShare",e})({}),Y_e=(function(e){return e[e.SupportPresenterAnnotation=kh(5)]="SupportPresenterAnnotation",e[e.SupportMMRCommandChannel=kh(11)]="SupportMMRCommandChannel",e})({});const{setAsnIds:WLe,setIsCanUnmute:GLe,setDialoutSequence:qLe,setDialoutResultCode:ZLe,setIsAllowToTalk:Uve,setAudioSsrc:KLe,setIsMutedUponEntry:YLe,setIsUserGrantCaptureAudio:XLe,setIsMicrophoneForbidden:Qye,setWebrtcRestartCount:jk,setMicrophoneList:JLe,setSpeakerList:QLe,setActiveMicrophone:W6,setActiveSpeaker:ite,setCanPlayAudio:X3,resetAudio:e3e,setIsComputerAudioLoading:j2,setIsAllowToTalkAttendeeConnected:zve,setIsMuteBeforeSharingAudio:X_,addLocalShareAudioUser:t3e,updateLocalShareAudioUser:n3e,setIsJoinComputerAudioBeforeSharingAudio:J3,setIsShareAudioEnabled:ate,setIsShareAudioMuted:YQ,setIsSharingAudio:Q3,setAudioDataEncoding:XQ,setAudioDataDecoding:JQ,addLocallyMutedAudio:o3e,removeLocallyMutedAudio:QQ,updateUserAudioVolumeLocally:s3e,removeLocalUserAudioVolume:r3e,setCustomizedAudioOption:e1e,setIsBackgroundNoiseSuppression:jve,setIsHidEnabled:i3e,setAudioMediaPlaybackFile:Wve,setIsStopAllIncomingAudio:Gve,setIsVerifiedAudioPermissionOnIosMobile:a3e,setIsAudioBridgeSignalReconnecting:t1e,setAudioMutedSource:SS,setAudioUnmutedSource:G6,setAudioOriginalSound:qve,setLeaveAudioSource:J_,setSecondaryAudioMicrophoneId:eee,setCrcCallOutSequence:l3e,setCrcCallOutReturnCode:c3e,setWebRtcAudioCapable:u3e}=ch("SET_ASN_IDS","SET_IS_CAN_UNMUTE","SET_DIALOUT_SEQUENCE","SET_DIALOUT_RESULT_CODE","SET_IS_ALLOW_TO_TALK","SET_AUDIO_SSRC","SET_IS_MUTED_UPON_ENTRY","SET_IS_USER_GRANT_CAPTURE_AUDIO","SET_IS_MICROPHONE_FORBIDDEN","SET_WEBRTC_RESTART_COUNT","SET_MICROPHONE_LIST","SET_SPEAKER_LIST","SET_ACTIVE_MICROPHONE","SET_ACTIVE_SPEAKER","SET_CAN_PLAY_AUDIO","RESET_AUDIO","SET_IS_COMPUTER_AUDIO_LOADING","SET_IS_ALLOW_TO_TALK_ATTENDEE_CONNECTED","SET_IS_MUTE_BEFORE_SHARING_AUDIO","SET_IS_SHARING_AUDIO","ADD_LOCAL_SHARE_AUDIO_USER","UPDATE_LOCAL_SHARE_AUDIO_USER","SET_IS_JOIN_COMPUTER_AUDIO_BEFORE_SHARING_AUDIO","SET_IS_SHARE_AUDIO_ENABLED","SET_IS_SHARE_AUDIO_MUTED","SET_AUDIO_DATA_ENCODING","SET_AUDIO_DATA_DECODING","ADD_LOCALLY_MUTED_AUDIO","REMOVE_LOCALLY_MUTED_AUDIO","UPDATE_USER_AUDIO_VOLUME_LOCALLY","REMOVE_LOCAL_USER_AUDIO_VOLUME","SET_CUSTOMIZED_AUDIO_OPTION","SET_IS_BACKGROUND_NOISE_SUPPRESSION","SET_IS_HID_ENABLED","SET_AUDIO_MEDIA_PLAYBACK_FILE","SET_IS_STOP_ALL_INCOMING_AUDIO","SET_IS_VERIFIED_AUDIO_PERMISSION_ON_IOS_MOBILE","SET_IS_AUDIO_BRIDGE_SIGNAL_RECONNECTING","SET_AUDIO_MUTED_SOURCE","SET_AUDIO_UNMUTED_SOURCE","SET_AUDIO_ORIGINAL_SOUND","SET_LEAVE_AUDIO_SOURCE","SET_SECONDARY_AUDIO_MICROPHONE_ID","SET_CRC_CALL_OUT_SEQUENCE","SET_CRC_CALL_OUT_RETURN_CODE","SET_WEB_RTC_AUDIO_CAPABLE");function Zve(e){const{audio:{isBackgroundNoiseSuppression:n,originalSound:o,highBitrate:i}}=e,c={currentSelect:AEe.Denoise},d={highfidelity:!1,stereo:!1};if(o){Object.assign(c,{currentSelect:AEe.OriginalSound});const p={};typeof o=="boolean"?Object.assign(p,d):Object.assign(p,{highfidelity:!!o.hifi,stereo:!!o.stereo}),Object.assign(c,{originalSound:p})}return Object.assign(c,{backgroundNoiseSuppression:n?_Ee.Zoom:_Ee.Browser,highBitrate:i}),c}function q6(e,n,o,i){const{meeting:{userId:c}}=i;return vPe(n,o,i,e),n===c?YQ(o):n3e({userId:n,muted:o})}async function v3(e,n,o){var i,c;const{audio:{audioSsrc:d,activeMicrophone:p,activeSpeaker:v,isAllowToTalk:S,customizeAudioOption:{speakerOnly:T,mute:x,microphoneId:P,speakerId:B},isUsingMediaPlayback:U,mediaPlaybackFile:j,isHIDEnabled:W,microphoneDevicesList:Z,isVerifiedAudioPermissionOnIOSMobile:re,speakerDevicesList:le,isWebRtcAudioCapable:ie},meeting:{userId:be}}=n,Ce=gs(n),Ae=!!T||hf(Ce.userRole)&&!S,F=o??!Ae;let Ie=p,tt=v;if(P!==void 0||B!==void 0){let Xe=Z,Ve=le;if(Z.length===0){const{microphones:Re,speakers:vt}=await vc($k());Xe=Re,Ve=vt}P&&Xe.findIndex((Re=>Re.deviceId===P))>-1&&(Ie=P),B&&Ve.findIndex((Re=>Re.deviceId===B))>-1&&(tt=B)}if(U&&j!=null&&j.url){const Xe=vg.getInstance();await Xe.setAudioElement(j),Ie=Xe.audioElement,j.playback!==void 0&&(e.enablePlayAudioFileLocally(!!j.playback),Ie.dataset.playback=j.playback?"1":"0")}else vg.getInstance().stopAudioElement();return Ae&&!re&&Yo.isIOSMobile&&await(async function(){await navigator.mediaDevices.getUserMedia({audio:!0})})(),(i=e.joinComputerAudio(d,Ie,tt,F,Zve(n),ie,W?{microphoneLabel:(c=Z.find((Xe=>Xe.deviceId===p)))===null||c===void 0?void 0:c.label,defaultMuted:!(Ce==null||!Ce.muted)}:void 0))===null||i===void 0?void 0:i.then((()=>{x&&ea.createAgent().mute(be,!0)}))}async function n1e(e,n){const o=[],{audio:{isJoinComputerAudioBeforeSharingAudio:i,mutedBeforeSharingAudio:c}}=n,d=gs(n);return i===!0&&(o.push(J3(void 0)),c===!1&&(o.push(G6(i3.SharingAudio)),e.mute(d.userId,!1)),o.push(X_(void 0))),o}async function X_e(e,n,o){const{audio:{isSharingAudio:i},meeting:{userId:c}}=o,d=[];if(d.push(q6(e,c,!0,o)),i){await e.leaveSharingAudio(!1),d.push(Q3(!1));const p=await n1e(n,o);d.push(...p),setTimeout((()=>{it(B3,{state:"off"})}),0)}return d.push(ate(!1)),d}async function Kve(e,n,o){const{audio:{audioSsrc:i,activeMicrophone:c,activeSpeaker:d,isWebRtcAudioCapable:p},meeting:{mediaFeatureOptions:v}}=o,S=gs(o),T=[];if(!Ns.isSupportOpenMicWhenShareAudio(v||"")){const x=await(async function(P,B){const U=[],j=gs(B),{audio:{isMicrophoneForbidden:W}}=B;return(j==null?void 0:j.audio)===Ji.Computer&&(U.push(J3(!0)),U.push(X_(j.muted)),j.muted||P.muteAudio(),U.push(jk(0)),W&&U.push(Qye(!1))),U})(e,o);T.push(...x)}return await e.leaveSharingAudio(!0),await e.joinSharingAudio({ssrc:i,microphoneDeviceId:c,speakerDeviceId:d,isCaptureAudio:hf(S.userRole),audioBridge:p}),T.push(ate(!0)),T.push(Q3(!0)),T.push(q6(e,S.userId,!1,o)),T.findIndex((x=>x.type===`${J3}`&&x.payload===!0))>-1&&(T.push(SS(Uy.SharingAudio)),n.mute(o.meeting.userId,!0)),setTimeout((()=>{it(B3,{state:"on"})}),0),T}const Z6=()=>{if(Jke())return!0;{var e;let{browser:o}=Yo;if(o=(e=o)===null||e===void 0?void 0:e.toLocaleLowerCase(),o.indexOf("safari")>-1&&o.indexOf("ios-safari")===-1){var n;const i=(n=navigator.userAgent.match(/version\/(\d+\.?\d+)/i))===null||n===void 0?void 0:n[1];return gQ(i||"","15.2")>=0&&gQ(i||"","17.1")<0}return!1}};function J_e(e,n,o){for(let i=0;i<o.length&&n.length!==0;i++){const{userId:c,displayName:d}=o[i];if(n.includes(c)){const p=e.find((v=>v.userId===c));p&&(p.displayName=d,n.splice(n.indexOf(c),1))}}}function Q_e(e,n){return Ns.isSupportAudioDenoise(e,n)}function eAe(){return Ns.isSupportStereoAudio()}function tAe(){var e;return typeof((e=window.navigator.hid)===null||e===void 0?void 0:e.requestDevice)=="function"}function Yve(e,n,o){const{audio:{isAllowToTalk:i,customizeAudioOption:c},media:{audioDecodeStatus:d,audioEncodeStatus:p}}=e;return{encodeInitStatus:hf(n.userRole)&&!i||o||c!=null&&c.speakerOnly?"success":p,decodeInitStatus:d}}function d3e(e){const{audio:{bMutedUponEntry:n,isUserGrantCaptureAudio:o,isAllowToTalk:i}}=e,c=gs(e);return!(o||c!=null&&c.isHost||i)&&n}function Xve(e,n){const{audio:{customizeAudioOption:o}}=n,i=!(o==null||!o.mute)||d3e(n);e.joinOrLeaveVoip(!0,i)}function nAe(){return Np(xa(GL.JoinComputerAudio.success,1),Id(...GL.JoinComputerAudio.fail.map((e=>xa(e,1).pipe(rn((n=>{const{errorCode:o,...i}=n??{},c={...i};return o!==void 0&&Object.assign(c,{subCode:o}),EO({type:Pp,reason:e,errorCode:lt.AUDIO_CAPTURE_FAILED,...c})})))))),_u(45e3).pipe(rn((()=>EO({type:Wee,errorCode:lt.OPERATION_TIMEOUT})))))}const uS=ea.createAgent(),zf=Xee(Rm(Ns.getInstance())),oAe=e=>!e.muted,h3e=Ql("SCREENSHOT_SHARING_NOTIFICATION"),{setSharePrivilege:o1e,setShareActiveNode:b3,setIsReceiveSharing:cO,setIsScreenShareForbidden:sAe,setShareDimension:s1e,setShareStatus:Sg,setShareSsrc:f3e,setShareQuality:r1e,setReceivedShareDimension:tee,setIsGrabRemoteControl:eJ,setIsSdkGrabControl:Jve,setIsReceiveSharingFromMainSession:p3e,setIsSharingToBreakoutRoom:z5,setIsSharingWithSecondCamera:m3e,setShringSecondCameraId:g3e,setIsRequireReadReceipt:v3e,setIsOptimizedForSharedVideo:nee,setShareDataEncoding:Qve,setShareDataDecoding:K6,addShareCapturedEnsuredCanvas:b3e,addShareRenderedEnsuredCanvas:y3e,setRemoteControlCurrentSsrc:NXe,setRemoteControllingSsrc:f6,setApprovedRemoteControlSsrc:y3,setRemoteControlAppDownloadUrl:S3e,setRemoteControlAppInstallStatus:Q2,remoteControlAppStatusFallbackCheck:rAe,remoteControlAppLaunchedCheck:jpe,setIsEnableAutoDeleteRcApp:LXe,setRemoteControlAppLaunchSheme:gE,addRemoteControlledUser:C3e,removeRemoteControlledUser:ebe,setRemoteControlSetting:i1e,setRemoteControlViewportDomSelector:a1e,setAnnotationCapability:E3e,setIsAnnotationInitialized:vqe,setIsAnnotationStarted:bqe,setAnnotationUser:_S,setAnnotationToolColor:w3e,setAnnotationSpotlightColor:_3e,setAnnotationToolWidth:A3e,setAnnotationToolType:S3,setIsSimultaneousShareView:tbe,addShareViewAttachment:oee,removeShareViewAttachment:p6,setAnnotationVanishingToolTimer:T3e,resetShare:x3e}=ch("SET_SHARE_PRIVILEGE","SET_SHARE_ACTIVE_NODE","SET_IS_RECEIVE_SHARING","SET_IS_SCREEN_SHARE_FORBIDDEN","SET_SHARE_DIMENSION","SET_SHARE_STATUS","SET_SHARE_SSRC","SET_SHARE_QUALITY","SET_RECEIVED_SHARE_DIMENSION","SET_IS_GRAB_REMOTE_CONTROL","SET_IS_SDK_GRAB_CONTROL","SET_IS_RECEIVE_SHARING_FROM_MAIN_SESSION","SET_IS_SHARING_TO_BREAKOUT_ROOM","SET_IS_SHARING_WITH_SECOND_CAMERA","SET_SHRING_SECOND_CAMERA_ID","SET_IS_REQUIRE_READ_RECEIPT","SET_IS_OPTIMIZED_FOR_SHARED_VIDEO","SET_SHARE_DATA_ENCODING","SET_SHARE_DATA_DECODING","ADD_SHARE_CAPTURED_ENSURED_CANVAS","ADD_SHARE_RENDERED_ENSURED_CANVAS","SET_REMOTE_CONTROL_CURRENT_SSRC","SET_REMOTE_CONTROLLING_SSRC","SET_APPROVED_REMOTE_CONTROL_SSRC","SET_REMOTE_CONTROL_APP_DOWNLOAD_URL","SET_REMOTE_CONTROL_APP_INSTALL_STATUS","REMOTE_CONTROL_APP_STATUS_FALLBACK_CHECK","REMOTE_CONTROL_APP_LAUNCHED_CHECK","SET_IS_ENABLE_AUTO_DELETE_RC_APP","SET_REMOTE_CONTROL_APP_LAUNCH_SHEME","ADD_REMOTE_CONTROLLED_USER","REMOVE_REMOTE_CONTROLLED_USER","SET_REMOTE_CONTROL_SETTING","SET_REMOTE_CONTROL_VIEWPORT_DOM_SELECTOR","SET_ANNOTATION_CAPABILITY","SET_IS_ANNOTATION_INITIALIZED","SET_IS_ANNOTATION_STARTED","SET_ANNOTATION_USER","SET_ANNOTATION_TOOL_COLOR","SET_ANNOTATION_SPOTLIGHT_COLOR","SET_ANNOTATION_TOOL_WIDTH","SET_ANNOTATION_TOOL_TYPE","SET_IS_SIMULTANEOUS_SHARE_VIEW","ADD_SHARE_VIEW_ATTACHMENT","REMOVE_SHARE_VIEW_ATTACHMENT","SET_ANNOTATION_VANISHING_TOOL_TIMER","RESET_SHARE"),OL=ea.createAgent(),O2=Xee(Rm(Ns.getInstance())),Wpe=ea.createAgent(),IL=Xee(Rm(Ns.getInstance())),iAe=[_v.Canceled,_v.CancelFailed],nX={asnIds:{asn1:{userId:0,displayName:null},asn2:{userId:0,displayName:null},asn3:{userId:0,displayName:null}},microphoneDevicesList:[],speakerDevicesList:[],activeMicrophone:"default",activeSpeaker:"default",isMicrophoneForbidden:!1,audioSsrc:0,bCanUnmute:!1,bMutedUponEntry:!1,isAllowToTalk:void 0,dialout:[],crcDevice:[],canPlayAudio:!1,mutedSource:void 0,unmutedSource:void 0,isUserGrantCaptureAudio:!1,webrtcRestartCount:0,isComputerAudioLoading:!1,isUsingMediaPlayback:!1,customizeAudioOption:{},localShareAudioUserMutedList:[],locallyMutedAudioList:[],localUserAudioVolumeList:[],isStopAllImcomingAudio:!1,isWebRtcAudioCapable:!1,webRtcAudioMode:0,statistic:{encode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,bandwidth:0,bitrate:0},decode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,bandwidth:0,bitrate:0}}},yqe=Im({[`${WLe}`]:ht(((e,{payload:n})=>{e.asnIds={...n}})),[`${GLe}`]:ht(((e,{payload:n})=>{e.bCanUnmute=n})),[`${qLe}`]:ht(((e,{payload:n})=>{const{sequence:o,phoneNumber:i}=n;e.dialout.findIndex((c=>c.sequence===o))===-1&&e.dialout.push({sequence:o,phoneNumber:i,returnCode:-1,uuid:zQ()})})),[`${ZLe}`]:ht(((e,{payload:n})=>{const{sequence:o,code:i,nodeId:c}=n,d=e.dialout.find((p=>p.sequence===o));d&&(d.returnCode=i,c&&(d.phoneNodeId=c))})),[`${Uve}`]:ht(((e,{payload:n})=>{e.isAllowToTalk=n,e.isAllowToTalkAttendeeConnected=!1})),[`${SS}`]:ht(((e,{payload:n})=>{e.mutedSource=n})),[`${G6}`]:ht(((e,{payload:n})=>{e.unmutedSource=n})),[`${KLe}`]:ht(((e,{payload:n})=>{e.audioSsrc=n})),[`${YLe}`]:ht(((e,{payload:n})=>{e.bMutedUponEntry=n})),[`${XLe}`]:ht(((e,{payload:n})=>{e.isUserGrantCaptureAudio=n})),[`${Qye}`]:ht(((e,{payload:n})=>{e.isMicrophoneForbidden=n})),[`${jk}`]:ht(((e,{payload:n})=>{e.webrtcRestartCount=n})),[`${JLe}`]:ht(((e,{payload:n})=>{e.microphoneDevicesList=n})),[`${QLe}`]:ht(((e,{payload:n})=>{e.speakerDevicesList=n})),[`${W6}`]:ht(((e,{payload:n})=>{e.activeMicrophone=n})),[`${ite}`]:ht(((e,{payload:n})=>{e.activeSpeaker=n})),[`${X3}`]:ht(((e,{payload:n})=>{e.canPlayAudio=n})),[`${j2}`]:ht(((e,{payload:n})=>{e.isComputerAudioLoading=n})),[`${e1e}`]:ht(((e,{payload:n})=>{if(n){const{speakerOnly:o,mute:i,backgroundNoiseSuppression:c,originalSound:d,syncButtonsOnHeadset:p,mediaFile:v,microphoneId:S,speakerId:T,highBitrate:x}=n;e.customizeAudioOption.speakerOnly=o,e.customizeAudioOption.mute=i,e.customizeAudioOption.microphoneId=S,e.customizeAudioOption.speakerId=T,e.isBackgroundNoiseSuppression=!!c,e.isHIDEnabled=!!p,e.originalSound=d,e.highBitrate=!!x,Ez(e.mediaPlaybackFile,v)||(e.mediaPlaybackFile=v,e.isUsingMediaPlayback=!(v==null||!v.url)),i&&(e.mutedSource=Uy.Inherited)}})),[`${zve}`]:ht(((e,{payload:n})=>{e.isAllowToTalkAttendeeConnected=n})),[`${X_}`]:ht(((e,{payload:n})=>{e.mutedBeforeSharingAudio=n})),[`${Q3}`]:ht(((e,{payload:n})=>{e.isSharingAudio=n})),[`${YQ}`]:ht(((e,{payload:n})=>{e.isShareAudioMuted=n})),[`${t3e}`]:ht(((e,{payload:n})=>{const{userId:o,isFromMainSession:i}=n;e.localShareAudioUserMutedList.findIndex((c=>c.userId===o))===-1&&e.localShareAudioUserMutedList.push({userId:o,isFromMainSession:i,muted:!1})})),[`${n3e}`]:ht(((e,{payload:n})=>{const o=e.localShareAudioUserMutedList.find((i=>i.userId===n.userId));o&&(o.muted=n.muted)})),[`${J3}`]:ht(((e,{payload:n})=>{e.isJoinComputerAudioBeforeSharingAudio=n})),[`${ate}`]:ht(((e,{payload:n})=>{e.isShareAudioEnabled=n})),[`${XQ}`]:ht(((e,{payload:n})=>{const{data:{encoding:o,rate:i,...c}}=n;e.statistic.encode={bitrate:i,...c}})),[`${JQ}`]:ht(((e,{payload:n})=>{const{data:{encoding:o,rate:i,...c}}=n;e.statistic.decode={bitrate:i,...c}})),[`${o3e}`]:ht(((e,{payload:n})=>{e.locallyMutedAudioList.findIndex((o=>o===n))===-1&&e.locallyMutedAudioList.push(n)})),[`${QQ}`]:ht(((e,{payload:n})=>{const o=e.locallyMutedAudioList.findIndex((i=>i===n));o!==-1&&e.locallyMutedAudioList.splice(o,1)})),[`${s3e}`]:ht(((e,{payload:n})=>{const o=e.localUserAudioVolumeList.find((i=>i.userId===n.userId));if(o?o.volume=n.volume:e.localUserAudioVolumeList.push(n),n.volume>0){const i=e.locallyMutedAudioList.findIndex((c=>c===n.userId));i!==-1&&e.locallyMutedAudioList.splice(i,1)}})),[`${r3e}`]:ht(((e,{payload:n})=>{const o=e.localUserAudioVolumeList.findIndex((i=>i.userId===n.userId));o!==-1&&e.localUserAudioVolumeList.splice(o,1)})),[`${jve}`]:ht(((e,{payload:n})=>{e.isBackgroundNoiseSuppression=n})),[`${i3e}`]:ht(((e,{payload:n})=>{e.isHIDEnabled=n})),[`${Wve}`]:ht(((e,{payload:n})=>{e.mediaPlaybackFile=n,e.isUsingMediaPlayback=!(n==null||!n.url)})),[`${Gve}`]:ht(((e,{payload:n})=>{e.isStopAllImcomingAudio=n})),[`${a3e}`]:ht(((e,{payload:n})=>{e.isVerifiedAudioPermissionOnIOSMobile=n})),[`${t1e}`]:ht(((e,{payload:n})=>{e.isAudioBridgeSignalReconnecting=n})),[`${qve}`]:ht(((e,{payload:n})=>{e.originalSound=n})),[`${J_}`]:ht(((e,{payload:n})=>{e.leaveAudioSource=n,e.unmutedSource=i3.Inherited})),[`${eee}`]:ht(((e,{payload:n})=>{e.secondaryAudioMicrophoneId=n})),[`${l3e}`]:ht(((e,{payload:n})=>{const{sequence:o,ip:i,protocol:c}=n;e.crcDevice.findIndex((d=>d.sequence===o))===-1&&e.crcDevice.push({sequence:o,ip:i,protocol:c,transId:0,uuid:zQ()})})),[`${c3e}`]:ht(((e,{payload:n})=>{const{sequence:o,transID:i,result:c}=n,d=e.crcDevice.find((p=>p.sequence===o));d&&Object.assign(d,{transId:i,returnCode:c})})),[`${u3e}`]:ht(((e,{payload:n})=>{const{isWebRtcAudioCapable:o,webRtcAudioMode:i}=n;e.isWebRtcAudioCapable=o,e.webRtcAudioMode=i})),[`${e3e}`]:({dialout:e,crcDevice:n,locallyMutedAudioList:o,localUserAudioVolumeList:i,customizeAudioOption:c,originalSound:d,highBitrate:p,isHIDEnabled:v,isBackgroundNoiseSuppression:S,isStopAllImcomingAudio:T,mediaPlaybackFile:x,isUsingMediaPlayback:P,isVerifiedAudioPermissionOnIOSMobile:B,activeSpeaker:U,activeMicrophone:j},{payload:W})=>W?{...nX,dialout:e,crcDevice:n,locallyMutedAudioList:o,localUserAudioVolumeList:i,customizeAudioOption:{...nX.customizeAudioOption,speakerOnly:c.speakerOnly},originalSound:d,highBitrate:p,isHIDEnabled:v,isBackgroundNoiseSuppression:S,isStopAllImcomingAudio:T,mediaPlaybackFile:x,isUsingMediaPlayback:P,isVerifiedAudioPermissionOnIOSMobile:B,activeSpeaker:U,activeMicrophone:j}:{...nX}},nX),Sqe={dialEpics0:(e,n)=>Bo(e,8198).pipe(ts(n),En((([o,i])=>{const{audio:{dialout:c}}=i,{payload:{seq:d,body:p}}=o;return c.map((v=>v.sequence)).includes(d)||iAe.includes(p==null?void 0:p.result)})),rn((([o,i])=>{const{payload:{seq:c,body:{phoneNodeID:d,result:p}}}=o,v=[ZLe({code:p,sequence:c,nodeId:d})],{audio:{dialout:S}}=i;let T=S.find((B=>B.sequence===c));!T&&iAe.includes(p)&&(T=S.find((B=>[_v.Calling,_v.Ringing,_v.Accepted].includes(B.returnCode))));const x={code:p};if(T&&(Object.assign(x,{phoneNumber:T.phoneNumber,uuid:T.uuid}),d&&Object.assign(x,{userId:d})),it(KDe,x),p===_v.Success){if(it(YDe),d&&Ba(i).findIndex((B=>B.userId===d))>-1){var P;const B=(P=i.audio.dialout.find((U=>U.sequence===c)))===null||P===void 0?void 0:P.phoneNumber;B&&(v.push(U6({userId:d,key:"phoneNumber",value:B})),it(kS,[{userId:d,phoneNumber:B}]))}}else[_v.Canceling,_v.Canceled,_v.CancelFailed].includes(p)?p===_v.Canceled?it(JDe):p===_v.CancelFailed&&it(QDe):[_v.Calling,_v.Ringing,_v.Accepted,_v.Success].indexOf(p)===-1&&it(XDe);return eo(v)}))),dialEpics1:(e,n)=>Bo(e,4120).pipe(ts(n),En((([o,i])=>i.audio.crcDevice.map((c=>c.sequence)).includes(o.payload.seq))),rn((([o,i])=>{const{payload:{seq:c,body:{result:d,transID:p}}}=o,{audio:{crcDevice:v}}=i,S=[],T=v.find((x=>x.sequence===c));return T&&(it(aMe,{code:d,ip:T.ip,protocol:T.protocol,uuid:T.uuid}),S.push(c3e({sequence:c,transID:p,result:d}))),d===IX.Success?it(lMe):[IX.Success,IX.Ringing].includes(d)||it(cMe),eo(S)})))},Cqe={epics0:(e,n)=>Bo(e,12033).pipe(ts(n),xo((([o,i])=>{const{participants:{allowTalkAttendeesList:c}}=i,d=o.payload.body;let p={};if(d){const v=Ba(i),S=Object.keys(d).map((x=>({key:x,userId:d[x]}))),T=S.map((x=>x.userId));J_e(S,T,v),c.length>0&&T.length>0&&J_e(S,T,c),p=S.reduce(((x,P)=>({...x,[`${P.key}`]:{userId:P.userId,displayName:P.displayName}})),{}),it(qDe,Object.values(p))}return WLe(p)}))),epics1:(e,n)=>Bo(e,16135).pipe(ts(n),$o((([o,i])=>{const{payload:{body:{id:c,bLeadershipOn:d}}}=o,{audio:{bCanUnmute:p}}=i,v=gs(i);if(v){const{isHost:S,bCoHost:T,userId:x,audio:P,muted:B}=v,U=S||T;d&&qf(x,c)&&(P!==null&&P!==""&&B!==!0||!U&&!p||it(NX,ope.Spotlight))}})),rn((()=>Oo))),epics2:(e,n)=>Bo(e,12037).pipe(ts(n),$o((([,o])=>{const i=gs(o);(i==null?void 0:i.audio)!==null&&(i==null?void 0:i.audio)!==""&&(i==null?void 0:i.muted)==1&&it(NX,ope.Unmute)})),rn((()=>Oo))),epics3:(e,n)=>Bo(e,W0).pipe(En((o=>o.payload.body&&["bCanUnmute","bMutedAll","bMutedUponEntry"].some((i=>o.payload.body[i]!==void 0)))),rn((o=>{const{payload:{body:{bCanUnmute:i,bMutedAll:c,bMutedUponEntry:d}}}=o,p=[];if(i!==void 0&&p.push(GLe(o.payload.body.bCanUnmute)),c!==void 0){const v=gs(n.value);(v==null?void 0:v.audio)!==Ji.Computer&&(v==null?void 0:v.audio)!==Ji.Phone||v.muted!=0||o.payload.body.bMutedAll&&p.push(SS(Uy.PassiveByMuteAll))}return d!==void 0&&p.push(YLe(o.payload.body.bMutedUponEntry)),eo(p)}))),epics4:(e,n)=>Bo(e,jl).pipe(ts(n),En((([,o])=>o.socket.zoomSocketStatus===La.Connected)),rn((([o,i])=>{const{payload:{body:{update:c}}}=o;if(c!=null&&c.some((d=>d.audio!==void 0||d.muted!==void 0))){const{meeting:{userId:d}}=i,p=c.filter((S=>S.id!==d)),v=c.filter((S=>S.id===d));if(p&&p.forEach((S=>{it(ZDe,S)})),v.length>0)return Hk(n).pipe(rn((S=>{const{audio:{mutedSource:T,unmutedSource:x,isAllowToTalk:P,isSharingAudio:B,isAudioBridgeSignalReconnecting:U,leaveAudioSource:j,customizeAudioOption:{speakerOnly:W}}}=n.value,Z=S;return eo(v).pipe(Y_((async re=>{const le=[];if(re.audio!==Z.audio)if(re.audio==="")it(Zee,{source:j}),le.push(J_(void 0));else if(re.audio===Ji.Computer){const ie=hf(Z.userRole)&&!P||!!W;B&&it(WL),ie&&(it(WL),Yo.isIOSMobile&&le.push(a3e(!0))),U&&(it(WL),le.push(t1e(!1)))}else re.audio===Ji.Phone&&(Z.audio===Ji.Computer&&(await zf.leaveComputerAudio(),le.push(J_(Sk.Pstn)),uS.joinOrLeaveVoip(!1)),it(Tge));if(Z.audio!==""&&re.muted!==Z.muted){if(re.muted!==Z.muted){if(re.muted===!0){if(T!==Uy.Inherited){const ie=T??Uy.PassiveByMuteOne;it(bye,{source:ie})}Z.audio===Ji.Computer&&zf.muteAudio()}else if(re.muted===!1){if(x!==i3.Inherited){const ie=x??i3.Passive;it(yye,{source:ie})}Z.audio===Ji.Computer&&zf.unmuteAudio()}}re.muted!==void 0&&le.push(SS(void 0),G6(void 0))}return le})))})))}return Oo}))),epics5:(e,n)=>Bo(e,12036).pipe(ts(n),rn((([o,i])=>{const c=gs(i),{media:{audioEncodeStatus:d}}=i,{promoterID:p,bAllowTalk:v}=o.payload.body;if((c==null?void 0:c.userId)===p){if(it(sMe,v),v)return d!=="success"&&zf.enableAudioEncode(),Gf("audio",d,"success").pipe(rn((S=>(S&&it(NX,ope.AllowToTalk),Oo))),Jy(Uve(!0)));if(uS.mute(p,!0),(c==null?void 0:c.audio)===Ji.Computer)return zf.leaveComputerAudio(),_u(300).pipe($o((async()=>{(Z6()?vc(Np(ah(document,"click").pipe(Qr(1)),ah(document,"touchend").pipe(Qr(1)))):Promise.resolve(!0)).then((()=>{v3(zf,i,!1)}))})),rn((()=>Oo)),Jy(Uve(!1),SS(Uy.Inherited)))}return Oo}))),epics6:e=>Bo(e,8205).pipe($o((n=>{it("AUDIO_ALLOW_TO_TALK_RESPONSE",n.payload.body)})),rn((()=>Oo))),epics7:(e,n)=>g3(e,24597).pipe(ts(n),$o((([o,i])=>{const c=gs(i);(c==null?void 0:c.audio)===Ji.Phone?uS.audioDrop(c.userId):(c==null?void 0:c.audio)===Ji.Computer&&o.payload.body.bPromote})),rn((()=>Oo))),epics8:(e,n)=>Bo(e,12035).pipe(ts(n),Ei((([o,i])=>{const{meeting:{currentUserAudioBeforeReset:c,isCurrentUserMutedBeforeReset:d,userId:p}}=i,{payload:{body:{ssrc:v}}}=o,S=Hk(n).pipe(rn((T=>{if(!(c!==Ji.Computer||T!=null&&T.audio)){const{encodeInitStatus:x,decodeInitStatus:P}=Yve(n.value,T);return Gf("audio",x,P).pipe(En((([B,U])=>B&&U)),$o((()=>{(Z6()?vc(Np(ah(document,"click").pipe(Qr(1)),ah(document,"touchend").pipe(Qr(1)))):Promise.resolve(!0)).then((()=>{Xve(uS,n.value),v3(zf,n.value)}));const{audio:{locallyMutedAudioList:B,localUserAudioVolumeList:U,isStopAllImcomingAudio:j}}=n.value;B.length>0&&B.forEach((W=>{zf.muteOrUnmuteOtherAudio(W,!0)})),U.length>0&&U.forEach((W=>{zf.adjustOtherAudioVolume(W.userId,W.volume)})),j&&zf.stopAllIncomingAudio(!0)})),xo((()=>bve(void 0))))}return c===Ji.Phone?(d&&uS.mute(p,!0),eo([bve(void 0),yve(void 0)])):Oo})));return it(rMe,v),Id(Ua(KLe(v)),S)}))),epics9:(e,n)=>Bo(e,7952).pipe(Ei((o=>xa(Tge,1).pipe(ts(n),$o((([,i])=>{const{BindStatus:c,nOperatorUserId:d}=o.payload.body,p=i.participants.attendeesList.find((v=>v.userId===d));c===!0&&it(eMe,{operatorName:p==null?void 0:p.displayName,operatorUserId:d,operatorRole:p==null?void 0:p.userRole})})),rn((()=>Oo)))))),epics10:(e,n)=>lr(e,Jn.UserGrantCaptureAudio).pipe(ts(n),rn((([o,i])=>{const c=gs(i);var d;(d=c,(d==null?void 0:d.audio)===Ji.Computer?Promise.resolve():yr({event:Rp,operations:[En((B=>B.audio!==void 0&&B.audio!=="")),Qr(1)]},(({audio:B})=>B===Ji.Phone||B===Ji.Computer))).then((()=>{it(WL)}));const{meeting:{isCurrentUserMutedBeforeReset:p},audio:{isAllowToTalk:v,activeMicrophone:S,isUsingMediaPlayback:T}}=i,{payload:{data:x}}=o,P=[XLe(!0)];return c&&(c.muted===!0&&v===!1&&(P.push(SS(Uy.Inherited)),uS.mute(c.userId,!0)),(p===!0||d3e(i))&&(P.push(SS(Uy.Inherited)),uS.mute(c.userId,!0)),p!==void 0&&P.push(yve(void 0)),!T&&x&&S!==x&&P.push(W6(x))),eo(P)}))),epics11:e=>lr(e,Jn.AudioCaptureFailed).pipe($o((n=>{const{payload:{data:o}}=n;it(tMe,o)})),xo((()=>Qye(!0)))),epics12:e=>lr(e,Jn.AudioWebsocketBroken).pipe($o((()=>{it(nMe)})),rn((()=>Oo))),epics13:(e,n)=>lr(e,Jn.AudioZeroData).pipe(ts(n),_z((([,o])=>{const{audio:{webrtcRestartCount:i,activeMicrophone:c}}=o;if(i<3)return zf.restoreWebRTC(c),jk(i+1)}))),epics14:(e,n)=>e.pipe(Uo(`${X3}`),En((o=>o.payload===!1)),rn((()=>(it(oMe),Kge().pipe($o((()=>{Xve(uS,n.value),v3(zf,n.value)})),xo((()=>X3(!0)))))))),epics15:(e,n)=>lr(e,[Jn.JoinComputerAudioComplete,Jn.JoinSharingAudioComplete,Jn.LeaveComputerAudioComplete,Jn.LeaveSharingAudioComplete]).pipe($o((o=>{pPe.completeAudioAction();const{payload:{type:i}}=o;if(i===Jn.JoinComputerAudioComplete){const c=gs(n.value);(c==null?void 0:c.audio)===Ji.Computer&&(c.muted?zf.muteAudio():zf.unmuteAudio());const d=Ba(n.value).filter((p=>!!p.audioShare&&p.userId!==(c==null?void 0:c.userId)));d.length&&d.forEach((p=>{zf.setSharingAudioVolume(p.userId,!1,!1,!0)}))}})),rn((()=>Oo))),epics16:(e,n)=>lr(e,Jn.AudioQosData).pipe(ts(n),xo((([o,i])=>{var c,d;const{meeting:{isWebinar:p},media:{audioEncodeStatus:v,audioDecodeStatus:S},participants:{xmppAttendeeList:T,allowTalkAttendeesList:x}}=i,P=gs(i),B=Aye(i);let U=B.length>0,j=B.some(oAe);p&&(U=U||!!T.length,j=j||x.some(oAe));const W=(P==null?void 0:P.audio)===Ji.Computer&&v==="success"&&!(P!=null&&P.muted)&&(U||((c=i.recording)===null||c===void 0?void 0:c.cmrStatus)===Td.Start),Z=(P==null?void 0:P.audio)===Ji.Computer&&S==="success"&&U&&j;return(d=o.payload.data)!==null&&d!==void 0&&d.encoding?W?(it(xge,o.payload),XQ(o.payload)):XQ(XJ):Z?(it(xge,o.payload),JQ(o.payload)):JQ(XJ)}))),epics17:(e,n)=>Bo(e,jl).pipe(ts(n),En((([o,i])=>{const{payload:{body:c}}=o,{audio:{locallyMutedAudioList:d,localUserAudioVolumeList:p}}=i;return(d.length>0||p.length>0)&&(c==null?void 0:c.remove)&&c.remove.length>0})),rn((([o,i])=>{const{payload:{body:{remove:c}}}=o,{audio:{locallyMutedAudioList:d,localUserAudioVolumeList:p}}=i,v=d.concat(p.map((S=>S.userId))).filter((S=>c.indexOf((T=>T.id===S))!==-1));return v.length>0?(v.forEach((S=>{zf.muteOrUnmuteOtherAudio(S,!1)})),eo(v.map((S=>[QQ(S),r3e({userId:S})])).flat())):Oo}))),epics18:(e,n)=>lr(e,Jn.HidStatusMute).pipe(rn((o=>{const{payload:{data:i}}=o,c=n.value,{meeting:{userId:d,mediaFeatureOptions:p},audio:{isShareAudioEnabled:v,bCanUnmute:S}}=c,T=[];if(i)v&&!Ns.isSupportOpenMicWhenShareAudio(p||"")&&T.push(X_(!0)),T.push(SS(Uy.Active)),uS.mute(d,!0);else if(!v||Ns.isSupportOpenMicWhenShareAudio(p||"")){v&&T.push(X_(!1));const x=gs(c);(S||x!=null&&x.isHost||x!=null&&x.bCoHost)&&(T.push(G6(i3.Active)),uS.mute(d,!1))}return eo(T)}))),epics19:e=>Bo(e,12040).pipe($o((n=>{const{payload:{body:{mode:o}}}=n;zf.setAudioCodecMode(o)})),rn((()=>Oo))),epics20:(e,n)=>lr(e,[Jn.AudioSpeakerSetSuccess,Jn.JoinComputerAudioComplete,Jn.AudioSpeakerSetError]).pipe(rn((o=>{const{payload:{data:i,type:c}}=o,{audio:{activeSpeaker:d,activeMicrophone:p,isUsingMediaPlayback:v}}=n.value,S=[];return c===Jn.AudioSpeakerSetSuccess&&d!==i?S.push(ite(i)):!v&&c===Jn.JoinComputerAudioComplete&&i!=null&&i.microphoneDeviceId&&p!==i.microphoneDeviceId&&S.push(W6(i.microphoneDeviceId)),c===Jn.AudioSpeakerSetSuccess?it(Oge,!0):c===Jn.AudioSpeakerSetError&&it(Oge,!1),eo(S)}))),epics21:(e,n)=>lr(e,Jn.AudioLevelIndicator).pipe(En((()=>{const o=gs(n.value);return!!o&&o.audio===Ji.Computer&&!o.muted})),$o((o=>{const{payload:{data:i}}=o;it(uMe,{level:i.value})})),rn((()=>Oo))),epics22:(e,n)=>lr(e,Jn.WorkletProcessExceptions).pipe(En((o=>!!o.payload.data)),rn((()=>{const o=gs(n.value),i=[];return(o==null?void 0:o.audio)===Ji.Computer&&(zf.leaveComputerAudio(),uS.joinOrLeaveVoip(!1),i.push(J_(Sk.EndedBySystem)),i.push(jk(0))),eo(i)}))),epics23:(e,n)=>lr(e,Jn.RecaptureAudio).pipe(En((()=>{const o=gs(n.value);return(o==null?void 0:o.audio)===Ji.Computer&&!n.value.audio.isUsingMediaPlayback})),rn((()=>(gPe(zf,n.value),Oo))))},Eqe=xg(Cqe,{shareAudioEpics0:(e,n)=>TS(e,jl).pipe(En((o=>{const i=o.payload.body.update;return i&&i.length>0&&i.findIndex((c=>c.bShareOn!==void 0))>-1})),ts(n),rn((([o,i])=>{const{payload:{body:{update:c}}}=o,{audio:{localShareAudioUserMutedList:d}}=i,p=c.filter((S=>S.bShareOn===!0&&S.bShareAudioOn===!0)),v=[];return p.length>0&&p.forEach((S=>{d.findIndex((T=>T.userId===S.id))===-1&&v.push(t3e({userId:S.id,isFromMainSession:!!S.bShareToBORooms}))})),eo(v)}))),shareAudioEpics1:(e,n)=>lr(e,Jn.SharingDesktopStreamHaveAudio).pipe(En((()=>!n.value.audio.secondaryAudioMicrophoneId)),Ei((()=>Bo(e,jl).pipe(En((o=>{var i;const{payload:{body:c}}=o,{meeting:{userId:d}}=n.value;return(c==null||(i=c.update)===null||i===void 0?void 0:i.findIndex((p=>p.id===d&&p.bShareOn===!0)))>-1})),Qr(1),Y_((async()=>{const o=n.value;return await Kve(O2,OL,o)})),Jy(ate(!0)))))),shareAudioEpics2:(e,n)=>lr(e,Jn.SharingDesktopStreamHaveNoAudio).pipe(ts(n),En((([,o])=>{var i;return((i=o.audio)===null||i===void 0?void 0:i.isShareAudioEnabled)===!0})),Y_((async([,o])=>await X_e(O2,OL,o)))),shareAudioEpics3:(e,n)=>Bo(e,jl).pipe(ts(n),En((([,o])=>o.socket.zoomSocketStatus===La.Connected&&o.audio.isSharingAudio===!0&&!Ns.isSupportOpenMicWhenShareAudio(o.meeting.mediaFeatureOptions||""))),rn((([o,i])=>{var c;if((c=o.payload.body.update)!==null&&c!==void 0&&c.some((d=>d.audio!==void 0||d.muted!==void 0))){const{meeting:{userId:d}}=i,p=o.payload.body.update.filter((v=>v.id===d));return Hk(n).pipe(rn((v=>{const S=[];return p.findIndex((T=>T.audio===Ji.Computer))>-1&&(v==null?void 0:v.audio)!==Ji.Computer&&(OL.mute(d,!0),S.push(J3(!0)),S.push(X_(!0)),S.push(SS(Uy.SharingAudio))),eo(S)})))}return Oo}))),shareAudioEpics4:(e,n)=>e.pipe(Uo(`${Sg}`),ed(Dv),ts(n),En((([,o])=>{var i;return((i=o.audio)===null||i===void 0?void 0:i.isShareAudioEnabled)===!0})),Y_((async([o,i])=>{const{payload:c}=o,{audio:{isShareAudioMuted:d,isSharingAudio:p}}=i,v=[];if(c===Xr.End){const S=await X_e(O2,OL,i);v.push(...S)}else if(c===Xr.Paused){if(d===!1&&p===!0){await O2.leaveSharingAudio(!0),v.push(Q3(!1));const S=await n1e(OL,i);v.push(...S),setTimeout((()=>{it(B3,{state:"off"})}),0)}}else if(c===Xr.Sharing&&d===!1&&p===!1){const S=await Kve(O2,OL,i);v.push(...S)}return v}))),shareAudioEpics5:(e,n)=>lr(e,Jn.SharingDesktopStreamHaveAudio).pipe(En((()=>!!n.value.audio.secondaryAudioMicrophoneId)),$o((()=>{const{audio:{audioSsrc:o,secondaryAudioMicrophoneId:i,isWebRtcAudioCapable:c}}=n.value;O2.joinSharingAudio({ssrc:o,microphoneDeviceId:i,speakerDeviceId:null,isCaptureAudio:!0,audioBridge:c}),it(iMe)})),rn((()=>Oo))),shareAudioEpics6:(e,n)=>Bo(e,jl).pipe(En((o=>{const{payload:{body:i}}=o;return!!i.update&&i.update.some((c=>c.audioShare!==void 0))})),rn((o=>{const{meeting:{userId:i}}=n.value;return o.payload.body.update.filter((c=>c.audioShare!==void 0&&c.id!==i)).forEach((c=>{O2.setSharingAudioVolume(c.id,!c.audioShare,!1,!0)})),Oo})))},{audioBridgEpics0:e=>Bo(e,4299).pipe($o((n=>{const{payload:o}=n;IL.passThroughRWGMessage(o)})),Eg()),audioBridgEpics1:e=>lr(e,Jn.AudioBridgeReconnectStart).pipe(rn((()=>(Wpe.joinOrLeaveVoip(!1),eo([t1e(!0),J_(Sk.Failover)]))))),audioBridgEpics2:(e,n)=>Bo(e,jl).pipe(En((o=>{var i,c;return n.value.audio.isWebRtcAudioCapable&&(((i=o.payload.body.update)===null||i===void 0?void 0:i.some((d=>d.muted!==void 0)))||((c=o.payload.body.remove)===null||c===void 0?void 0:c.length)>0)})),$o((o=>{const{payload:{body:{update:i,remove:c}}}=o;IL.sendUserAudioStatus({update:(i||[]).filter((d=>d.muted!==void 0)).map((d=>({userId:d.id,muted:d.muted}))),remove:(c||[]).map((d=>({userId:d.id})))})})),Eg()),audioBridgEpics3:(e,n)=>Bo(e,16129).pipe(En((o=>{const{payload:{body:{bVideoOn:i}}}=o,{audio:{isWebRtcAudioCapable:c}}=n.value;return c&&!!i})),$o((o=>{const{payload:{body:{id:i}}}=o;IL.changeActiveVideoSsrc(i)})),rn((()=>Oo))),audioBridgEpics4:(e,n)=>lr(e,Jn.AudioStreamFailed).pipe(rn((o=>{const{payload:{data:i}}=o,c=gs(n.value),d=[];return(c==null?void 0:c.audio)===Ji.Computer&&(IL.leaveComputerAudio(),Z6()||Yo.isIOSMobile||i===L5.PermissionReset?(Wpe.joinOrLeaveVoip(!1),d.push(J_(Sk.EndedBySystem)),d.push(jk(0))):v3(IL,n.value)),eo(d)}))),audioBridgEpics5:(e,n)=>lr(e,Jn.AudioBridgeSocketConnectionError).pipe(rn((()=>{const o=gs(n.value),i=[];return(o==null?void 0:o.audio)===Ji.Computer&&(IL.leaveComputerAudio(),Wpe.joinOrLeaveVoip(!1),i.push(J_(Sk.EndedBySystem)),i.push(jk(0))),eo(i)}))),audioBridgEpics6:(e,n)=>e.pipe(Uo(`${kye}`),En((()=>!!n.value.meeting.zlkJwtToken)),xo((o=>{const i=o.payload,{meeting:{zlkJwtToken:c,mediaFeatureOptions:d,meetingId:p}}=n.value;let v;if(c){const{enforce_web_rtc_audio:x,audio_compatible_mode:P,audio_webrtc_mode:B}=aA(c);x===void 0&&P===void 0&&B===void 0||(v=Number(B!==void 0?B:P!==void 0?P:x))}const S=ai.get(ol.VideoSDKWebRTCAudioFallbackWasm)===1,T=Ns.getWebRtcAudioMode(d??"",p,v,i);return u3e({isWebRtcAudioCapable:!S&&!!(T&mge.WebRTCAudio),webRtcAudioMode:T})})))},Sqe),wqe=ea.createAgent(),Ev=Rm(Ns.getInstance()),oX=ea.createAgent(),dS=Rm(Ns.getInstance()),_qe=ea.createAgent(),aAe=Rm(Ns.getInstance()),lAe={isWebrtcVideoCapable:!1,videoSsrc:0,cameraDevicesList:[],activeCamera:Yo.isAndroidOrIOSBrowser?ok.User:"default",activeVideoId:0,isCurrentUserStartedVideo:!1,spotlightUserList:[],isCaptureForbidden:!1,isMirrored:!1,receivedVideoMaxQuality:navigator.hardwareConcurrency>=8?YJ.Video_1080P:YJ.Video_360P,subscribedVideoList:[],renderedVideoList:[],ensuredCanvas:[],isVideoMuted:!1,isCaptureCameraLoading:!1,isCameraTaken:!1,isUsingMediaPlayback:!1,receivedVideoDimension:{width:0,height:0},capturedVideoDimension:{width:0,height:0},isFollowHostVideoLayout:!1,hostDragLayout:[],isSupportHDVideo:!1,miniRwgOptionValue:0,bCanUnmuteVideo:!1,virtualBackground:{isVBConfigured:!1,isVBPreloadReady:void 0,imageSrc:void 0,cropped:void 0},mask:{imageSrc:void 0,cropped:void 0,clip:void 0},backgroundMode:Mh.Null,statistic:{encode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,width:0,height:0,fps:0,bandwidth:0,bitrate:0},decode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,width:0,height:0,fps:0,bandwidth:0,bitrate:0}},hardwareAcceleration:{encode:!1,decode:!1},networkQuality:{},ptz:{},currentCameraControlStatus:{isRequested:!1,isInControl:!1,isCameraMoving:!1},farEndCameraControlStatus:{controlledUserList:[],isControlling:!1},subscriptionStatus:{encode:!1,decode:!1,detailed:!1},videoAttachments:{},rendererType:pge.WebGL,selfPreviewVideoList:[]},Aqe=Im({[`${APe}`]:ht(((e,{payload:n})=>{e.videoSsrc=n})),[`${xye}`]:ht(((e,{payload:n})=>{e.cameraDevicesList=n})),[`${F3}`]:ht(((e,{payload:n})=>{const o=e.activeCamera;if(o in e.ptz){const i=e.ptz[o];["pan","tilt","zoom"].forEach((c=>{i[c]&&(i[c].value=0)}))}e.activeCamera=n})),[`${TPe}`]:ht(((e,{payload:n})=>{e.activeVideoId=n.userId})),[`${xPe}`]:ht(((e,{payload:n})=>{e.isCurrentUserStartedVideo=n})),[`${Jge}`]:ht(((e,{payload:n})=>{e.spotlightUserList=n})),[`${EQ}`]:ht(((e,{payload:n})=>{e.isCaptureForbidden=n})),[`${OPe}`]:ht(((e,{payload:n})=>{e.receivedVideoMaxQuality=n})),[`${IPe}`]:ht(((e,{payload:n})=>{e.isVideoMuted=n})),[`${qL}`]:ht(((e,{payload:n})=>{e.isCaptureCameraLoading=n})),[`${wQ}`]:ht(((e,{payload:n})=>{e.isCameraTaken=n})),[`${kPe}`]:ht(((e,{payload:n})=>{e.receivedVideoDimension=n})),[`${_Q}`]:ht(((e,{payload:n})=>{e.subscribedVideoList.includes(n)||e.subscribedVideoList.push(n)})),[`${$X}`]:ht(((e,{payload:n})=>{const o=e.subscribedVideoList.indexOf(n);o>=0&&e.subscribedVideoList.splice(o,1)})),[`${Ak}`]:ht(((e,{payload:n})=>{const o=e.renderedVideoList.find((i=>i.userId===n.userId&&i.key===n.key&&i.canvasId===n.canvasId));o?(n.videoQuality!==void 0&&(o.videoQuality=n.videoQuality),n.aspectRatio!==void 0&&(o.aspectRatio=n.aspectRatio)):e.renderedVideoList.push({...n})})),[`${AQ}`]:ht(((e,{payload:n})=>{const o=e.renderedVideoList.findIndex((i=>i.userId===n.userId&&i.key===n.key&&i.canvasId===n.canvasId));o>=0&&e.renderedVideoList.splice(o,1)})),[`${DPe}`]:ht(((e,{payload:n})=>{e.isFollowHostVideoLayout=n})),[`${MPe}`]:ht(((e,{payload:n})=>{e.hostDragLayout=n})),[`${PPe}`]:ht(((e,{payload:n})=>{e.isSupportHDVideo=n})),[`${NPe}`]:ht(((e,{payload:n})=>{e.bCanUnmuteVideo=n})),[`${Qge}`]:ht(((e,{payload:n})=>{e.virtualBackground.isVBPreloadReady=n})),[`${TQ}`]:ht(((e,{payload:n})=>{e.virtualBackground.isVBConfigured=n})),[`${UX}`]:ht(((e,{payload:n})=>{e.virtualBackground.imageSrc=n.imageUrl,e.virtualBackground.cropped=n.cropped,n.imageUrl===void 0?e.backgroundMode=Mh.Null:e.backgroundMode=Mh.VirtualBackground})),[`${VL}`]:ht(((e,{payload:n})=>{const{encode:o,decode:i}=n;o!==void 0&&(e.hardwareAcceleration.encode=o),i!==void 0&&(e.hardwareAcceleration.decode=i)})),[`${xQ}`]:ht(((e,{payload:n})=>{const{data:{encoding:o,rate:i,...c}}=n;e.statistic.encode={bitrate:i,...c}})),[`${OQ}`]:ht(((e,{payload:n})=>{const{data:{encoding:o,rate:i,...c}}=n;e.statistic.decode={bitrate:i,...c}})),[`${LPe}`]:ht(((e,{payload:n})=>{const{cameraId:o,captureWidth:i,captureHeight:c,videoElement:d,originalRatio:p,ptz:v,hd:S,fullHd:T,mediaFile:x,fps:P,mirrored:B,customVideoConstraints:U}=n;e.activeCamera=o,e.customizedVideoOption={captureWidth:i,captureHeight:c,videoElement:d,originalRatio:p,ptz:v,hd:S,fullHd:T,fps:P,customVideoConstraints:U},Ez(e.mediaPlaybackFile,x)||(e.mediaPlaybackFile=x,e.isUsingMediaPlayback=!(x==null||!x.url)),B!==void 0&&(e.isMirrored=!!B)})),[`${eve}`]:ht(((e,{payload:n})=>{const{userId:o,level:i,bwLevel:c,type:d}=n;if(Object.prototype.hasOwnProperty.call(e.networkQuality,`${o}`))e.networkQuality[`${o}`][`${d}`]={level:i,bwLevel:c};else{const p={[d]:{level:i,bwLevel:c}};Object.assign(e.networkQuality,{[`${o}`]:p})}})),[`${BPe}`]:ht(((e,{payload:n})=>{const{deviceId:o,ptzRange:i}=n;if(Object.prototype.hasOwnProperty.call(e.ptz,o)){const c=e.ptz[o];c&&["pan","tilt","zoom"].forEach((d=>{const p=i[d];if(p){var v;const S=(v=c[d])===null||v===void 0?void 0:v.capability;S?Object.assign(S,{...p}):c[d]={capability:{...p},value:0}}}))}else Object.assign(e.ptz,{[o]:{pan:i.pan?{capability:{...i.pan},value:0}:null,tilt:i.tilt?{capability:{...i.tilt},value:0}:null,zoom:i.zoom?{capability:{...i.zoom},value:0}:null}})})),[`${IQ}`]:ht(((e,{payload:n})=>{e.currentCameraControlStatus.isRequested=n})),[`${RQ}`]:ht(((e,{payload:n})=>{const{isInControl:o,userId:i}=n;e.currentCameraControlStatus.isInControl=o,e.currentCameraControlStatus.controllingUserId=i})),[`${VPe}`]:ht(((e,{payload:n})=>{e.farEndCameraControlStatus.controlledUserList.includes(n)||e.farEndCameraControlStatus.controlledUserList.push(n)})),[`${kQ}`]:ht(((e,{payload:n})=>{const o=e.farEndCameraControlStatus.controlledUserList.indexOf(n);o!==-1&&e.farEndCameraControlStatus.controlledUserList.splice(o,1)})),[`${tve}`]:ht(((e,{payload:n})=>{e.currentCameraControlStatus.isCameraMoving=n.cmd==="start"})),[`${Oye}`]:ht(((e,{payload:n})=>{const{constraints:o,deviceId:i}=n,c=e.ptz[i];["pan","tilt","zoom"].forEach((d=>{o[d]!==void 0&&(c[d].value=o[d])}))})),[`${nve}`]:ht(((e,{payload:n})=>{e.farEndCameraControlStatus.isControlling=n})),[`${FPe}`]:ht(((e,{payload:n})=>{e.networkQualityBroadcastTime=n})),[`${DQ}`]:ht(((e,{payload:n})=>{e.mask.isMaskConfigured=n})),[`${zX}`]:ht(((e,{payload:n})=>{const{imageUrl:o,cropped:i,rootHeight:c,rootWidth:d,clip:p}=n;e.mask.imageSrc=o,e.mask.cropped=i,e.mask.clip=p,e.mask.rootWidth=d,e.mask.rootHeight=c,e.backgroundMode=Mh.Mask})),[`${ove}`]:ht(((e,{payload:n})=>{e.backgroundMode=n})),[`${HPe}`]:ht(((e,{payload:n})=>{e.capturedVideoDimension=n})),[`${$Pe}`]:ht(((e,{payload:n})=>{e.ensuredCanvas.includes(n)||e.ensuredCanvas.push(n)})),[`${sve}`]:ht(((e,{payload:n})=>{e.mediaPlaybackFile=n,e.isUsingMediaPlayback=!(n==null||!n.url)})),[`${f3}`]:ht(((e,{payload:n})=>{if(n){const{lastCopy:o,...i}=n;e.prefetchedVideo=i}else e.prefetchedVideo=n})),[`${rve}`]:ht(((e,{payload:n})=>{Object.assign(e.subscriptionStatus,n)})),[`${UPe}`]:ht(((e,{payload:n})=>{e.miniRwgOptionValue=n})),[`${Iye}`]:ht(((e,{payload:n})=>{const{userId:o,element:i}=n,c=e.videoAttachments[`${o}`];if(c){var d;((d=FQ(c))===null||d===void 0?void 0:d.indexOf(i))===-1&&c.push(i)}else{const p=[];p.push(i),Object.assign(e.videoAttachments,{[`${o}`]:p})}})),[`${jX}`]:ht(((e,{payload:n})=>{const{userId:o,element:i}=n,c=e.videoAttachments[`${o}`];let d=i;Array.isArray(i)||(d=[i]),d.forEach((p=>{if(c){var v;const S=(v=FQ(c))===null||v===void 0?void 0:v.indexOf(p);S!==void 0&&S!==-1&&c.splice(S,1)}}))})),[`${zPe}`]:ht(((e,{payload:n})=>{n&&(e.rendererType=pge.WebGL2)})),[`${jPe}`]:ht(((e,{payload:n})=>{n&&(e.rendererType=pge.WebGPU)})),[`${WPe}`]:ht(((e,{payload:n})=>{e.rendererType=n})),[`${GPe}`]:ht(((e,{payload:n})=>{e.isMirrored=n})),[`${qPe}`]:ht(((e,{payload:n})=>{e.selfPreviewVideoList.includes(n)||e.selfPreviewVideoList.push(n)})),[`${Rye}`]:ht(((e,{payload:n})=>{if(n){const o=e.selfPreviewVideoList.indexOf(n);o>=0&&e.selfPreviewVideoList.splice(o,1)}else e.selfPreviewVideoList=[]})),[`${ZPe}`]:ht(((e,{payload:n})=>{e.leadershipUserId=n})),[`${kye}`]:ht(((e,{payload:n})=>{e.isWebrtcVideoCapable=n})),[`${KPe}`]:ht((e=>{var n;(n=e.customizedVideoOption)!==null&&n!==void 0&&n.customVideoConstraints&&(e.customizedVideoOption.customVideoConstraints=void 0)})),[`${RPe}`]:(e,{payload:n})=>{const o={cameraDevicesList:e.cameraDevicesList};return n&&Object.assign(o,{activeCamera:e.activeCamera,customizedVideoOption:e.customizedVideoOption,virtualBackground:{imageSrc:e.virtualBackground.imageSrc,cropped:e.virtualBackground.cropped},mask:{imageSrc:e.mask.imageSrc,cropped:e.mask.cropped,rootWidth:e.mask.rootWidth,rootHeight:e.mask.rootHeight,clip:e.mask.clip},backgroundMode:e.backgroundMode,ptz:e.ptz,subscriptionStatus:e.subscriptionStatus}),{...lAe,...o}}},lAe),Tqe={cameraPtzEpics0:(e,n)=>Bo(e,8004).pipe(rn((o=>{const{payload:{body:{nCmd:i,nUserID:c,nReason:d,nButtonID:p}}}=o,v=n.value,S=Ba(v),{video:{currentCameraControlStatus:{isInControl:T,controllingUserId:x},cameraDevicesList:P,activeCamera:B}}=v,U=S.find((W=>qf(W.userId,c))),j=[];if(j.push(IQ(!0)),i===gg.Request){const W={userId:U==null?void 0:U.userId,displayName:U==null?void 0:U.displayName};if(T){const Z=S.find((re=>re.userId===x));Object.assign(W,{currentControllingUserId:Z==null?void 0:Z.userId,currentControllingDisplayName:Z==null?void 0:Z.displayName})}it(HDe,W)}else if(i===gg.Approve)j.push(VPe(U==null?void 0:U.userId)),it(_ge,{isApproved:!0,userId:U==null?void 0:U.userId,displayName:U==null?void 0:U.displayName});else if(i===gg.Decline)j.push(kQ(U==null?void 0:U.userId)),it(_ge,{isApproved:!1,userId:U==null?void 0:U.userId,displayName:U==null?void 0:U.displayName,reason:d});else if(i===gg.GiveUp)j.push(RQ({isInControl:!1,userId:0})),it(uQ,{isControlled:!1});else if(i===gg.StartControl||i===gg.StopControl)j.push(tve({cmd:i===gg.StartControl?"start":"stop",type:p}));else if(i===gg.SwitchCamera){const W=P.findIndex((re=>re.deviceId===B)),Z=W+1===P.length?0:W+1;if(Z!==W){const re=P[Z].deviceId;aAe.changeCamera(re,gz.includes(re))}}return eo(j)}))),cameraPtzEpics1:(e,n)=>Bo(e,jl).pipe(En((o=>{var i;const{payload:{body:c}}=o;return c==null||(i=c.update)===null||i===void 0?void 0:i.some((d=>d.nFECC!==void 0||d.nFECCExecutive!==void 0))})),xo((o=>K_(o.payload.body))),$o((o=>{const{update:i}=o,c=i==null?void 0:i.find((d=>d.nFECC!==void 0||d.nFECCExecutive!==void 0));if(c){const{meeting:{userId:d}}=n.value;qf(c.nFECCExecutive,d)&&it($De,{userId:c.userId,ptz:SNe(c.nFECC)})}})),rn((()=>Oo))),cameraPtzEpics2:(e,n)=>Bo(e,jl).pipe(En((o=>{var i;const{payload:{body:c}}=o,{video:{farEndCameraControlStatus:{controlledUserList:d}}}=n.value;return c==null||(i=c.remove)===null||i===void 0?void 0:i.some((p=>d.includes(p.id)))})),xo((o=>K_(o.payload.body))),rn((o=>{const{remove:i}=o,c=[],{video:{farEndCameraControlStatus:{controlledUserList:d}}}=n.value,p=i==null?void 0:i.find((v=>d.includes(v.userId)));return p&&c.push(kQ(p.userId)),eo(c)}))),cameraPtzEpics3:(e,n)=>e.pipe(Uo(`${tve}`),Ei((o=>{const{payload:{cmd:i,type:c}}=o;return i==="start"?_u(0,200).pipe(sk((()=>!!n.value.video.currentCameraControlStatus.isCameraMoving)),rn((()=>{const{video:{ptz:d,activeCamera:p}}=n.value,v=d[p],S=Pye(v)||{},{key:T,range:x}=yNe(c,2);return v[T]?(Object.assign(S,{[T]:bNe(v[T].capability,v[T].value,x)}),aAe.movePTZCamera(S).then((()=>Oye({deviceId:p,constraints:S})))):Promise.resolve(void 0)})),rn((d=>typeof d=="object"&&d.type!==void 0?Ua(d):Oo))):Oo}))),cameraPtzEpics4:(e,n)=>e.pipe(Uo(`${F3}`),rn((o=>{const{payload:i}=o,{video:{customizedVideoOption:c,ptz:d}}=n.value;if(c!=null&&c.ptz){const p=d==null?void 0:d[i];p!==void 0&&_qe.sendCameraAblity({pan:!!p.pan,tilt:!!p.tilt,zoom:!!p.zoom})}return Oo})))},xqe={videoCaptureEpics0:(e,n)=>lr(e,Jn.StartVideoCaptureSuccess).pipe(Y_((async o=>{const{video:{activeCamera:i,ptz:c,isCurrentUserStartedVideo:d,isUsingMediaPlayback:p},meeting:{userId:v}}=n.value,{payload:{data:{currentDeviceID:S,PTZRange:T,VideoSelectValue:x,usingFacingMode:P}}}=o,B=[],{cameras:U}=await vc($k());if(U.length<1&&!p&&(it(rQ,{reason:"Cannot detect camera devices"}),dS.stopCaptureVideo()),p||[i,S].some((j=>gNe(j,U)))){let j="";if(j=P?Array.isArray(x)&&x[0]?x[0]:x:S,d||oX.muteAttendeeVideo(v,!1),it(UDe),p)B.push(F3("default"));else if(j&&T&&B.push(BPe({deviceId:j,ptzRange:T})),i!==j&&B.push(F3(j)),Object.prototype.hasOwnProperty.call(c,j)){const W=c[j];if(W){const Z=Pye(W);Z&&dS.movePTZCamera(Z)}}}else it(iQ,{reason:"cannot find target camera"}),dS.stopCaptureVideo();return B}))),videoCaptureEpics1:(e,n)=>Bo(e,jl).pipe(En((o=>{const{payload:{body:{update:i}}}=o,{meeting:{userId:c}}=n.value;return i==null?void 0:i.some((d=>d.id===c&&d.bVideoOn!==void 0))})),xo((o=>K_(o.payload.body))),rn((o=>{const{update:i}=o,{meeting:{userId:c}}=n.value,d=i==null?void 0:i.find((p=>p.userId===c));return d?(d.bVideoOn===!0?it(vye):it(c3),eo([xPe(!!d.bVideoOn)])):Oo}))),videoCaptureEpics2:e=>lr(e,[Jn.UserForbiddedCaptureVideo,Jn.UserCameraIsTakenByOtherPrograms,Jn.VideoWebsocketBroken,Jn.StopVideoCaptureFailed]).pipe(rn((n=>{const{payload:{type:o,data:i}}=n,c=[];switch(o){case Jn.UserForbiddedCaptureVideo:it(aQ,i),c.push(EQ(!0));break;case Jn.UserCameraIsTakenByOtherPrograms:it(lQ,{reason:"User camera is taken by other programs.",...i??{}}),c.push(wQ(!0));break;case Jn.VideoWebsocketBroken:it(gye,{reason:"Video websocket broken."});break;case Jn.StopVideoCaptureFailed:it(c3,{failed:!0,reason:"Unknown."})}return eo(c)}))),videoCaptureEpics3:(e,n)=>lr(e,Jn.StopVideoCaptureSuccess).pipe(ts(n),xo((([,o])=>{const{meeting:{userId:i},video:{isCurrentUserStartedVideo:c}}=o;return c||it(c3),oX.muteAttendeeVideo(i,!0),qL(!1)}))),videoCaptureEpics4:(e,n)=>Bo(e,16133).pipe(ts(n),En((([o,i])=>{var c;return(o==null||(c=o.payload)===null||c===void 0||(c=c.body)===null||c===void 0?void 0:c.id)===i.meeting.userId})),_z((([o])=>{const{id:i,bVideoMute:c}=o.payload.body;return it(MDe,{id:i,isVideoMuted:c}),c===!0&&dS.stopCaptureVideo(),c===!1&&it(PDe,{id:i,isVideoMuted:c}),IPe(c)}))),videoCaptureEpics5:(e,n)=>Bo(e,16131).pipe(En((o=>o.payload.body.ssrc!==void 0)),Ei((o=>{const{payload:{body:{ssrc:i}}}=o;return it(jDe,i),Id(Ua(APe(i)),Hk(n).pipe(rn((c=>{const{meeting:{isCurrentUserStartVideoBeforeReset:d},media:{videoEncodeStatus:p}}=n.value;return(c==null?void 0:c.bVideoOn)!==!0&&d===!0?Gf("video",p,"success").pipe(En((([v,S])=>v&&S)),xo((()=>{const v=n.value,{video:{backgroundMode:S,mask:T,virtualBackground:x,activeCamera:P,customizedVideoOption:B}}=v;let U=Promise.resolve(!0);return S===Mh.VirtualBackground&&x.imageSrc?U=GX({imageUrl:x.imageSrc,cropped:x.cropped},dS,v):S===Mh.Mask&&T.imageSrc&&T.clip&&(U=qX({imageUrl:T.imageSrc,cropped:T.cropped,clip:T.clip,rootHeight:T.rootHeight,rootWidth:T.rootWidth},dS,v)),U.then((()=>{vNe(dS,v,{cameraId:P,...B})})),$Ne(void 0)}))):Oo}))))}))),videoCaptureEpics6:(e,n)=>e.pipe(Uo(`${xye}`),rn((async o=>{const{payload:i}=o,c=n.value,{meeting:{userId:d}}=c;await Gge("video",c);const p=gs(c);i.length===0?p&&!p.bVideoConnect||oX.connectCamera(d,!1):p!=null&&p.bVideoConnect||oX.connectCamera(d,!0)})),Eg()),videoCaptureEpics7:e=>lr(e,Jn.InitSuccessVideo).pipe(En((n=>!Yo.isIPad&&Yo.isAndroidOrIOSBrowser&&n.payload.data===pg.EncodeSuccess)),Ei((()=>yPe().pipe($o((n=>{dS.setMobileRotateMode(n)})),Eg())))),videoCaptureEpics8:e=>lr(e,Jn.StartVideoCaptureSuccess).pipe(En((()=>!Yo.isIPad&&Yo.isAndroidOrIOSBrowser)),$o((()=>{dS.setMobileRotateMode(bPe())})),Pa(Oo)),videoCaptureEpics9:(e,n)=>lr(e,Jn.VideoStreamFailed).pipe(En((()=>!!n.value.video.isCurrentUserStartedVideo&&Yo.isIOSMobile)),$o((()=>{dS.stopCaptureVideo()})),rn((()=>Oo))),videoCaptureEpics10:e=>Bo(e,24322).pipe($o((n=>{const{payload:o}=n;dS.passThroughRWGMessage(o)})),rn((()=>Oo)))},Oqe={videoRenderEpics0:(e,n)=>Bo(e,16129).pipe(xo((o=>{const{payload:{body:{id:i,bVideoOn:c}}}=o,{meeting:{isUseWBVideo:d}}=n.value,p=qwe(i);return it(DDe,{bVideoOn:c,userId:p}),d&&Ev.prefetchVideoSsrc(i),TPe({bVideoOn:c,userId:p})}))),videoRenderEpics1:e=>lr(e,Jn.VideoDecodeMaxSize).pipe(En((n=>{var o;return n==null||(o=n.payload)===null||o===void 0?void 0:o.data})),xo((({payload:{data:{size:n}}})=>OPe(n)))),videoRenderEpics2:e=>Bo(e,16135).pipe(rn((n=>{const{payload:{body:{bLeadershipOn:o,id:i}}}=n,c=[],d=[],p=o?qwe(i):0;return o&&d.push(p),c.push(Jge(d),ZPe(p)),Np(xa(u3,1),_u(2e3).pipe(xo((()=>({leadershipEventOnly:!0}))))).pipe(rn((v=>{const{spotlightList:S,leadershipEventOnly:T}=v||{};return o?!S||S.length===1&&d[0]===S[0]||it(dQ,{spotlightList:S}):(T||(S==null?void 0:S.length)===0)&&it(dQ,{spotlightList:[]}),Oo})),Jy(...c))}))),videoRenderEpics3:(e,n)=>Bo(e,7958).pipe(ts(n),xo((([o,i])=>{const{payload:{body:c}}=o;let d=[];c&&c.group_list&&c.group_list[0]&&(d=c.group_list[0].map((v=>v.id)));const p=Ba(i);return p.length>0&&(d=d.filter((v=>p.findIndex((S=>S.userId===v))>=0))),it(u3,{spotlightList:d}),Jge(d)}))),videoRenderEpics4:e=>lr(e,[Jn.CurrentVideoResolution,Jn.CurrentCaptureVideoWidthHeight]).pipe(En((n=>!!n.payload.data)),xo((n=>{const{payload:{data:o,type:i}}=n;return i===Jn.CurrentVideoResolution?(it(NDe,o),kPe(o)):(it(LDe,o),HPe(o))}))),videoRenderEpics5:e=>Bo(e,W0).pipe(En((n=>{const{payload:{body:o}}=n;return["bFollowHostVideo","VideoHd","bCanUnmuteVideo"].some((i=>o[i]!==void 0))})),xo((n=>{const{payload:{body:{bFollowHostVideo:o,VideoHd:i,bCanUnmuteVideo:c}}}=n;if(o!==void 0)return it(BDe,{bOn:o}),DPe(o);if(c!==void 0)return NPe(c);{const d=i===1;return Ev.updateVideoHDValue(d),Ev.enableHardwareAccelerationForVideoEncode(!1),PPe(d)}}))),videoRenderEpics6:(e,n)=>Bo(e,7957).pipe(ts(n),xo((([o,i])=>{const{video:{isFollowHostVideoLayout:c}}=i,{payload:{body:d}}=o,p=d&&d.drag_list&&d.drag_list.map((v=>v.id));return c&&it(VDe,{layout:p}),MPe(p)}))),videoRenderEpics7:(e,n)=>Bo(e,jl).pipe(ts(n),En((([o,i])=>{const{meeting:{userId:c},video:{subscribedVideoList:d}}=i,p=o.payload.body.update,v=o.payload.body.remove;return p&&p.length>0&&p.findIndex((S=>S.id!==c&&(S.bVideoOn!==void 0||S.bHold)))>-1||v&&v.some((S=>d.includes(S.id)))})),$o((([o,i])=>{const{payload:{body:{remove:c,update:d}}}=o,{video:{subscribedVideoList:p}}=i,v=F7e(i);if(c&&c.length>0&&c.filter((S=>p.includes(S.id))).forEach((S=>{it(PX,{userId:S.id})})),d&&d.length>0){const S=d.filter((x=>x.bVideoOn!==void 0)).filter((x=>v.findIndex((P=>P.userId===x.id))===-1)),T=d.filter((x=>x.bHold===!0));T.length>0&&T.filter((x=>p.includes(x.id))).forEach((x=>{it(PX,{userId:x.id})})),S.forEach((x=>{x.bVideoOn?it(FDe,{userId:x.id}):p.includes(x.id)&&it(PX,{userId:x.id})}))}})),Pa(Oo)),videoRenderEpics8:(e,n)=>lr(e,Jn.VideoQosData).pipe(ts(n),xo((([o,i])=>{var c,d;const{video:{isCaptureForbidden:p,isCameraTaken:v},media:{videoEncodeStatus:S,videoDecodeStatus:T}}=i,x=gs(i),P=Aye(i),B=P.length>0,U=(x==null?void 0:x.bVideoOn)&&!p&&!v,j=P.some((re=>re.bVideoOn)),W=S==="success"&&U&&(B||((c=i.recording)===null||c===void 0?void 0:c.cmrStatus)===Td.Start),Z=T==="success"&&B&&j;return(d=o.payload.data)!==null&&d!==void 0&&d.encoding?W?(it(Cge,o.payload),xQ(o.payload)):xQ(rO):Z?(it(Cge,o.payload),OQ(o.payload)):OQ(rO)}))),videoRenderEpics9:(e,n)=>lr(e,[Jn.CurrentDecodeVideoQuality,Jn.CurrentDecodeVideoFps]).pipe($o((o=>{const{payload:{type:i,data:c}}=o,{video:{subscriptionStatus:d}}=n.value;if(d.detailed){if(i===Jn.CurrentDecodeVideoQuality){const{ssrc:p,width:v,height:S,quality:T}=c;it(Ege,{userId:p,width:v,height:S,quality:T})}else if(i===Jn.CurrentDecodeVideoFps){const{ssrc:p,fps:v}=c;it(Ege,{userId:p,fps:v})}}})),Eg()),videoRenderEpics10:e=>lr(e,[Jn.NotSupportExternalCanvasInVTagRenderer]).pipe($o((()=>{console.error("Hardware acceleration disabled: Use attachVideo method to render the video.")})),Eg()),videoRenderEpics11:(e,n)=>lr(e,[Jn.NetworkQualityChange,Jn.NetworkQualityChangeAudio]).pipe(En((o=>!!o.payload.data)),rn((o=>{var i;const{payload:{data:{bwLevel:c,isUplink:d,networkLevel:p}}}=o,v=[],{meeting:{userId:S},video:{networkQuality:T,subscribedVideoList:x,networkQualityBroadcastTime:P}}=n.value,B=d?"uplink":"downlink";v.push(eve({userId:S,level:p,bwLevel:c,type:B}));const U=Ez((i=T[`${S}`])===null||i===void 0?void 0:i[B],{level:p,bwLevel:c});if(!U&&p!==-1&&(!d&&x.filter((j=>j!==S)).length>0||d)&&it(wge,{userId:S,type:B,level:p}),d){const j=performance.now();(!U||j-(P??0)>3e4)&&(wqe.broadcastUserNetworkQuality({isUplink:d,level:p,bwLevel:c}),v.push(FPe(j)))}return eo(v)}))),videoRenderEpics12:(e,n)=>TS(e,8005).pipe(En((o=>{var i;return!((i=o.payload.body)===null||i===void 0||!i.nUserID)})),rn((o=>{const{payload:{body:{nLevel:i,nUserID:c}}}=o,{video:{networkQuality:d}}=n.value,p=d[`${c}`],v=[];return p&&p.uplink.level===i||(it(wge,{userId:c,level:i,type:"uplink"}),v.push(eve({userId:c,level:i,type:"uplink"}))),eo(v)}))),videoRenderEpics13:(e,n)=>Bo(e,jl).pipe(En((o=>{const{payload:{body:i}}=o,{video:{prefetchedVideo:c}}=n.value;return(c==null?void 0:c.userId)&&(i.update||i.remove)})),rn((o=>{const{payload:{body:i}}=o,c=[],{video:{prefetchedVideo:d}}=n.value;let p=!1;return i.remove&&(p=i.remove.findIndex((v=>v.id===(d==null?void 0:d.userId)))!==-1),i.update&&(p=i.update.findIndex((v=>v.id===(d==null?void 0:d.userId)&&v.bVideoOn===!1))!==-1),p&&d&&(d.loaded||Ev.cancelPrefetchVideoSsrc(d.userId),Ev.unsubscribeVideo(d.userId),c.push(f3(void 0))),eo(c)}))),videoRenderEpics14:(e,n)=>e.pipe(Uo(`${f3}`),En((o=>!!o.payload)),$o((o=>{const{payload:{lastCopy:i}}=o,{video:{prefetchedVideo:c}}=n.value;!c||i&&i.userId===c.userId||(i!=null&&i.userId&&(i.loaded&&Ev.cancelPrefetchVideoSsrc(i.userId),Ev.unsubscribeVideo(i.userId)),Ev.subscribeVideo(c.userId,YJ.Video_360P,!1),Ev.prefetchVideoSsrc(c.userId))})),Pa(Oo)),videoRenderEpics15:(e,n)=>lr(e,Jn.NewActiveSpeakerFirstFrameCallback).pipe(En((()=>!!n.value.video.prefetchedVideo)),rn((o=>{const{payload:{data:{ssrc:i}}}=o,{video:{prefetchedVideo:c}}=n.value,d=[];return c&&(qf(c.userId,i)?(d.push(f3({userId:c.userId,loaded:!0,lastCopy:c})),it(zDe,{userId:c.userId})):Ev.unsubscribeVideo(c.userId)),eo(d)}))),videoRenderEpics16:(e,n)=>Bo(e,16131).pipe(En((o=>o.payload.body.ssrc!==void 0)),$o((()=>{const{media:{videoDecodeStatus:o,videoEncodeStatus:i}}=n.value;Gf("video",i,o).subscribe((([c,d])=>{const{video:{subscriptionStatus:p}}=n.value;c&&p.encode&&Ev.subscribeToQos([Op.VideoEncode],Fx),d&&(p.decode&&Ev.subscribeToQos([Op.VideoDecode],Fx),p.detailed&&Ev.enableVideoObserver(!0))}))})),Pa(Oo)),videoRenderEpics17:(e,n)=>e.pipe(Uo(`${Ak}`,`${AQ}`),En((()=>{const o=n.value.video.renderedVideoList.length;return[0,1].includes(o)})),$o((()=>{const{video:{renderedVideoList:o,subscriptionStatus:i}}=n.value,c=o.length;c===1?Ev.enableVideoObserver(!0,i==null||!i.detailed):c===0&&Ev.enableVideoObserver(!1)})),Pa(Oo)),videoRenderEpics18:(e,n)=>lr(e,Jn.CurrentDecodeVideoQuality).pipe(rn((o=>{const{payload:{data:i}}=o,{video:{renderedVideoList:c,videoAttachments:d}}=n.value,p=[],{ssrc:v,width:S,height:T}=i,x=T?S/T:0,P=c.filter((B=>qf(B.userId,v)));if(P.some((B=>B.aspectRatio&&Math.abs(B.aspectRatio-x)>.2))){const B=P.filter((U=>U.canvasId===a3));if(B.length>0){const U=d[`${v}`];if(U){const j=U.map((Z=>{if(Z){const{clientWidth:re,clientHeight:le}=Z;return le?re/le:0}return 0})).filter((Z=>Z!==0));if(j.every((Z=>Math.abs(Z-x)<=.2)))p.push(Ak({userId:v,key:sO,canvasId:a3,aspectRatio:x}));else{const Z=j.length>0?j.reduce(((re,le)=>Math.abs(le-x)>Math.abs(re-x)?le:re),j[0]):j[0];p.push(Ak({userId:v,key:sO,canvasId:a3,aspectRatio:Z}))}}}(B.length!==P.length||p.filter((U=>{var j;return((j=U.payload)===null||j===void 0?void 0:j.aspectRatio)!==x})).length>0)&&it(WDe,{userId:v,aspectRatio:x})}return eo(p)}))),videoRenderEpics19:(e,n)=>lr(e,Jn.SyncRendererTypeResponse).pipe(rn((o=>{const{payload:{data:{rendererType:i}}}=o,{video:{rendererType:c}}=n.value,d=[];return c!==i&&d.push(WPe(i)),eo(d)}))),videoRenderEpics20:(e,n)=>e.pipe(Uo(`${Mv}`),En((()=>!!n.value.meeting.zlkJwtToken||!!n.value.meeting.sign)),xo((o=>{var i;const{payload:{mediaFeatureOptions:c,webMediaBlockConfig:d}}=o,{meeting:{zlkJwtToken:p,sign:v}}=n.value;let S=2;const T=p||v;if(T){const{video_webrtc_mode:U}=aA(T);U!==void 0&&(S=Number(U))}const{shouldUseWebRTC:x,errNo:P}=Ns.getWebRTCCapability(S,c??"",(i=JSON.parse(d||"{}"))===null||i===void 0?void 0:i.WebRTCConfig);x||S!==1||console.warn(F8e[P]||"An error occurred with WebRTC Video.");const B=ai.get(ol.VideoSDKWebRTCVideoFallbackWasm)===1;return kye(x&&!B)}))),videoRenderEpics21:(e,n)=>e.pipe(Uo(`${Iye}`),En((o=>{const{payload:{userId:i}}=o,{meeting:{userId:c}}=n.value;return lk()&&i===c})),rn((o=>{const{payload:{element:i}}=o,{media:{alternativeNameForVideoPlayer:c},video:{isMirrored:d}}=n.value,p=`${c??"video-player"}-container`;return vEe(i,p)?Promise.resolve({element:i,ret:!0}):d?vc(rA((v=>{const S=new MutationObserver(v);S.observe(document.body,{childList:!0,subtree:!0}),v.__observer=S}),(v=>{const S=v.__observer;S==null||S.disconnect()})).pipe(En((()=>vEe(i,p))),Nh(iA(_u(5e3))),xo((()=>({element:i,ret:!0}))))).catch((()=>({element:i,ret:!1}))):Promise.resolve({element:i,ret:!1})})),ed(sA),$o((o=>{const{element:i,ret:c}=o;var d;c&&Mye(i==null||(d=i.render)===null||d===void 0?void 0:d.el,n.value.video.isMirrored)})),Eg())},Iqe=xg(Oqe,xqe,{vbEpics0:e=>lr(e,[Jn.VbModelPreloadingOk,Jn.VbModelPreloading_3S,Jn.VbModelPreloading_10S,Jn.VbSettingParaError]).pipe(rn((n=>{const{payload:{type:o,data:i}}=n,c=[];return[Jn.VbModelPreloadingOk,Jn.VbModelPreloading_3S,Jn.VbModelPreloading_10S].includes(o)?(c.push(Qge(!0)),it(cQ,!0),o===Jn.VbModelPreloading_10S&&console.warn("Virtual Background is taking longer than expected to load.")):o===Jn.VbSettingParaError&&(i===eDe.VBModelNotMatch?(it(cQ,!1),c.push(Qge(!1))):(it(Sge,!1),c.push(TQ(!1)))),eo(c)}))),vbEpics1:e=>lr(e,Jn.StartVideoStreamInVbSettingSuccess).pipe(xo((()=>(it(Sge,!0),TQ(!0))))),vbEpics2:e=>lr(e,Jn.StartVideoStreamInMaskSettingSuccess).pipe(xo((()=>(it(Age,!0),DQ(!0))))),vbEpics3:e=>lr(e,Jn.MaskSettingParaError).pipe(xo((()=>(it(Age,!1),DQ(!1)))))},Tqe);let AS=(function(e){return e.VIDEO_ENCODE="0",e.VIDEO_DECODE="1",e.AUDIO_ENCODE="2",e.AUDIO_DECODE="3",e.SHARING_ENCODE="4",e.SHARING_DECODE="5",e})({}),Az=(function(e){return e[e.NONE=0]="NONE",e[e.AES_256=1]="AES_256",e[e.AES_GCM=2]="AES_GCM",e})({});const Xf=Object.freeze({RWG_CHAT:{gcmType:1,sessionType:"RWG_CHAT"},XMPP_CHAT:{gcmType:1,sessionType:"XMPP_CHAT"},CC_MESSAGE:{gcmType:3,sessionType:"CC_MESSAGE"},BO_BROADCAST:{gcmType:1,sessionType:"BO_BROADCAST"},CHAT_FILE:{gcmType:2,sessionType:"CHAT_FILE"},CHAT_FILE_INFO:{gcmType:1,sessionType:"CHAT_FILE_INFO"}}),E5=(window.crypto||window.msCrypto).subtle,RL=ol.WebclientIVState,Rqe=Object.keys(Xf).map((e=>Xf[e].sessionType));class Jf{constructor(n,o,i){this.isGCMEnabled=void 0,this.gcmSessionKey=void 0,this.gcmMainSessionKey=void 0,this.zoomId=void 0,this.resetParameters(n,o,i),ai.set(RL,{},ya.SessionStorage)}static init(n,o,i){this.instance?this.instance.resetParameters(n,o,i):this.instance=new Jf(n,o,i)}static destroy(){this.instance&&(this.instance=void 0)}resetParameters(n,o,i){this.isGCMEnabled=!(Yo.isIE||!Yo.isSupportEssentialAudioAndVideoAbility)&&i===Az.AES_GCM,this.gcmSessionKey=j0(o),this.gcmMainSessionKey||(this.gcmMainSessionKey=this.gcmSessionKey),this.zoomId=String(n)}beginCrypto(n,o,i){const c=new Uint32Array(1);c[0]=9,c[0]+=Number(i);const d=new Uint8Array(c.buffer);let p=new Uint8Array(132);const v=j0(o);return p.set(v,0),p.set(d,v.length),p=p.subarray(0,v.length+4),E5.importKey("raw",n,{name:"HMAC",hash:"SHA-256"},!0,["sign"]).then((S=>E5.sign({name:"HMAC"},S,p))).then((S=>E5.importKey("raw",S,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])))}getNextIV(n){const o=ai.get(RL);return o[n]===void 0?(o[n]=0,ai.set(RL,o,ya.SessionStorage)):ai.set(RL,(i=>({...i,[n]:i[n]+1})),ya.SessionStorage)}resetIVState(){const n=ai.get(RL);if(n!==void 0){const o=Object.keys(n).filter((i=>Rqe.indexOf(i)>-1));o.length>0&&(o.forEach((i=>{n[i]+=1e6})),ai.set(RL,n,ya.SessionStorage))}}static resetIV(){if(this.instance===void 0)throw new Error("reset before intialize");this.instance.resetIVState()}static beginEncrypt({text:n,type:o}){const i=new Uint8Array(0);if(this.instance&&this.instance.isGCMEnabled){const p=this.instance.getNextIV(o.sessionType),v=new ArrayBuffer(12),S=new Uint8Array(v);new DataView(v).setUint32(0,p,!0);let T=null;return T=o.sessionType==="BO_BROADCAST"||o.sessionType==="XMPP_CHAT"?this.instance.gcmMainSessionKey:this.instance.gcmSessionKey,this.instance.beginCrypto(T,this.instance.zoomId,o.gcmType).then((x=>{const P=ArrayBuffer.isView(n)?n:new TextEncoder().encode(n);return E5.encrypt({name:"AES-GCM",iv:S,additionalData:i,tagLength:128},x,P)})).then((x=>{const P=1+S.byteLength+2+i.byteLength+4+x.byteLength,B=new ArrayBuffer(P);if(new Uint8Array(B)[0]=S.length,new Uint8Array(B,1,S.byteLength).set(S),new DataView(B).setUint16(1+S.byteLength,i.length,!0),new Uint8Array(B,3+S.byteLength).set(i),new DataView(B).setUint32(1+S.byteLength+2+i.byteLength,x.byteLength-16,!0),new Uint8Array(B,1+S.byteLength+2+i.byteLength+4).set(new Uint8Array(x)),o.sessionType===Xf.CHAT_FILE.sessionType)return B;const U=new Uint8Array(B).reduce(((j,W)=>j+String.fromCharCode(W)),"");return window.btoa(U).replace(/_/g,"/").replace(/-/g,"+").replace(/\=/g,"")}))}return Promise.resolve(ArrayBuffer.isView(n)?n:Su(n))}static beginDecrypt({decryptedText:n,type:o,zoomId:i}){if(this.instance&&this.instance.isGCMEnabled){const c=ArrayBuffer.isView(n)||n instanceof ArrayBuffer?new Uint8Array(n):(function(W){let Z;const re=W.length,le=new Array(re);for(Z=0;Z<re;++Z)le[Z]=255&W.charCodeAt(Z);return new Uint8Array(le)})(atob(n.replace(/_/g,"/").replace(/-/g,"+"))),d=c[0],p=c.slice(1,d+1),v=c.slice(1+d,3+d),S=new DataView(v.buffer).getUint16(0,!0),T=c.slice(1+d+2,1+d+2+S),x=c.slice(1+d+2+S,1+d+2+S+4),P=new DataView(x.buffer).getUint32(0,!0),B=c.slice(1+d+2+S+4,1+d+2+S+4+P),U=c.slice(1+d+2+S+4+P);let j=null;return j=o.sessionType==="BO_BROADCAST"||o.sessionType==="XMPP_CHAT"?this.instance.gcmMainSessionKey:this.instance.gcmSessionKey,this.instance.beginCrypto(j,i,o.gcmType).then((W=>{const Z=(function(re,le){re=new Uint8Array(re),le=new Uint8Array(le);const ie=new Uint8Array(re.length+le.length);return ie.set(re),ie.set(le,re.length),ie})(B,U);return E5.decrypt({name:"AES-GCM",iv:p,additionalData:T,tagLength:8*U.length},W,Z.buffer)})).then((W=>({message:o.sessionType===Xf.CHAT_FILE.sessionType?W:new TextDecoder().decode(W),iv:p,aad:T}))).catch((W=>({message:"[This is an encrypted message]",iv:p,aad:T})))}{const c=new TextDecoder("utf-8");return Promise.resolve({message:ArrayBuffer.isView(n)||n instanceof ArrayBuffer?n:c.decode(j0(n))})}}}Jf.instance=void 0;const tJ=Qf.getInstance().makeLogger(["Remote Control"]),kqe=Rm(Ns.getInstance()),O3e=(e,n,o)=>{const i={setAttribute:(c,d)=>{i[c]=d},getAttribute:c=>i[c]||null,removeAttribute:c=>{delete i[c]},tagName:o.toUpperCase(),id:`dummy-render-${e}-${n}`,isDummy:!0,canvasId:n,toString:()=>`DummyVideoPlayer(${e}, ${n})`};return i.setAttribute("node-id",`${e}`),i.setAttribute("media-type","share"),i.setAttribute("render-type","canvas"),i};function C3(e,n,o,i,c){let{share:{activeNodeId:d,shareQuality:p}}=n;const{share:{isReceiveSharingFromMainSession:v}}=n;o&&(d=o),i!==void 0&&(p=i);const S=FLe(n);e.subscribeSharing(d,p,v,S,c)}class I3e{constructor(){this.checkerSubject=void 0,this.checkerSubscription=void 0}startCheck(n){return this.checkerSubject&&this.stopCheck(),this.checkerSubject=new qy,this.checkerSubscription=_u(n).subscribe(this.checkerSubject),this.checkerSubject}stopCheck(){var n;this.checkerSubject&&(this.checkerSubject.complete(),(n=this.checkerSubscription)===null||n===void 0||n.unsubscribe(),this.checkerSubject=void 0)}}const R3e=new I3e,k3e=new I3e;function j5(){return R3e.stopCheck()}function nbe(){return k3e.stopCheck()}function see(e,n){j5(),nbe();const{share:{remoteControllingSsrc:o},meeting:{userId:i}}=e;o&&(M3e(),n.takeBackRemoteControlPermission(i,o))}async function D3e(e,n,o,i,c){const{share:{isSDKGrabControl:d,isGrabRemoteControl:p}}=o;if(!p){i.subscribeGrabRemoteControl(e,!0);try{await vc(xa(Ek,1).pipe(En((S=>!!S))))}catch{}}const v=cqe(o);v&&(d?(c.resendRemoteControlPositionPDU(),c.updateRemoteControlProperties({os:v.os,isControllerNow:!0,dimension:n&&yQ(n)})):n&&c.startRemoteControl(n,v.os,yQ(n)))}function M3e(){tJ.log("qr scanning stop"),kqe.startRemoteControlQRCheck(!1)}function P3e(e,n,o){var i;const{audio:c}=n;if((c==null||(i=c.localShareAudioUserMutedList)===null||i===void 0?void 0:i.length)>0){const{localShareAudioUserMutedList:d}=c,p=d.find((v=>v.userId===e));vPe(e,!(p==null||!p.muted),n,o)}}function cAe(e,n,o){const i=e.find((c=>c.ssrc===n));return i!=null&&i.isInitialized?Promise.reject({type:dn,reason:"Cannot start share view due to annotation is in progress.",errorCode:lt.SCREEN_SHARE_MISMATCH_STATE}):(o.stopPresenterAnnotation(n),null)}function uAe(e,n){return e.findIndex((o=>o.userId===n))===-1?Promise.reject({type:nr,reason:"Target user is not sharing",errorCode:lt.STREAM_MISMATCH_USER}):null}function dAe(){return Yo.isAndroidOrIOSBrowser||Yo.isHarmonyOS||Yo.is32bitChrome?1:4}async function Dqe(e,n,o){var i;const{meeting:{bIbDisableShare:c},share:{isReceiveSharingFromMainSession:d,annotationUsers:p,ssrc:v},audio:S}=n;if(c)return Promise.reject({type:dn,reason:"information barrier",errorCode:lt.SCREEN_SHARE_IB_DENIED});if(typeof((i=navigator.mediaDevices)===null||i===void 0?void 0:i.getDisplayMedia)!="function")return Promise.reject({type:dn,reason:"Unable to share your screen due to the technical limitation",errorCode:lt.SCREEN_SHARE_UNSUPPORTED});if(d)return Promise.reject({type:dn,reason:"Unable to share your screen while someone is sharing from the main session",errorCode:lt.SCREEN_SHARE_SUBSESSION_CONFLICT});if((S==null?void 0:S.secondaryAudioMicrophoneId)!==void 0)return Promise.reject({type:dn,reason:"Cannot start screen share while secondary audio is in progress.",errorCode:lt.SECONDARY_AUDIO_SCREEN_SHARING_CONFLICT});var T;if(Yo.isSupportMediaStreamTrackProcessor){if(!G_(e))return Promise.reject({type:nr,reason:"Use Video element instead of Canvas element when WebCodecs enabled",errorCode:lt.STREAM_MISMATCH_RENDER_ELEMENT})}else if(!d4(e))return Promise.reject({type:nr,reason:`Expected to accept HTMLCanvasElement, but actual it is ${typeof e=="object"&&e!==null?(T=Object.getPrototypeOf(e))===null||T===void 0?void 0:T.constructor.name:e}`,errorCode:lt.STREAM_MISMATCH_RENDER_ELEMENT});if(o!=null&&o.simultaneousShareView&&p.some((x=>x.isInitialized&&x.ssrc!==v)))return Promise.reject({type:dn,reason:"Cannot start share screen due to annotation is in progress.",errorCode:lt.SCREEN_SHARE_MISMATCH_STATE});await(async function(x){const{share:{sharePrivilege:P}}=x,B=H_(x),U=Iv(x);if(P===U0.OnlyHost&&!U)return Promise.reject({type:Pp,reason:"only host can start screen share",errorCode:lt.SCREEN_SHARE_HOST_PRIVILEGE_REQUIRED});if(P===U0.HostGrab&&!U&&B.length>0)return Promise.reject({type:Pp,reason:"only host can grab screen share",errorCode:lt.SCREEN_SHARE_HOST_PRIVILEGE_REQUIRED});const j=gs(x);return(j==null?void 0:j.sharerOn)===!0?Promise.reject({type:dn,reason:"you have already started screen share.",errorCode:lt.SCREEN_SHARE_MISMATCH_STATE}):void 0})(n)}function L_(e,n){const{share:{isReceiveSharingFromMainSession:o},breakoutRoom:i}=n;var c,d;return o?i==null||(c=i.mainSessionAttendeeList.find((p=>p.userId===e)))===null||c===void 0?void 0:c.shareSsrc:(d=Ba(n).find((p=>p.userId===e)))===null||d===void 0?void 0:d.shareSsrc}function N3e(e,n){const{state:o,rwgAgent:i,mediaAgent:c}=n,{share:{remoteControlledUserList:d}}=o;P3e(e,o,c),d.includes(e)&&D3e(e,void 0,o,i,c)}function L3e(e,n){const{state:o,rwgAgent:i,mediaAgent:c}=n,{share:{remoteControlledUserList:d,isGrabRemoteControl:p}}=o,v=(function(S,T){const{state:x,mediaAgent:P}=T,B=[];if(S){const{share:{annotationUsers:W}}=x,Z=L_(S,x);var U,j;Z&&(J2(x)?(U=W.find((re=>re.ssrc===Z)))!==null&&U!==void 0&&U.isInitialized&&(P.hideViewerAnnotationCanvas(),P.stopViewerAnnotation(Z),B.push(_S({ssrc:Z,isInitialized:!1,isStarted:!1}))):(j=W.find((re=>re.ssrc===Z)))!==null&&j!==void 0&&j.isStarted&&(P.annotateAction(xp.CLOSE_TOOL_BAR),B.push(_S({ssrc:Z,isStarted:!1}))))}return B})(e,n);return d.includes(e)&&(p&&i.subscribeGrabRemoteControl(e,!1),c.updateRemoteControlProperties({isControllerNow:!1})),v}function obe(e,n,o,i){var c;const{state:d,rwgAgent:p,mediaAgent:v}=i,{share:{isReceiveSharingFromMainSession:S,shareViewAttachments:T}}=d,x=L3e(e,i);p.unsubscribeSharing(e,S),C3(p,d,n),v.switchSharingSource(o,S);const P=(c=T[`${e}`])===null||c===void 0?void 0:c.find((B=>B.isDummy));if(P){x.push(p6({userId:e,element:P}));const B=O3e(n,P.canvasId,P.tagName);x.push(oee({userId:n,element:B}))}return N3e(n,i),x}const nE=ea.createAgent(),fg=Rm(Ns.getInstance()),A_=ea.createAgent(),oE=Rm(Ns.getInstance()),T_=Rm(Ns.getInstance()),hAe={ssrc:0,status:Xr.End,shareDimension:{width:0,height:0},receivedShareDimension:{width:1920,height:1080,logicWidth:1920,logicHeight:1080},sharePrivilege:U0.OnlyHost,activeNodeId:0,activeSsrc:0,shareQuality:1,isRemoteSharingActive:!1,isReceiveSharing:!1,isGrabRemoteControl:!1,isSDKGrabControl:!1,isScreenShareForbidden:!1,isReceiveSharingFromMainSession:!1,isSharingToBreakoutRoom:!1,isSharingWithSecondCamera:!1,secondCameraId:"default",isRequireReadReceipt:!1,capturedEnsuredCanvas:[],renderedEnsuredCanvas:[],remoteControllingSsrc:0,remoteControlApprovedSsrc:0,remoteControlAppDownloadUrl:"",remoteControlAppInstallStatus:Ip.Unknown,isEnableAutoDeleteRcApp:!1,remoteControlledUserList:[],isRemoteControlEnabled:!1,isSimultaneousShareView:!1,statistic:{encode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,width:0,height:0,fps:0,bandwidth:0,bitrate:0},decode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,width:0,height:0,fps:0,bandwidth:0,bitrate:0}},annotationCapability:0,isAnnotationInitialized:!1,isAnnotationStarted:!1,annotationUsers:[],annotationToolColor:xEe.DarkGrey,annotationSpotlightColor:xEe.Red,annotationToolWidth:8,annotationToolType:dE.None,shareViewAttachments:{},annotationVanishingToolTimer:{displayTime:0,vanishingTime:2e3}},Mqe=["userId","ssrc","isInitialized","isStarted","isDisabled"],Pqe=Im({[`${o1e}`]:ht(((e,{payload:n})=>{e.sharePrivilege=n})),[`${b3}`]:ht(((e,{payload:n})=>{e.isRemoteSharingActive=n.bStatus===1,e.activeNodeId=n.activeNodeID,e.activeSsrc=n.ssrc})),[`${cO}`]:ht(((e,{payload:n})=>{e.isReceiveSharing=n})),[`${s1e}`]:ht(((e,{payload:n})=>{e.shareDimension={...n}})),[`${Sg}`]:ht(((e,{payload:n})=>{e.status=n,n===Xr.End&&(e.isSimultaneousShareView=!1)})),[`${f3e}`]:ht(((e,{payload:n})=>{e.ssrc=n})),[`${r1e}`]:ht(((e,{payload:n})=>{e.shareQuality=n})),[`${tee}`]:ht(((e,{payload:n})=>{e.receivedShareDimension={...n}})),[`${C3e}`]:ht(((e,{payload:n})=>{e.remoteControlledUserList.includes(n)||e.remoteControlledUserList.push(n)})),[`${ebe}`]:ht(((e,{payload:n})=>{const o=e.remoteControlledUserList.indexOf(n);o>=0&&e.remoteControlledUserList.splice(o,1)})),[`${eJ}`]:ht(((e,{payload:n})=>{e.isGrabRemoteControl=n,n===!1&&(e.remoteControlViewportDomSelector=void 0)})),[`${Jve}`]:ht(((e,{payload:n})=>{e.isSDKGrabControl=n})),[`${p3e}`]:ht(((e,{payload:n})=>{e.isReceiveSharingFromMainSession=n})),[`${z5}`]:ht(((e,{payload:n})=>{e.isSharingToBreakoutRoom=n})),[`${m3e}`]:ht(((e,{payload:n})=>{e.isSharingWithSecondCamera=n})),[`${g3e}`]:ht(((e,{payload:n})=>{e.secondCameraId=n})),[`${v3e}`]:ht(((e,{payload:n})=>{e.isRequireReadReceipt=n})),[`${nee}`]:ht(((e,{payload:n})=>{e.isOptimizedForSharedVideo=n})),[`${Qve}`]:ht(((e,{payload:n})=>{const{data:{encoding:o,rate:i,...c}}=n;e.statistic.encode={bitrate:i,...c}})),[`${K6}`]:ht(((e,{payload:n})=>{const{data:{encoding:o,rate:i,...c}}=n;e.statistic.decode={bitrate:i,...c}})),[`${b3e}`]:ht(((e,{payload:n})=>{e.capturedEnsuredCanvas.includes(n)||e.capturedEnsuredCanvas.push(n)})),[`${y3e}`]:ht(((e,{payload:n})=>{e.renderedEnsuredCanvas.includes(n)||e.renderedEnsuredCanvas.push(n)})),[`${f6}`]:ht(((e,{payload:n})=>{e.remoteControllingSsrc=n})),[`${y3}`]:ht(((e,{payload:n})=>{e.remoteControlApprovedSsrc=n})),[`${S3e}`]:ht(((e,{payload:n})=>{e.remoteControlAppDownloadUrl=n})),[`${Q2}`]:ht(((e,{payload:n})=>{(e.remoteControlAppInstallStatus!==Ip.Installed||Ip.Unknown)&&(e.remoteControlAppInstallStatus=n)})),[`${gE}`]:ht(((e,{payload:n})=>{e.remoteControlAppLaunchSheme=n})),[`${i1e}`]:ht(((e,{payload:n})=>{Object.assign(e,n)})),[`${a1e}`]:ht(((e,{payload:n})=>{e.remoteControlViewportDomSelector=n})),[`${E3e}`]:ht(((e,{payload:n})=>{e.annotationCapability=n})),[`${vqe}`]:ht(((e,{payload:n})=>{e.isAnnotationInitialized=n})),[`${bqe}`]:ht(((e,{payload:n})=>{e.isAnnotationStarted=n})),[`${_S}`]:ht(((e,{payload:n})=>{const{userId:o,ssrc:i,isInitialized:c,isStarted:d,isDisabled:p}=n;let v=-1;if(o!==void 0?v=e.annotationUsers.findIndex((S=>{var T;return S.userId===o||qf(o,(T=S.ssrc)!==null&&T!==void 0?T:0)})):i!==void 0&&(v=e.annotationUsers.findIndex((S=>{var T;return S.ssrc===i||qf(i,(T=S.userId)!==null&&T!==void 0?T:0)}))),v>=0){const S=e.annotationUsers[v];Object.entries(n).forEach((([T,x])=>{n[T]!==void 0&&Mqe.includes(T)&&Object.assign(S,{[T]:x})}))}else e.annotationUsers.push({userId:o,ssrc:i,isInitialized:c||!1,isStarted:d||!1,isDisabled:p||!1})})),[`${w3e}`]:ht(((e,{payload:n})=>{e.annotationToolColor=n})),[`${_3e}`]:ht(((e,{payload:n})=>{e.annotationSpotlightColor=n})),[`${A3e}`]:ht(((e,{payload:n})=>{e.annotationToolWidth=n})),[`${S3}`]:ht(((e,{payload:n})=>{e.annotationToolType=n})),[`${tbe}`]:ht(((e,{payload:n})=>{e.isSimultaneousShareView=n})),[`${oee}`]:ht(((e,{payload:n})=>{const{userId:o,element:i}=n;if(e.shareViewAttachments[`${o}`]){const c=FQ(e.shareViewAttachments[`${o}`]);(c==null?void 0:c.indexOf(i))===-1&&e.shareViewAttachments[`${o}`].push(i)}else e.shareViewAttachments[`${o}`]=[],e.shareViewAttachments[`${o}`].push(i)})),[`${p6}`]:ht(((e,{payload:n})=>{const{userId:o,element:i}=n,c=e.shareViewAttachments[`${o}`];if((c==null?void 0:c.length)>0){let d=i;Array.isArray(i)||(d=[i]),d.forEach((p=>{var v;const S=(v=FQ(c))===null||v===void 0?void 0:v.indexOf(p);S!==void 0&&S!==-1&&c.splice(S,1)}))}})),[`${T3e}`]:ht(((e,{payload:n})=>{e.annotationVanishingToolTimer={...n}})),[`${x3e}`]:()=>({...hAe})},hAe),Nqe={annotationEpics0:(e,n)=>e.pipe(Uo(`${Mv}`),xo((()=>{const{meeting:{mediaFeatureOptions:o}}=n.value,i=o?Ns.getAnnotationCapability(o):0;return E3e(i)}))),annotationEpics1:e=>lr(e,[Jn.StartAnnotationSuccess,Jn.StartAnnotationFailed]).pipe($o((n=>{const{payload:{data:o,type:i}}=n;i===Jn.StartAnnotationSuccess?it(kge):i===Jn.StartAnnotationFailed&&it(kge,o)})),rn((()=>Oo))),annotationEpics2:e=>Bo(e,20241).pipe(xo((n=>{const{activeNodeID:o,annotationOff:i}=n.payload.body;return it(Eye,{userId:o,isAnnotationEnabled:i===0}),_S({userId:o,isDisabled:i===1})}))),annotationEpics3:(e,n)=>lr(e,Jn.AnnotationRedoStatus).pipe(ts(n),$o((([o,i])=>{const{payload:{data:c}}=o,{share:{activeSsrc:d,ssrc:p,annotationUsers:v}}=i;v.filter((S=>[d,p].includes(S.ssrc))).some((S=>S.isInitialized))&&it(TMe,c)})),rn((()=>Oo))),annotationEpics4:(e,n)=>lr(e,Jn.AnnotationUndoStatus).pipe(ts(n),$o((([o,i])=>{const{payload:{data:c}}=o,{share:{activeSsrc:d,ssrc:p,annotationUsers:v}}=i;v.filter((S=>[d,p].includes(S.ssrc))).some((S=>S.isInitialized))&&it(AMe,c)})),rn((()=>Oo))),annotationEpics5:(e,n)=>Bo(e,jl).pipe(xo((o=>K_(o.payload.body))),ts(n),$o((([o,i])=>{const{share:{ssrc:c},meeting:{userId:d}}=i;if(o.update){const p=o.update.find((v=>(v==null?void 0:v.userId)===d&&v.sharerOn!==void 0));if(p!=null&&p.sharerOn){const v=gs(i);T_.updateSharingInfo(c,(v==null?void 0:v.displayName)||"")}}})),rn((()=>Oo))),annotationEpics6:(e,n)=>lr(e,Jn.AnnoViewerRequestDraw).pipe(ts(n),$o((([o,i])=>{const{payload:{data:c}}=o,{breakoutRoom:d,participants:{attendeesList:p}}=i,{userId:v}=c;if(it(xMe,c),v){var S,T;const x=((S=p.find((B=>qf(B.userId,v))))===null||S===void 0?void 0:S.displayName)||(d==null||(T=d.mainSessionAttendeeList)===null||T===void 0||(T=T.find((B=>qf(B.userId,v))))===null||T===void 0?void 0:T.displayName)||"",P={userId:v,userName:x};T_.annotateAction(xp.ANNOTATOR_ID_TO_NAME,P)}})),rn((()=>Oo))),annotationEpics7:(e,n)=>e.pipe(Uo(`${Sg}`),ts(n),En((([,o])=>{var i;return((i=o.share)===null||i===void 0?void 0:i.status)===Xr.End})),rn((([o,i])=>{const{share:{annotationUsers:c,ssrc:d}}=i,p=[];return c.find((v=>v.ssrc===d))&&(T_.stopPresenterAnnotation(d),p.push(_S({ssrc:d,isInitialized:!1,isStarted:!1})),p.push(S3(dE.None))),eo(p)}))),annotationEpics8:(e,n)=>e.pipe(Uo(`${cO}`),ed(Dv),ts(n),En((([,o])=>o.share.isReceiveSharing===!1)),rn((([o,i])=>{const{share:{activeNodeId:c,annotationUsers:d}}=i,p=[],v=L_(c,i);return v&&d.find((S=>S.ssrc===v))&&(T_.stopViewerAnnotation(v),p.push(_S({ssrc:v,isInitialized:!1,isStarted:!1})),p.push(S3(dE.None))),T_.hideViewerAnnotationCanvas(),eo(p)}))),annotationEpics9:(e,n)=>Bo(e,jl).pipe(ts(n),En((([o,i])=>{const{meeting:{userId:c}}=i,d=o.payload.body.update;return d&&d.length>0&&d.findIndex((p=>p.id!==c&&p.bShareOn!==void 0))>-1})),rn((([o,i])=>{const{payload:{body:{update:c}}}=o,{share:{annotationUsers:d}}=i,p=c.filter((S=>S.bShareOn===!1)),v=[];return p==null||p.forEach((S=>{const{shareSsrc:T}=S;T&&d.find((x=>x.ssrc===T))&&(T_.stopViewerAnnotation(T),v.push(_S({ssrc:T,isInitialized:!1,isStarted:!1})),v.push(S3(dE.None)))})),eo(v)}))),annotationEpics10:(e,n)=>e.pipe(Uo(`${s1e}`),ts(n),$o((([o,i])=>{var c;const{share:{ssrc:d,annotationUsers:p}}=i;(c=p.find((v=>v.ssrc===d)))!==null&&c!==void 0&&c.isInitialized&&T_.updatePresenterAnnotationCanvas()})),rn((()=>Oo))),annotationEpics11:(e,n)=>e.pipe(Uo(`${tee}`),ed(Dv),ts(n),$o((([o,i])=>{var c;const{share:{activeSsrc:d,annotationUsers:p}}=i;(c=p.find((v=>v.ssrc===d)))!==null&&c!==void 0&&c.isInitialized&&T_.updateViewerAnnotationCanvas()})),rn((()=>Oo))),annotationEpics12:e=>e.pipe(Uo(`${q0}`),$o((n=>{T_.removeViewerAnnotationCanvas()})),rn((()=>Oo)))},Lqe={remoteControlEpics0:e=>e.pipe(Uo(`${Mv}`),xo((n=>{const{payload:{meetingOptions:o,rcAutoDelete:i,jwtRc:c,opRc:d}}=n,p=(o==null?void 0:o.isRemoteControlEnbaled)&&d&&c===1;return i1e({isRemoteControlEnabled:p,isEnableAutoDeleteRcApp:i===1})}))),remoteControlEpics1:(e,n)=>Bo(e,16391).pipe(rn((o=>{const{payload:{body:{bOn:i,sendID:c,receiveID:d}}}=o,{meeting:{userId:p},share:{status:v,activeNodeId:S,isGrabRemoteControl:T}}=n.value,x=[];if(v===Xr.End&&x.push(f6(0)),v!==Xr.End)if(qf(p,c))i?(j5(),nbe(),v===Xr.Paused&&(A_.resumeSharing(),oE.resumeDesktopSharing(),x.push(Sg(Xr.Sharing))),x.push(f6(d))):x.push(f6(0));else{var P;const B=(P=Ba(n.value))===null||P===void 0?void 0:P.find((U=>qf(U.userId,c)));B&&it(EMe,{userId:B.userId,displayName:B.displayName,isSharingEntireScreen:oE.isSharingEntireScreen()})}else if(!d||qf(d,p)){const B=gs(n.value);if(!hf(B.userRole)&&!Yo.isAndroidOrIOSBrowser){const U=c&&qf(S,c);i?(x.push(C3e(S)),U&&(T||A_.subscribeGrabRemoteControl(S,!0))):(x.push(ebe(S)),U&&(T&&(A_.subscribeGrabRemoteControl(S,!1),x.push(eJ(!1)),it(Ek,!1)),oE.updateRemoteControlProperties({isControllerNow:!1}))),it(pQ,i)}}return eo(x)}))),remoteControlEpics2:(e,n)=>Bo(e,16395).pipe(ts(n),En((([o,i])=>o.payload.body.id===i.meeting.userId)),xo((([o])=>{const{payload:{body:{bOn:i}}}=o;return oE.updateRemoteControlProperties({isControllerNow:i}),it(Ek,i),eJ(i)}))),remoteControlEpics3:e=>lr(e,[Jn.StartRemoteControlSuccess,Jn.StartRemoteControlFailed,Jn.CancelRemoteControlSuccess]).pipe(_z((n=>n.payload.type===Jn.StartRemoteControlSuccess?(it(bMe),Jve(!0)):n.payload.type===Jn.CancelRemoteControlSuccess?Jve(!1):void(n.payload.type===Jn.StartRemoteControlFailed&&it(yMe))))),remoteControlEpics4:e=>lr(e,[Jn.RemoteControlCopiedTextNotify,Jn.RemoteControlPasteTextLengthOverflow]).pipe($o((n=>{if(n.payload.type===Jn.RemoteControlCopiedTextNotify){const{payload:{data:o}}=n;it(Ige,{content:o.data,x:o.x,y:o.y})}else it(Ige,{error:"length of pasted text is too long"})})),Pa(Oo)),remoteControlEpics5:(e,n)=>Bo(e,4342).pipe(En((o=>o.payload.body.result===0)),rn((o=>{const{payload:{body:{downloadUrl:i,ssrc:c,urlScheme:d}}}=o,{share:{remoteControlApprovedSsrc:p,status:v}}=n.value,S=[],{isMacOS:T}=Yo;if(v!==Xr.End){if(!p||p===c){j5();try{const j=JSON.parse(i||"{}"),W=T?j.macDownloadUrl:j.winDownloadUrl;S.push(S3e(W))}catch(j){console.warn("unsupported JSON string",j)}}const x={},P=Ba(n.value).find((j=>qf(j.userId,c)));P&&Object.assign(x,{controllerName:Su(P.displayName)}),Object.assign(x,{ssrc:c});const{deviceId:B}=oE.getShareStreamInfo();B&&Object.assign(x,{DeviceID:B});const U=`${d}&${new URLSearchParams(x).toString()}`;S.push(gE(U),Q2(Ip.Unknown)),it(wMe,U)}return eo(S)}))),remoteControlEpics6:e=>e.pipe(Uo(`${rAe}`),rn((()=>R3e.startCheck(1e4).pipe(xo((()=>(it(F2,Ip.Unknown),Q2(Ip.Unknown)))))))),remoteControlEpics7:(e,n)=>e.pipe(Uo(`${jpe}`),En((()=>{const{share:{remoteControlAppInstallStatus:o}}=n.value;return o===Ip.Installed})),rn((()=>k3e.startCheck(12e4).pipe(rn((()=>{it(F2,QJ.Unlaunched);const{share:{remoteControlApprovedSsrc:o,isEnableAutoDeleteRcApp:i},meeting:{userId:c}}=n.value,d=[],{isMacOS:p}=Yo;return o&&(A_.remoteControlConsent(JJ.CacheClean,o,c,{...oE.getShareStreamInfo(),platform:p?"mac":"win"},i),d.push(gE(""),y3(0))),eo(d)})))))),remoteControlEpics8:(e,n)=>e.pipe(Uo(`${gE}`),En((o=>!!o.payload)),rn((o=>{const{payload:i}=o,c=[];let d;if(i){(function(v){if(!v.startsWith("zoomprc://"))return;const S=q_("__ZOOM_SDK_RC_APP_SCHEME_@__");let T=document.getElementById(S);T||(T=document.createElement("iframe"),T.id=S,T.style.display="none",document.body.appendChild(T)),T.contentWindow.location.href=v})(i),c.push(jpe());const p=performance.now();document.hasFocus()?d=P6(25).pipe(sk((()=>{const v=performance.now()-p<500;return v||it(F2,Ip.Uninstalled),v&&n.value.share.remoteControlAppInstallStatus===Ip.Unknown})),Ei((()=>{const v=performance.now()-p,S=[];return document.hasFocus()||(v>75?S.push(rAe()):j5(),it(F2,Ip.Installed),S.push(Q2(Ip.Installed),jpe())),eo(S)})),(function(){for(var v=[],S=0;S<arguments.length;S++)v[S]=arguments[S];return function(T){return M6(T,Ua.apply(void 0,RS([],Xy(v))))}})(Q2(Ip.Uninstalled))):(it(F2,Ip.Unknown),c.push(Q2(Ip.Unknown)))}return d?Id(d,eo(c)):eo(c)}))),remoteControlEpics9:(e,n)=>Bo(e,Mve).pipe(rn((()=>(it(LX,ape.Ended),see(n.value,A_),eo([gE(""),y3(0)]))))),remoteControlEpics10:(e,n)=>e.pipe(Uo(`${Sg}`),En((o=>{const{share:{remoteControllingSsrc:i,remoteControlApprovedSsrc:c}}=n.value;return!(o.payload!==Xr.End||!i&&!c)})),$o((()=>{const{share:{remoteControllingSsrc:o,remoteControlApprovedSsrc:i,isEnableAutoDeleteRcApp:c},meeting:{userId:d}}=n.value,{isMacOS:p}=Yo;o&&see(n.value,A_),i!==o&&A_.remoteControlConsent(JJ.Decline,i,d,{...oE.getShareStreamInfo(),platform:p?"mac":"win"},c)})),Pa(Oo)),remoteControlEpics11:(e,n)=>Bo(e,16430).pipe(rn((()=>(j5(),nbe(),it(F2,QJ.Launched),n.value.share.status!==Xr.End&&(function(o,i){(async function(c){const{media:{assetsPath:d}}=c,p=`${d}/qrscanner.min.js`;return"WebQrscanner"in window?Promise.resolve(""):new Promise(((v,S)=>{tJ.log(`load qr scanner script start. url:${p}`),$ee(p,(()=>{tJ.log("load qr scanner script done."),v("")}),S)}))})(o).then((()=>{tJ.log("qr scanning start"),i.startRemoteControlQRCheck(!0)}))})(n.value,oE),eo([gE(""),y3(0)]))))),remoteControlEpics12:e=>lr(e,Jn.CurrentDesktopSharingWidthHeight).pipe($o((()=>{A_.syncSharedContentMetaWithRcApp(oE.getShareStreamInfo())})),Pa(Oo)),remoteControlEpics13:(e,n)=>lr(e,Jn.SendRemoteControlQrCode).pipe($o((o=>{const{payload:{data:i}}=o,{share:{status:c}}=n.value;c!==Xr.End&&Array.isArray(i)&&i.length>0&&i.forEach((d=>{d!=null&&d.startsWith("zrc_")&&A_.sendRemoteControlAuth(d)}))})),Pa(Oo)),remoteControlEpics14:e=>Bo(e,16434).pipe($o((n=>{const{payload:{body:{result:o}}}=n;o===0&&(M3e(),it(LX,ape.Started))})),Pa(Oo)),remoteControlEpics15:(e,n)=>Bo(e,jl).pipe(En((o=>{var i,c;const{meeting:{userId:d},share:{remoteControlledUserList:p}}=n.value,{payload:{body:v}}=o;return p.length>0&&(((i=v.update)===null||i===void 0?void 0:i.some((S=>S.id!==d&&S.bShareOn===!1)))||((c=v.remove)===null||c===void 0?void 0:c.some((S=>S.id!==d))))})),rn((o=>{var i,c,d,p;const{payload:{body:v}}=o,{share:{remoteControlledUserList:S,activeNodeId:T,isGrabRemoteControl:x},meeting:{userId:P}}=n.value,B=((i=(c=v.update)===null||c===void 0?void 0:c.filter((j=>j.id!==P&&j.bShareOn===!1)))!==null&&i!==void 0?i:[]).concat((d=(p=v.remove)===null||p===void 0?void 0:p.filter((j=>j.id!==P)))!==null&&d!==void 0?d:[]),U=[];return S.forEach((j=>{B.find((W=>W.id===j))&&(U.push(ebe(j)),j===T&&x&&(U.push(eJ(!1)),it(Ek,!1)))})),eo(U)}))),remoteControlEpics16:(e,n)=>e.pipe(Uo(`${wg}`),$o((()=>{const{share:{remoteControllingSsrc:o,status:i}}=n.value;i===Xr.Sharing&&o&&it(LX,ape.Ended)})),Pa(Oo)),remoteControlEpics17:e=>e.pipe(Uo(`${a1e}`),En((n=>!!n.payload)),Ei((n=>{const{payload:o}=n,i=document.querySelector(o);return i&&typeof ResizeObserver=="function"?(function(...d){return new Cu((p=>{const v=new ResizeObserver((S=>{S.forEach((T=>{p.next(T)}))}));return d.forEach((S=>v.observe(S))),()=>v.disconnect()}))})(i).pipe(Nh(iA(xa(d3).pipe(En((d=>!(d!=null&&d.isActive))),Qr(1)))),(c===void 0&&(c=Dv),lh((function(d,p){var v=null,S=null,T=null,x=function(){if(v){v.unsubscribe(),v=null;var B=S;S=null,p.next(B)}};function P(){var B=T+100,U=c.now();if(U<B)return v=this.schedule(void 0,B-U),void p.add(v);x()}d.subscribe(Rd(p,(function(B){S=B,T=c.now(),v||(v=c.schedule(P,100),p.add(v))}),(function(){x(),p.complete()}),void 0,(function(){S=v=null})))}))),$o((d=>{const{target:p}=d;p&&oE.updateRemoteControlProperties({dimension:yQ(p)})})),rn((()=>Oo))):Oo;var c})))},Bqe={epics0:(e,n)=>Bo(e,W0).pipe(En((o=>{var i;return((i=o.payload.body)===null||i===void 0?void 0:i.lockShare)!==void 0})),ts(n),$o((([o,i])=>{const{share:{sharePrivilege:c}}=i,{payload:{body:{lockShare:d}}}=o;c!==d&&it(SMe,d)})),xo((([o])=>o1e(o.payload.body.lockShare)))),epics1:e=>Bo(e,20227).pipe(xo((n=>f3e(n.payload.body.ssrc)))),epics2:(e,n)=>Bo(e,kve).pipe(ts(n),En((([o,i])=>{const{payload:{body:c}}=o,{share:{isReceiveSharingFromMainSession:d}}=i;return!d||d&&c.fromMainSession})),rn((([o,i])=>{const{share:{isReceiveSharing:c,activeNodeId:d,isReceiveSharingFromMainSession:p},meeting:{userId:v}}=i,{payload:{body:S}}=o,T=[];if(c&&S.bStatus===1){if(d!==v)if(J2(i))T.push(...obe(d,S.activeNodeID,S.ssrc,{state:i,rwgAgent:nE,mediaAgent:fg})),it(fQ,{userId:S.activeNodeID});else{const x={activeUserId:S.activeNodeID,isActive:!0};p&&Object.assign(x,{isFromMainSession:!0}),it(d3,x)}}else if(S.bStatus===1){const x={activeUserId:S.activeNodeID,isActive:!0};p&&Object.assign(x,{isFromMainSession:!0}),it(d3,x)}else if(c){const x={activeUserId:S.activeNodeID,isActive:!1};p&&Object.assign(x,{isFromMainSession:!0}),it(d3,x)}return T.push(b3(S)),eo(T)}))),epics3:(e,n)=>lr(e,[Jn.SharingDesktopStreamHaveAudio,Jn.SharingDesktopStreamHaveNoAudio]).pipe(En((o=>o.payload.type!==Jn.SharingDesktopStreamHaveAudio||!n.value.audio.secondaryAudioMicrophoneId)),ts(n),xo((([o,i])=>{const{meeting:{userId:c},share:{isSharingToBreakoutRoom:d,isOptimizedForSharedVideo:p}}=i,{payload:{type:v}}=o,S=v===Jn.SharingDesktopStreamHaveAudio;return nE.startSharing(c,{bShareToBO:d,bShareAudio:S,bShareVideo:!!p}),fg.switchSharingMode(p?e6.VideoMode:e6.Normal),sAe(!1)}))),epics4:e=>lr(e,[Jn.DesktopSharingError,Jn.DesktopSharingChromeExtensionUninstalled,Jn.DesktopSharingPermissionDenied,Jn.DesktopSharingSystemError]).pipe(rn((n=>{const o=[];let i="";return[Jn.DesktopSharingPermissionDenied,Jn.DesktopSharingSystemError].includes(n.payload.type)&&(o.push(sAe(!0)),n.payload.type===Jn.DesktopSharingSystemError?Yo.isMacOS&&(i="To use screen share on Chrome, please allow screen recording access in system setting."):i="To use screen share, please allow the permission request."),it(dMe,{reason:i}),eo(o)}))),epics5:(e,n)=>lr(e,Jn.CurrentDesktopSharingWidthHeight).pipe(En((o=>!!o.payload.data)),xo((o=>{it(hMe,{...o.payload.data,userId:n.value.meeting.userId});const{payload:{data:{width:i,height:c}}}=o;return fg.ajustmentSharingCanvas(i,c),s1e(o.payload.data)}))),epics6:(e,n)=>lr(e,Jn.SharingDecodeMaxSize).pipe(En((o=>!!o.payload.data)),ts(n),_z((([o,i])=>{const{share:{shareQuality:c,activeNodeId:d,shareViewAttachments:p}}=i,{payload:{data:{fps:v}}}=o,S=Number(v);if(c!==S)return J2(i)?C3(nE,i,d,S):Object.entries(p).filter((([,T])=>T.length>0)).forEach((([T])=>{C3(nE,i,Number(T),S)})),r1e(S)}))),epics7:(e,n)=>Bo(e,20226).pipe($o((o=>{var i,c;if(it(hQ,(i=o.payload)===null||i===void 0?void 0:i.body),(c=o.payload)!==null&&c!==void 0&&c.body){const{payload:{body:{width:d,height:p}}}=o;J2(n.value)&&fg.ajustmentReceivedSharingCanvas(d,p)}})),xo((o=>tee(o.payload.body)))),epics8:(e,n)=>lr(e,Jn.SharingPara).pipe($o((o=>{var i,c;if(it(hQ,(i=o.payload.data)===null||i===void 0?void 0:i.body),(c=o.payload.data)!==null&&c!==void 0&&c.body){const{payload:{data:{body:{width:d,height:p}}}}=o;J2(n.value)&&fg.ajustmentReceivedSharingCanvas(d,p)}})),xo((o=>{var i;return tee((i=o.payload.data)===null||i===void 0?void 0:i.body)}))),epics9:(e,n)=>lr(e,Jn.UserStopDesktopSharing).pipe(ts(n),xo((([,o])=>{const{meeting:{userId:i},share:{status:c}}=o;return c!==Xr.End&&(nE.stopSharing(i),fg.stopDesktopSharing(),it(fMe)),Sg(Xr.End)}))),epics10:(e,n)=>Bo(e,jl).pipe(ts(n),En((([o,i])=>{const{meeting:{userId:c}}=i,d=o.payload.body.update;return d&&d.length>0&&d.findIndex((p=>p.id===c&&p.bShareOn!==void 0))>-1})),rn((([o,i])=>{const{meeting:{userId:c},share:{status:d,isReceiveSharing:p,activeNodeId:v,isSimultaneousShareView:S}}=i,{payload:{body:{update:T}}}=o,x=T.find((U=>U.id===c&&U.bShareOn===!1)),P=T.find((U=>U.id===c&&U.bShareOn===!0)),B=[];return x&&d!==Xr.End&&(nE.stopSharing(c),fg.stopDesktopSharing(),B.push(Sg(Xr.End)),it(pMe)),P&&d===Xr.End&&(p&&!S&&(fg.stopRenderSharing(),nE.unsubscribeSharing(v),B.push(cO(!1))),B.push(Sg(Xr.Sharing))),eo(B)}))),epics11:(e,n)=>Bo(e,jl).pipe(ts(n),En((([o,i])=>{const{meeting:{userId:c}}=i,d=o.payload.body.update;return d&&d.length>0&&d.findIndex((p=>p.id!==c&&p.bShareOn!==void 0))>-1})),rn((([o,i])=>{const{payload:{body:{update:c}}}=o,{share:{activeNodeId:d,isReceiveSharing:p}}=i,v=H_(i),S=c.filter((P=>P.bShareOn===!0&&P.bSharePause===!1)),T=c.filter((P=>P.bShareOn===!0&&P.bSharePause===!0)),x=c.filter((P=>P.bShareOn===!1));return S.length>0&&S.forEach((P=>{v.findIndex((B=>B.userId===P.id))===-1?it(Sye,P):it(vMe,P)})),T.length>0&&T.forEach((P=>{it(gMe,P)})),x.length>0&&(x.filter((P=>v.findIndex((B=>B.userId===P.id))>-1)).forEach((P=>{it(Cye,P)})),p&&x.some((P=>P.id===d)))?Np(Bo(e,kve).pipe(Qr(1),Pa(Oo)),_u(50).pipe(Pa(EO("timeout")))).pipe(xm((()=>{const{share:{activeNodeId:P},meeting:{userId:B}}=n.value,U=v.filter((W=>W.userId!==P&&W.userId!==B));if(U.length>0&&J2(n.value)){var j;const W=[],Z=U[0],{userId:re}=Z,le=(j=L_(re,i))!==null&&j!==void 0?j:re;return W.push(...obe(P,re,le,{state:i,rwgAgent:nE,mediaAgent:fg})),it(fQ,{userId:re}),W.push(b3({activeNodeID:re,bStatus:1,ssrc:le})),eo(W)}return Oo}))):Oo}))),epics12:(e,n)=>Bo(e,Hye).pipe(ts(n),Ei((([o,i])=>{const{payload:{body:{encryptKey:c,additionalType:d}}}=o,{media:{sharingDecodeStatus:p,sharingEncodeStatus:v},meeting:{confId:S,userId:T,zoomId:x,meetingId:P,meetingNumber:B,isWebinar:U}}=i;return Hk(n).pipe(Ei((j=>{let W=v;return(!Yo.isSupportSendScreenSharing||U&&j&&hf(j.userRole))&&(W="failed"),Gf("sharing",W,p).pipe($o((([Z,re])=>{const le={userId:T,sn:j0(x),confId:S,encryptKey:j0(c),encryptType:d,meetingId:P,meetingNumber:B};if(Z&&(fg==null||fg.updateMediaParams({iVType:AS.SHARING_ENCODE,isFromMainSession:!1,updateParams:le})),re){fg.updateMediaParams({iVType:AS.SHARING_DECODE,isFromMainSession:!1,updateParams:le});const{participants:{attendeesList:ie}}=n.value;if(ie.length>0){const be=ie.map((Ce=>({userid:Ce.userId,sn:Ce.zoomID&&j0(Ce.zoomID)})));fg.updateUserMediaSN({added:be,isFromMainSession:!1,iVType:AS.SHARING_DECODE})}}})),Pa(Oo))})))}))),epics13:(e,n)=>TS(e,20235).pipe(ts(n),$o((([o,i])=>{const{media:{sharingDecodeStatus:c}}=i,{type:d,payload:{body:p}}=o,v=d===`${Z_}`;Gf("sharing","success",c).subscribe((([,S])=>{S&&fg.addReceivedSharingChannelType({isFromMainSession:v,...p})}))})),Pa(Oo)),epics14:(e,n)=>TS(e,20236).pipe(ts(n),$o((([o,i])=>{const{media:{sharingDecodeStatus:c}}=i,{type:d,payload:{body:{ssrc:p}}}=o,v=d===`${Z_}`;Gf("sharing","success",c).subscribe((([,S])=>{S&&fg.removeReceivedSharingChannelType({isFromMainSession:v,ssrc:p})}))})),Pa(Oo)),epics15:e=>lr(e,Jn.SharingFirstDecodeFrameReceivedSsrc).pipe(En((n=>!!n.payload.data)),$o((n=>{const{payload:{data:{ssrc:o}}}=n;nE.sendReceivingSharingReady(o)})),Pa(Oo)),epics16:(e,n)=>Bo(e,20233).pipe(En((()=>!!n.value.share.isRequireReadReceipt)),$o((o=>{const{payload:{body:{bReceiveOk:i}}}=o;i&&it(CMe)})),Pa(Oo)),epics17:(e,n)=>Bo(e,W0).pipe(En((o=>{var i;return((i=o.payload.body)===null||i===void 0?void 0:i.lockShare)!==void 0})),rn((o=>{const{payload:{body:{lockShare:i}}}=o,{share:{isOptimizedForSharedVideo:c,isSharingToBreakoutRoom:d},audio:{isSharingAudio:p},meeting:{userId:v}}=n.value,S=[];return i===U0.MultipleShare&&c&&(nE.startSharing(v,{bShareAudio:p,bShareToBO:d,bShareVideo:!1}),fg.switchSharingMode(e6.Normal),S.push(nee(!1))),eo(S)}))),epics18:(e,n)=>lr(e,Jn.ShareQosData).pipe(ts(n),xo((([o,i])=>{var c,d;const{meeting:{isWebinar:p},media:{sharingEncodeStatus:v,sharingDecodeStatus:S},share:{status:T,isReceiveSharing:x},participants:{xmppAttendeeList:P}}=i;let B=Aye(i).length>0;p&&(B=B||!!P.length);const U=T!==Xr.End&&v==="success"&&(B||((c=i.recording)===null||c===void 0?void 0:c.cmrStatus)===Td.Start),j=x&&S==="success";return(d=o.payload.data)!==null&&d!==void 0&&d.encoding?U?(it(Rge,o.payload),Qve(o.payload)):Qve(rO):j?(it(Rge,o.payload),K6(o.payload)):K6(rO)})))},Vqe=xg(Bqe,Lqe,Nqe),{setQaSetting:BXe,addQaQuestion:VXe,addQaAnswer:FXe,removeQaComment:HXe,removeQaQuestion:$Xe,dismissQaQuestion:UXe,reopenQaQuestion:zXe,voteQaQuestion:jXe,answerQaQuestionLive:WXe,updateAttendeeAnonymousQuestion:GXe,setQaEnabled:qXe,resetQa:Fqe}=ch("SET_QA_SETTING","ADD_QA_QUESTION","ADD_QA_ANSWER","REMOVE_QA_COMMENT","REMOVE_QA_QUESTION","DISMISS_QA_QUESTION","REOPEN_QA_QUESTION","VOTE_QA_QUESTION","ANSWER_QA_QUESTION_LIVE","UPDATE_ATTENDEE_ANONYMOUS_QUESTION","SET_QA_ENABLED","RESET_QA"),{setChatPrivilege:l1e,setPanelistChatPrivilege:B3e,addChatMessageHistory:Y6,resetChat:V3e,setIsAllowAttendeeChat:F3e,setLatestChatMessageId:H3e,removeChatMessage:nJ,setFileChatSetting:$3e,addChatFileRecord:c1e,updateChatFileRecord:Wf,cancelSendFileChat:X6,addFailedChatFileTransfer:u1e,setChatFileMessageId:U3e,cancelDownloadFileChat:d1e}=ch("SET_CHAT_PRIVILEGE","SET_PANELIST_CHAT_PRIVILEGE","ADD_CHAT_MESSAGE_HISTORY","RESET_CHAT","SET_IS_ALLOW_ATTENDEE_CHAT","SET_LATEST_CHAT_MESSAGE_ID","REMOVE_CHAT_MESSAGE","SET_FILE_CHAT_SETTING","ADD_CHAT_FILE_RECORD","UPDATE_CHAT_FILE_RECORD","CANCEL_SEND_FILE_CHAT","ADD_FAILED_CHAT_FILE_TRANSFER","SET_CHAT_FILE_MESSAGE_ID","CANCEL_DOWNLOAD_FILE_CHAT"),{setProcessorCreateInfo:z3e,addProcessorInstance:j3e,removeProcessorInstance:W3e,resetProcessor:G3e}=ch("SET_PROCESSOR_CREATE_INFO","ADD_PROCESSOR_INSTANCE","REMOVE_PROCESSOR_INSTANCE","RESET_PROCESSOR"),{setCcEditorInfo:q3e,setTempSendCcText:ZXe,setCcLtMessage:KXe,setTempReceiveLtText:YXe,setTempReceiveCcText:XXe,setGatewayInfoList:JXe,setLtEnable:QXe,setIsListenClosedCaption:eJe,setCcEnable:tJe,allowParticipantAskLt:nJe,receiveAskStartLt:oJe,setMeetingEnabledLtFeature:sJe,updateLtStatus:rJe,deleteMessage:iJe,updateMessage:aJe,resetClosedCaption:Hqe}=ch("SET_CC_EDITOR_INFO","SET_CC_LT_MESSAGE","SET_TEMP_SEND_CC_TEXT","SET_TEMP_RECEIVE_LT_TEXT","SET_TEMP_RECEIVE_CC_TEXT","SET_GATEWAY_INFO_LIST","SET_LT_ENABLE","SET_IS_LISTEN_CLOSED_CAPTION","SET_CC_ENABLE","ALLOW_PARTICIPANT_ASK_LT","RECEIVE_ASK_START_LT","SET_MEETING_ENABLED_LT_FEATURE","UPDATE_LT_STATUS","DELETE_MESSAGE","UPDATE_MESSAGE","RESET_CLOSED_CAPTION"),{addBreakoutRooms:Z3e,setBreakoutRoomAllocationPattern:sbe,setBreakoutRoomSequenceId:ree,setMeetingElapsedTime:rbe,setStartRoomElapsedTime:K3e,setBreakoutRoomOptions:Y3e,setBreakoutRoomControlStatus:X3e,setBreakoutRooms:m6,setCurrentBreakoutRoom:iee,setBreakoutRoomAttendeeStatus:Ok,setBreakoutRoomConfId:ibe,setBreakoutRoomToken:abe,resetBreakoutRoom:J3e,setBreakoutRoomClosingRoomTime:lbe,setBreakoutRoomBroadcastMessage:Q3e,setBreakoutRoomHostReplyType:h1e,setBreakoutRoomHostReplyRequestId:e4e,setMainSessionAttendeeList:t4e,setIsHugeBreakoutRoom:n4e,setBreakoutRoomPreAssignedRoomList:cbe,setBreakoutRoomUserRoleUpdated:ube,setBreakoutRoomMeetingOptions:o4e,setBreakoutRoomUserActivityStatus:s4e,setBreakoutRoomIsBroadcastVoice:aee}=ch("ADD_BREAKOUT_ROOMS","SET_BREAKOUT_ROOM_ALLOCATION_PATTERN","SET_BREAKOUT_ROOM_SEQUENCE_ID","SET_MEETING_ELAPSED_TIME","SET_START_ROOM_ELAPSED_TIME","SET_BREAKOUT_ROOM_OPTIONS","SET_BREAKOUT_ROOM_CONTROL_STATUS","SET_BREAKOUT_ROOMS","SET_CURRENT_BREAKOUT_ROOM","SET_BREAKOUT_ROOM_ATTENDEE_STATUS","SET_BREAKOUT_ROOM_CONF_ID","SET_BREAKOUT_ROOM_TOKEN","RESET_BREAKOUT_ROOM","SET_BREAKOUT_ROOM_CLOSING_ROOM_TIME","SET_BREAKOUT_ROOM_BROADCAST_MESSAGE","SET_BREAKOUT_ROOM_HOST_REPLY_TYPE","SET_BREAKOUT_ROOM_HOST_REPLY_REQUEST_ID","SET_MAIN_SESSION_ATTENDEE_LIST","SET_IS_HUGE_BREAKOUT_ROOM","SET_BREAKOUT_ROOM_PRE_ASSIGNED_ROOM_LIST","SET_BREAKOUT_ROOM_USER_ROLE_UPDATED","SET_BREAKOUT_ROOM_MEETING_OPTIONS","SET_BREAKOUT_ROOM_USER_ACTIVITY_STATUS","SET_BREAKOUT_ROOM_IS_BROADCAST_VOICE"),{setCloudRecordingStatus:r4e,setCloudRecordingEnable:i4e,setCloudIsoRecordingEnable:a4e,setAllowStopAutoRecording:l4e,setAutomaticCloudRecordingEnable:c4e,setIsZoomIQ:f1e,setZoomIQChanging:p1e,setLocalRecordStatus:m1e,setSupportLocalRecording:dbe,setLocalGrantPermissionOption:u4e,setLocalPermissionUserList:E3,resetRecording:d4e}=ch("SET_CLOUD_RECORDING_STATUS","SET_CLOUD_RECORDING_ENABLE","SET_CLOUD_ISO_RECORDING_ENABLE","SET_ALLOW_STOP_AUTO_RECORDING","SET_AUTOMATIC_CLOUD_RECORDING_ENABLE","SET_IS_ZOOM_I_Q","SET_ZOOM_I_Q_CHANGING","SET_LOCAL_RECORD_STATUS","SET_SUPPORT_LOCAL_RECORDING","SET_LOCAL_GRANT_PERMISSION_OPTION","SET_LOCAL_PERMISSION_USER_LIST","RESET_RECORDING"),{updateCmdJid:h4e,removeCmdJid:f4e,setCmdChannelConnectionStatus:p4e,resetCmdChannel:m4e}=ch("UPDATE_CMD_JID","REMOVE_CMD_JID","SET_CMD_CHANNEL_CONNECTION_STATUS","RESET_CMD_CHANNEL"),$qe="SET_ARCHIVING_STATUS",Uqe="SET_ARCHIVING_SESSION_READY",zqe="SET_ARCHIVING_OPTIONS",jqe="RESET_ARCHIVING",{setArchivingStatus:lJe,setArchivingSessionReady:cJe,setArchivingOptions:uJe,resetArchiving:Wqe}=ch({[$qe]:e=>e,[Uqe]:e=>e,[zqe]:e=>e,[jqe]:()=>{}}),{setIsLiveTranscriptionEnabled:g4e,setLiveTranscriptionMeetingOptions:v4e,setIsLiveTranscriptionManualCaptionerEnabled:hbe,setLiveTranscriptionGatewayId:b4e,setLiveTranscriptionSupportedLanguage:y4e,setIsLiveTranscriptionSubscribed:fbe,setCurrentTranscriptionLang:Jx,setCurrentTranslationLang:lee,addLiveTranscriptionMessage:pbe,updateLiveTranscriptionMessage:S4e,reduceLiveTranscriptionMessages:C4e,setLiveTranscriptionEngineType:E4e,removeLiveTranscriptionFailoverState:w4e,setLiveTranscriptionLastCaptionMessage:_4e,resetLiveTranscription:A4e,setIsHostDisableCaptions:T4e,setIsSomeoneSetSessionTranscription:x4e,setIsSomeoneTranslating:O4e,setIsTranscriptionLanguageLocked:I4e,setIsExternalCaptionerCaptioning:R4e,setExternalCcUrl:k4e,setTranscriptionMode:D4e}=ch("SET_IS_LIVE_TRANSCRIPTION_ENABLED","SET_LIVE_TRANSCRIPTION_MEETING_OPTIONS","SET_IS_LIVE_TRANSCRIPTION_MANUAL_CAPTIONER_ENABLED","SET_LIVE_TRANSCRIPTION_GATEWAY_ID","SET_LIVE_TRANSCRIPTION_SUPPORTED_LANGUAGE","SET_IS_LIVE_TRANSCRIPTION_SUBSCRIBED","SET_CURRENT_TRANSCRIPTION_LANG","SET_CURRENT_TRANSLATION_LANG","ADD_LIVE_TRANSCRIPTION_MESSAGE","UPDATE_LIVE_TRANSCRIPTION_MESSAGE","REDUCE_LIVE_TRANSCRIPTION_MESSAGES","SET_LIVE_TRANSCRIPTION_ENGINE_TYPE","REMOVE_LIVE_TRANSCRIPTION_FAILOVER_STATE","SET_LIVE_TRANSCRIPTION_LAST_CAPTION_MESSAGE","RESET_LIVE_TRANSCRIPTION"," SET_IS_HOST_DISABLE_CAPTIONS","SET_IS_SOMEONE_SET_SESSION_TRANSCRIPTION","SET_IS_SOMEONE_TRANSLATING","SET_IS_TRANSCRIPTION_LANGUAGE_LOCKED","SET_IS_EXTERNAL_CAPTIONER_CAPTIONING","SET_EXTERNAL_CC_URL","SET_TRANSCRIPTION_MODE"),{setPollData:dJe,setPollingId:hJe,setPollingWebLinks:fJe,setPollingDocMaxSize:pJe,setPollingDocSize:mJe,setPollingDocLibraryMaxSize:gJe,setPollingDocLibrarySize:vJe,setIsRwgEnablePolling:bJe,setHasPollingInMeeting:yJe,resetPoll:Gqe}=ch("SET_POLL_DATA","SET_POLLING_ID","SET_POLLING_WEB_LINKS","SET_POLLING_DOC_MAX_SIZE","SET_POLLING_DOC_SIZE","SET_POLLING_DOC_LIBRARY_MAX_SIZE","SET_POLLING_DOC_LIBRARY_SIZE","SET_IS_RWG_ENABLE_POLLING","SET_HAS_POLLING_IN_MEETING","RESET_POLL"),{setLoggerInitOptions:g1e,setIsLaplaceInitialized:cee,setIsLogDetailed:M4e,resetLogger:P4e}=ch("SET_LOGGER_INIT_OPTIONS","SET_IS_LAPLACE_INITIALIZED","SET_IS_LOG_DETAILED","RESET_LOGGER"),{setIsLiveStreamEnable:N4e,setLiveStreamStatus:uee,setLiveStreamChannel:L4e,resetLiveStream:B4e}=ch("SET_IS_LIVE_STREAM_ENABLE","SET_LIVE_STREAM_STATUS","SET_LIVE_STREAM_CHANNEL","RESET_LIVE_STREAM"),{setBroadcastStreamingUtk:V4e,setBroadcastStreamingChannelId:J6,setBroadcastStreamingStatus:mbe,setBroadcastStreamingEnable:F4e,resetBroadcastStreaming:H4e}=ch("SET_BROADCAST_STREAMING_UTK","SET_BROADCAST_STREAMING_CHANNEL_ID","SET_BROADCAST_STREAMING_STATUS","SET_BROADCAST_STREAMING_ENABLE","RESET_BROADCAST_STREAMING"),fAe=(e,n,o,i,c,d,p)=>{const v={ts:i,auth:c,rwcToken:o,dmz:1,option:p};return d&&Object.assign(v,{confID:d}),`https://${e}/wc/ping/${n}?${new URLSearchParams(v).toString()}`},YL=(e,n=!1)=>{const{socket:{zoomSocketStatus:o,xmppSocketStatus:i,mainSessionSocketStatus:c},meeting:{meetingStatus:d}}=e,p=[];if(d===Lh.Joined){var v;const S=Ns.getInstance(),T=ea.createAgent();if(((v=gs(e))===null||v===void 0?void 0:v.audio)===Ji.Computer&&S.leaveComputerAudio(),S.disconnect(),Zge.watch(S.destroy()),e.video&&(e.video.subscribedVideoList.length>0&&e.video.subscribedVideoList.forEach((x=>{S.unsubscribeVideo(x)})),e.video.isCurrentUserStartedVideo&&it(c3)),e.share&&e.share.isReceiveSharing){const x=e.share.activeNodeId;e.share.remoteControlledUserList.length>0&&e.share.remoteControlledUserList.forEach((P=>{T.sharingRequestRemoteControl(P,!1)})),T.unsubscribeSharing(x)}vg.destroyInstance()}if(n||(ai.clearSession(),[ol.WebclientTk,ol.WebclientZsk,ol.WebclientZtk,ol.WebclientRecordingToken].forEach((S=>{sessionStorage.removeItem(S)})),Jf.destroy()),o!==La.Closed&&p.push(q0()),i!==La.Closed&&p.push(Eve()),c!==La.Closed&&p.push(QNe()),n){const S=gs(e);p.push(vve({audio:S==null?void 0:S.audio,muted:S==null?void 0:S.muted,video:S==null?void 0:S.bVideoOn,isFailover:n}))}else p.push(vve({audio:!1,muted:void 0,video:!1,isFailover:n}));return p.push(tLe(),iLe(),cLe(),e3e(n),x3e(),RPe(n),Fqe(),V3e(),G3e(),d4e(),Hqe(),J3e(),m4e(),Wqe(),A4e(n),Gqe(),P4e(n),B4e(n),H4e(n),Bye(Lh.Closed)),p},sX=(e,...n)=>yr({event:kS,operations:[xo((o=>o.find((i=>i.userId===e.userId&&(!e.key||i[`${e.key}`]!==void 0))))),En((o=>!!o)),Qr(1)]},...n),qqe={[`${jx.AudioDecodeInWorklet}`]:{mask:15,action:sLe},[`${jx.VideoHalfWebRTCEnable}`]:[{mask:null,action:UPe}],[`${jx.WebGL2Render}`]:{mask:15,action:zPe},[`${jx.WebGPURender}`]:{mask:15,action:jPe},[`${jx.ZMKFromRWG}`]:{mask:15,action:YNe}};function Zqe(e){if(!e)return"";const n=e.match(/rid=(.*)/);return n?n[1]:""}const Kqe=["userId","displayName","audio","isHost","avatar","bRaiseHand","bHold","bVideoOn","sharerOn","sharerPause","feedback","bLocalRecord","strPronoun","sdkKey","audioConnectionStatus","caps","bAllowISORecord","bVideoConnect","userIdentity","isSpeakerOnly","bVideoShare","bShareAudioOn","bShareToBORooms","bid",{from:"bInFailover",to:"isInFailover"},{from:"userGUID",to:"userGuid"},{from:"bGuest",to:"isGuest"},{from:"sharerPause",to:"sharePause"},{from:"bCoHost",to:e=>({isCoHost:!!e})},{from:"muted",to:(e,n)=>({muted:n!=null&&n.isSpeakerOnly||(n==null?void 0:n.audio)===""?void 0:e})},{from:"userType",to:(e,n)=>{const o=Fk(e),i={isPhoneUser:o};return o&&n!=null&&n.phoneNumber&&Object.assign(i,{phoneNumber:n.phoneNumber}),i}}];function Ik(e){return Kqe.reduce(((n,o)=>{const i=typeof o=="string"?o:o.from,c=(function(d,p,v){if(typeof d=="string")return{[`${d}`]:p};if(typeof d=="object"&&d.from!==void 0){const{to:S}=d;return typeof S=="string"?{[`${S}`]:p}:S(p,v)}})(o,e[i],e);return{...n,...c}}),{})}const v1e=({breakoutRoom:{mainSessionAttendeeList:e}})=>e,$4e=({meeting:{zoomId:e}})=>e,U4e=({breakoutRoom:{isHugeBO:e}})=>e,Ag=ec([({breakoutRoom:{controlStatus:e}})=>e,({breakoutRoom:{currentRoom:{status:e}}})=>e,({breakoutRoom:{currentRoom:{boId:e}}})=>e],((e,n,o)=>!(e!==mi.InProgress&&e!==mi.Closing||n!==ar.InRoom&&n!==ar.TimeUp||!o))),Gpe=ec([({breakoutRoom:{rooms:e}})=>e,uA,$4e,v1e,Ag,U4e],((e,n,o,i,c,d)=>{const p=e.reduce(((v,S)=>{const{attendeeGuidList:T}=S;return v.concat(T)}),[]);return(c?i:n).filter((v=>!v.bHold&&!v.isHost&&v.zoomID!==o&&!v.bid&&!p.includes(v.userGUID)&&(!d||LLe(v.caps))))})),Yqe=ec([Ag,v1e,uA,$4e,U4e],((e,n,o,i,c)=>(e?n:o).filter((d=>!d.bHold&&!d.isHost&&d.zoomID!==i&&!d.bid&&(!c||LLe(d.caps)))))),I2=ec([Ag,v1e,uA],((e,n,o)=>e?n.find((i=>i.isHost)):o.find((i=>i.isHost))));var pAe,mAe,gAe,af;const R2=ea.createAgent();let Xqe=(pAe=Dpe(Xx.Other),mAe=Dpe(Xx.Other),gAe=Dpe(Xx.Other),af=class extends NS{constructor(e){super(e),this.modules=void 0,this.useSDK=void 0,this.useSDK=!1,this.modules=new Map}initWithSDK(e,n,o){return this.useSDK=!0,this.init(e,n,o)}init(e,n,o){const{audio:i,video:c}=Qke();if(!i||!c)return console.error("https://developers.zoom.us/docs/video-sdk/web/browser-support"),Promise.reject({type:dn,errorCode:lt.CLIENT_PLATFORM_UNSUPPORTED,reason:"Please update to the latest Chrome, Edge, Safari, or Firefox, as your current browser doesn't support audio/video. Retry after the upgrade."});const{[Bc]:d,[gc]:p}=this;let v=q2,S="en-US",T=`${q2}/${Z2}`;if(o){const{dependentAssets:x,additionalFeatures:P,constraints:B,language:U,webEndpoint:j}=o;U&&(S=U),j&&(function(W){zee=Yke(W,{hostname:!0})})(j),x===fpe.CDN||x===xX?(v=xX,T=`${xX}/${Z2}`):x===fpe.Global||x===q2?(v=q2,T=`${q2}/${Z2}`):x===fpe.CN||x===OX?(v=OX,T=`${OX}/${Z2}`):x&&/^https?:\/\//.test(x)&&(v=Yee(x),T=`${v}/${Z2}`),P&&Array.isArray(P)&&P.forEach((W=>{if(this[KJ][W]&&p.getState()[W]===void 0){const{epic:Z,reducer:re,Client:le}=this[KJ][W];p.injectReducer(W,re),p.injectEpic(Z);const ie=new le(p);this.modules.set(W,ie)}})),B!=null&&B.audio&&p.getState().audio===void 0&&(p.injectReducer("audio",yqe),p.injectEpic(Eqe)),B!=null&&B.video&&p.getState().video===void 0&&(p.injectReducer("video",Aqe),p.injectEpic(Iqe)),B!=null&&B.screen&&p.getState().share===void 0&&(p.injectReducer("share",Pqe),p.injectEpic(Vqe))}return d(PNe({apiKey:e,signature:n,language:S,useSDK:this.useSDK})),d(Fye({mediaConstraints:o&&o.constraints||{},assetsPath:v,enforceMultipleVideos:o==null?void 0:o.enforceMultipleVideos,enforceVirtualBackground:o==null?void 0:o.enforceVirtualBackground,skipJsMedia:o==null?void 0:o.skipJsMedia,patchJsMedia:o==null?void 0:o.patchJsMedia,alternativeNameForVideoPlayer:o==null?void 0:o.alternativeNameForVideoPlayer})),(o==null?void 0:o.stayAwake)!==void 0&&d(WNe(o.stayAwake)),(o==null?void 0:o.quicklyLeaveMeeting)!==void 0&&d(ZNe(o.quicklyLeaveMeeting)),(o==null?void 0:o.isUIToolkit)!==void 0&&d(MNe(o.isUIToolkit)),(o==null?void 0:o.isLogDetailed)!==void 0&&d(M4e(!!o.isLogDetailed)),new Promise(((x,P)=>{o!=null&&o.skipJsMedia?x(""):$ee(T,(()=>{var B;(B=window.JsMediaSDK_Instance)!==null&&B!==void 0&&(B=B.util)!==null&&B!==void 0&&B.initAsyncJob?window.JsMediaSDK_Instance.util.initAsyncJob().then((()=>x(""))):x("")}),(()=>{P({type:nr,reason:"dependent assets are not accessible",errorCode:lt.CLIENT_DEPENDENT_ASSETS_INACCESSIBLE})}))}))}on(e,n){((o,i)=>{const c=GEe[o];if(c){const d=H2.get(o);if(d)d.push(i),H2.set(o,d);else{const p=[i];H2.set(o,p);const v=Id(...c.map((S=>{const{event:T,payload:x}=S;return ah(i6,T).pipe(xo((P=>x(P))),ed(sA))}))).subscribe((S=>{const T=H2.get(o);T&&T.forEach((x=>{x(S)}))}));Hge.push(v)}}})(e,n)}off(e,n){((o,i)=>{if(GEe[o]){const c=H2.get(o);if(Array.isArray(c)){const d=c.filter((p=>p!==i));H2.set(o,d)}}})(e,n)}getFeatureModule(e){return this.modules.get(e)}leave(){const{[Ko]:e,[Bc]:n}=this,{socket:{zoomSocketStatus:o},meeting:{meetingInfoTimestamp:i,zlkJwtToken:c}}=e();return o===La.Connected||o===La.Connecting?n(Uk()):(i&&n(Uk()),c||n(gve())),vc(_u(500).pipe(Lk("")))}end(){const{[Ko]:e,[Bc]:n}=this;return e().socket.zoomSocketStatus==="connected"?(n(Z3()),vc(_u(500).pipe($o((()=>{_ye()})),Lk("")))):Promise.resolve("")}changeName(e,n){const o=this[gc].getState(),{meeting:{bAllowAttendeeRename:i}}=o,c=gs(o),d=hf(c.userRole),p=Iv(o);if(d)return Promise.reject({type:Pp,errorCode:lt.CLIENT_HOST_OR_MANAGER_PERMISSION_REQUIRED});if(n&&n!==(c==null?void 0:c.userId)){if(p){const{participants:{attendeesList:v}}=o,S=v.find((T=>T.userId===n));if(S)return R2.rename(n,Su(e),Su(S.displayName)),sX({userId:n,key:"displayName"},(T=>T.displayName===e));{const T=Cz(o).find((x=>x.userId===n));if(T){const x=Jk.getInstance();return R2.rename(T.userId,Su(e),Su(T.displayName)),x.rename(T.jid,e),yr(zx,(P=>{const B=P.find((U=>U.jid===T.jid));return B&&B.displayName===e}))}return Promise.reject({type:nr,reason:"no matching user",errorCode:lt.CLIENT_MISMATCH_USER})}}return Promise.reject({type:Pp,errorCode:lt.CLIENT_HOST_OR_MANAGER_PERMISSION_REQUIRED})}return e===c.displayName?Promise.resolve():p||i?(R2.rename(c.userId,Su(e),Su(c.displayName)),yr(Rp,(v=>v.displayName===e))):Promise.reject({type:Pp,reason:"host disallow rename themselves",errorCode:lt.CLIENT_HOST_DISALLOW_RENAME})}makeHost(e){return R2.assignHost(e,!1),sX({userId:e,key:"isHost"},(n=>n.isHost===!0))}makeCoHost(e){const n=this[gc].getState(),o=Ba(n).find((i=>i.userId===e));return(o==null?void 0:o.bCoHost)===!0?Promise.reject({type:nr,reason:`user:[${e}] is already co-host `,errorCode:lt.CLIENT_MISMATCH_USER}):(R2.assignHost(e,!0),sX({userId:e,key:"bCoHost"},(i=>i.bCoHost===!0)))}revokeCoHost(e){const n=this[gc].getState(),o=Ba(n).find((i=>i.userId===e));return(o==null?void 0:o.bCoHost)===!1?Promise.reject({type:nr,reason:`user:[${e}] is not a co-host`,errorCode:lt.CLIENT_MISMATCH_USER}):(R2.revokeCoHost(e),sX({userId:e,key:"bCoHost"},(i=>i.bCoHost===!1)))}reclaimHost(){const e=this[Ko](),{meeting:{isOriginHost:n}}=e,o=gs(e);return o!=null&&o.isHost?Promise.resolve(""):n?(R2.reclaimHost(o.userId,!1),yr(Rp,(i=>i.isHost===!0))):Promise.reject({type:Pp,reason:"Only orignial host can reclaim host",errorCode:lt.CLIENT_MISMATCH_USER})}isHost(){const e=this[gc].getState(),n=gs(e);return!!n&&n.isHost}isCoHost(){const e=this[gc].getState(),n=gs(e);return!!n&&!!n.bCoHost}isOriginHost(){const{meeting:{isOriginHost:e}}=this[Ko]();return e}getCurrentUserInfo(){const e=this[gc].getState(),n=gs(e);if(n){const o=Ik(n);if(e.meeting.isWebinar&&hf(n.userRole)){const{audio:i}=e,c=i==null?void 0:i.isAllowToTalk;Object.assign(o,{isAllowToTalk:c})}if(e.breakoutRoom&&Ag(e)){const{breakoutRoom:{currentRoom:{boId:i}}}=e;Object.assign(o,{bid:i})}return o}return null}getParticipantsList(){const e=this[gc].getState(),{meeting:{meetingStatus:n}}=e,o=gs(e);if(n===Lh.Joined&&o&&!o.bHold){var i;const c=e.breakoutRoom&&Ag(e)?(i=e.breakoutRoom)===null||i===void 0||(i=i.currentRoom)===null||i===void 0?void 0:i.boId:"";return Ba(e).map((d=>{const p=Ik(d);return c&&Object.assign(p,{bid:c}),p}))}return[]}getAssistantsList(){const e=this[gc].getState(),{meeting:{meetingStatus:n}}=e,o=gs(e);return n===Lh.Joined&&o?H7e(e).map((i=>({userId:i.userId,displayName:i.displayName,isNewAst:!0}))):[]}getMeetingHost(){var e;const n=this[Ko]();let o=jge(n);return o||((e=n.breakoutRoom)===null||e===void 0?void 0:e.currentRoom.status)!==ar.InRoom||(o=n.breakoutRoom.mainSessionAttendeeList.find((i=>i.isHost))),o!==void 0?Ik(o):null}getMeetingInfo(){const{meeting:{meetingStatus:e,isOnHold:n,meetingNumber:o,passWord:i,userName:c,userEmail:d,meetingTopic:p,meetingOptions:v,encType:S,region:T,network:x,topic:P,zlkJwtToken:B,userId:U,lang:j,inviteEmail:W,meetingId:Z,participantID:re,h323Password:le,recordingDisclaimer:ie,recordingDisclaimerForRecorder:be,wrInfo:Ce,meetingInfo:Ae,isNewJoinFlow:F,chatModerationPolicy:Ie}}=this[Ko](),tt=e===Lh.Joined&&!n;if(B)return{topic:P,password:i,userName:c,isInMeeting:tt,userId:U,meetingId:Z};{let Xe="";return S===0?Xe="None":S===1?Xe="AES ECB":S===2&&(Xe="AES GCM"),{meetingNumber:o,password:i,userName:c,userEmail:d,inviteEmail:W,meetingTopic:p,encryptionType:Xe,region:T,network:x,isInMeeting:tt,userId:U,lang:j,webEndpoint:k6(),meetingId:Z,participantId:re,telPwd:le,recordingInfo:{recordingDisclaimer:ie,recordingDisclaimerForRecorder:be,isUserEnableRecordingReminder:v==null?void 0:v.isUserEnableRecordingReminder},wrInfo:Object.assign({},Ce,{isNew:F}),scheduleInfo:Ae,chatModerationPolicy:Ie}}}},zn(af.prototype,"end",[xd,Gn],Object.getOwnPropertyDescriptor(af.prototype,"end"),af.prototype),zn(af.prototype,"changeName",[Gn],Object.getOwnPropertyDescriptor(af.prototype,"changeName"),af.prototype),zn(af.prototype,"makeHost",[pAe,xd,Gn],Object.getOwnPropertyDescriptor(af.prototype,"makeHost"),af.prototype),zn(af.prototype,"makeCoHost",[mAe,xd,Gn],Object.getOwnPropertyDescriptor(af.prototype,"makeCoHost"),af.prototype),zn(af.prototype,"revokeCoHost",[gAe,xd,Gn],Object.getOwnPropertyDescriptor(af.prototype,"revokeCoHost"),af.prototype),zn(af.prototype,"reclaimHost",[Gn],Object.getOwnPropertyDescriptor(af.prototype,"reclaimHost"),af.prototype),af);const Jqe=ea.createAgent(),Qqe=Jk.getInstance(),vAe=(e,n,o)=>{const i=n==null?void 0:n.userId;if(e==null||!e.zoomID||n==null||!n.displayName||i===e.userId)return{type:nr,reason:"invalid target user",errorCode:lt.CHAT_MISMATCH_USER};const{chat:{chatPrivilege:c,panelistChatPrivilege:d},meeting:{isWebinar:p}}=o,v=Iv(o),S=n.isHost||n.bCoHost;let T=!1;if(!v){if(p)if(hf(e.userRole))(c===Jc.NoAttendee||c===Jc.AllPanelist&&i!==Jl.Panelist||c===Jc.All&&i!==Jl.All&&i!==Jl.Panelist)&&(T=!0);else{const x=hf(n==null?void 0:n.userRole);(d===zk.Invalid||d===zk.AllPanelist&&(x||i===Jl.All))&&(T=!0)}else(c===Jc.NoAttendee||c===Jc.Host&&!S||i===Jl.SilentModeUsers||c===Jc.EveryonePublicly&&i!==Jl.All&&!S)&&(T=!0);if(T)return{type:Pp,reason:"Insufficient chat privilege",errorCode:lt.CHAT_INSUFFICIENT_PRIVILEGE}}return null};function bAe(e,n){if(n===Jl.All)return U5;if(n===Jl.Panelist)return KL;if(n===Jl.SilentModeUsers)return fqe;{const{meeting:{isWebinar:o},participants:{xmppAttendeeList:i,attendeesList:c}}=e;return o?c.find((d=>d.userId===n))||i.find((d=>d.userId===n)):c.find((d=>d.userId===n))}}function w5(e,n,o){if(o!=null&&o.host)return[jge(e),...JEe(e)].filter((i=>(i==null?void 0:i.userId)!==n)).map((i=>({userId:i==null?void 0:i.userId,displayName:i==null?void 0:i.displayName,isHost:i==null?void 0:i.isHost,isCoHost:i==null?void 0:i.bCoHost})));{let i=[jge(e),...JEe(e),...e.participants.attendeesList.filter((c=>!(c.bCoHost||c.isHost||c.bHold)))];if(o!=null&&o.includeAttendee){const c=Cz(e).filter((d=>!Fk(d.userType)));i=[...i,...c]}return i.filter((c=>c!==void 0&&c.userId!==n)).map((c=>({userId:c==null?void 0:c.userId,displayName:c==null?void 0:c.displayName,isHost:c==null?void 0:c.isHost,isCoHost:c==null?void 0:c.bCoHost})))}}function XL(e,n){const{chat:{chatHistory:o}}=n;return o.find((i=>{var c;return((c=i.file)===null||c===void 0||(c=c.upload)===null||c===void 0?void 0:c.uniqueId)===e}))}function z4e(e,n){const{meeting:{isWebinar:o},participants:{attendeesList:i}}=n,{destNodeID:c,senderName:d,attendeeNodeID:p}=e,v=i.find((B=>B.userId===c)),S=e.sn?e.sn:v==null?void 0:v.zoomID,T=d?Qy(d):v==null?void 0:v.displayName;let x,P="";if(p===Jl.SilentModeUsers)return{sender:{name:"Host",userId:c},receiver:{name:"Everyone (in Waiting Room)",userId:p},timestamp:new Date().getTime()};if(p===Jl.All)P=o?"All panelists and attendees":"Everyone";else if(p===Jl.Panelist)P="All panelists";else{if(o){const B=Cz(n).find((U=>U.userId===p));B&&(P=B.displayName)}if(!P){const B=i.find((U=>U.userId===p));B&&(P=B.displayName,x=B.userGUID)}}return{sn:S,sender:{name:T,userId:c,userGuid:v==null?void 0:v.userGUID,avatar:v==null?void 0:v.avatar},receiver:{name:P,userId:p,userGuid:x},timestamp:new Date().getTime()}}function eZe(e){var n;const[o]=e.split(".").reverse();return(n=mqe[o])!==null&&n!==void 0?n:""}function j4e(e,n){const o=[];for(let i=e.length-1;i>=0;i--){const c=e[i];if(!c.file&&(!c.id&&c.sender.userId===n.userId&&[Jl.All,Jl.Panelist,Jl.IndividualCcPanelist,n.destNodeID].includes(c.receiver.userId)&&o.unshift(c),c.id))break}return o.length>0?o[0]:null}function W4e(e){switch(e.responseType){case"json":if("response"in e)return e.response;var n=e;return JSON.parse(n.responseText);case"document":return e.responseXML;default:return"response"in e?e.response:(n=e).responseText}}var tZe=function(e,n,o,i){i===void 0&&(i="download_load"),this.originalEvent=e,this.xhr=n,this.request=o,this.type=i;var c=n.status,d=n.responseType;this.status=c??0,this.responseType=d??"";var p=n.getAllResponseHeaders();this.responseHeaders=p?p.split(`
`).reduce((function(T,x){var P=x.indexOf(": ");return T[x.slice(0,P)]=x.slice(P+2),T}),{}):{},this.response=W4e(n);var v=e.loaded,S=e.total;this.loaded=v,this.total=S},dee=vz((function(e){return function(n,o,i){var c;this.message=n,this.name="AjaxError",this.xhr=o,this.request=i,this.status=o.status,this.responseType=o.responseType;try{c=W4e(o)}catch{c=o.responseText}this.response=c}})),nZe=(function(){function e(n,o){return dee.call(this,"ajax timeout",n,o),this.name="AjaxTimeoutError",this}return e.prototype=Object.create(dee.prototype),e})(),oZe=xo((function(e){return e.response})),_x,Ov=(_x=function(e){return(function(n){return new Cu((function(o){var i,c,d,p=t6({async:!0,crossDomain:!1,withCredentials:!1,method:"GET",timeout:0,responseType:"json"},n),v=p.queryParams,S=p.body,T=p.headers,x=p.url;if(!x)throw new TypeError("url is required");if(v)if(x.includes("?")){var P=x.split("?");if(2<P.length)throw new TypeError("invalid url");d=new URLSearchParams(P[1]),new URLSearchParams(v).forEach((function(ot,Rt){return d.set(Rt,ot)})),x=P[0]+"?"+d}else x=x+"?"+(d=new URLSearchParams(v));var B={};if(T)for(var U in T)T.hasOwnProperty(U)&&(B[U.toLowerCase()]=T[U]);var j=p.crossDomain;j||"x-requested-with"in B||(B["x-requested-with"]="XMLHttpRequest");var W=p.withCredentials,Z=p.xsrfCookieName,re=p.xsrfHeaderName;if((W||!j)&&Z&&re){var le=(c=(i=document==null?void 0:document.cookie.match(new RegExp("(^|;\\s*)("+Z+")=([^;]*)")))===null||i===void 0?void 0:i.pop())!==null&&c!==void 0?c:"";le&&(B[re]=le)}var ie,be=(function(ot,Rt){var kt;if(!ot||typeof ot=="string"||(function(at){return typeof FormData<"u"&&at instanceof FormData})(ot)||(function(at){return typeof URLSearchParams<"u"&&at instanceof URLSearchParams})(ot)||(function(at){return Kpe(at,"ArrayBuffer")})(ot)||(function(at){return Kpe(at,"File")})(ot)||(function(at){return Kpe(at,"Blob")})(ot)||(function(at){return typeof ReadableStream<"u"&&at instanceof ReadableStream})(ot))return ot;if((function(at){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(at)})(ot))return ot.buffer;if(typeof ot=="object")return Rt["content-type"]=(kt=Rt["content-type"])!==null&&kt!==void 0?kt:"application/json;charset=utf-8",JSON.stringify(ot);throw new TypeError("Unknown body type")})(S,B),Ce=t6(t6({},p),{url:x,headers:B,body:be});ie=n.createXHR?n.createXHR():new XMLHttpRequest;var Ae=n.progressSubscriber,F=n.includeDownloadProgress,Ie=F!==void 0&&F,tt=n.includeUploadProgress,Xe=tt!==void 0&&tt,Ve=function(ot,Rt){ie.addEventListener(ot,(function(){var kt,at=Rt();(kt=Ae==null?void 0:Ae.error)===null||kt===void 0||kt.call(Ae,at),o.error(at)}))};Ve("timeout",(function(){return new nZe(ie,Ce)})),Ve("abort",(function(){return new dee("aborted",ie,Ce)}));var Re=function(ot,Rt){return new tZe(Rt,ie,Ce,ot+"_"+Rt.type)},vt=function(ot,Rt,kt){ot.addEventListener(Rt,(function(at){o.next(Re(kt,at))}))};Xe&&[qpe,Zpe,SAe].forEach((function(ot){return vt(ie.upload,ot,sZe)})),Ae&&[qpe,Zpe].forEach((function(ot){return ie.upload.addEventListener(ot,(function(Rt){var kt;return(kt=Ae==null?void 0:Ae.next)===null||kt===void 0?void 0:kt.call(Ae,Rt)}))})),Ie&&[qpe,Zpe].forEach((function(ot){return vt(ie,ot,yAe)}));var mt=function(ot){var Rt="ajax error"+(ot?" "+ot:"");o.error(new dee(Rt,ie,Ce))};ie.addEventListener("error",(function(ot){var Rt;(Rt=Ae==null?void 0:Ae.error)===null||Rt===void 0||Rt.call(Ae,ot),mt()})),ie.addEventListener(SAe,(function(ot){var Rt,kt,at=ie.status;if(at<400){(Rt=Ae==null?void 0:Ae.complete)===null||Rt===void 0||Rt.call(Ae);var Cn=void 0;try{Cn=Re(yAe,ot)}catch(Ro){return void o.error(Ro)}o.next(Cn),o.complete()}else(kt=Ae==null?void 0:Ae.error)===null||kt===void 0||kt.call(Ae,ot),mt(at)}));var gt=Ce.user,te=Ce.method,hn=Ce.async;for(var U in gt?ie.open(te,x,hn,gt,Ce.password):ie.open(te,x,hn),hn&&(ie.timeout=Ce.timeout,ie.responseType=Ce.responseType),"withCredentials"in ie&&(ie.withCredentials=Ce.withCredentials),B)B.hasOwnProperty(U)&&ie.setRequestHeader(U,B[U]);return be?ie.send(be):ie.send(),function(){ie&&ie.readyState!==4&&ie.abort()}}))})(typeof e=="string"?{url:e}:e)},_x.get=function(e,n){return Ov({method:"GET",url:e,headers:n})},_x.post=function(e,n,o){return Ov({method:"POST",url:e,body:n,headers:o})},_x.delete=function(e,n){return Ov({method:"DELETE",url:e,headers:n})},_x.put=function(e,n,o){return Ov({method:"PUT",url:e,body:n,headers:o})},_x.patch=function(e,n,o){return Ov({method:"PATCH",url:e,body:n,headers:o})},_x.getJSON=function(e,n){return oZe(Ov({method:"GET",url:e,headers:n}))},_x),sZe="upload",yAe="download",qpe="loadstart",Zpe="progress",SAe="load",rZe=Object.prototype.toString;function Kpe(e,n){return rZe.call(e)==="[object "+n+"]"}const G4e=Qf.getInstance(),q4e=G4e.makeLogger(["File Transfer"]);function Z4e(e,n,o){const{name:i,size:c}=e,{meeting:{reportDomain:d,svcUrl:p,conId:v}}=o;return`https://${d}${n}?${new URLSearchParams({filename:i,filesize:c,rwg:p,cid:v}).toString()}`}function K4e(e,n){return n.fileObj?`${e}/zoomfile/download?objkey=${n.fileObj}&business=meeting`:`${e}/file/${n.fileID}?business=meeting`}function e4(e,n){return{fileName:e.name,fileSize:e.size,receiverId:n==null?void 0:n.userId,receiverGuid:n==null?void 0:n.userGuid}}function $x(e,n,o){G4e.report(`${e}. file name:${Zf(n.name)},file size:${n.size}, ${"type"in n?`file type:${n.type}`:""}, error:${o.name};${o.message}`,["File Transfer"])}function Ype(e){var n,o,i;return{id:e.id,fileName:(n=e.file)===null||n===void 0?void 0:n.name,fileSize:(o=e.file)===null||o===void 0?void 0:o.size,fileUrl:(i=e.file)===null||i===void 0?void 0:i.fileUrl,senderId:e.sender.userId,senderGuid:e.sender.userGuid}}function Y4e(e,n,o){return new Promise(((i,c)=>{const d=new FileReader;d.readAsArrayBuffer(e.slice(n,o)),d.onload=p=>{var v;return i((v=p.target)===null||v===void 0?void 0:v.result)},d.onerror=p=>c(p)}))}async function X4e(e,n){let[o,i]=[e.size,0];n!=null&&(o=Math.min(Tp.ChunkSize,e.size-n),i=n);const c=e.size-i<=Tp.ChunkSize,d=Math.ceil(o/Tp.EncodeBlockSize);try{const p=await Promise.all(Array.from({length:c?Math.max(d-1,1):d},((v,S)=>({start:S*Tp.EncodeBlockSize+i,end:(c&&S===d-2?S+2:S+1)*Tp.EncodeBlockSize+i}))).map((async({start:v,end:S})=>{try{const T=await Y4e(e,v,S);return T?await Jf.beginEncrypt({text:new Uint8Array(T),type:Xf.CHAT_FILE}):Promise.reject(null)}catch(T){return $x(`encrypt file buffer error. offset:${n},`,e,T),Promise.reject(T)}})));return(function(v){const S=v.reduce(((P,B)=>P+B.byteLength),0),T=new Uint8Array(S);let x=0;for(const P of v)T.set(new Uint8Array(P),x),x+=P.byteLength;return T})(p)}catch(p){console.warn(p)}return null}function oJ(e,n,o,i){return i.pipe(Uo(`${X6}`,`${q0}`),En((c=>{if(c.type===`${q0}`)return!0;const{payload:{uniqueId:d,fileName:p,userId:v}}=c;return n===d&&e.name===p&&o.userId===v})),Qr(1),$o((c=>{q4e.info(`Cancel file upload. file name:${Zf(e.name)},file size:${e.size},receiver id:${o.userId}`),it(Bk,{...e4(e,o),progress:0,status:Ph.Cancel,retryToken:c.type===`${X6}`?n:void 0})})))}function sJ(e,n){if(e!=null&&e.file){const{file:o,receiver:i}=e,{upload:{chunkIndex:c,totalChunks:d,uniqueId:p}}=o;return it(Bk,{...e4(n,i),progress:Math.floor((c??0)/(d??1)*100),status:Ph.Fail,retryToken:p}),eo([Wf({upload:{status:Ph.Fail,progress:0,uniqueId:p}}),u1e({uniqueId:p,file:n})])}return Oo}function rJ(e,n){return it(Bk,{...e4(e),progress:0,status:Ph.Fail}),Ua(Wf({upload:{status:Ph.Fail,progress:0,uniqueId:n}}))}async function CAe(e,n,o,i){const c=Z4e(e,"/wc/fileupload",i.value),d=new FormData;try{const p=await X4e(e),v=XL(n,i.value);if(p&&v){d.append("file",new File([p],e.name));const{meeting:{zmk:S}}=i.value,{receiver:T}=v;return Ov({url:c,method:"POST",headers:{"Zoom-File-Origin":"redirect=support_auth",zmk:S},crossDomain:Rb(c),body:d,includeUploadProgress:!0}).pipe(Nh(oJ(e,n,T,o)),rn((x=>{const{type:P,loaded:B,responseHeaders:U,total:j}=x;let W=0,Z=Ph.InProgress;const re={upload:{uniqueId:n}},le=[];if(P==="upload_loadstart")W=0;else if(P==="upload_progress")W=Math.floor(B/j*100*.9);else if(P==="upload_load")W=90;else if(P==="download_load"){var ie,be;W=100,Z=Ph.Success;const{chat:{fileServerDomain:Ce}}=i.value,Ae=(ie=U["zoom-file-id"])===null||ie===void 0?void 0:ie.trim(),F=(be=U["zoom-file-obj"])===null||be===void 0?void 0:be.trim(),Ie=K4e(Ce,{fileObj:F});Object.assign(re,{fileID:Ae,fileObj:F,fileUrl:Ie})}return Object.assign(re.upload,{progress:W,status:Z}),(W>0||P==="upload_loadstart")&&(it(Bk,{...e4(e,T),progress:W,status:Z}),le.push(Wf(re))),eo(le)})),xm((x=>(console.warn(x),$x("Upload small file error.",e,x),sJ(v,e)))))}}catch(p){console.warn(p)}return rJ(e,n)}const iZe=(()=>{const e=new oPe;return n=>async(...o)=>{await e.acquire(),n(...o),setTimeout((()=>{e.release()}),3e3)}})(),aZe=(function(e){const n=["chatFileTransfer"];return new Proxy(e,{get:(o,i)=>typeof i=="string"&&n.includes(i)?function(...c){return iZe(o[i].bind(o))(...c)}:Reflect.get(o,i)})})(ea.createAgent()),EAe={chatHistory:[],chatPrivilege:Jc.All,panelistChatPrivilege:zk.AllPanelist,isAllowAttendeeChat:!0,isFileTransferEnable:!0,isEnableFileTransferEncrypted:!0,fileTransferFileType:[],fileDownloadPromptIgnoreList:[],fileTransferSizeLimit:0,fileServerDomain:"",failedFileTransfer:{}},lZe=Im({[`${Y6}`]:ht(((e,{payload:n})=>{e.chatHistory.push(n)})),[`${l1e}`]:ht(((e,{payload:n})=>{e.chatPrivilege=n})),[`${B3e}`]:ht(((e,{payload:n})=>{e.panelistChatPrivilege=n})),[`${F3e}`]:ht(((e,{payload:n})=>{e.isAllowAttendeeChat=n})),[`${H3e}`]:ht(((e,{payload:n})=>{const{destNodeID:o,msgID:i,userId:c}=n,d=j4e(e.chatHistory,{userId:c,destNodeID:o});d&&Object.assign(d,{id:i})})),[`${nJ}`]:ht(((e,{payload:n})=>{const{msgId:o}=n,i=e.chatHistory.findIndex((c=>c.id===o));i>=0&&e.chatHistory.splice(i,1)})),[`${$3e}`]:ht(((e,{payload:n})=>{Object.assign(e,n)})),[`${c1e}`]:ht(((e,{payload:n})=>{const{originFile:o,...i}=n;e.chatHistory.push(i)})),[`${Wf}`]:ht(((e,{payload:n})=>{const{upload:o,download:i,originFile:c,...d}=n;if(o){var p;const{uniqueId:v,...S}=o,T=e.chatHistory.find((x=>{var P;return x.file&&((P=x.file.upload)===null||P===void 0?void 0:P.uniqueId)===v}));T!=null&&(p=T.file)!==null&&p!==void 0&&p.upload&&(Object.assign(T.file.upload,{...S}),Object.assign(T.file,{...d}),T.file.upload.status===Ph.Success&&e.failedFileTransfer[T.file.upload.uniqueId]&&delete e.failedFileTransfer[T.file.upload.uniqueId])}else if(i){const{id:v,fileUrl:S}=d,T=e.chatHistory.find((x=>{var P;return x.id===v&&((P=x.file)===null||P===void 0?void 0:P.fileUrl)===S}));T!=null&&T.file&&(T.file.download?Object.assign(T.file.download,{...i}):Object.assign(T.file,{download:i}))}})),[`${X6}`]:ht(((e,{payload:n})=>{const{uniqueId:o,fileName:i,userId:c}=n,d=e.chatHistory.find((v=>v.file&&v.file.name==i&&v.file.upload.uniqueId===o&&v.file.upload.status===Ph.InProgress&&v.receiver.userId===c));var p;d!=null&&d.file&&Object.assign((p=d.file)===null||p===void 0?void 0:p.upload,{status:Ph.Cancel,progress:0})})),[`${u1e}`]:ht(((e,{payload:n})=>{const{uniqueId:o,file:i}=n;e.failedFileTransfer[`${o}`]||Object.assign(e.failedFileTransfer,{[`${o}`]:i})})),[`${U3e}`]:ht(((e,{payload:n})=>{const{fileID:o,msgID:i,senderId:c}=n,d=e.chatHistory.find((p=>{var v;return((v=p.file)===null||v===void 0?void 0:v.fileID)===o&&p.sender.userId===c}));d&&Object.assign(d,{id:i})})),[`${d1e}`]:ht(((e,{payload:n})=>{const{id:o,fileUrl:i}=n,c=e.chatHistory.find((p=>{var v,S;return p.id===o&&((v=p.file)===null||v===void 0?void 0:v.fileUrl)===i&&((S=p.file)===null||S===void 0?void 0:S.download.status)===N_.InProgress}));var d;c!=null&&c.file&&Object.assign((d=c.file)===null||d===void 0?void 0:d.download,{status:N_.Cancel,progress:0})})),[`${V3e}`]:()=>({...EAe})},EAe);var wd;const _5=ea.createAgent();let cZe=(wd=class extends NS{async send(e,n){if(!e)return Promise.reject({type:nr,reason:"Text is empty",errorCode:lt.CHAT_EMPTY_MESSAGE});const{[Ko]:o,[Bc]:i}=this,c=o(),d=gs(c),p=bAe(c,n),v=vAe(d,p,c);if(v)return Promise.reject(v);const{meeting:{isWebinar:S,encType:T}}=c,x=T===Az.AES_GCM;let P=!1;const B=S&&hf(p.userRole);if(n===Jl.SilentModeUsers)_5.chat(Su(e),n);else{let j,W=0;S?B?8&~p.clientCap?(W=Jl.Panelist,j=n,P=!0):(W=Jl.IndividualCcPanelist,j=n):p&&(W=p.userId):W=p.userId,await(async function(Z){const{text:re,destId:le,sn:ie,attendeeId:be}=Z;{const Ce=await Jf.beginEncrypt({text:re,type:Xf.RWG_CHAT});Jqe.chat(Ce,le,ie,be)}})({text:e,destId:W,sn:d==null?void 0:d.zoomID,attendeeId:j}),P&&await(function(Z){const{text:re,jid:le,isGCMEnabled:ie}=Z;return Jf.beginEncrypt({text:re,type:Xf.XMPP_CHAT}).then((be=>{Qqe.sendWebinarMseeage(be,le,Jl.IndividualCcPanelist,ie)}))})({text:e,jid:p.jid,isGCMEnabled:x})}const U=(function(j,W,Z,re){const le=new Date().getTime(),ie=performance.now();return{message:j,sender:{name:W.displayName,userId:W.userId,userGuid:W.userGUID,avatar:W.avatar},receiver:{name:Z==null?void 0:Z.displayName,userId:re?Jl.IndividualCcPanelist:Z==null?void 0:Z.userId,userGuid:Z==null?void 0:Z.userGUID},timestamp:le,highResTimeStampForIdentification:ie}})(e,d,p,B);if(i(Y6(U)),P)return it(Ck,U),U;try{const j=await vc(xa(IDe).pipe(iye(5e3),_De((ie=>U.highResTimeStampForIdentification!==ie.identification||!([ie.receiverId,Jl.All,Jl.Panelist].includes(n)||ie.receiverId===Jl.IndividualCcPanelist))),Qr(1))),{msgId:W}=j,{highResTimeStampForIdentification:Z,...re}=U,le={id:W,...re,...B&&{receiver:{name:p==null?void 0:p.displayName,userId:p==null?void 0:p.userId}}};return it(Ck,le),le}catch{return Promise.reject({type:Wee,errorCode:lt.OPERATION_TIMEOUT})}}setPrivilege(e){const n=this[Ko](),{meeting:{isWebinar:o},chat:{chatPrivilege:i},breakoutRoom:c}=n;return i===e?Promise.resolve(""):(c==null?void 0:c.controlStatus)===mi.InProgress&&Ag(n)?Promise.reject({type:dn,reason:"Cannot update chat privilege in a subsession",errorCode:lt.CHAT_SUBSESSION_CONFLICT}):!o&&!uqe.includes(e)||o&&!dqe.includes(e)?Promise.reject({type:nr,reason:"invalid privilege value of parameter",errorCode:lt.CHAT_INVALID_PRIVILEGE}):(_5.setChatPriviledge(e),yr(l3,(d=>d.chatPrivilege===e)))}setPanelistPrivilege(e){const n=this[Ko](),{chat:{panelistChatPrivilege:o}}=n,i=hqe[e];return o===i?Promise.resolve(""):Object.values(KQ).includes(e)?(_5.setPanelistChatPrivilege(e),yr(l3,(c=>c.panelistChatPrivilege===i))):Promise.reject({type:nr,reason:"Panelist privilege value is invalid",errorCode:lt.CHAT_INVALID_PRIVILEGE})}deleteMessage(e){const n=this[Ko](),{chat:{chatHistory:o},meeting:{meetingOptions:i,userId:c}}=n;if(i!=null&&i.isEnableDeleteChatMsg){const d=Iv(n),p=o.find((v=>v.id===e));if(p){const{sender:v}=p;if(d)_5.chatCmdReq(e,ZQ.Delete);else{if(v.userId!==c)return Promise.reject({type:Pp,reason:"can not delete message",errorCode:lt.CLIENT_HOST_OR_MANAGER_PERMISSION_REQUIRED});_5.chatCmdReq(e,ZQ.Delete)}return yr(nQ,(S=>S.id===e)).then((()=>({id:e})))}return Promise.reject({type:nr,reason:"msgId is wrong",errorCode:lt.CHAT_INVALID_MSG_ID_OR_URL})}return Promise.reject({type:dn,reason:"can not delete messages",errorCode:lt.CHAT_DELETE_ACCOUNT_DISABLE})}lockChat(e){const n=this[Ko](),{meeting:{meetingOptions:o}}=n,i=o!=null&&o.isPrivateChatEnabled?Jc.All:Jc.EveryonePublicly;return this.setPrivilege(e?Jc.NoOne:i)}sendFile(e,n){if(!e)return Promise.reject({type:nr,reason:"File is empty",errorCode:lt.CHAT_EMPTY_FILE});const{[Ko]:o,[Bc]:i}=this,c=o(),{chat:{isFileTransferEnable:d,fileTransferFileType:p,fileTransferSizeLimit:v,failedFileTransfer:S}}=c;if(!d)return Promise.reject({type:dn,reason:"Send files via in-session chat is not enabled",errorCode:lt.CHAT_FILE_ACCOUNT_DISABLE});if(typeof e=="string"){const T=XL(e,c);if(T!=null&&T.file&&S[e]){const{file:{upload:x,...P}}=T,{file:{name:B,upload:{uniqueId:U}},receiver:{userId:j}}=T;return i(Wf({originFile:S[e],...P,upload:{...x,status:Ph.InProgress}})),Promise.resolve((()=>{i(X6({uniqueId:U,fileName:B,userId:j}))}))}return Promise.reject({type:nr,reason:"Retry token is not correct.",errorCode:lt.CHAT_INVALID_RETRY_TOKEN})}{const{name:T}=e;if(p.length>0){const[j]=T.split(".").reverse();if(!p.some((W=>W===j)))return Promise.reject({type:dn,reason:"File is not in the allow list",errorCode:lt.CHAT_MISMATCH_FILE_TYPE})}if(e.size>v)return Promise.reject({type:dn,reason:"File size exceeds the maximum limit.",errorCode:lt.CHAT_EXCEED_FILE_SIZE});const x=gs(c),P=bAe(c,n),B=vAe(x,P,c);if(B)return Promise.reject(B);const U=vQ();return i(c1e((function(j,W,Z,re){const le=new Date().getTime();return{file:{name:j.name,size:j.size,type:j.type,upload:{progress:0,uniqueId:W,totalChunks:0,chunkIndex:0}},originFile:j,sender:{name:Z.displayName,userId:Z.userId,userGuid:Z.userGUID,avatar:Z.avatar},receiver:{name:re==null?void 0:re.displayName,userId:re==null?void 0:re.userId,attendeeId:void 0,userGuid:re==null?void 0:re.userGUID},timestamp:le}})(e,U,x,P))),Promise.resolve((()=>{i(u1e({uniqueId:U,file:e})),i(X6({uniqueId:U,fileName:T,userId:P==null?void 0:P.userId}))}))}}downloadFile(e,n,o){const{[Ko]:i,[Bc]:c}=this,{chat:{chatHistory:d}}=i();return!e||!n?Promise.reject({type:nr,reason:"Invalid message id or file url!",errorCode:lt.CHAT_INVALID_MSG_ID_OR_URL}):d.find((v=>{var S;return v.id===e&&((S=v.file)===null||S===void 0?void 0:S.fileUrl)===n}))?(c(Wf({id:e,fileUrl:n,download:{status:N_.InProgress,progress:0,blob:o}})),Promise.resolve((()=>c(d1e({id:e,fileUrl:n}))))):Promise.reject({type:nr,reason:"Invalid message id or file url!",errorCode:lt.CHAT_INVALID_MSG_ID_OR_URL})}getPrivilege(){const{chat:{chatPrivilege:e,isAllowAttendeeChat:n}}=this[Ko]();return n?e:Jc.NoAttendee}getReceivers(){const e=this[Ko](),{chat:{chatPrivilege:n,panelistChatPrivilege:o,isAllowAttendeeChat:i},meeting:{isWebinar:c}}=e;if(!c&&!i)return[];const d=gs(e),p=Iv(e);if(d)if(c)if(hf(d.userRole)){if(!i)return[];if(n===Jc.All)return[KL,U5];if(n===Jc.AllPanelist)return[KL];if(n===Jc.NoOne)return[]}else{if(p||o===zk.Everyone){const v=w5(e,d.userId,{includeAttendee:!0});return[KL,U5,...v]}if(o===zk.AllPanelist){const v=w5(e,d.userId);return[KL,...v]}}else{const v=Iv(e);if(n===Jc.All||v){const S=w5(e,d.userId);return[U5,...S]}if(n===Jc.Host)return w5(e,d.userId,{host:!0});if(n===Jc.EveryonePublicly){const S=w5(e,d.userId,{host:!0});return[U5,...S]}if(n===Jc.NoOne)return[]}return[]}getHistory(){return this[Ko]().chat.chatHistory.map((e=>{const{highResTimeStampForIdentification:n,...o}=e;if(o.file){const{name:i,size:c,type:d,fileUrl:p,upload:v,download:S}=o.file,T={name:i,size:c,type:d,fileUrl:p};return v&&Object.assign(T,{upload:{status:v.status,progress:v.progress}}),S&&Object.assign(T,{download:{status:S.status,progress:S.progress}}),{...o,file:T}}return o}))}isAllowToDeleteMessages(){const e=this[Ko](),{meeting:{meetingOptions:n}}=e;return n==null?void 0:n.isEnableDeleteChatMsg}isFileTransferEnabled(){return this[Ko]().chat.isFileTransferEnable}getFileTransferSetting(){const e=this[Ko](),{chat:{fileTransferFileType:n,fileTransferSizeLimit:o}}=e;return{typeLimit:(n??[]).map((i=>`.${i}`)).join(","),sizeLimit:o}}},zn(wd.prototype,"send",[Gn],Object.getOwnPropertyDescriptor(wd.prototype,"send"),wd.prototype),zn(wd.prototype,"setPrivilege",[yu,Gn],Object.getOwnPropertyDescriptor(wd.prototype,"setPrivilege"),wd.prototype),zn(wd.prototype,"setPanelistPrivilege",[yu,Gn,function(e,n,o){const i=o.value;o.value=function(...c){const d=this[gc];if(d){const{meeting:{isWebinar:p}}=d.getState();if(!p)return Promise.reject({type:RX,reason:"non-webinar",errorCode:lt.CLIENT_SESSION_NOT_WEBINAR})}return i.apply(this,c)}}],Object.getOwnPropertyDescriptor(wd.prototype,"setPanelistPrivilege"),wd.prototype),zn(wd.prototype,"deleteMessage",[Gn],Object.getOwnPropertyDescriptor(wd.prototype,"deleteMessage"),wd.prototype),zn(wd.prototype,"lockChat",[yu,Gn],Object.getOwnPropertyDescriptor(wd.prototype,"lockChat"),wd.prototype),zn(wd.prototype,"sendFile",[Gn],Object.getOwnPropertyDescriptor(wd.prototype,"sendFile"),wd.prototype),zn(wd.prototype,"downloadFile",[Gn],Object.getOwnPropertyDescriptor(wd.prototype,"downloadFile"),wd.prototype),wd);const uZe={epics0:(e,n)=>g3(e,24583).pipe(ts(n),rn((([o,i])=>{if(i.meeting.zlkJwtToken)return Oo;const{payload:{body:{sn:c,senderName:d,senderJid:p,receiver:v,text:S,type:T}}}=o,x=gs(i),P=Cz(i),{meeting:{jid:B,userId:U},participants:{xmppAttendeeList:j}}=i;return Jf.beginDecrypt({decryptedText:S,type:Xf.XMPP_CHAT,zoomId:c}).then((({message:W})=>{var Z;let re=null,le=0,ie="";x&&hf(x.userRole)&&B===v?(re=j.find((Ce=>Ce.jid===p)),le=U,ie=x.displayName):T===Jl.Panelist&&(re=P.find((Ce=>Ce.jid===p)),le=Jl.Panelist,ie=KL.displayName);const be={message:W,sender:{name:d,userId:((Z=re)===null||Z===void 0?void 0:Z.userId)||0,avatar:""},receiver:{name:ie,userId:le},timestamp:new Date().getTime()};return it(Ck,be),Y6(be)}))}))),epics1:(e,n)=>Bo(e,7944).pipe(ts(n),rn((([o,i])=>{const{meeting:{bIbDisableChat:c}}=i,{payload:{body:{attendeeNodeID:d,sn:p,destNodeID:v,text:S,senderName:T,msgID:x}}}=o,P=gs(i);if(P){const B=hf(P==null?void 0:P.userRole)&&d===P.userId&&!x;if(!c&&!B){const{sn:U,...j}=z4e({destNodeID:v,attendeeNodeID:d,senderName:T,sn:p},i);return(d===Jl.SilentModeUsers?Promise.resolve({id:x,message:Qy(S),...j}):Jf.beginDecrypt({decryptedText:S,zoomId:U,type:Xf.RWG_CHAT}).then((({message:W})=>({id:x,message:W,...j})))).then((W=>(it(Ck,W),Y6(W))))}}return Oo}))),epics2:(e,n)=>Bo(e,W0).pipe(En((o=>{var i,c;return((i=o.payload.body)===null||i===void 0?void 0:i.chatPriviledge)!==void 0||((c=o.payload.body)===null||c===void 0?void 0:c.bAllowAttendeeChat)!==void 0})),ts(n),xo((([o,i])=>{const{payload:{body:{chatPriviledge:c,bAllowAttendeeChat:d}}}=o,{chat:{chatPrivilege:p}}=i;return d!==void 0?(it(l3,d===!0?{chatPrivilege:p}:{chatPrivilege:Jc.NoAttendee}),F3e(d)):(it(l3,{chatPrivilege:c}),l1e(c))}))),epics3:e=>Bo(e,W0).pipe(En((n=>{var o;return((o=n.payload.body)===null||o===void 0?void 0:o.panelistChatPriviledge)!==void 0})),xo((n=>{const{payload:{body:{panelistChatPriviledge:o}}}=n;return it(l3,{panelistChatPrivilege:o}),B3e(o)}))),epics4:(e,n)=>Bo(e,4136).pipe(ts(n),rn((([o,i])=>{const{payload:{body:{result:c,destNodeID:d,msgID:p,fileID:v}}}=o,{meeting:{userId:S},chat:{chatHistory:T}}=i,x=[];if(c===Upe.Success)if(v){const B=T.find((U=>{var j;return((j=U.file)===null||j===void 0?void 0:j.fileID)===v}));if(B){const{file:U,receiver:j,...W}=B,{name:Z,size:re,type:le,fileUrl:ie}=U??{},{attendeeId:be,...Ce}=j;it(Ck,{id:p,file:{name:Z,size:re,type:le,fileUrl:ie,upload:{status:Ph.Complete,progress:100}},receiver:{...Ce},...W}),x.push(U3e({fileID:v,msgID:p,senderId:S}))}}else{const B=j4e(T,{userId:S,destNodeID:d});var P;B&&(it(IDe,{msgId:p,receiverId:d,identification:(P=B.highResTimeStampForIdentification)!==null&&P!==void 0?P:0}),x.push(H3e({destNodeID:d,msgID:p,userId:S})))}else c!==Upe.Delete&&c!==Upe.Block||x.push(nJ({msgId:p}));return eo(x)}))),epics5:e=>Bo(e,4238).pipe(rn((n=>{const{payload:{body:{bSuccess:o,cmd:i,msgID:c}}}=n,d=[];return o&&i===ZQ.Delete&&(d.push(nJ({msgId:c})),it(nQ,{id:c})),eo(d)}))),epics6:e=>Bo(e,7960).pipe(rn((n=>{const{payload:{body:{cmd:o,msgID:i}}}=n,c=[];return o===ZQ.Delete&&(c.push(nJ({msgId:i})),it(nQ,{id:i})),eo(c)})))},dZe=xg(uZe,{chatFileEpics0:e=>e.pipe(Uo(`${Mv}`),xo((n=>{var o,i,c;const{payload:{fileTransfer:d,fileServerDomain:p}}=n;return $3e({isFileTransferEnable:d==null?void 0:d.isEnable,isEnableFileTransferEncrypted:d==null?void 0:d.isEnableFileTransferEncrypted,fileTransferFileType:((o=d==null?void 0:d.fileType)!==null&&o!==void 0?o:"").replace(/\./g,"").split(",").filter(Boolean),fileTransferSizeLimit:1024*((i=d==null?void 0:d.sizeLimit)!==null&&i!==void 0?i:0)*1024||Tp.MaxSize,fileDownloadPromptIgnoreList:((c=d==null?void 0:d.fileDownloadPromptIgnoreList)!==null&&c!==void 0?c:"").replace(/\./g,"").split(","),fileServerDomain:`https://${p}`})}))),chatFileEpics1:(e,n)=>e.pipe(Uo(`${c1e}`),rn((async o=>{const{payload:{originFile:i,file:{upload:{uniqueId:c}}}}=o;return i.size>Tp.ChunkSize?await(async function(d,p,v,S){const T=Z4e(d,"/wc/multiupload/init",S.value),x=await(async function(j){const W=Math.ceil(j.size/Tp.ReaderChunkSize);return(await Promise.all(Array.from({length:W},((re,le)=>({start:le*Tp.ReaderChunkSize,end:(le+1)*Tp.ReaderChunkSize}))).map((async({start:re,end:le})=>{try{const ie=await Y4e(j,re,le);return dPe(await window.crypto.subtle.digest("SHA-256",ie))}catch(ie){return $x("calculate file hash error.",j,ie),Promise.reject(ie)}})))).join("")})(d),{meeting:{zmk:P,meetingId:B}}=S.value,U=XL(p,S.value);if(x&&U){const{receiver:j}=U,W={fileName:d.name,length:d.size,channelType:4,digest:x,shareJid:B};return Ov({url:T,method:"POST",headers:{"Zoom-File-Origin":"redirect=support_auth",zmk:P},crossDomain:Rb(T),body:W}).pipe(Nh(oJ(d,p,j,v)),xo((Z=>{var re;const{responseHeaders:le,response:ie}=Z,be=(re=le["x-zm-trackingid"])===null||re===void 0?void 0:re.trim(),{uploadid:Ce,path:Ae,metadata:F}=ie,Ie=Math.ceil(d.size/Tp.ChunkSize);return Wf({originFile:d,upload:{uniqueId:p,status:Ph.InProgress,progress:0,chunkIndex:0,totalChunks:Ie,uploadid:Ce,trackingId:be,path:Ae,metadata:F}})})),xm((Z=>(console.warn(Z),$x("Upload file meta error.",d,Z),sJ(U,d)))),Jy(Wf({upload:{uniqueId:p,status:Ph.Init}})))}return rJ(d,p)})(i,c,e,n):await CAe(i,c,e,n)})),rn((o=>o))),chatFileEpics2:(e,n)=>e.pipe(Uo(`${Wf}`),En((o=>{var i;return((i=o.payload.upload)===null||i===void 0?void 0:i.status)===Ph.Success})),Y_((async o=>{const{payload:{upload:{uniqueId:i}}}=o,{chat:{isEnableFileTransferEncrypted:c,chatHistory:d}}=n.value,p=d.find((S=>{var T;return((T=S.file)===null||T===void 0||(T=T.upload)===null||T===void 0?void 0:T.uniqueId)===i})),v=[];if(p&&p.file){const{file:{name:S,size:T,fileObj:x,fileID:P,type:B},receiver:{userId:U,attendeeId:j}}=p;let[W,Z]=["",""];if(c){const[re,le]=await Promise.all([S,`${T}`].map((ie=>Jf.beginEncrypt({text:ie,type:Xf.RWG_CHAT}))));[W,Z]=[re,le]}else[W,Z]=[S,`${T}`].map((re=>Su(re)));await aZe.chatFileTransfer({fileID:P,fileSize:Z,fileName:W,fileObj:x,type:B,destNodeID:U,attendeeNodeID:j}),v.push(Wf({upload:{uniqueId:i,status:Ph.Complete}}))}return v}))),chatFileEpics3:(e,n)=>e.pipe(Uo(`${Wf}`),En((o=>{const{payload:{upload:i,originFile:c}}=o;return!!i&&!!i.uniqueId&&i.status===Ph.InProgress&&(c==null?void 0:c.size)<=Tp.ChunkSize&&i.totalChunks===0})),rn((async o=>{const{payload:{originFile:i,upload:{uniqueId:c}}}=o;return await CAe(i,c,e,n)})),rn((o=>o))),chatFileEpics4:(e,n)=>e.pipe(Uo(`${Wf}`),En((o=>{const{payload:{upload:i}}=o;return!!i&&!!i.uniqueId&&i.totalChunks>0&&i.chunkIndex!==i.totalChunks})),rn((async o=>{const{payload:{originFile:i,upload:{uniqueId:c}}}=o;return await(async function(d,p,v,S){const T=XL(p,S.value);if(T!=null&&T.file){const{file:{upload:{chunkIndex:x,totalChunks:P,uploadid:B,path:U,trackingId:j,etags:W},size:Z},receiver:re}=T,le=x*Tp.ChunkSize,ie=await X4e(d,le);if(ie){const{chat:{fileServerDomain:be},meeting:{zmk:Ce}}=S.value,Ae=`${be}/upload/parts?${new URLSearchParams({uploadid:B,partNumber:x+1}).toString()}`,F=new FormData,Ie=new File([ie],d.name);return F.append("file",Ie),Ov({url:Ae,method:"POST",headers:{"Zoom-File-Size":Ie.size,"Zoom-File-Path":U,"x-zm-trackingid":j,"Zoom-File-Origin":"redirect=support_auth",zmk:Ce},crossDomain:Rb(Ae),body:F,includeUploadProgress:!0}).pipe(Nh(oJ(d,p,re,v)),rn((tt=>{var Xe;const{type:Ve,loaded:Re,total:vt,responseHeaders:mt}=tt;let gt=0;const te={upload:{uniqueId:p,status:Ph.InProgress}},hn=[],ot=XL(p,S.value),Rt=ot==null||(Xe=ot.file)===null||Xe===void 0?void 0:Xe.upload.progress;if(Ve==="upload_loadstart")gt=Rt||Math.floor(x/P*100);else if(Ve==="upload_progress")gt=Math.floor((x*Tp.ChunkSize+.9*Re)/Z*100);else if(Ve==="upload_load")gt=Math.floor((x*Tp.ChunkSize+.9*vt)/Z*100);else if(Ve==="download_load"){gt=Rt||Math.floor((x+1)/P*100);const kt=mt["x-zm-etag"].trim(),at=W?{...W,[`${x+1}`]:kt}:{[`${x+1}`]:kt};Object.assign(te.upload,{etags:at,chunkIndex:x+1,totalChunks:P}),Object.assign(te,{originFile:d})}return(gt>0||Ve==="upload_loadstart")&&(Object.assign(te.upload,{progress:gt}),it(Bk,{...e4(d,re),progress:gt,status:Ph.InProgress}),hn.push(Wf(te))),eo(hn)})),xm((tt=>(console.warn(tt),$x(`Upload file chunk error. chunk:${x},total chunks:${P},uploadid:${B},trackingId:${j}`,d,tt),sJ(T,d)))))}}return rJ(d,p)})(i,c,e,n)})),rn((o=>o))),chatFileEpics5:(e,n)=>e.pipe(Uo(`${Wf}`),En((o=>{const{payload:{upload:i}}=o;return!!i&&!!i.uniqueId&&i.totalChunks>0&&i.chunkIndex==i.totalChunks})),rn((o=>{const{payload:{originFile:i,upload:{uniqueId:c}}}=o;return(function(d,p,v,S){const{chat:{fileServerDomain:T},meeting:{zmk:x}}=S.value,P=XL(p,S.value);if(P!=null&&P.file){const{file:{upload:{uploadid:B,metadata:U,etags:j,trackingId:W}},receiver:Z}=P,re=`${T}/upload/complete?uploadid=${B}`;return Ov({url:re,method:"POST",headers:{"x-zm-trackingid":W,"Zoom-File-Origin":"redirect=support_auth",zmk:x},crossDomain:Rb(re),body:{metadata:U,etags:j}}).pipe(Nh(oJ(d,p,Z,v)),xo((le=>{var ie,be;const{chat:{fileServerDomain:Ce}}=S.value,{responseHeaders:Ae}=le,F=(ie=Ae["zoom-file-id"])===null||ie===void 0?void 0:ie.trim(),Ie=(be=Ae["zoom-file-obj"])===null||be===void 0?void 0:be.trim(),tt=`${Ce}/zoomfile/download?objkey=${Ie}&business=meeting`;return it(Bk,{...e4(d,Z),progress:100,status:Ph.Success}),Wf({fileID:F,fileObj:Ie,fileUrl:tt,upload:{uniqueId:p,progress:100,status:Ph.Success}})})),xm((le=>(console.warn(le),$x(`Upload chunks checksum error.uploadid${B},trackingId${W}`,d,le),sJ(P,d)))))}return rJ(d,p)})(i,c,e,n)}))),chatFileEpics6:(e,n)=>Bo(e,4308).pipe(Y_((async o=>{const{payload:{body:{attendeeNodeID:i,destNodeID:c,fileID:d,fileName:p,fileObj:v,fileSize:S,fileType:T,msgID:x,senderName:P}}}=o,{meeting:{bIbDisableChat:B},chat:{fileServerDomain:U,isEnableFileTransferEncrypted:j}}=n.value,W=[];if(!B){const Z=K4e(U,{fileObj:v,fileID:d});if(T===pqe.Local){const{sn:re,...le}=z4e({destNodeID:c,attendeeNodeID:i,senderName:P},n.value);let[ie,be]=["",0];if(j){const[Ae,F]=await Promise.all([p,S].map((Ie=>Jf.beginDecrypt({decryptedText:Ie,zoomId:re,type:Xf.RWG_CHAT}))));ie=Ae.message,be=Number(F.message)}else ie=Qy(p),be=Number(Qy(S));const Ce={id:x,file:{name:ie,size:be,fileUrl:Z},...le};W.push(Y6({...Ce,file:{...Ce.file,fileID:d,fileObj:v}})),setTimeout((()=>{it(Ck,Ce)}),0)}}return W}))),chatFileEpics7:(e,n)=>e.pipe(Uo(`${Wf}`),En((o=>{var i,c;const{payload:d}=o;return d.id&&d.fileUrl&&((i=d.download)===null||i===void 0?void 0:i.status)===N_.InProgress&&((c=d.download)===null||c===void 0?void 0:c.progress)===0})),rn((o=>(function(i,c,d){var p;const{chat:{chatHistory:v},meeting:{zmk:S},participants:{attendeesList:T}}=d.value,x=v.find((P=>P.id===i));if(x!=null&&(p=x.file)!==null&&p!==void 0&&p.fileUrl){const{file:{fileUrl:P}}=x;return Ov({url:P,method:"GET",headers:{"Zoom-File-Origin":"redirect=support_auth",zmk:S},crossDomain:Rb(P),responseType:"arraybuffer",includeDownloadProgress:!0}).pipe(Nh((function(B,U){return U.pipe(Uo(`${d1e}`,`${q0}`),En((j=>{if(j.type===`${q0}`)return!0;const{payload:{id:W}}=j;return B.id===W})),Qr(1),$o((()=>{var j,W,Z;q4e.info(`Cancel file download. file name:${Zf((j=B.file)===null||j===void 0?void 0:j.name)},file size:${(W=B.file)===null||W===void 0?void 0:W.size},sender id:${(Z=B.sender)===null||Z===void 0?void 0:Z.userId}`),it(MX,{...Ype(B),progress:0,status:N_.Cancel})})))})(x,c)),Y_((async B=>{const{type:U,loaded:j,total:W}=B,Z=[],re={...Ype(x),progress:0,status:N_.InProgress};if(U==="download_loadstart"&&Object.assign(re,{progress:0}),U==="download_progress"){var le;const Ie=Math.floor(j/W*100);Z.push(Wf({id:i,fileUrl:(le=x.file)===null||le===void 0?void 0:le.fileUrl,download:{progress:Ie}})),Object.assign(re,{progress:Ie})}else if(U==="download_load"){var ie,be,Ce;const tt=N_.Success;Object.assign(re,{progress:100,status:tt}),Z.push(Wf({id:i,fileUrl:(ie=x.file)===null||ie===void 0?void 0:ie.fileUrl,download:{progress:100,status:tt}}));const Xe=(be=T.find((Re=>Re.userId===x.sender.userId)))===null||be===void 0?void 0:be.zoomID,Ve=await(async function(Re,vt,mt){const gt=Math.ceil(Re.byteLength/Tp.DecodeBlockSize);try{const te=await Promise.all(Array.from({length:Math.max(gt-1,1)},((hn,ot)=>({start:ot*Tp.DecodeBlockSize,end:(ot===gt-2?ot+2:ot+1)*Tp.DecodeBlockSize}))).map((async({start:hn,end:ot})=>{try{const Rt=Re.slice(hn,ot),{message:kt}=await Jf.beginDecrypt({decryptedText:Rt,zoomId:mt,type:Xf.CHAT_FILE});return kt}catch(Rt){return $x("decrypt file buffer error.",{name:vt,size:Re.byteLength},Rt),Promise.reject(Rt)}})));return new Blob(te,{type:eZe(vt)})}catch{return null}})(B.response,(Ce=x.file)===null||Ce===void 0?void 0:Ce.name,Xe);var Ae,F;Ve&&((Ae=x.file)!==null&&Ae!==void 0&&Ae.download.blob?Object.assign(re,{fileBlob:Ve}):(function(Re,vt){const mt=document.createElement("a"),gt=window.URL.createObjectURL(Re);mt.href=gt,mt.download=vt,mt.click(),window.URL.revokeObjectURL(gt)})(Ve,(F=x.file)===null||F===void 0?void 0:F.name))}return(re.progress>0||U==="download_loadstart")&&it(MX,re),Z})),xm((B=>(console.warn(B),$x(`download file error. file url:${P}`,{name:void 0,size:void 0},B),it(MX,{...Ype(x),progress:0,status:N_.Fail}),Ua(Wf({id:i,fileUrl:P,download:{status:N_.Fail,progress:0}}))))))}return Oo})(o.payload.id,e,n))))});function k2(e,n){var o,i,c;const{meeting:{isMeetingReset:d,meetingId:p,meetingNumber:v,userName:S,userEmail:T,tid:x,userId:P,userGUID:B,isRlbTP:U},breakoutRoom:j}=e;let W="";var Z;return W=d?j!=null&&(Z=j.currentRoom)!==null&&Z!==void 0&&Z.boConfId?"join breakout room":"meeting failover":"join meeting",{label:W,payload:{meetingId:(o=n==null?void 0:n.meetingId)!==null&&o!==void 0?o:p,tid:x,userId:(i=n==null?void 0:n.userId)!==null&&i!==void 0?i:P,userGUID:(c=n==null?void 0:n.userGUID)!==null&&c!==void 0?c:B,isRlbTP:U,meetingNumber:Zf(v),userName:Zf(S),userEmail:Zf(T)}}}function xv(e,n,o){return CO(Ei((i=>{let c=!1;try{var d,p;const{logger:{options:v},meeting:{logConfig:S}}=n.value;c=(d=v==null?void 0:v.enable)!==null&&d!==void 0?d:(p=JSON.parse(S||"{}"))===null||p===void 0?void 0:p.enable}catch{}try{if(c){const{logger:{isLaplaceInitialized:v}}=n.value;if(!v)return e.pipe(Uo(`${cee}`),Qr(1),rn((S=>(S.payload&&o(i),Oo))));o(i)}}catch(v){console.warn(v)}return Oo})))}function Ux(e,n,o,i){return lr(e,o).pipe(xv(e,n,i))}function w3(e,n,o,i){return Bo(e,o).pipe(xv(e,n,i))}function gbe(e){var n,o;const{audio:{activeMicrophone:i,activeSpeaker:c,microphoneDevicesList:d,speakerDevicesList:p}}=e;return`microphone: [${i} - ${d==null||(n=d.find((v=>v.deviceId===i)))===null||n===void 0?void 0:n.label}]; speaker: [${c} - ${p==null||(o=p.find((v=>v.deviceId===c)))===null||o===void 0?void 0:o.label}]`}function J4e(e){var n;const{video:{activeCamera:o,cameraDevicesList:i}}=e;return`camera: [${o} - ${i==null||(n=i.find((c=>c.deviceId===o)))===null||n===void 0?void 0:n.label}]`}function A5(e,n){return n!==void 0?` ,${e}:${n}`:""}const{InitSuccessAudio:hZe,InitFailedAudio:fZe,InitSuccessVideo:pZe,InitFailedVideo:mZe,InitSuccessSharing:gZe,InitFailedSharing:vZe}=Jn,{DecodeSuccess:wAe,DecodeFailed:_Ae,EncodeSuccess:AAe,EncodeFailed:TAe}=pg,bZe={[`${hZe}`]:{name:"Audio",isException:!1},[`${fZe}`]:{name:"Audio",isException:!0},[`${pZe}`]:{name:"Video",isException:!1},[`${mZe}`]:{name:"Video",isException:!0},[`${gZe}`]:{name:"Sharing",isException:!1},[`${vZe}`]:{name:"Sharing",isException:!0}};function yZe(e){const n=(e??"").split("-");return[...new Set(n)].map((o=>({reason:o,count:n.filter((i=>o===i)).length})))}let Ob=(function(e){return e[e.Success=0]="Success",e[e.MeetingIsOver=6]="MeetingIsOver",e[e.UserFull=9]="UserFull",e[e.MeetingLocked=12]="MeetingLocked",e[e.WebinarBlockedEmail=3033]="WebinarBlockedEmail",e[e.MeetingNotStarted=3008]="MeetingNotStarted",e[e.MeetingHasClosed=103003]="MeetingHasClosed",e[e.UserHasBeenRemoved=103039]="UserHasBeenRemoved",e[e.MMRIBReject=103043]="MMRIBReject",e[e.MMRConfParticipantExists=103044]="MMRConfParticipantExists",e})({}),x_=(function(e){return e[e.Unknown=0]="Unknown",e[e.Normal=1]="Normal",e[e.Userrequest=2]="Userrequest",e[e.SdkConnection=3]="SdkConnection",e[e.Reconnect=5]="Reconnect",e[e.PtRequest=6]="PtRequest",e[e.KickedByHost=7]="KickedByHost",e[e.EndByHost=8]="EndByHost",e[e.EndByHostStartAnotherMeeting=9]="EndByHostStartAnotherMeeting",e[e.FreeMeetingTimeout=10]="FreeMeetingTimeout",e[e.JBHTimeout=11]="JBHTimeout",e[e.EndBySingleStatus=12]="EndBySingleStatus",e[e.WebinarNeedRegister=13]="WebinarNeedRegister",e[e.ArchiveFail=14]="ArchiveFail",e[e.EndByNone=15]="EndByNone",e[e.EndByAdmin=16]="EndByAdmin",e[e.DuplicateSession=17]="DuplicateSession",e[e.MeetingTransfer=18]="MeetingTransfer",e})({}),SZe=(function(e){return e[e.WaitingRoomFailover=1]="WaitingRoomFailover",e[e.WebEndAndRejoin=2]="WebEndAndRejoin",e})({}),lE=(function(e){return e[e.Success=0]="Success",e[e.CommonError=200]="CommonError",e[e.WrongPasscode=3004]="WrongPasscode",e[e.RoleTypeMissing=3010]="RoleTypeMissing",e[e.InvalidParameter=4003]="InvalidParameter",e})({}),vu=(function(e){return e[e.Success=0]="Success",e[e.AnotherMeetingInProgress=3e3]="AnotherMeetingInProgress",e[e.MeetingNotExist=3001]="MeetingNotExist",e[e.NotHost=3003]="NotHost",e[e.WrongPasscode=3004]="WrongPasscode",e[e.MissingEmail=3005]="MissingEmail",e[e.MeetingNotStarted=3008]="MeetingNotStarted",e[e.UserHasBeenRemoved=3009]="UserHasBeenRemoved",e[e.RoleTypeMissing=3010]="RoleTypeMissing",e[e.WebinarEnforceLogin=3034]="WebinarEnforceLogin",e[e.RealNameMissing=3082]="RealNameMissing",e[e.RegisterRequired=3099]="RegisterRequired",e[e.SsoLoginWindow=6024]="SsoLoginWindow",e[e.ZoomLoginWindow=3051]="ZoomLoginWindow",e[e.ZoomSpecificLoginWindow=3052]="ZoomSpecificLoginWindow",e[e.LoginRequired=3100]="LoginRequired",e[e.Reconnecting=4e3]="Reconnecting",e[e.Disconnect=4001]="Disconnect",e[e.InvalidParameter=4003]="InvalidParameter",e[e.DeniedRegisterWithPanelist=3032]="DeniedRegisterWithPanelist",e[e.ServiceOffline=403]="ServiceOffline",e[e.RwcEmpty=3621]="RwcEmpty",e[e.RwcError=3622]="RwcError",e[e.FrequentCall=3633]="FrequentCall",e[e.FrequentJoin=3634]="FrequentJoin",e[e.WasmFail=3635]="WasmFail",e[e.CommonError=200]="CommonError",e[e.Upgrade=1e4]="Upgrade",e})({});vu.Success,vu.RegisterRequired,vu.LoginRequired,vu.SsoLoginWindow,vu.ZoomLoginWindow,vu.ZoomSpecificLoginWindow,vu.MissingEmail,vu.MeetingNotExist,vu.NotHost,vu.WrongPasscode,vu.RoleTypeMissing,vu.AnotherMeetingInProgress,vu.MeetingNotStarted,vu.InvalidParameter,vu.Reconnecting,vu.UserHasBeenRemoved,vu.WebinarEnforceLogin,vu.Disconnect,vu.DeniedRegisterWithPanelist,vu.RwcEmpty,vu.RwcError,vu.FrequentCall,vu.FrequentJoin,vu.WasmFail,vu.Upgrade;const xAe={3004:{"incorrect passcode":3004},3005:{"apac.errorcodes_web_has_in_progress":3e3},3008:{"apac.errorcodes_not_start":3008},3027:{"apac.errorcodes_host_email_as_attendee":3627},3033:{"apac.errorcodes_denied_email":3620},1005:{"apac.errorcodes_no_response_from_web":3621},131005:{"apac.errorcodes_no_response_from_web":3621},1001:{"apac.errorcodes_host_inactive":3625},131001:{"apac.errorcodes_host_inactive":3625},131013:{"meeting ended":4004},103039:{"user has been removed":3009},6:{"meeting ended":4004},9:{"meeting is at capacity":4005},12:{"meeting locked":4006},103043:{"reject for information barriers":4007},103044:{"participant exist":4008}};function iE(e,n){let o={code:200};if(xAe[e]!==void 0){const i=xAe[e],c=Object.keys(i)[0];return o={code:i[c],i18nKey:c},{reason:c.startsWith("apac")?"":c,errorCode:o.code}}return{errorCode:200,reason:"connection error"}}const Am=Qf.getInstance(),Xpe=()=>{if("connection"in navigator){const{effectiveType:e,rtt:n,downlink:o}=navigator.connection;Am.makeLogger(["Network Connection Type"]).info(`Network connection. ect:${e},rtt:${n},downlink:${o}`)}},Ax=Qf.getInstance().makeLogger(["Remote Control"]),OAe=Rm(Ns.getInstance()),CZe=[{event:Jn.AudioBridgeReconnectStart,message:T2.AudioBridgeReconnectStart,logType:"info",additionalTags:["Audio Join Flow"]},{event:Jn.AudioBridgeReconnectEnd,message:T2.AudioBridgeReconnectEnd,logType:"info",additionalTags:["Audio Join Flow"]},{event:Jn.UserGrantCaptureAudio,message:e=>`${T2.DeviceAudioStreamCaptured},${gbe(e)}`,logType:"info",additionalTags:["Audio Capture Flow"]},{event:Jn.JoinComputerAudioComplete,message:T2.AudioJoinComplete,logType:"info",additionalTags:["Audio Join Flow"]},{event:Jn.LeaveComputerAudioComplete,message:T2.AudioLeaveComplete,logType:"info",additionalTags:["Audio Join Flow"]},{event:Jn.JoinSharingAudioComplete,message:T2.SharingAudioStartComplete,logType:"info",additionalTags:["Audio Sharing Flow"]},{event:Jn.LeaveSharingAudioComplete,message:T2.SharingAudioStopComplete,logType:"info",additionalTags:["Audio Sharing Flow"]}],EZe=[{event:Jn.StartVideoCaptureSuccess,message:e=>`${x2.StartCaptureVideoSuccess}, ${J4e(e)}`,logType:"info",additionalTags:["Video Join Flow"]},{event:Jn.StopVideoCaptureSuccess,message:x2.StopCaptureVideoSuccess,logType:"info",additionalTags:["Video Join Flow"]},{event:Jn.StartVideoStreamInVbSettingSuccess,message:x2.VBSettingSuccess,logType:"info",additionalTags:["Video VB Flow"]},{event:Jn.VbModelPreloadingOk,message:x2.VBPreloadSuccess,logType:"info",additionalTags:["Video VB Flow"]},{event:Jn.VbModelPreloading_3S,message:x2.VBPreloading3S,logType:"warn",additionalTags:["Video VB Flow"]},{event:Jn.VbModelPreloading_10S,message:x2.VBPreloading10S,logType:"warn",additionalTags:["Video VB Flow"]},{event:Jn.VbSettingParaError,message:x2.VBSettingFailed,logType:"error",additionalTags:["Video VB Flow"]}],IAe=CZe.map((e=>({...e,tag:"Audio"}))).concat(EZe.map((e=>({...e,tag:"Video"})))),_b=Qf.getInstance(),{InitSuccessVideo:wZe,InitSuccessAudio:_Ze,InitSuccessSharing:AZe,InitFailedVideo:TZe,InitFailedAudio:xZe,InitFailedSharing:OZe,AudioCaptureFailed:RAe,AudioWebsocketBroken:IZe,AudioZeroData:kAe,UserForbiddedCaptureVideo:DAe,UserCameraIsTakenByOtherPrograms:MAe,VideoWebsocketBroken:RZe,StopVideoCaptureFailed:kZe,DesktopSharingPermissionDenied:DZe,DesktopSharingSystemError:PAe,AudioSpeakerSetError:NAe,VbSettingParaError:MZe,MaskSettingParaError:PZe,WebglLostInMultiView:NZe,VideoStreamFailed:LAe,AudioStreamFailed:BAe,NotifyUIFailover:LZe,RecaptureAudio:VAe,WorkletProcessExceptions:BZe}=Jn,VZe=Ns.getInstance(),D2=Qf.getInstance(),Jpe={options:void 0,isLaplaceInitialized:!1,isLogDetailed:!0},FZe=Im({[`${g1e}`]:ht(((e,{payload:n})=>{e.options=n})),[`${cee}`]:ht(((e,{payload:n})=>{e.isLaplaceInitialized=n})),[`${M4e}`]:ht(((e,{payload:n})=>{e.isLogDetailed=n})),[`${P4e}`]:({options:e,isLogDetailed:n},{payload:o})=>o?{...Jpe,isLogDetailed:n,options:e}:{...Jpe}},Jpe),HZe={mlEpics0:(e,n)=>lr(e,[wZe,_Ze,AZe,TZe,xZe,OZe]).pipe(xv(e,n,(o=>{const{payload:{type:i,data:c}}=o,{meeting:{userId:d}}=n.value,p=(function(v,S){const T=bZe[`${v}`];if(T){const{name:x,isException:P}=T,B=[x,`${x} Init Flow`];P&&B.push(`${x} exception flow`);let U="";return[wAe,_Ae].includes(S)&&(U=`${U} decode`.trim()),[AAe,TAe].includes(S)&&(U=`${U} encode`.trim()),[AAe,wAe].includes(S)&&(U=`${U} success`.trim()),[_Ae,TAe].includes(S)&&(U=`${U} failed`.trim()),{message:`init ${x.toLowerCase()} ${U}`,tags:B,isException:P}}return null})(i,c);if(p){const{message:v,tags:S,isException:T}=p;T?_b.report(`${v}. userId:${d}`,S):_b.makeLogger(S).info(v)}}))),mlEpics1:(e,n)=>Ux(e,n,IAe.map((o=>o.event)),(o=>{const{payload:{type:i}}=o,c=IAe.find((d=>d.event===i));if(c){const{message:d,logType:p,additionalTags:v,tag:S}=c;let T=d;typeof d=="function"?window.setTimeout((()=>{T=d(n.value),_b.makeLogger([S])[p](T,v)}),0):T&&_b.makeLogger([S])[p](T,v)}})),mlEpics2:(e,n)=>e.pipe(Uo(`${X3}`),En((o=>!o.payload)),xv(e,n,(()=>{_b.makeLogger(["Audio"]).warn(`Auto play audio failed,${gbe(n.value)}`)}))),mlEpics3:(e,n)=>Ux(e,n,LZe,(o=>{_b.report(`WebRTC notify ui failover, subreason:${JSON.stringify(o.payload.data)}`,["Audio exception flow"])})),mlEpics4:(e,n)=>Ux(e,n,[RAe,IZe,kAe,NAe,BAe,VAe,BZe],(o=>{const{payload:{type:i,data:c}}=o;let d=`Audio error case:${i}`;var p,v;i===RAe?d=`Audio capture failed. errorCode:${c==null?void 0:c.errorCode}, message:${c==null?void 0:c.errorMessage}, error:${c==null||(p=c.error)===null||p===void 0?void 0:p.name} ${c==null||(v=c.error)===null||v===void 0?void 0:v.message}.`:i===kAe?n.value.audio.webrtcRestartCount<3&&(d="audio capture zero data, auto failover"):i===NAe?d=`audio change speaker error. errorCode:${c==null?void 0:c.errorCode}, message:${c==null?void 0:c.errorMessage}.`:i===BAe?d="audio stream ended or muted, stop capture audio":i===VAe&&(d="audio muted after switching from background, try to recapture audio"),_b.report(`${d},${gbe(n.value)}`,["Audio exception flow"])})),mlEpics5:(e,n)=>Ux(e,n,[DAe,MAe,RZe,kZe,LAe],(o=>{const{payload:{type:i,data:c}}=o;let d=`Video error case:${i}`;if(i===DAe)d="Video capture is forbidden by the user"+(c?` (error name:${c==null?void 0:c.name};error message:${c==null?void 0:c.message})`:"");else if(i===MAe)d="Camera is taken by other programs"+(c?` (error name:${c==null?void 0:c.name};error message:${c==null?void 0:c.message})`:"");else if(i===MZe){var p;d=`VB setting error, param:${JSON.stringify((p=n.value.video.virtualBackground)!==null&&p!==void 0?p:{})}`}else if(i===PZe){var v;d=`Mask setting error, param:${JSON.stringify((v=n.value.video.mask)!==null&&v!==void 0?v:{})}`}else i===LAe&&(d=`Video stream ended or muted, if it is on iOS platform, will stop capture video.platform:${Yo.browser}`);_b.report(`${d},${J4e(n.value)}`,["Video exception flow"])})),mlEpics6:(e,n)=>Ux(e,n,[DZe,PAe],(o=>{const{payload:{type:i}}=o;let c="";i===PAe?Yo.isMacOS&&(c="Need to allow screen recording access in system setting on MacOS"):c="Need to allow the permission request",_b.report(`${c}`,["Sharing exception flow"])})),mlEpics7:(e,n)=>Ux(e,n,NZe,(o=>{const{payload:{data:i}}=o,{video:{renderedVideoList:c}}=n.value;if(i!=null&&i.canvasId){const d=c.filter((p=>p.canvasId===i.canvasId));_b.report(`WebGl Context lost, canvas ID:${i.canvasId}, affected video node Ids:${d.map((p=>p.userId)).join(",")}`,["Video exception flow"])}})),mlEpics8:(e,n)=>ah(document,"visibilitychange").pipe(xv(e,n,(()=>{if(_b.makeLogger(["Video"]).log(`Page visibility ${document.visibilityState} `),document.visibilityState=="hidden"&&Yo.isAndroidOrIOSBrowser){const{logger:{isLogDetailed:o,isLaplaceInitialized:i}}=n.value;o&&i&&_b.reportToGlobalTracing(void 0,!0,!0)}setTimeout((()=>{const o=document.visibilityState!=="visible",{video:{subscribedVideoList:i},meeting:{userId:c}}=n.value,d=i.filter((p=>p!==c)).length>0;o&&d&&(ea.createAgent().sendRWGConnectionPerformance("VCSV"),_b.makeLogger(["Video"]).warn("Still subscribing videos after switching to background"))}),1e3)}))),mlEpics9:e=>lr(e,Jn.InitSuccessVideo).pipe(En((n=>n.payload.data===pg.EncodeSuccess&&Yo.isAndroidOrIOSBrowser)),Ei((()=>{const n=_b.makeLogger(["Video"]);return n.info("Screen orientation: "+(bPe()?"landscape":"portrait")),yPe().pipe($o((o=>{n.info("Screen orientation changes, current orientation: "+(o?"landscape":"portrait"))})),Eg())})))},$Ze={rmclEpics0:(e,n)=>e.pipe(Uo(`${i1e}`),xv(e,n,(o=>{const{payload:{isRemoteControlEnabled:i,isEnableAutoDeleteRcApp:c}}=o;Ax.log(`isRemoteControlEnabled:${i},auto delete:${c}`)}))),rmclEpics1:(e,n)=>e.pipe(Uo(`${gE}`),En((o=>!!o.payload)),xv(e,n,(o=>{let i=o.payload;try{const c=new URL(i),d=c.searchParams.get("accountID");d&&(c.searchParams.set("accountID",Zf(d)),i=c.toString()),Ax.log(`Launch Remote control app, scheme:${i}`)}catch{}}))),rmclEpics2:(e,n)=>e.pipe(Uo(`${f6}`),En((o=>!!o.payload)),xv(e,n,(o=>{Ax.log(`Remote control session starts, controlling ssrc:${o.payload}`)}))),rmclEpics3:(e,n)=>w3(e,n,16430,(()=>{Ax.log("Remote control app connected to rwg.")})),rmclEpics4:(e,n)=>w3(e,n,Mve,(()=>{Ax.log("Remote control app disconnected to rwg.")})),rmclEpics5:(e,n)=>w3(e,n,Mve,(o=>{const{share:{status:i,isRemoteControlEnabled:c}}=n.value;c&&i!==Xr.End&&o.payload.body.bOn&&Ax.log(`Remote control sharing device info.${JSON.stringify(OAe.getShareStreamInfo())}`)})),rmclEpics6:(e,n)=>Ux(e,n,Jn.CurrentDesktopSharingWidthHeight,(()=>{const{share:{isRemoteControlEnabled:o}}=n.value;o&&Ax.log(`Remote control sharing device info changes.${JSON.stringify(OAe.getShareStreamInfo())}`)})),rmclEpics7:(e,n)=>Ux(e,n,Jn.SendRemoteControlQrCode,(o=>{const{share:{status:i}}=n.value,{payload:{data:c}}=o;Ax.log(`Remote control QR code result. sharing status:${i}, result${JSON.stringify(c)}`)}))},UZe={epics0:(e,n)=>e.pipe(Uo(`${Mv}`),rn((async o=>{const{meeting:{logConfig:i,logEncryptionPubKey:c,zlkJwtToken:d,accountId:p,enableAutoLog:v,collectionToggleEnable:S,zsk:T,isUIToolkit:x},logger:{options:P}}=n.value;let B=P||{};if(i)try{const{enable:U,enableReport:j}=JSON.parse(i);B={...B,enable:U,enableReport:j}}catch{}if(d){const{telemetry_tracking_id:U}=aA(d),{payload:{meetingId:j}}=o;B={...B,enable:!0,enableReport:!0,trackingId:U??j}}else{let U=!1;U=T&&S!==void 0?!(v&&S):!v,ai.set(bLe.DisableAutoReportLogs,U,ya.Memory)}return Am.init({...B,logConfig:i,logEncryptionPubKey:c,accountId:p,isUIToolkit:x}).then((()=>[cee(!0),g1e(B)])).catch((()=>[cee(!1)]))})),rn((o=>eo(o)))),epics1:(e,n)=>w3(e,n,ote,(o=>{var i,c,d,p;const{payload:{body:v}}=o;if(v&&v.res===Ob.Success){Am.makeLogger(["A/V Performance Info"]).info(`CPU cores:${navigator.hardwareConcurrency}, SharedArrayBuffer:${!!Yo.isSupportSharedArrayBuffer},
          OffscreenCanvas:${!!Yo.isSupportOffscreenCanvas}, browser:${Yo.browser} ${Yo.browserVersion}, OS:${Yo.os} ${Yo.osVersion}${A5("wow64",Yo.wow64)}${A5("GPU",Yo.gpu)}${A5("architecture",Yo.architecture)}${A5("bitness",Yo.bitness)}${A5("model",Yo.model)}`,["CPU_CORES"]);const{media:{enforceMultipleVideos:hn,enforceVirtualBackground:ot,assetsPath:Rt,disableRenderLimits:kt},meeting:{stayAwake:at,quicklyLeave:Cn}}=n.value;Am.makeLogger(["Init Option"]).info(`Init option:${JSON.stringify({enforceMultipleVideos:hn,disableRenderLimits:kt,enforceVirtualBackground:ot,assetsPath:Rt,stayAwake:at,leaveOnPageUnload:Cn})}`),"connection"in navigator&&(Xpe(),navigator.connection.addEventListener("change",Xpe))}else Am.report(`join meeting failed, error:${JSON.stringify(iE(v==null?void 0:v.res))}, rwg error code:${v==null?void 0:v.res}, rwg conID:${v==null?void 0:v.conID}, error message:${v==null?void 0:v.error_desc}, rwg url:${v==null?void 0:v.svcUrl},mid:${n.value.meeting.meetingId}`,"JOIN_MEETING_FAILED","error");const{meeting:{meetingInfoTimestamp:S,pingRWCTimestamp:T,tid:x,meetingId:P,topic:B,accountId:U,cv:j,zlkJwtToken:W,websdkClientFeatureOptions:Z},socket:{rwgServerList:re,retryCount:le},video:{rendererType:ie},media:{patchJsMedia:be,assetsPath:Ce},audio:{isWebRtcAudioCapable:Ae},logger:{isLogDetailed:F}}=n.value;let Ie=["conID","confID","mmrFeature","mmrFeatureEx","reportDomain","res","role","svcUrl","userID","userGUID","useWBVideo","useWBAudio"].reduce(((hn,ot)=>v[ot]!==void 0?{...hn,[`${ot}`]:v[ot]}:hn),{});Ie=["jid","mn","participantID"].reduce(((hn,ot)=>v[ot]!==void 0?{...hn,[`${ot}`]:Zf(v[ot])}:hn),Ie),Ie.response=Ie.res,delete Ie.res;const tt=["connection_info_map"];let Xe;if(v.res===Ob.Success&&tt.push("Command Socket Event","User Info Map"),x){const hn=x.match(/clid=(\S+);/);hn&&hn.length>1&&(Xe=hn[1])}const Ve=Math.floor(performance.now()-S),Re=Math.floor(performance.now()-T);let[vt,mt]=[void 0,void 0];if(W){var gt;const{enforce_web_rtc_audio:hn,audio_compatible_mode:ot,audio_webrtc_mode:Rt,video_webrtc_mode:kt}=aA(W);vt=(gt=Rt??ot)!==null&&gt!==void 0?gt:hn,mt=kt}const te=ea.createAgent();Am.report(JSON.stringify({...Ie,tid:x,mid:P,userRegion:Xe,rwgUrl:re.length>0?(i=re[le])===null||i===void 0?void 0:i.rwg:void 0,hardwareConcurrency:navigator.hardwareConcurrency,sharedArrayBuffer:Yo.isSupportSharedArrayBuffer,OffscreenCanvas:Yo.isSupportOffscreenCanvas,browserVersion:`${Yo.browser} ${Yo.browserVersion}`,osVersion:`${Yo.os} ${Yo.osVersion}`,gpu:Yo.gpu,architecture:Yo.architecture,model:Yo.model,bitness:Yo.bitness,wow64:Yo.wow64,totalDurationOfJoining:Ve,durationOfRWG:Re,rendererType:ie,sdkVersion:j,mediaSdkVersion:(c=window.JsMediaSDK_Instance)===null||c===void 0?void 0:c.version,topic:B?Zf(B):void 0,accountId:U?Zf(U):void 0,patchJSMediaSDK:be,dependentAssets:Ce,webRtcAudio:Ae,crossOriginIsolated:!!window.crossOriginIsolated,jwtAudio:vt,jwtVideo:mt,isRlbTP:(d=te.websocket)===null||d===void 0?void 0:d.isRlb,abOption:Z,logDetail:F}),tt,"info"),te.sendRWGConnectionPerformance(`WCL_M, conId: ${v==null?void 0:v.conID}, trackingId: ${(p=n.value.logger)===null||p===void 0||(p=p.options)===null||p===void 0?void 0:p.trackingId}, JOINFS(${Ve}), JOINFRWC(${Re})`)})),epics2:(e,n)=>e.pipe(Uo(`${Lye}`),ts(n),En((([,o])=>o.meeting.encryptedRWC===void 0&&(o.meeting.encryptedGEORWC===void 0||o.meeting.encryptedGEORWC.length===0))),xv(e,n,(()=>{const{label:o,payload:i}=k2(n.value);Am.report(`${o} ${JSON.stringify(i)}`,["Join Meeting Flow","Ping RWC Domain Empty"],"error")}))),epics3:(e,n)=>e.pipe(Uo(`${wg}`),En((o=>o.payload===df.OnError||o.payload===df.Disconnect||o.payload===df.NoHeartbeat)),xv(e,n,(o=>{var i;const{payload:c}=o,{socket:{rwgServerList:d,retryCount:p}}=n.value,{payload:v}=k2(n.value);Am.report(`websocket unexpected disconnected,${JSON.stringify({code:c,rwgHost:(i=d[p])===null||i===void 0?void 0:i.rwg,...v})}`,["Join Meeting Flow","RWG Disconnect"])}))),epics4:(e,n)=>e.pipe(Uo(`${BQ}`),xv(e,n,(o=>{const{payload:{reason:i,count:c,interval:d,sequence:p,userId:v,userGUID:S,meetingId:T}}=o,{payload:x}=k2(n.value,{meetingId:T,userId:v,userGUID:S});Am.report(`meeting failover,${JSON.stringify({reason:i,count:c,interval:d,sequence:p,detailed:yZe(p),...x})}`,["Join Meeting Flow","Failover"]),"connection"in navigator&&navigator.connection.removeEventListener("change",Xpe)}))),epics5:(e,n)=>e.pipe(Uo(`${d6}`),En((o=>o.payload.status===La.Connecting)),xv(e,n,(o=>{const{payload:{rwgUrl:i}}=o;let c=i.replace(/(\d+)\?/,`${Zf("$1")}?`);c=["email","zoomid","participantID","dn2","customer_key","mpwd","topic"].reduce(((p,v)=>p.indexOf(v)>-1?p.replace(new RegExp(`${v}=([^&]+)`,"g"),`${v}=${Zf("$1")}`):p),c);const{payload:d}=k2(n.value);Am.makeLogger(["Join Meeting Flow"]).info(`RWG URL,${JSON.stringify({rwgUrl:c,...d})}`,["RWG Url"])}))),epics6:(e,n)=>e.pipe(Uo(`${q0}`),En((o=>{const{payload:i}=o;return i?i.retry:n.value.meeting.meetingStatus===Lh.Initial})),xv(e,n,(()=>{const{meeting:{meetingStatus:o},socket:{rwgServerList:i,retryCount:c}}=n.value;if(o!==Lh.Joined){const{payload:d}=k2(n.value),p=(i==null?void 0:i.length)>0?i[c]:void 0;Am.report(JSON.stringify({...d,rwc:p==null?void 0:p.rwc,rwg:p==null?void 0:p.rwg}),["UNAVAILABLE_RWG"])}}))),epics7:(e,n)=>w3(e,n,1,(o=>{const{payload:{body:i}}=o;Am.report(`join meeting failed, version blocked. Current version:${n.value.meeting.cv},upgrade version:${i==null?void 0:i.upgradeVersion}`,"JOIN_MEETING_FAILED","error")})),epics8:(e,n)=>w3(e,n,2,(()=>{Am.report(`join meeting with low version of SDK. Current version:${n.value.meeting.cv}.`,"Join Meeting Flow","warn")})),epics9:(e,n)=>e.pipe(Uo(`${NQ}`,`${q3}`),Ei((()=>xa(Qu,1).pipe($o((o=>{try{const{code:i,reason:c,errorCode:d}=o??{},{payload:p}=k2(n.value);Am.report(`Connection change with join meeting failed. payload:${JSON.stringify({code:i,reason:c,errorCode:d})}. meeting info:${JSON.stringify(p)}`,"JOIN_MEETING_FAILED","error")}catch{}})),rn((()=>Oo)))))),epics10:(e,n)=>e.pipe(Uo(`${q0}`),En((o=>{var i;return!((i=o.payload)!==null&&i!==void 0&&i.retry)})),xv(e,n,(()=>{const{logger:{isLogDetailed:o,isLaplaceInitialized:i}}=n.value;i&&o&&Am.reportToGlobalTracing(void 0,!0)}))),epics11:(e,n)=>e.pipe(Uo(`${AE}`),En((()=>!!n.value.logger.isLogDetailed)),Ei((()=>ah(window,"beforeunload").pipe($o((()=>{const{logger:{isLaplaceInitialized:o}}=n.value;o&&Am.reportToGlobalTracing(void 0,!0,!0)})),Eg())))),epics12:(e,n)=>e.pipe(Uo(`${VQ}`),xv(e,n,(o=>{const{payload:i}=o,{payload:c}=k2(n.value);Am.report(`XMPP Socket retry, count:${i},meeting info:${JSON.stringify(c)}`,["Join Meeting Flow","XMPP Socket Retry"])})))},zZe=xg(UZe,$Ze,HZe),jZe=ea.createAgent(),FAe={cmrStatus:Td.Stop,recordingEnable:!1,recordingIsoEnable:!1,allowStopAutoRecording:!1,automaticCloudRecordingEnable:!1,isZoomIQ:!1,zoomIQChanging:!1,localStatus:N6.Stop,supportLocalRecording:Tv.None,localGrantPermissionOption:E7e.None,localPermissionUserList:[]},WZe=Im({[`${r4e}`]:ht(((e,{payload:n})=>{e.cmrStatus=n})),[`${i4e}`]:ht(((e,{payload:n})=>{e.recordingEnable=n})),[`${a4e}`]:ht(((e,{payload:n})=>{e.recordingIsoEnable=n})),[`${l4e}`]:ht(((e,{payload:n})=>{e.allowStopAutoRecording=n})),[`${c4e}`]:ht(((e,{payload:n})=>{e.automaticCloudRecordingEnable=n})),[`${f1e}`]:ht(((e,{payload:n})=>{e.isZoomIQ=n})),[`${p1e}`]:ht(((e,{payload:n})=>{e.zoomIQChanging=n})),[`${m1e}`]:ht(((e,{payload:n})=>{e.localStatus=n})),[`${dbe}`]:ht(((e,{payload:n})=>{e.supportLocalRecording=n})),[`${u4e}`]:ht(((e,{payload:n})=>{e.localGrantPermissionOption=n})),[`${E3}`]:ht(((e,{payload:n})=>{e.localPermissionUserList=n})),[`${d4e}`]:()=>({...FAe})},FAe);var HAe,$Ae,UAe,zAe,jAe,WAe,GAe,qAe,Yc;const hS=ea.createAgent(),T5=Dp("Recording");let GZe=(HAe=Fo("recording"),$Ae=Fo("recording"),UAe=Fo("recording"),zAe=Fo("recording"),jAe=Fo("recording"),WAe=Fo("recording"),GAe=Fo("recording"),qAe=Fo("recording"),Yc=class extends NS{startRecording(){const e=this[Ko](),{meeting:{bIbDisableRecording:n,recordingEnable:o},recording:{cmrStatus:i}}=e;return n?Promise.reject({type:dn,reason:"Rejected by Information Barrier",errorCode:lt.RECORDING_ACCOUNT_DISABLE}):o?i===Td.Start?Promise.resolve(""):(hS.recordMeeting(!0,!1),yr(s6,(c=>c.cmrServerStatus===Td.Start))):Promise.reject({type:dn,reason:"The account of the meeting disabled the cloud recording",errorCode:lt.RECORDING_ACCOUNT_DISABLE})}pauseRecording(){const e=this[Ko](),{recording:{cmrStatus:n,allowStopAutoRecording:o}}=e;return n===Td.Pause?Promise.resolve(""):n!==Td.Start?Promise.reject({type:dn,reason:"Recording is not started",errorCode:lt.RECORDING_MISMATCH_STATE}):o?(hS.recordMeeting(!1,!0),yr(s6,(i=>i.cmrServerStatus===Td.Pause))):Promise.reject({type:dn,reason:"Cannot pause cloud recording due to web setting config",errorCode:lt.RECORDING_STOP_FORBIDDEN})}stopRecording(){const e=this[Ko](),{recording:{cmrStatus:n,allowStopAutoRecording:o}}=e;return n===Td.Stop?Promise.resolve(""):o?(hS.recordMeeting(!1,!1),yr(s6,(i=>i.cmrServerStatus===Td.Stop))):Promise.reject({type:dn,reason:"Cannot stop cloud recording due to web setting config",errorCode:lt.RECORDING_STOP_FORBIDDEN})}accept(){const e=this[Ko](),{recording:{cmrStatus:n,recordingIsoEnable:o}}=e,i=gs(e);return o?n!==Td.Start&&n!==Td.Pause?Promise.reject({type:dn,reason:"Recording is not started",errorCode:lt.RECORDING_MISMATCH_STATE}):i!=null&&i.bAllowISORecord?Promise.resolve("You accepted ISO recording"):(hS.allowSelfRecord(!0),yr(oQ,(c=>(c==null?void 0:c.userId)===(i==null?void 0:i.userId)&&(c==null?void 0:c.status)===CS.Accept))):Promise.reject({type:dn,reason:"ISO Recording is not enabled",errorCode:lt.RECORDING_ISO_DISABLE})}decline(){const e=this[Ko](),{recording:{cmrStatus:n,recordingIsoEnable:o}}=e,i=gs(e);return o?n!==Td.Start&&n!==Td.Pause?Promise.reject({type:dn,reason:"Recording is not started",errorCode:lt.RECORDING_MISMATCH_STATE}):(i==null?void 0:i.bAllowISORecord)===!0?Promise.reject({type:dn,reason:"You had accept ISO recording, cant change it",errorCode:lt.RECORDING_MISMATCH_STATE}):(hS.allowSelfRecord(!1),Promise.resolve("")):Promise.reject({type:dn,reason:"ISO Recording is not enabled",errorCode:lt.RECORDING_ISO_DISABLE})}getRecordingStatus(){const e=this[Ko](),{recording:{cmrStatus:n}}=e,o=$7e(e);return n===Td.Start?CS.Recording:n===Td.Pause?CS.Paused:o?CS.Recording:CS.Stopped}isRecordingEnabled(){const e=this[Ko](),{recording:{recordingEnable:n}}=e;return n}isAllowedToStopAutoRecording(){const e=this[Ko](),{recording:{allowStopAutoRecording:n}}=e;return n}isAutomaticCloudRecordingEnabled(){const e=this[Ko](),{recording:{automaticCloudRecordingEnable:n}}=e;return n}enableRecordingWithIQ(e){const{[Ko]:n,[Bc]:o}=this,i=n(),{recording:{isZoomIQ:c,zoomIQChanging:d},meeting:{meetingOptions:p}}=n();return p.isEnableKiwiRecording?Iv(i)?d?Promise.reject({type:dn,reason:"We are changing, please wait",errorCode:lt.RECORDING_IQ_MISMATCH_STATE}):e===c?Promise.reject({type:dn,reason:`You have ${e?"enable":"disable"} Zoom IQ, don't need change`,errorCode:lt.RECORDING_IQ_MISMATCH_STATE}):(o(p1e(!d)),o(f1e(!c)),hS.enableZoomIQRecord(e),yr(kDe,(v=>v==null?void 0:v.success))):Promise.reject({type:dn,reason:"Only Host or co-host can enable/disable Zoom IQ",errorCode:lt.RECORDING_IQ_PERMISSION_REQUIRED}):Promise.reject({type:dn,reason:"You not have zoom IQ license or not enable zoom IQ, please check and retry",errorCode:lt.RECORDING_IQ_DISABLE})}isSupportLocalRecording(){const e=this[Ko](),{meeting:{meetingOptions:n,isWebinar:o},breakoutRoom:i}=e;if((i==null?void 0:i.currentRoom.status)===ar.InRoom)return!1;const c=gs(e);return(!o||!hf(c.userRole))&&(n==null?void 0:n.isLocalRecordingEnabled)}isSupportLocalRecordingPermission(){const e=this[Ko](),{recording:{supportLocalRecording:n}}=e;if(!this.isSupportLocalRecording())return!1;const o=gs(e);return!(o==null||!o.isHost)||n===Tv.Allow}askLocalRecordingPermission(){const{[Ko]:e}=this,{recording:{supportLocalRecording:n}}=e();return this.isSupportLocalRecording()?n===Tv.None?(hS.localRecordingRequestPermission(),Promise.resolve("")):n===Tv.Allow?Promise.resolve(""):Promise.reject({reason:"permission is denied",errorCode:lt.LOCAL_RECORDING_MISMATCH_STATE}):Promise.reject({reason:"not support",errorCode:lt.LOCAL_RECORDING_ACCOUNT_DISABLE})}startLocalRecording(e){const{[Ko]:n,[Bc]:o}=this,i=n(),{recording:{localStatus:c,supportLocalRecording:d},meeting:{userId:p}}=i;if(!(e in N6))return Promise.reject({type:dn,reason:"not support you parameter, only support type are 0(stop)/1(start)/2(pause).",errorCode:lt.LOCAL_RECORDING_INVALID_VALUE});if(!this.isSupportLocalRecording())return Promise.reject({type:dn,reason:"not support local recording",errorCode:lt.LOCAL_RECORDING_ACCOUNT_DISABLE});if(e===c)return Promise.resolve(`you currently status is ${c}, do nothing`);const v=gs(i);return d===Tv.Allow||v!=null&&v.isHost?(hS.localRecordingMeeting(e),yr(sQ,(S=>(S==null?void 0:S.userId)===p&&(o(m1e(S.bLocalRecord)),S.bLocalRecord===e)),1e3)):Promise.reject({type:dn,reason:"you not have local recording permission, please use askLocalRecordingPermission request it first",errorCode:lt.LOCAL_RECORDING_MISMATCH_STATE})}isSupportLocalRecordingGrantPermission(){const e=this[Ko]();if(!this.isSupportLocalRecording())return!1;const n=gs(e);return!(n==null||!n.isHost)&&!!tX(n.caps)}grantLocalRecordingPermission(e,n,o){const{[Ko]:i,[Bc]:c}=this,d=i(),{recording:{localPermissionUserList:p}}=d;if(!this.isSupportLocalRecording())return Promise.resolve(!1);const v=gs(d);if(!tX(v.caps))return Promise.reject({type:dn,reason:"you can not grant permission",errorCode:lt.LOCAL_RECORDING_MISMATCH_STATE});let S=!1;if(o&&(S=!0),p.filter((T=>T===e)).length>0){if(n===Tv.Allow)hS.localRecordingGrantPermission(e,!0,S);else{if(n!==Tv.Deny)return Promise.reject({type:dn,reason:"only support DENY(1)/ALLOW(2)",errorCode:lt.LOCAL_RECORDING_INVALID_VALUE});hS.localRecordingGrantPermission(e,!1,S)}return c(E3(p.filter((T=>T!==e)))),it(hE,{type:"answer",value:n===Tv.Allow}),Promise.resolve(!1)}return n!==Tv.Deny?Promise.reject({type:dn,reason:"Direct grant only support DENY(1)",errorCode:lt.LOCAL_RECORDING_INVALID_VALUE}):(hS.hostGrantPermission(e,!1),yr(hE,(T=>(T==null?void 0:T.value)===e&&(n===Tv.Allow?(c(E3([...p,e])),(T==null?void 0:T.canRecord)===!0):(c(E3(p.filter((x=>x!==e)))),(T==null?void 0:T.canRecord)===!1))),1e3))}getLocalRecordingPermissionUserList(){const e=this[Ko](),{recording:{localPermissionUserList:n}}=e;if(!this.isSupportLocalRecording())return[];const o=gs(e);return tX(o.caps)?n:Promise.reject({type:dn,reason:"you can not grant permission",errorCode:lt.LOCAL_RECORDING_MISMATCH_STATE})}getLocalRecordingPermissionOperation(){const e=this[Ko](),{recording:{localGrantPermissionOption:n}}=e;if(!this.isSupportLocalRecording())return null;const o=gs(e);return tX(o.caps)?n:null}},zn(Yc.prototype,"startRecording",[yu,Gn,HAe,T5],Object.getOwnPropertyDescriptor(Yc.prototype,"startRecording"),Yc.prototype),zn(Yc.prototype,"pauseRecording",[yu,Gn,$Ae,T5],Object.getOwnPropertyDescriptor(Yc.prototype,"pauseRecording"),Yc.prototype),zn(Yc.prototype,"stopRecording",[yu,Gn,UAe,T5],Object.getOwnPropertyDescriptor(Yc.prototype,"stopRecording"),Yc.prototype),zn(Yc.prototype,"accept",[Gn,zAe,T5],Object.getOwnPropertyDescriptor(Yc.prototype,"accept"),Yc.prototype),zn(Yc.prototype,"decline",[Gn,jAe,T5],Object.getOwnPropertyDescriptor(Yc.prototype,"decline"),Yc.prototype),zn(Yc.prototype,"askLocalRecordingPermission",[Gn,WAe],Object.getOwnPropertyDescriptor(Yc.prototype,"askLocalRecordingPermission"),Yc.prototype),zn(Yc.prototype,"startLocalRecording",[Gn,GAe],Object.getOwnPropertyDescriptor(Yc.prototype,"startLocalRecording"),Yc.prototype),zn(Yc.prototype,"grantLocalRecordingPermission",[Gn,xd,qAe],Object.getOwnPropertyDescriptor(Yc.prototype,"grantLocalRecordingPermission"),Yc.prototype),Yc);const qZe={moduleEpics0:e=>e.pipe(Uo(`${Mv}`),xo((n=>{const{payload:{recordingEnable:o}}=n;return i4e(o)}))),moduleEpics1:(e,n)=>Bo(e,W0).pipe(En((o=>{var i,c,d;return((i=o.payload.body)===null||i===void 0?void 0:i.cmrServerStatus)!==void 0||((c=o.payload.body)===null||c===void 0?void 0:c.disAllowClientStopAutoCmr)!==void 0||((d=o.payload.body)===null||d===void 0?void 0:d.enableAutomicRecordingCloud)!==void 0})),ts(n),rn((([o,i])=>{const{cmrServerStatus:c,disAllowClientStopAutoCmr:d,enableAutomicRecordingCloud:p}=o.payload.body,v=[];return c!==void 0&&(c!==Td.Init&&(it(s6,{cmrServerStatus:c}),i.recording.recordingIsoEnable&&c===Td.Start&&it(oQ,{status:CS.Ask})),v.push(r4e(c))),d!==void 0&&v.push(l4e(!d)),p!==void 0&&v.push(c4e(p)),eo(v)}))),moduleEpics2:e=>Bo(e,W0).pipe(En((n=>{var o;return((o=n.payload.body)===null||o===void 0?void 0:o.bCmrIsoEnble)!==void 0})),xo((n=>{const{bCmrIsoEnble:o}=n.payload.body;return a4e(o)}))),moduleEpics3:(e,n)=>Bo(e,jl).pipe(ts(n),En((([o])=>{const{payload:{body:{update:i,add:c}}}=o;return(i==null?void 0:i.some((d=>d.bLocalRecordStatus!==void 0||d.canRecord!==void 0)))||(c==null?void 0:c.some((d=>d.bLocalRecordStatus!==void 0||d.canRecord!==void 0)))})),rn((([o,i])=>{const{payload:{body:{update:c,add:d}}}=o,{meeting:{userId:p,isHost:v},recording:{supportLocalRecording:S},participants:{attendeesList:T}}=i,x=[];return c==null||c.concat(d||[]).filter((P=>P.bLocalRecordStatus!==void 0||P.canRecord!==void 0)).forEach((P=>{if(P.canRecord!==void 0){const B=!!P.canRecord;if(p===P.id||v){const U=T.find((j=>j.userId===p));!B&&U!=null&&U.bLocalRecord&&(it(hE,{type:"revoke",value:P.id,canRecord:B}),jZe.localRecordingMeeting(N6.Stop)),!B||U!=null&&U.bLocalRecord||it(hE,{type:"grant",value:P.id,canRecord:B})}p===P.id&&((S!==Tv.None||B)&&x.push(dbe(B?Tv.Allow:Tv.Deny)),B||x.push(m1e(N6.Stop)))}else it(sQ,{userId:P.id,bLocalRecord:P.bLocalRecordStatus})})),eo(x)}))),moduleEpics4:(e,n)=>Bo(e,jl).pipe(xo((o=>K_(o.payload.body))),ts(n),rn((([o,i])=>{const c=[],{recording:{localPermissionUserList:d}}=i;return o.remove&&o.remove.forEach((p=>{d.filter((v=>v===(p==null?void 0:p.userId)))&&(c.push(E3(d.filter((v=>v!==(p==null?void 0:p.userId))))),it(hE,{type:"remove",value:p==null?void 0:p.userId}))})),eo(c)}))),moduleEpics5:e=>Bo(e,jl).pipe(En((n=>{const{payload:{body:{update:o}}}=n;return o==null?void 0:o.some((i=>i.bAllowISORecord!==void 0))})),$o((n=>{const{payload:{body:{update:o}}}=n;o.filter((i=>i.bAllowISORecord!==void 0)).forEach((i=>{it(oQ,{userId:i.id,status:i.bAllowISORecord?CS.Accept:CS.Decline})}))})),Pa(Oo)),moduleEpics6:e=>Bo(e,W0).pipe(En((n=>{var o;return((o=n.payload.body)===null||o===void 0?void 0:o.SalesRecordingAnalytics)!==void 0})),xo((n=>{const{SalesRecordingAnalytics:o}=n.payload.body;return it(RDe,{isZoomIQ:o}),f1e(o)}))),moduleEpics7:(e,n)=>Bo(e,4319).pipe(ts(n),En((([o])=>{var i;return((i=o.payload.body)===null||i===void 0?void 0:i.success)!==void 0})),rn((([o,i])=>{const c=[],{success:d}=o.payload.body,{recording:{zoomIQChanging:p}}=i;return it(kDe,{success:d}),d&&c.push(p1e(!p)),eo(c)}))),moduleEpics8:(e,n)=>Bo(e,4344).pipe(ts(n),En((([o])=>{var i;return((i=o.payload.body)===null||i===void 0?void 0:i.cmdType)!==void 0})),rn((([o,i])=>{var c;const d=[],{cmdType:p}=o.payload.body,{recording:{localPermissionUserList:v},meeting:{isHost:S}}=i;var T,x,P,B;return p==="permission_req_option"&&(it(hE,{type:"option",value:(T=o.payload.body)===null||T===void 0?void 0:T.option}),d.push(u4e((x=o.payload.body)===null||x===void 0?void 0:x.option))),p==="request_permission"&&(c=o.payload.body)!==null&&c!==void 0&&c.userId&&(S&&it(hE,{type:"request",value:(B=o.payload.body)===null||B===void 0?void 0:B.userId}),d.push(E3([...v,(P=o.payload.body)===null||P===void 0?void 0:P.userId]))),p==="permission_request_answer"&&(it(hE,{type:"answer",value:o.payload.body.agreed}),d.push(dbe(o.payload.body.agreed?Tv.Allow:Tv.Deny))),eo(d)})))},ZZe=xg(qZe);let hee=(function(e){return e[e.All=1]="All",e[e.Private=2]="Private",e})({}),Q4e=(function(e){return e.SUCCESS="success",e})({}),uk=(function(e){return e.Screenshot="__zoom_internal_message_screenshot__@@",e.SpeakerOnly="__zoom_internal_message_speaker_only__@@",e})({});const KZe=Jk.getInstance(),YZe=ea.createAgent();async function eBe(e,n,o){const i=cPe(e);return n?await Jf.beginEncrypt({text:i,type:o}):i}const iJ=async(e,n,o)=>{try{let i="";if(await(function(S){const{cmd:{connectionStatus:T}}=S;return T===Q4e.SUCCESS?Promise.resolve(!0):vc(xa(pye,1)).then((x=>x===jL.Connected||Promise.reject({type:dn,reason:"Cannot establish the command channel"})))})(o()),n){await(function(T,x){const{cmd:{jids:P}}=x;return Object.prototype.hasOwnProperty.call(P,T)?Promise.resolve():vc(xa(zx).pipe(_De((B=>B.findIndex((U=>Number(U.userId)===T))===-1)),Qr(1),ed(Dv)))})(n,o());const{cmd:{jids:S}}=o();if(!S[n])return Promise.reject({type:cf,errorCode:lt.INTERNAL_ERROR});i=S[n].jid}const{meeting:{encType:c}}=o(),d=i?hee.Private:hee.All,p=c===Az.AES_GCM,v=await eBe(e,p,Xf.XMPP_CHAT);KZe.sendWebinarMseeage(v,i,d,p)}catch{}return""},aJ=async(e,n)=>{const o=await eBe(e,!1,Xf.RWG_CHAT);return YZe.sendCommandMessage(o,n),""};function vbe(e,n){for(const[o,i]of Object.entries(e))if(i.jid===n)return o}function ZAe(e,n){let o,i=!1;if(e!=null&&e.startsWith(uk.SpeakerOnly)){const c=e.substring(uk.SpeakerOnly.length),d=Number(c)===1;o=U6({userId:n,key:"isSpeakerOnly",value:d}),i=!0}else if(e.startsWith(uk.Screenshot)){const c=e.substring(uk.Screenshot.length);try{const{userId:d,displayName:p,type:v}=JSON.parse(c);it(v==="video"?GDe:_Me,{userId:d,displayName:p})}catch(d){console.log(d)}i=!0}return[i,o]}const KAe=e=>n=>n.pipe(rn((o=>{const{payload:{userId:i}}=o;return Ba(e.value).some((c=>c.userId===i))?eo([o]):Np(xa(qee).pipe(En((c=>c.some((d=>d.userId===i)))),Qr(1),ed(Dv),xo((()=>o))),_u(3e3).pipe(Eg()))}))),YAe={connectionStatus:"initial",jids:{}},XZe=Im({[`${m4e}`]:()=>({...YAe}),[`${h4e}`]:ht(((e,{payload:n})=>{const{data:o,attendees:i}=n;o.forEach((c=>{const{jid:d,node:p}=c;if(!e.jids[p]||e.jids[p].jid!==d){const v=i.find((S=>S.userId===Number(p)));e.jids[p]={jid:d,userGuid:v==null?void 0:v.userGUID}}}))})),[`${f4e}`]:ht(((e,{payload:n})=>{n.forEach((o=>{const{jid:i}=o,c=vbe(e.jids,i);c&&delete e.jids[c]}))})),[`${p4e}`]:ht(((e,{payload:n})=>{e.connectionStatus=n}))},YAe);var x5;let JZe=(x5=class extends NS{send(e,n){if(!e)return Promise.reject({type:nr,reason:"Text is empty",errorCode:lt.CMD_EMPTY_MESSAGE});if(typeof e!="string")return Promise.reject({type:nr,reason:"Text is not a string",errorCode:lt.CMD_INVALID_MESSAGE_TYPE});if(e.length>512)return Promise.reject({type:nr,reason:"Text exceeds the max length(512).",errorCode:lt.CMD_EXCEED_MESSAGE_LENGTH});const{[Ko]:o}=this,i=o(),{socket:{xmppSocketStatus:c},meeting:{userId:d}}=i;return c!==La.Connected?Promise.reject({type:dn,reason:"Command channel is not ready",errorCode:lt.CMD_CHANNEL_NOT_READY}):n&&Ba(o()).findIndex((p=>p.userId===n))===-1?Promise.reject({type:nr,reason:"Cannot find the user",errorCode:lt.CMD_MISMATCH_USER}):Promise.race([iJ(e,n??0,o),aJ(e,n??0)]).then((()=>({timestamp:new Date().getTime(),text:e,receiverId:n??0,senderId:d})))}getJids(){const{[Ko]:e}=this,n=e(),{cmd:{jids:o}}=n;return o}},zn(x5.prototype,"send",[Gn],Object.getOwnPropertyDescriptor(x5.prototype,"send"),x5.prototype),x5);const QZe={epics0:(e,n)=>g3(e,24577).pipe(ts(n),xo((([o])=>{const{payload:{body:{status:i}}}=o;return i===Q4e.SUCCESS&&it(pye,jL.Connected),p4e(i)}))),epics1:(e,n)=>g3(e,24583).pipe(ts(n),rn((async([o,i])=>{const{meeting:{userId:c,encType:d},cmd:{jids:p}}=i,{payload:{body:{senderName:v,senderJid:S,text:T,type:x,receiver:P,msgid:B,sn:U}}}=o,j=vbe(p,S),W=Ba(i).find((re=>re.userId===Number(j)));if(W&&(W.caps&K_e)===K_e)return"";{const re=vbe(p,P),le=d===Az.AES_GCM,ie=new Date().getTime();let be=T;if(le)try{be=(await Jf.beginDecrypt({decryptedText:T,type:Xf.XMPP_CHAT,zoomId:U})).message}catch{}if(x===hee.Private&&Number(re)===c||x===hee.All){const Ce=Qy(be),[Ae,F]=ZAe(Ce,Number(j));if(!Ae){var Z;const Ie=j&&((Z=p[j])===null||Z===void 0?void 0:Z.userGuid);it(yge,{senderId:j,senderName:v,senderGuid:Ie,text:Ce,timestamp:ie,msgid:B})}return F}return""}})),En((o=>typeof o=="object"&&o!==null&&o.type!==void 0)),KAe(n),$o((o=>{const{payload:{userId:i,key:c,value:d}}=o;it(kS,[{userId:i,[`${c}`]:d}])}))),epics2:(e,n)=>g3(e,24595).pipe(rn((o=>{const{payload:{body:{action:i,data:c}}}=o,d=[];if([pE.List,pE.Add,pE.update].includes(i)&&c){const{breakoutRoom:p,participants:{attendeesList:v}}=n.value,S=(p==null?void 0:p.currentRoom.status)===ar.InRoom?v.concat(p.mainSessionAttendeeList):v;d.push(h4e({data:c,attendees:S}))}return i===pE.Remove&&c&&d.push(f4e(c)),eo(d)}))),epics3:(e,n)=>Bo(e,8032).pipe(rn((async o=>{const{payload:{body:{senderID:i,commandContent:c,msgID:d}}}=o,p=Qy(c),[v,S]=ZAe(p,i);if(!v){const T=i&&Ba(n.value).find((x=>x.userId===i));it(yge,{senderId:`${T==null?void 0:T.userId}`,senderName:T==null?void 0:T.displayName,senderGuid:T==null?void 0:T.userGUID,text:p,timestamp:new Date().getTime(),msgid:d})}return S})),En((o=>typeof o=="object"&&o!==null&&o.type!==void 0)),KAe(n),$o((o=>{const{payload:{userId:i,key:c,value:d}}=o;it(kS,[{userId:i,[`${c}`]:d}])})))},eKe=xg(QZe,{extraEpics0:(e,n)=>e.pipe(Uo(`${e1e}`),Ei((o=>{const{payload:{speakerOnly:i}}=o,c=gs(n.value);return((c==null?void 0:c.audio)!==void 0?eo([c.audio]):xa(Rp).pipe(En((d=>d.audio!==void 0)),Qr(1))).pipe($o((async()=>{const d=`${uk.SpeakerOnly}${i?1:0}`;await Promise.all([iJ(d,0,(()=>n.value)),aJ(d,0)])})),Eg())}))),extraEpics1:(e,n)=>Bo(e,jl).pipe(En((o=>{var i,c;const{payload:{body:d}}=o;return!((i=n.value.audio)===null||i===void 0||(i=i.customizeAudioOption)===null||i===void 0||!i.speakerOnly)&&(d==null||(c=d.add)===null||c===void 0?void 0:c.length)>0})),ed(Dv),rn((o=>{const{payload:{body:{add:i}}}=o,c=n.value,{meeting:{userId:d},participants:{attendeesList:p}}=c,v=[];if(i){for(const S of i)if(S.id!==d){const T=_u(Math.floor(Math.random()*Math.min(200+10*p.length,2e3))).pipe(rn((()=>{if(Ba(n.value).some((x=>x.userId===S.id))){const x=`${uk.SpeakerOnly}1`;return eo([iJ(x,S.id,(()=>n.value)),aJ(x,S.id)]).pipe(rn((P=>eo(P))),xm((()=>Oo)),Eg())}return Oo})),xm((()=>Oo)));v.push(T)}}return v.length>0?Id(...v):Oo})),Eg()),extraEpics2:(e,n)=>e.pipe(Uo(`${Xge}`,`${h3e}`),$o((async o=>{const{payload:{targetUser:i,userId:c,displayName:d}}=o,p=o.type===`${Xge}`?"video":"sharing",v=`${uk.Screenshot}${JSON.stringify({userId:c,displayName:d,type:p})}`;Promise.all([iJ(v,i,(()=>n.value)),aJ(v,i)])})),Eg())}),XAe=(e,n,o,i)=>{const{getState:c,dispatch:d}=o,p=c(),{participants:{attendeesList:v},audio:{localShareAudioUserMutedList:S},share:{isReceiveSharingFromMainSession:T},breakoutRoom:x}=p,P=(T?x==null?void 0:x.mainSessionAttendeeList:v).find((B=>B.userId==e));if(P){if(P.bShareAudioOn){const B=S.find((U=>U.userId===e));return B&&B.muted===!n&&d(q6(i,e,n,p)),Promise.resolve("")}return Promise.reject({type:dn,reason:`Cannot ${n?"mute":"unmute"} share audio when the user's share audio is not enable.`,errorCode:lt.AUDIO_NOT_STARTED})}return Promise.reject({type:nr,reason:"Cannot find the user",errorCode:lt.STREAM_MISMATCH_USER})},JAe=(e,n)=>{const{store:{getState:o},rwgAgent:i}=e,{share:{sharePrivilege:c}}=o();return c===n?Promise.resolve(""):Object.values(U0).includes(n)?(i.lockSharing(n),V5("lockShare",n)):Promise.reject({type:nr,errorCode:lt.SCREEN_SHARE_INVALID_PRIVILEGE})},JL=ec([Ba],(e=>e.filter((n=>n.bVideoOn)))),Qpe=ec([JL],(e=>e.filter((n=>(n.caps&q_e)===q_e)))),tKe=(e,n,o,i,c,d,p,v,S,T)=>{const{store:{getState:x,dispatch:P},mediaAgent:B}=e,U=x(),{meeting:{userId:j,isUseWBVideo:W},media:{enforceMultipleVideos:Z,disableRenderLimits:re},video:{subscribedVideoList:le,renderedVideoList:ie}}=U;if(W)return Promise.reject({type:dn,reason:"Use the attachVideo method to render the video.",errorCode:lt.VIDEO_METHOD_DEPRECATED});console.warn("Use the attachVideo method to render the video. The renderVideo method is deprecated. See the reference for details.");const be=Ns.getMaxCountRender(W,!!Z,re),Ce=lk()&&o===j;if(d4(n)&&!le.includes(o)&&le.length>=be&&new Set(ie.map((Ie=>Ie.canvasId))).has(n.id))return Promise.reject({type:dn,reason:`subscribe video counts greater than maximum size (${be})`,errorCode:lt.VIDEO_RENDER_LIMIT_EXCEED});if(JL(U).findIndex((Ie=>Ie.userId===o))===-1)return Promise.reject({type:nr,reason:"user is not send video",errorCode:lt.STREAM_MISMATCH_USER});if(n.id||(n.id=q_("__ZOOM_SDK_VIDEO_CANVAS_@__")),Ce){if(G_(n)){n.playsInline=!0,n.muted=!0,n.autoplay=!0,Yo.isIOSMobile&&(B.switchCanvasForVideoCapture(n),P(Rye())),B.renderVideo(n,o,S||sO,i,c,d,p,v,!0,T||"",!1),P(_Q(o)),P(qPe(n.id));const Ie=document.querySelector(`#${fge}`);return Ie&&Ie.remove(),Promise.resolve("")}return Promise.reject({type:nr,reason:"You must use a <video> element to render self video for Chromium browser, Android browser without SharedArrayBuffer or iOS browser ",errorCode:lt.STREAM_MISMATCH_RENDER_ELEMENT})}const Ae=!!T,{media:{videoDecodeStatus:F}}=U;return Gf("video","success",F).subscribe((async([Ie,tt])=>{if(tt){const{video:{ensuredCanvas:Xe,renderedVideoList:Ve}}=x();let Re=n;Xe.includes(n.id)||(Re=SQ(n),P($Pe(n.id)));const vt=o===j,mt=S||sO,gt=await(async function(te,hn){const{video:{prefetchedVideo:ot}}=hn;return(ot==null?void 0:ot.userId)!==te||ot.loaded?"":vc(Np(xa(zDe,1),_u(1e3).pipe(Lk(""))))})(o,x());Ve.some((te=>te.userId===o&&te.key===mt&&te.canvasId===Re.id))||B.renderVideo(Re,o,mt,i,c,d,p,v,vt,T||"",Ae),o!==j&&B.subscribeVideo(o,v,!1),le.includes(o)||P(_Q(o)),gt&&P(f3(void 0)),P(Ak({userId:o,key:mt,canvasId:Re.id,videoQuality:v,aspectRatio:c?i/c:0}))}})),F==="failed"?Promise.reject({type:cf,reason:"Video  decode status is failed",errorCode:lt.INTERNAL_ERROR}):Promise.resolve("")},Dx={video:{detectAction:Ns.getVideoProcessorCapability,errorCode:{unsupported:lt.VIDEO_PROCESSOR_UNSUPPORTED,duplicateCreate:lt.VIDEO_PROCESSOR_DUPLICATE_CREATE,mismatchProcessor:lt.VIDEO_PROCESSOR_MISMATCH_PROCESSOR,limitExceed:lt.VIDEO_PROCESSOR_LIMIT_EXCEED}},audio:{detectAction:Ns.getAudioProcessorCapability,errorCode:{unsupported:lt.AUDIO_PROCESSOR_UNSUPPORTED,duplicateCreate:lt.AUDIO_PROCESSOR_DUPLICATE_CREATE,mismatchProcessor:lt.AUDIO_PROCESSOR_MISMATCH_PROCESSOR,limitExceed:lt.AUDIO_PROCESSOR_LIMIT_EXCEED}},share:{detectAction:Ns.getShareProcessorCapability,errorCode:{unsupported:lt.SHARED_PROCESSOR_UNSUPPORTED,duplicateCreate:lt.SHARED_PROCESSOR_DUPLICATE_CREATE,mismatchProcessor:lt.SHARED_PROCESSOR_MISMATCH_PROCESSOR,limitExceed:lt.SHARED_PROCESSOR_LIMIT_EXCEED}}},eme=(e,n)=>{var o;const{store:{getState:i}}=e,c=i(),{meeting:{mediaFeatureOptions:d}}=c;return(o=Dx[n])===null||o===void 0?void 0:o.detectAction(d||"")},QAe=(e,n)=>{const o=e.store.getState(),i=H_(o).find((c=>c.userId===n));if(i){const{caps:c}=i;return(d=>!(512&~d))(c)}return!1};var eTe,tTe,nTe,oTe,sTe,rTe,iTe,aTe,lTe,cTe,uTe,dTe,hTe,fTe,pTe,mTe,gTe,vTe,bTe,yTe,STe,CTe,ETe,wTe,_Te,ATe,TTe,xTe,OTe,ITe,RTe,kTe,DTe,MTe,PTe,NTe,LTe,BTe,VTe,FTe,HTe,$Te,UTe,zTe,jTe,WTe,GTe,qTe,ZTe,KTe,YTe,XTe,JTe,QTe,exe,txe,nxe,oxe,sxe,rxe,ixe,axe,lxe,cxe,uxe,dxe,hxe,fxe,pxe,mxe,gxe,vxe,bxe,yxe,Sxe,Cxe,Exe,wxe,_xe,Axe,Txe,xxe,Oxe,Ixe,Rxe,kxe,Dxe,Mxe,Pxe,Nxe,Lxe,Bxe,Vxe,Fxe,Hxe,wt;const Ab=Dp("Audio"),_d=Dp("Video"),Ad=Dp("Sharing"),$xe=Dp("Processor"),kL=Dp("CameraControl"),O_=Dp("Remote Control"),Uxe=ste(HTMLCanvasElement,0),nKe=ste([HTMLCanvasElement,HTMLVideoElement],0),zxe=ste(HTMLCanvasElement,0,["id"]),jxe=ste([HTMLCanvasElement,HTMLVideoElement],0,["id"]),oKe=$Le("annotation"),sKe=$Le("remote control");let rKe=(eTe=Fo("audio"),tTe=Fo("audio"),nTe=Fo("audio"),oTe=Fo("audio"),sTe=Fo("audio"),rTe=Dp("Audio",[1,2,3]),iTe=Fo("audio"),aTe=Dp("Audio",[1,2]),lTe=Fo("audio"),cTe=Fo("audio"),uTe=Fo("audio"),dTe=Fo("audio"),hTe=Fo("share"),fTe=Fo("audio"),pTe=Fo("share"),mTe=Fo("audio"),gTe=Fo("audio"),vTe=Fo("audio"),bTe=Fo("audio"),yTe=Fo("audio"),STe=Fo("audio"),CTe=Dp("Audio",[1,2]),ETe=Fo("audio"),wTe=Dp("Audio",[1,2]),_Te=Fo("audio"),ATe=Fo("audio"),TTe=Fo("audio"),xTe=Fo("audio"),OTe=Fo("video"),ITe=Fo("video"),RTe=Fo("video"),kTe=Fo("processor"),DTe=Fo("processor"),MTe=Fo("processor"),PTe=Fo("video"),NTe=Fo("video"),LTe=Fo("video"),BTe=Fo("video"),VTe=Fo("video"),FTe=Fo("video"),HTe=Fo("video"),$Te=Fo("video"),UTe=Fo("video"),zTe=Fo("video"),jTe=Dp("Video",[2]),WTe=Fo("video"),GTe=Dp("Video",[1]),qTe=Fo("video"),ZTe=Fo("video"),KTe=Fo("video"),YTe=Fo("video"),XTe=Fo("video"),JTe=Fo("video"),QTe=Fo("video"),exe=Fo("video"),txe=Fo("video"),nxe=Fo("video"),oxe=Fo("video"),sxe=Fo("video"),rxe=Fo("video"),ixe=Fo("video"),axe=Fo("video"),lxe=Fo("video"),cxe=Fo("share"),uxe=Fo("share"),dxe=Fo("share"),hxe=Fo("share"),fxe=Fo("share"),pxe=Fo("share"),mxe=Fo("share"),gxe=Fo("share"),vxe=I_e("isShareOptionLocked"),bxe=I_e("isShareOptionLocked"),yxe=Fo("share"),Sxe=Fo("share"),Cxe=Fo("share"),Exe=Fo("share"),wxe=Fo("share"),_xe=Fo("share"),Axe=Fo("share"),Txe=Fo("share"),xxe=Fo("share"),Oxe=Fo("share"),Ixe=Fo("share"),Rxe=Fo("share"),kxe=Fo("share"),Dxe=Fo("share"),Mxe=Fo("share"),Pxe=Fo("share"),Nxe=Fo("share"),Lxe=Fo("share"),Bxe=Fo("share"),Vxe=Fo("share"),Fxe=Fo("share"),Hxe=Fo("share"),wt=class extends NS{constructor(e){super(e),this[Rn]=void 0,this[gc].dispatch(_ve()),this[Rn]={store:e,mediaAgent:Xee(Rm(Ns.getInstance())),rwgAgent:ea.createAgent()}}startAudio(e){return((n,o)=>{const{store:{getState:i,dispatch:c},rwgAgent:d,mediaAgent:p}=n,v=i(),S=gs(v);if((S==null?void 0:S.audio)===Ji.Computer)return Promise.resolve("");if((S==null?void 0:S.audio)===Ji.Phone)return Promise.reject({type:dn,reason:"joined by phone",errorCode:lt.AUDIO_IN_PSTN});{const{audio:{isAllowToTalk:T,isComputerAudioLoading:x,canPlayAudio:P,customizeAudioOption:{speakerOnly:B}},media:{audioDecodeStatus:U,audioEncodeStatus:j}}=v;if(x)return Promise.reject({type:dn,reason:"Computer audio has been loading, please wait.",errorCode:lt.AUDIO_CAPTURE_LOADING});const W=(function(le,ie){const be=ie?{...ie}:void 0;if(Q_e(le.meeting.mediaFeatureOptions||"",le.audio.isWebRtcAudioCapable)||(be==null?void 0:be.backgroundNoiseSuppression)!==!0||(console.warn("Background noise suppression requires SharedArrayBuffer and is only supported on desktop browser"),Object.assign(be,{backgroundNoiseSuppression:void 0})),(be==null?void 0:be.originalSound)!==void 0){be.backgroundNoiseSuppression&&be.originalSound&&(console.warn("Enabling original sound will disable background noise suppression."),Object.assign(be,{backgroundNoiseSuppression:!1}));const{originalSound:Ce}=be;typeof Ce=="object"&&Ce.stereo&&!eAe()&&(console.warn("Cannot enable stereo audio on current platform due to the browser limitation"),Object.assign(Ce,{stereo:!1}))}return tAe()||(be==null?void 0:be.syncButtonsOnHeadset)!==!0||(console.warn("Sync buttons on headset is not supported on the current platform"),Object.assign(be,{syncButtonsOnHeadset:void 0})),be!=null&&be.mediaFile&&!Ns.isSupportMediaPlaybackAsAudioInput()&&(console.warn("Cannot use media file as audio input due to the browser limitation"),Object.assign(be,{mediaFile:void 0})),be})(v,o);c(e1e(W??{}));const{speakerOnly:Z,autoStartAudioInSafari:re}=W||{};if(!!B!=!!Z&&c(U6({userId:v.meeting.userId,key:"isSpeakerOnly",value:!!Z})),!S)return Promise.reject({type:dn,reason:"Please call `startAudio` method after the `join` has been resolved",errorCode:lt.STREAM_SESSION_JOIN_REQUIRED});{const le=hf(S.userRole)&&!T||Z,{encodeInitStatus:ie,decodeInitStatus:be}=Yve(v,S,Z);if(Z6()&&(be!=="success"||ie!=="success"))return Promise.reject({type:dn,reason:"It is required to wait for the audio encoding and decoding to be ready before calling `startAudio` method",errorCode:lt.AUDIO_ENCODING_REQUIRED});c(j2(!0)),Gf("audio",ie,be).subscribe((([Ce,Ae])=>{if(Ce&&Ae){let F=P||(Z6()||Yo.isIOSMobile)&&!re?Promise.resolve():(function(){const Ie=URL.createObjectURL(N8e),tt=new Audio(Ie);tt.muted=!1;const Xe=Kee((()=>Promise.reject()),3e3),Ve=Yo.isIOSMobile?new Promise(((Re,vt)=>{var mt;tt.addEventListener("canplaythrough",(()=>{tt.play().then((()=>{Re(!0)})).catch((gt=>{vt(gt)}))})),(mt=tt.load)===null||mt===void 0||mt.call(tt)})):tt.play();return Promise.race([Ve,Xe]).finally((()=>{URL.revokeObjectURL(Ie)}))})();F===void 0&&(F=Promise.resolve()),F.then((()=>Gge("audio",i()))).then((()=>{const Ie=i();Xve(d,Ie),v3(p,Ie,!le),hf(S.userRole)&&T&&c(zve(!0)),c(X3(!0))})).catch((()=>{c(X3(!1)),c(j2(!1))}))}else c(j2(!1))}))}return j==="failed"||U==="failed"?(c(j2(!1)),Promise.reject({type:cf,reason:"audio encode or decode error",errorCode:lt.INTERNAL_ERROR})):new Promise(((le,ie)=>{nAe().subscribe({next:()=>{c(j2(!1)),le("")},error:be=>{Ns.getInstance().leaveComputerAudio();const Ce=gs(i());(Ce==null?void 0:Ce.audio)!==Ji.Phone&&(c(J_(Sk.MicrophoneError)),d.joinOrLeaveVoip(!1)),c(j2(!1)),ie(be)}})}))}})(this[Rn],e)}stopAudio(){return(async e=>{const{store:{getState:n,dispatch:o},mediaAgent:i,rwgAgent:c}=e,d=n(),{audio:{isComputerAudioLoading:p,isShareAudioEnabled:v,isSharingAudio:S,isUsingMediaPlayback:T,customizeAudioOption:{speakerOnly:x}},meeting:{mediaFeatureOptions:P}}=d,B=gs(d);if(p)return Promise.reject({type:dn,reason:"Computer audio has not finished joining, please wait.",errorCode:lt.AUDIO_CAPTURE_LOADING});if(v){if(S&&!Ns.isSupportOpenMicWhenShareAudio(P||""))return Promise.reject({type:dn,reason:"Cannot stop audio during sharing with audio",errorCode:lt.AUDIO_SHARE_AUDIO_CONFLICT});o(J3(void 0)),o(X_(void 0))}return(B==null?void 0:B.audio)===Ji.Computer?(o(J_(Sk.Active)),await i.leaveComputerAudio(),c.joinOrLeaveVoip(!1),x&&o(U6({userId:d.meeting.userId,key:"isSpeakerOnly",value:void 0})),T&&vg.getInstance().stopAudioElement(),o(jk(0)),yr(Zee)):Promise.resolve("")})(this[Rn])}muteAudio(e){return((n,o)=>{const{store:{getState:i,dispatch:c},rwgAgent:d,mediaAgent:p}=n,v=i(),S=gs(v),{participants:{allowTalkAttendeesList:T,attendeesList:x},meeting:{mediaFeatureOptions:P}}=v;if(o==null||o===(S==null?void 0:S.userId))return(S==null?void 0:S.audio)===""||(S==null?void 0:S.audio)===null?Promise.reject({type:dn,reason:"no audio joined",errorCode:lt.AUDIO_NOT_STARTED}):(S==null?void 0:S.muted)===!0?Promise.resolve(""):(c(SS(Uy.Active)),d.mute(S.userId,!0),p.muteAudio(),v.audio.isShareAudioEnabled&&!Ns.isSupportOpenMicWhenShareAudio(P||"")&&c(X_(!0)),yr(bye).then((()=>"")));if(Iv(v)){const B=T.concat(x).find((U=>U.userId===o));return B?B.audio===""||B===null?Promise.reject({type:dn,reason:"no audio joined",errorCode:lt.AUDIO_NOT_STARTED}):B.muted===!1?(d.mute(o,!0),yr({event:ZDe,operations:[En((U=>U.id===o&&U.muted!==void 0)),Qr(1)]},(U=>U.id===o&&U.muted==1))):Promise.resolve(""):Promise.reject({type:nr,reason:"no matching user",errorCode:lt.STREAM_MISMATCH_USER})}return Promise.reject({type:Pp,errorCode:lt.CLIENT_HOST_OR_MANAGER_PERMISSION_REQUIRED})})(this[Rn],e)}unmuteAudio(e){return(async(n,o)=>{const{store:{getState:i,dispatch:c},rwgAgent:d,mediaAgent:p}=n,v=i(),S=gs(v),{audio:{isAllowToTalk:T,isAllowToTalkAttendeeConnected:x},meeting:{mediaFeatureOptions:P},participants:{allowTalkAttendeesList:B,attendeesList:U}}=v;if(o===void 0||o===(S==null?void 0:S.userId)){if((S==null?void 0:S.audio)===""||(S==null?void 0:S.audio)===null)return Promise.reject({type:dn,reason:"no audio joined",errorCode:lt.AUDIO_NOT_STARTED});if((S==null?void 0:S.muted)===!1)return Promise.resolve("");if(v.audio.isShareAudioEnabled&&!Ns.isSupportOpenMicWhenShareAudio(P||"")){if(v.audio.isSharingAudio)return Promise.reject({type:dn,reason:"Cannot unmute audio during sharing with audio",errorCode:lt.AUDIO_SHARE_AUDIO_CONFLICT});c(X_(!1))}return v.audio.bCanUnmute||S!=null&&S.isHost||S!=null&&S.bCoHost?(hf(S.userRole)&&(T?x||(await p.leaveComputerAudio(),await v3(p,v,!0),c(zve(!0))):Promise.reject({type:dn,reason:"Webinar attendee cannot unmute self audio.",errorCode:lt.AUDIO_ATTENDEE_NOT_ALLOWED})),c(G6(i3.Active)),d.mute(S.userId,!1),p.unmuteAudio(),yr(yye).then((()=>""))):Promise.reject({type:Pp,reason:"host not allow unmute themselves",errorCode:lt.CLIENT_HOST_OR_MANAGER_PERMISSION_REQUIRED})}if(Iv(v)){const j=B.concat(U).find((W=>W.userId===o));return j?j.audio===""||j===null?Promise.reject({type:dn,reason:"no audio joined",errorCode:lt.AUDIO_NOT_STARTED}):(j.muted===!0&&d.mute(o,!1),Promise.resolve("")):Promise.reject({type:nr,reason:"no matching user",errorCode:lt.STREAM_MISMATCH_USER})}return Promise.reject({type:Pp,errorCode:lt.CLIENT_HOST_OR_MANAGER_PERMISSION_REQUIRED})})(this[Rn],e)}dialOut(e,n,o,i){return((c,d,p,v,S)=>{const{store:{getState:T,dispatch:x},rwgAgent:P}=c,B=T(),{meeting:{callOutCountry:U,isSupportCallOut:j}}=B;if(j&&Array.isArray(U)&&U.findIndex((W=>W.code===d))>-1){const{seq:W}=P.audioDialout(d+p,v,!(S==null||!S.callMe),!(S==null||!S.pressingOne),!(S==null||!S.greeting));return x(qLe({sequence:W,phoneNumber:d+p})),kx(GL.JoinAudioByCallMe)}return Promise.reject({type:nr,reason:"no matching country code",errorCode:lt.PSTN_MISMATCH_COUNTRY_CODE})})(this[Rn],e,n,o,i)}cancelDialOut(e,n,o){return((i,c,d,p)=>{const{rwgAgent:v}=i;return v.audioCancelDialout(c+d,!(p==null||!p.callMe)),kx(GL.cancelDialOut)})(this[Rn],e,n,o)}hangup(){return(e=>{const{store:{getState:n,dispatch:o},rwgAgent:i}=e,c=n(),d=gs(c);return(d==null?void 0:d.audio)===Ji.Phone&&d.userId!==null?(i.audioDrop(d.userId),d.muted||o(SS(Uy.Inherited)),kx(GL.hangup)):Promise.reject({type:dn,reason:"not joined audio by phone",errorCode:lt.PSTN_NOT_CONNECTED})})(this[Rn])}switchMicrophone(e){return(async(n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,p=i(),{audio:{activeMicrophone:v,mediaPlaybackFile:S,isUsingMediaPlayback:T}}=p,{microphones:x}=await vc($k()),P=x.find((B=>B.deviceId===o));if(o==="default"||typeof o!="string"||P){const B=gs(p);if((B==null?void 0:B.audio)===Ji.Computer){let U=!1;if(typeof o=="string")(o!==v||T)&&(d.changeMicrophone(o,P==null?void 0:P.label,!(B==null||!B.muted)),c(Wve(void 0)),vg.getInstance().stopAudioElement(),U=!0);else if(o&&(!T||(S==null?void 0:S.url)!==o.url)){const j=vg.getInstance();j.setAudioElement(o).then((()=>{o.playback!==void 0&&(d.enablePlayAudioFileLocally(!!o.playback),j.audioElement.dataset.playback=o.playback?"1":"0"),d.changeMicrophone(j.audioElement,void 0,!(B==null||!B.muted)),c(Wve(o))})),U=!0}if(U)return n6(nAe()).then((()=>""))}else typeof o=="string"&&c(W6(o));return Promise.resolve("")}return Promise.reject({type:UEe,errorCode:lt.STREAM_MISMATCH_DEVICE})})(this[Rn],e)}switchSpeaker(e){return(async(n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,{audio:{activeSpeaker:p}}=i(),{speakers:v}=await vc($k());if(o!=="default"&&v.findIndex((T=>T.deviceId===o))==-1)return Promise.reject({type:UEe,errorCode:lt.STREAM_MISMATCH_DEVICE});var S;if(((S=gs(i()))===null||S===void 0?void 0:S.audio)===Ji.Computer){if(o!==p)return d.changeSpeaker(o),yr(Oge,(T=>T))}else c(ite(o));return Promise.resolve("")})(this[Rn],e)}muteShareAudio(e){return((n,o)=>{const{mediaAgent:i,rwgAgent:c,store:{getState:d,dispatch:p}}=n,v=d(),{meeting:{userId:S}}=v;if(o&&o!==S)return XAe(o,!0,n.store,i);{const{audio:{isSharingAudio:x,isShareAudioEnabled:P,isShareAudioMuted:B}}=v;if(!P)return Promise.reject({type:dn,reason:"Cannot mute sharing audio when sharing audio is not enable",errorCode:lt.AUDIO_SHARE_AUDIO_CONFLICT});if(B)return Promise.resolve("");{c.muteShareAudio(!0);let U=Promise.resolve();var T;return x&&(U=(T=i.leaveSharingAudio(!0))===null||T===void 0?void 0:T.then((()=>n1e(c,v).then((j=>{j.forEach((W=>p(W)))}))))),q6(i,S,!0,v),Promise.all([yr({event:Rp,operations:[En((j=>j.bShareAudioOn!==void 0)),Qr(1)]},(j=>j.bShareAudioOn===!1)),U]).then((()=>(p(YQ(!0)),x&&(p(Q3(!1)),it(B3,{state:"off"})),"")))}}})(this[Rn],e)}unmuteShareAudio(e){return((n,o)=>{const{mediaAgent:i,rwgAgent:c,store:{getState:d,dispatch:p}}=n,v=d(),{meeting:{userId:S}}=v;if(o&&o!==S)return XAe(o,!1,n.store,i);{const{audio:{isSharingAudio:T,isShareAudioEnabled:x,isShareAudioMuted:P},share:{status:B}}=v;if(!x)return Promise.reject({type:dn,reason:"Cannot unmute sharing audio when sharing audio is not enable",errorCode:lt.AUDIO_NOT_STARTED});if(P===!1)return Promise.resolve("");{c.muteShareAudio(!1);let U=Promise.resolve();return T===!1&&B===Xr.Sharing&&(U=Kve(i,c,v).then((j=>{j.forEach((W=>p(W)))}))),q6(i,S,!1,v),Promise.all([yr({event:Rp,operations:[En((j=>j.bShareAudioOn!==void 0)),Qr(1)]},(j=>j.bShareAudioOn===!0)),U]).then((()=>(p(YQ(!1)),T===!1&&B===Xr.Sharing&&(p(Q3(!0)),it(B3,{state:"on"})),"")))}}})(this[Rn],e)}subscribeAudioStatisticData(e){return(async(n,o)=>{const{mediaAgent:i,store:{getState:c}}=n,d=c(),p=gs(d),v=!o||o.decode,S=!o||o.encode;if(!p)return Promise.reject({type:dn,reason:"Call this function after the 'join' method resolved.",errorCode:lt.STREAM_SESSION_JOIN_REQUIRED});{const{encodeInitStatus:T,decodeInitStatus:x}=Yve(d,p);Gf("audio",T,x).subscribe((([P,B])=>{P&&B&&(v&&i.subscribeToQos([Op.AudioDecode],Fx),S&&i.subscribeToQos([Op.AudioEncode],Fx))}))}return""})(this[Rn],e)}unsubscribeAudioStatisticData(e){return(async(n,o)=>{const{mediaAgent:i,store:{dispatch:c}}=n,d=!o||o.decode,p=!o||o.encode;return d&&(i.unsubscribeFromQos([Op.AudioDecode]),c(XQ(XJ))),p&&(i.unsubscribeFromQos([Op.AudioEncode]),c(JQ(XJ))),null})(this[Rn],e)}enableBackgroundNoiseSuppression(e){return((n,o)=>{const{mediaAgent:i,store:{getState:c,dispatch:d}}=n,{audio:{isBackgroundNoiseSuppression:p,originalSound:v,isWebRtcAudioCapable:S},meeting:{mediaFeatureOptions:T}}=c();let x=o;return x===!!p||(x&&!Q_e(T||"",S)?(console.warn("Background noise suppression requires SharedArrayBuffer and is only supported on desktop browser"),x=!1):(x&&v&&(console.warn("Enabling noise suppression will disable original sound."),d(qve(!1))),d(jve(x)),i.changeAudioProfile(Zve(c())))),Promise.resolve("")})(this[Rn],e)}enableSyncButtonsOnHeadset(e){return((n,o)=>{const{mediaAgent:i,store:{getState:c,dispatch:d}}=n,p=c(),{audio:{isHIDEnabled:v,microphoneDevicesList:S,activeMicrophone:T}}=p;if(o===!!v)return Promise.resolve("");{const P=gs(p);var x;return P?(o&&!tAe()?console.warn("Sync buttons on headset is not supported on the current platform"):(i.enableSyncButtonsOnHeadset(o,(x=S.find((B=>B.deviceId===T)))===null||x===void 0?void 0:x.label,P.muted),d(i3e(o))),Promise.resolve("")):Promise.reject({type:dn,reason:"Please call `enableSyncButtonsOnHeadset` method after the `join` has been resolved",errorCode:lt.STREAM_SESSION_JOIN_REQUIRED})}})(this[Rn],e)}enableOriginalSound(e){return((n,o)=>{const{mediaAgent:i,store:{getState:c,dispatch:d}}=n,{audio:{isBackgroundNoiseSuppression:p,originalSound:v}}=c(),S=o;return S===v||typeof o=="object"&&Ez(o,v)||(typeof S!="object"||(S==null?void 0:S.stereo)!==!0||eAe()||(console.warn("Cannot enable stereo audio on current platform due to the browser limitation"),S.stereo=!1),p&&S&&(console.warn("Enabling original sound will disable background noise suppression."),d(jve(!1))),d(qve(S)),i.changeAudioProfile(Zve(c()))),Promise.resolve("")})(this[Rn],e)}callCRCDevice(e,n){return((o,i,c)=>{const{rwgAgent:d,store:{dispatch:p,getState:v}}=o,{seq:S}=d.inviteCRCDevice(i,c);return p(l3e({sequence:S,ip:i,protocol:c})),kx(GL.crcCallOut).then((()=>{var T;const{audio:{crcDevice:x}}=v();return(T=x.find((P=>P.ip===i&&P.protocol===c&&P.sequence===S)))===null||T===void 0?void 0:T.uuid}))})(this[Rn],e,n)}cancelCallCRCDevice(e,n){return((o,i,c)=>{const{rwgAgent:d,store:{getState:p}}=o,{audio:{crcDevice:v}}=p(),S=v.find((T=>T.ip===i&&T.protocol===c));return S&&S.returnCode===IX.Ringing?(d.cancelInviteCRCDevice(S.transId),Promise.resolve("")):Promise.reject({type:dn,reason:"Cannot cancel call out ",errorCode:lt.CRC_NOT_CONNECTED})})(this[Rn],e,n)}muteAllAudio(){return(e=>{const{rwgAgent:n}=e;return n.audioMuteAll(!0),V5("bMutedAll",!0)})(this[Rn])}unmuteAllAudio(){return(e=>{const{rwgAgent:n}=e;return n.audioMuteAll(!1),V5("bMutedAll",!1)})(this[Rn])}muteAudioUponEntry(e=!0){return((n,o=!0)=>{const{store:{getState:i},rwgAgent:c}=n,{audio:{bMutedUponEntry:d}}=i();return d===o?Promise.resolve(""):(c.setMuteOnEntry(o),V5("bMutedUponEntry",o))})(this[Rn],e)}allowUnmuteAudioThemselves(e=!0){return((n,o=!0)=>{const{store:{getState:i},rwgAgent:c}=n,{audio:{bCanUnmute:d}}=i();return d===o?Promise.resolve(""):(c.allowUnmuteAudio(o),V5("bCanUnmute",o))})(this[Rn],e)}getMicList(){return(({store:{getState:e}})=>{const n=e();return n.audio?[...n.audio.microphoneDevicesList]:[]})(this[Rn])}getSpeakerList(){return(({store:{getState:e}})=>{const n=e();return n.audio?[...n.audio.speakerDevicesList]:[]})(this[Rn])}getAudioState(e){return(({store:{getState:n}},o)=>{const i=n(),{meeting:{isWebinar:c}}=i;let d=null;return o==null?d=gs(i):(d=i.participants.attendeesList.find((p=>p.userId===o)),c&&!d&&(d=i.participants.xmppAttendeeList.find((p=>p.userId===o)))),d?d.audio:null})(this[Rn],e)}isAudioMuted(e){return(({store:{getState:n}},o)=>{const i=n(),{meeting:{isWebinar:c}}=i;let d=null;return o===void 0?d=gs(i):(d=i.participants.attendeesList.find((p=>p.userId===o)),c&&!d&&(d=i.participants.xmppAttendeeList.find((p=>p.userId===o)))),!!d&&!!d.muted})(this[Rn],e)}getActiveMicrophone(){return(({store:{getState:e}})=>{const n=e();return n.audio?n.audio.activeMicrophone:null})(this[Rn])}getActiveSpeaker(){return(({store:{getState:e}})=>{const n=e();return n.audio?n.audio.activeSpeaker:null})(this[Rn])}isSupportCallOut(){return(({store:{getState:e}})=>{const{meeting:{isSupportCallOut:n,callOutCountry:o}}=e();return n&&Array.isArray(o)&&(o==null?void 0:o.length)>0})(this[Rn])}getDialOutStatus(){return(({store:{getState:e}})=>{const{audio:n}=e();return n==null?void 0:n.dialout[n.dialout.length-1].returnCode})(this[Rn])}getDialOutCountries(){return(({store:{getState:e}})=>{const{meeting:{callOutCountry:n}}=e();return Array.isArray(n)?n:[]})(this[Rn])}getShareAudioStatus(){return(({store:{getState:e}})=>{const{audio:{isShareAudioEnabled:n,isShareAudioMuted:o,isSharingAudio:i}}=e();return{isShareAudioEnabled:n,isShareAudioMuted:o,isSharingAudio:i}})(this[Rn])}isOthersShareAudioMutedLocally(e){return(({store:{getState:n}},o)=>{var i;const{audio:{localShareAudioUserMutedList:c}}=n();return(i=c.find((d=>d.userId===o)))===null||i===void 0?void 0:i.muted})(this[Rn],e)}getAudioStatisticData(){return(({store:{getState:e}})=>{const{audio:{statistic:n}}=e();return{...n}})(this[Rn])}getDialInInfo(){return(({store:{getState:e}})=>{const{meeting:{meetingNumber:n,tollNumbers:o,participantID:i,h323Password:c}}=e();return o===void 0?null:{meetingId:n,participantId:i,password:c||"",tollNumbers:o.map((d=>({...d})))}})(this[Rn])}isSupportMicrophoneAndShareAudioSimultaneously(){return(function(e){const{store:{getState:n}}=e,o=n(),{meeting:{mediaFeatureOptions:i}}=o;return Ns.isSupportOpenMicWhenShareAudio(i||"")})(this[Rn])}getAudioMediaPlaybackController(){return(({store:{getState:e},mediaAgent:n})=>{const o=e(),{audio:{isUsingMediaPlayback:i}}=o;if(i){const{audioElement:c}=vg.getInstance();return rwe(c,"audio",o,n)}return null})(this[Rn])}isAllowToUnmute(){return(({store:{getState:e}})=>{const n=e();return!!n.audio&&!!n.audio.bCanUnmute})(this[Rn])}getSessionSIPAddress(){return(e=>{const{store:{getState:n}}=e,{meeting:{sipDomain:o,h323Password:i,meetingNumber:c}}=n();return o?`${c}.${i??""}@${o}`:null})(this[Rn])}startVideo(e){return((n,o)=>{var i;const{store:{getState:c,dispatch:d},mediaAgent:p}=n,v=c(),{media:{videoDecodeStatus:S,videoEncodeStatus:T,enforceVirtualBackground:x},video:{isCaptureCameraLoading:P,isCurrentUserStartedVideo:B,isVideoMuted:U,backgroundMode:j},meeting:{isUseWBVideo:W}}=v,Z=o?{...o}:void 0;if(B)return Promise.reject({type:dn,reason:"Video is started",errorCode:lt.VIDEO_MISMATCH_STATE});if(P)return Promise.reject({type:dn,reason:"Camera is starting,please wait.",errorCode:lt.VIDEO_CAPTURE_LOADING});if(U&&!Iv(v))return Promise.reject({type:dn,reason:"Video is muted by the host",errorCode:lt.VIDEO_MUTED_BY_HOST});if(lk(W))if(G_(Z==null?void 0:Z.videoElement))console.warn('The "videoElement" option will be removed in version 2.x. Please use the "attachVideo" or "renderVideo" method to render the self-view.');else{console.warn('Rendering self-view on Chromium browser, Android browser without SharedArrayBuffer or iOS browser requires video tag, Please use "attachVideo" or pass a video element instead of a canvas element in the "renderVideo" method');let re=document.body.querySelector(`#${fge}`);if(!re){re=document.createElement("video");const le=Yo.isSafari||Yo.isIOSMobile?"position:fixed;top:-10000px;left:-10000px":"display:none";re.setAttribute("style",le),re.muted=!0,re.playsInline=!0,re.autoplay=!0,re.id=fge,document.body.appendChild(re)}Z&&Object.assign(Z,{videoElement:re})}return!qge(x,W)&&Z!=null&&Z.virtualBackground?Promise.reject({type:nr,reason:"Virtual background only compatible with Chrome and Edge with SharedArrayBuffer enabled.",errorCode:lt.VIDEO_VB_UNSUPPORTED}):j===Mh.VideoProcessor&&Z!=null&&Z.virtualBackground&&Z!=null&&(i=Z.virtualBackground)!==null&&i!==void 0&&i.imageUrl?Promise.reject({type:dn,reason:"Cannot start capture video with virtual background when video processor is enabled",errorCode:lt.VIDEO_VB_PROCESSOR_CONFLICT}):(d(qL(!0)),Gf("video",T,S).subscribe((([re])=>{if(re){const le=c(),{video:{activeCamera:ie,isSupportHDVideo:be,virtualBackground:{imageSrc:Ce},mask:{imageSrc:Ae},isMirrored:F}}=le,{cameraId:Ie=ie,captureWidth:tt=0,captureHeight:Xe=0,mirrored:Ve,hd:Re,fullHd:vt,virtualBackground:mt,mask:gt}=Z||{};Kwe(Ve??F,p,le),(Re||vt)&&(be&&Ns.isCompatibleHardwareForEncode()&&Ns.isSupportVideoEncodeHardwareAcceleration().then((Rt=>{Rt&&(p.enableHardwareAccelerationForVideoEncode(!0),d(VL({encode:Rt})))})),be||console.warn("Cannot capture HD video due to either account restriction and/or hardware limitation"));const te=mt||mt===void 0&&!!Ce&&gt===void 0,hn=gt||gt===void 0&&!!Ae;let ot=Promise.resolve({});if(te){const Rt=mt||{imageUrl:void 0,cropped:void 0};ot=GX({...Rt,captureWidth:tt,captureHeight:Xe,cameraId:Ie,hd:Re},p,le).then((()=>Rt))}else if(hn){const Rt=gt||{imageUrl:void 0,cropped:void 0,clip:void 0,rootWidth:void 0,rootHeight:void 0};Rt.rootWidth||Object.assign(Rt,{rootWidth:1280}),Rt.rootHeight||Object.assign(Rt,{rootHeight:720}),ot=qX({...Rt,captureWidth:tt,captureHeight:Xe,cameraId:Ie,hd:Re},p,le).then((()=>Rt))}Z!=null&&Z.mediaFile&&!Ns.isSupportMediaPlaybackAsVideoInput()&&(console.warn("Cannot use media file as video input due to the browser limitation."),Object.assign(Z,{mediaFile:void 0})),ot.then((Rt=>Gge("video",c()).then((()=>Rt)))).then((Rt=>{vNe(p,le,Z).forEach((kt=>{d(kt)})),te?d(UX(Rt)):hn&&d(zX(Rt))})).catch((Rt=>{d(qL(!1)),it(mye,{...Rt??{}})}))}else d(qL(!1))})),kx($Ee.startCaptureVideo).then((()=>{d(wQ(!1)),d(EQ(!1))})).catch((re=>Promise.reject(Zwe(re)))).finally((()=>{d(qL(!1))})))})(this[Rn],e)}stopVideo(){return(e=>{const{store:{getState:n},mediaAgent:o}=e,{video:{isCaptureCameraLoading:i,isCurrentUserStartedVideo:c,isUsingMediaPlayback:d}}=n();return i?Promise.reject({type:dn,reason:"Camera is starting,please wait.",errorCode:lt.VIDEO_CAPTURE_LOADING}):c?(o.stopCaptureVideo(),d&&vg.getInstance().stopVideoElement(),yr(c3,(p=>(p==null?void 0:p.failed)!==!0))):Promise.reject({type:dn,reason:"camera is closed",errorCode:lt.VIDEO_MISMATCH_STATE})})(this[Rn])}switchCamera(e){return((n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,p=i(),{video:{cameraDevicesList:v,isCurrentUserStartedVideo:S,virtualBackground:T,mask:x,mediaPlaybackFile:P,isUsingMediaPlayback:B,customizedVideoOption:U,activeCamera:j}}=p;if(typeof o=="string"&&!gNe(o,v))return Promise.reject({type:nr,reason:"Cannot find cameraDeviceId in camera devices list.",errorCode:lt.STREAM_MISMATCH_DEVICE});const W=j===o;if(S||T!=null&&T.isVBConfigured||x.isMaskConfigured){if(typeof o=="string"){const{captureWidth:Z,captureHeight:re}=ete(U);d.changeCamera(o,gz.includes(o),{width:Z,height:re},W),c(sve(void 0)),vg.getInstance().stopVideoElement()}else if(o&&(!B||(P==null?void 0:P.url)!==o.url)){const Z=vg.getInstance();Z.setVideoElement(o).then((()=>{d.changeCamera(Z.videoElement),c(sve(o))}))}return U!=null&&U.customVideoConstraints&&!W&&c(KPe()),kx($Ee.switchCameraVideo).then((()=>{c(wQ(!1)),c(EQ(!1))})).catch((Z=>(d.stopCaptureVideo(),Promise.reject(Zwe(Z)))))}return typeof o=="string"&&c(F3(o)),Promise.resolve()})(this[Rn],e)}createProcessor(e){return(async(n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,p=i(),{media:{videoEncodeStatus:v,audioEncodeStatus:S,sharingEncodeStatus:T},processor:{processorCreatedList:x},meeting:{mediaFeatureOptions:P}}=p,{type:B,name:U}=o;if(!(B in Dx)||!Dx[B].detectAction(P||""))throw{type:dn,reason:`Your browser does not support ${B} processor.`,errorCode:Dx[B].errorCode.unsupported};if(x.some((({name:Z,type:re})=>Z===U&&re===B)))throw{type:nr,reason:"You have already created this Processor",errorCode:Dx[B].errorCode.duplicateCreate};const j={video:v,audio:S,share:T}[B],W=await vc(Gf(B,j,"success").pipe(Ei((([Z])=>{if(Z)return Np(eo(d.addProcessor(o)).pipe(xo((le=>({result:le})))),_u(1e4).pipe(xo((()=>{throw{type:Wee,errorCode:lt.OPERATION_TIMEOUT}}))));throw{type:cf,reason:`${re=B,HWe(uNe(re).toLowerCase())} encode status is failed`,errorCode:lt.INTERNAL_ERROR};var re})),xm((Z=>{throw Z!=null&&Z.type?Z:{type:cf,reason:"An error occurred while creating a Processor.",errorCode:lt.INTERNAL_ERROR}}))));if(!W.result)throw{type:cf,reason:"An error occurred while creating a Processor.",errorCode:lt.INTERNAL_ERROR};return c(z3e(o)),W.result})(this[Rn],e)}addProcessor(e){return(async(n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,p=i(),{processor:{processorCreatedList:v,processorInstanceList:S},video:{backgroundMode:T,mask:x,virtualBackground:P}}=p,{name:B,type:U}=o,j=["video","share"].includes(U);if(!v.some((({name:W,type:Z})=>W===B&&Z===U)))throw{type:nr,reason:"Processor not found.",errorCode:Dx[U].errorCode.mismatchProcessor};if(S.some((({type:W,name:Z})=>W===U&&(j||B===Z))))throw{type:dn,reason:j?`Currently we only support using one ${U} processor at a time.`:"Cannot add this processor again.",errorCode:Dx[U].errorCode.limitExceed};if(U==="video"){if((T===Mh.VirtualBackground||T===Mh.Mask)&&(x.imageSrc||P.imageSrc))throw{type:dn,reason:"Cannot use video processor when virtual background or mask is enabled",errorCode:lt.VIDEO_VB_PROCESSOR_CONFLICT};c(ove(Mh.VideoProcessor))}return await d.startProcessor(o),c(j3e({name:B,type:U})),""})(this[Rn],e)}removeProcessor(e){return(async(n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,p=i(),{processor:{processorInstanceList:v}}=p,{name:S,type:T}=o;if(!v.some((({name:x,type:P})=>x===S&&P===T)))throw{type:nr,reason:"Processor not found.",errorCode:Dx[T].errorCode.mismatchProcessor};return await d.stopProcessor(o),c(W3e({name:S,type:T})),T==="video"&&c(ove(Mh.Null)),""})(this[Rn],e)}renderVideo(e,n,o,i,c,d,p,v,S){return tKe(this[Rn],e,n,o,i,c,d,p,v,S)}stopRenderVideo(e,n,o,i,c=!1,d){return((p,v,S,T,x,P=!1,B)=>{const{store:{getState:U,dispatch:j},mediaAgent:W}=p,Z=U(),{video:{subscribedVideoList:re,renderedVideoList:le},meeting:{userId:ie}}=Z;if(re.includes(S)){const be=T||sO;if(lk()&&S===ie&&G_(v))return v.pause(),j($X(S)),j(Rye(v.id)),Promise.resolve("");if(le.find((Ce=>Ce.userId===S&&Ce.key===be&&Ce.canvasId===v.id))&&(W.stopRenderVideo(v.id,S,be,_pe(x),P),le.filter((Ce=>Ce.userId===S)).length==1&&(S!==ie&&W.unsubscribeVideo(S),j($X(S))),j(AQ({userId:S,key:be,canvasId:v.id}))),B&&ie!==B){const{video:{subscribedVideoList:Ce,prefetchedVideo:Ae}}=U();JL(Z).find((F=>F.userId===B))&&!Ce.includes(B)&&(Ae==null?void 0:Ae.userId)!==B&&j(f3({userId:B,lastCopy:Ae}))}}return Promise.resolve("")})(this[Rn],e,n,o,i,c,d)}updateVideoCanvasDimension(e,n,o){return((i,c,d,p)=>{const{mediaAgent:v}=i;return d>=0&&p>=0&&v.updateRenderedVideoCanvasDimension(c,d,p),Promise.resolve("")})(this[Rn],e,n,o)}adjustRenderedVideoPosition(e,n,o,i,c,d,p){return((v,S,T,x,P,B,U,j)=>{const{store:{getState:W,dispatch:Z},mediaAgent:re}=v,{video:{subscribedVideoList:le}}=W();if(le.includes(T)){if(G_(S))return Promise.resolve("");const ie=j||sO;re.adjustRenderedVideoPosition(S.id,T,ie,B,U,x,P,_pe("#000")),Z(Ak({userId:T,key:ie,canvasId:S.id,aspectRatio:P?x/P:0}))}else console.warn("Cannot adjust the size or position of the video as the video has not been rendered yet.");return Promise.resolve("")})(this[Rn],e,n,o,i,c,d,p)}clearVideoCanvas(e,n){return((o,i,c)=>{const{mediaAgent:d}=o;return d.clearVideoCanvas(i.id,_pe(c)),Promise.resolve("")})(this[Rn],e,n)}mirrorVideo(e){return((n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,p=i(),{video:{isCurrentUserStartedVideo:v,virtualBackground:S,isMirrored:T}}=p;return T===o||((v||S!=null&&S.isVBConfigured)&&Kwe(o,d,p),c(GPe(o))),Promise.resolve("")})(this[Rn],e)}enableHardwareAcceleration(e){return((n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,{video:{isSupportHDVideo:p}}=i(),v=[];if(typeof o=="boolean"||o.decode!==void 0){const S=typeof o=="boolean"?o:!!o.decode;S?v.push(Ns.isSupportVideoDecodeHardwareAcceleration().then((T=>(T&&d.enableHardwareAccelerationForVideoDecode(T),c(VL({decode:T})),T)))):(d.enableHardwareAccelerationForVideoDecode(S),c(VL({decode:S})),v.push(!0))}if(typeof o=="boolean"||o.encode!==void 0){const S=typeof o=="boolean"?o:!!o.encode;p?S?Ns.isCompatibleHardwareForEncode()?v.push(Ns.isSupportVideoEncodeHardwareAcceleration().then((T=>(T&&d.enableHardwareAccelerationForVideoEncode(T),c(VL({encode:T})),T)))):(console.warn("Can not turn on hardware acceleration with your graphic card due to the technical limitation"),v.push(!1)):(d.enableHardwareAccelerationForVideoEncode(!1),c(VL({encode:!1})),v.push(!0)):typeof o!="boolean"&&o!=null&&o.encode&&(console.warn("Can not use the hardware acceleration for video encoding due to the account restriction"),v.push(!1))}return Promise.all(v).then((S=>S.every((T=>!!T))))})(this[Rn],e)}subscribeVideoStatisticData(e){return(async(n,o)=>{const{mediaAgent:i,store:{getState:c,dispatch:d}}=n,{media:{videoDecodeStatus:p,videoEncodeStatus:v},video:{subscriptionStatus:S}}=c(),T=!o||o.decode,x=!o||o.encode;return Gf("video",v,p).subscribe((([P,B])=>{const U={};T&&B&&!S.decode&&(i.subscribeToQos([Op.VideoDecode],Fx),Object.assign(U,{decode:!0})),x&&P&&!S.encode&&(i.subscribeToQos([Op.VideoEncode],Fx),Object.assign(U,{encode:!0})),o!=null&&o.detailed&&B&&!S.detailed&&(i.enableVideoObserver(!0),Object.assign(U,{detailed:!0})),d(rve(U))})),null})(this[Rn],e)}unsubscribeVideoStatisticData(e){return(async(n,o)=>{const{mediaAgent:i,store:{dispatch:c}}=n,d=!o||o.decode,p=!o||o.encode,v={};return d&&(i.unsubscribeFromQos([Op.VideoDecode]),c(xQ(rO)),Object.assign(v,{decode:!1})),p&&(i.unsubscribeFromQos([Op.VideoEncode]),c(OQ(rO)),Object.assign(v,{encode:!1})),o!=null&&o.detailed&&(i.enableVideoObserver(!1),Object.assign(v,{detailed:!1})),c(rve(v)),null})(this[Rn],e)}previewVirtualBackground(e,n,o,i){return((c,d,p,v,S)=>{const{store:{getState:T,dispatch:x},mediaAgent:P}=c,B=T();return GX({imageUrl:p,cropped:v,cameraId:S},P,B,d).then((U=>(typeof U=="object"&&U!=null&&U.type&&x(U),x(UX({imageUrl:p,cropped:v})),!0))).catch((U=>Promise.reject({type:dn,...U??{}})))})(this[Rn],e,n,o,i)}updateVirtualBackgroundImage(e,n){return((o,i,c)=>{const{store:{getState:d,dispatch:p},mediaAgent:v}=o,S=d(),{video:{virtualBackground:{imageSrc:T,cropped:x},backgroundMode:P}}=S;return i===T&&c===x?Promise.resolve(!0):P===Mh.Mask||P===Mh.VideoProcessor?Promise.reject({type:dn,reason:`Cannot update virtual background in the ${P===Mh.Mask?"mask":"video processor"} mode`,errorCode:lt.VIDEO_VB_PROCESSOR_CONFLICT}):GX({imageUrl:i,cropped:c},v,S).then((B=>(typeof B=="object"&&B!=null&&B.type&&p(B),p(UX({imageUrl:i,cropped:c})),!0))).catch((B=>Promise.reject({type:dn,...B??{}})))})(this[Rn],e,n)}stopPreviewVirtualBackground(){return(e=>{const{store:{getState:n},mediaAgent:o}=e,{video:{virtualBackground:{isVBConfigured:i}}}=n();return i?(o.stopVirtualBackgroundSetting(),Promise.resolve(!0)):Promise.reject({type:dn,reason:"Cannot stop preview virtual background before start",errorCode:lt.VIDEO_VB_MISMATCH_STATE})})(this[Rn])}previewVideoMask(e,n){return((o,i,c)=>{const{store:{getState:d,dispatch:p},mediaAgent:v}=o,S=d();return c.rootWidth&&c.rootHeight||Object.assign(c,{rootWidth:i.width,rootHeight:i.height}),qX(c,v,S,i).then((T=>(typeof T=="object"&&T!=null&&T.type&&p(T),p(zX(c)),!0))).catch((T=>Promise.reject({type:dn,...T??{}})))})(this[Rn],e,n)}updateVideoMask(e){return((n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,p=i(),{video:{mask:v,backgroundMode:S}}=p,{isMaskConfigured:T}=v;if(S===Mh.VirtualBackground||S===Mh.VideoProcessor)return Promise.reject({type:dn,reason:`Cannot update mask in the ${S===Mh.VirtualBackground?"virtual background":"video processor"} mode`,errorCode:lt.VIDEO_MASK_PROCESSOR_CONFLICT});if(T){const x={...o};return["imageUrl","cropped","clip","rootHeight","rootWidth"].forEach((P=>{(o==null?void 0:o[P])===void 0&&(P==="imageUrl"?Object.assign(x,{imageUrl:v.imageSrc}):Object.assign(x,{[`${P}`]:v[P]}))})),qX(x,d,p).then((P=>(typeof P=="object"&&P!=null&&P.type&&c(P),c(zX(x)),!0))).catch((P=>Promise.reject({type:dn,...P??{}})))}return Promise.reject({type:dn,reason:"Cannot update mask",errorCode:lt.VIDEO_MASK_IMAGE_INACCESSIBLE})})(this[Rn],e)}stopPreviewVideoMask(){return(e=>{const{store:{getState:n},mediaAgent:o}=e,{video:{mask:{isMaskConfigured:i}}}=n();return i?(o.stopMaskSetting(),Promise.resolve(!0)):Promise.reject({type:dn,reason:"Cannot stop preview mask before start",errorCode:lt.VIDEO_MASK_IMAGE_INACCESSIBLE})})(this[Rn])}requestFarEndCameraControl(e){return((n,o)=>{const{store:{getState:i},rwgAgent:c}=n,d=i(),{meeting:{userId:p},video:{farEndCameraControlStatus:{controlledUserList:v}}}=d;return p===o?Promise.reject({type:dn,reason:'Using "stream.controlCamera" method to control self camera',errorCode:lt.FAR_END_CAMERA_CONTROL_MISMATCH_STATE}):JL(d).findIndex((S=>S.userId===o))===-1?Promise.reject({type:nr,reason:"Cannot request control camera with video off",errorCode:lt.FAR_END_CAMERA_CONTROL_MISMATCH_STATE}):Qpe(d).findIndex((S=>S.userId===o))!==-1?(v.includes(o)||c.sendFarEndCameraControl(gg.Request,o),Promise.resolve("")):Promise.reject({type:dn,reason:"The far end camera does not support PTZ",errorCode:lt.FAR_END_CAMERA_CONTROL_DEVICE_UNSUPPORTED})})(this[Rn],e)}approveFarEndCameraControl(e){return((n,o)=>{const{store:{getState:i,dispatch:c},rwgAgent:d}=n,{video:{currentCameraControlStatus:{isRequested:p,isInControl:v,controllingUserId:S},ptz:T,activeCamera:x}}=i();if(p){if(v&&(!S||o===S))return Promise.resolve("");d.sendFarEndCameraControl(gg.Approve,o);const P=T==null?void 0:T[x];return P!==void 0&&d.sendCameraAblity({pan:!!P.pan,tilt:!!P.tilt,zoom:!!P.zoom}),c(IQ(!1)),c(RQ({isInControl:!0,userId:o})),it(uQ,{isControlled:!0,userId:o}),Promise.resolve("")}return Promise.reject({type:dn,reason:"Cannot approve before request",errorCode:lt.FAR_END_CAMERA_CONTROL_MISMATCH_STATE})})(this[Rn],e)}declineFarEndCameraControl(e){return((n,o)=>{const{store:{getState:i,dispatch:c},rwgAgent:d}=n,{video:{currentCameraControlStatus:{isInControl:p,isRequested:v}}}=i();return v||p?(d.sendFarEndCameraControl(gg.Decline,o),c(IQ(!1)),c(RQ({isInControl:!1,userId:0})),it(uQ,{isControlled:!1}),Promise.resolve("")):Promise.reject({type:dn,reason:"Cannot decline before request",errorCode:lt.FAR_END_CAMERA_CONTROL_MISMATCH_STATE})})(this[Rn],e)}giveUpFarEndCameraControl(e){return((n,o)=>{const{store:{getState:i,dispatch:c},rwgAgent:d}=n,{video:{farEndCameraControlStatus:{controlledUserList:p}}}=i();return p.includes(o)?(d.sendFarEndCameraControl(gg.GiveUp,o),c(kQ(o)),Promise.resolve("")):Promise.reject({type:dn,reason:"Cannot give up control befire aquired",errorCode:lt.FAR_END_CAMERA_CONTROL_MISMATCH_STATE})})(this[Rn],e)}controlCamera(e){return((n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,{video:{isCurrentUserStartedVideo:p,ptz:v,activeCamera:S}}=i();if(p){const{cmd:T,range:x,reset:P}=o,B=v[S];if(B){const U=Pye(B)||{},{key:j,range:W}=yNe(T,x);if(B[j])return Object.assign(U,{[j]:P?0:bNe(B[j].capability,B[j].value,W)}),d.movePTZCamera(U).then((()=>{c(Oye({constraints:U,deviceId:S}))})).catch((Z=>Promise.reject({type:cf,reason:Z,errorCode:lt.INTERNAL_ERROR})))}return Promise.resolve("")}return Promise.reject({type:dn,reason:"Cannot control the camera before it's started",errorCode:lt.FAR_END_CAMERA_CONTROL_MISMATCH_STATE})})(this[Rn],e)}controlFarEndCamera(e){return((n,o)=>{const{store:{getState:i,dispatch:c},rwgAgent:d}=n,p=i(),{video:{farEndCameraControlStatus:{controlledUserList:v,isControlling:S}}}=p,{userId:T,cmd:x,range:P}=o;if(S)return Promise.reject({type:dn,reason:"Cannot send new command while the previous control is not done",errorCode:lt.FAR_END_CAMERA_RATE_LIMIT});if(v.includes(T)){if(x===Hx.SwitchCamera)return d.sendFarEndCameraControl(gg.SwitchCamera,T,Hx.SwitchCamera),Promise.resolve("");{const B=Qpe(p).find((U=>U.userId===T));if(B==null||!B.nFECC)return Promise.reject({type:dn,reason:"The far end camera does not support PTZ",errorCode:lt.FAR_END_CAMERA_CONTROL_DEVICE_UNSUPPORTED});if(P&&P>0){const U=P/100*1e4;return d.sendFarEndCameraControl(gg.StartControl,T,x),c(nve(!0)),P6(200).pipe(Nh(_u(U-100).pipe(Qr(1)))).subscribe((()=>{d.sendFarEndCameraControl(gg.ContinueControl,T,x)})),vc(_u(U).pipe($o((()=>{d.sendFarEndCameraControl(gg.StopControl,T,x),c(nve(!1))})))).then((()=>""))}return Promise.reject({type:nr,reason:"Range cannot be negative or 0",errorCode:lt.FAR_END_CAMERA_INVALID_RANGE})}}return Promise.reject({type:dn,reason:"Cannot control before request granted",errorCode:lt.FAR_END_CAMERA_PERMISSION_REQUIRED})})(this[Rn],e)}attachVideo(e,n,o){return((i,c,d,p)=>{const{store:{getState:v,dispatch:S},mediaAgent:T}=i,x=v(),{meeting:{userId:P,isUseWBVideo:B},media:{enforceMultipleVideos:U,alternativeNameForVideoPlayer:j,disableRenderLimits:W},video:{videoAttachments:Z,subscribedVideoList:re}}=x,le=Ns.getMaxCountRender(B,!!U,W),ie=re.filter((tt=>tt!==P)).length;if(le>1&&c!==P&&!re.includes(c)&&ie>=le)return Promise.reject({type:dn,reason:`subscribe video counts greater than maximum size (${le})`,errorCode:lt.VIDEO_RENDER_LIMIT_EXCEED});if(JL(x).findIndex((tt=>tt.userId===c))===-1)return Promise.reject({type:nr,reason:"user is not send video",errorCode:lt.STREAM_MISMATCH_USER});const{media:{videoDecodeStatus:be}}=x;let Ce;const Ae=j??"video-player";if(p){var F;const[tt,Xe]=qY(p,Ae);if(!tt)return Promise.reject(Xe);Ce=Xe;const Ve=Number((F=Ce.getAttribute("node-id"))!==null&&F!==void 0?F:"0");if(Ve!==c&&lk()&&[Ve,c].includes(P)){var Ie;const Re=document.createElement(Ae);for(const vt of Ce.attributes)Re.setAttribute(vt.name,vt.value);Ve&&(Ce.setAttribute("node-id","0"),S(jX({userId:Ve,element:Ce}))),(Ie=Ce.parentElement)===null||Ie===void 0||Ie.replaceChild(Re,Ce),Ce=Re}}else Ce=document.createElement(Ae);return Gf("video","success",be).subscribe((async([tt,Xe])=>{if(Xe){const Re=Z[`${c}`];var Ve;Re!=null&&Re.includes(Ce)?Ce.setAttribute("video-quality",`${d}`):(Ve=Ce)===null||Ve===void 0||Ve.setAttribute("node-id",`${c}`),S(Iye({userId:c,element:Ce})),c!==P&&T.subscribeVideo(c,d,!1),re.includes(c)||S(_Q(c)),S(Ak({userId:c,key:sO,canvasId:a3,videoQuality:d,aspectRatio:16/9}))}})),Promise.resolve(Ce)})(this[Rn],e,n,o)}detachVideo(e,n){return((o,i,c)=>{const{store:{getState:d,dispatch:p},mediaAgent:v}=o,S=d(),{video:{subscribedVideoList:T,videoAttachments:x},meeting:{userId:P},media:{alternativeNameForVideoPlayer:B}}=S;if(T.includes(i)){let j;const W=B??"video-player";if(c){const[le,ie]=qY(c,W);j=le?ie:void 0}const Z=x[`${i}`];let re;if(Z&&Z.length!==0){var U;j?Z.findIndex((be=>be===j))!==-1?(re=j,re.setAttribute("node-id","0"),p(jX({userId:i,element:re}))):console.warn(`${c} has not been attached with userID:${i}`):(re=[...Z],re.forEach((be=>{be.setAttribute("node-id","0")})),p(jX({userId:i,element:re})));const{video:{videoAttachments:le,renderedVideoList:ie}}=d();((U=le[`${i}`])===null||U===void 0?void 0:U.length)===0&&(ie.filter((be=>be.userId===i&&be.canvasId!==a3)).length===0&&(i!==P&&v.unsubscribeVideo(i),p($X(i))),p(AQ({userId:i,key:sO,canvasId:a3})))}else console.warn(`UserId:${i} has not been attached.`);return Promise.resolve(re)}return Promise.resolve(void 0)})(this[Rn],e,n)}spotlight(e,n){return((o,i,c)=>{const{store:{getState:d},rwgAgent:p}=o,v=d(),{video:{spotlightUserList:S}}=v;return S.includes(i)?Promise.reject({type:nr,reason:`userId:${i} has already spotlighted`,errorCode:lt.VIDEO_SPOTLIGHT_MISMATCH_STATE}):JL(v).findIndex((T=>T.userId===i))===-1?Promise.reject({type:nr,reason:`userId:${i} has not started video`,errorCode:lt.STREAM_MISMATCH_USER}):(p.spotlightVideo(i,{bReplace:c,bSpotlight:!0,bUnSpotlightAll:!1}),yr(u3,(T=>{const{spotlightList:x}=T;return x.includes(i)})))})(this[Rn],e,n)}removeSpotlight(e){return((n,o)=>{const{store:{getState:i},rwgAgent:c}=n,d=i(),{meeting:{userId:p},video:{spotlightUserList:v}}=d,S=o||p,T=Ba(d);if(!v.includes(S)||T.findIndex((B=>B.userId===S))===-1)return Promise.reject({type:nr,reason:`userId:${o} is not spotlighted`,errorCode:lt.VIDEO_SPOTLIGHT_MISMATCH_STATE});const x=Iv(d);if(v.length>1&&S===p&&!x)return Promise.reject({type:dn,reason:"Cannot remove spotlight for self when the host has multiple spotlighted videos",errorCode:lt.VIDEO_SPOTLIGHT_MULTI_CONFLICT});if(S!==p&&!x)return Promise.reject({type:Pp,reason:"only host or co-host can cancel others spotlight",errorCode:lt.CLIENT_HOST_OR_MANAGER_PERMISSION_REQUIRED});c.spotlightVideo(S,{bReplace:!1,bSpotlight:!1,bUnSpotlightAll:!1});const P=S===p&&v.length===1?dQ:u3;return yr(P,(B=>{const{spotlightList:U}=B;return!U.includes(S)}))})(this[Rn],e)}removeAllSpotlights(){return(e=>{const{store:{getState:n},rwgAgent:o}=e,{video:{spotlightUserList:i}}=n();return i.length===0?Promise.resolve(""):(o.spotlightVideo(null,{bUnSpotlightAll:!0}),yr(u3,(c=>{const{spotlightList:d}=c;return d.length===0})))})(this[Rn])}screenshotVideo(e){return(async(n,o)=>{const{mediaAgent:i,store:{getState:c,dispatch:d}}=n,{video:{subscribedVideoList:p,selfPreviewVideoList:v,customizedVideoOption:S}}=c(),T=gs(c()),x=o===(T==null?void 0:T.userId)&&T.bVideoOn&&(v.length>0||!(S==null||!S.videoElement));if(!p.includes(o)&&!x)return Promise.reject({type:nr,reason:"user is not send video",errorCode:lt.STREAM_MISMATCH_USER});try{const P=await i.screenshot(o,"video");return o!==(T==null?void 0:T.userId)&&d(Xge({targetUser:o,userId:T==null?void 0:T.userId,displayName:T==null?void 0:T.displayName})),P}catch(P){return Promise.reject({type:cf,reason:P,errorCode:lt.INTERNAL_ERROR})}})(this[Rn],e)}isCapturingVideo(){return(e=>{const{store:{getState:n}}=e,o=n();return!!o.video&&o.video.isCurrentUserStartedVideo})(this[Rn])}isCameraTaken(){return(e=>{const{store:{getState:n}}=e,o=n();return!!o.video&&o.video.isCameraTaken})(this[Rn])}isCaptureForbidden(){return(e=>{const{store:{getState:n}}=e,o=n();return!!o.video&&o.video.isCaptureForbidden})(this[Rn])}getCameraList(){return(e=>{const{store:{getState:n}}=e,o=n();if(!o.video)return[];const{video:{cameraDevicesList:i}}=o;return i.map((c=>Object.assign({},c)))})(this[Rn])}getActiveCamera(){return(e=>{const{store:{getState:n}}=e,o=n();return o.video?o.video.activeCamera:""})(this[Rn])}getActiveVideoId(){return(e=>{const{store:{getState:n}}=e,o=n();return o.video?o.video.activeVideoId:0})(this[Rn])}getVideoMaxQuality(){return(e=>{const{store:{getState:n}}=e,o=n();return o.video?o.video.receivedVideoMaxQuality:YJ.Video_90P})(this[Rn])}getReceivedVideoDimension(){return(e=>{const{store:{getState:n}}=e,o=n();return o.video?o.video.receivedVideoDimension:null})(this[Rn])}getCapturedVideoResolution(){return(e=>{const{store:{getState:n}}=e;return{...n().video.capturedVideoDimension}})(this[Rn])}isSupportMultipleVideos(){return(e=>{const{store:{getState:n}}=e,{meeting:{isUseWBVideo:o},media:{enforceMultipleVideos:i,disableRenderLimits:c}}=n();return Ns.getMaxCountRender(o,i,c)>1})(this[Rn])}isSupportHDVideo(){return(e=>{var n;const{store:{getState:o}}=e;return(n=o().video)===null||n===void 0?void 0:n.isSupportHDVideo})(this[Rn])}getHardwareAccelerationStatus(){return(e=>{var n;const{store:{getState:o}}=e;return(n=o().video)===null||n===void 0?void 0:n.hardwareAcceleration})(this[Rn])}getVideoStatisticData(){return(({store:{getState:e}})=>{const{video:{statistic:n}}=e();return{...n}})(this[Rn])}isSupportVirtualBackground(){return(e=>{const{store:{getState:n}}=e,o=n();return qge(o.media.enforceVirtualBackground,o.meeting.isUseWBVideo)})(this[Rn])}getVirtualbackgroundStatus(){return(e=>{const{store:{getState:n}}=e;return{...n().video.virtualBackground}})(this[Rn])}isRenderSelfViewWithVideoElement(){return lk(this[gc].getState().meeting.isUseWBVideo)}getNetworkQuality(e){return((n,o)=>{var i;const{store:{getState:c}}=n,d=c(),{video:p,meeting:{userId:v}}=d,S=o??v,T=p==null||(i=p.networkQuality)===null||i===void 0?void 0:i[`${S}`];if(T){const x={};return T.uplink&&Object.assign(x,{uplink:T.uplink.level}),T.downlink&&Object.assign(x,{downlink:T.downlink.level}),x}return null})(this[Rn],e)}getFarEndCameraPTZCapability(e){return((n,o)=>{const{store:{getState:i}}=n,c=Qpe(i()).find((d=>d.userId===o));return(c==null?void 0:c.nFECC)!==void 0?SNe(c==null?void 0:c.nFECC):{pan:!1,tilt:!1,zoom:!1}})(this[Rn],e)}getCameraPTZCapability(e){return((n,o)=>{const{store:{getState:i}}=n,{video:{ptz:c,activeCamera:d}}=i(),p=c[o??d];return{pan:!(p==null||!p.pan),tilt:!(p==null||!p.tilt),zoom:!(p==null||!p.zoom)}})(this[Rn],e)}isBrowserSupportPTZ(){const{pan:e,tilt:n,zoom:o}=Ns.getPTZCapability();return e||n||o}getVideoMaskStatus(){return(e=>{var n;const{store:{getState:o}}=e,i=o(),{isMaskConfigured:c,imageSrc:d,...p}=((n=i.video)===null||n===void 0?void 0:n.mask)||{};return{...p,imageUrl:d}})(this[Rn])}isVideoMirrored(){return(e=>{const{store:{getState:n}}=e,{video:{isMirrored:o}}=n();return o})(this[Rn])}getSpotlightedUserList(){return(e=>{const{store:{getState:n}}=e,o=n();if(!o.video)return[];const{video:{spotlightUserList:i}}=o;return Ba(o).filter((c=>i.includes(c.userId))).map((c=>Ik(c)))})(this[Rn])}getVideoMediaPlaybackController(){return(({store:{getState:e},mediaAgent:n})=>{const o=e(),{video:{isUsingMediaPlayback:i}}=o;if(i){const{videoElement:c}=vg.getInstance();return rwe(c,"video",o,n)}return null})(this[Rn])}getMaxRenderableVideos(){return(e=>{const{store:{getState:n}}=e,{meeting:{isUseWBVideo:o},media:{enforceMultipleVideos:i,disableRenderLimits:c}}=n();return Ns.getMaxCountRender(o,i,c)})(this[Rn])}startShareView(e,n,o){return(async(i,c,d,p)=>{const{store:{getState:v,dispatch:S},mediaAgent:T,rwgAgent:x}=i,P=v(),{share:{renderedEnsuredCanvas:B,isReceiveSharingFromMainSession:U,shareViewAttachments:j},media:{sharingDecodeStatus:W,alternativeNameForVideoPlayer:Z}}=P;await(async function(be,Ce,Ae,F){const{share:{isReceiveSharing:Ie,isRemoteSharingActive:tt,activeNodeId:Xe,isSimultaneousShareView:Ve,status:Re,annotationUsers:vt,isReceiveSharingFromMainSession:mt,ssrc:gt}}=Ae;if(Ve){if(!be)return Promise.reject({type:nr,reason:"",errorCode:lt.STREAM_MISMATCH_USER});if(mt){if(Ce!==Xe)return Promise.reject({type:nr,reason:"",errorCode:lt.STREAM_MISMATCH_USER})}else{const hn=uAe(H_(Ae),Ce);if(hn)return hn}if(Ie)return Promise.reject({type:dn,reason:"",errorCode:lt.SCREEN_SHARE_MISMATCH_STATE});const te=cAe(vt,gt,F);if(te)return te;await vc(iwe(Ae))}else{if(!be||Ce!==Xe)return Promise.reject({type:nr,reason:"",errorCode:lt.STREAM_MISMATCH_USER});if(!tt||Ie||Re!==Xr.End)return Promise.reject({type:dn,reason:"",errorCode:lt.SCREEN_SHARE_MISMATCH_STATE})}return""})(c,d,P,T),c.id||(c.id=q_("__ZOOM_SDK_SHARE_CANVAS_@__"));const re=!!p;var le,ie;if(le=j[`${d}`],ie=c.id,!(le!=null&&le.find((be=>be.isDummy&&be.canvasId===ie)))){const be=O3e(d,c.id,Z??"video-player");be.setAttribute("share-source",U?"main":""),S(oee({userId:d,element:be}))}return Gf("sharing","success",W).subscribe((([,be])=>{if(be){let Ce=c;B.includes(c.id)||(Ce=SQ(c),S(y3e(c.id))),S(cO(!0)),C3(x,v(),d),T.renderSharing(d,Ce,re,p,U),P3e(d,v(),T)}})),W==="failed"?Promise.reject({type:cf,reason:"",errorCode:lt.INTERNAL_ERROR}):yr(hQ,(be=>!!be),6e4)})(this[Rn],e,n,o)}stopShareView(){return(e=>{const{store:{dispatch:n,getState:o},rwgAgent:i,mediaAgent:c}=e,{share:{isReceiveSharing:d,activeNodeId:p,shareViewAttachments:v},breakoutRoom:S}=o();if(!d)return Promise.resolve("");let T=!1;(S==null?void 0:S.currentRoom.status)===ar.InRoom&&S.mainSessionAttendeeList.length>0&&(T=S.mainSessionAttendeeList.findIndex((U=>U.userId===p))>-1);const x=((P=v[`${p}`])==null?void 0:P.filter((U=>U.isDummy)))||[];var P;x&&x.length>0&&n(p6({userId:p,element:x})),c.stopRenderSharing(),i.unsubscribeSharing(p,T);const{share:{shareViewAttachments:B}}=o();return Object.entries(B).every((([,U])=>U.length===0))&&n(cO(!1)),Promise.resolve("")})(this[Rn])}switchShareView(e){return((n,o)=>{const{store:{getState:i,dispatch:c},rwgAgent:d,mediaAgent:p}=n,v=i(),{share:{isReceiveSharing:S,activeNodeId:T,isReceiveSharingFromMainSession:x},breakoutRoom:P}=v;if(!S)return Promise.reject({type:dn,errorCode:lt.SCREEN_SHARE_MISMATCH_STATE});if(!J2(v))return Promise.reject({type:dn,errorCode:lt.SCREEN_SHARE_MISMATCH_STATE,reason:"Cannot use `switchShareView` to switch when using `attachShareView`. Please use the sequence `detachShareView(oldUserId)` → `attachShareView(newUserId)` to perform the switch."});if(o===T)return Promise.resolve("");let B=[];if(B=x?P.mainSessionAttendeeList.filter((j=>j.bShareToBORooms&&j.sharerOn)):H_(v),!(B.findIndex((j=>j.userId===T))>-1))return Promise.reject({type:nr,reason:"no matching user id",errorCode:lt.STREAM_MISMATCH_USER});{var U;const j=(U=L_(o,v))!==null&&U!==void 0?U:o,W=obe(T,o,j,{state:v,rwgAgent:d,mediaAgent:p});Array.isArray(W)&&W.length>0&&W.forEach((Z=>c(Z))),c(b3({bStatus:1,activeNodeID:o,ssrc:j})),it(fQ,{userId:o})}return Promise.resolve("")})(this[Rn],e)}updateSharingCanvasDimension(e,n){return((o,i,c)=>{const{store:{getState:d},mediaAgent:p}=o,v=d(),{share:{isReceiveSharing:S,isGrabRemoteControl:T,remoteControlViewportDomSelector:x}}=v;if(S&&(p.updateRenderedSharingDimension(i,c),T&&x)){const P=document.querySelector(x);p.updateRemoteControlProperties({dimension:P&&yQ(P)})}return Promise.resolve("")})(this[Rn],e,n)}startShareScreen(e,n){return(async(o,i,c)=>{const{store:{getState:d,dispatch:p},mediaAgent:v}=o,S=d(),{meeting:{meetingOptions:T},share:{sharePrivilege:x,ssrc:P,capturedEnsuredCanvas:B},media:{sharingEncodeStatus:U},breakoutRoom:j}=S;await Dqe(i,S,c);const W=Iv(S);if(c!=null&&c.broadcastToBreakoutRoom){if(!W||(j==null?void 0:j.currentRoom.status)===ar.InRoom)return W?Promise.reject({type:dn,reason:"Unable to share screen to breakout room when in the room",errorCode:lt.SCREEN_SHARE_SUBSESSION_CONFLICT}):Promise.reject({type:Pp,errorCode:lt.SCREEN_SHARE_HOST_PRIVILEGE_REQUIRED});p(z5(!0))}else p(z5(!1));return(c==null?void 0:c.requestReadReceipt)!==void 0&&p(v3e(c==null?void 0:c.requestReadReceipt)),(c==null?void 0:c.optimizedForSharedVideo)!==void 0&&x!==U0.MultipleShare&&p(nee((c==null?void 0:c.optimizedForSharedVideo)&&Ns.isSupportVideoShareSend())),i.id||(i.id=q_("__ZOOM_SDK_SELF_SHARE_CANVAS_@__")),p(tbe(!(c==null||!c.simultaneousShareView))),Gf("sharing",U,"success").subscribe((([Z])=>{if(Z){B.includes(i.id)||(SQ(i),p(b3e(i.id)));let re=document.querySelector(`#${EEe}`);re&&re.tagName==="VIDEO"||(re=document.createElement("video"),re.id=EEe,re.style.display="none",document.body.appendChild(re));const le=c!=null&&c.secondaryCameraId?{cameraId:c.secondaryCameraId,width:c.captureWidth,height:c.captureHeight}:void 0,ie=!(c!=null&&c.hideShareAudioOption);v.startDesktopSharing(P,i,re,le,T!=null&&T.isDisableShareAudioIntoBo?ie&&!(c!=null&&c.broadcastToBreakoutRoom):ie,c==null?void 0:c.displaySurface,c==null?void 0:c.sourceId,c==null?void 0:c.controls),p(eee(void 0)),p(m3e(!!le))}})),new Promise(((Z,re)=>{Np(xa(Rp).pipe(En((le=>le.sharerOn!==void 0)),Qr(1)),xa(dMe,1).pipe(rn((le=>EO({reason:le.reason||"user deny screen share",errorCode:le.reason?lt.SCREEN_SHARE_SYSTEM_DENIED:lt.SCREEN_SHARE_USER_DENIED}))))).subscribe({next:le=>{if(le.sharerOn===!0){const{share:{isSharingToBreakoutRoom:ie},meeting:{meetingOptions:be}}=d(),Ce=!(be!=null&&be.isDisableShareAudioIntoBo||!ie);v.enableShareAudioToBreakoutRoom(Ce),Z("")}else re({type:cf,errorCode:lt.INTERNAL_ERROR})},error:le=>{re({type:dn,...le})}})}))})(this[Rn],e,n)}stopShareScreen(){return(e=>{const{store:{getState:n,dispatch:o},rwgAgent:i,mediaAgent:c}=e,{share:{status:d,isSimultaneousShareView:p},meeting:{userId:v}}=n();return d===Xr.End?Promise.resolve(""):(i.stopSharing(v),c.stopDesktopSharing(),o(Sg(Xr.End)),p&&o(tbe(!1)),yr(Rp,(S=>S.sharerOn===!1)))})(this[Rn])}pauseShareScreen(){return(e=>{const{store:{getState:n,dispatch:o},rwgAgent:i,mediaAgent:c}=e,d=n(),{share:{status:p},breakoutRoom:v}=d;if(p===Xr.Sharing){if(i.pauseSharing(),c.pauseDesktopSharing(),v&&Ag(d)){const S=gs(d);return Promise.resolve("").then((()=>{if(S){const{userId:T,sharerOn:x,bShareAudioOn:P,bVideoShare:B}=S,U={userId:T,sharerOn:x,sharerPause:!0,bShareAudioOn:P,bVideoShare:B};o(K3({update:[U]})),o(Sg(Xr.Paused)),it(Rp,U)}}))}return yr(Rp,(S=>S.sharerPause===!0)).then((()=>(o(Sg(Xr.Paused)),"")))}return Promise.reject({type:dn,errorCode:lt.SCREEN_SHARE_MISMATCH_STATE})})(this[Rn])}resumeShareScreen(){return(e=>{const{store:{getState:n,dispatch:o},rwgAgent:i,mediaAgent:c}=e,d=n(),{share:{status:p},breakoutRoom:v}=d;if(p===Xr.Paused){if(i.resumeSharing(),c.resumeDesktopSharing(),v&&Ag(d)){const S=gs(d);return Promise.resolve("").then((()=>{if(S){const{userId:T,sharerOn:x,bShareAudioOn:P,bVideoShare:B}=S,U={userId:T,sharerOn:x,sharerPause:!1,bShareAudioOn:P,bVideoShare:B};o(K3({update:[U]})),o(Sg(Xr.Sharing)),it(Rp,U)}}))}return yr(Rp,(S=>S.sharerOn===!0&&S.sharerPause===!1)).then((()=>(o(Sg(Xr.Sharing)),"")))}return Promise.reject({type:dn,errorCode:lt.SCREEN_SHARE_MISMATCH_STATE})})(this[Rn])}setSharePrivilege(e){return JAe(this[Rn],e)}lockShare(e){return((n,o)=>JAe(n,o?U0.OnlyHost:U0.HostGrab))(this[Rn],e)}shareToBreakoutRoom(){return(e=>{const{store:{getState:n,dispatch:o},rwgAgent:i,mediaAgent:c}=e,{meeting:{userId:d},breakoutRoom:p,share:{isSharingToBreakoutRoom:v,status:S}}=n();return S===Xr.End?Promise.reject({type:dn,reason:"Invalid sharing status",errorCode:lt.SCREEN_SHARE_MISMATCH_STATE}):v?Promise.resolve(""):p.currentRoom.status===ar.InRoom?Promise.reject({type:dn,reason:"Unable to share screen to breakout room when in the room",errorCode:lt.SCREEN_SHARE_SUBSESSION_CONFLICT}):(i.startShareToBreakoutRoom(d),o(z5(!0)),c.enableShareAudioToBreakoutRoom(!0),Promise.resolve(""))})(this[Rn])}stopShareToBreakoutRoom(){return(e=>{const{store:{getState:n,dispatch:o},rwgAgent:i,mediaAgent:c}=e,{meeting:{userId:d},share:{isSharingToBreakoutRoom:p}}=n();return p&&(i.stopShareToBreakoutRoom(d),o(z5(!1)),c.enableShareAudioToBreakoutRoom(!1)),Promise.resolve("")})(this[Rn])}muteOthersScreenShare(e){return((n,o)=>{const{store:{getState:i},rwgAgent:c}=n,d=i(),{meeting:{userId:p}}=d,v=H_(d);return o===p?Promise.reject({type:dn,reason:"Cannot mute self share, use 'stopScreenShare' instead",errorCode:lt.SCREEN_SHARE_MISMATCH_STATE}):v.findIndex((S=>S.userId===o))===-1?Promise.reject({type:nr,reason:"Target user is not sharing",errorCode:lt.STREAM_MISMATCH_USER}):(c.stopSharing(o),yr(kS,(S=>S.some((T=>T.userId===o&&T.sharerOn===!1)))))})(this[Rn],e)}enableOptimizeForSharedVideo(e){return((n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d,rwgAgent:p}=n,{share:{status:v,isOptimizedForSharedVideo:S,isSharingToBreakoutRoom:T,sharePrivilege:x},audio:{isSharingAudio:P},meeting:{userId:B}}=i();return v!==Xr.End?S===o?Promise.resolve(""):x!==U0.MultipleShare?o&&!Ns.isSupportVideoShareSend()?Promise.reject({type:dn,reason:"Cannot enable optimize for shared video due to the platform is not supported ",errorCode:lt.SCREEN_SHARE_OPTIMIZE_VIDEO_UNSUPPORTED}):(p.startSharing(B,{bShareAudio:P,bShareToBO:T,bShareVideo:o}),d.switchSharingMode(o?e6.VideoMode:e6.Normal),yr({event:Rp,operations:[En((U=>U.bVideoShare!==void 0)),Qr(1)]},(U=>U.bVideoShare===o)).then((()=>(c(nee(o)),"")))):Promise.reject({type:dn,reason:"Cannot enable optimize for shared video when enabling multiple screen shares",errorCode:lt.SCREEN_SHARE_OPTIMIZE_VIDEO_CONFLICT}):Promise.reject({type:dn,reason:"Cannot enable optimize for shared video when screen share is not started",errorCode:lt.SCREEN_SHARE_MISMATCH_STATE})})(this[Rn],e)}updateSharedVideoQuality(e){return((n,o)=>{const{store:{getState:i,dispatch:c},rwgAgent:d}=n,p=i(),{share:{shareQuality:v,activeNodeId:S,isReceiveSharing:T}}=p,x=FLe(p);return T&&S!==0?(x&&v!==o&&(C3(d,p,S,o),c(r1e(o))),Promise.resolve("")):Promise.reject({type:dn,reason:"Cannot update shared video quality when screen share is not started",errorCode:lt.SCREEN_SHARE_MISMATCH_STATE})})(this[Rn],e)}subscribeShareStatisticData(e){return(async(n,o)=>{const{mediaAgent:i,store:{getState:c}}=n,d=c(),{media:{sharingEncodeStatus:p,sharingDecodeStatus:v}}=c(),S=gs(d),T=!o||o.decode,x=!o||o.encode;if(!S)return Promise.reject({type:dn,reason:"Call this function after the 'join' method resolved.",errorCode:lt.STREAM_SESSION_JOIN_REQUIRED});{const P=hf(S.userRole)||!Yo.isSupportSendScreenSharing?"failed":p;Gf("sharing",P,v).subscribe((([B,U])=>{T&&U&&i.subscribeToQos([Op.SharingDecode],Fx),x&&B&&i.subscribeToQos([Op.SharingEncode],Fx)}))}return""})(this[Rn],e)}unsubscribeShareStatisticData(e){return(async(n,o)=>{const{mediaAgent:i,store:{dispatch:c}}=n,d=!o||o.decode,p=!o||o.encode;return d&&(i.unsubscribeFromQos([Op.SharingDecode]),c(K6(rO))),p&&(i.unsubscribeFromQos([Op.SharingEncode]),c(K6(rO))),null})(this[Rn],e)}screenshotSharedContent(e){return(async(n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,{share:{isReceiveSharing:p,activeNodeId:v,shareViewAttachments:S}}=i();if(!p)return Promise.reject({type:dn,reason:"Cannot take screenshot when screen share is not started",errorCode:lt.SCREEN_SHARE_MISMATCH_STATE});{let T=v;if(o){if(!Object.entries(S).some((([P,B])=>Number(P)===o&&B.length>0)))return Promise.reject({type:nr,reason:"User is not in the shared content rendering list",errorCode:lt.STREAM_MISMATCH_USER});T=o}const x=gs(i());try{const P=await d.screenshot(T,"sharing");return c(h3e({targetUser:T,userId:x==null?void 0:x.userId,displayName:x==null?void 0:x.displayName})),P}catch(P){return Promise.reject({type:cf,errorCode:lt.INTERNAL_ERROR,reason:P})}}})(this[Rn],e)}attachShareView(e,n){return(async(o,i,c)=>{const{store:{getState:d,dispatch:p},mediaAgent:v,rwgAgent:S}=o,T=d(),{media:{sharingDecodeStatus:x,alternativeNameForVideoPlayer:P}}=T,B=P??"video-player";let U;if(await(function(j,W,Z){const{share:{isSimultaneousShareView:re,annotationUsers:le,ssrc:ie,status:be,isReceiveSharing:Ce,remoteControlledUserList:Ae,isReceiveSharingFromMainSession:F,activeNodeId:Ie},meeting:{userId:tt},breakoutRoom:Xe}=W,Ve=[];if(F){var Re;const gt=gs(W);Ve.push(...(Re=Xe==null?void 0:Xe.mainSessionAttendeeList.filter((te=>!te.bid&&!te.bHold&&te.userGUID!==(gt==null?void 0:gt.userGUID))))!==null&&Re!==void 0?Re:[])}else{var vt,mt;Ve.push(...(vt=(mt=H_(W))===null||mt===void 0?void 0:mt.filter((gt=>gt.userId!==tt)))!==null&&vt!==void 0?vt:[])}if(j!==Ie){const gt=uAe(Ve,j);if(gt)return gt}if(re){const gt=cAe(le,ie,Z);if(gt)return gt}else if(be!==Xr.End)return Promise.reject({type:dn,reason:"Screen share is in progress",errorCode:lt.SCREEN_SHARE_MISMATCH_STATE});if(Ce){if(le.some((hn=>hn.isInitialized)))return Promise.reject({type:dn,reason:"Cannot attach multiple share views due to annotation is in progress",errorCode:lt.SCREEN_SHARE_MISMATCH_STATE});if(Ae.length>0)return Promise.reject({type:dn,reason:"Cannot attach multiple share views due to remote control is in progress",errorCode:lt.SCREEN_SHARE_MISMATCH_STATE});const gt=Jye(W),te=dAe();if(gt>=te)return Promise.reject({type:dn,reason:`Cannot attach multiple share views exceeding the maximum allowed limit(${te})`,errorCode:lt.SCREEN_SHARE_LIMIT_EXCEED})}return""})(i,T,v),c){const[j,W]=qY(c,B);if(!j)return Promise.reject(W);U=W}else U=document.createElement(B);return await vc(Gf("sharing","success",x).pipe(rn((async([,j])=>{if(j){await n6(iwe(d()));const Z=d(),{share:{isReceiveSharing:re,shareViewAttachments:le,isReceiveSharingFromMainSession:ie}}=Z,be=le[`${i}`];var W;U&&be&&be.findIndex((Ce=>Ce===U))!==-1?console.warn("Share view already attached"):(U.setAttribute("media-type","share"),U.setAttribute("share-source",ie?"main":""),U.setAttribute("node-id",`${i}`)),p(oee({userId:i,element:U})),C3(S,Z,i,void 0,re),re||(p(cO(!0)),p(b3({bStatus:1,activeNodeID:i,ssrc:(W=L_(i,Z))!==null&&W!==void 0?W:i})),N3e(i,{state:Z,rwgAgent:S,mediaAgent:v}))}})))),Promise.resolve(U)})(this[Rn],e,n)}detachShareView(e,n){return(async(o,i,c)=>{const{store:{getState:d,dispatch:p},rwgAgent:v,mediaAgent:S}=o,T=d(),{share:{shareViewAttachments:x},media:{alternativeNameForVideoPlayer:P}}=T;if(x[`${i}`]){var B;const W=L3e(i,{state:T,rwgAgent:v,mediaAgent:S});let Z;Array.isArray(W)&&W.length>0&&W.forEach((Ae=>p(Ae)));const re=P??"video-player";if(c){const[Ae,F]=qY(c,re);Z=Ae?F:void 0}let le;const ie=x[`${i}`];Z?ie.findIndex((Ae=>Ae===Z))!==-1?(le=Z,le.setAttribute("node-id","0"),p(p6({userId:i,element:le}))):console.warn(`${c} has not been attached with userID:${i}`):(le=[...ie.filter((Ae=>!Ae.isDummy))],le.forEach((Ae=>{Ae.setAttribute("node-id","0")})),p(p6({userId:i,element:le})));const{share:{shareViewAttachments:be},breakoutRoom:Ce}=d();if(((B=be[`${i}`])===null||B===void 0?void 0:B.length)===0){let Ae=!1;(Ce==null?void 0:Ce.currentRoom.status)===ar.InRoom&&Ce.mainSessionAttendeeList.length>0&&(Ae=Ce.mainSessionAttendeeList.findIndex((Xe=>Xe.userId===i))>-1);const F=Object.entries(be).filter((([,Xe])=>Xe.length!=0)).length,Ie=[0,1].includes(F),tt=F===0;if(v.unsubscribeSharing(i,Ae,!Ie),tt&&p(cO(!1)),F===1){var U;const Xe=(U=Object.entries(be).find((([,Ve])=>Ve.length!==0)))===null||U===void 0?void 0:U[0];if(Xe){var j;const Ve=Number(Xe);p(b3({bStatus:1,activeNodeID:Ve,ssrc:(j=L_(Ve,T))!==null&&j!==void 0?j:Ve}))}}}return Promise.resolve(le)}return Promise.resolve(void 0)})(this[Rn],e,n)}startAnnotation(){return(async e=>{const{store:{getState:n,dispatch:o},mediaAgent:i}=e,c=n(),{share:{ssrc:d,activeSsrc:p,isReceiveSharing:v,status:S,annotationVanishingToolTimer:T}}=c,x=S!==Xr.End,P=await(async function(j){const{share:{ssrc:W,activeSsrc:Z,annotationCapability:re,isReceiveSharing:le,status:ie,isReceiveSharingFromMainSession:be,annotationUsers:Ce}}=j,Ae=ie!==Xr.End;if(!Ae&&!le)return Promise.reject({type:dn,reason:"No active share session",errorCode:lt.SCREEN_SHARE_ANNOTATION_NO_ACTIVE_SHARE});if(re===0||Ae&&re===1)return Promise.reject({type:dn,reason:"Annotation is not enabled for your account.",errorCode:lt.SCREEN_SHARE_ANNOTATION_ACCOUNT_DISABLE});const F=Ce.find((Ie=>Ie.ssrc===(le?Z:W)));if(le){if(be)return Promise.reject({type:dn,reason:"You cannot annotation on share to subsession content.",errorCode:lt.SCREEN_SHARE_ANNOTATION_NOT_SUPPORT});if(F!=null&&F.isDisabled)return Promise.reject({type:dn,reason:"Annotation is disabled for the current share session by sharer.",errorCode:lt.SCREEN_SHARE_ANNOTATION_PRESENTER_DISABLED});if(F!=null&&F.isStarted)return Promise.reject({type:dn,reason:"Annotation is already started",errorCode:lt.SCREEN_SHARE_ANNOTATION_DUPLICATE_START})}else if(Ae&&F!=null&&F.isStarted)return Promise.reject({type:dn,reason:"Annotation is already started",errorCode:lt.SCREEN_SHARE_ANNOTATION_DUPLICATE_START});return F})(c),B=gs(c);setTimeout((()=>{v?(i.startViewerAnnotation(d,p,(B==null?void 0:B.displayName)||""),i.annotateAction(xp.UPDATE_VANISHING_TOOL_TIME,{displayTime:2e3,outTime:2e3})):x&&(i.startPresenterAnnotation(d,d,(B==null?void 0:B.displayName)||""),i.annotateAction(xp.UPDATE_VANISHING_TOOL_TIME,{displayTime:T.displayTime,outTime:T.vanishingTime}))}),0);const U=v?p:d;return P!=null&&P.isInitialized?(o(_S({ssrc:U,isStarted:!0})),Promise.resolve("")):(o(_S({ssrc:U,isInitialized:!0,isStarted:!0})),yr(kge,(j=>(j&&o(_S({ssrc:U,isInitialized:!1,isStarted:!1})),!j))))})(this[Rn])}stopAnnotation(){return(e=>{const{store:{getState:n,dispatch:o},mediaAgent:i}=e,{share:{isReceiveSharing:c,activeSsrc:d,ssrc:p,annotationUsers:v}}=n(),S=c?d:p,T=v.find((P=>P.ssrc===S));if(T==null||!T.isInitialized||!T.isStarted)return Promise.reject({type:dn,reason:"Annotation is not started.",errorCode:lt.SCREEN_SHARE_ANNOTATION_NOT_START});o(_S({ssrc:T.ssrc,isStarted:!1}));const x={toolType:dE.None};return i.annotateAction(xp.SELECT_TOOL,x),o(S3(dE.None)),i.annotateAction(xp.CLOSE_TOOL_BAR),Promise.resolve("")})(this[Rn])}changeAnnotationPrivilege(e){return((n,o)=>{const{store:{getState:i},rwgAgent:c}=n,{meeting:{userId:d}}=i();return c.toggleShareAnnotation(o,d),yr(Eye,(p=>!!p))})(this[Rn],e)}showAnnotatorName(e){return((n,o)=>{const{store:{getState:i},mediaAgent:c}=n,{share:{status:d}}=i();return d!==Xr.End?(c.annotateAction(xp.SHOW_ANNOTATOR_NAME,{toShow:o}),Promise.resolve("")):Promise.reject({type:dn,reason:"Only the share presenter can control the name display during a session session.",errorCode:lt.SCREEN_SHARE_ANNOTATION_INCORRECT_PARAMETER})})(this[Rn],e)}canDoAnnotation(){return(e=>{var n;const{store:{getState:o}}=e,{share:{isReceiveSharing:i,activeNodeId:c,status:d,annotationCapability:p,isReceiveSharingFromMainSession:v,isSimultaneousShareView:S,annotationUsers:T},meeting:{userId:x}}=o(),P=d!==Xr.End;if(!P&&!i||p===0||P&&p===1)return!1;const B=i?c:x,U=(n=L_(B,o()))!==null&&n!==void 0?n:B,j=T.find((Z=>{var re;return Z.ssrc===U||qf(U,(re=Z.userId)!==null&&re!==void 0?re:0)})),W=j==null?void 0:j.isDisabled;return!(i&&(v||W)||S||HLe(o()))})(this[Rn])}getAnnotationController(){return(e=>({setToolType:n=>((o,i)=>{const{store:{getState:c,dispatch:d},mediaAgent:p}=o,{share:{annotationToolColor:v,annotationSpotlightColor:S,annotationToolWidth:T,status:x}}=c();if(!Object.values(dE).includes(i))return Promise.reject({type:dn,reason:`toolType = ${i} is invalid`,errorCode:lt.SCREEN_SHARE_ANNOTATION_INCORRECT_PARAMETER});const P=x!==Xr.End,B=i===dE.Spotlight;if(B&&!P)return Promise.reject({type:dn,reason:"Only the share presenter can spotlight",errorCode:lt.SCREEN_SHARE_ANNOTATION_INCORRECT_PARAMETER});const U={toolType:i,color:B?S:v,width:T};return p.annotateAction(xp.SELECT_TOOL,U),d(S3(i)),Promise.resolve("")})(e,n),setToolWidth:n=>((o,i)=>{const{store:{getState:c,dispatch:d},mediaAgent:p}=o,{share:{annotationToolType:v,annotationToolColor:S}}=c(),T=Math.ceil(i),x={toolType:v,color:S,width:T};return p.annotateAction(xp.SELECT_TOOL,x),d(A3e(T)),Promise.resolve("")})(e,n),setToolColor:n=>((o,i)=>{const{store:{getState:c,dispatch:d},mediaAgent:p}=o,{share:{annotationToolType:v,annotationToolWidth:S}}=c(),T={toolType:v,color:i,width:S};return p.annotateAction(xp.SELECT_TOOL,T),d(v===dE.Spotlight?_3e(i):w3e(i)),Promise.resolve("")})(e,n),getToolWidth:()=>(n=>{const{store:{getState:o}}=n,{share:{annotationToolWidth:i}}=o();return i})(e),getToolColor:()=>(n=>{const{store:{getState:o}}=n,{share:{annotationToolType:i,annotationToolColor:c,annotationSpotlightColor:d}}=o();return i===dE.Spotlight?d:c})(e),getToolType:()=>(n=>{const{store:{getState:o}}=n,{share:{annotationToolType:i}}=o();return i})(e),undo:()=>(n=>{const{mediaAgent:o}=n;return o.annotateAction(xp.UNDO),Promise.resolve("")})(e),redo:()=>(n=>{const{mediaAgent:o}=n;return o.annotateAction(xp.REDO),Promise.resolve("")})(e),clear:n=>((o,i)=>{const{store:{getState:c},mediaAgent:d}=o,{share:{status:p,isReceiveSharing:v},meeting:{isHost:S}}=c();if(!Object.values(cpe).includes(i))return Promise.reject({type:dn,reason:`clearType = ${i} is invalid`,errorCode:lt.SCREEN_SHARE_ANNOTATION_INCORRECT_PARAMETER});const T=p!==Xr.End;if(i===cpe.All&&v&&!S)return Promise.reject({type:dn,reason:"As a viewer, you cannot clear all annotation",errorCode:lt.SCREEN_SHARE_ANNOTATION_INCORRECT_PARAMETER});if(i===cpe.Viewer&&!T)return Promise.reject({type:dn,reason:"You must be the presenter to clear the annotation from the viewer",errorCode:lt.SCREEN_SHARE_ANNOTATION_INCORRECT_PARAMETER});const x={clearType:i,isHost:S};return d.annotateAction(xp.CLEAR,x),Promise.resolve("")})(e,n),setVanishingToolTimer:n=>((o,i)=>{const{store:{getState:c,dispatch:d},mediaAgent:p}=o,{share:{annotationVanishingToolTimer:v}}=c(),{displayTime:S,vanishingTime:T}=i;if(S&&(S<0||S>15e3))return Promise.reject({type:dn,reason:"Vanishing tool display time should be within range of [0, 15] seconds",errorCode:lt.SCREEN_SHARE_ANNOTATION_INCORRECT_PARAMETER});if(T&&(T<1e3||T>15e3))return Promise.reject({type:dn,reason:"Vanishing tool vanishing time should be within range of [1, 15] seconds",errorCode:lt.SCREEN_SHARE_ANNOTATION_INCORRECT_PARAMETER});const x={displayTime:S??v.displayTime,outTime:T??v.vanishingTime};return p.annotateAction(xp.UPDATE_VANISHING_TOOL_TIME,x),d(T3e({displayTime:x.displayTime,vanishingTime:x.outTime})),Promise.resolve("")})(e,n),getVanishingToolTimer:()=>(n=>{const{store:{getState:o}}=n,{share:{annotationVanishingToolTimer:i}}=o();return i})(e)}))(this[Rn])}getShareUserList(){return(e=>{const{store:{getState:n}}=e,o=n();if(!o.share)return[];const{share:{isReceiveSharingFromMainSession:i}}=o;if(i){const{breakoutRoom:{mainSessionAttendeeList:c}}=o;return c.filter((d=>d.bShareToBORooms&&(d.sharerOn||d.sharerPause))).map((d=>Ik(d)))}return H_(o).map((c=>Ik(c)))})(this[Rn])}getActiveShareUserId(){return(e=>{const{store:{getState:n}}=e,o=n();return o.share&&o.share.isRemoteSharingActive?o.share.activeNodeId:0})(this[Rn])}isReceiveSharing(){return(e=>{const{store:{getState:n}}=e,o=n();return!!o.share&&o.share.isReceiveSharing})(this[Rn])}getShareViewDimension(){return(e=>{const{store:{getState:n}}=e,o=n();if(o.share){if(o.share.status!==Xr.End)return{...o.share.shareDimension};{const{share:{receivedShareDimension:i}}=o;return{width:i.width,height:i.height}}}return null})(this[Rn])}getShareStatus(){return(e=>{const{store:{getState:n}}=e,o=n();return o.share?o.share.status:null})(this[Rn])}isShareLocked(){return(e=>{const{store:{getState:n}}=e,o=n();return!!o.share&&o.share.sharePrivilege===U0.OnlyHost})(this[Rn])}isReceiveSharingFromMainSession(){return(e=>{const{store:{getState:n}}=e,o=n();return!!o.share&&o.share.isReceiveSharingFromMainSession})(this[Rn])}getSharePrivilege(){return(e=>{const{store:{getState:n}}=e,o=n();return o.share?o.share.sharePrivilege:null})(this[Rn])}isStartShareScreenWithVideoElement(){return Yo.isSupportMediaStreamTrackProcessor}isOptimizeForSharedVideoEnabled(){return(e=>{const{store:{getState:n}}=e,o=n();return!!o.share&&!!o.share.isOptimizedForSharedVideo})(this[Rn])}isSupportOptimizedForSharedVideo(){return Ns.isSupportVideoShareSend()}isSupportVideoProcessor(){return eme(this[Rn],"video")}isSupportAudioProcessor(){return eme(this[Rn],"audio")}isSupportShareProcessor(){return eme(this[Rn],"share")}getShareStatisticData(){return(({store:{getState:e}})=>{const{share:{statistic:n}}=e();return{...n}})(this[Rn])}getMaxRenderableShareViews(){return dAe()}requestRemoteControl(){return(e=>{const{store:{getState:n},rwgAgent:o}=e,{share:{isReceiveSharing:i,activeNodeId:c,isRemoteControlEnabled:d}}=n();return d?QAe(e,c)?i?U2(n())?Promise.reject({type:dn,reason:"Already get the approval",errorCode:lt.REMOTE_CONTROL_MISMATCH_STATE}):(o.sharingRequestRemoteControl(c,!0),new Promise((p=>{xa(pQ,1).subscribe((v=>{p(v)}))}))):Promise.reject({type:dn,reason:"Cannot request control due to no sharing available",errorCode:lt.REMOTE_CONTROL_MISMATCH_STATE}):Promise.reject({type:nr,errorCode:lt.REMOTE_CONTROL_MISMATCH_STATE}):Promise.reject({type:dn,reason:"Cannot request control due to the feature is not enabled.",errorCode:lt.REMOTE_CONTROL_ACCOUNT_DISABLE})})(this[Rn])}giveUpRemoteControl(){return(e=>{const{store:{getState:n},rwgAgent:o}=e,{share:{isGrabRemoteControl:i,activeNodeId:c}}=n();return U2(n())?(i&&o.subscribeGrabRemoteControl(c,!1),o.sharingRequestRemoteControl(c,!1),yr(pQ,(d=>d===!1))):Promise.reject({type:dn,errorCode:lt.REMOTE_CONTROL_MISMATCH_STATE})})(this[Rn])}startRemoteControl(e){return(async(n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d,rwgAgent:p}=n,{share:{isSDKGrabControl:v,activeNodeId:S}}=i();if(!U2(i()))return Promise.reject({type:dn,reason:"required to be approved",errorCode:lt.REMOTE_CONTROL_PERMISSION_REQUIRED});if(await D3e(S,o,i(),p,d),o.dataset.zmrvId||o.setAttribute("data-zmrv-id",q_("__ZOOM_SDK_RC_VIEWPORT_DATA_ID_@__")),c(a1e(`${o.tagName}[data-zmrv-id="${o.dataset.zmrvId}"]`)),v){const{share:{isGrabRemoteControl:T}}=i();return T?Promise.resolve(""):yr(Ek,(x=>!!x))}return kx({success:bMe,fail:[yMe]})})(this[Rn],e)}grabRemoteControl(){return(e=>{const{store:{getState:n},rwgAgent:o}=e,{share:{isGrabRemoteControl:i,activeNodeId:c}}=n();return U2(n())?i?Promise.resolve(""):(o.subscribeGrabRemoteControl(c,!0),yr(Ek,(d=>!!d))):Promise.reject({type:dn,reason:"should be approved before grab",errorCode:lt.REMOTE_CONTROL_PERMISSION_REQUIRED})})(this[Rn])}updateRemoteControlViewportDimension(e){return((n,o)=>{const{store:{getState:i},mediaAgent:c}=n;return U2(i())&&c.updateRemoteControlProperties({dimension:{scaleWidth:o.width,scaleHeight:o.height,srcOffsetX:o.left,srcOffsetY:o.top}}),Promise.resolve("")})(this[Rn],e)}approveRemoteControl(e,n){return((o,i,c)=>{const{store:{getState:d,dispatch:p},rwgAgent:v,mediaAgent:S}=o,T=d(),{share:{status:x,isEnableAutoDeleteRcApp:P,remoteControllingSsrc:B},meeting:{userId:U}}=T;if(x===Xr.End)return Promise.reject({type:dn,reason:"Cannot approve remote control when sharing is not ongoing.",errorCode:lt.REMOTE_CONTROL_MISMATCH_STATE});if(x===Xr.Paused&&(v.resumeSharing(),S.resumeDesktopSharing(),p(Sg(Xr.Sharing))),S.isSharingEntireScreen()){var j,W;B&&!qf(B,i)&&(see(T,v),p(gE("")));const Z=(j=L_(i,T))!==null&&j!==void 0?j:i,{isMacOS:re}=Yo,le=(W=Ba(T).find((ie=>qf(ie.userId,Z))))===null||W===void 0?void 0:W.displayName;return v.remoteControlConsent(JJ.Approve,Z,U,{...S.getShareStreamInfo(),platform:Yo.isMacOS?"mac":"win",controllerName:le?Su(le):""},P,re?void 0:c?1:0),p(y3(Z)),yr(wMe)}return Promise.reject({type:dn,reason:"Cannot approve remote control when not sharing entire screen.",errorCode:lt.REMOTE_CONTROL_MISMATCH_DISPLAY_SURFACE})})(this[Rn],e,n)}declineRemoteControl(e){return((n,o)=>{var i;const{store:{getState:c},rwgAgent:d,mediaAgent:p}=n,v=c(),{meeting:{userId:S},share:{isEnableAutoDeleteRcApp:T}}=v,x=(i=L_(o,v))!==null&&i!==void 0?i:o;return d.remoteControlConsent(JJ.Decline,x,S,{...p.getShareStreamInfo(),platform:Yo.isMacOS?"mac":"win"},T),Promise.resolve("")})(this[Rn],e)}stopRemoteControl(){return(e=>{const{store:{getState:n,dispatch:o},rwgAgent:i}=e;return see(n(),i),o(gE("")),o(y3(0)),Promise.resolve("")})(this[Rn])}launchRemoteControlApp(e){return((n,o)=>{const{store:{getState:i,dispatch:c}}=n,d=i(),{share:{remoteControlAppLaunchSheme:p}}=d;return p?(c(gE(o?`${p}&bAutoDelete=1`:p)),c(Q2(Ip.Unknown)),Promise.resolve("")):Promise.reject({type:dn,reason:"Cannot launch app due to no permission",errorCode:lt.REMOTE_CONTROL_INVALID_LAUNCH_SCHEME})})(this[Rn],e)}isRemoteControlEnabled(){return(e=>{var n;const{store:{getState:o}}=e;return!((n=o().share)===null||n===void 0||!n.isRemoteControlEnabled)})(this[Rn])}getRemoteControlAppDownloadUrl(){return(e=>{const{store:{getState:n}}=e,o=n();return o.share?o.share.remoteControlAppDownloadUrl:null})(this[Rn])}isTargetShareSupportRemoteControl(e){return QAe(this[Rn],e)}isRemotelyControlApproved(){return(e=>{const{store:{getState:n}}=e,o=n();return!!o.share&&U2(o)})(this[Rn])}isControllingUserRemotely(){return(e=>{const{store:{getState:n}}=e,o=n();return!!o.share&&o.share.isGrabRemoteControl})(this[Rn])}getRemotelyControllingUser(){return(e=>{const{store:{getState:n}}=e,o=n();if(o.share){const{remoteControllingSsrc:i}=o.share;if(i)return Ba(o).find((c=>qf(c.userId,i)))}return null})(this[Rn])}getShareStreamSettings(){return(({store:{getState:e},mediaAgent:n})=>{const{share:{status:o}}=e();return o!==Xr.End?n.getShareStreamInfo(!0):null})(this[Rn])}},zn(wt.prototype,"startAudio",[Gn,eTe,Ab],Object.getOwnPropertyDescriptor(wt.prototype,"startAudio"),wt.prototype),zn(wt.prototype,"stopAudio",[Gn,tTe,Ab],Object.getOwnPropertyDescriptor(wt.prototype,"stopAudio"),wt.prototype),zn(wt.prototype,"muteAudio",[Gn,nTe,Ab],Object.getOwnPropertyDescriptor(wt.prototype,"muteAudio"),wt.prototype),zn(wt.prototype,"unmuteAudio",[Gn,oTe,Ab],Object.getOwnPropertyDescriptor(wt.prototype,"unmuteAudio"),wt.prototype),zn(wt.prototype,"dialOut",[Gn,sTe,rTe],Object.getOwnPropertyDescriptor(wt.prototype,"dialOut"),wt.prototype),zn(wt.prototype,"cancelDialOut",[Gn,iTe,aTe],Object.getOwnPropertyDescriptor(wt.prototype,"cancelDialOut"),wt.prototype),zn(wt.prototype,"hangup",[Gn,lTe,Ab],Object.getOwnPropertyDescriptor(wt.prototype,"hangup"),wt.prototype),zn(wt.prototype,"switchMicrophone",[Gn,cTe,Ab],Object.getOwnPropertyDescriptor(wt.prototype,"switchMicrophone"),wt.prototype),zn(wt.prototype,"switchSpeaker",[Gn,uTe,Ab],Object.getOwnPropertyDescriptor(wt.prototype,"switchSpeaker"),wt.prototype),zn(wt.prototype,"muteShareAudio",[Gn,dTe,hTe,Ab],Object.getOwnPropertyDescriptor(wt.prototype,"muteShareAudio"),wt.prototype),zn(wt.prototype,"unmuteShareAudio",[Gn,fTe,pTe,Ab],Object.getOwnPropertyDescriptor(wt.prototype,"unmuteShareAudio"),wt.prototype),zn(wt.prototype,"subscribeAudioStatisticData",[Gn,mTe,Ab],Object.getOwnPropertyDescriptor(wt.prototype,"subscribeAudioStatisticData"),wt.prototype),zn(wt.prototype,"unsubscribeAudioStatisticData",[Gn,gTe,Ab],Object.getOwnPropertyDescriptor(wt.prototype,"unsubscribeAudioStatisticData"),wt.prototype),zn(wt.prototype,"enableBackgroundNoiseSuppression",[Gn,vTe,Ab],Object.getOwnPropertyDescriptor(wt.prototype,"enableBackgroundNoiseSuppression"),wt.prototype),zn(wt.prototype,"enableSyncButtonsOnHeadset",[Gn,bTe,Ab],Object.getOwnPropertyDescriptor(wt.prototype,"enableSyncButtonsOnHeadset"),wt.prototype),zn(wt.prototype,"enableOriginalSound",[Gn,yTe,Ab],Object.getOwnPropertyDescriptor(wt.prototype,"enableOriginalSound"),wt.prototype),zn(wt.prototype,"callCRCDevice",[Gn,STe,CTe],Object.getOwnPropertyDescriptor(wt.prototype,"callCRCDevice"),wt.prototype),zn(wt.prototype,"cancelCallCRCDevice",[Gn,ETe,wTe],Object.getOwnPropertyDescriptor(wt.prototype,"cancelCallCRCDevice"),wt.prototype),zn(wt.prototype,"muteAllAudio",[yu,Gn,_Te],Object.getOwnPropertyDescriptor(wt.prototype,"muteAllAudio"),wt.prototype),zn(wt.prototype,"unmuteAllAudio",[yu,Gn,ATe],Object.getOwnPropertyDescriptor(wt.prototype,"unmuteAllAudio"),wt.prototype),zn(wt.prototype,"muteAudioUponEntry",[yu,Gn,TTe],Object.getOwnPropertyDescriptor(wt.prototype,"muteAudioUponEntry"),wt.prototype),zn(wt.prototype,"allowUnmuteAudioThemselves",[yu,Gn,xTe],Object.getOwnPropertyDescriptor(wt.prototype,"allowUnmuteAudioThemselves"),wt.prototype),zn(wt.prototype,"startVideo",[Gn,OTe,_d],Object.getOwnPropertyDescriptor(wt.prototype,"startVideo"),wt.prototype),zn(wt.prototype,"stopVideo",[Gn,ITe,_d],Object.getOwnPropertyDescriptor(wt.prototype,"stopVideo"),wt.prototype),zn(wt.prototype,"switchCamera",[Gn,RTe,_d],Object.getOwnPropertyDescriptor(wt.prototype,"switchCamera"),wt.prototype),zn(wt.prototype,"createProcessor",[Gn,kTe,_d],Object.getOwnPropertyDescriptor(wt.prototype,"createProcessor"),wt.prototype),zn(wt.prototype,"addProcessor",[Gn,DTe,$xe],Object.getOwnPropertyDescriptor(wt.prototype,"addProcessor"),wt.prototype),zn(wt.prototype,"removeProcessor",[Gn,MTe,$xe],Object.getOwnPropertyDescriptor(wt.prototype,"removeProcessor"),wt.prototype),zn(wt.prototype,"renderVideo",[nKe,Gn,PTe,_d],Object.getOwnPropertyDescriptor(wt.prototype,"renderVideo"),wt.prototype),zn(wt.prototype,"stopRenderVideo",[jxe,Gn,NTe,_d],Object.getOwnPropertyDescriptor(wt.prototype,"stopRenderVideo"),wt.prototype),zn(wt.prototype,"updateVideoCanvasDimension",[zxe,Gn,LTe,_d],Object.getOwnPropertyDescriptor(wt.prototype,"updateVideoCanvasDimension"),wt.prototype),zn(wt.prototype,"adjustRenderedVideoPosition",[jxe,Gn,BTe,_d],Object.getOwnPropertyDescriptor(wt.prototype,"adjustRenderedVideoPosition"),wt.prototype),zn(wt.prototype,"clearVideoCanvas",[zxe,Gn,VTe,_d],Object.getOwnPropertyDescriptor(wt.prototype,"clearVideoCanvas"),wt.prototype),zn(wt.prototype,"mirrorVideo",[Gn,FTe,_d],Object.getOwnPropertyDescriptor(wt.prototype,"mirrorVideo"),wt.prototype),zn(wt.prototype,"enableHardwareAcceleration",[Gn,HTe,_d],Object.getOwnPropertyDescriptor(wt.prototype,"enableHardwareAcceleration"),wt.prototype),zn(wt.prototype,"subscribeVideoStatisticData",[Gn,$Te,_d],Object.getOwnPropertyDescriptor(wt.prototype,"subscribeVideoStatisticData"),wt.prototype),zn(wt.prototype,"unsubscribeVideoStatisticData",[Gn,UTe,_d],Object.getOwnPropertyDescriptor(wt.prototype,"unsubscribeVideoStatisticData"),wt.prototype),zn(wt.prototype,"previewVirtualBackground",[Gn,zTe,jTe],Object.getOwnPropertyDescriptor(wt.prototype,"previewVirtualBackground"),wt.prototype),zn(wt.prototype,"updateVirtualBackgroundImage",[Gn,WTe,GTe],Object.getOwnPropertyDescriptor(wt.prototype,"updateVirtualBackgroundImage"),wt.prototype),zn(wt.prototype,"stopPreviewVirtualBackground",[Gn,qTe,_d],Object.getOwnPropertyDescriptor(wt.prototype,"stopPreviewVirtualBackground"),wt.prototype),zn(wt.prototype,"previewVideoMask",[Uxe,Gn,ZTe,_d],Object.getOwnPropertyDescriptor(wt.prototype,"previewVideoMask"),wt.prototype),zn(wt.prototype,"updateVideoMask",[Gn,KTe,_d],Object.getOwnPropertyDescriptor(wt.prototype,"updateVideoMask"),wt.prototype),zn(wt.prototype,"stopPreviewVideoMask",[Gn,YTe,_d],Object.getOwnPropertyDescriptor(wt.prototype,"stopPreviewVideoMask"),wt.prototype),zn(wt.prototype,"requestFarEndCameraControl",[Gn,XTe,kL],Object.getOwnPropertyDescriptor(wt.prototype,"requestFarEndCameraControl"),wt.prototype),zn(wt.prototype,"approveFarEndCameraControl",[Gn,JTe,kL],Object.getOwnPropertyDescriptor(wt.prototype,"approveFarEndCameraControl"),wt.prototype),zn(wt.prototype,"declineFarEndCameraControl",[Gn,QTe,kL],Object.getOwnPropertyDescriptor(wt.prototype,"declineFarEndCameraControl"),wt.prototype),zn(wt.prototype,"giveUpFarEndCameraControl",[Gn,exe,kL],Object.getOwnPropertyDescriptor(wt.prototype,"giveUpFarEndCameraControl"),wt.prototype),zn(wt.prototype,"controlCamera",[Gn,txe,kL],Object.getOwnPropertyDescriptor(wt.prototype,"controlCamera"),wt.prototype),zn(wt.prototype,"controlFarEndCamera",[Gn,nxe,kL],Object.getOwnPropertyDescriptor(wt.prototype,"controlFarEndCamera"),wt.prototype),zn(wt.prototype,"attachVideo",[Gn,oxe,_d],Object.getOwnPropertyDescriptor(wt.prototype,"attachVideo"),wt.prototype),zn(wt.prototype,"detachVideo",[Gn,sxe,_d],Object.getOwnPropertyDescriptor(wt.prototype,"detachVideo"),wt.prototype),zn(wt.prototype,"spotlight",[yu,Gn,rxe,_d],Object.getOwnPropertyDescriptor(wt.prototype,"spotlight"),wt.prototype),zn(wt.prototype,"removeSpotlight",[Gn,ixe,_d],Object.getOwnPropertyDescriptor(wt.prototype,"removeSpotlight"),wt.prototype),zn(wt.prototype,"removeAllSpotlights",[xd,Gn,axe,_d],Object.getOwnPropertyDescriptor(wt.prototype,"removeAllSpotlights"),wt.prototype),zn(wt.prototype,"screenshotVideo",[Gn,lxe,_d],Object.getOwnPropertyDescriptor(wt.prototype,"screenshotVideo"),wt.prototype),zn(wt.prototype,"startShareView",[Uxe,Gn,cxe,Ad],Object.getOwnPropertyDescriptor(wt.prototype,"startShareView"),wt.prototype),zn(wt.prototype,"stopShareView",[Gn,uxe,Ad],Object.getOwnPropertyDescriptor(wt.prototype,"stopShareView"),wt.prototype),zn(wt.prototype,"switchShareView",[Gn,dxe,Ad],Object.getOwnPropertyDescriptor(wt.prototype,"switchShareView"),wt.prototype),zn(wt.prototype,"updateSharingCanvasDimension",[Gn,hxe,Ad],Object.getOwnPropertyDescriptor(wt.prototype,"updateSharingCanvasDimension"),wt.prototype),zn(wt.prototype,"startShareScreen",[Gn,fxe,Ad],Object.getOwnPropertyDescriptor(wt.prototype,"startShareScreen"),wt.prototype),zn(wt.prototype,"stopShareScreen",[Gn,pxe,Ad],Object.getOwnPropertyDescriptor(wt.prototype,"stopShareScreen"),wt.prototype),zn(wt.prototype,"pauseShareScreen",[Gn,mxe,Ad],Object.getOwnPropertyDescriptor(wt.prototype,"pauseShareScreen"),wt.prototype),zn(wt.prototype,"resumeShareScreen",[Gn,gxe,Ad],Object.getOwnPropertyDescriptor(wt.prototype,"resumeShareScreen"),wt.prototype),zn(wt.prototype,"setSharePrivilege",[yu,vxe,Gn,Ad],Object.getOwnPropertyDescriptor(wt.prototype,"setSharePrivilege"),wt.prototype),zn(wt.prototype,"lockShare",[yu,bxe,Gn,Ad],Object.getOwnPropertyDescriptor(wt.prototype,"lockShare"),wt.prototype),zn(wt.prototype,"shareToBreakoutRoom",[Gn,yu,yxe,Ad],Object.getOwnPropertyDescriptor(wt.prototype,"shareToBreakoutRoom"),wt.prototype),zn(wt.prototype,"stopShareToBreakoutRoom",[Gn,yu,Sxe,Ad],Object.getOwnPropertyDescriptor(wt.prototype,"stopShareToBreakoutRoom"),wt.prototype),zn(wt.prototype,"muteOthersScreenShare",[Gn,yu,Cxe,Ad],Object.getOwnPropertyDescriptor(wt.prototype,"muteOthersScreenShare"),wt.prototype),zn(wt.prototype,"enableOptimizeForSharedVideo",[Gn,Exe,Ad],Object.getOwnPropertyDescriptor(wt.prototype,"enableOptimizeForSharedVideo"),wt.prototype),zn(wt.prototype,"updateSharedVideoQuality",[Gn,wxe,Ad],Object.getOwnPropertyDescriptor(wt.prototype,"updateSharedVideoQuality"),wt.prototype),zn(wt.prototype,"subscribeShareStatisticData",[Gn,_xe,Ad],Object.getOwnPropertyDescriptor(wt.prototype,"subscribeShareStatisticData"),wt.prototype),zn(wt.prototype,"unsubscribeShareStatisticData",[Gn,Axe,Ad],Object.getOwnPropertyDescriptor(wt.prototype,"unsubscribeShareStatisticData"),wt.prototype),zn(wt.prototype,"screenshotSharedContent",[Gn,Txe,Ad],Object.getOwnPropertyDescriptor(wt.prototype,"screenshotSharedContent"),wt.prototype),zn(wt.prototype,"attachShareView",[Gn,xxe,Ad],Object.getOwnPropertyDescriptor(wt.prototype,"attachShareView"),wt.prototype),zn(wt.prototype,"detachShareView",[Gn,Oxe,Ad],Object.getOwnPropertyDescriptor(wt.prototype,"detachShareView"),wt.prototype),zn(wt.prototype,"startAnnotation",[Gn,Ixe,Ad,oKe],Object.getOwnPropertyDescriptor(wt.prototype,"startAnnotation"),wt.prototype),zn(wt.prototype,"stopAnnotation",[Gn,Rxe,Ad],Object.getOwnPropertyDescriptor(wt.prototype,"stopAnnotation"),wt.prototype),zn(wt.prototype,"changeAnnotationPrivilege",[Gn,kxe,Ad],Object.getOwnPropertyDescriptor(wt.prototype,"changeAnnotationPrivilege"),wt.prototype),zn(wt.prototype,"requestRemoteControl",[Gn,Dxe,O_,sKe],Object.getOwnPropertyDescriptor(wt.prototype,"requestRemoteControl"),wt.prototype),zn(wt.prototype,"giveUpRemoteControl",[Gn,Mxe,O_],Object.getOwnPropertyDescriptor(wt.prototype,"giveUpRemoteControl"),wt.prototype),zn(wt.prototype,"startRemoteControl",[Gn,Pxe,O_],Object.getOwnPropertyDescriptor(wt.prototype,"startRemoteControl"),wt.prototype),zn(wt.prototype,"grabRemoteControl",[Gn,Nxe,O_],Object.getOwnPropertyDescriptor(wt.prototype,"grabRemoteControl"),wt.prototype),zn(wt.prototype,"updateRemoteControlViewportDimension",[Gn,Lxe,O_],Object.getOwnPropertyDescriptor(wt.prototype,"updateRemoteControlViewportDimension"),wt.prototype),zn(wt.prototype,"approveRemoteControl",[Gn,Bxe,O_],Object.getOwnPropertyDescriptor(wt.prototype,"approveRemoteControl"),wt.prototype),zn(wt.prototype,"declineRemoteControl",[Gn,Vxe,O_],Object.getOwnPropertyDescriptor(wt.prototype,"declineRemoteControl"),wt.prototype),zn(wt.prototype,"stopRemoteControl",[Gn,Fxe,O_],Object.getOwnPropertyDescriptor(wt.prototype,"stopRemoteControl"),wt.prototype),zn(wt.prototype,"launchRemoteControlApp",[Gn,Hxe,O_],Object.getOwnPropertyDescriptor(wt.prototype,"launchRemoteControlApp"),wt.prototype),wt);var Wxe,Gxe,qxe,Zxe,Kxe,Yxe,Xxe,Jxe,Xc;const M2=Dp("Audio"),iKe=Dp("Sharing");let aKe=(Wxe=Fo("share"),Gxe=Fo("audio"),qxe=Fo("audio"),Zxe=Fo("audio"),Kxe=Fo("audio"),Yxe=Fo("audio"),Xxe=Fo("audio"),Jxe=Fo("audio"),Xc=class extends rKe{switchSharingSecondaryCamera(e){return((n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,p=i(),{video:{cameraDevicesList:v},share:{status:S,isSharingWithSecondCamera:T}}=p;return o!=="default"&&v.map((x=>x.deviceId)).indexOf(o)===-1?Promise.reject({type:nr,reason:"Cannot find cameraDeviceId in camera devices list.",errorCode:lt.STREAM_MISMATCH_DEVICE}):(S===Xr.Sharing&&T&&d.changeSharingSecondCamera(o),c(g3e(o)),Promise.resolve())})(this[Rn],e)}muteUserAudioLocally(e){return((n,o)=>{const{mediaAgent:i,store:{getState:c,dispatch:d}}=n,p=c(),{audio:{locallyMutedAudioList:v}}=p,S=Ba(p).filter((T=>T.audio===Ji.Computer));return v.includes(o)||S.findIndex((T=>T.userId===o))===-1||(i.muteOrUnmuteOtherAudio(o,!0),d(o3e(o))),Promise.resolve("")})(this[Rn],e)}unmuteUserAudioLocally(e){return((n,o)=>{const{mediaAgent:i,store:{getState:c,dispatch:d}}=n,{audio:{locallyMutedAudioList:p}}=c();return p.includes(o)&&(i.muteOrUnmuteOtherAudio(o,!1),d(QQ(o))),Promise.resolve("")})(this[Rn],e)}adjustUserAudioVolumeLocally(e,n){return((o,i,c)=>{const{mediaAgent:d,store:{getState:p,dispatch:v}}=o,S=p();return Ba(S).findIndex((T=>T.userId===i))!==-1&&(d.adjustOtherAudioVolume(i,c),v(s3e({userId:i,volume:c}))),Promise.resolve("")})(this[Rn],e,n)}muteAllUserAudioLocally(){return(e=>{const{mediaAgent:n,store:{getState:o,dispatch:i}}=e,{audio:{isStopAllImcomingAudio:c}}=o();return c||(n.stopAllIncomingAudio(!0),i(Gve(!0))),Promise.resolve("")})(this[Rn])}unmuteAllUserAudioLocally(){return(e=>{const{mediaAgent:n,store:{getState:o,dispatch:i}}=e,{audio:{isStopAllImcomingAudio:c,locallyMutedAudioList:d}}=o();return c&&(n.stopAllIncomingAudio(!1),i(Gve(!1)),d.length>0&&d.forEach((p=>{n.muteOrUnmuteOtherAudio(p,!1),i(QQ(p))}))),Promise.resolve("")})(this[Rn])}startSecondaryAudio(e,n){return(async(o,i,c)=>{const{mediaAgent:d,rwgAgent:p,store:{getState:v,dispatch:S}}=o,T=v(),{audio:{microphoneDevicesList:x,activeMicrophone:P,isWebRtcAudioCapable:B},share:{status:U}}=T,j=gs(T);if(!Ns.isSupportShare2ndAudioDevice(B))return Promise.reject({type:dn,reason:"Cannot start secondary audio due to platform is not supported",errorCode:lt.SECONDARY_AUDIO_UNSUPPORTED});if((j==null?void 0:j.audio)===Ji.Computer&&P===i)return Promise.reject({type:dn,reason:"Cannot start secondary audio with the same microphone",errorCode:lt.SECONDARY_AUDIO_DEVICE_CONFLICT});if(U!==Xr.End)return Promise.reject({type:dn,reason:"Cannot start secondary audio while screen sharing is in progress",errorCode:lt.SECONDARY_AUDIO_SCREEN_SHARING_CONFLICT});let W=x;if(x.length===0){const{microphones:Z}=await vc($k());W=Z}return i&&W.findIndex((Z=>Z.deviceId===i))===-1?Promise.reject({type:nr,reason:"Cannot find the microphone",errorCode:lt.STREAM_MISMATCH_DEVICE}):(p.muteShareAudio(!1,!0),d.share2ndAudio(i,c),S(eee(i)),yr(iMe))})(this[Rn],e,n)}stopSecondaryAudio(){return(async e=>{const{mediaAgent:n,rwgAgent:o,store:{getState:i,dispatch:c}}=e,d=i(),{audio:{secondaryAudioMicrophoneId:p}}=d;if(!p)return Promise.reject({type:dn,reason:"Cannot stop secondary audio due to not started ",errorCode:lt.SECONDARY_AUDIO_NOT_STARTED});o.muteShareAudio(!0,!0),n.leaveSharingAudio(!1),c(eee(void 0))})(this[Rn])}isUserAudioMutedLocally(e){return(({store:{getState:n}},o)=>{const{audio:{locallyMutedAudioList:i}}=n();return i.includes(o)})(this[Rn],e)}getUserVolumeLocally(e){return(({store:{getState:n}},o)=>{var i,c;const{audio:{localUserAudioVolumeList:d,locallyMutedAudioList:p}}=n();return(i=(c=d.find((v=>v.userId===o)))===null||c===void 0?void 0:c.volume)!==null&&i!==void 0?i:p.includes(o)?0:100})(this[Rn],e)}},zn(Xc.prototype,"switchSharingSecondaryCamera",[Gn,Wxe,iKe],Object.getOwnPropertyDescriptor(Xc.prototype,"switchSharingSecondaryCamera"),Xc.prototype),zn(Xc.prototype,"muteUserAudioLocally",[Gn,Gxe,M2],Object.getOwnPropertyDescriptor(Xc.prototype,"muteUserAudioLocally"),Xc.prototype),zn(Xc.prototype,"unmuteUserAudioLocally",[Gn,qxe,M2],Object.getOwnPropertyDescriptor(Xc.prototype,"unmuteUserAudioLocally"),Xc.prototype),zn(Xc.prototype,"adjustUserAudioVolumeLocally",[Gn,Zxe,M2],Object.getOwnPropertyDescriptor(Xc.prototype,"adjustUserAudioVolumeLocally"),Xc.prototype),zn(Xc.prototype,"muteAllUserAudioLocally",[Gn,Kxe,M2],Object.getOwnPropertyDescriptor(Xc.prototype,"muteAllUserAudioLocally"),Xc.prototype),zn(Xc.prototype,"unmuteAllUserAudioLocally",[Gn,Yxe,M2],Object.getOwnPropertyDescriptor(Xc.prototype,"unmuteAllUserAudioLocally"),Xc.prototype),zn(Xc.prototype,"startSecondaryAudio",[Gn,Xxe,M2],Object.getOwnPropertyDescriptor(Xc.prototype,"startSecondaryAudio"),Xc.prototype),zn(Xc.prototype,"stopSecondaryAudio",[Gn,Jxe,M2],Object.getOwnPropertyDescriptor(Xc.prototype,"stopSecondaryAudio"),Xc.prototype),Xc);const rX={controlStatus:mi.NotStarted,sequenceId:1,rooms:[],isHugeBO:!1,allocationPattern:ik.Automatically,currentRoom:{status:ar.Initial,boStatus:QMe.NoToken,boConfId:"",boId:"",name:"",boToken:""},options:{isAutoJoinRoom:!1,isBackToMainSessionEnabled:!0,isTimerEnabled:!1,timerDuration:1800,isTimerAutoEnabled:!1,waitSeconds:60,isAutoMoveBackToMainSession:!1,isRoomSelectionEnabled:!1},mainSessionAttendeeList:[],preAssignedRooms:[],meetingElapsedTime:0,startRoomElapsedTime:0,closingRoomTime:0,broadcastMessage:"",hostReplyToQuestionerType:void 0,hostReplyToRequestId:void 0,isUserRoleUpdated:!1,mainSessionConfId:"",isEnableBOBroadcast:!1,isEnableBreakoutRoom:!1,isEnableBOViewActivityStatus:!1,inRoomUserActivityStatusMap:{},isEnableBOBroadcastVoice:!1,isBroadcastVoice:!1},lKe=Im({[`${Z3e}`]:ht(((e,{payload:n})=>{Array.isArray(n)?e.rooms.push(...n):e.rooms.push(n)})),[`${sbe}`]:ht(((e,{payload:n})=>{e.allocationPattern=n})),[`${ree}`]:ht(((e,{payload:n})=>{e.sequenceId=n})),[`${rbe}`]:ht(((e,{payload:n})=>{e.meetingElapsedTime=n})),[`${K3e}`]:ht(((e,{payload:n})=>{e.startRoomElapsedTime=n})),[`${Y3e}`]:ht(((e,{payload:n})=>{const{options:o}=e;Object.assign(o,n)})),[`${X3e}`]:ht(((e,{payload:n})=>{e.controlStatus=n})),[`${m6}`]:ht(((e,{payload:n})=>{e.rooms=n})),[`${iee}`]:ht(((e,{payload:n})=>{const{currentRoom:o}=e;Object.assign(o,n)})),[`${Ok}`]:ht(((e,{payload:n})=>{const{currentRoom:o}=e;o.status=n})),[`${ibe}`]:ht(((e,{payload:n})=>{const{currentRoom:o}=e;o.boConfId=n})),[`${abe}`]:ht(((e,{payload:n})=>{const{currentRoom:o}=e;o.boToken=n})),[`${lbe}`]:ht(((e,{payload:n})=>{e.closingRoomTime=n})),[`${Q3e}`]:ht(((e,{payload:n})=>{e.broadcastMessage=n})),[`${h1e}`]:ht(((e,{payload:n})=>{e.hostReplyToQuestionerType=n})),[`${e4e}`]:ht(((e,{payload:n})=>{e.hostReplyToRequestId=n})),[`${t4e}`]:ht(((e,{payload:n})=>{n.add!==void 0&&n.add.length>0&&n.add.forEach((o=>{const i=e.mainSessionAttendeeList.find((c=>c.userId===o.userId));i!==void 0?Object.assign(i,o):mQ(o.userRole)||e.mainSessionAttendeeList.push(o)})),n.update!==void 0&&n.update.length>0&&n.update.forEach((o=>{const i=e.mainSessionAttendeeList.find((c=>c.userId===o.userId));i!==void 0&&Object.assign(i,o)})),n.remove!==void 0&&n.remove.length>0&&n.remove.forEach((o=>{const i=e.mainSessionAttendeeList.findIndex((c=>c.userId===o.userId));i!==-1&&e.mainSessionAttendeeList.splice(i,1)}))})),[`${n4e}`]:ht(((e,{payload:n})=>{e.isHugeBO=n})),[`${ube}`]:ht(((e,{payload:n})=>{e.isUserRoleUpdated=n})),[`${cbe}`]:ht(((e,{payload:n})=>{e.preAssignedRooms=n})),[`${o4e}`]:ht(((e,{payload:n})=>{e.isEnableBreakoutRoom=n.isEnableBreakoutRoom,e.isEnableBOBroadcast=n.isEnableBOBroadcast,e.isEnableBOViewActivityStatus=n.isEnableBOViewActivityStatus,e.isEnableBOBroadcastVoice=n.isEnableBOBroadcastVoice})),[`${s4e}`]:ht(((e,{payload:n})=>{const{userGuid:o,status:i}=n,{inRoomUserActivityStatusMap:c}=e;c[`${o}`]=i})),[`${aee}`]:ht(((e,{payload:n})=>{e.isBroadcastVoice=n})),[`${J3e}`]:e=>{const{currentRoom:{status:n}}=e;return n===ar.Joining?{...rX,preAssignedRooms:e.preAssignedRooms,currentRoom:e.currentRoom,closingRoomTime:e.closingRoomTime}:n===ar.Leaving?{...rX,preAssignedRooms:e.preAssignedRooms,closingRoomTime:e.closingRoomTime}:{...rX,preAssignedRooms:e.preAssignedRooms}}},rX);var Mp=Uint8Array,kb=Uint16Array,lte=Uint32Array,cte=new Mp([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ute=new Mp([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),bbe=new Mp([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tBe=function(e,n){for(var o=new kb(31),i=0;i<31;++i)o[i]=n+=1<<e[i-1];var c=new lte(o[30]);for(i=1;i<30;++i)for(var d=o[i];d<o[i+1];++d)c[d]=d-o[i]<<5|i;return[o,c]},nBe=tBe(cte,2),oBe=nBe[0],ybe=nBe[1];oBe[28]=258,ybe[258]=28;for(var Qxe=tBe(ute,0),cKe=Qxe[0],eOe=Qxe[1],Sbe=new kb(32768),Eu=0;Eu<32768;++Eu){var P2=(43690&Eu)>>>1|(21845&Eu)<<1;P2=(61680&(P2=(52428&P2)>>>2|(13107&P2)<<2))>>>4|(3855&P2)<<4,Sbe[Eu]=((65280&P2)>>>8|(255&P2)<<8)>>>1}var EE=function(e,n,o){for(var i=e.length,c=0,d=new kb(n);c<i;++c)e[c]&&++d[e[c]-1];var p,v=new kb(n);for(c=0;c<n;++c)v[c]=v[c-1]+d[c-1]<<1;if(o){p=new kb(1<<n);var S=15-n;for(c=0;c<i;++c)if(e[c])for(var T=c<<4|e[c],x=n-e[c],P=v[e[c]-1]++<<x,B=P|(1<<x)-1;P<=B;++P)p[Sbe[P]>>>S]=T}else for(p=new kb(i),c=0;c<i;++c)e[c]&&(p[c]=Sbe[v[e[c]-1]++]>>>15-e[c]);return p},AO=new Mp(288);for(Eu=0;Eu<144;++Eu)AO[Eu]=8;for(Eu=144;Eu<256;++Eu)AO[Eu]=9;for(Eu=256;Eu<280;++Eu)AO[Eu]=7;for(Eu=280;Eu<288;++Eu)AO[Eu]=8;var Q6=new Mp(32);for(Eu=0;Eu<32;++Eu)Q6[Eu]=5;var uKe=EE(AO,9,0),dKe=EE(AO,9,1),hKe=EE(Q6,5,0),fKe=EE(Q6,5,1),tme=function(e){for(var n=e[0],o=1;o<e.length;++o)e[o]>n&&(n=e[o]);return n},fS=function(e,n,o){var i=n/8|0;return(e[i]|e[i+1]<<8)>>(7&n)&o},nme=function(e,n){var o=n/8|0;return(e[o]|e[o+1]<<8|e[o+2]<<16)>>(7&n)},b1e=function(e){return(e+7)/8|0},fee=function(e,n,o){(n==null||n<0)&&(n=0),(o==null||o>e.length)&&(o=e.length);var i=new(e.BYTES_PER_ELEMENT==2?kb:e.BYTES_PER_ELEMENT==4?lte:Mp)(o-n);return i.set(e.subarray(n,o)),i},pKe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],aE=function(e,n,o){var i=new Error(n||pKe[e]);if(i.code=e,Error.captureStackTrace&&Error.captureStackTrace(i,aE),!o)throw i;return i},I_=function(e,n,o){o<<=7&n;var i=n/8|0;e[i]|=o,e[i+1]|=o>>>8},O5=function(e,n,o){o<<=7&n;var i=n/8|0;e[i]|=o,e[i+1]|=o>>>8,e[i+2]|=o>>>16},ome=function(e,n){for(var o=[],i=0;i<e.length;++i)e[i]&&o.push({s:i,f:e[i]});var c=o.length,d=o.slice();if(!c)return[rBe,0];if(c==1){var p=new Mp(o[0].s+1);return p[o[0].s]=1,[p,1]}o.sort((function(Ce,Ae){return Ce.f-Ae.f})),o.push({s:-1,f:25001});var v=o[0],S=o[1],T=0,x=1,P=2;for(o[0]={s:-1,f:v.f+S.f,l:v,r:S};x!=c-1;)v=o[o[T].f<o[P].f?T++:P++],S=o[T!=x&&o[T].f<o[P].f?T++:P++],o[x++]={s:-1,f:v.f+S.f,l:v,r:S};var B=d[0].s;for(i=1;i<c;++i)d[i].s>B&&(B=d[i].s);var U=new kb(B+1),j=Cbe(o[x-1],U,0);if(j>n){i=0;var W=0,Z=j-n,re=1<<Z;for(d.sort((function(Ce,Ae){return U[Ae.s]-U[Ce.s]||Ce.f-Ae.f}));i<c;++i){var le=d[i].s;if(!(U[le]>n))break;W+=re-(1<<j-U[le]),U[le]=n}for(W>>>=Z;W>0;){var ie=d[i].s;U[ie]<n?W-=1<<n-U[ie]++-1:++i}for(;i>=0&&W;--i){var be=d[i].s;U[be]==n&&(--U[be],++W)}j=n}return[new Mp(U),j]},Cbe=function(e,n,o){return e.s==-1?Math.max(Cbe(e.l,n,o+1),Cbe(e.r,n,o+1)):n[e.s]=o},tOe=function(e){for(var n=e.length;n&&!e[--n];);for(var o=new kb(++n),i=0,c=e[0],d=1,p=function(S){o[i++]=S},v=1;v<=n;++v)if(e[v]==c&&v!=n)++d;else{if(!c&&d>2){for(;d>138;d-=138)p(32754);d>2&&(p(d>10?d-11<<5|28690:d-3<<5|12305),d=0)}else if(d>3){for(p(c),--d;d>6;d-=6)p(8304);d>2&&(p(d-3<<5|8208),d=0)}for(;d--;)p(c);d=1,c=e[v]}return[o.subarray(0,i),n]},I5=function(e,n){for(var o=0,i=0;i<n.length;++i)o+=e[i]*n[i];return o},sBe=function(e,n,o){var i=o.length,c=b1e(n+2);e[c]=255&i,e[c+1]=i>>>8,e[c+2]=255^e[c],e[c+3]=255^e[c+1];for(var d=0;d<i;++d)e[c+d+4]=o[d];return 8*(c+4+i)},nOe=function(e,n,o,i,c,d,p,v,S,T,x){I_(n,x++,o),++c[256];for(var P=ome(c,15),B=P[0],U=P[1],j=ome(d,15),W=j[0],Z=j[1],re=tOe(B),le=re[0],ie=re[1],be=tOe(W),Ce=be[0],Ae=be[1],F=new kb(19),Ie=0;Ie<le.length;++Ie)F[31&le[Ie]]++;for(Ie=0;Ie<Ce.length;++Ie)F[31&Ce[Ie]]++;for(var tt=ome(F,7),Xe=tt[0],Ve=tt[1],Re=19;Re>4&&!Xe[bbe[Re-1]];--Re);var vt,mt,gt,te,hn=T+5<<3,ot=I5(c,AO)+I5(d,Q6)+p,Rt=I5(c,B)+I5(d,W)+p+14+3*Re+I5(F,Xe)+(2*F[16]+3*F[17]+7*F[18]);if(hn<=ot&&hn<=Rt)return sBe(n,x,e.subarray(S,S+T));if(I_(n,x,1+(Rt<ot)),x+=2,Rt<ot){vt=EE(B,U,0),mt=B,gt=EE(W,Z,0),te=W;var kt=EE(Xe,Ve,0);for(I_(n,x,ie-257),I_(n,x+5,Ae-1),I_(n,x+10,Re-4),x+=14,Ie=0;Ie<Re;++Ie)I_(n,x+3*Ie,Xe[bbe[Ie]]);x+=3*Re;for(var at=[le,Ce],Cn=0;Cn<2;++Cn){var Ro=at[Cn];for(Ie=0;Ie<Ro.length;++Ie){var jn=31&Ro[Ie];I_(n,x,kt[jn]),x+=Xe[jn],jn>15&&(I_(n,x,Ro[Ie]>>>5&127),x+=Ro[Ie]>>>12)}}}else vt=uKe,mt=AO,gt=hKe,te=Q6;for(Ie=0;Ie<v;++Ie)if(i[Ie]>255){jn=i[Ie]>>>18&31,O5(n,x,vt[jn+257]),x+=mt[jn+257],jn>7&&(I_(n,x,i[Ie]>>>23&31),x+=cte[jn]);var wo=31&i[Ie];O5(n,x,gt[wo]),x+=te[wo],wo>3&&(O5(n,x,i[Ie]>>>5&8191),x+=ute[wo])}else O5(n,x,vt[i[Ie]]),x+=mt[i[Ie]];return O5(n,x,vt[256]),x+mt[256]},mKe=new lte([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),rBe=new Mp(0),gKe=(function(){for(var e=new Int32Array(256),n=0;n<256;++n){for(var o=n,i=9;--i;)o=(1&o&&-306674912)^o>>>1;e[n]=o}return e})(),sme=function(e,n,o){for(;o;++n)e[n]=o,o>>>=8};function vKe(e,n){n||(n={});var o=(function(){var p=-1;return{p:function(v){for(var S=p,T=0;T<v.length;++T)S=gKe[255&S^v[T]]^S>>>8;p=S},d:function(){return~p}}})(),i=e.length;o.p(e);var c=(function(p,v,S,T){return(function(x,P,B,U,j,W){var Z=x.length,re=new Mp(U+Z+5*(1+Math.ceil(Z/7e3))+j),le=re.subarray(U,re.length-j),ie=0;if(!P||Z<8)for(var be=0;be<=Z;be+=65535){var Ce=be+65535;Ce>=Z&&(le[ie>>3]=W),ie=sBe(le,ie+1,x.subarray(be,Ce))}else{for(var Ae=mKe[P-1],F=Ae>>>13,Ie=8191&Ae,tt=(1<<B)-1,Xe=new kb(32768),Ve=new kb(tt+1),Re=Math.ceil(B/3),vt=2*Re,mt=function(ln){return(x[ln]^x[ln+1]<<Re^x[ln+2]<<vt)&tt},gt=new lte(25e3),te=new kb(288),hn=new kb(32),ot=0,Rt=0,kt=(be=0,0),at=0,Cn=0;be<Z;++be){var Ro=mt(be),jn=32767&be,wo=Ve[Ro];if(Xe[jn]=wo,Ve[Ro]=jn,at<=be){var qt=Z-be;if((ot>7e3||kt>24576)&&qt>423){ie=nOe(x,le,0,gt,te,hn,Rt,kt,Cn,be-Cn,ie),kt=ot=Rt=0,Cn=be;for(var Tn=0;Tn<286;++Tn)te[Tn]=0;for(Tn=0;Tn<30;++Tn)hn[Tn]=0}var _e=2,vr=0,vs=Ie,Ut=jn-wo&32767;if(qt>2&&Ro==mt(be-Ut))for(var xn=Math.min(F,qt)-1,vn=Math.min(32767,be),zt=Math.min(258,qt);Ut<=vn&&--vs&&jn!=wo;){if(x[be+_e]==x[be+_e-Ut]){for(var wn=0;wn<zt&&x[be+wn]==x[be+wn-Ut];++wn);if(wn>_e){if(_e=wn,vr=Ut,wn>xn)break;var fn=Math.min(Ut,wn-2),ct=0;for(Tn=0;Tn<fn;++Tn){var Mt=be-Ut+Tn+32768&32767,Yt=Mt-Xe[Mt]+32768&32767;Yt>ct&&(ct=Yt,wo=Mt)}}}Ut+=(jn=wo)-(wo=Xe[jn])+32768&32767}if(vr){gt[kt++]=268435456|ybe[_e]<<18|eOe[vr];var Ge=31&ybe[_e],Lt=31&eOe[vr];Rt+=cte[Ge]+ute[Lt],++te[257+Ge],++hn[Lt],at=be+_e,++ot}else gt[kt++]=x[be],++te[x[be]]}}ie=nOe(x,le,W,gt,te,hn,Rt,kt,Cn,be-Cn,ie)}return fee(re,0,U+b1e(ie)+j)})(p,v.level==null?6:v.level,v.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(p.length)))):12+v.mem,S,T,!0)})(e,n,(function(p){return 10+(p.filename&&p.filename.length+1||0)})(n),8),d=c.length;return(function(p,v){var S=v.filename;if(p[0]=31,p[1]=139,p[2]=8,p[8]=v.level<2?4:v.level==9?2:0,p[9]=3,v.mtime!=0&&sme(p,4,Math.floor(new Date(v.mtime||Date.now())/1e3)),S){p[3]=8;for(var T=0;T<=S.length;++T)p[T+10]=S.charCodeAt(T)}})(c,n),sme(c,d-8,o.d()),sme(c,d-4,i),c}var oOe=typeof TextEncoder<"u"&&new TextEncoder,Ebe=typeof TextDecoder<"u"&&new TextDecoder;try{Ebe.decode(rBe,{stream:!0})}catch{}const{WebclientBreakoutRoomAttendeeStatus:y1e,WebclientBreakoutRoomCommand:bKe}=ol,rme=Rm(Ns.getInstance());function bS(e,n){let o=0;for(;o<e.length;o++){const i=e[o],{attendeeGuidList:c}=i;if(c!=null&&c.includes(n))break}return o<e.length?e[o]:void 0}function FL(){ai.remove(y1e),ai.remove(bKe)}function wbe(){return ea.createAgent().leaveBO(1),it(Rv,{reason:Om.BackToMainSession}),FL(),[Ok(ar.Leaving),wg(df.NormalCase)]}function ime(e,n){return it(Rv,{reason:Om.JoinBreakoutRoom,roomName:e}),n===ar.InRoom&&ea.createAgent().leaveBO(1),[Ok(ar.Joining),wg(df.NormalCase)]}function sOe(e){return it(Rv,{reason:Om.MoveToBreakoutRoom,roomName:e}),ea.createAgent().leaveBO(1),[Ok(ar.Joining),wg(df.NormalCase)]}function ame(e){return e!==ar.InRoom&&e!==ar.Joining&&e!==ar.Leaving}function iX(e,n=!1){const o=n?ar.InRoom:ar.Invited;return ai.set(y1e,JSON.stringify({status:o,boId:e.boId}),ya.SessionStorage),iee({status:o,boId:e.boId,name:e.name,boStatus:e.boStatus})}function lme(e){const{breakoutRoom:{isUserRoleUpdated:n,currentRoom:{boConfId:o}}}=e.value,i=gs(e.value);return i&&(!o||o&&n)?Ua(i.isHost):(o?xa(Lge,1):xa(Sz,1).pipe(rn((d=>B6(d.userRole)?eo([1]):Np(xa(Rp).pipe(En((p=>p.userRole!==void 0&&p.displayName===void 0||p.bVideoConnect!==void 0)),Qr(1)),xa(qee).pipe(En((p=>p.some((v=>B6(v.userRole))))),Qr(1)),_u(3e3)))))).pipe(ed(sA),ts(e),xo((([,d])=>gs(d).isHost)))}function _be(e){return lye({boIdList:xa($Me).pipe(g7e(((n,o)=>[...n,o]),[]),Qr(e))}).pipe(iye(1e4))}const yKe=[{mask:mpe.Connect,key:"audio",value:""},{mask:mpe.Voip,key:"audio",value:"computer"},{mask:mpe.Muted,key:"muted",value:!0},{mask:YEe.Connect,key:"bVideoOn",value:!1},{mask:YEe.On,key:"bVideoOn",value:!0},{mask:XEe.Share,key:"sharerOn",value:!0},{mask:XEe.ShareAudio,key:"bShareAudioOn",value:!0}];function rOe(e,n){const o=(Ag(n)?n.breakoutRoom.mainSessionAttendeeList:n.participants.attendeesList).find((i=>i.userId===Number(e)));return o?{inviterId:o.userId,inviterGuid:o.userGUID,inviterName:o.displayName}:{}}const pS=ea.createAgent(),cme=["userRole","bCoHost","bCCEditor","bHold"],SKe=ea.createAgent(),CKe=Rm(Ns.getInstance());var Li;const sh=ea.createAgent(),iOe=Rm(Ns.getInstance()),Tb=Dp("Breakout Room");let EKe=(Li=class extends NS{createRooms(e,n){const o=this[Ko](),i=this[Bc],{breakoutRoom:{isHugeBO:c,sequenceId:d,rooms:p,controlStatus:v,isEnableBreakoutRoom:S}}=o;if(!S)return Promise.reject({type:dn,reason:"Breakout room feature is not enabled.",errorCode:lt.SUBSESSION_ACCOUNT_DISABLE});if(v===mi.InProgress||v===mi.Closing)return Promise.reject({type:dn,reason:"breakout room has started!",errorCode:lt.SUBSESSION_MISMATCH_STATE});let T;T=typeof e=="string"?[e]:typeof e=="number"?Array.from({length:e}).map(((P,B)=>`${ZEe} ${B+d}`)):e;const x=c?100:50;return T.length<1||p.length+T.length>x?Promise.reject({type:nr,reason:"exceed maximum size",errorCode:lt.SUBSESSION_EXCEED_CAPACITY}):(sh.batchCreateBOToken(T),new Promise(((P,B)=>{_be(T.length).subscribe({next({boIdList:U}){let j=U.map(((Z,re)=>({boId:Z,name:T[re]})));if(n===ik.Automatically){const Z=Gpe(o),re=j.length,le=Z.length;j=j.map(((ie,be)=>{const Ce=[];let Ae=be;for(;Ae<le;)Ce.push(Z[Ae]),Ae+=re;return{...ie,attendeeList:Ce}}))}const W=j.map((({boId:Z,name:re,attendeeList:le})=>({boId:Z,name:re,attendeeGuidList:le&&le.map((ie=>ie.userGUID))})));if(i(Z3e(W)),i(sbe(n)),i(ree(d+j.length)),n===ik.Automatically){const Z=j.map((re=>({roomId:re.boId,name:re.name,attendeeList:re.attendeeList.map((le=>({userId:le.userId,avatar:le.avatar,displayName:le.displayName})))})));P(Z)}else P(j.map((Z=>({roomId:Z.boId,name:Z.name,attendeeList:[]}))))},error(){B({type:cf,errorCode:lt.INTERNAL_ERROR})}})})))}recreateRooms(e,n){const o=this[Ko](),i=this[Bc],{breakoutRoom:{isHugeBO:c,sequenceId:d,controlStatus:p,isEnableBreakoutRoom:v}}=o;if(!v)return Promise.reject({type:dn,reason:"Breakout room feature is not enabled.",errorCode:lt.SUBSESSION_ACCOUNT_DISABLE});if(p===mi.InProgress||p===mi.Closing)return Promise.reject({type:dn,reason:"breakout room has started!",errorCode:lt.SUBSESSION_MISMATCH_STATE});let S;S=typeof e=="string"?[e]:typeof e=="number"?Array.from({length:e}).map(((x,P)=>`${ZEe} ${P+d}`)):e;const T=c?100:50;return S.length<1||S.length>T?Promise.reject({type:nr,reason:"exceed maximum size",errorCode:lt.SUBSESSION_EXCEED_CAPACITY}):(sh.batchCreateBOToken(S),new Promise(((x,P)=>{_be(S.length).subscribe((({boIdList:B})=>{let U=B.map(((W,Z)=>({boId:W,name:S[Z]})));if(n===ik.Automatically){const W=U.length,Z=Yqe(o),re=Z.length;U=U.map(((le,ie)=>{const be=[];let Ce=ie;for(;Ce<re;)be.push(Z[Ce]),Ce+=W;return{...le,attendeeList:be}}))}const j=U.map((({boId:W,name:Z,attendeeList:re})=>({boId:W,name:Z,attendeeGuidList:re&&re.map((le=>le.userGUID))})));if(i(m6(j)),i(sbe(n)),i(ree(d+U.length)),n===ik.Automatically){const W=U.map((Z=>({roomId:Z.boId,name:Z.name,attendeeList:Z.attendeeList.map((re=>({userId:re.userId,avatar:re.avatar,displayName:re.displayName})))})));x(W)}else x(U.map((W=>({roomId:W.boId,name:W.name,attendeeList:[]}))))}),(()=>{P({type:cf,errorCode:lt.INTERNAL_ERROR})}))})))}openRooms(e,n){var o;const i=this[Ko](),c={isAutoJoinRoom:!1,isBackToMainSessionEnabled:!0,isTimerEnabled:!1,timerDuration:1800,isTimerAutoEnabled:!1,waitSeconds:60,isAutoMoveBackToMainSession:!1,isRoomSelectionEnabled:!1},{breakoutRoom:{controlStatus:d,rooms:p,sequenceId:v,isHugeBO:S}}=i;if(d===mi.InProgress||d===mi.Closing)return Promise.reject({type:dn,reason:"breakout room has started!",errorCode:lt.SUBSESSION_MISMATCH_STATE});if(e.some((j=>p.findIndex((W=>W.boId===j.roomId))===-1)))return Promise.reject({type:nr,reason:"roomId is wrong",errorCode:lt.SUBSESSION_MISMATCH_ID});const T=Ba(i);if(e.reduce(((j,W)=>j.concat(W.attendeeList)),[]).some((j=>T.findIndex((W=>W.userId===j.userId))===-1)))return Promise.reject({type:nr,reason:"Invalid user",errorCode:lt.SUBSESSION_MISMATCH_USER});const x=e.map((j=>{const{attendeeList:W}=j,Z=W.map((re=>{const le=T.find((ie=>ie.userId===re.userId));return le==null?void 0:le.userGUID}));return{BID:j.roomId,MeetingTitle:j.name,MeetingToken:void 0,Status:QMe.Started,HostID:"",ParticipantList:Z}})),P=n?{...c,...n}:c,B={ControlStatus:mi.InProgress,NameIndex:v,IsAutoJoinEnabled:+P.isAutoJoinRoom,IsBackToMainSessionEnabled:+P.isBackToMainSessionEnabled,IsTimerEnabled:+P.isTimerEnabled,TimerDuration:P.timerDuration,IsTimerAutoEndEnabled:+P.isTimerAutoEnabled,WaitSeconds:P.waitSeconds<0?0:P.waitSeconds,StartTimeOnMMR:void 0,ItemList:x,IsAutoMovetoMainSessionEnabled:P.isAutoMoveBackToMainSession,IsParticipantsChooseRoomEnabled:+P.isRoomSelectionEnabled};let U=cPe(JSON.stringify(B));if(S&&(U=(j=>X7e(vKe((function(W){if(oOe)return oOe.encode(W);for(var Z=W.length,re=new Mp(W.length+(W.length>>1)),le=0,ie=function(F){re[le++]=F},be=0;be<Z;++be){if(le+5>re.length){var Ce=new Mp(le+8+(Z-be<<1));Ce.set(re),re=Ce}var Ae=W.charCodeAt(be);Ae<128?ie(Ae):Ae<2048?(ie(192|Ae>>6),ie(128|63&Ae)):Ae>55295&&Ae<57344?(ie(240|(Ae=65536+(1047552&Ae)|1023&W.charCodeAt(++be))>>18),ie(128|Ae>>12&63),ie(128|Ae>>6&63),ie(128|63&Ae)):(ie(224|Ae>>12),ie(128|Ae>>6&63),ie(128|63&Ae))}return fee(re,0,le)})(j))))(U)),(o=gs(i))!==null&&o!==void 0&&o.isHost)sh.startBO(U);else{const j=I2(i);j&&sh.coHostStartBO(U,j.userId)}return yr(K2,(j=>j.controlStatus===mi.InProgress))}joinRoom(e){const n=this[Ko](),o=gs(n),{breakoutRoom:{controlStatus:i,rooms:c,options:{isRoomSelectionEnabled:d},currentRoom:{status:p,boId:v}},meeting:{userGUID:S}}=n;if(i!==mi.InProgress)return Promise.reject({type:dn,reason:"Breakout room is not started",errorCode:lt.SUBSESSION_MISMATCH_STATE});if(o!=null&&o.isHost){const T=c.find((x=>x.boId===e));if(!T)return Promise.reject({type:nr,reason:"Room ID is not correct",errorCode:lt.SUBSESSION_MISMATCH_ID});sh.joinBO(T.boId)}else if(o!=null&&o.bCoHost){if(!c.find((T=>T.boId===e)))return Promise.reject({type:nr,reason:"Room ID is not correct",errorCode:lt.SUBSESSION_MISMATCH_ID});{const T=I2(n);if(!T)return Promise.reject({type:dn,reason:"No host in the meeting, cannot join the room",errorCode:lt.SUBSESSION_MISMATCH_STATE});sh.wantJoinBO(T==null?void 0:T.userId,e)}}else{if(p===ar.InRoom&&v===e)return Promise.resolve("");{let T=!1;const x=bS(c,S);if(x&&x.boId===e)sh.joinBO(x.boId);else if(d)if(c.findIndex((P=>P.boId===e))!==-1){const P=I2(n);if(!P)return Promise.reject({type:dn,reason:"No host in the meeting, cannot join the room",errorCode:lt.SUBSESSION_MISMATCH_STATE});sh.wantJoinBO(P.userId,e)}else T=!0;else T=!0;if(T)return Promise.reject({type:nr,reason:"Room ID is not correct",errorCode:lt.SUBSESSION_MISMATCH_ID})}}return yr(FX,(T=>T.boId===e))}leaveRoom(){const e=this[Ko](),n=this[Bc],{breakoutRoom:{controlStatus:o,options:i,currentRoom:{status:c}}}=e;if(o!==mi.InProgress&&o!==mi.Closing||c!==ar.InRoom)return Promise.reject({type:dn,errorCode:lt.SUBSESSION_MISMATCH_STATE});{const d=Iv(e);if(!i.isBackToMainSessionEnabled&&!d)return Promise.reject({type:Pp,reason:"Can not return main session during the breakout room",errorCode:lt.SUBSESSION_EXIT_RESTRICTED});wbe().forEach((p=>n(p)))}return Promise.resolve("")}askForHelp(){const e=this[Ko](),{breakoutRoom:{controlStatus:n,mainSessionAttendeeList:o,currentRoom:{status:i}},participants:{attendeesList:c}}=e,d=Iv(e);if(n!==mi.InProgress||i!==ar.InRoom)return Promise.reject({type:dn,reason:"you are not in breakout room",errorCode:lt.SUBSESSION_MISMATCH_STATE});if(d)return Promise.reject({type:dn,reason:"host or co-host can not ask for help",errorCode:lt.SUBSESSION_MISMATCH_USER});{const p=o.find((v=>v.isHost));if(p){if(c.findIndex((v=>v.zoomID===p.zoomID))>-1)return Promise.reject({type:dn,reason:"host is in room",errorCode:lt.SUBSESSION_MISMATCH_STATE});sh.askForHelpBO(p.userId)}}return yr(wye,(p=>p.result===Zx.Received))}postponeHelping(e){const n=this[Ko](),o=this[Bc],{breakoutRoom:{mainSessionAttendeeList:i,currentRoom:{status:c}},participants:{attendeesList:d}}=n;let p=d;return c===ar.InRoom&&(p=i),p.findIndex((v=>v.userId===e))>-1?(sh.askForHelpResultBO(e,Zx.Ignore),o(h1e(Zx.Ignore)),Promise.resolve("")):Promise.reject({type:nr,reason:"user id is not correct",errorCode:lt.SUBSESSION_MISMATCH_USER})}broadcast(e){const{breakoutRoom:{isEnableBOBroadcast:n}}=this[Ko]();return n?e?Jf.beginEncrypt({text:e,type:Xf.BO_BROADCAST}).then((o=>(sh.broadcastBO(o),Promise.resolve("")))):Promise.reject({type:nr,reason:"content empty",errorCode:lt.SUBSESSION_BROADCAST_INVALID_CONTENT}):Promise.reject({type:dn,reason:"Cannot broadcast message due to the feature is not enable",errorCode:lt.SUBSESSION_BROADCAST_DISABLE})}startBroadcastVoice(){const e=this[Ko](),n=this[Bc],{breakoutRoom:{isEnableBOBroadcast:o,isEnableBOBroadcastVoice:i,isBroadcastVoice:c}}=e;if(o&&i){if(Ag(e))return Promise.reject({type:dn,reason:"Cannot broadcast voice in the room",errorCode:lt.SUBSESSION_BROADCAST_VOICE_RESTRICTED});{if(c)return Promise.resolve("");const d=gs(e);return(d==null?void 0:d.audio)===Ji.Computer&&d.muted===!1?(sh.broadcastVoiceReq(!0),iOe.broadcastVoiceToBreakoutRoom(!0),n(aee(!0)),Promise.resolve("")):Promise.reject({type:dn,reason:"Start audio and unmute to broadcast",errorCode:lt.SUBSESSION_BROADCAST_VOICE_MISMATCH_STATE})}}return Promise.reject({type:dn,reason:"Cannot broadcast voice due to the feature is not enable",errorCode:lt.SUBSESSION_BROADCAST_VOICE_DISABLE})}stopBroadcastVoice(){const e=this[Ko](),n=this[Bc],{breakoutRoom:{isBroadcastVoice:o}}=e;return o?(sh.broadcastVoiceReq(!1),iOe.broadcastVoiceToBreakoutRoom(!1),n(aee(!1)),Promise.resolve("")):Promise.reject({type:dn,reason:"Cannot stop broadcast voice due to it is not started",errorCode:lt.SUBSESSION_BROADCAST_VOICE_MISMATCH_STATE})}assignUserToRoom(e,n){const o=this[Ko](),{breakoutRoom:{rooms:i}}=o,c=Gpe(o).find((p=>p.userId===e));if(!(c&&i.findIndex((p=>p.boId===n))>-1))return Promise.reject({type:nr,reason:"Invalid user",errorCode:lt.SUBSESSION_MISMATCH_USER});var d;if((d=gs(o))!==null&&d!==void 0&&d.isHost)sh.assignToBO(e,n);else{const p=I2(o);p&&sh.coHostAssignToBO(c.userGUID,n,p.userId)}return yr(K2,(p=>{const{controlStatus:v,roomList:S}=p,T=S.find((x=>x.boId===n));return v===mi.InProgress&&T&&T.attendeeGuidList.includes(c.userGUID)}))}moveUserToRoom(e,n){const o=this[Ko](),{breakoutRoom:{rooms:i,mainSessionAttendeeList:c},participants:{attendeesList:d}}=o,p=(Ag(o)?c:d).find((S=>S.userId===e));if(!p)return Promise.reject({type:nr,reason:"user id not correct",errorCode:lt.SUBSESSION_MISMATCH_USER});{const S=bS(i,p.userGUID);if(!S)return Promise.reject({type:dn,reason:"user not in a room",errorCode:lt.SUBSESSION_MISMATCH_USER});if(S.boId===n)return Promise.reject({type:dn,reason:"user already in the target room",errorCode:lt.SUBSESSION_MISMATCH_STATE});{const T=i.find((x=>x.boId===n));if(!T)return Promise.reject({type:nr,reason:"invalid room id",errorCode:lt.SUBSESSION_MISMATCH_ID});var v;if((v=gs(o))!==null&&v!==void 0&&v.isHost)sh.switchBO(e,T.boId);else{const x=I2(o);x&&sh.coHostAssignToBO(p.userGUID,T.boId,x.userId)}}}return yr(K2,(S=>{const{controlStatus:T,roomList:x}=S,P=x.find((B=>B.boId===n));return T===mi.InProgress&&P&&P.attendeeGuidList.includes(p.userGUID)}))}moveBackToMainSession(e){const n=this[Ko](),{breakoutRoom:{rooms:o,mainSessionAttendeeList:i},participants:{attendeesList:c}}=n,d=(Ag(n)?i:c).find((v=>v.userId===e));if(!d)return Promise.reject({type:nr,reason:"user id not correct",errorCode:lt.SUBSESSION_MISMATCH_USER});if(!bS(o,d.userGUID))return Promise.reject({type:dn,reason:"user not in a room",errorCode:lt.SUBSESSION_MISMATCH_USER});var p;if((p=gs(n))!==null&&p!==void 0&&p.isHost)sh.moveToMainSession(d.userGUID);else{const v=I2(n);v&&sh.coHostMoveToMainSession(d.userGUID,v.userId)}return yr(K2,(v=>{const{controlStatus:S,roomList:T}=v;return S===mi.InProgress&&T.some((x=>{const{attendeeGuidList:P}=x;return P.includes(d.userGUID)}))}))}closeRoom(){const e=this[Ko](),{breakoutRoom:{controlStatus:n}}=e;if(n!==mi.InProgress)return Promise.reject({type:dn,reason:"room is not started",errorCode:lt.SUBSESSION_MISMATCH_STATE});var o;if((o=gs(e))!==null&&o!==void 0&&o.isHost)sh.stopBO(mi.Closing);else{const i=I2(e);i&&sh.coHostStopBO(mi.Closing,i.userId)}return yr(K2,(i=>i.controlStatus===mi.Closing))}loadPreAssignedRooms(){const e=this[Ko](),{meeting:{meetingOptions:n},breakoutRoom:{controlStatus:o}}=e;return!n.isAllowBreakoutRoomPreAssign||o!==mi.NotStarted&&o!==mi.Closed?Promise.reject({type:dn,errorCode:lt.SUBSESSION_MISMATCH_STATE}):(sh.preAssignBreakoutRoom(),yr(WMe))}getUnassignedAttendeeList(){const e=this[Ko](),n=gs(e);return n!=null&&n.isHost||n!=null&&n.bCoHost?Gpe(e).map((o=>Ik(o))):[]}getRoomList(){const e=this[Ko](),{breakoutRoom:{rooms:n,currentRoom:{status:o,boId:i},mainSessionAttendeeList:c,inRoomUserActivityStatusMap:d,options:{isRoomSelectionEnabled:p}},participants:{attendeesList:v}}=e,S=gs(e);if(S&&(S.isHost||S.bCoHost||p)){const T=o===ar.InRoom,x=T?c:v;return n.map((P=>{const{attendeeGuidList:B,boId:U,name:j}=P,W=(B||[]).map((Z=>x.find((re=>re.userGUID===Z)))).filter((Z=>!(Z!=null&&Z.isHost))).filter(Boolean);return T&&S.isHost&&U===i&&W.unshift(S),{roomId:U,name:j,attendeeList:W.filter((Z=>!!Z)).map((Z=>{var re;const le=(re=d[Z.userGUID])!==null&&re!==void 0?re:{};return{userId:Z.userId,displayName:Z.displayName,avatar:Z.avatar,isInRoom:Z.bid===U,userGuid:Z.userGUID,...le}}))}}))}return e.breakoutRoom.rooms.map((T=>{const{boId:x,name:P}=T;return{roomId:x,name:P,attendeeList:[]}}))}getAttendeeStatus(){return this[Ko]().breakoutRoom.currentRoom.status}getRoomStatus(){return this[Ko]().breakoutRoom.controlStatus}getCurrentRoom(){const e=this[Ko](),{breakoutRoom:{currentRoom:{status:n,name:o,boId:i}}}=e;return{attendeeStatus:n,name:o,roomId:i}}getRoomOptions(){const e=this[Ko](),{breakoutRoom:{options:n}}=e,{whoStart:o,whoStop:i,...c}=n;return{...c}}isBreakoutRoomEnabled(){const e=this[Ko](),{breakoutRoom:{isEnableBreakoutRoom:n}}=e;return!!n}},zn(Li.prototype,"createRooms",[Gn,yu,Tb],Object.getOwnPropertyDescriptor(Li.prototype,"createRooms"),Li.prototype),zn(Li.prototype,"recreateRooms",[Gn,yu,Tb],Object.getOwnPropertyDescriptor(Li.prototype,"recreateRooms"),Li.prototype),zn(Li.prototype,"openRooms",[Gn,yu,Tb],Object.getOwnPropertyDescriptor(Li.prototype,"openRooms"),Li.prototype),zn(Li.prototype,"joinRoom",[Gn,Tb],Object.getOwnPropertyDescriptor(Li.prototype,"joinRoom"),Li.prototype),zn(Li.prototype,"leaveRoom",[Gn,Tb],Object.getOwnPropertyDescriptor(Li.prototype,"leaveRoom"),Li.prototype),zn(Li.prototype,"askForHelp",[Gn,Tb],Object.getOwnPropertyDescriptor(Li.prototype,"askForHelp"),Li.prototype),zn(Li.prototype,"postponeHelping",[xd,Gn,Tb],Object.getOwnPropertyDescriptor(Li.prototype,"postponeHelping"),Li.prototype),zn(Li.prototype,"broadcast",[yu,Gn],Object.getOwnPropertyDescriptor(Li.prototype,"broadcast"),Li.prototype),zn(Li.prototype,"startBroadcastVoice",[xd,Gn,Tb],Object.getOwnPropertyDescriptor(Li.prototype,"startBroadcastVoice"),Li.prototype),zn(Li.prototype,"stopBroadcastVoice",[xd,Gn,Tb],Object.getOwnPropertyDescriptor(Li.prototype,"stopBroadcastVoice"),Li.prototype),zn(Li.prototype,"assignUserToRoom",[yu,Gn,Tb],Object.getOwnPropertyDescriptor(Li.prototype,"assignUserToRoom"),Li.prototype),zn(Li.prototype,"moveUserToRoom",[yu,Gn,Tb],Object.getOwnPropertyDescriptor(Li.prototype,"moveUserToRoom"),Li.prototype),zn(Li.prototype,"moveBackToMainSession",[yu,Gn,Tb],Object.getOwnPropertyDescriptor(Li.prototype,"moveBackToMainSession"),Li.prototype),zn(Li.prototype,"closeRoom",[yu,Gn,Tb],Object.getOwnPropertyDescriptor(Li.prototype,"closeRoom"),Li.prototype),zn(Li.prototype,"loadPreAssignedRooms",[xd,Gn,Tb],Object.getOwnPropertyDescriptor(Li.prototype,"loadPreAssignedRooms"),Li.prototype),Li);const wKe={breakoutRoomSharingEpics0:(e,n)=>Yx(e,jl).pipe(En((o=>{var i;const{payload:{body:c}}=o;return c==null||(i=c.update)===null||i===void 0?void 0:i.some((d=>d.bShareToBORooms!==void 0||d.bShareOn!==void 0))})),ts(n),xo((([o,i])=>{const{payload:{body:{update:c}}}=o,{breakoutRoom:{mainSessionAttendeeList:d}}=i,p=c.filter((T=>T.bShareOn&&T.bShareToBORooms)),v=c.filter((T=>!T.bShareOn||!T.bShareToBORooms)),S=d.filter((T=>T.sharerOn&&T.bShareToBORooms));return p.length>0&&p.forEach((T=>{S.findIndex((x=>x.userId===T.id))===-1&&it(Sye,{...T,isFromMainSession:!0})})),v.length>0&&v.filter((T=>S.findIndex((x=>x.userId===T.id))>-1)).forEach((T=>{it(Cye,{...T,isFromMainSession:!0})})),c.map((T=>{if(T.bShareOn&&T.bShareToBORooms){if(d.filter((x=>x.sharerOn&&x.bShareToBORooms&&x.userId!==T.id)).length===0)return{activeNodeID:T.id,bStatus:1,ssrc:T.shareSsrc};{const x=d.find((P=>P.userId===T.id));if(x!=null&&x.isHost)return{activeNodeID:T.id,bStatus:1,ssrc:T.shareSsrc}}}else if(!T.bShareOn||!T.bShareToBORooms){const x=d.filter((P=>P.bShareToBORooms&&P.sharerOn));if(x.length===1&&x[0].userId===T.id)return{activeNodeID:T.id,bStatus:0,ssrc:0};{const P=x.filter((U=>U.userId!==T.id)),B=P.find((U=>U.isHost));if(B)return{activeNodeID:B.userId,bStatus:1,ssrc:B.shareSsrc};{const U=P[0];if(U)return{activeNodeID:U.userId,bStatus:1,ssrc:U.shareSsrc}}}}})).filter(Boolean)})),rn((o=>{const{share:{status:i},meeting:{userId:c}}=n.value,d=[];return o.map((p=>{const{activeNodeID:v,bStatus:S,ssrc:T}=p,x=S===1;d.push(p3e(x)),x&&i!==Xr.End&&(SKe.stopSharing(c),CKe.stopDesktopSharing(),d.push(Sg(Xr.End)),it(mMe));let P={activeNodeID:v,bStatus:S,ssrc:T,fromMainSession:!0};if(!x){const{participants:{attendeesList:B}}=n.value,U=B.filter((j=>j.sharerOn));if(U.length>0){const j=U[0];P={activeNodeID:j.userId,bStatus:1,ssrc:j.shareSsrc||0}}}d.push(Xk({evt:kve,body:P}))})),eo(d)}))),breakoutRoomSharingEpics1:(e,n)=>Yx(e,ote).pipe(Ei((o=>{const{payload:{body:{userID:i,confID:c}}}=o;return Id(...["sharing","audio"].map((d=>(function(p,v,S,T,x){return Yx(v,p==="audio"?Dve:Hye).pipe(Qr(1),$o((P=>{const{payload:{body:{encryptKey:B,additionalType:U}}}=P,{media:{sharingDecodeStatus:j,audioDecodeStatus:W},meeting:{svcUrl:Z,meetingNumber:re,conId:le,zoomId:ie,meetingId:be}}=S.value;Gf(p,"success",p==="audio"?W:j).subscribe((([,Ce])=>{if(Ce){const Ae=`wss://${Z}/wc/media/${re}?type=${p==="audio"?"ma":"ms"}&cid=${le}&mode=1`;rme.createMainSessionChannel(p,Ae),rme.updateMediaParams({iVType:p==="audio"?AS.AUDIO_DECODE:AS.SHARING_DECODE,isFromMainSession:!0,updateParams:{userId:T,sn:j0(ie),confId:x,encryptType:U,encryptKey:j0(B),meetingId:be,meetingNumber:re}});const{breakoutRoom:{mainSessionAttendeeList:F}}=S.value;if((F==null?void 0:F.length)>0){const Ie=F.map((tt=>({userid:tt.userId,sn:tt.zoomID&&j0(tt.zoomID)})));rme.updateUserMediaSN({added:Ie,isFromMainSession:!0,iVType:p==="audio"?AS.AUDIO_DECODE:AS.SHARING_DECODE})}}}))})),rn((()=>Oo)))})(d,e,n,i,c))))})))},_Ke={epics0:(e,n)=>e.pipe(Uo(`${AE}`),Ei((o=>{const{breakoutRoom:i,meeting:{meetingOptions:c}}=n.value,{payload:{hugeBO:d,elapsed:p}}=o,v=[];return i&&(c&&(v.push(n4e(d&&c.isBO100Enabled===!0)),v.push(o4e({isEnableBreakoutRoom:c.isEnableBreakoutRoom,isEnableBOBroadcast:c.isEnableBOBroadcast,isEnableBOViewActivityStatus:c.isEnableBOViewActivityStatus,isEnableBOBroadcastVoice:c.isEnableBOBroadcastVoice}))),i.currentRoom.boConfId&&v.push(wve()),p!==void 0&&v.push(rbe(p))),eo(v)}))),epics1:e=>Bo(e,4174).pipe($o((n=>{it($Me,n.payload.body.bid)})),Pa(Oo)),epics2:(e,n)=>TS(e,7950).pipe(ts(n),Ei((([o,i])=>{const{payload:{body:{proto:c}}}=o,{breakoutRoom:{isHugeBO:d,currentRoom:{status:p,boId:v}},meeting:{userGUID:S}}=i;let T=c;d&&(T=(function(B){if(Ebe)return Ebe.decode(B);var U=(function(W){for(var Z="",re=0;;){var le=W[re++],ie=(le>127)+(le>223)+(le>239);if(re+ie>W.length)return[Z,fee(W,re-1)];ie?ie==3?(le=((15&le)<<18|(63&W[re++])<<12|(63&W[re++])<<6|63&W[re++])-65536,Z+=String.fromCharCode(55296|le>>10,56320|1023&le)):Z+=1&ie?String.fromCharCode((31&le)<<6|63&W[re++]):String.fromCharCode((15&le)<<12|(63&W[re++])<<6|63&W[re++]):Z+=String.fromCharCode(le)}})(B),j=U[0];return U[1].length&&aE(8),j})((function(B){return(function(U,j,W){var Z=U.length;if(!Z||W&&W.f&&!W.l)return j||new Mp(0);var re=!j||W,le=!W||W.i;W||(W={}),j||(j=new Mp(3*Z));var ie=function(Yt){var Ge=j.length;if(Yt>Ge){var Lt=new Mp(Math.max(2*Ge,Yt));Lt.set(j),j=Lt}},be=W.f||0,Ce=W.p||0,Ae=W.b||0,F=W.l,Ie=W.d,tt=W.m,Xe=W.n,Ve=8*Z;do{if(!F){be=fS(U,Ce,1);var Re=fS(U,Ce+1,3);if(Ce+=3,!Re){var vt=U[(jn=b1e(Ce)+4)-4]|U[jn-3]<<8,mt=jn+vt;if(mt>Z){le&&aE(0);break}re&&ie(Ae+vt),j.set(U.subarray(jn,mt),Ae),W.b=Ae+=vt,W.p=Ce=8*mt,W.f=be;continue}if(Re==1)F=dKe,Ie=fKe,tt=9,Xe=5;else if(Re==2){var gt=fS(U,Ce,31)+257,te=fS(U,Ce+10,15)+4,hn=gt+fS(U,Ce+5,31)+1;Ce+=14;for(var ot=new Mp(hn),Rt=new Mp(19),kt=0;kt<te;++kt)Rt[bbe[kt]]=fS(U,Ce+3*kt,7);Ce+=3*te;var at=tme(Rt),Cn=(1<<at)-1,Ro=EE(Rt,at,1);for(kt=0;kt<hn;){var jn,wo=Ro[fS(U,Ce,Cn)];if(Ce+=15&wo,(jn=wo>>>4)<16)ot[kt++]=jn;else{var qt=0,Tn=0;for(jn==16?(Tn=3+fS(U,Ce,3),Ce+=2,qt=ot[kt-1]):jn==17?(Tn=3+fS(U,Ce,7),Ce+=3):jn==18&&(Tn=11+fS(U,Ce,127),Ce+=7);Tn--;)ot[kt++]=qt}}var _e=ot.subarray(0,gt),vr=ot.subarray(gt);tt=tme(_e),Xe=tme(vr),F=EE(_e,tt,1),Ie=EE(vr,Xe,1)}else aE(1);if(Ce>Ve){le&&aE(0);break}}re&&ie(Ae+131072);for(var vs=(1<<tt)-1,Ut=(1<<Xe)-1,xn=Ce;;xn=Ce){var vn=(qt=F[nme(U,Ce)&vs])>>>4;if((Ce+=15&qt)>Ve){le&&aE(0);break}if(qt||aE(2),vn<256)j[Ae++]=vn;else{if(vn==256){xn=Ce,F=null;break}var zt=vn-254;if(vn>264){var wn=cte[kt=vn-257];zt=fS(U,Ce,(1<<wn)-1)+oBe[kt],Ce+=wn}var fn=Ie[nme(U,Ce)&Ut],ct=fn>>>4;if(fn||aE(3),Ce+=15&fn,vr=cKe[ct],ct>3&&(wn=ute[ct],vr+=nme(U,Ce)&(1<<wn)-1,Ce+=wn),Ce>Ve){le&&aE(0);break}re&&ie(Ae+131072);for(var Mt=Ae+zt;Ae<Mt;Ae+=4)j[Ae]=j[Ae-vr],j[Ae+1]=j[Ae+1-vr],j[Ae+2]=j[Ae+2-vr],j[Ae+3]=j[Ae+3-vr];Ae=Mt}}W.l=F,W.p=xn,W.b=Ae,W.f=be,F&&(be=1,W.m=tt,W.d=Ie,W.n=Xe)}while(!be);return Ae==j.length?j:fee(j,0,Ae)})(B.subarray((function(U){U[0]==31&&U[1]==139&&U[2]==8||aE(6,"invalid gzip data");var j=U[3],W=10;4&j&&(W+=U[10]|2+(U[11]<<8));for(var Z=(j>>3&1)+(j>>4&1);Z>0;Z-=!U[W++]);return W+(2&j)})(B),-8),new Mp((function(U){var j=U.length;return(U[j-4]|U[j-3]<<8|U[j-2]<<16|U[j-1]<<24)>>>0})(B)))})(j0(c))));const x=[];let P;try{const B=JSON.parse(Qy(T)),{ControlStatus:U,NameIndex:j,IsAutoJoinEnabled:W,IsBackToMainSessionEnabled:Z,IsParticipantsChooseRoomEnabled:re,IsTimerEnabled:le,TimerDuration:ie,IsTimerAutoEndEnabled:be,WaitSeconds:Ce,StartTimeOnMMR:Ae,ItemList:F,WhoStart:Ie,WhoStop:tt,IsAutoMovetoMainSessionEnabled:Xe}=B,Ve={isAutoJoinRoom:W,isBackToMainSessionEnabled:Z,isTimerEnabled:le,timerDuration:ie,isTimerAutoEnabled:be,waitSeconds:Ce,isAutoMoveBackToMainSession:Xe,isRoomSelectionEnabled:re,whoStart:Ie,whoStop:tt};x.push(Y3e(Ve)),x.push(K3e(Ae)),x.push(ree(j)),x.push(X3e(U));const Re=F&&F.map((vt=>({boId:vt.BID,name:vt.MeetingTitle,boStatus:vt.Status,hostId:vt.HostID,attendeeGuidList:vt.ParticipantList||[]})))||[];switch(x.push(m6(Re)),it(K2,{controlStatus:U,roomList:Re}),U){case mi.InProgress:if(p!==ar.InRoom&&p!==ar.Joining){const vt=(function(mt,gt){const{meeting:{isHost:te,userGUID:hn},breakoutRoom:{currentRoom:{status:ot,boId:Rt}}}=gt.value,kt=ai.get(y1e),at=[];if(kt)try{const{status:Cn,boId:Ro}=JSON.parse(kt);if(Cn===ar.Invited)if(te)FL();else{const jn=bS(mt,hn);jn&&(at.push(iX(jn)),ot!==ar.Initial&&Rt===jn.boId||it(VX,{roomId:jn.boId,name:jn.name}))}else if(Cn===ar.InRoom){let jn;if(jn=te?mt.find((wo=>wo.boId===Ro)):bS(mt,hn),jn){at.push(iX(jn));const wo=jn.boId;Hk(gt).subscribe((()=>{ea.createAgent().joinBO(wo)}))}FL()}}catch(Cn){console.error(Cn)}return at})(Re,n);if(vt.length===0){const mt=bS(Re,S);mt&&x.push(iX(mt))}else x.push(...vt)}else if(p===ar.InRoom&&o.type===`${Z_}`){const vt=bS(Re,S);vt&&lme(n).subscribe((mt=>{v===vt.boId||mt||pS.joinBO(vt.boId)}))}Ve.isTimerEnabled&&Ve.timerDuration>0&&(P=(function(vt,mt,gt){return lme(vt).pipe(ts(vt),Ei((([te,hn])=>{const{breakoutRoom:{currentRoom:{status:ot},meetingElapsedTime:Rt},meeting:{joinMeetingTimeStamp:kt}}=hn,at=kt-1e3*Rt+1e3*gt+1e3*mt;if(performance.now()<at){if(te)return P6(1e3).pipe(xo((()=>Math.floor((at-performance.now())/1e3))),ts(vt),sk((([Cn,Ro])=>{const{breakoutRoom:{controlStatus:jn,currentRoom:{status:wo}},socket:{zoomSocketStatus:qt},meeting:{isHost:Tn}}=Ro;return Cn>=0&&Tn&&jn===mi.InProgress&&(wo===ar.InRoom||wo===ar.MainSession||wo===ar.Initial)&&qt===La.Connected})),$o((([Cn])=>{it(Nge,{countdown:Cn})})),En((([Cn])=>Cn===0)),$o((([,Cn])=>{const{breakoutRoom:{options:Ro}}=Cn;Ro.isTimerAutoEnabled?ea.createAgent().stopBO(mi.Closing):it(jMe)})),rn((()=>Oo)));if(ot===ar.InRoom)return P6(1e3).pipe(xo((()=>Math.floor((at-performance.now())/1e3))),ts(vt),sk((([Cn,Ro])=>{const{breakoutRoom:{currentRoom:{status:jn}},meeting:{isHost:wo},socket:{zoomSocketStatus:qt}}=Ro;return Cn>=0&&jn===ar.InRoom&&!wo&&qt===La.Connected})),$o((([Cn])=>{it(Nge,{countdown:Cn})})),rn((()=>Oo)))}return Oo})))})(n,Ve.timerDuration,Ae));break;case mi.Closing:P=lme(n).pipe(En((vt=>vt)),rn((()=>{const vt=[],{breakoutRoom:{closingRoomTime:mt,currentRoom:{status:gt}},participants:{attendeesList:te}}=n.value;let hn=Ve.waitSeconds;if(mt!==0&&Ve.waitSeconds>0){const ot=Math.floor((performance.now()-mt)/1e3);hn=Math.max(Ve.waitSeconds-ot,0)}if(hn===0)return pS.stopBO(mi.Closed),Oo;{if(gt!==ar.InRoom&&te.length>1&&te.every((Rt=>!Rt.bid)))return pS.stopBO(mi.Closed),Oo;mt||vt.push(lbe(performance.now()));const ot=performance.now()+1e3*hn;return Id(eo(vt),_u(0,1e3).pipe(xo((()=>Math.floor((ot-performance.now())/1e3))),ts(n),sk((([,Rt])=>{const{breakoutRoom:{controlStatus:kt},meeting:{isHost:at},socket:{zoomSocketStatus:Cn}}=Rt;return kt===mi.Closing&&Cn===La.Connected&&at})),$o((([Rt])=>{Rt>=0&&it(Pge,{countdown:Rt})})),En((([Rt])=>Rt<=0)),$o((()=>{pS.stopBO(mi.Closed)})),rn((()=>Oo))))}})));break;case mi.Closed:x.push(lbe(0)),p===ar.Leaving?x.push(Ok(ar.MainSession)):p===ar.Invited?x.push(Ok(ar.Initial)):p!==ar.InRoom&&p!==ar.Joining||x.push(...wbe()),FL()}}catch(B){console.error(B)}return P?Id(eo(x),P):eo(x)}))),epics3:(e,n)=>TS(e,4194).pipe(ts(n),Ei((([o,i])=>{const{payload:{body:{bid:c,botoken:d,confID:p}}}=o,{meeting:{isHost:v},breakoutRoom:{rooms:S,currentRoom:{status:T}}}=i,x=[],P=S.find((B=>B.boId===c));return P&&(x.push(iX(P,v)),x.push(ibe(p)),x.push(abe(d)),it(FX,{boId:c}),v||T!==ar.InRoom?x.push(...ime(P.name,T)):x.push(...sOe(P.name))),eo(x)}))),epics4:(e,n)=>e.pipe(Uo(`${Xk}`,`${Z_}`),En((o=>o.payload.evt===7949)),ts(n),rn((([o,i])=>{var c;const{payload:{body:d}}=o,{meeting:{userGUID:p},breakoutRoom:{rooms:v,options:{isAutoJoinRoom:S,isAutoMoveBackToMainSession:T},currentRoom:{status:x},mainSessionAttendeeList:P},participants:{attendeesList:B}}=i,{commandType:U}=d,j=[];let W;const Z=(c=(ame(x)?B:P).find((Ce=>Ce.userGUID===p)))===null||c===void 0?void 0:c.userId;switch(U){case A2.Join:{const{targetBID:Ce,botoken:Ae,confID:F,joinReason:Ie,requestSourceID:tt}=d,Xe=bS(v,p);if(Xe&&Xe.boId===Ce){j.push(ibe(F)),j.push(abe(Ae));const Ve=Number(Ie)===V7e.Active&&Z===Number(tt);S||Ve?(Ve&&it(FX,{boId:Ce}),j.push(...ime(Xe.name))):(ai.set(ol.WebclientBreakoutRoomCommand,U,ya.SessionStorage),it(VX,{roomId:Ce,name:Xe.name,...rOe(tt,i)}))}break}case A2.Switch:{const{targetBID:Ce,botoken:Ae,confID:F,joinMethod:Ie,requestSourceID:tt}=d,Xe=bS(v,p);Xe&&Xe.boId===Ce&&(j.push(iee({boId:Xe.boId,boToken:Ae,boConfId:F,name:Xe.name})),Z===Number(tt)&&Number(Ie)===KEe.AskToLeave&&it(FX,{boId:Ce}),x===ar.Invited?(ai.set(ol.WebclientBreakoutRoomCommand,U,ya.SessionStorage),S||Z===Number(tt)?j.push(...ime(Xe.name)):it(VX,{roomId:Ce,name:Xe.name,...rOe(tt,i)})):j.push(...sOe(Xe.name)));break}case A2.Leave:{const{waitTime:Ce,joinMethod:Ae}=d;if(ame(x))j.push(iee({boId:"",boToken:"",boConfId:"",status:ar.Initial}));else{const F=Number(Ce);if(F>0){const Ie=performance.now()+1e3*F;W=_u(0,1e3).pipe(xo((()=>Math.floor((Ie-performance.now())/1e3))),ts(n),sk((([tt,Xe])=>{const{breakoutRoom:{controlStatus:Ve,currentRoom:{status:Re}},meeting:{isHost:vt},socket:{zoomSocketStatus:mt}}=Xe;return tt>=0&&mt===La.Connected&&Ve===mi.Closing&&Re===ar.InRoom&&!vt})),$o((([tt])=>{tt>=0&&it(Pge,{countdown:tt})})),Pa(Oo))}else if(Number(Ae)!==KEe.AskToLeave||T)j.push(...wbe());else{var re,le,ie;const{requestSourceID:Ie}=d,tt=Number(Ie),{participants:{attendeesList:Xe}}=i;let Ve=Xe.find((Re=>Re.userId===tt));if(!Ve){const{breakoutRoom:{mainSessionAttendeeList:Re}}=i;Ve=Re.find((vt=>vt.userId===tt))}it(qMe,{inviterId:(re=Ve)===null||re===void 0?void 0:re.userId,inviterGuid:(le=Ve)===null||le===void 0?void 0:le.userGUID,inviterName:(ie=Ve)===null||ie===void 0?void 0:ie.displayName})}FL()}break}case A2.Broadcast:{const{textContent:Ce,requestID:Ae}=d;if(Ce){const{meeting:{encType:F},participants:{attendeesList:Ie},breakoutRoom:{mainSessionAttendeeList:tt}}=i;let Xe="";if(F===Az.AES_GCM){const Ve=(ame(x)?Ie:tt).find((Re=>Re.userId===Number(Ae)));Ve&&(Xe=Ve.zoomID)}W=eo(Jf.beginDecrypt({decryptedText:Ce,type:Xf.BO_BROADCAST,zoomId:Xe}).then((({message:Ve})=>(it(UMe,{message:Ve}),Q3e(Ve)))))}break}case A2.HelpReq:{const{requestID:Ce}=d,{breakoutRoom:{mainSessionAttendeeList:Ae,rooms:F,currentRoom:{boId:Ie},hostReplyToQuestionerType:tt,hostReplyToRequestId:Xe},participants:{attendeesList:Ve}}=i;if(Ce){if(x===ar.InRoom){const Re=Ae.find((vt=>vt.userId===Ce));if(Re&&Re.bid===Ie){pS.askForHelpResultBO(Ce,Zx.AlreadyInRoom);break}}if(tt===Zx.Received&&Xe!==Ce)pS.askForHelpResultBO(Ce,Zx.Busy);else{pS.askForHelpResultBO(Ce,Zx.Received),j.push(h1e(Zx.Received),e4e(Ce));const Re=(x===ar.InRoom?Ae:Ve).find((vt=>vt.userId===Ce));if(Re){const vt=Re.bid,mt=F.find((gt=>gt.boId===vt));mt&&it(zMe,{userId:Ce,userGuid:Re.userGUID,displayName:Re.displayName,roomName:mt.name,roomId:mt.boId})}}}break}case A2.HelpRes:{const{helpResult:Ce}=d;it(wye,{result:Number(Ce)});break}case A2.BOActivity:{var be;const{activityRoster:Ce,activityTalking:Ae,requestID:F}=d,Ie=(be=(Ag(i)?i.breakoutRoom.mainSessionAttendeeList:i.participants.attendeesList).find((tt=>tt.userId===F)))===null||be===void 0?void 0:be.userGUID;if(Ie){const{breakoutRoom:{rooms:tt}}=i,Xe=bS(tt,Ie),Ve=(function(Re,vt){const mt={isTalking:vt===1};return yKe.forEach((gt=>{const{mask:te,key:hn,value:ot}=gt;(te&Re)===te&&Object.assign(mt,{[`${hn}`]:ot})})),mt})(Number(Ce),Number(Ae));j.push(s4e({userGuid:Ie,status:Ve})),it(ZMe,{...Ve,userId:F,userGuid:Ie,roomId:Xe==null?void 0:Xe.boId,roomName:Xe==null?void 0:Xe.name})}break}}return W?Id(eo(j),W):eo(j)}))),epics5:(e,n)=>Yx(e,ote).pipe(ts(n),Ei((([o,i])=>{const{payload:{body:{res:c,elapsed:d}}}=o,p=[];return c===Ob.MeetingHasClosed||c===Ob.UserHasBeenRemoved?(FL(),p.push(...YL(i,!1))):c===Ob.Success&&(p.push(rbe(d)),p.push(Ok(ar.InRoom)),ai.set(ol.WebclientBreakoutRoomAttendeeStatus,JSON.stringify({status:ar.InRoom,boId:i.breakoutRoom.currentRoom.boId}),ya.SessionStorage)),eo(p)}))),epics6:e=>Yx(e,jl).pipe(xo((n=>K_(n.payload.body))),rn((n=>{const o=[t4e(n)];return it(GMe),eo(o)}))),epics7:(e,n)=>Yx(e,jl).pipe(xo((o=>K_(o.payload.body))),xo((o=>{const i=[];return["add","update"].forEach((c=>o[c]&&i.push(...o[c]))),i.filter((c=>[...cme,"bAudioUnencrytped"].some((d=>c[d]!==void 0))))})),En((o=>o.length>0)),ed(sA),rn((o=>{const i=[],{participants:{attendeesList:c},breakoutRoom:{mainSessionAttendeeList:d,isUserRoleUpdated:p},meeting:{userId:v}}=n.value,S=o.map((T=>{const x=d.find((B=>B.userId===T.userId)),P=c.find((B=>B.userGUID===(x==null?void 0:x.userGUID)));if(P){if(T.bCCEditor!==void 0&&i.push(q3e({editorId:T.bCCEditor?P.userId:"",isEditor:!!T.bCCEditor,editorZoomId:T.bCCEditor?P.zoomID:""})),delete T.bRaiseHand,delete T.bCapsPinMultiVideo,delete T.bInFailover,delete T.uniqueIndex,!p&&P.userId===v){const B={};B6(T.userRole)?Object.assign(B,T):(d.some((U=>U.isHost))||T.bAudioUnencrytped!==void 0)&&Object.assign(B,x),B.userId!==void 0&&(i.push(ube(!0)),it(Lge,T))}return{...T,userId:P.userId}}})).filter((T=>!!T&&cme.some((x=>T[x]!==void 0))));return S.length>0&&(it(kS,S),i.push(K3({update:S}))),eo(i)}))),epics8:e=>Yx(e,W0).pipe(En((n=>{const{payload:{body:o}}=n;return(o==null?void 0:o.bAllowAttendeeRename)!==void 0||(o==null?void 0:o.chatPriviledge)!==void 0||(o==null?void 0:o.lockShare)!==void 0})),xo((n=>{const{payload:{body:o}}=n;return o.bAllowAttendeeRename!==void 0?LQ(n.payload.body):o.chatPriviledge!==void 0?l1e(o.chatPriviledge):o.lockShare!==void 0?o1e(o.lockShare):void 0}))),epics9:(e,n)=>Bo(e,jl).pipe(ts(n),En((([,o])=>{const{meeting:{isHost:i},breakoutRoom:{controlStatus:c,currentRoom:{status:d}}}=o;return i&&c===mi.Closing&&d!==ar.InRoom})),ed(sA),$o((()=>{const{participants:{attendeesList:o}}=n.value;o.every((i=>!i.bid))&&o.length>1&&pS.stopBO(mi.Closed)})),Pa(Oo)),epics10:(e,n)=>Bo(e,4214).pipe(ts(n),Ei((([o,i])=>{const{payload:{body:{proto:c}}}=o,{breakoutRoom:{rooms:d,isHugeBO:p}}=i;try{const v=JSON.parse(Qy(c)),S=[];if(v&&v.PreAssignBoList&&Array.isArray(v.PreAssignBoList)){const T=v.PreAssignBoList.map((P=>({name:P.BoName,emails:P.email})));S.push(cbe(T));const x=p?100:50;if(d.length+T.length<x){const P=T.map((B=>B.name));return pS.batchCreateBOToken(P),Id(eo(S),_be(P.length).pipe(ts(n),rn((([{boIdList:B},U])=>{const j=Ba(U),W=T.map(((re,le)=>{const{emails:ie,name:be}=re;let Ce=[];return ie&&Array.isArray(ie)&&(Ce=ie.map((Ae=>j.filter((F=>F.userEmail===Ae)).map((F=>F.userGUID)))).reduce(((Ae,F)=>[...Ae,...F]),[])),{boId:B[le],name:be,attendeeGuidList:Ce}})),Z=W.map(((re,le)=>({roomId:re.boId,name:re.name,emails:T[le].emails})));return it(WMe,{rooms:Z}),eo([m6(W),cbe(Z)])}))))}return eo(S)}}catch{console.error("pre assign proto is not valid")}return Oo}))),epics11:(e,n)=>TS(e,jl).pipe(ts(n),En((([o,i])=>{const{meeting:{isHost:c,meetingStatus:d,meetingOptions:p},breakoutRoom:{controlStatus:v}}=i,{payload:{body:S}}=o;return d===Lh.Joined&&(p==null?void 0:p.isAllowBreakoutRoomPreAssign)&&c&&(v===mi.NotStarted||v===mi.InProgress)&&Array.isArray(S.add)})),rn((([o,i])=>{const{breakoutRoom:{controlStatus:c,rooms:d,preAssignedRooms:p,currentRoom:{status:v}},participants:{failoverAttendeesList:S}}=i,T=p==null?void 0:p.filter((B=>d.findIndex((U=>U.boId===B.roomId))>-1)),{payload:{body:{add:x}}}=o,P=[];return T.length>0&&x.filter((B=>B.userEmail&&B.userGUID)).filter((B=>S.findIndex((U=>U.zoomID===B.zoomID))===-1)).forEach((B=>{if(!bS(d,B.userGUID))for(let U=0;U<(T==null?void 0:T.length);U++){const j=T[U];if(j.emails.includes(B.userEmail)){if(c===mi.NotStarted){const W=ht(d,(Z=>{const re=Z.find((le=>le.boId===j.roomId));re==null||re.attendeeGuidList.push(B.userGUID)}));P.push(m6(W))}else c===mi.InProgress&&(v===ar.InRoom&&o.type===`${Z_}`?pS.assignToBO(B.id,String(j.roomId)):v!==ar.Initial&&v!==ar.MainSession||pS.assignToBO(B.id,String(j.roomId)));break}}})),eo(P)}))),epics12:(e,n)=>Bo(e,jl).pipe(En((o=>{const{breakoutRoom:{mainSessionAttendeeList:i}}=n.value,{payload:{body:c}}=o;return i.length>0&&(c.add!==void 0||c.update!==void 0)})),ed(Dv),xo((o=>K_(o.payload.body))),rn((o=>{const{breakoutRoom:{mainSessionAttendeeList:i,isUserRoleUpdated:c},participants:{attendeesList:d}}=n.value;let p=[];const v=[];["add","update"].forEach((x=>o[x]&&p.push(...o[x])));const S=[...cme,"isHost"];p=p.filter((x=>S.some((P=>x[P]!==void 0))));const T=p.filter((x=>x.zoomID!==void 0));return p=p.map((x=>{var P,B,U,j;const W=(P=(B=x.zoomID)!==null&&B!==void 0?B:(U=T.find((Z=>Z.userId===x.userId)))===null||U===void 0?void 0:U.zoomID)!==null&&P!==void 0?P:(j=d.find((Z=>Z.userId===x.userId)))===null||j===void 0?void 0:j.zoomID;if(W){const Z=i.find((re=>re.zoomID===W));if(Z)return c||(v.push(ube(!0)),it(Lge,Z)),Object.keys(x).filter((re=>Object.prototype.hasOwnProperty.call(x,re))).filter((re=>S.includes(re))).reduce(((re,le)=>{const ie=Z[le];if(ie!==void 0||le==="bCoHost"){const be=typeof x[le]=="boolean"?!!ie:ie;Object.assign(re,{[le]:be})}return re}),{userId:x.userId})}})).filter(Boolean),p.length>0&&(it(kS,p),v.push(K3({update:p}))),eo(v)}))),epics13:e=>Yx(e,7999).pipe($o((n=>{const{payload:{body:{bStatus:o}}}=n;it(KMe,{status:!!o})})),rn((()=>Oo))),epics14:(e,n)=>Bo(e,7940).pipe(rn((o=>{const{payload:{body:{bHost:i}}}=o,{breakoutRoom:{isBroadcastVoice:c}}=n.value,d=[];return!i&&c&&(Ns.getInstance().broadcastVoiceToBreakoutRoom(!1),d.push(aee(!1))),eo(d)})))},AKe=xg(_Ke,wKe);let aX=(function(e){return e[e.Ready=0]="Ready",e[e.UserSub=1]="UserSub",e[e.ManualCaptionerEnabled=2]="ManualCaptionerEnabled",e[e.ManualCaptionerDisabled=3]="ManualCaptionerDisabled",e})({}),Zy=(function(e){return e[e.Unspecified=-1]="Unspecified",e[e.English=0]="English",e[e["Chinese (Simplified)"]=1]="Chinese (Simplified)",e[e.Japanese=2]="Japanese",e[e.German=3]="German",e[e.French=4]="French",e[e.Russian=5]="Russian",e[e.Portuguese=6]="Portuguese",e[e.Spanish=7]="Spanish",e[e.Korean=8]="Korean",e[e.Italian=9]="Italian",e[e.Reserved=10]="Reserved",e[e.Vietnamese=11]="Vietnamese",e[e.Dutch=12]="Dutch",e[e.Ukrainian=13]="Ukrainian",e[e.Arabic=14]="Arabic",e[e["Chinese (Traditional)"]=16]="Chinese (Traditional)",e[e.Czech=17]="Czech",e[e.Estonian=18]="Estonian",e[e.Finnish=19]="Finnish",e[e.Hebrew=21]="Hebrew",e[e.Hindi=22]="Hindi",e[e.Hungarian=23]="Hungarian",e[e.Indonesian=24]="Indonesian",e[e.Malay=25]="Malay",e[e.Persian=26]="Persian",e[e.Polish=27]="Polish",e[e.Romanian=28]="Romanian",e[e.Swedish=29]="Swedish",e[e.Tamil=30]="Tamil",e[e.Telugu=31]="Telugu",e[e.Tagalog=32]="Tagalog",e[e.Turkish=33]="Turkish",e[e["French (Canada)"]=34]="French (Canada)",e[e.Danish=35]="Danish",e[e.Thai=37]="Thai",e[e.Cantonese=44]="Cantonese",e[e.NoTranslation=400]="NoTranslation",e[e.DefaultManualInput=401]="DefaultManualInput",e[e.Customized=500]="Customized",e})({}),Tx=(function(e){return e[e.Unknown=0]="Unknown",e[e.Close=1]="Close",e[e.New=2]="New",e[e.Insert=3]="Insert",e[e.Delete=4]="Delete",e[e.Reset=5]="Reset",e[e.Audiodesc=6]="Audiodesc",e[e.Speaker=7]="Speaker",e[e.Error=8]="Error",e})({}),aOe=(function(e){return e[e.TranslateNotSupport=1]="TranslateNotSupport",e})({}),Mx=(function(e){return e[e.Unspecified=0]="Unspecified",e[e.InMeetingManual=1]="InMeetingManual",e[e.ExternalCaptioner=2]="ExternalCaptioner",e[e.ASR=4]="ASR",e})({});const g6={en:0,zh:1,ja:2,de:3,fr:4,ru:5,pt:6,es:7,ko:8,it:9,en1:10,vi:11,nl:12,uk:13,ar:14,"zh-hant":16,cs:17,et:18,fi:19,he:21,hi:22,hu:23,id:24,ms:25,fa:26,pl:27,ro:28,sv:29,ta:30,te:31,tl:32,tr:33,"fr-ca":34,da:35,th:37,"zh-yue":44,ca:48},pee=Object.keys(Zy).filter((e=>/\d+/.test(Zy[e]))).reduce(((e,n)=>({...e,[`${Zy[n]}`]:n})),{}),lOe=Object.keys(g6).reduce(((e,n)=>(Object.assign(e,{[`${g6[`${n}`]}`]:n}),e)),{}),lJ="zoom-sdk-live-transcription",B_="live-transcription";(function(e){return e[e.English=0]="English",e[e.Chinese=1]="Chinese",e[e.Japanese=2]="Japanese",e[e.German=3]="German",e[e.French=4]="French",e[e.Russian=5]="Russian",e[e.Portuguese=6]="Portuguese",e[e.Spanish=7]="Spanish",e[e.Korean=8]="Korean",e[e.Italian=9]="Italian",e[e.Reserved=10]="Reserved",e[e.Vietnamese=11]="Vietnamese",e[e.Dutch=12]="Dutch",e[e.Ukrainian=13]="Ukrainian",e[e.Arabic=14]="Arabic",e[e["Chinese (Traditional)"]=16]="Chinese (Traditional)",e[e.Czech=17]="Czech",e[e.Estonian=18]="Estonian",e[e.Finnish=19]="Finnish",e[e.Hebrew=21]="Hebrew",e[e.Hindi=22]="Hindi",e[e.Hungarian=23]="Hungarian",e[e.Indonesian=24]="Indonesian",e[e.Malay=25]="Malay",e[e.Persian=26]="Persian",e[e.Polish=27]="Polish",e[e.Romanian=28]="Romanian",e[e.Swedish=29]="Swedish",e[e.Tamil=30]="Tamil",e[e.Telugu=31]="Telugu",e[e.Tagalog=32]="Tagalog",e[e.Turkish=33]="Turkish",e[e["French (Canada)"]=34]="French (Canada)",e[e.Danish=35]="Danish",e[e.Thai=37]="Thai",e[e.Cantonese=44]="Cantonese",e[e.Catalan=48]="Catalan",e[e.NoTranslation=400]="NoTranslation",e[e.DefaultManualInput=401]="DefaultManualInput",e})({});(function(e){return e.English="en",e["Chinese (Simplified)"]="zh",e.Japanese="ja",e.German="de",e.French="fr",e.Russian="ru",e.Portuguese="pt",e.Spanish="es",e.Korean="ko",e.Italian="it",e.Reserved="en1",e.Vietnamese="vi",e.Dutch="nl",e.Ukrainian="uk",e.Arabic="ar",e["Chinese (Traditional)"]="zh-hant",e.Czech="cs",e.Estonian="et",e.Finnish="fi",e.Hebrew="he",e.Hindi="hi",e.Hungarian="hu",e.Indonesian="id",e.Malay="ms",e.Persian="fa",e.Polish="pl",e.Romanian="ro",e.Swedish="sv",e.Tamil="ta",e.Telugu="te",e.Tagalog="tl",e.Turkish="tr",e["French (Canada)"]="fr-ca",e.Danish="da",e.Thai="th",e.Cantonese="zh-yue",e.Catalan="ca",e})({});let _3=(function(e){return e.Individual="individual",e.Session="session",e})({});function Abe(e){const n=e===Zy.Unspecified?Zy.Reserved:e;Ns.getInstance().selectLanguageChannelForNewLTT(n)}function cJ(e,n,o){const{state:i,rwgAgent:c}=o,{liveTranscription:{isSomeoneTranslating:d,isHostLockSpeakingLanguage:p},meeting:{userId:v,isWebinar:S}}=i,T=e??Zy.English;var x;p||S?c.setSpokenLanguage(T):(((x=gs(i))===null||x===void 0?void 0:x.audio)===Ji.Computer&&Abe(e??Zy.Unspecified),e!==void 0&&n&&c.setTranscriptionLanguage(T,d?v:0))}const TKe=XMe(YMe,(function(e,n){return mNe(e,n)}))([Ba,({meeting:{gatewayUserList:e}})=>e],((e,n)=>{const o={};return e.forEach((i=>{Object.assign(o,{[`${i.userId}`]:i.zoomID})})),n==null||n.forEach((i=>{Object.assign(o,{[`${i.userId}`]:i.sn})})),o})),cOe=ec([Ba],(e=>e.find((n=>n.bCCEditor===!0)))),xKe=ec([Ba,JMe],((e,n)=>e.some((o=>o.bCCEditor===!0&&o.userId===n)))),ume=ea.createAgent(),dme={isEnableTranslatedCaptions:!1,isHostLockSpeakingLanguage:!1,transcriptionLang:[],isEnableAutomatedCaptions:!1,supportedTranscriptionLanguage:[],isLiveTranscriptionEnabled:!1,isHostDisableCaptions:!1,isManualCaptionerEnabled:!1,gatewayId:void 0,isLiveTranscriptionSubscribed:!1,messageRecords:[],isRecordsReduced:!1,reducedRecordsCount:0,isSomeoneSetSessionTranscription:!1,isSomeoneTranslating:!1,isTranscriptionLanguageLocked:!1,isExternalCaptionerCaptioning:!1,externalCcUrl:void 0,transcriptionMode:_3.Individual},OKe=Im({[`${g4e}`]:ht(((e,{payload:n})=>{e.isLiveTranscriptionEnabled=n})),[`${v4e}`]:ht(((e,{payload:n})=>{const{transcriptionLang:o,translatedSetting:i,...c}=n;if(o&&(e.transcriptionLang=o.split(";").map((d=>{const p=d&&g6[d];return p!==void 0?{lang:d,code:p}:null})).filter(Boolean)),i){const d=Object.keys(i).map((v=>{const S=i[v];if(S){const T=S.split(";").map((x=>{const P=x&&g6[x];return P!==void 0?{lang:x,code:P}:null})).filter(Boolean);return{lang:v,code:g6[v],translatedToLanguage:T}}return null})).filter(Boolean),p=d.reduce(((v,S)=>(S.translatedToLanguage.forEach((T=>{v.findIndex((x=>x.code===T.code))===-1&&v.push(T)})),v)),[]);e.translatedSetting=d,e.translationLang=p}Object.assign(e,c)})),[`${hbe}`]:ht(((e,{payload:n})=>{e.isManualCaptionerEnabled=n})),[`${b4e}`]:ht(((e,{payload:n})=>{e.gatewayId=n})),[`${T4e}`]:ht(((e,{payload:n})=>{e.isHostDisableCaptions=n})),[`${y4e}`]:ht(((e,{payload:n})=>{e.supportedTranscriptionLanguage=n})),[`${Jx}`]:ht(((e,{payload:n})=>{e.currentTranscriptionLang=n})),[`${lee}`]:ht(((e,{payload:n})=>{e.currentTranslationLang=n})),[`${pbe}`]:ht(((e,{payload:n})=>{e.messageRecords.push(n)})),[`${S4e}`]:ht(((e,{payload:n})=>{const o=e.messageRecords.find((i=>i.msgId===n.msgId));o&&Object.assign(o,n)})),[`${C4e}`]:ht(((e,{payload:n})=>{const{remains:o,reducedRecordsCount:i}=n,c=e.messageRecords.length-o;e.isRecordsReduced=!0,e.reducedRecordsCount=i,e.messageRecords.splice(0,c)})),[`${fbe}`]:ht(((e,{payload:n})=>{e.isLiveTranscriptionSubscribed=n})),[`${E4e}`]:ht(((e,{payload:n})=>{e.liveTransEngineType=n})),[`${w4e}`]:ht((e=>{e.stateBeforeFailover=void 0})),[`${_4e}`]:ht(((e,{payload:n})=>{e.lastManualCaption=n})),[`${x4e}`]:ht(((e,{payload:n})=>{e.isSomeoneSetSessionTranscription=n})),[`${O4e}`]:ht(((e,{payload:n})=>{e.isSomeoneTranslating=n})),[`${I4e}`]:ht(((e,{payload:n})=>{e.isTranscriptionLanguageLocked=n})),[`${R4e}`]:ht(((e,{payload:n})=>{e.isExternalCaptionerCaptioning=n})),[`${k4e}`]:ht(((e,{payload:n})=>{e.externalCcUrl=n})),[`${D4e}`]:ht(((e,{payload:n})=>{e.transcriptionMode=n})),[`${A4e}`]:(e,{payload:n})=>n?{...dme,stateBeforeFailover:{currentTranscriptionLang:e.currentTranscriptionLang,currentTranslationLang:e.currentTranslationLang,isLiveTranscriptionSubscribed:e.isLiveTranscriptionSubscribed,transcriptionMode:e.transcriptionMode},messageRecords:e.messageRecords,isRecordsReduced:e.isRecordsReduced,reducedRecordsCount:e.reducedRecordsCount}:{...dme}},dme);var mc;const L0=ea.createAgent(),R_=Dp("Live transcription");let IKe=(mc=class extends NS{startLiveTranscription(){const{[Ko]:e,[Bc]:n}=this,{liveTranscription:{isLiveTranscriptionEnabled:o,isEnableTranslatedCaptions:i,isLiveTranscriptionSubscribed:c,isHostDisableCaptions:d}}=e();return c?Promise.resolve(""):d?Promise.reject({type:dn,reason:"Captions has been disabled by host.",errorCode:lt.TRANSCRIPTION_FEATURE_DISABLE}):o?(L0.enableNewLLT(),yr(H0).then((()=>{const{liveTranscription:{currentTranscriptionLang:p,transcriptionMode:v,isSomeoneSetSessionTranscription:S}}=e(),T=p??Zy.English;return cJ(p,v===_3.Session&&!S,{state:e(),rwgAgent:L0}),n(Jx(T)),i&&L0.setTranslationLanguage(),yr({event:H0,operations:[En((x=>x.autoCaption===!0&&x.lang!==void 0)),Qr(1)]})}))):Promise.reject({type:dn,reason:"Live transcription is not enabled.",errorCode:lt.TRANSCRIPTION_ACCOUNT_DISABLE})}disableCaptions(e){const{[Ko]:n}=this,{liveTranscription:{isHostDisableCaptions:o}}=n();return e===o?Promise.resolve():(L0.disableCaptions(e),yr(hye,(i=>i===e)))}setSpeakingLanguage(e,n){const{[Ko]:o,[Bc]:i}=this,c=o(),{liveTranscription:{isLiveTranscriptionSubscribed:d,transcriptionLang:p,isTranscriptionLanguageLocked:v}}=c,S=gs(c);if(v&&(S==null||!S.isHost))return Promise.reject({type:dn,reason:"Transcription language has been locked, only host can set the language.",errorCode:lt.TRANSCRIPTION_LANGUAGE_LOCKED});const T=p.find((x=>x.lang===e));if(T){const{code:x}=T;return(n==null?void 0:n.mode)===_3.Session?d&&cJ(x,!0,{state:c,rwgAgent:L0}):cJ(x,!1,{state:c,rwgAgent:L0}),i(Jx(x)),n!=null&&n.mode&&i(D4e(n.mode)),Promise.resolve("")}return Promise.reject({type:nr,reason:"Unsupported transcription language",errorCode:lt.TRANSCRIPTION_LANGUAGE_UNSUPPORTED})}setTranslationLanguage(e){const{[Ko]:n,[Bc]:o}=this,i=n(),{liveTranscription:{isEnableTranslatedCaptions:c,isLiveTranscriptionSubscribed:d,translationLang:p}}=i;if(!c)return Promise.reject({type:dn,reason:"Live translation is not enabled.",errorCode:lt.TRANSLATION_ACCOUNT_DISABLE});if(!d)return Promise.reject({type:dn,reason:"Cannot set translation language before starting live transcription",errorCode:lt.TRANSCRIPTION_MISMATCH_STATE});if(e){const v=p==null?void 0:p.find((S=>S.lang===e));return v?(L0.setTranslationLanguage(v.code),yr({event:H0,operations:[En((S=>S.autoCaption===!0&&S.lang===v.code)),Qr(1)]},(({lang:S})=>S===v.code))):Promise.reject({type:dn,reason:`Cannot support translating to ${e}`,errorCode:lt.TRANSLATION_LANGUAGE_UNSUPPORTED})}return L0.setTranslationLanguage(),o(lee(void 0)),Promise.resolve("")}lockTranscriptionLanguage(e){const{[Ko]:n}=this,{liveTranscription:{isTranscriptionLanguageLocked:o,isEnableTranslatedCaptions:i}}=n();return i?Promise.reject({type:dn,reason:"Cannot lock transcription language due to translation is enabled",errorCode:lt.TRANSCRIPTION_MISMATCH_STATE}):e!==o?(L0.lockTranscriptionLanguage(e),yr(fye,(c=>c===e))):Promise.resolve("")}enableManualCaptioner(){const{[Ko]:e}=this,{meeting:{meetingOptions:n},liveTranscription:{isManualCaptionerEnabled:o,isHostDisableCaptions:i}}=e();if(i)return Promise.reject({type:dn,reason:"Captions has been disabled by host.",errorCode:lt.MANUAL_CAPTION_FEATURE_DISABLE});const{isEnableManualCaptions:c,isEnableClosedCaption:d}=n;return c??d?o?Promise.resolve():(L0.enableManualCaption(!0),yr(H0,(({autoCaption:p})=>p===!1))):Promise.reject({type:dn,reason:"Manual caption is not enabled.",errorCode:lt.MANUAL_CAPTION_ACCOUNT_DISABLE})}disableManualCaptioner(){const{[Ko]:e}=this,{liveTranscription:{isManualCaptionerEnabled:n}}=e();return n?(L0.enableManualCaption(!1),yr(H0,(({autoCaption:o})=>o===!0))):Promise.resolve()}assignManualCaption(e){var n;const{[Ko]:o}=this,i=o(),{liveTranscription:{isManualCaptionerEnabled:c},participants:{attendeesList:d},meeting:{userId:p}}=i;return c?((n=cOe(i))===null||n===void 0?void 0:n.userId)===e?Promise.resolve(""):d.find((S=>S.userId===e))?(L0.assignCC(e,!0),yr({event:p===e?Rp:kS,operations:[En((S=>S.userId===e)),Qr(1)]},(S=>S.bCCEditor===!0))):Promise.reject({type:nr,reason:"Cannot find the user",errorCode:lt.MANUAL_CAPTION_MISMATCH_USER}):Promise.reject({type:dn,reason:"Cannot assign caption editor due to the manual captioner is not enabled.",errorCode:lt.MANUAL_CAPTION_FEATURE_DISABLE})}sendCaptionTextManually(e,n){var o;const{[Ko]:i,[Bc]:c}=this,d=i(),{liveTranscription:{lastManualCaption:p},meeting:{userId:v}}=d,S=gs(d);let T=Promise.resolve();const x=(o=cOe(d))===null||o===void 0?void 0:o.userId;return S!=null&&S.isHost&&x!==v&&(T=this.assignManualCaption(v)),T.then((()=>xKe(i())?(function(P,B,U){const j=P.length,W=[];var Z;if(U)W.push({op:"close",text:P,msgId:(Z=B==null?void 0:B.msgId)!==null&&Z!==void 0?Z:vQ()});else if(B&&B!=null&&B.text){const re=B.text.length;let le=0,ie=0;for(;P[le]===B.text[le]&&le<j;)ie+=uPe(P[le]),le+=1;le===re&&le===j?W.push({op:"same"}):le===re&&le<j?W.push({op:"insert",text:P.slice(le),size:0,pos:ie,msgId:B.msgId}):le<re&&le===j?W.push({op:"delete",size:0,pos:ie,msgId:B.msgId}):(W.push({op:"delete",size:0,pos:ie,msgId:B.msgId}),W.push({op:"insert",text:P.slice(le),pos:ie,msgId:B.msgId}))}else j>0&&W.push({op:"start",text:P,pos:0,size:0,msgId:vQ()});return W.filter((re=>re.op!=="same"))})(e,p,n):Promise.reject({type:Pp,reason:"Cannot type caption ",errorCode:lt.MANUAL_CAPTION_INSUFFICIENT_PRIVILEGE}))).then((P=>Array.isArray(P)?(P.forEach((B=>{const{text:U,...j}=B;Jf.beginEncrypt({text:U??"",type:Xf.CC_MESSAGE}).then((W=>{L0.sendManualCaption({text:W,...j});const Z=n?void 0:{text:U,msgId:B.msgId};c(_4e(Z))}))})),yr(o6,(B=>B.source===Mx.InMeetingManual))):""))}getLiveTranscriptionStatus(){const{[Ko]:e}=this,{liveTranscription:{isLiveTranscriptionEnabled:n,isEnableTranslatedCaptions:o,isManualCaptionerEnabled:i,transcriptionLang:c,translatedSetting:d,isHostDisableCaptions:p,isTranscriptionLanguageLocked:v}}=e();return{isLiveTranscriptionEnabled:n,isLiveTranslationEnabled:o,isHostDisableCaptions:p,isManualCaptionerEnabled:i,isHostLockTranscriptionLanguage:v,transcriptionLanguage:c.map((S=>S.lang)).join(";"),translationLanguage:d==null?void 0:d.map((S=>({speakingLanguage:S.lang,translatedToLanguage:S.translatedToLanguage.map((T=>T.lang)).join(";")})))}}getLiveTranscriptionSetting(){const{[Ko]:e}=this,{meeting:{meetingOptions:n}}=e(),{isEnableManualCaptions:o,isEnableLiveTranscription:i,isEnableClosedCaption:c,isEnableAllowThirdPartyCCToken:d,isEnableViewFullTranscript:p,isEnableSaveCaptions:v}=n||{};return{isEnableManualCaptions:o,isEnableLiveTranscription:i,isEnableClosedCaption:c,isEnableAllowThirdPartyCCToken:d,isEnableViewFullTranscript:p,isEnableSaveCaptions:v}}getCurrentTranscriptionLanguage(){const{[Ko]:e}=this,{liveTranscription:{currentTranscriptionLang:n}}=e();return n!==void 0?{code:lOe[n],name:pee[n]}:null}getCurrentTranslationLanguage(){const{[Ko]:e}=this,{liveTranscription:{currentTranslationLang:n}}=e();return n!==void 0?{code:lOe[n],name:pee[n]}:null}getLatestTranscription(){const{[Ko]:e}=this,{liveTranscription:{messageRecords:n,isManualCaptionerEnabled:o}}=e(),i=o?Zy.DefaultManualInput:Zy.NoTranslation,c=n.filter((d=>d.language===i));return c.length?c[c.length-1].text:""}getLatestTranslation(){const{[Ko]:e}=this,{liveTranscription:{messageRecords:n,currentTranslationLang:o,isEnableTranslatedCaptions:i}}=e();if(i||o!==void 0){const c=n.filter((d=>d.language===o));return c.length?c[c.length-1].text:""}return""}getFullTranscriptionHistory(){const{[Ko]:e}=this,n=e(),{liveTranscription:{messageRecords:o,isRecordsReduced:i}}=n;return i?(function(c){return window.indexedDB!==void 0?new Promise((d=>{const p=window.indexedDB.open(lJ,1);p.addEventListener("success",(()=>{const v=p.result;if(v.objectStoreNames.contains(B_)){const S=v.transaction([B_],"readonly").objectStore(B_),T=[],x=c.meeting.meetingId,P=S.index("mid"),B=IDBKeyRange.only(x),U=P.openCursor(B);U.onsuccess=()=>{const j=U.result;j?(T.push(...j.value.records),j.continue()):(d(T),v.close())},U.onerror=()=>{d(""),v.close()}}else d("")})),p.addEventListener("error",(()=>{d("")}))})):Promise.resolve("")})(n).then((c=>Array.isArray(c)?c.concat(o):[...o])):[...o]}getManualCaptionEditor(){const{[Ko]:e}=this,n=e(),{closedCaption:{editorId:o}}=n;let i;if(!o)return{};if(i=Ba(n).find((x=>x.userId===o)),!i)return{};const{userId:c,isHost:d,displayName:p,avatar:v,bCoHost:S,zoomID:T}=i;return{userId:c,isHost:d,displayName:p,avatar:v,bCoHost:S,zoomID:T}}getManualCaptionUrl(){const{[Ko]:e}=this,{meeting:{meetingOptions:n,ccUrl:o,confId:i},breakoutRoom:c,liveTranscription:{externalCcUrl:d}}=e(),{isEnableManualCaptions:p,isEnableAllowThirdPartyCCToken:v}=n||{};if(!p||!v)return console.warn("you not enable manual caption"),"";const S=d||o;return c&&Ag(e())?`${S}&${new URLSearchParams({subconfid:i}).toString()}`:S}},zn(mc.prototype,"startLiveTranscription",[Gn,R_],Object.getOwnPropertyDescriptor(mc.prototype,"startLiveTranscription"),mc.prototype),zn(mc.prototype,"disableCaptions",[xd,Gn,R_],Object.getOwnPropertyDescriptor(mc.prototype,"disableCaptions"),mc.prototype),zn(mc.prototype,"setSpeakingLanguage",[Gn,R_],Object.getOwnPropertyDescriptor(mc.prototype,"setSpeakingLanguage"),mc.prototype),zn(mc.prototype,"setTranslationLanguage",[Gn,R_],Object.getOwnPropertyDescriptor(mc.prototype,"setTranslationLanguage"),mc.prototype),zn(mc.prototype,"lockTranscriptionLanguage",[xd,Gn,R_],Object.getOwnPropertyDescriptor(mc.prototype,"lockTranscriptionLanguage"),mc.prototype),zn(mc.prototype,"enableManualCaptioner",[xd,Gn,R_],Object.getOwnPropertyDescriptor(mc.prototype,"enableManualCaptioner"),mc.prototype),zn(mc.prototype,"disableManualCaptioner",[xd,Gn,R_],Object.getOwnPropertyDescriptor(mc.prototype,"disableManualCaptioner"),mc.prototype),zn(mc.prototype,"assignManualCaption",[Gn,xd,R_],Object.getOwnPropertyDescriptor(mc.prototype,"assignManualCaption"),mc.prototype),zn(mc.prototype,"sendCaptionTextManually",[Gn,R_],Object.getOwnPropertyDescriptor(mc.prototype,"sendCaptionTextManually"),mc.prototype),mc);const RKe={epics0:e=>e.pipe(Uo(`${Mv}`),xo((n=>{const{payload:{liveTranscription:o}}=n;return v4e(o)}))),epics1:(e,n)=>Bo(e,W0).pipe(En((o=>{var i,c;return((i=o.payload.body)===null||i===void 0?void 0:i.NewLttAvaliable)!==void 0||((c=o.payload.body)===null||c===void 0?void 0:c.LiveTransEngineType)!==void 0})),xo((o=>{const{payload:{body:{NewLttAvaliable:i,LiveTransEngineType:c}}}=o,{liveTranscription:{isEnableAutomatedCaptions:d}}=n.value;return i!==void 0?(it(ODe,!!i),g4e(d&&!!i)):E4e(c)}))),epics2:(e,n)=>Bo(e,7982).pipe(rn((o=>{const{payload:{body:{status:i,gwId:c}}}=o,d=[];switch(i){case aX.Ready:d.push(b4e(c));break;case aX.ManualCaptionerEnabled:it(H0,{autoCaption:!1}),d.push(hbe(!0));break;case aX.ManualCaptionerDisabled:it(H0,{autoCaption:!0}),d.push(q3e({editorId:"",isEditor:!1,editorZoomId:""})),d.push(hbe(!1));break;case aX.UserSub:{it(H0,{autoCaption:n.value.liveTranscription.isLiveTranscriptionEnabled});const{liveTranscription:{stateBeforeFailover:v,transcriptionMode:S,isSomeoneSetSessionTranscription:T}}=n.value;if(v!=null&&v.isLiveTranscriptionSubscribed){var p;ume.enableNewLLT();const x=(p=v.currentTranscriptionLang)!==null&&p!==void 0?p:Zy.English;cJ(v.currentTranscriptionLang,S===_3.Session&&!T,{state:n.value,rwgAgent:ume}),d.push(Jx(x)),v.currentTranslationLang!==void 0&&ume.setTranslationLanguage(v.currentTranslationLang),d.push(w4e())}break}}return eo(d)}))),epics3:e=>Bo(e,7984).pipe(xo((n=>{const{payload:{body:{langs:o}}}=n;return y4e(o)}))),epics4:e=>Bo(e,8011).pipe(rn((n=>{const{payload:{body:{disabled:o}}}=n,i=[];return it(hye,o),i.push(T4e(o)),o&&i.push(fbe(!1)),eo(i)}))),epics5:(e,n)=>Bo(e,7985).pipe(En((o=>{var i;return((i=o.payload.body)===null||i===void 0?void 0:i.success)===!0})),rn((o=>{const{payload:{body:{src:i,lang:c,success:d}}}=o,{liveTranscription:{transcriptionLang:p}}=n.value,v=[];var S;return d&&v.push(fbe(!0)),i===Mx.ASR?(c===Zy.NoTranslation?v.push(lee(void 0)):v.push(lee(c)),it(H0,{autoCaption:!0,lang:c,language:(S=p.find((T=>T.code===c)))===null||S===void 0?void 0:S.lang})):[Mx.InMeetingManual,Mx.ExternalCaptioner].includes(i)&&it(H0,{autoCaption:!1}),eo(v)}))),epics6:(e,n)=>Bo(e,7986).pipe(ts(n),rn((([o,i])=>{const c=gs(i),{liveTranscription:{currentTranscriptionLang:d,isSomeoneSetSessionTranscription:p,transcriptionLang:v}}=i,{payload:{body:S}}=o,T=[x4e(!0)];if((S==null?void 0:S.lang)!==void 0){const{lang:P}=S,B=d!==P;var x;p&&!B||it(H0,{autoCaption:!0,sessionLang:P,sessionLanguage:(x=v.find((U=>U.code===P)))===null||x===void 0?void 0:x.lang}),(c==null?void 0:c.audio)===Ji.Computer&&B&&Abe(P),T.push(Jx(P))}return eo(T)}))),epics7:(e,n)=>lr(e,Jn.JoinComputerAudioComplete).pipe(En((()=>{const{liveTranscription:{transcriptionMode:o,isLiveTranscriptionSubscribed:i,currentTranscriptionLang:c}}=n.value;return c!==void 0&&(o===_3.Individual||o===_3.Session&&i)})),$o((()=>{const{liveTranscription:{currentTranscriptionLang:o}}=n.value;o&&Abe(o)})),Eg()),epics8:(e,n)=>Bo(e,7983).pipe(En((o=>o.payload.body!==void 0)),rn((o=>{const{payload:{body:{msgType:i,errorCode:c,language:d,source:p,content:v,keyNodeId:S,msgId:T,nodeId:x,pos:P,size:B,audioLanguage:U}}}=o;if(i===Tx.Error){if(c===aOe.TranslateNotSupport){const{liveTranscription:{currentTranslationLang:j}}=n.value;j&&it(o6,{error:aOe.TranslateNotSupport,errorMessage:`${pee[U]} to ${pee[j]} translation is not supported!`,audioLanguage:U,translationLang:j})}}else{const j=n.value,W=Ba(j),{liveTranscription:{isManualCaptionerEnabled:Z}}=j;if(Z&&p===Mx.ASR)return Promise.resolve();if((function(re,le){const{liveTranscription:{isEnableTranslatedCaptions:ie,isLiveTranscriptionEnabled:be},meeting:{meetingOptions:Ce}}=le,{isEnableManualCaptions:Ae,isEnableAllowHostAssignTypeCC:F,isEnableClosedCaption:Ie,isEnableAllowThirdPartyCCToken:tt}=Ce;return re===Mx.ASR?ie||be:re===Mx.InMeetingManual?Ae&&F||Ae===void 0&&Ie:re===Mx.ExternalCaptioner?tt:void 0})(p,j)&&v&&S){const re=TKe(j)[S];if(re)return Jf.beginDecrypt({decryptedText:v,type:Xf.CC_MESSAGE,zoomId:re}).then((({message:le})=>{const{liveTranscription:{messageRecords:ie}}=n.value,be=[],Ce=ie.find((Ae=>Ae.msgId===T));if(Ce){const{text:Ae}=Ce,F=((tt,Xe)=>{if(!tt||Xe===0)return"";let Ve=0;for(let Re=0;Re<tt.length;Re++)if(Ve+=uPe(tt[Re]),Ve===Xe)return tt.slice(0,Re+1);return tt})(Ae,P);let Ie;i===Tx.Insert&&B===0||i===Tx.Delete&&B===0?Ie={...Ce,text:F+le,msgType:i}:i===Tx.Close&&(Ie={...Ce,text:le,msgType:i,done:!0}),Ie&&(be.push(S4e(Ie)),it(o6,Ie))}else if([Tx.New,Tx.Close].includes(i)||Z&&i===Tx.Insert){const Ae=W.find((Ie=>Ie.userId===x)),F={msgId:T,userId:x,displayName:Ae==null?void 0:Ae.displayName,avatar:Ae==null?void 0:Ae.avatar,text:le,source:p,language:d,timestamp:new Date().getTime(),done:i===Tx.Close};be.push(pbe({...F,msgType:i})),it(o6,F)}return be}))}}return Promise.resolve()})),rn((o=>Array.isArray(o)?eo(o):Oo))),epics9:(e,n)=>e.pipe(Uo(`${pbe}`),ed(sA),rn((()=>{const{liveTranscription:{messageRecords:o}}=n.value;return o.length>=1e5?(function(i){const{meeting:{meetingId:c},liveTranscription:{messageRecords:d,reducedRecordsCount:p}}=i;return window.indexedDB!==void 0?new Promise((v=>{const S=window.indexedDB.open(lJ,1);S.addEventListener("upgradeneeded",(()=>{const T=S.result;if(!T.objectStoreNames.contains(B_)){const x=T.createObjectStore(B_,{keyPath:["startIndex","mid"],autoIncrement:!1});x.createIndex("mid","mid",{unique:!1}),x.transaction.oncomplete=()=>{console.log(`Create objectStore [${B_}] complete`)}}})),S.addEventListener("success",(()=>{const T=S.result,x=d.length,P=.9*x,B=x-P,U=d.slice(0,P),j=p+U.length,W=T.transaction([B_],"readwrite");W.objectStore(B_).put({startIndex:p,mid:c,records:U}),W.oncomplete=()=>{v(C4e({remains:B,reducedRecordsCount:j})),T.close()},W.onerror=()=>{v(""),T.close()}}))})):Promise.resolve("")})(n.value):Promise.resolve("")})),En((o=>typeof o=="object"))),epics10:(e,n)=>e.pipe(Uo(`${Uk}`,`${Z3}`),En((()=>n.value.liveTranscription.isRecordsReduced)),$o((()=>{(function(){if(window.indexedDB!==void 0){const o=window.indexedDB.open(lJ,1);o.addEventListener("success",(()=>{const i=o.result;i.objectStoreNames.contains(B_)&&(window.indexedDB.deleteDatabase(lJ),i.close())}))}})()})),Eg()),epics11:(e,n)=>lr(e,[Jn.AudiobridgeSetCcLangSuccess,Jn.AudiobridgeSetCcLangFailure]).pipe(rn((o=>{const{payload:{type:i,data:c}}=o,{liveTranscription:{currentTranscriptionLang:d}}=n.value,p=[];return i===Jn.AudiobridgeSetCcLangSuccess&&c!==d?p.push(Jx(c)):i===Jn.AudiobridgeSetCcLangFailure&&p.push(Jx(void 0)),eo(p)}))),epics12:e=>Bo(e,8014).pipe(En((n=>!!n.payload.body)),rn((n=>{const{payload:{body:{delivered:o,type:i}}}=n,c=[];return i==="translationstarted"?o&&(c.push(O4e(!0)),it(H0,{autoCaption:!0,translationStarted:!0})):i==="meetinglanglocked"?(c.push(I4e(o)),it(fye,o)):i==="tcap"&&o&&c.push(R4e(!0)),eo(c)}))),epics13:e=>Bo(e,8026).pipe(En((n=>{var o;return!((o=n.payload.body)===null||o===void 0||!o.url)})),xo((n=>k4e(n.payload.body.url)))),epics14:e=>Bo(e,8027).pipe(xo((n=>{var o;return Jx((o=n.payload.body)===null||o===void 0?void 0:o.speaking_language_id)})))},kKe=xg(RKe),uOe={isLiveStreamEnable:!1,status:0,channelName:"",viewerUrl:"",liveStreamOn:!1},DKe=Im({[`${N4e}`]:ht(((e,{payload:n})=>{e.isLiveStreamEnable=n})),[`${uee}`]:ht(((e,{payload:n})=>{e.status=n})),[`${L4e}`]:ht(((e,{payload:n})=>{e.channelName=n.channelName,e.viewerUrl=n.viewerUrl,e.liveStreamOn=n.liveStreamOn})),[`${B4e}`]:(e,{payload:n})=>n?{...e}:{...uOe}},uOe);let xx=(function(e){return e[e.Ended=0]="Ended",e[e.InProgress=1]="InProgress",e[e.Connecting=2]="Connecting",e[e.Timeout=3]="Timeout",e})({});var Ox;const dOe=ea.createAgent();let MKe=(Ox=class extends NS{startLiveStream(e,n,o){const{[Ko]:i,[Bc]:c}=this,{liveStream:{isLiveStreamEnable:d,status:p},meeting:{zlkJwtToken:v}}=i();return v?p===xx.InProgress?Promise.reject({type:dn,reason:"Live stream is already on",errorCode:lt.LIVE_STREAM_MISMATCH_STATE}):d?e&&n&&o?(dOe.startLiveStream(e,n,o),yr({event:r6,operations:[En((S=>S===xx.InProgress)),Qr(1)]},void 0,3e4).then((()=>"")).catch((()=>{const{liveStream:{status:S}}=i();return S===xx.Connecting?(it(r6,xx.Timeout),c(uee(xx.Timeout)),Promise.reject({type:cf,errorCode:lt.INTERNAL_ERROR})):Promise.resolve("")}))):Promise.reject({type:nr,reason:"parameter cannot be empty",errorCode:lt.LIVE_STREAM_INVALID_PARAMETER}):Promise.reject({type:dn,reason:"Live stream is not enabled",errorCode:lt.LIVE_STREAM_ACCOUNT_DISABLE}):Promise.reject({type:dn,reason:"meeting sdk don't support start live stream use startLiveStream",errorCode:lt.LIVE_STREAM_INVALID_PARAMETER})}stopLiveStream(){const{[Ko]:e,[Bc]:n}=this,{liveStream:{status:o}}=e();return o===xx.InProgress&&(dOe.stopLiveStream(),it(r6,xx.Ended),n(uee(xx.Ended))),Promise.resolve("")}getLiveStreamInfo(){const e=this[Ko](),{meeting:{liveStreamInfo:n,zlkJwtToken:o,isHost:i}}=e;return o?(console.warn("video sdk don't support get live stream info"),null):i?n&&Object.keys(n).length!==0?n:(console.warn("can not get live stream info"),null):(console.warn("only host get live stream info"),null)}isLiveStreamEnabled(){const{[Ko]:e}=this,{liveStream:n,meeting:{liveStreamInfo:o,zlkJwtToken:i}}=e();return(i||(o==null?void 0:o.isEnabledLiveStream))&&!(n==null||!n.isLiveStreamEnable)}getLiveStreamStatus(){const{[Ko]:e}=this,{liveStream:{liveStreamOn:n,channelName:o,viewerUrl:i,status:c}}=e();return{liveStreamOn:n,channelName:o,viewerUrl:i,status:c}}},zn(Ox.prototype,"startLiveStream",[xd],Object.getOwnPropertyDescriptor(Ox.prototype,"startLiveStream"),Ox.prototype),zn(Ox.prototype,"stopLiveStream",[xd],Object.getOwnPropertyDescriptor(Ox.prototype,"stopLiveStream"),Ox.prototype),Ox);const PKe=xg({epics0:e=>e.pipe(Uo(`${Mv}`),xo((n=>{const{payload:{liveStreamInfo:o}}=n;return N4e(!(o==null||!o.isEnabledLiveStream))}))),epics1:e=>Bo(e,7970).pipe(rn((n=>{const{payload:{body:{channelName:o,liveStreamOn:i,_isApiCall:c,status:d,viewerUrl:p}}}=n;return it(r6,d),eo([L4e({channelName:o,viewerUrl:p,liveStreamOn:i}),uee(d)])})))}),{setSummaryEnable:iBe,setSmartSummaryStatus:aBe,resetSummary:NKe}=ch("SET_SUMMARY_ENABLE","SET_SMART_SUMMARY_STATUS","RESET_SUMMARY"),{setMeetingQueryEnable:lBe,setMeetingQueryStatus:cBe}=ch("SET_MEETING_QUERY_ENABLE","SET_MEETING_QUERY_STATUS");let Qx=(function(e){return e.Default="",e.Start="Start",e.Paused="Paused",e.Stopped="Stopped",e})({}),uO=(function(e){return e[e.GW_IND_NONE=0]="GW_IND_NONE",e[e.GW_IND_START=1]="GW_IND_START",e[e.GW_IND_PAUSE=2]="GW_IND_PAUSE",e[e.GW_IND_STOP=3]="GW_IND_STOP",e})({}),eO=(function(e){return e.Default="",e.Start="Start",e.Paused="Paused",e.Stopped="Stopped",e})({}),dO=(function(e){return e[e.GW_IND_NONE=0]="GW_IND_NONE",e[e.GW_IND_START=1]="GW_IND_START",e[e.GW_IND_PAUSE=2]="GW_IND_PAUSE",e[e.GW_IND_STOP=3]="GW_IND_STOP",e})({});const hOe={summaryStatus:uO.GW_IND_STOP,summaryEnable:!1,meetingQueryStatus:dO.GW_IND_STOP,meetingQueryEnable:!1},LKe=Im({[`${iBe}`]:ht(((e,{payload:n})=>{e.summaryEnable=n})),[`${aBe}`]:ht(((e,{payload:n})=>{e.summaryStatus=n})),[`${lBe}`]:ht(((e,{payload:n})=>{e.meetingQueryEnable=n})),[`${cBe}`]:ht(((e,{payload:n})=>{e.meetingQueryStatus=n})),[`${NKe}`]:()=>({...hOe})},hOe);var fOe,pOe,mOe,gOe,B0;const lX=ea.createAgent();let BKe=(fOe=Fo("summary"),pOe=Fo("summary"),mOe=Fo("summary"),gOe=Fo("summary"),zn((B0=class extends NS{startSummary(){const e=this[Ko](),{summary:{summaryEnable:n,summaryStatus:o}}=e;return n?o===uO.GW_IND_START?Promise.resolve(""):(lX.summaryMeeting(!0),yr(Gx,(i=>i.status===Qx.Start))):Promise.reject({type:dn,reason:"The account of the meeting disabled the smart summary",errorCode:lt.SUMMARY_ACCOUNT_DISABLE})}stopSummary(){const e=this[Ko](),{summary:{summaryStatus:n}}=e;return n!==uO.GW_IND_START?Promise.resolve("not start summary, do nothing"):(lX.summaryMeeting(!1),yr(Gx,(o=>o.status===Qx.Stopped)))}getSummaryStatus(){const e=this[Ko](),{summary:{summaryStatus:n}}=e;return n===uO.GW_IND_START?Qx.Start:n===uO.GW_IND_STOP?Qx.Stopped:Qx.Default}isSummaryEnabled(){const e=this[Ko](),{summary:{summaryEnable:n}}=e;return n}startMeetingQuery(){const e=this[Ko](),{summary:{meetingQueryEnable:n,meetingQueryStatus:o}}=e;return n?o===dO.GW_IND_START?Promise.resolve(""):(lX.startMeetingQuery(!0),yr(qx,(i=>i.status===eO.Start))):Promise.reject({type:dn,reason:"The account of the meeting disabled the smart summary",errorCode:lt.SUMMARY_ACCOUNT_DISABLE})}stopMeetingQuery(){const e=this[Ko](),{summary:{meetingQueryStatus:n}}=e;return n!==dO.GW_IND_START?Promise.resolve("not start meeting query, do nothing"):(lX.startMeetingQuery(!1),yr(qx,(o=>o.status===eO.Stopped)))}getMeetingQueryStatus(){const e=this[Ko](),{summary:{meetingQueryStatus:n}}=e;return n===dO.GW_IND_START?eO.Start:n===dO.GW_IND_STOP?eO.Stopped:eO.Default}isMeetingQueryEnabled(){const e=this[Ko](),{summary:{meetingQueryEnable:n}}=e;return n}}).prototype,"startSummary",[xd,Gn,fOe],Object.getOwnPropertyDescriptor(B0.prototype,"startSummary"),B0.prototype),zn(B0.prototype,"stopSummary",[xd,Gn,pOe],Object.getOwnPropertyDescriptor(B0.prototype,"stopSummary"),B0.prototype),zn(B0.prototype,"startMeetingQuery",[xd,Gn,mOe],Object.getOwnPropertyDescriptor(B0.prototype,"startMeetingQuery"),B0.prototype),zn(B0.prototype,"stopMeetingQuery",[xd,Gn,gOe],Object.getOwnPropertyDescriptor(B0.prototype,"stopMeetingQuery"),B0.prototype),B0);const VKe=xg({moduleEpics0:e=>Bo(e,8007).pipe(En((n=>{var o;return((o=n.payload.body)===null||o===void 0?void 0:o.supported)!==void 0})),xo((n=>{const{supported:o}=n.payload.body;return it(Gx,{supported:o}),iBe(o)}))),moduleEpics1:(e,n)=>Bo(e,8008).pipe(En((o=>{var i;return((i=o.payload.body)===null||i===void 0?void 0:i.status)!==void 0})),ts(n),rn((([o,i])=>{const{status:c}=o.payload.body,{summary:{summaryStatus:d}}=i,p=[];if(c!==d)switch(c){case uO.GW_IND_START:it(Gx,{status:Qx.Start});break;case uO.GW_IND_PAUSE:it(Gx,{status:Qx.Paused});break;case uO.GW_IND_STOP:it(Gx,{status:Qx.Stopped});break;default:it(Gx,{status:""})}return p.push(aBe(c)),eo(p)}))),moduleEpics2:(e,n)=>Bo(e,8015).pipe(En((o=>{var i;return((i=o.payload.body)===null||i===void 0?void 0:i.supported)!==void 0})),ts(n),xo((([o,i])=>{const{supported:c}=o.payload.body;it(qx,{supported:c});const{meeting:{zlkJwtToken:d}}=i;if(d){const{auto_transcription:p}=aA(d);p&&(c?ea.createAgent().startMeetingQuery(!0):console.warn("You account don't support auto transcription"))}return lBe(c)}))),moduleEpics3:(e,n)=>Bo(e,8016).pipe(En((o=>{var i;return((i=o.payload.body)===null||i===void 0?void 0:i.status)!==void 0})),ts(n),rn((([o,i])=>{const{status:c}=o.payload.body,{summary:{meetingQueryStatus:d}}=i,p=[];if(c!==d)switch(c){case dO.GW_IND_START:it(qx,{status:eO.Start});break;case dO.GW_IND_PAUSE:it(qx,{status:eO.Paused});break;case dO.GW_IND_STOP:it(qx,{status:eO.Stopped});break;default:it(qx,{status:""})}return p.push(cBe(c)),eo(p)})))});let yS=(function(e){return e[e.Init=0]="Init",e[e.Pending=1]="Pending",e[e.InProgress=2]="InProgress",e[e.Closing=3]="Closing",e[e.Closed=4]="Closed",e})({}),mee=(function(e){return e[e.Start=1]="Start",e[e.Stop=2]="Stop",e})({});const FKe=Qf.getInstance();function v6(e){FKe.report(e,["Broadcast streaming"])}const vOe={utk:"",status:yS.Init,channelId:"",channelName:"",isBroadcastStreamingEnable:!1},HKe=Im({[`${V4e}`]:(e,n)=>ht(e,(o=>{o.utk=n.payload})),[`${J6}`]:(e,n)=>ht(e,(o=>{const{channelId:i,channelName:c}=n.payload;o.channelId=i,o.channelName=c})),[`${mbe}`]:(e,n)=>ht(e,(o=>{o.status=n.payload})),[`${F4e}`]:(e,n)=>ht(e,(o=>{o.isBroadcastStreamingEnable=n.payload})),[`${H4e}`]:(e,{payload:n})=>n?{...e}:{...vOe}},vOe);var Ix;const bOe=ea.createAgent(),yOe=Dp("Broadcast streaming");let $Ke=(Ix=class extends NS{startBroadcast(){const{[Ko]:e,[Bc]:n}=this,{broadcastStreaming:{isBroadcastStreamingEnable:o,status:i},meeting:{meetingNumber:c,topic:d,lang:p},breakoutRoom:v}=e();return o?(v==null?void 0:v.controlStatus)===mi.InProgress&&Ag(e())?Promise.reject({type:dn,reason:"Cannot start broadcast in a breakout room.",errorCode:lt.BROADCAST_STREAMING_MISMATCH_STATE}):i===yS.Init||i===yS.Closed?(bOe.requestUserInfoToken(4,1),n6(xa(Vge,1).pipe(Ei((S=>{const T=`https://${k6()}/live/createAndStartStream`,x=(function(B){return B.slice(0,128).padEnd(5,"*")})(d??""),P={meetingNumber:`${c}`,channelName:x};return Ov({url:T,method:"POST",headers:{utk:S,lang:p,"Content-Type":"application/json"},crossDomain:Rb(T),body:P}).pipe(Nh(iA()),rn((B=>{const{status:U,errorCode:j,errorMessage:W,result:Z}=B.response;return U&&j===0?(n(J6({channelName:x,channelId:Z==null?void 0:Z.channelId,type:mee.Start})),ai.set(ol.VIDEO_SDK_BROADCAST_STREAMING_CHANNEL_ID,Z==null?void 0:Z.channelId,ya.SessionStorage),Promise.resolve(Z.channelId)):(v6(`Start broadcast streaming error: errorCode: ${j}; message:${W},tid:${(re=B.responseHeaders)===null||re===void 0?void 0:re["x-zm-trackingid"]}`),Promise.reject({type:cf,errorCode:lt.INTERNAL_ERROR}));var re})),xm((B=>(v6(`Start broadcast streaming error: ${B.name};${B.message}`),Promise.reject({type:cf,errorCode:lt.INTERNAL_ERROR})))))}))))):Promise.reject({type:dn,reason:"Broadcast streaming is already in progress",errorCode:lt.BROADCAST_STREAMING_MISMATCH_STATE}):Promise.reject({type:dn,reason:"Broadcast streaming is not enabled",errorCode:lt.BROADCAST_STREAMING_ACCOUNT_DISABLE})}stopBroadcast(e){const{[Ko]:n,[Bc]:o}=this,{broadcastStreaming:{status:i,utk:c,channelId:d,channelName:p},meeting:{meetingNumber:v,lang:S}}=n(),T=e||d;if(!T)return Promise.reject({type:nr,reason:"Channel ID is required to stop broadcast streaming",errorCode:lt.BROADCAST_STREAMING_INVALID_CHANNEL_ID});if(i===yS.InProgress){const x=`https://${k6()}/live/stopStream`,P={meetingNumber:`${v}`,channelId:T};let B=Promise.resolve(c);return c||(bOe.requestUserInfoToken(4,1),B=n6(xa(Vge,1))),B.then((U=>n6(Ov({url:x,method:"POST",headers:{utk:U,lang:S,"Content-Type":"application/json"},crossDomain:Rb(x),body:P}).pipe(Nh(iA()),rn((j=>{const{status:W,errorCode:Z,errorMessage:re}=j.response;return W&&Z===0?(o(J6({channelName:p,channelId:T,type:mee.Stop})),Promise.resolve(T)):(v6(`Stop broadcast streaming error: errorCode: ${Z}; message:${re}, tid:${(le=j.responseHeaders)===null||le===void 0?void 0:le["x-zm-trackingid"]}`),Promise.reject({type:cf,errorCode:lt.INTERNAL_ERROR}));var le}))))))}return Promise.reject({type:dn,reason:"Broadcast streaming is not in progress",errorCode:lt.BROADCAST_STREAMING_MISMATCH_STATE})}getBroadcastStreamingStatus(){const{[Ko]:e}=this,{broadcastStreaming:{status:n,channelId:o}}=e();return{status:n,channelId:o}}isBroadcastStreamingEnable(){const{[Ko]:e}=this,{broadcastStreaming:{isBroadcastStreamingEnable:n}}=e();return n}},zn(Ix.prototype,"startBroadcast",[Gn,xd,yOe],Object.getOwnPropertyDescriptor(Ix.prototype,"startBroadcast"),Ix.prototype),zn(Ix.prototype,"stopBroadcast",[Gn,xd,yOe],Object.getOwnPropertyDescriptor(Ix.prototype,"stopBroadcast"),Ix.prototype),Ix);const UKe=xg({epics0:e=>e.pipe(Uo(`${Mv}`),rn((n=>{const{payload:{enableVsdkInteractiveLiveStream:o}}=n,i=[];i.push(F4e(!!o));const c=ai.get(ol.VIDEO_SDK_BROADCAST_STREAMING_CHANNEL_ID);return c&&i.push(J6({channelId:c})),eo(i)}))),epics1:e=>Bo(e,4310).pipe(rn((n=>{const{payload:{body:o}}=n,i=[];if((o==null?void 0:o.type)===4){const{utk:c}=o;i.push(V4e(c)),it(Vge,c)}return eo(i)}))),epics2:(e,n)=>Bo(e,7995).pipe(rn((o=>{const{payload:{body:{status:i}}}=o,{broadcastStreaming:{status:c}}=n.value,d=[];return i&&c!==yS.InProgress&&(d.push(mbe(yS.InProgress)),it(Fge,{status:yS.InProgress})),eo(d)}))),epics3:(e,n)=>e.pipe(Uo(`${J6}`),En((o=>!!o.payload.type)),Ei((o=>{const i=`https://${k6()}/live/getStreamState`,{broadcastStreaming:{utk:c},meeting:{meetingNumber:d}}=n.value,{payload:{channelId:p,type:v}}=o,S={meetingNumber:`${d}`,channelId:p};return BEe((()=>Ov({url:i,method:"POST",headers:{utk:c,"Content-Type":"application/json"},crossDomain:Rb(i),body:S}))).pipe((T=P=>{const{status:B,errorCode:U,result:j}=P.response;if(B&&U===0){const W=v===mee.Start?yS.InProgress:yS.Closed;if((j==null?void 0:j.state)===W)return Ua(P)}return BEe((()=>Ov({url:i,method:"POST",headers:{utk:c,"Content-Type":"application/json"},crossDomain:Rb(i),body:S}))).pipe(wDe((()=>_u(1e3))))},x===void 0&&(x=1/0),x=(x||0)<1?1/0:x,lh((function(P,B){return SDe(P,B,T,x,0,!0,void 0)}))),Nh(iA()),sk((P=>{const{status:B,errorCode:U,result:j,errorMessage:W}=P.response;if(B&&U===0){const re=v===mee.Start?yS.InProgress:yS.Closed;return(j==null?void 0:j.state)!==re}var Z;return v6(`Query broadcast streaming status failed. errorCode: ${U}, errorMessage: ${W},tid:${(Z=P.responseHeaders)===null||Z===void 0?void 0:Z["x-zm-trackingid"]}`),!1}),!0),iye(6e4),rn((P=>{const{status:B,errorCode:U,result:j}=P.response,W=[];return B&&U===0&&(it(Fge,{status:j.state}),W.push(mbe(j.state))),W})),xm((P=>(v6(`Query broadcast streaming status failed. error: ${P.name}; ${P.message}`),Oo))));var T,x})))});var R5;const zKe={chat:{epic:dZe,reducer:lZe,Client:cZe},logger:{epic:zZe,reducer:FZe,Client:class extends NS{getLogs(e){return D2.getLogs(this[gc],e)}getStore(){return D2.doNotUseDirtyGetStore()}setLogOptions(e){e&&this[gc].dispatch(g1e(e))}isAutoReportInAccountSettingEnabled(){const{meeting:{zlkJwtToken:e,enableAutoLog:n,collectionToggleEnable:o,zsk:i}}=this[gc].getState();return!!e||(i?n&&o:n)}reportMeetingProblem(e){var n;const{product:o,problem:i,timeOfOccurrence:c,description:d,ticket:p,isLogIncluded:v}=e,{meeting:{userId:S,confId:T,conId:x,svcUrl:P}}=this[gc].getState(),B=`'product':${o}
'problem':${i}
'timeOfOccurrence':${c}
'description':${d}
'ticketID':${p}
'isLogIncluded':${v?"Logs included":""}
'nodeId':${S}
'confId':${T}
'conId':${x}
'svcUrl':${P}`,U=["REPORT_NOTIFICATION"];return(n=D2.makeLogger(U).logWithExtraProperties("",{IM_NOTIFICATION:`${B}
TrackingId:${D2.trackingId}`}))===null||n===void 0?void 0:n.then((()=>{D2.reportToGlobalTracing(v?void 0:U,!0)}))}reportToGlobalTracing(e){return VZe.beforeReportToGlobalTracing(),D2.reportToGlobalTracing(e,!0)}reportRating(e,n){const{meeting:o,media:i,socket:c}=this[gc].getState();if(o){var d,p,v,S;const{zlkJwtToken:T,meetingStatus:x}=o,{assetsPath:P,enforceMultipleVideos:B,enforceVirtualBackground:U,disableRenderLimits:j}=i;D2.report(`rating:${e}, feedback:${n}, appKey:${T?(d=aA(T))===null||d===void 0?void 0:d.app_key:""}, CPU:${navigator.hardwareConcurrency}, GPU:${(p=Yo.gpu)!==null&&p!==void 0?p:""}, browser:${Yo.browser} ${Yo.browserVersion}, OS:${Yo.os} ${Yo.osVersion}, SharedArrayBuffer:${!!Yo.isSupportSharedArrayBuffer},
         OffscreenCanvas:${!!Yo.isSupportOffscreenCanvas},
         assetPath:${P},
          enforceMultipleVideos:${B},
          disableRenderLimits:${j},
          enforceVirtualBackground:${U}, ${x===Lh.Joined?`session duration:${Math.floor((performance.now()-((v=o==null?void 0:o.pingRWCTimestamp)!==null&&v!==void 0?v:0))/1e3)}, rwg:${c==null||(S=c.rwgServerList)===null||S===void 0||(S=S[c.retryCount])===null||S===void 0?void 0:S.rwg}, failover count:${o==null?void 0:o.failover.count}`:""}`,"User Rating","info"),Number(e)<=2&&this.reportToGlobalTracing()}return Promise.resolve()}}},recording:{epic:ZZe,reducer:WZe,Client:GZe},cmd:{epic:eKe,reducer:XZe,Client:JZe},breakoutRoom:{epic:AKe,reducer:lKe,Client:EKe},liveTranscription:{epic:kKe,reducer:OKe,Client:IKe},liveStream:{epic:PKe,reducer:DKe,Client:MKe},summary:{epic:VKe,reducer:LKe,Client:BKe},broadcastStreaming:{epic:UKe,reducer:HKe,Client:$Ke}},jKe=ea.createAgent();let WKe=(R5=class extends Xqe{constructor(e){super(e),this.mediaStream=void 0,this[KJ]=zKe}getMediaStream(){return this.mediaStream===void 0&&(this.mediaStream=new aKe(this[gc])),this.mediaStream}joinInstant(e,n,o,i,c,d){const{[Ko]:p,[Bc]:v}=this,{meeting:{lang:S,meetingStatus:T},socket:{zoomSocketStatus:x}}=p();return n?T!==Lh.Joined&&x===La.Closed?(v(q3({topic:e==null?void 0:e.toLowerCase(),password:c||"",userName:o,zlk:n,lang:S,cv:i})),d&&v(zNe(d)),kx(v7e.JoinMeeting)):Promise.reject({type:dn,reason:"duplicated operation",errorCode:lt.CLIENT_DUPLICATED_JOIN}):Promise.reject({type:nr,reason:"invalid  signature",errorCode:lt.CLIENT_INVALID_JOIN_PARAMETER})}removeUser(e){const n=this[gc].getState(),{participants:{attendeesList:o},breakoutRoom:i}=n,c=o.find((d=>d.userId===e));if(c){let d=e;if((i==null?void 0:i.controlStatus)===mi.InProgress&&Ag(n)){const p=i.mainSessionAttendeeList.find((v=>v.userGUID===(c==null?void 0:c.userGUID)));p&&(d=p.userId)}return jKe.expel(d),yr(cye,(p=>p.some((v=>v.userId===e))))}return Promise.reject({type:nr,reason:"no matched user",errorCode:lt.CLIENT_MISMATCH_USER})}},zn(R5.prototype,"removeUser",[yu,Gn],Object.getOwnPropertyDescriptor(R5.prototype,"removeUser"),R5.prototype),R5);function b6(e){return b6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},b6(e)}function GKe(e,n,o){return(n=(function(i){var c=(function(d,p){if(b6(d)!="object"||!d)return d;var v=d[Symbol.toPrimitive];if(v!==void 0){var S=v.call(d,p);if(b6(S)!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)})(i,"string");return b6(c)=="symbol"?c:c+""})(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function SOe(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable}))),o.push.apply(o,i)}return o}function COe(e){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?SOe(Object(o),!0).forEach((function(i){GKe(e,i,o[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):SOe(Object(o)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(o,i))}))}return e}function mg(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var EOe=typeof Symbol=="function"&&Symbol.observable||"@@observable",hme=function(){return Math.random().toString(36).substring(7).split("").join(".")},gee={INIT:"@@redux/INIT"+hme(),REPLACE:"@@redux/REPLACE"+hme(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+hme()}};function uBe(e,n,o){var i;if(typeof n=="function"&&typeof o=="function"||typeof o=="function"&&typeof arguments[3]=="function")throw new Error(mg(0));if(typeof n=="function"&&o===void 0&&(o=n,n=void 0),o!==void 0){if(typeof o!="function")throw new Error(mg(1));return o(uBe)(e,n)}if(typeof e!="function")throw new Error(mg(2));var c=e,d=n,p=[],v=p,S=!1;function T(){v===p&&(v=p.slice())}function x(){if(S)throw new Error(mg(3));return d}function P(U){if(typeof U!="function")throw new Error(mg(4));if(S)throw new Error(mg(5));var j=!0;return T(),v.push(U),function(){if(j){if(S)throw new Error(mg(6));j=!1,T();var W=v.indexOf(U);v.splice(W,1),p=null}}}function B(U){if(!(function(Z){if(typeof Z!="object"||Z===null)return!1;for(var re=Z;Object.getPrototypeOf(re)!==null;)re=Object.getPrototypeOf(re);return Object.getPrototypeOf(Z)===re})(U))throw new Error(mg(7));if(U.type===void 0)throw new Error(mg(8));if(S)throw new Error(mg(9));try{S=!0,d=c(d,U)}finally{S=!1}for(var j=p=v,W=0;W<j.length;W++)(0,j[W])();return U}return B({type:gee.INIT}),(i={dispatch:B,subscribe:P,getState:x,replaceReducer:function(U){if(typeof U!="function")throw new Error(mg(10));c=U,B({type:gee.REPLACE})}})[EOe]=function(){var U,j=P;return(U={subscribe:function(W){if(typeof W!="object"||W===null)throw new Error(mg(11));function Z(){W.next&&W.next(x())}return Z(),{unsubscribe:j(Z)}}})[EOe]=function(){return this},U},i}function dBe(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return n.length===0?function(i){return i}:n.length===1?n[0]:n.reduce((function(i,c){return function(){return i(c.apply(void 0,arguments))}}))}const mS=ea.createAgent(),qKe=Qf.getInstance();let N2,wOe;const ZKe=ea.createAgent();let wv=null;var _Oe,AOe={exports:{}},KKe=(_Oe||(_Oe=1,AOe.exports=(function(){function e(i){var c=new Date,d="";return i&&(d+="".concat(c.getMonth()+1,"/").concat(c.getDate(),"/").concat(c.getFullYear()," ")),"[".concat(d).concat(c.getHours(),":").concat(c.getMinutes(),":").concat(c.getSeconds(),".").concat(c.getMilliseconds(),`]:
`)}var n=function(i,c){var d={mode:"cors"};return c&&Object.assign(d,{signal:c}),Promise.any(i.map((function(p){return(function(v,S,T,x){function P(B){return B instanceof T?B:new T((function(U){U(B)}))}return new(T||(T=Promise))((function(B,U){function j(re){try{Z(x.next(re))}catch(le){U(le)}}function W(re){try{Z(x.throw(re))}catch(le){U(le)}}function Z(re){re.done?B(re.value):P(re.value).then(j,W)}Z((x=x.apply(v,[])).next())}))})(void 0,0,void 0,(function(){var v,S,T,x,P;return(function(B,U){var j,W,Z,re,le={label:0,sent:function(){if(1&Z[0])throw Z[1];return Z[1]},trys:[],ops:[]};return re={next:ie(0),throw:ie(1),return:ie(2)},typeof Symbol=="function"&&(re[Symbol.iterator]=function(){return this}),re;function ie(Ce){return function(Ae){return be([Ce,Ae])}}function be(Ce){if(j)throw new TypeError("Generator is already executing.");for(;le;)try{if(j=1,W&&(Z=2&Ce[0]?W.return:Ce[0]?W.throw||((Z=W.return)&&Z.call(W),0):W.next)&&!(Z=Z.call(W,Ce[1])).done)return Z;switch(W=0,Z&&(Ce=[2&Ce[0],Z.value]),Ce[0]){case 0:case 1:Z=Ce;break;case 4:return le.label++,{value:Ce[1],done:!1};case 5:le.label++,W=Ce[1],Ce=[0];continue;case 7:Ce=le.ops.pop(),le.trys.pop();continue;default:if(!((Z=(Z=le.trys).length>0&&Z[Z.length-1])||Ce[0]!==6&&Ce[0]!==2)){le=0;continue}if(Ce[0]===3&&(!Z||Ce[1]>Z[0]&&Ce[1]<Z[3])){le.label=Ce[1];break}if(Ce[0]===6&&le.label<Z[1]){le.label=Z[1],Z=Ce;break}if(Z&&le.label<Z[2]){le.label=Z[2],le.ops.push(Ce);break}Z[2]&&le.ops.pop(),le.trys.pop();continue}Ce=U.call(B,le)}catch(Ae){Ce=[6,Ae],W=0}finally{j=Z=0}if(5&Ce[0])throw Ce[1];return{value:Ce[0]?Ce[1]:void 0,done:!0}}})(this,(function(B){switch(B.label){case 0:return B.trys.push([0,3,,4]),[4,fetch(p.url,d)];case 1:if(!(v=B.sent()).ok)throw new Error("HTTP error! status: ".concat(v.status));return[4,v.json()];case 2:return S=B.sent(),T=v.headers.get("call-id"),[2,{response:S,server:p,callId:T}];case 3:throw x=B.sent(),P="server: ".concat(p.domain,", message: ").concat(x.message),new Error(P);case 4:return[2]}}))}))}))).catch((function(p){var v="";return p instanceof AggregateError&&p.errors.forEach((function(S,T){v+="".concat(S.message,`
`)})),Promise.reject(v)}))},o=(function(){function i(){this.MAX_RETRY_TIMES=5}return i.prototype.setRetryTimes=function(c){c===void 0&&(c=5),this.MAX_RETRY_TIMES=c},i.prototype.init=function(c){this.serverList=c,this.delayTime=Array.from(new Set(this.serverList.map((function(d){return d.dl})))),this.excludedServer=[],this.tryTimes=1,this.log="".concat(e(),"initial server list: ").concat(JSON.stringify((function(d){return d.map((function(p){return{domain:p.domain,dl:p.dl,dc:p.dc}}))})(this.serverList)),`
`)},i.prototype.ping=function(c){return this.init(c),this.tryPing()},i.prototype.retry=function(){return this.tryTimes+=1,this.filter(),this.serverList.length===0||this.MAX_RETRY_TIMES>0&&this.tryTimes>this.MAX_RETRY_TIMES?Promise.reject(`no usable RWC any more:
`.concat(this.log)):this.tryPing()},i.prototype.cancelPing=function(){this.abortPingController&&(this.abortPingController.abort(),this.abortPingController=void 0)},i.prototype.tryPing=function(){var c,d=this;this.cancelPing(),this.log+="".concat(e(!0),"Try Times: ").concat(this.tryTimes,`
`),this.abortPingController=(function(){if(typeof AbortController=="function")return new AbortController})();var p=(c=this.abortPingController)===null||c===void 0?void 0:c.signal;return new Promise((function(v,S){var T=d.delayTime.reduce((function(B,U){return B+U}),0),x=setTimeout((function(){d.log+="ping time out ".concat(T+1e4,`s
`),d.serverList=[],d.cancelPing()}),T+1e4),P=(function(B){var U=B.reduce((function(j,W){var Z=W.dl;return j[Z]||(j[Z]=[]),j[Z].push(W),j}),{});return Object.entries(U).map((function(j){var W,Z=j[0],re=j[1];return[(W=Number(Z))!==null&&W!==void 0?W:0,re]})).sort((function(j,W){return j[0]-W[0]})).map((function(j){return j[0],j[1]}))})(d.serverList);Promise.any(P.map((function(B,U){var j=d.delayTime[U];return(function(W,Z,re){return new Promise((function(le,ie){var be;if(re!=null&&re.aborted)return ie(new Error("Promise was cancelled"));var Ce=setTimeout((function(){W().then(le).catch(ie).finally((function(){var F;return(F=re==null?void 0:re.removeEventListener)===null||F===void 0?void 0:F.call(re,"abort",Ae)}))}),Z),Ae=function(){var F;clearTimeout(Ce),(F=re==null?void 0:re.removeEventListener)===null||F===void 0||F.call(re,"abort",Ae),ie(new Error("Promise was cancelled"))};(be=re==null?void 0:re.addEventListener)===null||be===void 0||be.call(re,"abort",Ae)}))})((function(){return d.log+="".concat(e(),"ping[dl=").concat(j,"][groupIndex=").concat(U,"]-->").concat(JSON.stringify(B.map((function(W){return W.domain}))),`
`),n(B,p)}),j,p)}))).then((function(B){var U=B.response,j=B.server,W=B.callId;d.log+="".concat(e(),"ping resolved: request server:").concat(j.domain,`
 response:`).concat(JSON.stringify(U),`
 Call-ID:`).concat(W,`
`),d.lastServer=j,v({response:U,request:j,log:d.log})})).catch((function(B){return B instanceof AggregateError?(d.log+=e(),B.errors.forEach((function(U,j){d.log+="ping failed [groupIndex=".concat(j,`]:
`).concat(U,`
`)}))):d.log+="".concat(e(),"ping failed. Errors(unknown): ").concat(B.message,`
`),S(d.log)})).finally((function(){clearTimeout(x),d.cancelPing()}))}))},i.prototype.filter=function(){var c,d=this;this.serverList=this.serverList.filter((function(p){var v;return p.domain!==d.lastServer.domain&&p.dc!==c||(c||(c=(v=d.excludedServer.find((function(S){return S.dc===d.lastServer.dc})))===null||v===void 0?void 0:v.dc),d.excludedServer.push(d.lastServer),!1)})),this.log+="".concat(e(),"excludedServer ").concat(JSON.stringify(this.excludedServer.map((function(p){return p.domain}))),`
`)},i.prototype.getLog=function(){return this.log},i})();return new o})()),AOe.exports),Rk=Jee(KKe);const Tbe=Qf.getInstance();Rk.setRetryTimes(0);const hBe=e=>CO(Nh(iA().pipe($o((()=>{Rk.cancelPing(),Tbe.report(`ping rwc canceled. ping rwc log:${Rk.getLog()}`,["Join Meeting Flow","Ping RWC Error"],"warn")})))),rn((n=>{const{response:o,request:i}=n;let c={};return c=o?{...o,rwc:i.domain,fromNginx:!1}:{rwc:i.domain,rwg:i.domain,rwcToken:i.rwcToken,fromNginx:!0},eo([eLe(c),Cve()])})),xm((()=>{const n=Rk.getLog(),{meeting:{meetingId:o,meetingNumber:i,userName:c}}=e.value;return Tbe.report(`ping rwc error,${JSON.stringify({meetingId:o,meetingNumber:Zf(i),userName:Zf(c)})}, ping rwc log: ${n}`,["Join Meeting Flow","Ping RWC Error"],"error"),it(Qu,{reason:"connection error",errorCode:lE.CommonError}),eo([...YL(e.value)])}))),TOe=(e,n)=>e.pipe(Uo(`${Lye}`),ts(n),En((([,o])=>o.meeting.encryptedRWC!==void 0||o.meeting.encryptedGEORWC!==void 0&&o.meeting.encryptedGEORWC.length>0)),Ei((([,o])=>eo(Rk.ping((i=>{const{meeting:{encryptedRWC:c,encryptedGEORWC:d,meetingOptions:p,meetingNumber:v,ts:S,auth:T},breakoutRoom:x,video:P,audio:B}=i,U=p==null?void 0:p.isEnableGeoFenceRWC,j=P!=null&&P.isWebrtcVideoCapable||B!=null&&B.isWebRtcAudioCapable&&(B==null?void 0:B.webRtcAudioMode)&V8e.WebRTCAudio2?P==null?void 0:P.miniRwgOptionValue:0;return U&&d&&(d==null?void 0:d.length)>0?d.map((W=>{const{dc:Z,dl:re,rwc:le,rwcToken:ie}=W;return{url:fAe(le,v,ie,S,T,x==null?void 0:x.currentRoom.boConfId,j),domain:le,rwcToken:ie,dl:re,dc:Z}})):c?Object.keys(c).map((W=>{const Z=c[W];return{url:fAe(W,v,Z,S,T,x==null?void 0:x.currentRoom.boConfId,j),domain:W,rwcToken:Z,dl:0,dc:"AP"}})):[]})(o))).pipe(hBe(n),Jy(NNe(performance.now()))))));let xOe=0;const YKe=Qf.getInstance(),fme={meetingStatus:Lh.Initial,isWindowOpen:!1,apiKey:"",signature:"",signatureType:"",lang:"en-US",tk:"",customerKey:"",mtkGuid:"",pingRWCTimestamp:0,meetingInfoTimestamp:0,passWord:"",meetingNumber:0,userName:"",userEmail:"",sdkUrl:"",sdkOrigin:"",proxy:1,cv:"",meetingId:"",tid:"",ts:"",auth:"",sign:"",isSupportCallOut:!1,tollNumbers:void 0,recordingEnable:!1,callOutCountry:void 0,inviteEmail:"",xmppConfig:null,isSupportH323:!1,h323GatewayInfo:"",h323Password:"",trackAuth:"",isOriginHost:!1,isWebinar:!1,encryptedRWC:void 0,meetingOptions:{},meetingTopic:"",bLock:!1,bHoldUponEntry:!1,viewOnly:0,listenOnlyPhone:0,bAllowRaiseHand:!1,bAllowAttendeeRename:!1,bBroadcast:void 0,bAllowPlayChimeForEnterOrExit:!1,bIbDisableShare:!1,bIbDisableChat:!1,bAllowShowCount:!1,encryptKey:"",bNoHostTimeOut:!1,confId:"",conId:"",e2eEncrypt:!1,zoomId:"",jid:"",xtoken:"",groups:void 0,svcUrl:"",encType:NaN,userGUID:"",userId:NaN,isHost:!1,isCoHost:!1,participantID:0,isOnHold:!1,isMeetingReset:!1,bRecord:!1,audioVideoBeforeOnHold:void 0,region:void 0,network:void 0,joinMeetingTimeStamp:0,activeAppInfo:void 0,recordingDisclaimerForRecorder:{},recordingDisclaimer:{},ccUrl:"",sessionIdleTimeoutMins:40,reportDomain:"",discardedRwcList:[],sharePronounType:void 0,stayAwake:!1,wrInfo:{},meetingInfo:{},isNewJoinFlow:!1,gatewayUserList:[],logConfig:"",logEncryptionPubKey:"",failover:{count:0,isCurrentFailoverRecorded:!1,reason:-1,interval:0,joinMeetingSuccessTimestamp:0,sequence:""},isUseWBVideo:!1,isUseWBAudio:!1,enableLongPollingCheckStart:!1,rsPwd:"",chatModerationPolicy:{},isAlternativeHost:!1,isAssistant:!1,isRlbTP:!1,isRlbTPReady:!1,isUIToolkit:!1,liveStreamInfo:{}},XKe=Im({[`${Mv}`]:ht(((e,{payload:n})=>{n.customerKey=e.customerKey||n.customerKey||"",Object.assign(e,n),e.meetingStatus=Lh.Initial})),[`${tGe}`]:ht(((e,{payload:n})=>{n.customerKey=e.customerKey||n.customerKey||"",Object.assign(e,n)})),[`${nGe}`]:ht(((e,{payload:n})=>{e.isWindowOpen=n})),[`${PNe}`]:ht(((e,{payload:n})=>{n.useSDK?e.signatureType="sdk":e.signatureType="api",e.apiKey=n.apiKey,e.signature=n.signature,e.lang=n.language})),[`${oGe}`]:ht(((e,{payload:n})=>{e.ztk=n})),[`${sGe}`]:ht(((e,{payload:n})=>{e.zsk=n})),[`${rGe}`]:ht(((e,{payload:n})=>{e.tk=n.tk,e.mtkGuid=n.mtkGuid})),[`${NNe}`]:ht(((e,{payload:n})=>{e.pingRWCTimestamp=n})),[`${KNe}`]:ht(((e,{payload:n})=>{e.meetingInfoTimestamp=n})),[`${AE}`]:ht(((e,{payload:n})=>{e.confId=n.confID,e.conId=n.conID,e.e2eEncrypt=n.e2eEncrypt,e.meetingNumber=parseInt(n.mn,10),e.zoomId=n.zoomID,e.meetingStatus=Lh.Joined,e.jid=n.jid,e.xtoken=n.xtoken,e.groups=n.groups,e.svcUrl=n.svcUrl,e.encType=n.encType,e.userGUID=n.userGUID,e.userId=n.userID,e.role=n.role,e.participantID=n.participantID,e.reportDomain=n.reportDomain,e.abToken=n.ABtoken,e.supportLocalAB=!!n.supportLocalAB,e.isUseWBVideo=!!n.useWBVideo,e.mediasdkConfig=n.mediasdkConfig,e.isUseWBAudio=!!n.useWBAudio,n.enableWebTransport&&(e.enableWebtransport=n.enableWebTransport,e.webtransportPort=n.WebTransportPort)})),[`${LQ}`]:ht(((e,{payload:n})=>{if(n.gatewayUser){var o;const{userId:c,sn:d}=n.gatewayUser,p=(o=e.gatewayUserList)===null||o===void 0?void 0:o.find((v=>v.userId===c));var i;p?p.sn=d:(i=e.gatewayUserList)===null||i===void 0||i.push(n.gatewayUser)}else Object.assign(e,n)})),[`${LNe}`]:ht(((e,{payload:n})=>{e.isHost=n})),[`${BNe}`]:ht(((e,{payload:n})=>{e.isCoHost=n})),[`${ZL}`]:ht(((e,{payload:n})=>{e.isOnHold=n})),[`${VNe}`]:ht(((e,{payload:n})=>{e.isMeetingReset=n})),[`${FNe}`]:ht(((e,{payload:n})=>{e.audioVideoBeforeOnHold=n})),[`${bve}`]:ht(((e,{payload:n})=>{e.currentUserAudioBeforeReset=n})),[`${yve}`]:ht(((e,{payload:n})=>{e.isCurrentUserMutedBeforeReset=n})),[`${Bye}`]:ht(((e,{payload:n})=>{e.meetingStatus=n})),[`${HNe}`]:ht(((e,{payload:n})=>{e.region=n.region,e.network=n.network})),[`${$Ne}`]:ht(((e,{payload:n})=>{e.isCurrentUserStartVideoBeforeReset=n})),[`${UNe}`]:ht(((e,{payload:n})=>{e.joinMeetingTimeStamp=n})),[`${iGe}`]:ht(((e,{payload:n})=>{e.activeAppInfo=n})),[`${H5}`]:ht(((e,{payload:n})=>{e.idleStartTime=n})),[`${zNe}`]:ht(((e,{payload:n})=>{e.sessionIdleTimeoutMins=n})),[`${aGe}`]:ht(((e,{payload:n})=>{var o;const i=(o=e.encryptedGEORWC)===null||o===void 0||(o=o.find((d=>d.rwc===n)))===null||o===void 0?void 0:o.dc;if(i){var c;const d=(c=e.encryptedGEORWC)===null||c===void 0?void 0:c.filter((p=>p.dc===i));d&&e.discardedRwcList.some((p=>(d==null?void 0:d.findIndex((v=>v.rwc===p)))>=0))&&e.discardedRwcList.push(...d.map((p=>p.rwc))),e.discardedRwcList.push(n)}})),[`${jNe}`]:ht(((e,{payload:n})=>{e.sharePronounType=n})),[`${WNe}`]:ht(((e,{payload:n})=>{e.stayAwake=n})),[`${GNe}`]:ht(((e,{payload:n})=>{e.failover.joinMeetingSuccessTimestamp=n})),[`${qNe}`]:ht((e=>{Object.assign(e.failover,{...fme.failover,count:e.failover.count,joinMeetingSuccessTimestamp:e.failover.joinMeetingSuccessTimestamp})})),[`${BQ}`]:ht(((e,{payload:n})=>{const{count:o,reason:i,interval:c,sequence:d}=n;e.failover.count=o,e.failover.reason=i,e.failover.interval=c,e.failover.isCurrentFailoverRecorded=!0,e.failover.sequence=d})),[`${ZNe}`]:ht(((e,{payload:n})=>{e.quicklyLeave=n})),[`${YNe}`]:ht(((e,{payload:n})=>{e.isEnableZmkFromRWG=n})),[`${KX}`]:ht(((e,{payload:n})=>{e.isRlbTP=n})),[`${XNe}`]:ht(((e,{payload:n})=>{e.isRlbTPReady=n})),[`${MNe}`]:ht(((e,{payload:n})=>{e.isUIToolkit=n})),[`${vve}`]:(e,{payload:n})=>{const{isFailover:o}=n,i={isMeetingReset:!0,apiKey:e.apiKey,signatureType:e.signatureType,signature:e.signature,lang:e.lang,proxy:1,stayAwake:e.stayAwake};var c;return o&&Object.assign(i,{currentUserAudioBeforeReset:e.audioVideoBeforeOnHold?e.audioVideoBeforeOnHold.audio:n.audio,isCurrentUserMutedBeforeReset:e.audioVideoBeforeOnHold?e.audioVideoBeforeOnHold.muted:(c=e.isCurrentUserMutedBeforeReset)!==null&&c!==void 0?c:n.muted,isCurrentUserStartVideoBeforeReset:e.audioVideoBeforeOnHold?e.audioVideoBeforeOnHold.video:n.video,meetingNumber:e.meetingNumber,userName:e.userName,passWord:e.passWord,userEmail:e.userEmail,sdkUrl:e.sdkUrl,sdkOrigin:e.sdkOrigin,cv:e.cv,zsk:e.zsk,ztk:e.ztk,idleStartTime:e.idleStartTime,sessionIdleTimeoutMins:e.sessionIdleTimeoutMins,customerKey:e.customerKey,failover:e.failover,stayAwake:e.stayAwake,quicklyLeave:e.quicklyLeave}),{...fme,...i}}},fme),JKe={meetingFailoverReportEpic0:(e,n)=>e.pipe(Uo(`${Mv}`),Ei((()=>{const o=n.value.meeting.failover.joinMeetingSuccessTimestamp===0&&!!ai.get(ol.WebclientZoomId);return e.pipe(Uo(`${AE}`),Qr(1),rn((()=>{const i=[],{count:c,sequence:d}=ai.get(ol.WebclientFailoverCount)||{};let{meeting:{failover:{count:p,reason:v,interval:S}}}=n.value;const{meeting:{pingRWCTimestamp:T}}=n.value;if(o){p=(c??0)+1,v=df.RefreshPage,S=0;const B=d?`${d}-${v}`:`${v}`;ai.set(ol.WebclientFailoverCount,{count:p,sequence:B},ya.SessionStorage),i.push(BQ({count:p,reason:v,interval:S,sequence:B}))}const x=performance.now();let P=`WCL_M, JMCT(${x-T})`;return p>0&&v!==df.NormalCase&&(P=`${P},FAILOVER(${p},${v},${(S/1e3).toFixed(1)})`),ZKe.sendRWGConnectionPerformance(P),i.push(qNe(),GNe(x)),eo(i)})))}))),meetingFailoverReportEpic1:(e,n)=>e.pipe(Uo(`${wg}`),rn((o=>{const{payload:i}=o,{meeting:{failover:{joinMeetingSuccessTimestamp:c,isCurrentFailoverRecorded:d},userGUID:p,userId:v,meetingId:S}}=n.value,T=[];if(!d){let{count:x,sequence:P}=ai.get(ol.WebclientFailoverCount)||{};P=P?`${P}-${i}`:`${i}`,i!==df.NormalCase&&(x+=1,ai.set(ol.WebclientFailoverCount,{count:x,sequence:P},ya.SessionStorage));const B=performance.now()-c;T.push(BQ({reason:i,count:x,interval:B,sequence:P,userGUID:p,userId:v,meetingId:S}))}return eo(T)})))},QKe={sessionIdleEpic0:(e,n)=>e.pipe(Uo(`${AE}`),ts(n),En((([,o])=>o.meeting.zlkJwtToken!==void 0)),Ei((()=>(N2&&N2.complete(),N2=new qy,wOe=P6(6e4).pipe(xo((()=>performance.now()))).subscribe(N2),N2.pipe(xo((o=>v_e(o)))))))),sessionIdleEpic1:e=>e.pipe(Uo(`${q0}`)).pipe($o((()=>{N2&&(N2.complete(),wOe.unsubscribe())})),Pa(Oo)),sessionIdleEpic2:(e,n)=>e.pipe(Uo(`${v_e}`),ts(n),rn((([o,i])=>{var c;const{meeting:{idleStartTime:d,sessionIdleTimeoutMins:p,isOriginHost:v,isWebinar:S},participants:{attendeesList:T,xmppAttendeeList:x},recording:P,breakoutRoom:B}=i,U=o.payload,j=[];if(T.length!==1||S&&x.length!==0||(B==null||(c=B.currentRoom)===null||c===void 0?void 0:c.status)===ar.InRoom||(P==null?void 0:P.cmrStatus)===Td.Start)j.push(H5(void 0));else if(d){const W=v&&B6(T[0].userRole)?p:40;U-d>60*W*1e3&&(console.warn(`No active for ${W} minutes, will end the session.`),qKe.report(`Session idle timeout(${W} minutes), end the session automatically!`,["Join Meeting Flow","Session idle"],"warn"),j.push(Z3()),_u(500).subscribe((()=>{_ye()})))}else j.push(H5(U));return eo(j)}))),sessionIdleEpic3:(e,n)=>e.pipe(Uo(`${Xk}`),En((o=>[jl,W0].includes(o.payload.evt)&&n.value.meeting.idleStartTime!==void 0)),ed(Dv),rn((()=>{var o;const{participants:{attendeesList:i,xmppAttendeeList:c},recording:d,breakoutRoom:p}=n.value,v=[];return(i.length>1||c.length>0||(d==null?void 0:d.cmrStatus)===Td.Start||(p==null||(o=p.currentRoom)===null||o===void 0?void 0:o.status)===ar.InRoom)&&v.push(H5(void 0)),eo(v)}))),sessionIdleEpic4:e=>e.pipe(Uo(`${Uk}`,`${Z3}`),Lk(H5(void 0)))},eYe={meetingMainEpics0:(e,n)=>Bo(e,0).pipe($o((o=>{var i;if(((i=o.payload.body)===null||i===void 0?void 0:i.status)==="READY"){const{meeting:{zlkJwtToken:c,signatureType:d,sign:p,passWord:v,isHost:S,isOriginHost:T,ztk:x,zsk:P,tk:B,userEmail:U},breakoutRoom:j}=n.value,W=c?{zlkJwtToken:c}:{signType:d,sign:p};if(v&&v!==""&&(c?Object.assign(W,{mpwd:Su(v)}):S&&T||Object.assign(W,{mpwd:v})),(j==null?void 0:j.currentRoom.status)===ar.Joining){const{currentRoom:{boId:re,boConfId:le,boToken:ie}}=j;re&&le&&ie&&Object.assign(W,{botk:ie})}if(!c){x&&Object.assign(W,{zak:x}),(sessionStorage.getItem(ol.WebclientZsk)||P)&&Object.assign(W,{zak:P}),B&&Object.assign(W,{tk:B});const re=ai.get(ol.WebclientWebinarToken);re!==void 0&&Object.assign(W,{tk:re});const le=sessionStorage.getItem(ol.WebclientRecordingToken);le&&Object.assign(W,{localRecordToken:le}),U&&Object.assign(W,{email:U})}mS.sendLaunchParams(W);const Z=ai.get(ol.WebclientMeetingToken);Z&&mS.joinMeeting(Z)}})),Pa(Oo)),meetingMainEpics1:(e,n)=>{return Bo(e,ote).pipe(ts(n),En((([,i])=>i.socket.zoomSocketStatus===La.Connected)),(o=([i,c])=>{const{payload:{body:{res:d,userID:p,zoomID:v,mn:S,participantID:T,meetingtoken:x,role:P}}}=i,{meeting:{userEmail:B,userName:U,isMeetingReset:j,apiKey:W,zsk:Z,signatureType:re}}=c;if(Ob.Success===d){const{WebclientParticipantId:ie,WebclientZoomId:be,WebclientUserEmail:Ce,WebclientUserName:Ae,WebclientMeetingToken:F}=ol;ai.set(be,v,ya.SessionStorage),ai.set(ie,T,ya.SessionStorage),B&&ai.set(Ce,B,ya.SessionStorage),ai.set(Ae,U,ya.SessionStorage),x&&ai.set(F,x,ya.SessionStorage),Z&&mS.sendSdkKeyToMonitor(re,W,p);const Ie=[AE(i.payload.body),UNe(performance.now())];return j&&Ie.push(VNe(!1)),(P&Vk.Owner)===Vk.Owner&&(it(Qu,{reason:"dont support assisnt join through widget",errorCode:-1}),mS.leaveMeeting()),it(TDe,{meetingNumber:S}),eo(Ie)}if(Ob.MeetingLocked===d)it(Qu,iE(d));else if(Ob.UserFull===d)it(Qu,Object.assign({},iE(d),{lmUrl:i.payload.body.lmURL}));else if(Ob.MeetingIsOver===d)it(Qu,iE(d));else if(Ob.MMRIBReject===d)it(Qu,iE(d));else if(Ob.MMRConfParticipantExists===d)it(Qu,iE(d));else if([Ob.UserHasBeenRemoved,Ob.WebinarBlockedEmail].includes(d))it(Qu,iE(d));else if(Ob.MeetingNotStarted===d){var le;const ie=iE(d),{meeting:{meetingNumber:be,passWord:Ce,userName:Ae,userEmail:F,inviteEmail:Ie,meetingTopic:tt,region:Xe,network:Ve,userId:Re,lang:vt,meetingId:mt,participantID:gt,wrInfo:te,meetingInfo:hn,isNewJoinFlow:ot,enableLongPollingCheckStart:Rt,tid:kt,signature:at,rsPwd:Cn}}=c;Object.assign(ie,{meetingInfo:{meetingNumber:be,password:Ce,userName:Ae,userEmail:F,inviteEmail:Ie,meetingTopic:tt,region:Xe,network:Ve,userId:Re,lang:vt,webEndpoint:k6(),meetingId:mt,participantId:gt,wrInfo:Object.assign({},te,{isNew:ot}),scheduleInfo:hn,enableLongPollingCheckStart:Rt,rid:Zqe(kt),role:Number((le=aA(at))===null||le===void 0?void 0:le.role),rsPwd:Cn}}),it(Qu,ie)}else it(Qu,iE(d));return eo(YL(c,!1))},CO(Ei(((i,c)=>o(i)||Oo)))));var o},meetingMainEpics2:(e,n)=>Bo(e,W0).pipe(ts(n),xo((([o,i])=>{const{payload:{body:c}}=o,{meeting:{zoomId:d,encType:p,gcmSessinKey:v}}=i;if((c==null?void 0:c.encryptKey)!==void 0&&Jf.init(d,c.encryptKey,p),(c==null?void 0:c.gatewayKey)!==void 0){const S=Ns.getInstance(),[,T,x]=c.gatewayKey.split(".");S.sendUserNodeList([{userid:Number(T),sn:x&&j0(x)}],v)}return it(dye,c),LQ(c)}))),meetingMainEpics3:(e,n)=>Bo(e,7939).pipe(ts(n),rn((([o,i])=>{const{payload:{body:c}}=o;if(c.reason!==void 0){if(x_.Reconnect===c.reason)return SZe.WaitingRoomFailover===c.subReason?it(Rv,{reason:Om.OnHold}):it(Rv,{reason:Om.Failover}),Ua(wg(df.NormalCase));x_.KickedByHost===c.reason?it(Wx,{reason:"kicked by host"}):[x_.EndByHost,x_.EndByNone,x_.EndByAdmin,x_.EndByHostStartAnotherMeeting].includes(c.reason)?it(Wx,{reason:"ended by host"}):x_.FreeMeetingTimeout===c.reason?it(Wx,{reason:"free meeting ended"}):[x_.DuplicateSession,x_.MeetingTransfer].includes(c.reason)&&it(Wx,{reason:"duplicated session"})}return i.meeting.isMeetingReset?Oo:eo(YL(i,!1))}))),meetingMainEpics4:(e,n)=>e.pipe(Uo(`${wg}`),ts(n),rn((([,o])=>{const i=YL(o,!0);let c;if(o.meeting.zlkJwtToken){const d=(function(v){if(v){const{meeting:{topic:S,passWord:T,userName:x,zlkJwtToken:P,lang:B,cv:U,customerKey:j}}=v;return{topic:S,passWord:T,userName:x,zlkJwtToken:P,lang:B,cv:U,customerKey:j}}return null})(o),p={topic:d==null?void 0:d.topic,password:d==null?void 0:d.passWord,userName:d==null?void 0:d.userName,zlk:d==null?void 0:d.zlkJwtToken,lang:d==null?void 0:d.lang,cv:d==null?void 0:d.cv,customerKey:d==null?void 0:d.customerKey};c=Ua(q3(p)).pipe(L3(1e3))}else{const d=(function(p){var v;const{meeting:{apiKey:S,signature:T,signatureType:x,meetingNumber:P,userName:B,lang:U,passWord:j,userEmail:W,sdkUrl:Z,sdkOrigin:re,proxy:le,cv:ie,ztk:be,zsk:Ce,tk:Ae}}=p;let F=be||sessionStorage.getItem(ol.WebclientZtk),Ie=Ce||sessionStorage.getItem(ol.WebclientZsk);const tt=Number((v=aA(T))===null||v===void 0?void 0:v.role)===1;return tt||(F=Ie,Ie=""),{apiKey:S,signature:T,signatureType:x,meetingNumber:P,userName:B,lang:U,passWord:j?encodeURIComponent(j):"",userEmail:W,sdkUrl:Z,sdkOrigin:re,proxy:le,cv:ie,ztk:F,zsk:Ie,tk:Ae||sessionStorage.getItem(ol.WebclientTk),ulsm:tt&&Ie?1:0}})(o);c=Ua(NQ(d)).pipe(L3(1e3))}return M6(eo(i),c)}))),meetingMainEpics5:e=>TS(e,7940).pipe($o((n=>{it("MEETING_HOST_CHANGE_INDICATION",n.payload.body.bHost)})),xo((n=>LNe(n.payload.body)))),meetingMainEpics6:e=>TS(e,7941).pipe($o((n=>{it("MEETING_COHOST_CHANGE_INDICATION",n.payload.body.bCoHost)})),xo((n=>BNe(n.payload.body)))),meetingMainEpics7:e=>TS(e,7945).pipe($o((n=>{const{payload:{body:{opt:o}}}=n;ai.set(ol.WebclientOpt,o,ya.SessionStorage)})),Pa(Oo)),meetingMainEpics8:(e,n)=>Bo(e,7942).pipe($o((o=>{const{payload:{body:{bHold:i}}}=o;ai.set(ol.WebclientIsOnHold,i?1:0,ya.SessionStorage),it(uye,i)})),ts(n),rn((([o,i])=>{const c=[ZL(o.payload.body.bHold)];if(o.payload.body.bHold){const d=gs(i);if(d){c.push(FNe({audio:d.audio,video:d.bVideoOn,muted:d.muted}));const p=Rm(Ns.getInstance());if(d.audio==="computer"&&(p.leaveComputerAudio(),mS.joinOrLeaveVoip(!1)),d.bVideoOn&&p.stopCaptureVideo(),d.sharerOn&&(mS.stopSharing(d.userId),p.stopDesktopSharing(),c.push(Sg(Xr.End))),i.video&&i.video.subscribedVideoList.length>0&&i.video.subscribedVideoList.forEach((v=>{p.unsubscribeVideo(v)})),i.share&&i.share.isReceiveSharing){const v=i.share.activeNodeId;i.share.remoteControlledUserList.length>0&&(i.share.remoteControlledUserList.forEach((S=>{mS.sharingRequestRemoteControl(S,!1)})),U2(i)&&p.stopRemoteControl()),mS.unsubscribeSharing(v),p.stopRenderSharing(),c.push(cO(!1))}}}return eo(c)}))),meetingMainEpics9:e=>Bo(e,7954).pipe(xo((n=>HNe(n.payload.body)))),meetingMainEpics10:e=>Bo(e,4216).pipe($o((n=>{it("MEETING_CLAIM_HOST_KEY_RESPONSE",n.payload.body.bresult)})),Pa(Oo)),meetingMainEpics11:(e,n)=>e.pipe(Uo(`${Uk}`,`${Z3}`),ts(n),rn((([o,i])=>{const c=U7e(i),{socket:{zoomSocketStatus:d},meeting:{meetingId:p}}=i;return d===La.Connected&&(o.type===`${Uk}`?mS.leaveMeeting(c):o.type===`${Z3}`&&mS.endMeeting()),p&&it(Wx,{}),eo(YL(i,!1))}))),meetingMainEpics12:(e,n)=>e.pipe(Uo(`${gve}`),ts(n),rn((([o,i])=>{if(o.type===`${gve}`&&i.meeting.meetingNumber&&!i.meeting.zlkJwtToken){const c={mn:i.meeting.meetingNumber.toString(),name:i.meeting.userName,customerKey:i.meeting.customerKey?Su(i.meeting.customerKey):""},{jbhLeave:d}={jbhLeave:`https://${zee}/wc/jbhLeave`},p=`${d}/?${new URLSearchParams(c).toString()}`;fetch(p,{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"}})}return Oo}))),meetingMainEpics13:e=>Bo(e,2).pipe($o((()=>{console.warn("Upgrade to latest version to optimize meeting experience")})),Pa(Oo)),meetingMainEpics14:e=>Bo(e,1).pipe($o((n=>{const{payload:{body:{upgradeVersion:o}}}=n,i=iE(1e4);if(i&&i.reason){const c=i.reason.replace(/{(\d+)}/g,(()=>o));i.reason=c}it(Qu,i)})),Pa(Oo)),meetingMainEpics15:e=>Bo(e,4265).pipe(xo((n=>{const{payload:{body:o}}=n,{nShareType:i}=o;return it(xDe,{userSharePronounType:i}),jNe(i)}))),meetingMainEpics16:e=>Bo(e,4128).pipe($o((n=>{const{payload:{body:{meetingtoken:o}}}=n,{WebclientMeetingToken:i}=ol;o&&ai.set(i,o,ya.SessionStorage)})),Pa(Oo)),meetingMainEpics17:(e,n)=>e.pipe(Uo(`${AE}`),En((()=>!!n.value.meeting.quicklyLeave)),Ei((()=>ah(window,"beforeunload").pipe($o((()=>{mS.leaveMeeting()})),Pa(Oo))))),meetingMainEpics18:(e,n)=>Bo(e,8025).pipe(En((o=>!!o.payload.body.Zmk&&!!n.value.meeting.isEnableZmkFromRWG)),xo((o=>{const{payload:{body:{Zmk:i}}}=o;return LQ({zmk:i})}))),meetingMainEpics19:(e,n)=>e.pipe(Uo(`${Mv}`),rn((o=>{const{payload:{mediaFeatureOptions:i,mediaSDKPath:c}}=o,{media:{skipJsMedia:d,patchJsMedia:p,assetsPath:v}}=n.value;if((function(S){return(function(T){try{if(47>T.length)return 0;const x=T.slice(T.length-47-1+1,T.length-47+1);if(x)return parseInt(x,16)}catch{}return 0})(S)===1})(i)){const S=`${!d&&p&&fPe(v)&&c?Yee(c):v}/tp.min.js`;return eo(window.ZoomTPModule===void 0||typeof window.ZoomTPModule.ZoomTPWebSocket!="function"?new Promise(((T,x)=>$ee(S,(()=>T("")),(()=>x())))):Promise.resolve("")).pipe(rn((()=>{const{meeting:{mediaFeatureOptions:T},logger:x}=n.value,P=x?Qf.getInstance().makeLogger(["TP MODULE"]):void 0;return eo(window.ZoomTPModule.initTPModule({options:T,logInstance:P}).then((()=>(it(DX,!0),XNe(!0)))).catch((()=>(it(DX,!1),KX(!1)))))})),xm((()=>(setTimeout((()=>{Qf.getInstance().report(`Unable to load tp.min.js,url:${S}`,["TP MODULE"],"error")}),5e3),it(DX,!1),eo([KX(!1)])))),Jy(KX(!0)))}return Oo})))},tYe=xg(eYe,{wakeLockEpic0:(e,n)=>e.pipe(Uo(`${AE}`),ts(n),En((([,o])=>!!o.meeting.stayAwake)),$o((async()=>{try{const{isSafari:o,isIOSMobile:i}=Yo;wv&&wv.release().then((()=>{wv=null})),"wakeLock"in navigator&&((o||i)&&await vc(Np(ah(document,"click").pipe(Qr(1)),ah(document,"touchend").pipe(Qr(1)))),wv=await navigator.wakeLock.request("screen"),wv.addEventListener("release",(()=>{})))}catch{}})),Ei((()=>ah(document,"visibilitychange").pipe(rn((async()=>{if(document.visibilityState==="visible"){const{isSafari:o,isIOSMobile:i}=Yo;wv&&wv.release().then((()=>{wv=null})),"wakeLock"in navigator&&((o||i)&&await vc(Np(ah(document,"click").pipe(Qr(1)),ah(document,"touchend").pipe(Qr(1)))),wv=await navigator.wakeLock.request("screen"))}else wv&&wv.release().then((()=>{wv=null}))})),Pa(Oo))))),wakeLockEpic1:e=>e.pipe(Uo(`${q0}`)).pipe($o((()=>{wv&&wv.release().then((()=>{wv=null}))})),Pa(Oo))},JKe,QKe,{meetingInfoEpic:(e,n)=>e.pipe(Uo(`${q3}`),Ei((o=>{const i=Object.assign({},o.payload,{password:Su(o.payload.password),topic:Su(o.payload.topic)}),{videoSDKUrl:c}={videoSDKUrl:`https://${zee}/wc/lsdk`};return((d,p,v="zoomsdkjsonpcallback")=>new Cu((S=>{xOe++;const T=`${v}${xOe}`,x=document.createElement("script");Object.keys(p).forEach((P=>(p[P]===void 0||p[P]===null)&&delete p[P])),x.src=`${d}?${new URLSearchParams(Object.assign(p,{callback:T})).toString()}`,x.async=!0,x.onerror=P=>S.error(P),document.getElementsByTagName("head")[0].appendChild(x),window[T]=P=>{x.parentNode&&x.parentNode.removeChild(x),delete window[T],S.next(P),S.complete()}})))(c,i).pipe(Nh(e.pipe(Uo(`${Uk}`),$o((()=>{it(Wx,{})})),Qr(1))),xm((d=>Ua({status:!1,result:d.toString(),errorCode:-3e3}))),rn((d=>{const[p,v]=(S=Ua(d),[En(T=P=>P.status===!0&&P.result!==void 0,x)(Yf(S)),En(f7e(T,x))(Yf(S))]);var S,T,x;return v.subscribe((P=>{YKe.report(`get meeting info error, ${JSON.stringify(P)}`,["Join Meeting Flow","Get Meeting Info Error"],"error"),P.status||(P.errorCode===3e3&&P.errorMessage==="Meeting password is incorrect"?it(Qu,{errorCode:lE.WrongPasscode,reason:"Incorrect passcode."}):P.errorCode===3e3&&P.errorMessage==="The role type error"?it(Qu,{errorCode:lE.RoleTypeMissing,reason:"Role type error"}):P.errorCode===-3e3?it(Qu,{errorCode:lE.CommonError,reason:"connection error"}):P.errorCode===3e3?it(Qu,{reason:P.errorMessage,errorCode:lE.CommonError}):P.errorCode===300?it(Qu,{reason:"This account does not exist or does not belong to you",errorCode:lE.CommonError}):P.errorCode===124&&P.errorMessage==="Parse lite sdk topic and pwd fail"?it(Qu,{reason:"Topic is invalid",errorCode:lE.CommonError}):P.errorCode===124&&P.errorMessage==="The java web token is expired or more than 2 days or ineffective."?it(Qu,{reason:"The token has expired, is over 2 days old, or is ineffective.",errorCode:lE.CommonError}):P.errorCode===124&&it(Qu,{reason:"Verify JWT failed",errorCode:lE.CommonError}))})),p.pipe(zLe((P=>{if(P.status===!0){const{result:{mid:U,websdkClientFeatureOptions:j,showRecommendVersion:W}}=P;ai.init(U);const Z=((ie,be)=>{if(ie.result){const{result:{mn:Ce,ts:Ae,auth:F,track_auth:Ie,mid:tt,tid:Xe,webMediaBlockConfig:Ve,encryptedRWC:Re,encryptedGEORWC:vt,user_identity:mt,meetingOptions:gt,can_recording:te,wcXMPPConfig:hn,call_out_country_json:ot,isOriginalHost:Rt,support_call_out:kt,liveTranscription:at,logConfig:Cn,logEncryptionPubKey:Ro,toll_numbers_json:jn,h323Password:wo,liveStreamInfo:qt,rc_auto_delete:Tn,jwt_rc:_e,op_rc:vr,mediaSDKVersion:vs,mediaSDKPathPrefix:Ut,zmk:xn,fileTransfer:vn,fileServerDomain:zt,accountId:wn,mediaFeatureOptions:fn,websdkClientFeatureOptions:ct,sipDomain:Mt,enableVsdkInteractiveLiveStream:Yt}}=ie,{lang:Ge,password:Lt,topic:ln,zlk:On,cv:Bt,userName:$t}=be;return{meetingNumber:Ce,meetingId:tt,tid:Xe,ts:Ae,auth:F,passWord:Lt,trackAuth:Ie,customerKey:mt,encryptedRWC:JSON.parse(Re||"{}"),encryptedGEORWC:JSON.parse(vt||"{}"),meetingOptions:JSON.parse(gt||"{}"),recordingEnable:te==="1",topic:ln,userName:ai.get(ol.WebclientUserName)||$t,cv:Bt,zlkJwtToken:On,webMediaBlockConfig:Ve,xmppConfig:JSON.parse(hn||"{}"),callOutCountry:JSON.parse(ot||"{}"),lang:Ge,isOriginHost:Rt,isSupportCallOut:kt==="1",liveTranscription:JSON.parse(at||"{}"),logConfig:Cn,logEncryptionPubKey:Ro,tollNumbers:jn===void 0?void 0:JSON.parse(jn),h323Password:wo,liveStreamInfo:JSON.parse(qt||"{}"),rcAutoDelete:Tn,jwtRc:_e,opRc:vr,mediaSDKPath:vs&&Ut?`${Yee(Ut)}/${vs}`:void 0,zmk:xn,fileTransfer:JSON.parse(vn||"{}"),fileServerDomain:zt,accountId:wn,mediaFeatureOptions:fn,websdkClientFeatureOptions:ct,sipDomain:Mt,enableVsdkInteractiveLiveStream:Yt}}return ie})(P,o.payload);var B;W&&(o==null||(B=o.payload)===null||B===void 0||B.lang,console.log("Update VideoSDK-Web to the latest version to optimize meeting experience","https://developers.zoom.us/docs/video-sdk/web/"));const re=[Ua(Mv(Z)),uGe(TOe,n,Lye())],le=(ie=>{const be=[];if(ie){const Ce=ie.split("").reverse();Object.keys(jx).filter((Ae=>/M:\d+(,\d+)*;V:\d+(,\d+)*/.test(jx[Ae]))).forEach((Ae=>{const F=jx[Ae];let[Ie,tt]=F.split(";");Ie.startsWith("V:")&&([Ie,tt]=[tt,Ie]);const Xe=tt.slice(2).split(",").map((vt=>Ce[Number(vt)-1])).reverse().join(""),Ve=parseInt(Xe,16),Re=qqe[F];Re&&(Array.isArray(Re)?Re:[Re]).forEach((vt=>{const mt=vt.mask?(Ve&vt.mask)>0:Ve;be.push(Ua(vt.action(mt)))}))}))}return be})(j);return le.length>0&&re.unshift(...le),M6(...re)}})))})),Jy(KNe(performance.now())))}))),pingRWCEpic:TOe,retryPingRWCEpic:(e,n)=>e.pipe(Uo(`${Vye}`),ed(Dv),En((()=>n.value.meeting.meetingStatus===Lh.Initial&&n.value.socket.zoomSocketStatus===La.Closed)),Ei((()=>{const{meeting:{meetingId:o,meetingNumber:i,userName:c},socket:{retryCount:d,rwgServerList:p}}=n.value,v=p==null?void 0:p[d-1];return Tbe.makeLogger(["Join Meeting Flow"]).info(`ping rwc retry. Last failed rwc:${v==null?void 0:v.rwc}, last failed rwg:${v==null?void 0:v.rwg}, retry count:${d}, meeting detail:${JSON.stringify({meetingId:o,meetingNumber:Zf(i),userName:Zf(c)})}, rwc log:${Rk.getLog()}`,["Ping RWC Retry"]),eo(Rk.retry()).pipe(hBe(n))})))});function cX(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)e[i]=o[i]}return e}var nYe=(function e(n,o){function i(c,d,p){if(typeof document<"u"){typeof(p=cX({},o,p)).expires=="number"&&(p.expires=new Date(Date.now()+864e5*p.expires)),p.expires&&(p.expires=p.expires.toUTCString()),c=encodeURIComponent(c).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var v="";for(var S in p)p[S]&&(v+="; "+S,p[S]!==!0&&(v+="="+p[S].split(";")[0]));return document.cookie=c+"="+n.write(d,c)+v}}return Object.create({set:i,get:function(c){if(typeof document<"u"&&(!arguments.length||c)){for(var d=document.cookie?document.cookie.split("; "):[],p={},v=0;v<d.length;v++){var S=d[v].split("="),T=S.slice(1).join("=");try{var x=decodeURIComponent(S[0]);if(p[x]=n.read(T,x),c===x)break}catch{}}return c?p[c]:p}},remove:function(c,d){i(c,"",cX({},d,{expires:-1}))},withAttributes:function(c){return e(this.converter,cX({},this.attributes,c))},withConverter:function(c){return e(cX({},this.converter,c),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(n)}})})({read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});const{WebclientIsOnHold:oYe,WebclientOpt:sYe,WebclientParticipantId:rYe,WebclientZoomId:iYe,WebclientMeetingToken:aYe}=ol,{WebclientDeviceId:OOe}=Hve;function IOe({retryCount:e,rwgServerList:n,userName:o,auth:i,trackAuth:c,meetingId:d,customerKey:p,tid:v,lang:S,ts:T,bid:x,botk:P,confID:B,zlkJwtToken:U,isWebRtcAudioCapable:j,isMeetingReset:W,cameraDevicesList:Z,isWebrtcVideoCapable:re,webRtcAudioMode:le,mediaFeatureOptions:ie}){const be=nYe.get("_zm_mtk_guid");let Ce=ai.get(OOe);if(Ce||(Ce=zQ(),ai.set(OOe,Ce,ya.LocalStorage)),n.length>e){var Ae;const F=n[e],Ie={dn2:Su(o),auth:i,browser:`${Yo.browser}${Yo.browserVersion} ${(Ae=window)!==null&&Ae!==void 0&&Ae.crossOriginIsolated?"SAB":""}`,trackAuth:c,mid:d,tid:v,lang:S,ts:T,"ZM-CID":Ce,_ZM_MTG_TRACK_ID:be||"",customer_key:Su(p),cfs:0,islch:1};if(U)try{const{vendor:Re}=aA(U);Re&&Object.assign(Ie,{vendor:Re})}catch(Re){console.log(Re)}F.rwcAuth?Object.assign(Ie,{rwcAuth:F.rwcAuth}):F.rwcToken&&Object.assign(Ie,{rwcToken:F.rwcToken});const tt=Yo.isIE?1:Yo.isIE||Yo.isSupportEssentialAudioAndVideoAbility?2:0;Object.assign(Ie,{as_type:tt}),[{key:sYe,queryKey:"opt"},{key:rYe,queryKey:"participantID"},{key:iYe,queryKey:"zoomid"}].forEach((Re=>{const vt=ai.get(Re.key);vt!==void 0&&(Ie[Re.queryKey]=vt)}));const Xe=x&&P&&B;Xe&&Object.assign(Ie,{bid:Su(x),confID:B}),ai.get(aYe)&&Object.assign(Ie,{isdj:1}),Object.assign(Ie,{from:Yo.isAndroidBrowser?"android":Yo.isIOSMobile?"ios":"other"}),j&&Object.assign(Ie,{useABAudio:le}),Object.assign(Ie,{clientCaps:lYe({isAudioBridgeEnabled:j,isBO:Xe,mediaFeatureOptions:ie})}),Object.assign(Ie,{clientCapsEx:cYe()}),Object.assign(Ie,{useWBVideo:re?1:0});const Ve=W?Z.length>0?1:0:1;return Object.assign(Ie,{isCamera:Ve}),Object.assign(Ie,{clientOS:Yo.isAndroidOrIOSBrowser||Yo.isHarmonyOS?Yo.isIOSMobile?"ios":"android":Yo.isMacOS?"mac":"win"}),Object.assign(Ie,{audioFeature:Ns.getAudioFeatureFlag(j)}),{queryObject:{...Ie},rwgServer:F}}return null}function lYe(e){const{isAudioBridgeEnabled:n,isBO:o,mediaFeatureOptions:i}=e;let c=wb.WebCameraIndication|wb.SendMeetingTokenSeparately|wb.SmartSummary|wb.LocalRecording|wb.LocalRecordingGrantPermission|wb.UnifyErrorType;const d=Ns.getPTZCapability();return(d.pan||d.tilt||d.zoom)&&(c|=wb.SupportFarEndCameraControl),Ns.isSupportVideoShare()&&(c|=wb.SupportVideoShare),n&&Ns.isSupportAudioBridgeAVSync()&&(c|=wb.WebrtcAudioRtcpTime),Ns.isSupportShareMultiStream()&&(c|=wb.ShareMultiStream),Ns.isSupportVideoLTR()&&(c|=wb.VideoLTR),o||(c|=wb.RequestRemoteControl),Ns.isSupportFullHDVideo(i||"")&&(c|=wb.SupportSend1080PVideo),Ns.isSupportFullHDVideoShare(i||"")&&(c|=wb.SupportSend1080PVideoShare),c}function cYe(){let e=Y_e.SupportPresenterAnnotation;return e|=Y_e.SupportMMRCommandChannel,e}function kk(e,n){const o=()=>{const{socket:{zoomSocketStatus:i},meeting:{meetingStatus:c,isMeetingReset:d}}=e.value;return i!==La.Closed&&c===Lh.Joined&&!d};return n?CO(L3(n),En(o)):CO(En(o))}const DL=ea.createAgent();let uX;const L2=Jk.getInstance();let dX;const ML=rte.getInstance();let hX;const ROe={zoomSocketStatus:La.Closed,xmppSocketStatus:La.Closed,mainSessionSocketStatus:La.Closed,retryCount:0,rwgServerList:[],xmppRetryCount:0},uYe=Im({[`${d6}`]:ht(((e,{payload:n})=>{e.zoomSocketStatus=n.status})),[`${eLe}`]:ht(((e,{payload:n})=>{const{rwgServerList:o}=e;o.find((i=>i.rwg===n.rwg))||o.push(n)})),[`${Vye}`]:ht(((e,{payload:n})=>{e.retryCount=n})),[`${YX}`]:ht(((e,{payload:n})=>{e.xmppSocketStatus=n})),[`${XX}`]:ht(((e,{payload:n})=>{e.mainSessionSocketStatus=n})),[`${VQ}`]:ht(((e,{payload:n})=>{e.xmppRetryCount=n})),[`${tLe}`]:()=>ROe},ROe),dYe={mainSessionEpics0:(e,n)=>e.pipe(Uo(`${wve}`),ts(n),En((([,o])=>o.socket.mainSessionSocketStatus==="closed")),Ei((([,o])=>{const{meeting:{svcUrl:i,meetingNumber:c,conId:d,isRlbTP:p}}=o,v=(function(S,T,x){return`wss://${S}/wc/media/${T}?type=m&cid=${x}&mode=2`})(i,c,d);return((S,T)=>(ML.connect(S,T),hX=new qy,rA((x=>ML.on(yg.Message,x)),(x=>ML.off(yg.Message,x))).pipe(xo((x=>x.data))).subscribe(hX),hX))(v,p).pipe(xo((S=>{try{return JSON.parse(S)}catch(T){return console.error(T),{evt:0}}})),En((S=>S.evt!==0)),jLe(),xo((S=>Z_(S))),Jy(XX(La.Connecting)))}))),mainSessionEpics1:(e,n)=>e.pipe(Uo(`${wve}`),Ei((()=>{const[o,i,c]=[yg.Open,yg.Close,yg.Error].map((d=>rA((p=>ML.on(d,p)),(p=>ML.off(d,p)))));return Id(o.pipe(Lk(XX(La.Connected))),i.pipe(kk(n,500),xo((()=>(it(Rv,{reason:Om.Failover}),wg(df.DisconnectMChannel))))),c.pipe(kk(n,500),xo((()=>(it(Rv,{reason:Om.Failover}),wg(df.OnErrorMChannel))))))}))),mainSessionEpics2:e=>e.pipe(Uo(`${QNe}`),Lk(XX(La.Closed)),$o((()=>{var n;ML.close(),(n=hX)===null||n===void 0||n.complete()})))},hYe={epics0:(e,n)=>e.pipe(Uo(`${Cve}`),ts(n),En((([,o])=>o.socket.zoomSocketStatus===La.Closed&&!!o.meeting.meetingId)),Ei((([,o])=>(function(i){const{media:{patchedMediaSDKStatus:c},meeting:{isRlbTP:d,isRlbTPReady:p}}=i;return lye([c===N5.Loading?xa(BX,1).pipe(ed(sA)):eo([0]),d?p?eo([0]):xa(DX,1).pipe(ed(sA)):eo([0])])})(o).pipe(Ei((()=>{const{socket:{retryCount:i,rwgServerList:c},meeting:d,breakoutRoom:p,audio:v,video:S}=n.value;let T;const x={...d,retryCount:i,rwgServerList:c};if(v){const{isWebRtcAudioCapable:U,webRtcAudioMode:j}=v;Object.assign(x,{isWebRtcAudioCapable:U,webRtcAudioMode:j})}if(S){const{cameraDevicesList:U,isWebrtcVideoCapable:j}=S;Object.assign(x,{cameraDevicesList:U,isWebrtcVideoCapable:j})}if(p&&p.currentRoom.status===ar.Joining){const{currentRoom:{boId:U,boConfId:j,boToken:W}}=p;Object.assign(x,{bid:U,botk:W,confID:j})}if(T=d.zlkJwtToken?(function(U){const j=IOe(U);if(j){const{queryObject:W,rwgServer:Z}=j,{topic:re,cv:le,meetingNumber:ie,isUIToolkit:be}=U;return Object.assign(W,{topic:Su(re),iccv:le}),be&&Object.assign(W,{browser:W.browser+" UIToolkit"}),`wss://${Z.rwg}/instantsdk/${ie}?${new URLSearchParams(W).toString()}`}return null})(x):(function(U){const j=IOe(U);if(j){const{queryObject:W,rwgServer:Z}=j,{cv:re,meetingNumber:le}=U;return Object.assign(W,{jscv:re,browser:W.browser+" ComponentView"}),[{key:oYe,queryKey:"cfs"}].forEach((ie=>{const be=ai.get(ie.key);be!==void 0&&(W[ie.queryKey]=be)})),`wss://${Z.rwg}/wc/api/${le}?${new URLSearchParams(W).toString()}`}return null})(x),T){const U=(P=T,B=d.isRlbTP,DL.connect(P,B),uX=new qy,rA((j=>DL.on(yg.Message,j)),(j=>DL.off(yg.Message,j)),(j=>j.data)).subscribe(uX),uX);return Id(U.pipe(En((j=>typeof j=="string")),xo((j=>{try{return JSON.parse(j)}catch(W){return console.error(W),{evt:0}}})),jLe(),_z((j=>{if(j.evt!==0||!j.body||j.body.test!=="invalid parameters!")return Xk(j);it(Qu,{errorCode:lE.InvalidParameter,reason:"Invalid parameter"})})),Jy(d6({status:La.Connecting,rwgUrl:T}))),U.pipe(En((j=>j instanceof ArrayBuffer)),xo((j=>cGe(j)))))}var P,B;return Oo})))))),epics1:(e,n)=>e.pipe(Uo(`${Cve}`),ts(n),En((([,o])=>o.socket.zoomSocketStatus===La.Closed&&!!o.meeting.meetingId)),Ei((()=>{const[o,i,c,d]=[yg.Open,yg.Close,yg.Error,yg.Inactive].map((p=>rA((v=>DL.on(p,v)),(v=>DL.off(p,v)))));return Id(o.pipe(rn((()=>Id(Ua(d6({status:La.Connected})),_u(6e4).pipe(ts(n),En((([,p])=>p.meeting.meetingStatus===Lh.Initial&&!p.meeting.isMeetingReset)),xo((()=>(it(Rv,{reason:Om.Failover}),wg(df.NoHeartbeat))))))))),i.pipe(kk(n),xo((()=>(it(Rv,{reason:Om.Failover}),wg(df.Disconnect))))),d.pipe(kk(n),xo((()=>(it(Rv,{reason:Om.Failover}),wg(df.NoHeartbeat))))),c.pipe(ts(n),rn((([,p])=>{const{meeting:{meetingStatus:v,isMeetingReset:S},socket:{rwgServerList:T,retryCount:x}}=p,P=[];return v===Lh.Initial&&T!=null&&T.length?P.push(Vye(x+1),q0({retry:!0})):S||v!==Lh.Joined||(it(Rv,{reason:Om.Failover}),P.push(wg(df.OnError))),eo(P)}))))}))),epics2:(e,n)=>e.pipe(Uo(`${q0}`),Ei((o=>{const i=[d6({status:La.Closed})];return o.payload&&o.payload.retry?eo(i):eo(i).pipe(L3(100),$o((()=>{var c;n.value.socket.zoomSocketStatus===La.Closed&&(DL.close(),(c=uX)===null||c===void 0||c.complete())})))})))},fYe=xg(hYe,{xmppEpics0:(e,n)=>e.pipe(Uo(`${AE}`),rn((()=>{const{meeting:{meetingOptions:o,zlkJwtToken:i,isWebinar:c}}=n.value,d=[];return(o.isPollingEnabled||i||c)&&d.push(XY()),eo(d)}))),xmppEpics1:(e,n)=>e.pipe(Uo(`${XY}`),ts(n),En((([,o])=>o.socket.xmppSocketStatus===La.Closed)),Ei((([,o])=>{const{meeting:{svcUrl:i,meetingNumber:c,conId:d,isRlbTP:p}}=o,v=(function(S,T,x){return`wss://${S}/wc/media/${T}?type=x&cid=${x}`})(i,c,d);return((S,T)=>(L2.connect(S,T),dX=new qy,rA((x=>L2.on($_.Message,x)),(x=>L2.off($_.Message,x))).subscribe(dX),dX))(v,p).pipe(En((S=>(S==null?void 0:S.evt)!==void 0)),xo((S=>JNe(S))),Jy(YX(La.Connecting)))}))),xmppEpics2:(e,n)=>e.pipe(Uo(`${XY}`),Ei((()=>{const[o,i,c]=[$_.Open,$_.Close,$_.Error].map((p=>rA((v=>L2.on(p,v)),(v=>L2.off(p,v))))),d=p=>rn((()=>{const{socket:{xmppSocketStatus:v,xmppRetryCount:S}}=n.value,T=[];return v===La.Connecting&&S<3?(T.push(VQ(S+1)),T.push(Eve({retry:!0}))):(v===La.Connected||S>=3)&&(it(Rv,{reason:Om.Failover}),T.push(wg(p))),eo(T)}));return Id(o.pipe($o((()=>{const p=(function(){const{isSupportEssentialAudioAndVideoAbility:v,isSupportAudioWorklet:S}=Yo;return v&&S?11:10})();L2.join(p)})),xo((()=>YX(La.Connected)))),i.pipe(kk(n,500),d(df.DisconnectXmpp)),c.pipe(kk(n,500),d(df.OnErrorXmppChannel)))}))),xmppEpics3:(e,n)=>e.pipe(Uo(`${Eve}`),Ei((o=>{var i;const c=[YX(La.Closed)];return(i=o.payload)!==null&&i!==void 0&&i.retry?eo(c):eo(c).pipe(L3(100),$o((()=>{var d;n.value.socket.xmppSocketStatus===La.Closed&&(L2.close(),(d=dX)===null||d===void 0||d.complete())})))}))),xmppEpics4:(e,n)=>e.pipe(Uo(`${VQ}`),En((o=>o.payload<=3)),rn((o=>eo([o]).pipe(L3(1e3*Math.pow(2,o.payload-1))))),kk(n),xo((()=>XY())))},dYe),kOe={audioEncodeStatus:"initial",audioDecodeStatus:"initial",videoEncodeStatus:"initial",videoDecodeStatus:"initial",sharingEncodeStatus:"initial",sharingDecodeStatus:"initial",assetsPath:"",mediaConstraints:void 0,enforceMultipleVideos:!1,enforceVirtualBackground:!1,isMediaAgentInitialized:!1,disableRenderLimits:!1},pYe=Im({[`${Tve}`]:ht(((e,{payload:n})=>{e.audioDecodeStatus=n})),[`${Ave}`]:ht(((e,{payload:n})=>{e.audioEncodeStatus=n})),[`${JX}`]:ht(((e,{payload:n})=>{e.sharingDecodeStatus=n})),[`${Ive}`]:ht(((e,{payload:n})=>{e.sharingEncodeStatus=n})),[`${Ove}`]:ht(((e,{payload:n})=>{e.videoDecodeStatus=n})),[`${xve}`]:ht(((e,{payload:n})=>{e.videoEncodeStatus=n})),[`${Fye}`]:ht(((e,{payload:n})=>{e.mediaConstraints=n.mediaConstraints,e.assetsPath=n.assetsPath,e.enforceMultipleVideos=!!n.enforceMultipleVideos,e.enforceVirtualBackground=n.enforceVirtualBackground,e.skipJsMedia=n.skipJsMedia,e.patchJsMedia=n.patchJsMedia,e.alternativeNameForVideoPlayer=n.alternativeNameForVideoPlayer,n.enforceMultipleVideos&&typeof n.enforceMultipleVideos=="object"&&(e.disableRenderLimits=!!n.enforceMultipleVideos.disableRenderLimits)})),[`${oLe}`]:ht(((e,{payload:n})=>{const{type:o,encryptKey:i,additionalType:c}=n,d={encryptKey:i,additionalType:c};o==="audio"?e.audioEncrypt=d:o==="video"?e.videoEncrypt=d:o==="sharing"&&(e.sharingEncrypt=d)})),[`${sLe}`]:ht(((e,{payload:n})=>{e.isEnableDecoderInWorklet=n})),[`${QX}`]:ht(((e,{payload:n})=>{e.patchedMediaSDKStatus=n})),[`${rLe}`]:ht(((e,{payload:n})=>{e.assetsPath=n})),[`${Rve}`]:ht(((e,{payload:n})=>{e.isMediaAgentInitialized=n})),[`${iLe}`]:e=>({...kOe,mediaConstraints:e.mediaConstraints,assetsPath:e.assetsPath,enforceMultipleVideos:e.enforceMultipleVideos,disableRenderLimits:e.disableRenderLimits,enforceVirtualBackground:e.enforceVirtualBackground,alternativeNameForVideoPlayer:e.alternativeNameForVideoPlayer})},kOe),{InitSuccessVideo:pme,InitSuccessAudio:mme,InitSuccessSharing:gme,InitFailedVideo:vme,InitFailedAudio:bme,InitFailedSharing:yme,HealthCheckFailed:DOe,AudioWebsocketBroken:MOe,VideoWebsocketBroken:POe,AudioStreamFailed:NOe,VideoStreamFailed:LOe,WebglContextInvalid:BOe,WasmMemoryFail:VOe,AudioStreamMuted:FOe,RecoverWebrtcAudio:HOe,AudioBridgeSocketConnectionError:$Oe,VideoStreamMuted:UOe}=Jn,Rh=Rm(Ns.getInstance()),fBe=Qf.getInstance(),zOe=fBe.makeLogger(["Media Agent"]),fX=[],mYe={epics0:(e,n)=>e.pipe(Uo(`${Mv}`),Ei((o=>{var i;const{meeting:{isMeetingReset:c}}=n.value;return Yo.mediaFeatureOptions=(i=o.payload)===null||i===void 0?void 0:i.mediaFeatureOptions,e.pipe(Nh(e.pipe(Uo(`${q0}`),En((d=>{var p;return!((p=d.payload)!==null&&p!==void 0&&p.retry)})),Qr(1))),Uo(`${AE}`),Qr(1),Y_((()=>{var d;const{logger:p,media:{mediaConstraints:v,assetsPath:S,enforceMultipleVideos:T,enforceVirtualBackground:x},meeting:{meetingId:P,meetingNumber:B,mediaFeatureOptions:U,webMediaBlockConfig:j}}=n.value,W=p!=null&&(d=p.options)!==null&&d!==void 0&&d.enable?Qf.getInstance().makeLogger(["MEDIA SDK"]):void 0;return(function(Z){const{media:{patchedMediaSDKStatus:re}}=Z;return re===N5.Loading?vc(xa(BX,1)):Promise.resolve()})(n.value).then((()=>{const Z=[];return Rh.init({...mPe(T,x),globalTracingLogger:lqe(W),mid:P,meetingNumber:B,mediaSDKConfig:{mediaFeatureOptions:U,webMediaBlockConfig:j,mediaSDKCDNPath:S},rwgAgent:ea.createAgent()}),Z.push(Rve(!0)),c&&v!==void 0&&S!==void 0&&Z.push(_ve()),Z})).catch((()=>[]))})))}))),epics1:(e,n)=>e.pipe(Uo(`${Mv}`),En((o=>{const{payload:{mediaSDKPath:i}}=o,{media:{skipJsMedia:c,patchJsMedia:d,assetsPath:p},meeting:{isMeetingReset:v}}=n.value;return!c&&fPe(p)&&!!d&&!!i&&!v})),Ei((o=>{const{payload:{mediaSDKPath:i}}=o,c=Yee(i);return eo(new Promise(((d,p)=>{const v=`${c}/${Z2}`;"JsMediaSDK_Instance"in window&&(window.JsMediaSDK_Instance_backup=window.JsMediaSDK_Instance,delete window.JsMediaSDK_Instance),$ee(v,(()=>{"JsMediaSDK_Instance_backup"in window&&delete window.JsMediaSDK_Instance_backup,zOe.info(`patched media sdk url:${v}`),d("")}),(()=>{"JsMediaSDK_Instance_backup"in window&&(window.JsMediaSDK_Instance=window.JsMediaSDK_Instance_backup,delete window.JsMediaSDK_Instance_backup),zOe.error(`cannot load patched media sdk :${v}`),p()}))}))).pipe(rn((()=>(it(BX),eo([QX(N5.Done),rLe(c)])))),xm((()=>(it(BX),eo([QX(N5.Done)])))),Jy(QX(N5.Loading)))}))),epics2:(e,n)=>(function(o,i){return o.pipe(Uo(`${_ve}`),En((()=>{const{media:{assetsPath:c,mediaConstraints:d}}=i.value;return c!==void 0&&d!==void 0})),Ei((()=>{const{media:{isMediaAgentInitialized:c}}=i.value;return c?eo([0]):o.pipe(Uo(`${Rve}`),En((d=>!!d.payload)),Qr(1))})))})(e,n).pipe($o((()=>{const{media:{assetsPath:o,mediaConstraints:i}}=n.value;Rh.notifySDKMeetingReady(),o&&i&&Rh.setAssetsAndConstraint(o,i),Hk(n).pipe(Ei((c=>eo(Zge.acquire().then((()=>c)))))).subscribe((c=>{const{meeting:{svcUrl:d,meetingNumber:p,conId:v,e2eEncrypt:S,userId:T,isWebinar:x,enableWebtransport:P,webtransportPort:B,isUseWBVideo:U,mediasdkConfig:j,reportDomain:W,abToken:Z,confId:re},media:{alternativeNameForVideoPlayer:le,enforceMultipleVideos:ie,disableRenderLimits:be},audio:Ce,video:Ae}=n.value;var F;c&&(Rh.connect({svcUrl:d,meetingNumber:p,conId:v,confId:re,e2eEncrypt:S,isViewOnly:hf(c.userRole),currentUserId:T,isWebinar:x,reportDomain:W,abToken:Z??"",enableWebtransport:!!P,webtransportPort:B??0,isWebRtcVideoCapable:U,isWebRtcAudioCapable:!(Ce==null||!Ce.isWebRtcAudioCapable),rendererType:(F=Ae==null?void 0:Ae.rendererType)!==null&&F!==void 0?F:0,webrtcMode:eWe(!(Ce==null||!Ce.isWebRtcAudioCapable),U),mediasdkConfig:j??{},enforceMultipleVideos:ie,disableRenderLimits:be}),kNe({mediaSDK:()=>Rh.instance,tagName:le,failover:"1"}))}))})),Ei((()=>rA((o=>Rh.registerCallback(o)),(o=>Rh.unregisterCallback(o)),((o,i)=>({type:o,data:i}))).pipe(xo((o=>nLe(o))))))),epics3:e=>lr(e,[pme,mme,gme,vme,bme,yme]).pipe(zLe((n=>{const{payload:{type:o,data:i}}=n;if(o===mme||o===bme){if(i===pg.EncodeSuccess)return it(OMe),Ua(Ave("success"));if(i===pg.DecodeSuccess)return it(IMe),Ua(Tve("success"));if(i===pg.EncodeFailed)return it(MMe),Ua(Ave("failed"));if(i===pg.DecodeFailed)return it(PMe),Ua(Tve("failed"))}else if(o===pme||o===vme){if(i===pg.EncodeSuccess)return it(RMe),Ua(xve("success"));if(i===pg.DecodeSuccess)return it(kMe),Ua(Ove("success"));if(i===pg.EncodeFailed)return it(NMe),Ua(xve("failed"));if(i===pg.DecodeFailed)return it(LMe),Ua(Ove("failed"))}else if(o===gme||o===yme){if(i===pg.EncodeSuccess)return it(DMe),Ua(Ive("success"));if(i===pg.DecodeSuccess)return it(Dge),Ua(JX("success"));if(i===pg.EncodeFailed)return it(BMe),Ua(Ive("failed"));if(i===pg.DecodeFailed)return it(VMe),Ua(JX("failed"));if(o===gme&&i===void 0)return it(Dge),Ua(JX("success"))}}))),epics4:(e,n)=>lr(e,[pme,mme]).pipe(Ei((()=>typeof navigator.mediaDevices=="object"?Id($k(),Id(lr(e,Jn.StartVideoCaptureSuccess),lr(e,Jn.DeviceChangeEvent),lr(e,Jn.UserGrantCaptureAudio).pipe(En((()=>!n.value.audio.isUserGrantCaptureAudio))),lr(e,Jn.JoinComputerAudioComplete).pipe(En((o=>{var i;return!((i=o.payload.data)===null||i===void 0||!i.isPassive)}))),xa(Mge).pipe(En((o=>o.state==="granted")))).pipe(rn((()=>$k().pipe($o((()=>{setTimeout((()=>{it(FMe)}),50)}))))))).pipe(ts(n),rn((([o,i])=>{const c=[JLe(o.microphones),QLe(o.speakers),xye(o.cameras)];if(i.audio){const{audio:{activeMicrophone:v,activeSpeaker:S,microphoneDevicesList:T,speakerDevicesList:x,isUsingMediaPlayback:P},video:{cameraDevicesList:B,activeCamera:U,isUsingMediaPlayback:j}}=i,W=gs(i),{microphones:Z,speakers:re,cameras:le}=o,ie=T.filter((Ae=>Z.findIndex((F=>F.deviceId===Ae.deviceId))===-1)),be=x.filter((Ae=>re.findIndex((F=>F.deviceId===Ae.deviceId))===-1)),Ce=B.filter((Ae=>le.findIndex((F=>F.deviceId===Ae.deviceId))===-1));if(ie.length>0){if(ie.some((Ae=>vpe(Ae,v,T)))){const Ae=b5(Z);P||Rh.changeMicrophone("default",Ae==null?void 0:Ae.label,!(W==null||!W.muted)),c.push(W6("default"))}}else if(v==="default"){const Ae=b5(T),F=b5(Z);!P&&T.length>0&&(Ae==null?void 0:Ae.label)!==(F==null?void 0:F.label)&&Rh.changeMicrophone("default",F==null?void 0:F.label,!(W==null||!W.muted))}var d,p;be.length>0?be.some((Ae=>vpe(Ae,S,x)))&&(Rh.changeSpeaker("default"),c.push(ite("default"))):S==="default"&&x.length>0&&((d=b5(x))===null||d===void 0?void 0:d.label)!==((p=b5(re))===null||p===void 0?void 0:p.label)&&Rh.changeSpeaker("default"),Ce.length>0&&Ce.some((Ae=>vpe(Ae,U,B)))&&(j||Rh.stopCaptureVideo(),c.push(F3(Yo.isAndroidOrIOSBrowser?ok.User:"default")))}return eo(c)}))):Oo))),epics5:(e,n)=>TS(e,jl).pipe($o((o=>{const{type:i,payload:{body:c}}=o,d=i===`${Z_}`;if(c.add){const p=c.add.map((v=>({userid:v.id,sn:v.zoomID&&j0(v.zoomID)})));if(!d){const{meeting:{gcmSessinKey:v}}=n.value;Rh.sendUserNodeList(p,v)}Rh.updateUserMediaSN({added:p,isFromMainSession:d,iVType:AS.SHARING_DECODE}),d&&Rh.updateUserMediaSN({added:p,isFromMainSession:d,iVType:AS.AUDIO_DECODE})}if(c.remove&&c.remove.length>0){if(!d){const{meeting:{gcmSessinKey:p}}=n.value;Rh.sendUserNodeList(c.remove.map((v=>({userid:v.id,bremove:!0}))),p)}Rh.updateUserMediaSN({removed:c.remove.map((p=>p.id)),isFromMainSession:d,iVType:AS.SHARING_DECODE}),d&&Rh.updateUserMediaSN({removed:c.remove.map((p=>p.id)),isFromMainSession:d,iVType:AS.AUDIO_DECODE})}})),Pa(Oo)),epics6:e=>lr(e,Jn.AesGcmIvResponse).pipe($o((n=>{const{payload:{data:{workerType:o,iv:i}}}=n,c=ai.get(ol.WebclientIVState);if(c){const d={...c,[o]:i};ai.set(ol.WebclientIVState,d,ya.SessionStorage)}})),Pa(Oo)),epics7:e=>e.pipe(Uo(`${Xk}`),En((n=>[Dve,y_e,Hye].includes(n.payload.evt))),xo((n=>{const{payload:{evt:o,body:{encryptKey:i,additionalType:c}}}=n;return oLe({type:o===Dve?"audio":o===y_e?"video":"sharing",encryptKey:i,additionalType:c})}))),epics8:e=>e.pipe(Uo(`${Fye}`),$o((n=>{const{payload:o}=n;ih.setMediaOption({assetsPath:o.assetsPath,enforceMultipleVideos:o.enforceMultipleVideos,enforceVirtualBackground:o.enforceVirtualBackground,alternativeNameForVideoPlayer:o.alternativeNameForVideoPlayer})})),Pa(Oo)),epics9:e=>e.pipe(Uo(`${q3}`,`${NQ}`),$o((()=>{$0.getInstance().inProgress&&($0.getInstance().disconnect(),Zge.watch($0.getInstance().destroy()))})),Pa(Oo)),epics10:e=>e.pipe(Uo(`${q3}`,`${NQ}`),Ei((()=>"permissions"in navigator?["microphone","camera"].map((n=>{navigator.permissions.query({name:n}).then((o=>{const i=()=>{it(Mge,{name:n,state:o.state})};i(),o.addEventListener("change",i),fX.push((()=>{o.removeEventListener("change",i)}))})).catch((()=>{}))})):Oo)),Pa(Oo)),epics11:e=>e.pipe(Uo(`${Bye}`),En((n=>n.payload===Lh.Closed)),$o((()=>{fX.length>0&&(fX.forEach((n=>n())),fX.length=0)})),Pa(Oo)),epics12:(e,n)=>lr(e,[DOe,vme,bme,yme,MOe,POe,NOe,LOe,BOe,VOe,FOe,HOe,$Oe,UOe]).pipe(rn((o=>{const{payload:{type:i,data:c}}=o;let d,p;if(i===MOe||i===$Oe)d={message:"Audio connection failed. Please refresh your browser to reconnect.",type:"audio",code:Cv.AudioConnectionFailed};else if(i===POe)d={message:"Connection to remote video has failed. Please refresh your browser to try again.",type:"video",code:Cv.VideoConnectionFailed};else if(i===NOe)c===L5.Exception?d={message:"Can't access your microphone. Please refresh your browser to try again.",type:"audio",code:Cv.AudioStreamEnded}:c===L5.PermissionReset&&(d={message:"Your browser is preventing access to your microphone.Please grant the permission.",type:"audio",code:Cv.MicrophonePermissionReset});else if(i===LOe)c===L5.Exception?d={message:"Can't access your camera. Please refresh your browser to try again.",type:"video",code:Cv.VideoStreamEnded}:c===L5.PermissionReset&&(d={message:"Your browser is preventing access to your camera.Please grant the permission.",type:"video",code:Cv.CameraPermissionReset});else if(i===BOe)d={message:"Oops! Something went wrong. Please close all browsers and rejoin the meeting.",type:"video",code:Cv.WebGlContextInvalid};else if(i===VOe)d={message:"Uh-oh! You’re running low on memory. Please close all browsers and rejoin the meeting.",type:"video",code:Cv.WasmOutOfMemory};else if(i===DOe){let[S,T]=["",0];c===-129?(S="sharing",T=Cv.SharingStreamFailed):[-130,-135].includes(c)?(S="video",T=Cv.VideoStreamFailed):[-131,-136].includes(c)&&(S="audio",T=Cv.AudioStreamFailed),d={message:"Oops! Something went wrong. Please close all browsers and rejoin the meeting.",type:S,code:T}}else if(i===FOe){const S="audio";let[T,x]=[0,""];c?(T=Cv.MicrophoneMuted,x="Your mic is muted in system or browser settings. Please open your settings to unmute and adjust the level."):(T=Cv.AudioStreamMuted,x="Audio was interrupted by the system. Please click anywhere to resume playback.",p=Kge().pipe(Nh(lr(e,Jn.AudioStreamUnmuted).pipe(Qr(1))),$o((()=>{gPe(Rh,n.value)})))),d={message:x,type:S,code:T}}else if(i===HOe)c===!1&&(d={message:"Audio playback was interrupted. Please click anywhere to resume playback.",type:"audio",code:Cv.AudioPlaybackInterrupted});else if(i===UOe&&n.value.video.isCurrentUserStartedVideo){const S="video",T=Cv.VideoStreamMuted;p=Kge().pipe(Nh(lr(e,Jn.VideoStreamUnmuted).pipe(Qr(1))),$o((()=>{(function(P,B){const{video:{isCurrentUserStartedVideo:U,activeCamera:j,isUsingMediaPlayback:W,customizedVideoOption:Z}}=B;if(U&&!W){const{captureWidth:re,captureHeight:le}=ete(Z);P.changeCamera(j,gz.includes(j),{width:re,height:le},!0)}})(Rh,n.value)}))),d={message:"Video was interrupted by the system. Please click anywhere to resume.",type:S,code:T}}var v;return d&&(fBe.report(`active media failed. reason:${i}; message:${d.message}`,`${(v=d.type)===null||v===void 0?void 0:v.replace(/^./,(S=>S.toUpperCase()))} exception flow`),it(HMe,d)),p??eo([])})),rn((()=>Oo))),epics13:e=>Bo(e,4366).pipe($o((n=>{const{payload:o}=n;Rh.bypassMediaMessage(o)})),rn((()=>Oo))),epics14:(e,n)=>lr(e,Jn.NotifyUIFailover).pipe(En((()=>!n.value.meeting.isMeetingReset&&n.value.meeting.meetingStatus===Lh.Joined)),xo((o=>{const{payload:{data:i}}=o;it(Rv,{reason:Om.Failover});let c=df.NotifyUiFailover;return(i==null?void 0:i.audio)!==void 0&&(Yo.isAndroidOrIOSBrowser||Yo.isHarmonyOS||i.audio!==TEe.FallbackToWasm||ai.set(ol.VideoSDKWebRTCAudioFallbackWasm,1,ya.SessionStorage)),(i==null?void 0:i.video)!==void 0&&(c=df.NotifyUIWMSCFailover,i.video===TEe.FallbackToWasm&&ai.set(ol.VideoSDKWebRTCVideoFallbackWasm,1,ya.SessionStorage)),wg(c)})))},gYe=xg(mYe),jOe={processorCreatedList:[],processorInstanceList:[]},vYe={meeting:XKe,socket:uYe,participants:MGe,media:pYe,processor:Im({[`${z3e}`]:ht(((e,{payload:n})=>{e.processorCreatedList.push(n)})),[`${j3e}`]:ht(((e,{payload:n})=>{e.processorInstanceList.push(n)})),[`${W3e}`]:ht(((e,{payload:n})=>{const o=e.processorInstanceList.findIndex((i=>i.name===n.name&&i.type===n.type));o>=0&&e.processorInstanceList.splice(o,1)})),[`${G3e}`]:()=>({...jOe})},jOe)},bYe=dBe;function WOe(e){return(function(n){for(var o=Object.keys(n),i={},c=0;c<o.length;c++){var d=o[c];typeof n[d]=="function"&&(i[d]=n[d])}var p,v=Object.keys(i);try{(function(S){Object.keys(S).forEach((function(T){var x=S[T];if(x(void 0,{type:gee.INIT})===void 0)throw new Error(mg(12));if(x(void 0,{type:gee.PROBE_UNKNOWN_ACTION()})===void 0)throw new Error(mg(13))}))})(i)}catch(S){p=S}return function(S,T){if(S===void 0&&(S={}),p)throw p;for(var x=!1,P={},B=0;B<v.length;B++){var U=v[B],j=i[U],W=S[U],Z=j(W,T);if(Z===void 0)throw T&&T.type,new Error(mg(14));P[U]=Z,x=x||Z!==W}return(x=x||v.length!==Object.keys(S).length)?P:S}})({...vYe,...e})}class D_ extends Sve{static createClient(){if(!this.meetingClient){const n=(function(){const o=(function(v){v===void 0&&(v={});var S,T=new MEe.constructor(MEe.schedulerActionCtor),x=new qy,P=function(B){S=B;var U=new qy,j=new qy,W=U.asObservable().pipe(ed(T)),Z=new lGe(j.pipe(ed(T)),S.getState());return x.pipe(xo((function(re){var le=re(W,Z,v.dependencies);if(!le)throw new TypeError('Your root Epic "'+(re.name||"<anonymous>")+`" does not return a stream. Double check you're not missing a return statement!`);return le})),rn((function(re){return eo(re).pipe(bge(T),ed(T))}))).subscribe(S.dispatch),function(re){return function(le){var ie=re(le);return j.next(S.getState()),U.next(le),ie}}};return P.run=function(B){x.next(B)},P})(),{epicSubject:i,rootEpic:c}=(function(){const v=new G8e(aLe(tYe,fYe,NGe,gYe));return{epicSubject:v,rootEpic:(S,T,x)=>v.pipe(Nh(S.pipe(Uo(`${DNe}`))),rn((P=>P(S,T,x))))}})(),d=[o],p=uBe(WOe(),bYe((function(){for(var v=arguments.length,S=new Array(v),T=0;T<v;T++)S[T]=arguments[T];return function(x){return function(){var P=x.apply(void 0,arguments),B=function(){throw new Error(mg(15))},U={getState:P.getState,dispatch:function(){return B.apply(void 0,arguments)}},j=S.map((function(W){return W(U)}));return B=dBe.apply(void 0,j)(P.dispatch),COe(COe({},P),{},{dispatch:B})}}})(...d)));return p.asyncReducers={},p.injectReducer=(v,S)=>{p.asyncReducers[v]===void 0&&(p.asyncReducers[v]=S,p.replaceReducer(WOe(p.asyncReducers)))},p.injectEpic=v=>{i.next(v)},o.run(c),p})();this.meetingClient=new WKe(n)}return this.meetingClient}}function yYe(e,n,o){return(n=(function(i){var c=(function(d,p){if(typeof d!="object"||!d)return d;var v=d[Symbol.toPrimitive];if(v!==void 0){var S=v.call(d,p);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)})(i,"string");return typeof c=="symbol"?c:c+""})(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function GOe(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable}))),o.push.apply(o,i)}return o}function Db(e){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?GOe(Object(o),!0).forEach((function(i){yYe(e,i,o[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):GOe(Object(o)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(o,i))}))}return e}function ez(e,n){if(e==null)return{};var o,i,c=(function(p,v){if(p==null)return{};var S={};for(var T in p)if({}.hasOwnProperty.call(p,T)){if(v.indexOf(T)!==-1)continue;S[T]=p[T]}return S})(e,n);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(i=0;i<d.length;i++)o=d[i],n.indexOf(o)===-1&&{}.propertyIsEnumerable.call(e,o)&&(c[o]=e[o])}return c}const Tz="2.2.12",pX="INVALID_PARAMETERS",SYe="https://dmogdx0jrul3u.cloudfront.net/videosdk/".concat(Tz,"/lib"),CYe="https://source.zoom.us/videosdk/".concat(Tz,"/lib"),EYe="https://jssdk.zoomus.cn/videosdk/".concat(Tz,"/lib"),Sme=e=>typeof e=="string"&&e.length>0,pBe=e=>{let n="";switch(e){case"Global":n=CYe;break;case"CN":n=EYe;break;case"CDN":n=SYe;break;default:n=e}return n},mBe=["userId","avatar","displayName","isHost","audio","muted","bVideoOn","sharerOn","sharerPause","userIdentity","isSpeakerOnly","bVideoShare","bShareAudioOn","userGuid","isPhoneUser","isInFailover",{from:"isCoHost",to:"isManager"},{from:"bAllowISORecord",to:"isAllowIndividualRecording"},{from:"bVideoConnect",to:"isVideoConnect"},{from:"bShareToBORooms",to:"bShareToSubsession"},{from:"bid",to:"subsessionId"},{from:"phoneNumber",to:e=>e===void 0?{}:{phoneNumber:e}}],gBe=[...mBe,{from:"userGUID",to:"userGuid"},{from:"bCoHost",to:e=>({isManager:!!e})},{from:"userType",to:e=>({isPhoneUser:!(5&~e)})},{from:"bid",to:e=>e?{subsessionId:e}:{}},{from:"bInFailover",to:"isInFailover"}],wYe=gBe.map((e=>typeof e=="string"?e:e.from));function vBe(e,n){return typeof e=="string"?{["".concat(e)]:n}:typeof e.to=="string"?{["".concat(e.to)]:n}:e.to(n)}function dk(e){if(e)return mBe.reduce(((n,o)=>{const i=typeof o=="string"?o:o.from,c=vBe(o,e[i]);return Db(Db({},n),c)}),{})}function Cme(e){if(e)return Object.keys(e).reduce(((n,o)=>{const i=wYe.indexOf(o);if(i>-1){const c=gBe[i],d=typeof c=="string"?c:c.from,p=vBe(c,e[d]);return Db(Db({},n),p)}return n}),{})}const Mn=Symbol("stream");class _Ye{constructor(n){this[Mn]=void 0,this[Mn]=n}startAudio(n){return this[Mn].startAudio(n)}stopAudio(){return this[Mn].stopAudio()}muteAudio(n){return this[Mn].muteAudio(n)}unmuteAudio(n){return this[Mn].unmuteAudio(n)}inviteByPhone(n,o,i,c){return this[Mn].dialOut(n,o,i,c)}cancelInviteByPhone(n,o,i){return this[Mn].cancelDialOut(n,o,i)}hangup(){return this[Mn].hangup()}getCurrentSessionCallinInfo(){return this[Mn].getDialInInfo()}muteShareAudio(n){return this[Mn].muteShareAudio(n)}unmuteShareAudio(n){return this[Mn].unmuteShareAudio(n)}subscribeAudioStatisticData(n){return this[Mn].subscribeAudioStatisticData(n)}unsubscribeAudioStatisticData(n){return this[Mn].unsubscribeAudioStatisticData(n)}muteUserAudioLocally(n){return this[Mn].muteUserAudioLocally(n)}unmuteUserAudioLocally(n){return this[Mn].unmuteUserAudioLocally(n)}adjustUserAudioVolumeLocally(n,o){return this[Mn].adjustUserAudioVolumeLocally(n,o)}enableBackgroundNoiseSuppression(n){return this[Mn].enableBackgroundNoiseSuppression(n)}enableSyncButtonsOnHeadset(n){return this[Mn].enableSyncButtonsOnHeadset(n)}muteAllUserAudioLocally(){return this[Mn].muteAllUserAudioLocally()}unmuteAllUserAudioLocally(){return this[Mn].unmuteAllUserAudioLocally()}enableOriginalSound(n){return this[Mn].enableOriginalSound(n)}callCRCDevice(n,o){return this[Mn].callCRCDevice(n,o)}cancelCallCRCDevice(n,o){return this[Mn].cancelCallCRCDevice(n,o)}startSecondaryAudio(n,o){return this[Mn].startSecondaryAudio(n,o)}stopSecondaryAudio(){return this[Mn].stopSecondaryAudio()}muteAllAudio(){return this[Mn].muteAllAudio()}unmuteAllAudio(){return this[Mn].unmuteAllAudio()}muteAudioUponStartAudio(n){return this[Mn].muteAudioUponEntry(n)}allowAudioUnmutedBySelf(n){return this[Mn].allowUnmuteAudioThemselves(n)}isAudioMuted(n){return this[Mn].isAudioMuted(n)}getMicList(){return this[Mn].getMicList()}getSpeakerList(){return this[Mn].getSpeakerList()}getActiveMicrophone(){return this[Mn].getActiveMicrophone()}getActiveSpeaker(){return this[Mn].getActiveSpeaker()}switchMicrophone(n){return this[Mn].switchMicrophone(n)}switchSpeaker(n){return this[Mn].switchSpeaker(n)}isSupportPhoneFeature(){return this[Mn].isSupportCallOut()}getSupportCountryInfo(){return this[Mn].getDialOutCountries()}getInviteByPhoneStatus(){return this[Mn].getDialOutStatus()}getShareAudioStatus(){return this[Mn].getShareAudioStatus()}isOthersShareAudioMutedLocally(n){return this[Mn].isOthersShareAudioMutedLocally(n)}getAudioStatisticData(){return this[Mn].getAudioStatisticData()}isUserAudioMutedLocally(n){return this[Mn].isUserAudioMutedLocally(n)}getUserVolumeLocally(n){return this[Mn].getUserVolumeLocally(n)}isSupportMicrophoneAndShareAudioSimultaneously(){return this[Mn].isSupportMicrophoneAndShareAudioSimultaneously()}getAudioMediaPlaybackController(){return this[Mn].getAudioMediaPlaybackController()}isAllowAudioUnmutedBySelf(){return this[Mn].isAllowToUnmute()}getSessionSIPAddress(){return this[Mn].getSessionSIPAddress()}startVideo(n){return this[Mn].startVideo(n)}stopVideo(){return this[Mn].stopVideo()}createProcessor(n){return this[Mn].createProcessor(n)}addProcessor(n){return this[Mn].addProcessor(n)}removeProcessor(n){return this[Mn].removeProcessor(n)}renderVideo(n,o,i,c,d,p,v,S){return this[Mn].renderVideo(n,o,i,c,d,p,v,S)}stopRenderVideo(n,o,i,c){let d=arguments.length>4&&arguments[4]!==void 0&&arguments[4],p=arguments.length>5?arguments[5]:void 0;return this[Mn].stopRenderVideo(n,o,i,c,d,p)}updateVideoCanvasDimension(n,o,i){return this[Mn].updateVideoCanvasDimension(n,o,i)}adjustRenderedVideoPosition(n,o,i,c,d,p,v){return this[Mn].adjustRenderedVideoPosition(n,o,i,c,d,p,v)}clearVideoCanvas(n,o){return this[Mn].clearVideoCanvas(n,o)}mirrorVideo(n){return this[Mn].mirrorVideo(n)}enableHardwareAcceleration(n){return this[Mn].enableHardwareAcceleration(n)}previewVirtualBackground(n,o,i,c){return this[Mn].previewVirtualBackground(n,o,i,c)}updateVirtualBackgroundImage(n,o){return this[Mn].updateVirtualBackgroundImage(n,o)}stopPreviewVirtualBackground(){return this[Mn].stopPreviewVirtualBackground()}previewVideoMask(n,o){return this[Mn].previewVideoMask(n,o)}updateVideoMask(n){return this[Mn].updateVideoMask(n)}stopPreviewVideoMask(){return this[Mn].stopPreviewVideoMask()}switchCamera(n){return this[Mn].switchCamera(n)}subscribeVideoStatisticData(n){return this[Mn].subscribeVideoStatisticData(n)}unsubscribeVideoStatisticData(n){return this[Mn].unsubscribeVideoStatisticData(n)}attachVideo(n,o,i){return this[Mn].attachVideo(n,o,i)}detachVideo(n,o){return this[Mn].detachVideo(n,o)}spotlightVideo(n,o){return this[Mn].spotlight(n,o!=null&&o)}removeSpotlightedVideo(n){return this[Mn].removeSpotlight(n)}removeAllSpotlightedVideos(){return this[Mn].removeAllSpotlights()}screenshotVideo(n){return this[Mn].screenshotVideo(n)}isCapturingVideo(){return this[Mn].isCapturingVideo()}isCameraTaken(){return this[Mn].isCameraTaken()}getActiveVideoId(){return this[Mn].getActiveVideoId()}getActiveCamera(){return this[Mn].getActiveCamera()}getCameraList(){return this[Mn].getCameraList()}isCaptureForbidden(){return this[Mn].isCaptureForbidden()}getVideoMaxQuality(){return this[Mn].getVideoMaxQuality()}getReceivedVideoDimension(){return this[Mn].getReceivedVideoDimension()}isSupportMultipleVideos(){return this[Mn].isSupportMultipleVideos()}getMaxRenderableVideos(){return this[Mn].getMaxRenderableVideos()}isSupportHDVideo(){return this[Mn].isSupportHDVideo()}isSupportVirtualBackground(){return this[Mn].isSupportVirtualBackground()}isSupportVideoProcessor(){return this[Mn].isSupportVideoProcessor()}isSupportAudioProcessor(){return this[Mn].isSupportAudioProcessor()}isSupportShareProcessor(){return this[Mn].isSupportShareProcessor()}getVirtualbackgroundStatus(){return this[Mn].getVirtualbackgroundStatus()}getVideoStatisticData(){return this[Mn].getVideoStatisticData()}isRenderSelfViewWithVideoElement(){return this[Mn].isRenderSelfViewWithVideoElement()}getCapturedVideoResolution(){return this[Mn].getCapturedVideoResolution()}getVideoMaskStatus(){return this[Mn].getVideoMaskStatus()}isVideoMirrored(){return this[Mn].isVideoMirrored()}getSpotlightedUserList(){return this[Mn].getSpotlightedUserList().map((n=>dk(n)))}getVideoMediaPlaybackController(){return this[Mn].getVideoMediaPlaybackController()}startShareView(n,o){return this[Mn].startShareView(n,o)}stopShareView(){return this[Mn].stopShareView()}attachShareView(n,o){return this[Mn].attachShareView(n,o)}detachShareView(n,o){return this[Mn].detachShareView(n,o)}switchShareView(n){return this[Mn].switchShareView(n)}startShareScreen(n,o){return(o==null?void 0:o.broadcastToSubsession)!==void 0&&Object.assign(o||{},{broadcastToBreakoutRoom:o==null?void 0:o.broadcastToSubsession}),this[Mn].startShareScreen(n,o)}pauseShareScreen(){return this[Mn].pauseShareScreen()}resumeShareScreen(){return this[Mn].resumeShareScreen()}stopShareScreen(){return this[Mn].stopShareScreen()}lockShare(n){return this[Mn].lockShare(n)}updateSharingCanvasDimension(n,o){return this[Mn].updateSharingCanvasDimension(n,o)}switchSharingSecondaryCamera(n){return this[Mn].switchSharingSecondaryCamera(n)}setSharePrivilege(n){return this[Mn].setSharePrivilege(n)}shareToSubsession(){return this[Mn].shareToBreakoutRoom()}stopShareToSubsession(){return this[Mn].stopShareToBreakoutRoom()}enableOptimizeForSharedVideo(n){return this[Mn].enableOptimizeForSharedVideo(n)}updateSharedVideoQuality(n){return this[Mn].updateSharedVideoQuality(n)}subscribeShareStatisticData(n){return this[Mn].subscribeShareStatisticData(n)}unsubscribeShareStatisticData(n){return this[Mn].unsubscribeShareStatisticData(n)}screenshotShareView(n){return this[Mn].screenshotSharedContent(n)}isShareLocked(){return this[Mn].isShareLocked()}getSharePrivilege(){return this[Mn].getSharePrivilege()}getActiveShareUserId(){return this[Mn].getActiveShareUserId()}getShareStatus(){return this[Mn].getShareStatus()}getShareUserList(){return this[Mn].getShareUserList().map((n=>dk(n)))}isStartShareScreenWithVideoElement(){return this[Mn].isStartShareScreenWithVideoElement()}isOptimizeForSharedVideoEnabled(){return this[Mn].isOptimizeForSharedVideoEnabled()}isSupportOptimizedForSharedVideo(){return this[Mn].isSupportOptimizedForSharedVideo()}getShareStatisticData(){return this[Mn].getShareStatisticData()}getShareStreamSettings(){return this[Mn].getShareStreamSettings()}getMaxRenderableShareViews(){return this[Mn].getMaxRenderableShareViews()}requestFarEndCameraControl(n){return this[Mn].requestFarEndCameraControl(n)}approveFarEndCameraControl(n){return this[Mn].approveFarEndCameraControl(n)}declineFarEndCameraControl(n){return this[Mn].declineFarEndCameraControl(n)}giveUpFarEndCameraControl(n){return this[Mn].giveUpFarEndCameraControl(n)}controlCamera(n){return this[Mn].controlCamera(n)}controlFarEndCamera(n){return this[Mn].controlFarEndCamera(n)}getFarEndCameraPTZCapability(n){return this[Mn].getFarEndCameraPTZCapability(n)}getCameraPTZCapability(n){return this[Mn].getCameraPTZCapability(n)}isBrowserSupportPTZ(){return this[Mn].isBrowserSupportPTZ()}getNetworkQuality(n){return this[Mn].getNetworkQuality(n)}requestRemoteControl(){return this[Mn].requestRemoteControl()}giveUpRemoteControl(){return this[Mn].giveUpRemoteControl()}startRemoteControl(n){return this[Mn].startRemoteControl(n)}grabRemoteControl(){return this[Mn].grabRemoteControl()}approveRemoteControl(n,o){return this[Mn].approveRemoteControl(n,o)}declineRemoteControl(n){return this[Mn].declineRemoteControl(n)}stopRemoteControl(){return this[Mn].stopRemoteControl()}launchRemoteControlApp(n){return this[Mn].launchRemoteControlApp(n)}isRemotelyControlApproved(){return this[Mn].isRemotelyControlApproved()}isControllingUserRemotely(){return this[Mn].isControllingUserRemotely()}isTargetShareSupportRemoteControl(n){return this[Mn].isTargetShareSupportRemoteControl(n)}getRemoteControlAppDownloadUrl(){return this[Mn].getRemoteControlAppDownloadUrl()}getRemotelyControllingUser(){return this[Mn].getRemotelyControllingUser()}isRemoteControlEnabled(){return this[Mn].isRemoteControlEnabled()}startAnnotation(){return this[Mn].startAnnotation()}stopAnnotation(){return this[Mn].stopAnnotation()}changeAnnotationPrivilege(n){return this[Mn].changeAnnotationPrivilege(n)}showAnnotatorName(n){return this[Mn].showAnnotatorName(n)}canDoAnnotation(){return this[Mn].canDoAnnotation()}getAnnotationController(){return this[Mn].getAnnotationController()}}const AYe=["isCoHost"],Fy=Symbol("chat");class TYe{constructor(n){this[Fy]=void 0,this[Fy]=n}send(n,o){return this[Fy].send(n,o)}sendToAll(n){return this[Fy].send(n,Jl.All)}sendFile(n,o){return this[Fy].sendFile(n,o)}downloadFile(n,o,i){return this[Fy].downloadFile(n,o,i)}setPrivilege(n){return this[Fy].setPrivilege(n)}getPrivilege(){return this[Fy].getPrivilege()}getReceivers(){return this[Fy].getReceivers().map((n=>{const{isCoHost:o}=n;return Db({isManager:o},ez(n,AYe))}))}getHistory(){return this[Fy].getHistory()}isFileTransferEnabled(){return this[Fy].isFileTransferEnabled()}getFileTransferSetting(){return this[Fy].getFileTransferSetting()}}const sE=Symbol("recording");class xYe{constructor(n){this[sE]=void 0,this[sE]=n}canStartRecording(){return this[sE].isRecordingEnabled()}startCloudRecording(){return this[sE].startRecording()}pauseCloudRecording(){return this[sE].pauseRecording()}resumeCloudRecording(){return this[sE].startRecording()}stopCloudRecording(){return this[sE].stopRecording()}getCloudRecordingStatus(){return this[sE].getRecordingStatus()}acceptIndividualRecording(){return this[sE].accept()}declineIndividualRecording(){return this[sE].decline()}}const Eme=Symbol("command");class OYe{constructor(n){this[Eme]=void 0,this[Eme]=n}send(n,o){return this[Eme].send(n,o)}}const IYe=["isInRoom"],RYe=["isAutoJoinRoom","isRoomSelectionEnabled"],rh=Symbol("breakout-room");class kYe{constructor(n){this[rh]=void 0,this[rh]=n}createSubsessions(n,o){return this[rh].createRooms(n,o).then((i=>i.map((c=>({subsessionId:c.roomId,subsessionName:c.name,userList:c.attendeeList})))))}openSubsessions(n,o){const i=o?Db(Db({},o),{},{isAutoJoinRoom:o.isAutoJoinSubsession,isRoomSelectionEnabled:o.isSubsessionSelectionEnabled}):void 0,c=n.map((d=>({roomId:d.subsessionId,name:d.subsessionName,attendeeList:d.userList})));return this[rh].openRooms(c,i)}joinSubsession(n){return this[rh].joinRoom(n)}leaveSubsession(){return this[rh].leaveRoom()}askForHelp(){return this[rh].askForHelp()}postponeHelping(n){return this[rh].postponeHelping(n)}broadcast(n){return this[rh].broadcast(n)}assignUserToSubsession(n,o){return this[rh].assignUserToRoom(n,o)}moveUserToSubsession(n,o){return this[rh].moveUserToRoom(n,o)}moveBackToMainSession(n){return this[rh].moveBackToMainSession(n)}closeAllSubsessions(){return this[rh].closeRoom()}startBroadcastVoice(){return this[rh].startBroadcastVoice()}stopBroadcastVoice(){return this[rh].stopBroadcastVoice()}getUnassignedUserList(){return this[rh].getUnassignedAttendeeList().map((n=>dk(n)))}getSubsessionList(){return this[rh].getRoomList().map((n=>{const{roomId:o,name:i,attendeeList:c}=n;return{subsessionId:o,subsessionName:i,userList:c.map((d=>{const p=d,{isInRoom:v}=p;return Db({isInSubsession:v},ez(p,IYe))}))}}))}getUserStatus(){return this[rh].getAttendeeStatus()}getSubsessionStatus(){return this[rh].getRoomStatus()}getCurrentSubsession(){const{attendeeStatus:n,name:o,roomId:i}=this[rh].getCurrentRoom();return{userStatus:n,subsessionName:o,subsessionId:i}}getSubsessionOptions(){const n=this[rh].getRoomOptions(),{isAutoJoinRoom:o,isRoomSelectionEnabled:i}=n;return Db({isAutoJoinSubsession:o,isSubsessionSelectionEnabled:i},ez(n,RYe))}isSubsessionEnabled(){return this[rh].isBreakoutRoomEnabled()}}const V0=Symbol("liveTranscription");class DYe{constructor(n){this[V0]=void 0,this[V0]=n}startLiveTranscription(){return this[V0].startLiveTranscription()}setSpeakingLanguage(n,o){return this[V0].setSpeakingLanguage(n,o)}setTranslationLanguage(n){return this[V0].setTranslationLanguage(n)}disableCaptions(n){return this[V0].disableCaptions(n)}lockTranscriptionLanguage(n){return this[V0].lockTranscriptionLanguage(n)}getLiveTranscriptionStatus(){return this[V0].getLiveTranscriptionStatus()}getCurrentTranscriptionLanguage(){return this[V0].getCurrentTranscriptionLanguage()}getCurrentTranslationLanguage(){return this[V0].getCurrentTranslationLanguage()}getLatestTranscription(){return this[V0].getLatestTranscription()}getLatestTranslation(){return this[V0].getLatestTranslation()}getFullTranscriptionHistory(){return this[V0].getFullTranscriptionHistory()}}const PL=Symbol("liveStream");class MYe{constructor(n){this[PL]=void 0,this[PL]=n}startLiveStream(n,o,i){return this[PL].startLiveStream(n,o,i)}stopLiveStream(){return this[PL].stopLiveStream()}isLiveStreamEnabled(){return this[PL].isLiveStreamEnabled()}getLiveStreamStatus(){var n;return(n=this[PL].getLiveStreamStatus())===null||n===void 0?void 0:n.status}}const k5=Symbol("logger");class PYe{constructor(n,o){if(this[k5]=void 0,this[k5]=n,o){const{debugMode:i,trackingId:c}=o;this[k5].setLogOptions({debugMode:i,trackingId:c})}}reportToGlobalTracing(n){return this[k5].reportToGlobalTracing(n)}reportRating(n,o){return this[k5].reportRating(n,o)}}const NL=Symbol("broadcastStreaming");class NYe{constructor(n){this[NL]=void 0,this[NL]=n}startBroadcast(){return this[NL].startBroadcast()}stopBroadcast(n){return this[NL].stopBroadcast(n)}isBroadcastStreamingEnable(){return this[NL].isBroadcastStreamingEnable()}getBroadcastStreamingStatus(){return this[NL].getBroadcastStreamingStatus()}}const LYe=["roomName"],BYe=["roomId","roomName"],qOe=[{event:"connection-change",originalEvent:"connection-change",payloadTransform:e=>{const{roomName:n}=e,o=ez(e,LYe);return n?Db(Db({},o),{},{subsessionName:n}):e}},{event:"user-added",originalEvent:"user-added",payloadTransform:e=>e.map((n=>Cme(n)))},{event:"user-updated",originalEvent:"user-updated",payloadTransform:e=>e.map((n=>Cme(n)))},{event:"user-removed",originalEvent:"user-removed",payloadTransform:e=>e.map((n=>Cme(n)))},{event:"subsession-invite-to-join",originalEvent:"invite-to-join",payloadTransform:e=>({subsessionId:e.roomId,subsessionName:e.name})},{event:"subsession-countdown",originalEvent:"room-countdown"},{event:"subsession-time-up",originalEvent:"room-time-up"},{event:"closing-subsession-countdown",originalEvent:"closing-room-countdown"},{event:"subsession-broadcast-message",originalEvent:"broadcast-message"},{event:"subsession-broadcast-voice",originalEvent:"broadcast-voice"},{event:"subsession-ask-for-help",originalEvent:"ask-for-help",payloadTransform:e=>({userId:e.userId,userGuid:e.userGuid,displayName:e.displayName,subsessionId:e.roomId,subsessionName:e.roomName})},{event:"subsession-ask-for-help-response",originalEvent:"ask-for-help-response"},{event:"subsession-invite-back-to-main-session",originalEvent:"invite-back-to-main-session"},{event:"subsession-state-change",originalEvent:"room-state-change"},{event:"host-ask-unmute-audio",originalEvent:"unmute-audio-consent"},{event:"subsession-user-update",originalEvent:"room-user-update",payloadTransform:e=>{const{roomId:n,roomName:o}=e;return Db({subsessionId:n,subsessionName:o},ez(e,BYe))}},{event:"active-media-failed",originalEvent:"media-internal-error"}],rE=Symbol("summary");class VYe{constructor(n){this[rE]=void 0,this[rE]=n}startSummary(){return this[rE].startSummary()}stopSummary(){return this[rE].stopSummary()}isSummaryEnabled(){return this[rE].isSummaryEnabled()}getSummaryStatus(){return this[rE].getSummaryStatus()}startMeetingQuery(){return this[rE].startMeetingQuery()}stopMeetingQuery(){return this[rE].stopMeetingQuery()}isMeetingQueryEnabled(){return this[rE].isMeetingQueryEnabled()}getMeetingQueryStatus(){return this[rE].getMeetingQueryStatus()}}const $a=Symbol("Client"),mX=new WeakMap;class FYe{constructor(){this[$a]=void 0,this.stream=void 0,this.chat=void 0,this.command=void 0,this.recording=void 0,this.subsession=void 0,this.liveTranscription=void 0,this.logger=void 0,this.liveStream=void 0,this.aiClient=void 0,this.broadcastStreaming=void 0,this[$a]=D_.createClient(),mX.set(this,new Map)}init(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en-US",o=arguments.length>2?arguments[2]:void 0;const i=pBe(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global");return window.isSecureContext===!1&&console.warn("The page is not in a secure context, to use audio, video, screen, a secure context must be enabled."),(function(){const c="__ZOOM_VIDEO_SDK_DOM_STORAGE_TEST__";try{return localStorage.setItem(c,c),localStorage.removeItem(c),sessionStorage.setItem(c,c),sessionStorage.removeItem(c),!0}catch{return!1}})()||console.warn("localstorage or sessionstorage is not enabled, please enable to use the video sdk,"),this[$a].init("","",{language:n,dependentAssets:i,constraints:Db(Db({},D_.checkSystemRequirements()),{},{screen:typeof WebAssembly=="object"&&typeof Worker=="function"}),additionalFeatures:["chat","cmd","recording","breakoutRoom","liveTranscription","logger","liveStream","summary","broadcastStreaming"],webEndpoint:(o==null?void 0:o.webEndpoint)||"zoom.us",skipJsMedia:o==null?void 0:o.skipJsMedia,enforceMultipleVideos:o==null?void 0:o.enforceMultipleVideos,stayAwake:o==null?void 0:o.stayAwake,enforceVirtualBackground:o==null?void 0:o.enforceVirtualBackground,quicklyLeaveMeeting:o==null?void 0:o.leaveOnPageUnload,patchJsMedia:o==null?void 0:o.patchJsMedia,alternativeNameForVideoPlayer:o==null?void 0:o.alternativeNameForVideoPlayer,isUIToolkit:o==null?void 0:o.isUIToolkit,isLogDetailed:o==null?void 0:o.isLogDetailed})}join(n,o,i,c,d){return Sme(n)&&Sme(o)&&Sme(i)?n.length>200?Promise.reject({type:pX,reason:"The maximum length of topic is 200",errorCode:lt.CLIENT_INVALID_JOIN_PARAMETER}):i.length>200?Promise.reject({type:pX,reason:"The maximum length of username is 200",errorCode:lt.CLIENT_INVALID_JOIN_PARAMETER}):c&&(typeof c!="string"||c.length>10)?Promise.reject({type:pX,reason:"The maximum length of password is 10",errorCode:lt.CLIENT_INVALID_JOIN_PARAMETER}):this[$a].joinInstant(n,o,i,Tz,c,d):Promise.reject({type:pX,reason:"Topic, token and userName must be string and required",errorCode:lt.CLIENT_INVALID_JOIN_PARAMETER})}leave(){var n;return arguments.length>0&&arguments[0]!==void 0&&arguments[0]?((n=mX.get(this))===null||n===void 0||n.clear(),this[$a].end()):this[$a].leave()}on(n,o){const i=qOe.find((c=>c.event===n));if(i){const{originalEvent:c,payloadTransform:d}=i;if(d){const p=S=>{const T=d(S);o(T)};this[$a].on(c,p);const v=mX.get(this);if(v){v.has(n)||v.set(n,[]);const S=v.get(n);S==null||S.push({originalCb:o,newCb:p})}}else this[$a].on(c,o)}else this[$a].on(n,o)}off(n,o){const i=qOe.find((c=>c.event===n));if(i){const{originalEvent:c,payloadTransform:d}=i;if(d){const p=mX.get(this);if(p){const v=p.get(n),S=v==null?void 0:v.find((T=>T.originalCb===o));if(S&&v){this[$a].off(c,S.newCb);const T=v==null?void 0:v.filter((x=>x.originalCb!==o));p.set(n,T)}}}else this[$a].off(c,o)}else this[$a].off(n,o)}getMediaStream(){return this.stream||(this.stream=new _Ye(this[$a].getMediaStream())),this.stream}getChatClient(){return this.chat||(this.chat=new TYe(this[$a].getFeatureModule("chat"))),this.chat}getRecordingClient(){return this.recording||(this.recording=new xYe(this[$a].getFeatureModule("recording"))),this.recording}getCommandClient(){return this.command||(this.command=new OYe(this[$a].getFeatureModule("cmd"))),this.command}getSubsessionClient(){return this.subsession||(this.subsession=new kYe(this[$a].getFeatureModule("breakoutRoom"))),this.subsession}getLiveTranscriptionClient(){return this.liveTranscription||(this.liveTranscription=new DYe(this[$a].getFeatureModule("liveTranscription"))),this.liveTranscription}getLoggerClient(n){return this.logger||(this.logger=new PYe(this[$a].getFeatureModule("logger"),n)),this.logger}getLiveStreamClient(){return this.liveStream||(this.liveStream=new MYe(this[$a].getFeatureModule("liveStream"))),this.liveStream}getBroadcastStreamingClient(){return this.broadcastStreaming||(this.broadcastStreaming=new NYe(this[$a].getFeatureModule("broadcastStreaming"))),this.broadcastStreaming}getAIClient(){return this.aiClient||(this.aiClient=new VYe(this[$a].getFeatureModule("summary"))),this.aiClient}getSessionInfo(){const n=this[$a].getMeetingInfo();return{isInMeeting:n.isInMeeting||!1,password:n.password||"",topic:n.topic,userName:n.userName,userId:n.userId,sessionId:n.meetingId}}getCurrentUserInfo(){return dk(this[$a].getCurrentUserInfo())}getUser(n){return dk(this[$a].getParticipantsList().find((o=>o.userId===n)))}getAllUser(){return this[$a].getParticipantsList().map((n=>dk(n)))}changeName(n,o){return this[$a].changeName(n,o)}makeHost(n){return this[$a].makeHost(n)}removeUser(n){return this[$a].removeUser(n)}makeManager(n){return this[$a].makeCoHost(n)}revokeManager(n){return this[$a].revokeCoHost(n)}reclaimHost(){return this[$a].reclaimHost()}isHost(){return this[$a].isHost()}isOriginalHost(){return this[$a].isOriginHost()}getSessionHost(){return dk(this[$a].getMeetingHost())}isManager(){return this[$a].isCoHost()}}class xbe{static createClient(){return this.videoClient||(this.videoClient=new FYe),this.videoClient}static destroyClient(){return this.videoClient?this.videoClient.leave().then((()=>(this.videoClient=null,D_.destroyClient()))):Promise.resolve(void 0)}static checkSystemRequirements(){return D_.checkSystemRequirements()}static checkFeatureRequirements(){return D_.checkFeatureRequirements()}static getDevices(n){return D_.getDevices(n)}static createLocalAudioTrack(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return D_.createLocalAudioTrack(n)}static createLocalVideoTrack(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return D_.createLocalVideoTrack(n)}static preloadDependentAssets(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global";D_.preloadDependentAssets(pBe(n))}}xbe.videoClient=void 0,xbe.VERSION=Tz;(function(e){return e[e.All=1]="All",e[e.NoOne=4]="NoOne",e[e.EveryonePublicly=5]="EveryonePublicly",e})({});(function(e){return e[e.All=0]="All",e})({});(function(e){return e[e.Automatically=ik.Automatically]="Automatically",e[e.Manually=ik.Manually]="Manually",e})({});(function(e){return e[e.Initial=ar.Initial]="Initial",e[e.Invited=ar.Invited]="Invited",e[e.Joining=ar.Joining]="Joining",e[e.InSubsession=ar.InRoom]="InSubsession",e[e.Leaving=ar.Leaving]="Leaving",e[e.MainSession=ar.MainSession]="MainSession",e})({});(function(e){return e[e.NotStarted=mi.NotStarted]="NotStarted",e[e.InProgress=mi.InProgress]="InProgress",e[e.Closing=mi.Closing]="Closing",e[e.Closed=mi.Closed]="Closed",e})({});(function(e){return e[e.Failover=Om.Failover]="Failover",e[e.JoinSubsession=Om.JoinBreakoutRoom]="JoinSubsession",e[e.MoveToSubsession=Om.MoveToBreakoutRoom]="MoveToSubsession",e[e.BackToMainSession=Om.BackToMainSession]="BackToMainSession",e})({});(function(e){return e[e.Unlocked=U0.HostGrab]="Unlocked",e[e.Locked=U0.OnlyHost]="Locked",e[e.MultipleShare=U0.MultipleShare]="MultipleShare",e})({});(function(e){return e[e.Unknown=Ip.Unknown]="Unknown",e[e.Uninstalled=Ip.Uninstalled]="Uninstalled",e[e.Installed=Ip.Installed]="Installed",e[e.Unlaunched=QJ.Unlaunched]="Unlaunched",e[e.Launched=QJ.Launched]="Launched",e})({});var wme={exports:{}},ZOe;function HYe(){return ZOe||(ZOe=1,(function(e){(function(){var n=function(t){if(t===null)return"null";if(t===void 0)return"undefined";var r=typeof t;return r==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":r},o=function(t){return["undefined","boolean","number","string","function","xml","null"].indexOf(t)!==-1},i=function(t,r){var a=Array.prototype.slice.call(t);return a.sort(r)},c=function(t,r){return d(function(a,u){return t.eq(r(a),r(u))})},d=function(t){return{eq:t}},p=d(function(t,r){return t===r}),v=p,S=function(t){return d(function(r,a){if(r.length!==a.length)return!1;for(var u=r.length,f=0;f<u;f++)if(!t.eq(r[f],a[f]))return!1;return!0})},T=function(t,r){return c(S(t),function(a){return i(a,r)})},x=function(t){return d(function(r,a){var u=Object.keys(r),f=Object.keys(a);if(!T(v).eq(u,f))return!1;for(var y=u.length,A=0;A<y;A++){var M=u[A];if(!t.eq(r[M],a[M]))return!1}return!0})},P=d(function(t,r){if(t===r)return!0;var a=n(t),u=n(r);return a!==u?!1:o(a)?t===r:a==="array"?S(P).eq(t,r):a==="object"?x(P).eq(t,r):!1});const B=Object.getPrototypeOf,U=(t,r,a)=>{var u;return a(t,r.prototype)?!0:((u=t.constructor)===null||u===void 0?void 0:u.name)===r.name},j=t=>{const r=typeof t;return t===null?"null":r==="object"&&Array.isArray(t)?"array":r==="object"&&U(t,String,(a,u)=>u.isPrototypeOf(a))?"string":r},W=t=>r=>j(r)===t,Z=t=>r=>typeof r===t,re=t=>r=>t===r,le=(t,r)=>be(t)&&U(t,r,(a,u)=>B(a)===u),ie=W("string"),be=W("object"),Ce=t=>le(t,Object),Ae=W("array"),F=re(null),Ie=Z("boolean"),tt=re(void 0),Xe=t=>t==null,Ve=t=>!Xe(t),Re=Z("function"),vt=Z("number"),mt=(t,r)=>{if(Ae(t)){for(let a=0,u=t.length;a<u;++a)if(!r(t[a]))return!1;return!0}return!1},gt=()=>{},te=(t,r)=>(...a)=>t(r.apply(null,a)),hn=(t,r)=>a=>t(r(a)),ot=t=>()=>t,Rt=t=>t,kt=(t,r)=>t===r;function at(t,...r){return(...a)=>{const u=r.concat(a);return t.apply(null,u)}}const Cn=t=>r=>!t(r),Ro=t=>()=>{throw new Error(t)},jn=t=>t(),wo=t=>{t()},qt=ot(!1),Tn=ot(!0);class _e{constructor(r,a){this.tag=r,this.value=a}static some(r){return new _e(!0,r)}static none(){return _e.singletonNone}fold(r,a){return this.tag?a(this.value):r()}isSome(){return this.tag}isNone(){return!this.tag}map(r){return this.tag?_e.some(r(this.value)):_e.none()}bind(r){return this.tag?r(this.value):_e.none()}exists(r){return this.tag&&r(this.value)}forall(r){return!this.tag||r(this.value)}filter(r){return!this.tag||r(this.value)?this:_e.none()}getOr(r){return this.tag?this.value:r}or(r){return this.tag?this:r}getOrThunk(r){return this.tag?this.value:r()}orThunk(r){return this.tag?this:r()}getOrDie(r){if(this.tag)return this.value;throw new Error(r??"Called getOrDie on None")}static from(r){return Ve(r)?_e.some(r):_e.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(r){this.tag&&r(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}_e.singletonNone=new _e(!1);const vr=Array.prototype.slice,vs=Array.prototype.indexOf,Ut=Array.prototype.push,xn=(t,r)=>vs.call(t,r),vn=(t,r)=>{const a=xn(t,r);return a===-1?_e.none():_e.some(a)},zt=(t,r)=>xn(t,r)>-1,wn=(t,r)=>{for(let a=0,u=t.length;a<u;a++){const f=t[a];if(r(f,a))return!0}return!1},fn=(t,r)=>{const a=t.length,u=new Array(a);for(let f=0;f<a;f++){const y=t[f];u[f]=r(y,f)}return u},ct=(t,r)=>{for(let a=0,u=t.length;a<u;a++){const f=t[a];r(f,a)}},Mt=(t,r)=>{for(let a=t.length-1;a>=0;a--){const u=t[a];r(u,a)}},Yt=(t,r)=>{const a=[],u=[];for(let f=0,y=t.length;f<y;f++){const A=t[f];(r(A,f)?a:u).push(A)}return{pass:a,fail:u}},Ge=(t,r)=>{const a=[];for(let u=0,f=t.length;u<f;u++){const y=t[u];r(y,u)&&a.push(y)}return a},Lt=(t,r)=>{if(t.length===0)return[];{let a=r(t[0]);const u=[];let f=[];for(let y=0,A=t.length;y<A;y++){const M=t[y],H=r(M);H!==a&&(u.push(f),f=[]),a=H,f.push(M)}return f.length!==0&&u.push(f),u}},ln=(t,r,a)=>(Mt(t,(u,f)=>{a=r(a,u,f)}),a),On=(t,r,a)=>(ct(t,(u,f)=>{a=r(a,u,f)}),a),Bt=(t,r,a)=>{for(let u=0,f=t.length;u<f;u++){const y=t[u];if(r(y,u))return _e.some(y);if(a(y,u))break}return _e.none()},$t=(t,r)=>Bt(t,r,qt),ls=(t,r)=>{for(let a=0,u=t.length;a<u;a++){const f=t[a];if(r(f,a))return _e.some(a)}return _e.none()},ks=(t,r)=>{for(let a=t.length-1;a>=0;a--)if(r(t[a],a))return _e.some(a);return _e.none()},Rs=t=>{const r=[];for(let a=0,u=t.length;a<u;++a){if(!Ae(t[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+t);Ut.apply(r,t[a])}return r},Ao=(t,r)=>Rs(fn(t,r)),sr=(t,r)=>{for(let a=0,u=t.length;a<u;++a){const f=t[a];if(r(f,a)!==!0)return!1}return!0},Ks=t=>{const r=vr.call(t,0);return r.reverse(),r},Ls=(t,r)=>Ge(t,a=>!zt(r,a)),Xo=(t,r)=>{const a={};for(let u=0,f=t.length;u<f;u++){const y=t[u];a[String(y)]=r(y,u)}return a},At=(t,r)=>{const a=vr.call(t,0);return a.sort(r),a},Vt=(t,r)=>r>=0&&r<t.length?_e.some(t[r]):_e.none(),en=t=>Vt(t,0),tn=t=>Vt(t,t.length-1),to=Re(Array.from)?Array.from:t=>vr.call(t),go=(t,r)=>{for(let a=0;a<t.length;a++){const u=r(t[a],a);if(u.isSome())return u}return _e.none()},To=(t,r)=>{const a=[],u=Re(r)?f=>wn(a,y=>r(y,f)):f=>zt(a,f);for(let f=0,y=t.length;f<y;f++){const A=t[f];u(A)||a.push(A)}return a},cn=Object.keys,ro=Object.hasOwnProperty,Xn=(t,r)=>{const a=cn(t);for(let u=0,f=a.length;u<f;u++){const y=a[u],A=t[y];r(A,y)}},fs=(t,r)=>rs(t,(a,u)=>({k:u,v:r(a,u)})),rs=(t,r)=>{const a={};return Xn(t,(u,f)=>{const y=r(u,f);a[y.k]=y.v}),a},$n=t=>(r,a)=>{t[a]=r},gi=(t,r,a,u)=>{Xn(t,(f,y)=>{(r(f,y)?a:u)(f,y)})},ur=(t,r)=>{const a={},u={};return gi(t,r,$n(a),$n(u)),{t:a,f:u}},Nr=(t,r)=>{const a={};return gi(t,r,$n(a),gt),a},fa=(t,r)=>{const a=[];return Xn(t,(u,f)=>{a.push(r(u,f))}),a},ta=t=>fa(t,Rt),dr=(t,r)=>jo(t,r)?_e.from(t[r]):_e.none(),jo=(t,r)=>ro.call(t,r),Vs=(t,r)=>jo(t,r)&&t[r]!==void 0&&t[r]!==null,bc=(t,r,a=P)=>x(a).eq(t,r),td={generate:t=>{if(!Ae(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const r=[],a={};return ct(t,(u,f)=>{const y=cn(u);if(y.length!==1)throw new Error("one and only one name per case");const A=y[0],M=u[A];if(a[A]!==void 0)throw new Error("duplicate key detected:"+A);if(A==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Ae(M))throw new Error("case arguments must be an array");r.push(A),a[A]=(...H)=>{const Y=H.length;if(Y!==M.length)throw new Error("Wrong number of arguments to case "+A+". Expected "+M.length+" ("+M+"), got "+Y);return{fold:(...me)=>{if(me.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+me.length);return me[f].apply(null,H)},match:me=>{const Se=cn(me);if(r.length!==Se.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+Se.join(","));if(!sr(r,Ke=>zt(Se,Ke)))throw new Error("Not all branches were specified when using match. Specified: "+Se.join(", ")+`
Required: `+r.join(", "));return me[A].apply(null,H)},log:me=>{console.log(me,{constructors:r,constructor:A,params:H})}}}}),a}},zo=t=>{let r=t;return{get:()=>r,set:f=>{r=f}}},tc=t=>{const r=y=>y(t),a=ot(t),u=()=>f,f={tag:!0,inner:t,fold:(y,A)=>A(t),isValue:Tn,isError:qt,map:y=>Wl.value(y(t)),mapError:u,bind:r,exists:r,forall:r,getOr:a,or:u,getOrThunk:a,orThunk:u,getOrDie:a,each:y=>{y(t)},toOptional:()=>_e.some(t)};return f},sl=t=>{const r=()=>a,a={tag:!1,inner:t,fold:(u,f)=>u(t),isValue:qt,isError:Tn,map:r,mapError:u=>Wl.error(u(t)),bind:r,exists:qt,forall:Tn,getOr:Rt,or:Rt,getOrThunk:jn,orThunk:jn,getOrDie:Ro(String(t)),each:gt,toOptional:_e.none};return a},Wl={value:tc,error:sl,fromOption:(t,r)=>t.fold(()=>sl(r),tc)},kd=typeof window<"u"?window:Function("return this;")(),Ur=()=>{const t=window.crypto.getRandomValues(new Uint8Array(16));return t[6]=t[6]&15|64,t[8]=t[8]&63|128,t},Ia=()=>{const t=Ur(),r=(a,u)=>{let f="";for(let y=a;y<=u;++y){const A=t[y].toString(16).padStart(2,"0");f+=A}return f};return`${r(0,3)}-${r(4,5)}-${r(6,7)}-${r(8,9)}-${r(10,15)}`},Dd=(t,r,a)=>Math.min(Math.max(t,r),a),nd=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Qc=0;const dl=t=>{const a=new Date().getTime(),u=Math.floor(nd()*1e9);return Qc++,t+"_"+u+Qc+String(a)},od=()=>window.isSecureContext?window.crypto.randomUUID():Ia(),Md=(t,r)=>r,yo=(t,r)=>Ce(t)&&Ce(r)?uh(t,r):r,tp=t=>(...r)=>{if(r.length===0)throw new Error("Can't merge zero objects");const a={};for(let u=0;u<r.length;u++){const f=r[u];for(const y in f)jo(f,y)&&(a[y]=t(a[y],f[y]))}return a},uh=tp(yo),Vh=tp(Md),Jr=(t,r,a=kt)=>t.exists(u=>a(u,r)),Fh=(t,r,a=kt)=>Ar(t,r,a).getOr(t.isNone()&&r.isNone()),Fc=t=>{const r=[],a=u=>{r.push(u)};for(let u=0;u<t.length;u++)t[u].each(a);return r},Ar=(t,r,a)=>t.isSome()&&r.isSome()?_e.some(a(t.getOrDie(),r.getOrDie())):_e.none(),xu=(t,r,a,u)=>t.isSome()&&r.isSome()&&a.isSome()?_e.some(u(t.getOrDie(),r.getOrDie(),a.getOrDie())):_e.none(),dh=t=>t.bind(Rt),Rc=(t,r)=>t?_e.some(r):_e.none(),Vi=(t,r)=>{let a=r??kd;for(let u=0;u<t.length&&a!==void 0&&a!==null;++u)a=a[t[u]];return a},yc=(t,r)=>{const a=t.split(".");return Vi(a,r)};td.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const rl=t=>{const r=[],a=[];return ct(t,u=>{u.fold(f=>{r.push(f)},f=>{a.push(f)})}),{errors:r,values:a}},Lp=t=>{const r=zo(_e.none()),a=()=>r.get().each(t);return{clear:()=>{a(),r.set(_e.none())},isSet:()=>r.get().isSome(),get:()=>r.get(),set:M=>{a(),r.set(_e.some(M))}}},km=t=>{const r=zo(_e.none()),a=()=>r.get().each(M=>clearInterval(M));return{clear:()=>{a(),r.set(_e.none())},isSet:()=>r.get().isSome(),get:()=>r.get(),set:M=>{a(),r.set(_e.some(setInterval(M,t)))}}},kc=()=>{const t=Lp(gt);return{...t,on:a=>t.get().each(a)}},eu=(t,r)=>t.substring(r),Ou=(t,r,a)=>r===""||t.length>=r.length&&t.substr(a,a+r.length)===r,Hh=(t,r)=>Ss(t,r)?eu(t,r.length):t,na=(t,r,a=0,u)=>{const f=t.indexOf(r,a);return f!==-1?tt(u)?!0:f+r.length<=u:!1},Ss=(t,r)=>Ou(t,r,0),Wi=(t,r)=>Ou(t,r,t.length-r.length),kl=t=>r=>r.replace(t,""),Lr=kl(/^\s+|\s+$/g),hh=kl(/^\s+/g),np=kl(/\s+$/g),wi=t=>t.length>0,Sc=t=>!wi(t),Hc=(t,r)=>r<=0?"":new Array(r+1).join(t),pf=(t,r=10)=>{const a=parseInt(t,r);return isNaN(a)?_e.none():_e.some(a)},vo=(t,r)=>{let a=null;return{cancel:()=>{F(a)||(clearTimeout(a),a=null)},throttle:(...y)=>{F(a)&&(a=setTimeout(()=>{a=null,t.apply(null,y)},r))}}},Iu=(t,r)=>{let a=null;const u=()=>{F(a)||(clearTimeout(a),a=null)};return{cancel:u,throttle:(...y)=>{u(),a=setTimeout(()=>{a=null,t.apply(null,y)},r)}}},Dl=t=>{let r=!1,a;return(...u)=>(r||(r=!0,a=t.apply(null,u)),a)},Cc="\uFEFF",Bi=" ",Dm="…",Gl=t=>t===Cc,tu=t=>t.replace(/\uFEFF/g,""),op=t=>{const r={};return ct(t,a=>{r[a]={}}),cn(r)},mf=t=>t.length!==void 0,sd=Array.isArray,sp=t=>{if(sd(t))return t;{const r=[];for(let a=0,u=t.length;a<u;a++)r[a]=t[a];return r}},Pd=(t,r,a)=>{if(!t)return!1;if(a=a||t,mf(t)){for(let u=0,f=t.length;u<f;u++)if(r.call(a,t[u],u,t)===!1)return!1}else for(const u in t)if(jo(t,u)&&r.call(a,t[u],u,t)===!1)return!1;return!0},Nd=(t,r)=>{const a=[];return Pd(t,(u,f)=>{a.push(r(u,f,t))}),a},Ec=(t,r)=>{const a=[];return Pd(t,(u,f)=>{(!r||r(u,f,t))&&a.push(u)}),a},co=(t,r)=>{if(t){for(let a=0,u=t.length;a<u;a++)if(t[a]===r)return a}return-1},Ru=(t,r,a,u)=>{let f=tt(a)?t[0]:a;for(let y=0;y<t.length;y++)f=r.call(u,f,t[y],y);return f},$h=(t,r,a)=>{for(let u=0,f=t.length;u<f;u++)if(r.call(a,t[u],u,t))return u;return-1},Be=t=>t[t.length-1],rt=(t,r,a,u)=>{const f=t.isiOS()&&/ipad/i.test(a)===!0,y=t.isiOS()&&!f,A=t.isiOS()||t.isAndroid(),M=A||u("(pointer:coarse)"),H=f||!y&&A&&u("(min-device-width:768px)"),Y=y||A&&!H,ue=r.isSafari()&&t.isiOS()&&/safari/i.test(a)===!1,me=!Y&&!H&&!ue;return{isiPad:ot(f),isiPhone:ot(y),isTablet:ot(H),isPhone:ot(Y),isTouch:ot(M),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:ot(ue),isDesktop:ot(me)}},Ot=(t,r)=>{for(let a=0;a<t.length;a++){const u=t[a];if(u.test(r))return u}},mn=(t,r)=>{const a=Ot(t,r);if(!a)return{major:0,minor:0};const u=f=>Number(r.replace(a,"$"+f));return hr(u(1),u(2))},io=(t,r)=>{const a=String(r).toLowerCase();return t.length===0?Mo():mn(t,a)},Mo=()=>hr(0,0),hr=(t,r)=>({major:t,minor:r}),Fs={nu:hr,detect:io,unknown:Mo},_r=(t,r)=>go(r.brands,a=>{const u=a.brand.toLowerCase();return $t(t,f=>{var y;return u===((y=f.brand)===null||y===void 0?void 0:y.toLowerCase())}).map(f=>({current:f.name,version:Fs.nu(parseInt(a.version,10),0)}))}),we=(t,r)=>{const a=String(r).toLowerCase();return $t(t,u=>u.search(a))},$e=(t,r)=>we(t,r).map(a=>{const u=Fs.detect(a.versionRegexes,r);return{current:a.name,version:u}}),ut=(t,r)=>we(t,r).map(a=>{const u=Fs.detect(a.versionRegexes,r);return{current:a.name,version:u}}),Zt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ko=t=>r=>na(r,t),Hs=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>na(t,"edge/")&&na(t,"chrome")&&na(t,"safari")&&na(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Zt],search:t=>na(t,"chrome")&&!na(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>na(t,"msie")||na(t,"trident")},{name:"Opera",versionRegexes:[Zt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ko("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ko("firefox")},{name:"Safari",versionRegexes:[Zt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(na(t,"safari")||na(t,"mobile/"))&&na(t,"applewebkit")}],L=[{name:"Windows",search:ko("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>na(t,"iphone")||na(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ko("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ko("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ko("linux"),versionRegexes:[]},{name:"Solaris",search:ko("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ko("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ko("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],X={browsers:ot(Hs),oses:ot(L)},de="Edge",ge="Chromium",xe="IE",Pe="Opera",je="Firefox",xt="Safari",St=()=>Jt({current:void 0,version:Fs.unknown()}),Jt=t=>{const r=t.current,a=t.version,u=f=>()=>r===f;return{current:r,version:a,isEdge:u(de),isChromium:u(ge),isIE:u(xe),isOpera:u(Pe),isFirefox:u(je),isSafari:u(xt)}},Ln={unknown:St,nu:Jt},no="Windows",_n="iOS",Ho="Android",Rr="Linux",xi="macOS",Gr="Solaris",ql="FreeBSD",Sa="ChromeOS",rd=()=>fh({current:void 0,version:Fs.unknown()}),fh=t=>{const r=t.current,a=t.version,u=f=>()=>r===f;return{current:r,version:a,isWindows:u(no),isiOS:u(_n),isAndroid:u(Ho),isMacOS:u(xi),isLinux:u(Rr),isSolaris:u(Gr),isFreeBSD:u(ql),isChromeOS:u(Sa)}},_i={unknown:rd,nu:fh},Fi={detect:(t,r,a)=>{const u=X.browsers(),f=X.oses(),y=r.bind(H=>_r(u,H)).orThunk(()=>$e(u,t)).fold(Ln.unknown,Ln.nu),A=ut(f,t).fold(_i.unknown,_i.nu),M=rt(A,y,t,a);return{browser:y,os:A,deviceType:M}}},hl=t=>window.matchMedia(t).matches;let Bp=Dl(()=>Fi.detect(window.navigator.userAgent,_e.from(window.navigator.userAgentData),hl));const id=()=>Bp(),Uh=(t,r)=>yc(t,r),Og=(t,r)=>{const a=Uh(t,r);if(a==null)throw new Error(t+" not available on this browser");return a},ad=Object.getPrototypeOf,nu=t=>Og("HTMLElement",t),rp=t=>{const r=yc("ownerDocument.defaultView",t);return be(t)&&(nu(r).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(ad(t).constructor.name))},ld=window.navigator.userAgent,Ig=id(),_c=Ig.browser,Ml=Ig.os,gf=Ig.deviceType,Fb=ld.indexOf("Windows Phone")!==-1,Tr={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:_c.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!_c.isIE(),windowsPhone:Fb,browser:{current:_c.current,version:_c.version,isChromium:_c.isChromium,isEdge:_c.isEdge,isFirefox:_c.isFirefox,isIE:_c.isIE,isOpera:_c.isOpera,isSafari:_c.isSafari},os:{current:Ml.current,version:Ml.version,isAndroid:Ml.isAndroid,isChromeOS:Ml.isChromeOS,isFreeBSD:Ml.isFreeBSD,isiOS:Ml.isiOS,isLinux:Ml.isLinux,isMacOS:Ml.isMacOS,isSolaris:Ml.isSolaris,isWindows:Ml.isWindows},deviceType:{isDesktop:gf.isDesktop,isiPad:gf.isiPad,isiPhone:gf.isiPhone,isPhone:gf.isPhone,isTablet:gf.isTablet,isTouch:gf.isTouch,isWebView:gf.isWebView}},Zi=/^\s*|\s*$/g,Vp=t=>Xe(t)?"":(""+t).replace(Zi,""),Oi=(t,r)=>r?r==="array"&&sd(t)?!0:typeof t===r:t!==void 0,ip=(t,r,a={})=>{const u=ie(t)?t.split(r||","):t||[];let f=u.length;for(;f--;)a[u[f]]={};return a},vf=jo,LS=(t,...r)=>{for(let a=0;a<r.length;a++){const u=r[a];for(const f in u)if(jo(u,f)){const y=u[f];y!==void 0&&(t[f]=y)}}return t},bf=function(t,r,a,u){u=u||this,t&&(a&&(t=t[a]),Pd(t,(f,y)=>r.call(u,f,y,a)===!1?!1:(bf(f,r,a,u),!0)))},Zn={trim:Vp,isArray:sd,is:Oi,toArray:sp,makeMap:ip,each:Pd,map:Nd,grep:Ec,inArray:co,hasOwn:vf,extend:LS,walk:bf,resolve:(t,r=window)=>{const a=t.split(".");for(let u=0,f=a.length;u<f&&(r=r[a[u]],!!r);u++);return r},explode:(t,r)=>Ae(t)?t:t===""?[]:Nd(t.split(r||","),Vp),_addCacheSuffix:t=>{const r=Tr.cacheSuffix;return r&&(t+=(t.indexOf("?")===-1?"?":"&")+r),t}},Zl=(t,r)=>{const u=(r||document).createElement("div");if(u.innerHTML=t,!u.hasChildNodes()||u.childNodes.length>1){const f="HTML does not have a single root node";throw console.error(f,t),new Error(f)}return ap(u.childNodes[0])},zh=(t,r)=>{const u=(r||document).createElement(t);return ap(u)},su=(t,r)=>{const u=(r||document).createTextNode(t);return ap(u)},ap=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},et={fromHtml:Zl,fromTag:zh,fromText:su,fromDom:ap,fromPoint:(t,r,a)=>_e.from(t.dom.elementFromPoint(r,a)).map(ap)},Dc=(t,r)=>{r.fold(a=>{t.setStartBefore(a.dom)},(a,u)=>{t.setStart(a.dom,u)},a=>{t.setStartAfter(a.dom)})},jh=(t,r)=>{r.fold(a=>{t.setEndBefore(a.dom)},(a,u)=>{t.setEnd(a.dom,u)},a=>{t.setEndAfter(a.dom)})},$b=(t,r,a)=>{const u=t.document.createRange();return Dc(u,r),jh(u,a),u},ru=(t,r,a,u,f)=>{const y=t.document.createRange();return y.setStart(r.dom,a),y.setEnd(u.dom,f),y},nc=td.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),dt=(t,r,a)=>r(et.fromDom(a.startContainer),a.startOffset,et.fromDom(a.endContainer),a.endOffset),Ht=(t,r)=>r.match({domRange:a=>({ltr:ot(a),rtl:_e.none}),relative:(a,u)=>({ltr:Dl(()=>$b(t,a,u)),rtl:Dl(()=>_e.some($b(t,u,a)))}),exact:(a,u,f,y)=>({ltr:Dl(()=>ru(t,a,u,f,y)),rtl:Dl(()=>_e.some(ru(t,f,y,a,u)))})}),An=(t,r)=>{const a=r.ltr();return a.collapsed?r.rtl().filter(f=>f.collapsed===!1).map(f=>nc.rtl(et.fromDom(f.endContainer),f.endOffset,et.fromDom(f.startContainer),f.startOffset)).getOrThunk(()=>dt(t,nc.ltr,a)):dt(t,nc.ltr,a)},Dn=(t,r)=>{const a=Ht(t,r);return An(t,a)};nc.ltr,nc.rtl;const Yn=8,ns=9,ps=11,Ys=1,Cs=3,fr=(t,r)=>{const a=t.dom;if(a.nodeType!==Ys)return!1;{const u=a;if(u.matches!==void 0)return u.matches(r);if(u.msMatchesSelector!==void 0)return u.msMatchesSelector(r);if(u.webkitMatchesSelector!==void 0)return u.webkitMatchesSelector(r);if(u.mozMatchesSelector!==void 0)return u.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")}},xr=t=>t.nodeType!==Ys&&t.nodeType!==ns&&t.nodeType!==ps||t.childElementCount===0,pr=(t,r)=>{const a=r===void 0?document:r.dom;return xr(a)?[]:fn(a.querySelectorAll(t),et.fromDom)},zr=(t,r)=>{const a=r===void 0?document:r.dom;return xr(a)?_e.none():_e.from(a.querySelector(t)).map(et.fromDom)},Do=(t,r)=>t.dom===r.dom,ei=(t,r)=>{const a=t.dom,u=r.dom;return a===u?!1:a.contains(u)},Sl=fr,oc=(t,r)=>{const a=[],u=y=>(a.push(y),r(y));let f=r(t);do f=f.bind(u);while(f.isSome());return a},Ms=t=>t.dom.nodeName.toLowerCase(),Pl=t=>t.dom.nodeType,oa=t=>r=>Pl(r)===t,ja=t=>Pl(t)===Yn||Ms(t)==="#comment",Wh=t=>sa(t)&&rp(t.dom),sa=oa(Ys),ti=oa(Cs),K0=oa(ns),IE=oa(ps),Cl=t=>r=>sa(r)&&Ms(r)===t,sc=t=>et.fromDom(t.dom.ownerDocument),iu=t=>K0(t)?t:sc(t),Nl=t=>et.fromDom(iu(t).dom.documentElement),Gh=t=>et.fromDom(iu(t).dom.defaultView),ku=t=>_e.from(t.dom.parentNode).map(et.fromDom),Du=t=>_e.from(t.dom.parentElement).map(et.fromDom),$c=(t,r)=>{const a=Re(r)?r:qt;let u=t.dom;const f=[];for(;u.parentNode!==null&&u.parentNode!==void 0;){const y=u.parentNode,A=et.fromDom(y);if(f.push(A),a(A)===!0)break;u=y}return f},li=t=>{const r=a=>Ge(a,u=>!Do(t,u));return ku(t).map(mr).map(r).getOr([])},Bd=t=>_e.from(t.dom.previousSibling).map(et.fromDom),Mu=t=>_e.from(t.dom.nextSibling).map(et.fromDom),Kl=t=>Ks(oc(t,Bd)),ra=t=>oc(t,Mu),mr=t=>fn(t.dom.childNodes,et.fromDom),qh=(t,r)=>{const a=t.dom.childNodes;return _e.from(a[r]).map(et.fromDom)},Yl=t=>qh(t,0),Wa=t=>qh(t,t.dom.childNodes.length-1),yf=t=>t.dom.childNodes.length,fl=t=>{const r=t.dom.head;if(r==null)throw new Error("Head is not available yet");return et.fromDom(r)},Ub=t=>IE(t)&&Ve(t.dom.host),rc=t=>et.fromDom(t.dom.getRootNode()),Y0=t=>Ub(t)?t:fl(iu(t)),br=t=>Ub(t)?t:et.fromDom(iu(t).dom.body),Mm=t=>{const r=rc(t);return Ub(r)?_e.some(r):_e.none()},cs=t=>et.fromDom(t.dom.host),n1=t=>{if(Ve(t.target)){const r=et.fromDom(t.target);if(sa(r)&&pl(r)&&t.composed&&t.composedPath){const a=t.composedPath();if(a)return en(a)}}return _e.from(t.target)},pl=t=>Ve(t.dom.shadowRoot),rr=(t,r,a,u,f,y,A)=>({target:t,x:r,y:a,stop:u,prevent:f,kill:y,raw:A}),Ll=t=>{const r=et.fromDom(n1(t).getOr(t.target)),a=()=>t.stopPropagation(),u=()=>t.preventDefault(),f=te(u,a);return rr(r,t.clientX,t.clientY,a,u,f,t)},ia=(t,r)=>a=>{t(a)&&r(Ll(a))},Pm=(t,r,a,u,f)=>{const y=ia(a,u);return t.dom.addEventListener(r,y,f),{unbind:at(Vd,t,r,y,f)}},X0=(t,r,a,u)=>Pm(t,r,a,u,!1),Vd=(t,r,a,u)=>{t.dom.removeEventListener(r,a,u)},Pu=Tn,o1=(t,r,a)=>X0(t,r,Pu,a),s1=()=>et.fromDom(document),zb=(t,r=!1)=>t.dom.focus({preventScroll:r}),ph=t=>{const r=rc(t).dom;return t.dom===r.activeElement},Zh=(t=s1())=>_e.from(t.dom.activeElement).map(et.fromDom),J0=t=>Zh(rc(t)).filter(r=>t.dom.contains(r.dom)),Mc=(t,r)=>{ku(t).each(u=>{u.dom.insertBefore(r.dom,t.dom)})},mh=(t,r)=>{Mu(t).fold(()=>{ku(t).each(f=>{qr(f,r)})},u=>{Mc(u,r)})},lp=(t,r)=>{Yl(t).fold(()=>{qr(t,r)},u=>{t.dom.insertBefore(r.dom,u.dom)})},qr=(t,r)=>{t.dom.appendChild(r.dom)},Fd=(t,r)=>{Mc(t,r),qr(r,t)},r1=(t,r)=>{ct(r,a=>{Mc(t,a)})},jb=(t,r)=>{ct(r,(a,u)=>{const f=u===0?t:r[u-1];mh(f,a)})},gh=(t,r)=>{ct(r,a=>{qr(t,a)})},xs=(t,r,a)=>{if(ie(a)||Ie(a)||vt(a))t.setAttribute(r,a+"");else throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",a,":: Element ",t),new Error("Attribute value was not simple")},pa=(t,r,a)=>{xs(t.dom,r,a)},Va=(t,r)=>{const a=t.dom;Xn(r,(u,f)=>{xs(a,f,u)})},aa=(t,r)=>{const a=t.dom.getAttribute(r);return a===null?void 0:a},vh=(t,r)=>_e.from(aa(t,r)),ma=(t,r)=>{const a=t.dom;return a&&a.hasAttribute?a.hasAttribute(r):!1},ml=(t,r)=>{t.dom.removeAttribute(r)},Pv=t=>{const r=t.dom.attributes;return r==null||r.length===0},Er=t=>On(t.dom.attributes,(r,a)=>(r[a.name]=a.value,r),{}),cd=t=>{t.dom.textContent="",ct(mr(t),r=>{Hi(r)})},Hi=t=>{const r=t.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},Nu=t=>{const r=mr(t);r.length>0&&jb(t,r),Hi(t)},El=(t,r)=>et.fromDom(t.dom.cloneNode(r)),wl=t=>El(t,!1),Sf=t=>El(t,!0),Nv=(t,r)=>{const a=et.fromTag(r),u=Er(t);return Va(a,u),a},Fp=(t,r)=>{const a=Nv(t,r);mh(t,a);const u=mr(t);return gh(a,u),Hi(t),a},Nm=(t,r)=>{const u=(r||document).createElement("div");return u.innerHTML=t,mr(et.fromDom(u))},bh=t=>fn(t,et.fromDom),Ac=t=>t.dom.innerHTML,Hp=(t,r)=>{const u=sc(t).dom,f=et.fromDom(u.createDocumentFragment()),y=Nm(r,u);gh(f,y),cd(t),qr(t,f)},RE=t=>{const r=et.fromTag("div"),a=et.fromDom(t.dom.cloneNode(!0));return qr(r,a),Ac(r)},cp=t=>t.style!==void 0&&Re(t.style.getPropertyValue),ci=t=>{const r=ti(t)?t.dom.parentNode:t.dom;if(r==null||r.ownerDocument===null)return!1;const a=r.ownerDocument;return Mm(et.fromDom(r)).fold(()=>a.body.contains(r),hn(ci,cs))},i1=(t,r,a)=>{if(!ie(a))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",a,":: Element ",t),new Error("CSS value must be a string: "+a);cp(t)&&t.style.setProperty(r,a)},Lv=(t,r)=>{cp(t)&&t.style.removeProperty(r)},Uc=(t,r,a)=>{const u=t.dom;i1(u,r,a)},au=(t,r)=>{const a=t.dom;Xn(r,(u,f)=>{i1(a,f,u)})},Ga=(t,r)=>{const a=t.dom,f=window.getComputedStyle(a).getPropertyValue(r);return f===""&&!ci(t)?Hd(a,r):f},Hd=(t,r)=>cp(t)?t.style.getPropertyValue(r):"",gl=(t,r)=>{const a=t.dom,u=Hd(a,r);return _e.from(u).filter(f=>f.length>0)},Lm=t=>{const r={},a=t.dom;if(cp(a))for(let u=0;u<a.style.length;u++){const f=a.style.item(u);r[f]=a.style[f]}return r},Q0=(t,r)=>{const a=t.dom;Lv(a,r),Jr(vh(t,"style").map(Lr),"")&&ml(t,"style")},Wb=t=>t.dom.offsetWidth,Cf=((t,r)=>{const a=(M,H)=>{if(!vt(H)&&!H.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+H);const Y=M.dom;cp(Y)&&(Y.style[t]=H+"px")},u=M=>{const H=r(M);if(H<=0||H===null){const Y=Ga(M,t);return parseFloat(Y)||0}return H},f=u,y=(M,H)=>On(H,(Y,ue)=>{const me=Ga(M,ue),Se=me===void 0?0:parseInt(me,10);return isNaN(Se)?Y:Y+Se},0);return{set:a,get:u,getOuter:f,aggregate:y,max:(M,H,Y)=>{const ue=y(M,Y);return H>ue?H-ue:0}}})("height",t=>{const r=t.dom;return ci(t)?r.getBoundingClientRect().height:r.offsetHeight}),DE=t=>Cf.get(t),a1=(t,r)=>({left:t,top:r,translate:(u,f)=>a1(t+u,r+f)}),Ef=a1,BS=t=>{const r=t.getBoundingClientRect();return Ef(r.left,r.top)},Bv=(t,r)=>t!==void 0?t:r!==void 0?r:0,Bm=t=>{const r=t.dom.ownerDocument,a=r.body,u=r.defaultView,f=r.documentElement;if(a===t.dom)return Ef(a.offsetLeft,a.offsetTop);const y=Bv(u==null?void 0:u.pageYOffset,f.scrollTop),A=Bv(u==null?void 0:u.pageXOffset,f.scrollLeft),M=Bv(f.clientTop,a.clientTop),H=Bv(f.clientLeft,a.clientLeft);return Rg(t).translate(A-H,y-M)},Rg=t=>{const r=t.dom,u=r.ownerDocument.body;return u===r?Ef(u.offsetLeft,u.offsetTop):ci(t)?BS(r):Ef(0,0)},l1=t=>{const r=t!==void 0?t.dom:document,a=r.body.scrollLeft||r.documentElement.scrollLeft,u=r.body.scrollTop||r.documentElement.scrollTop;return Ef(a,u)},VS=(t,r,a)=>{const f=(a!==void 0?a.dom:document).defaultView;f&&f.scrollTo(t,r)},Kh=(t,r)=>{id().browser.isSafari()&&Re(t.dom.scrollIntoViewIfNeeded)?t.dom.scrollIntoViewIfNeeded(!1):t.dom.scrollIntoView(r)},Vm=(t,r)=>{const a=y=>{if(!t(y))throw new Error("Can only get "+r+" value of a "+r+" node");return u(y).getOr("")},u=y=>t(y)?_e.from(y.dom.nodeValue):_e.none();return{get:a,getOption:u,set:(y,A)=>{if(!t(y))throw new Error("Can only set raw "+r+" value of a "+r+" node");y.dom.nodeValue=A}}},wf=(t,r)=>{const u=document.createDocumentFragment();return ct(t,f=>{u.appendChild(f.dom)}),et.fromDom(u)},ui=Vm(ti,"text"),vl=t=>ui.get(t),up=t=>ui.getOption(t),ey=(t,r)=>ui.set(t,r),Fm=(t,r)=>{const a=aa(t,r);return a===void 0||a===""?[]:a.split(" ")},kg=(t,r,a)=>{const f=Fm(t,r).concat([a]);return pa(t,r,f.join(" ")),!0},$p=(t,r,a)=>{const u=Ge(Fm(t,r),f=>f!==a);return u.length>0?pa(t,r,u.join(" ")):ml(t,r),!1};var dp=(t,r,a,u,f)=>t(a,u)?_e.some(a):Re(f)&&f(a)?_e.none():r(a,u,f);const Yh=(t,r,a)=>{let u=t.dom;const f=Re(a)?a:qt;for(;u.parentNode;){u=u.parentNode;const y=et.fromDom(u);if(r(y))return _e.some(y);if(f(y))break}return _e.none()},Ii=(t,r,a)=>dp((f,y)=>y(f),Yh,t,r,a),FS=(t,r)=>{const a=t.dom;return a.parentNode?vi(et.fromDom(a.parentNode),u=>!Do(t,u)&&r(u)):_e.none()},vi=(t,r)=>{const a=f=>r(et.fromDom(f));return $t(t.dom.childNodes,a).map(et.fromDom)},Vv=(t,r)=>{const a=u=>{for(let f=0;f<u.childNodes.length;f++){const y=et.fromDom(u.childNodes[f]);if(r(y))return _e.some(y);const A=a(u.childNodes[f]);if(A.isSome())return A}return _e.none()};return a(t.dom)},qa=(t,r,a)=>Yh(t,u=>fr(u,r),a),Xh=(t,r)=>zr(r,t),Pc=(t,r,a)=>dp((f,y)=>fr(f,y),qa,t,r,a),Lu=t=>t.dom.classList!==void 0,Dg=t=>Fm(t,"class"),Fv=(t,r)=>kg(t,"class",r),c1=(t,r)=>$p(t,"class",r),ME=(t,r)=>zt(Dg(t),r)?c1(t,r):Fv(t,r),_l=(t,r)=>{Lu(t)?t.dom.classList.add(r):Fv(t,r)},_f=t=>{(Lu(t)?t.dom.classList:Dg(t)).length===0&&ml(t,"class")},il=(t,r)=>{Lu(t)?t.dom.classList.remove(r):c1(t,r),_f(t)},Ri=(t,r)=>{const a=Lu(t)?t.dom.classList.toggle(r):ME(t,r);return _f(t),a},Gb=(t,r)=>Lu(t)&&t.dom.classList.contains(r),qb=(t,r)=>{ct(r,a=>{_l(t,a)})},Zb=(t,r)=>{ct(r,a=>{il(t,a)})},ty=t=>Pc(t,"[contenteditable]"),Bu=(t,r=!1)=>ci(t)?t.dom.isContentEditable:ty(t).fold(ot(r),a=>ny(a)==="true"),ny=t=>t.dom.contentEditable,J=(t,r)=>{t.dom.contentEditable=r?"true":"false"},ae=(t,r,a)=>Ge($c(t,a),r),ke=(t,r)=>Ge(mr(t),r),qe=(t,r)=>{let a=[];return ct(mr(t),u=>{r(u)&&(a=a.concat([u])),a=a.concat(qe(u,r))}),a},bt=(t,r,a)=>ae(t,u=>fr(u,r),a),un=(t,r)=>pr(r,t),mo=(t,r,a)=>Yh(t,r,a).isSome(),Go=(t,r)=>FS(t,r).isSome(),Zs=(t,r)=>Vv(t,r).isSome(),ws=(t,r)=>mo(t,at(Do,r)),$i=(t,r,a)=>qa(t,r,a).isSome(),ga=t=>Re(t)?t:qt,Za=(t,r,a)=>{let u=t.dom;const f=ga(a);for(;u.parentNode;){u=u.parentNode;const y=et.fromDom(u),A=r(y);if(A.isSome())return A;if(f(y))break}return _e.none()},Vu=(t,r,a)=>{const u=r(t),f=ga(a);return u.orThunk(()=>f(t)?_e.none():Za(t,r,f))},Up=t=>up(t).filter(r=>r.trim().length!==0||r.indexOf(Bi)>-1).isSome(),zp=t=>Wh(t)&&aa(t,"contenteditable")==="false",lu=["img","br"],u1=t=>Up(t)||zt(lu,Ms(t))||zp(t),Hm=t=>Vv(t,u1),$m={create:(t,r,a,u)=>({start:t,soffset:r,finish:a,foffset:u})},Mg=td.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),oy=(t,r,a,u)=>t.fold(r,a,u),Bl=t=>t.fold(Rt,Rt,Rt),PE=Mg.before,NE=Mg.on,Br=Mg.after,ki={before:PE,on:NE,after:Br,cata:oy,getStart:Bl},Ka=td.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ud=t=>Ka.exact(t.start,t.soffset,t.finish,t.foffset),Ya=t=>t.match({domRange:r=>et.fromDom(r.startContainer),relative:(r,a)=>ki.getStart(r),exact:(r,a,u,f)=>r}),Yb=Ka.domRange,Xb=Ka.relative,Jb=Ka.exact,LE=t=>{const r=Ya(t);return Gh(r)},bl=$m.create,Um={domRange:Yb,relative:Xb,exact:Jb,exactFromRange:ud,getWin:LE,range:bl},Qb=(t,r,a)=>{var u;return _e.from((u=t.caretPositionFromPoint)===null||u===void 0?void 0:u.call(t,r,a)).bind(f=>{if(f.offsetNode===null)return _e.none();const y=t.createRange();return y.setStart(f.offsetNode,f.offset),y.collapse(),_e.some(y)})},BE=(t,r,a)=>{var u;return _e.from((u=t.caretRangeFromPoint)===null||u===void 0?void 0:u.call(t,r,a))},Zr=(t,r,a)=>t.caretPositionFromPoint?Qb(t,r,a):t.caretRangeFromPoint?BE(t,r,a):_e.none(),Vl=(t,r,a)=>{const u=t.document;return Zr(u,r,a).map(f=>$m.create(et.fromDom(f.startContainer),f.startOffset,et.fromDom(f.endContainer),f.endOffset))},hp=(t,r)=>{const a=Ms(t);return a==="input"?ki.after(t):zt(["br","img"],a)?r===0?ki.before(t):ki.after(t):ki.on(t,r)},$d=(t,r)=>{const a=t.fold(ki.before,hp,ki.after),u=r.fold(ki.before,hp,ki.after);return Um.relative(a,u)},dd=(t,r,a,u)=>{const f=hp(t,r),y=hp(a,u);return Um.relative(f,y)},Fu=t=>t.match({domRange:r=>{const a=et.fromDom(r.startContainer),u=et.fromDom(r.endContainer);return dd(a,r.startOffset,u,r.endOffset)},relative:$d,exact:dd}),VE=t=>{const r=Um.getWin(t).dom,a=(f,y,A,M)=>ru(r,f,y,A,M),u=Fu(t);return Dn(r,u).match({ltr:a,rtl:a})},Pg=(t,r,a)=>Vl(t,r,a),HS=t=>{const r=t===void 0?window:t;return id().browser.isFirefox()?_e.none():_e.from(r.visualViewport)},Ud=(t,r,a,u)=>({x:t,y:r,width:a,height:u,right:t+a,bottom:r+u}),$S=t=>{const r=t===void 0?window:t,a=r.document,u=l1(et.fromDom(a));return HS(r).fold(()=>{const f=r.document.documentElement,y=f.clientWidth,A=f.clientHeight;return Ud(u.left,u.top,y,A)},f=>Ud(Math.max(f.pageLeft,u.left),Math.max(f.pageTop,u.top),f.width,f.height))};class Ki{constructor(r,a){this.node=r,this.rootNode=a,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(r){return this.node=this.findSibling(this.node,"firstChild","nextSibling",r),this.node}prev(r){return this.node=this.findSibling(this.node,"lastChild","previousSibling",r),this.node}prev2(r){return this.node=this.findPreviousNode(this.node,r),this.node}findSibling(r,a,u,f){if(r){if(!f&&r[a])return r[a];if(r!==this.rootNode){let y=r[u];if(y)return y;for(let A=r.parentNode;A&&A!==this.rootNode;A=A.parentNode)if(y=A[u],y)return y}}}findPreviousNode(r,a){if(r){const u=r.previousSibling;if(this.rootNode&&u===this.rootNode)return;if(u){if(!a){for(let y=u.lastChild;y;y=y.lastChild)if(!y.lastChild)return y}return u}const f=r.parentNode;if(f&&f!==this.rootNode)return f}}}const Ng=/^[ \t\r\n]*$/,Lg=t=>Ng.test(t),OO=t=>{for(const r of t)if(!Gl(r))return!1;return!0},US=t=>" \f	\v".indexOf(t)!==-1,zS=t=>t===`
`||t==="\r",IO=(t,r)=>r<t.length&&r>=0?zS(t[r]):!1,jp=(t,r=4,a=!0,u=!0)=>{const f=Hc(" ",r),y=t.replace(/\t/g,f);return On(y,(M,H)=>US(H)||H===Bi?M.pcIsSpace||M.str===""&&a||M.str.length===y.length-1&&u||IO(y,M.str.length+1)?{pcIsSpace:!1,str:M.str+Bi}:{pcIsSpace:!0,str:M.str+" "}:{pcIsSpace:zS(H),str:M.str+H},{pcIsSpace:!1,str:""}).str},zm=t=>r=>!!r&&r.nodeType===t,Bg=t=>!!t&&!Object.getPrototypeOf(t),No=zm(1),va=t=>No(t)&&Wh(et.fromDom(t)),sy=t=>No(t)&&t.namespaceURI==="http://www.w3.org/2000/svg",e0=t=>{const r=t.toLowerCase();return a=>Ve(a)&&a.nodeName.toLowerCase()===r},Nc=t=>{const r=t.map(a=>a.toLowerCase());return a=>{if(a&&a.nodeName){const u=a.nodeName.toLowerCase();return zt(r,u)}return!1}},Hv=(t,r)=>{const a=r.toLowerCase().split(" ");return u=>{if(No(u)){const f=u.ownerDocument.defaultView;if(f)for(let y=0;y<a.length;y++){const A=f.getComputedStyle(u,null);if((A?A.getPropertyValue(t):null)===a[y])return!0}}return!1}},dA=t=>r=>No(r)&&r.hasAttribute(t),Vg=t=>No(t)&&t.hasAttribute("data-mce-bogus"),hA=t=>No(t)&&t.getAttribute("data-mce-bogus")==="all",fp=t=>No(t)&&t.tagName==="TABLE",jm=t=>r=>!!(va(r)&&(r.contentEditable===t||r.getAttribute("data-mce-contenteditable")===t)),FE=Nc(["textarea","input"]),Un=zm(3),Fg=zm(4),t0=zm(7),Fa=zm(8),Sr=zm(9),$v=zm(11),ba=e0("br"),d1=e0("img"),Af=e0("a"),cu=jm("true"),di=jm("false"),Wp=t=>va(t)&&t.isContentEditable&&Ve(t.parentElement)&&!t.parentElement.isContentEditable,Gp=Nc(["td","th"]),HE=Nc(["td","th","caption"]),jS=e0("template"),Jh=Nc(["video","audio","object","embed"]),Wm=e0("li"),ry=e0("details"),Ui=e0("summary"),fA={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},$E=(t,r,a)=>{const u=et.fromDom(r),f=et.fromDom(t),y=a.getWhitespaceElements();return mo(f,M=>jo(y,Ms(M)),at(Do,u))},UE=t=>No(t)&&t.nodeName==="A"&&!t.hasAttribute("href")&&(t.hasAttribute("name")||t.hasAttribute("id")),n0=(t,r)=>No(t)&&jo(r.getNonEmptyElements(),t.nodeName),WS=dA("data-mce-bookmark"),GS=t=>Du(et.fromDom(t)).exists(r=>!Bu(r)),Gm=(t,r,a)=>Lg(t.data)&&!$E(t,r,a),h1=(t,r,a,u)=>Un(t)&&!Gm(t,r,a)&&(!u.includeZwsp||!OO(t.data)),hd=(t,r,a,u)=>Re(u.isContent)&&u.isContent(r)||n0(r,t)||WS(r)||UE(r)||h1(r,a,t,u)||di(r)||cu(r)&&GS(r),Tf=(t,r,a)=>{const u={...fA,...a};if(u.checkRootAsContent&&hd(t,r,r,u))return!1;let f=r.firstChild,y=0;if(!f)return!0;const A=new Ki(f,r);do{if(u.skipBogus&&No(f)){const M=f.getAttribute("data-mce-bogus");if(M){f=A.next(M==="all");continue}}if(Fa(f)){f=A.next(!0);continue}if(ba(f)){y++,f=A.next();continue}if(hd(t,f,r,u))return!1;f=A.next()}while(f);return y<=1},Hu=(t,r,a)=>Tf(t,r.dom,{checkRootAsContent:!0,...a}),yh=(t,r,a)=>hd(t,r,r,{includeZwsp:fA.includeZwsp,...a}),Es=t=>{const r=t.toLowerCase();return r==="svg"?"svg":r==="math"?"math":"html"},fd=t=>Es(t)!=="html",o0=t=>fd(t.nodeName),Hg=t=>Es(t.nodeName),RO=["svg","math"],qS=()=>{const t=kc(),r=()=>t.get().map(Hg).getOr("html");return{track:f=>(o0(f)?t.set(f):t.get().exists(y=>!y.contains(f))&&t.clear(),r()),current:r,reset:()=>{t.clear()}}},pp="data-mce-block",qm=t=>Ge(cn(t),r=>!/[A-Z]/.test(r)),iy=t=>fn(qm(t),r=>{const a=CSS.escape(r);return`${a}:`+fn(RO,u=>`not(${u} ${a})`).join(":")}).join(","),Zm=(t,r)=>Ve(r.querySelector(t))?(r.setAttribute(pp,"true"),r.getAttribute("data-mce-selected")==="inline-boundary"&&r.removeAttribute("data-mce-selected"),!0):(r.removeAttribute(pp),!1),zE=(t,r)=>{const a=iy(t.getTransparentElements()),u=iy(t.getBlockElements());return Ge(r.querySelectorAll(a),f=>Zm(u,f))},jE=(t,r,a)=>{var u;const f=a?"lastChild":"firstChild";for(let y=r[f];y;y=y[f])if(Tf(t,y,{checkRootAsContent:!0})){(u=y.parentNode)===null||u===void 0||u.removeChild(y);return}},Na=(t,r,a)=>{const u=document.createRange(),f=r.parentNode;if(f){u.setStartBefore(r),u.setEndBefore(a);const y=u.extractContents();jE(t,y,!0),u.setStartAfter(a),u.setEndAfter(r);const A=u.extractContents();jE(t,A,!1),Tf(t,y,{checkRootAsContent:!0})||f.insertBefore(y,r),Tf(t,a,{checkRootAsContent:!0})||f.insertBefore(a,r),Tf(t,A,{checkRootAsContent:!0})||f.insertBefore(A,r),f.removeChild(r)}},mp=(t,r,a)=>{const u=t.getBlockElements(),f=et.fromDom(r),y=M=>Ms(M)in u,A=M=>Do(M,f);ct(bh(a),M=>{Yh(M,y,A).each(H=>{const Y=ke(M,ue=>y(ue)&&!t.isValidChild(Ms(H),Ms(ue)));if(Y.length>0){const ue=Du(H);ct(Y,me=>{Yh(me,y,A).each(Se=>{Na(t,Se.dom,me.dom)})}),ue.each(me=>zE(t,me.dom))}})})},pd=(t,r,a)=>{ct([...a,...kn(t,r)?[r]:[]],u=>ct(un(et.fromDom(u),u.nodeName.toLowerCase()),f=>{$u(t,f.dom)&&Nu(f)}))},gp=(t,r)=>{const a=zE(t,r);mp(t,r,a),pd(t,r,a)},md=(t,r)=>{if(Uv(t,r)){const a=iy(t.getBlockElements());Zm(a,r)}},s0=(t,r,a)=>{const u=y=>Do(y,et.fromDom(r)),f=$c(et.fromDom(a),u);Vt(f,f.length-2).filter(sa).fold(()=>gp(t,r),y=>gp(t,y.dom))},Tc=t=>t.hasAttribute(pp),zc=(t,r)=>jo(t.getTransparentElements(),r),Uv=(t,r)=>No(r)&&zc(t,r.nodeName),kn=(t,r)=>Uv(t,r)&&Tc(r),$u=(t,r)=>Uv(t,r)&&!Tc(r),ay=(t,r)=>r.type===1&&zc(t,r.name)&&ie(r.attr(pp)),ic=id().browser,xf=t=>$t(t,sa),Qh=t=>ic.isFirefox()&&Ms(t)==="table"?xf(mr(t)).filter(r=>Ms(r)==="caption").bind(r=>xf(ra(r)).map(a=>{const u=a.dom.offsetTop,f=r.dom.offsetTop,y=r.dom.offsetHeight;return u<=f?-y:0})).getOr(0):0,ly=(t,r)=>t.children&&zt(t.children,r),Km=(t,r,a)=>{let u=0,f=0;const y=t.ownerDocument;if(a=a||t,r){if(a===t&&r.getBoundingClientRect&&Ga(et.fromDom(t),"position")==="static"){const M=r.getBoundingClientRect();return u=M.left+(y.documentElement.scrollLeft||t.scrollLeft)-y.documentElement.clientLeft,f=M.top+(y.documentElement.scrollTop||t.scrollTop)-y.documentElement.clientTop,{x:u,y:f}}let A=r;for(;A&&A!==a&&A.nodeType&&!ly(A,a);){const M=A;u+=M.offsetLeft||0,f+=M.offsetTop||0,A=M.offsetParent}for(A=r.parentNode;A&&A!==a&&A.nodeType&&!ly(A,a);)u-=A.scrollLeft||0,f-=A.scrollTop||0,A=A.parentNode;f+=Qh(et.fromDom(r))}return{x:u,y:f}},pA=(t,r)=>{const a=r.crossOrigin;return r.contentCssCors?"anonymous":Re(a)?a(t):void 0},zd=(t,r={})=>{let a=0;const u={},f=et.fromDom(t),y=iu(f),A=Et=>{r.referrerPolicy=Et},M=Et=>{r.contentCssCors=Et},H=Et=>{r.crossOrigin=Et},Y=Et=>{qr(Y0(f),Et)},ue=Et=>{const Pt=Y0(f);Xh(Pt,"#"+Et).each(Hi)},me=Et=>dr(u,Et).getOrThunk(()=>({id:"mce-u"+a++,passed:[],failed:[],count:0})),Se=Et=>new Promise((Pt,Kt)=>{let In;const ho=Zn._addCacheSuffix(Et),Kn=me(ho);u[ho]=Kn,Kn.count++;const Sn=(ss,Gs)=>{ct(ss,wo),Kn.status=Gs,Kn.passed=[],Kn.failed=[],In&&(In.onload=null,In.onerror=null,In=null)},Dt=()=>Sn(Kn.passed,2),Qe=()=>Sn(Kn.failed,3);if(Pt&&Kn.passed.push(Pt),Kt&&Kn.failed.push(Kt),Kn.status===1)return;if(Kn.status===2){Dt();return}if(Kn.status===3){Qe();return}Kn.status=1;const Xt=et.fromTag("link",y.dom);Va(Xt,{rel:"stylesheet",type:"text/css",id:Kn.id});const qn=pA(Et,r);qn!==void 0&&pa(Xt,"crossOrigin",qn),r.referrerPolicy&&pa(Xt,"referrerpolicy",r.referrerPolicy),In=Xt.dom,In.onload=Dt,In.onerror=Qe,Y(Xt),pa(Xt,"href",ho)}),Oe=(Et,Pt)=>{const Kt=me(Et);u[Et]=Kt,Kt.count++;const In=et.fromTag("style",y.dom);Va(In,{rel:"stylesheet",type:"text/css",id:Kt.id,"data-mce-key":Et}),In.dom.innerHTML=Pt,Y(In)},Ke=Et=>Promise.allSettled(fn(Et,Kt=>Se(Kt).then(ot(Kt)))).then(Kt=>{const In=Yt(Kt,ho=>ho.status==="fulfilled");return In.fail.length>0?Promise.reject(fn(In.fail,ho=>ho.reason)):fn(In.pass,ho=>ho.value)}),Ze=Et=>{const Pt=Zn._addCacheSuffix(Et);dr(u,Pt).each(Kt=>{--Kt.count===0&&(delete u[Pt],ue(Kt.id))})};return{load:Se,loadRawCss:Oe,loadAll:Ke,unload:Ze,unloadRawCss:Et=>{dr(u,Et).each(Pt=>{--Pt.count===0&&(delete u[Et],ue(Pt.id))})},unloadAll:Et=>{ct(Et,Pt=>{Ze(Pt)})},_setReferrerPolicy:A,_setContentCssCors:M,_setCrossOrigin:H}},Uu=(()=>{const t=new WeakMap;return{forElement:(a,u)=>{const y=rc(a).dom;return _e.from(t.get(y)).getOrThunk(()=>{const A=zd(y,u);return t.set(y,A),A})}}})(),r0=t=>t.nodeName.toLowerCase()==="span",al=(t,r)=>Ve(t)&&(yh(r,t)||r.isInline(t.nodeName.toLowerCase())),mA=(t,r,a)=>{const u=new Ki(t,r).prev(!1),f=new Ki(t,r).next(!1),y=tt(u)||al(u,a),A=tt(f)||al(f,a);return y&&A},ZS=t=>r0(t)&&t.getAttribute("data-mce-type")==="bookmark",qp=(t,r,a)=>Un(t)&&t.data.length>0&&mA(t,r,a),WE=t=>No(t)?t.childNodes.length>0:!1,Sh=t=>$v(t)||Sr(t),GE=(t,r,a,u)=>{var f;const y=u||r;if(No(r)&&ZS(r))return r;const A=r.childNodes;for(let M=A.length-1;M>=0;M--)GE(t,A[M],a,y);if(No(r)){const M=r.childNodes;M.length===1&&ZS(M[0])&&((f=r.parentNode)===null||f===void 0||f.insertBefore(M[0],r))}return!Sh(r)&&!yh(a,r)&&!WE(r)&&!qp(r,y,a)&&t.remove(r),r},Wt=Zn.makeMap,gd=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cy=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ha=/[<>&\"\']/g,Ch=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,jc={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},yi={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},KS={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},zv=t=>{const r=et.fromTag("div").dom;return r.innerHTML=t,r.textContent||r.innerText||t},qE=(t,r)=>{const a={};if(t){const u=t.split(",");r=r||10;for(let f=0;f<u.length;f+=2){const y=String.fromCharCode(parseInt(u[f],r));if(!yi[y]){const A="&"+u[f+1]+";";a[y]=A,a[A]=y}}return a}else return},jv=qE("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),$g=(t,r)=>t.replace(r?gd:cy,a=>yi[a]||a),YS=t=>(""+t).replace(Ha,r=>yi[r]||r),ZE=(t,r)=>t.replace(r?gd:cy,a=>a.length>1?"&#"+((a.charCodeAt(0)-55296)*1024+(a.charCodeAt(1)-56320)+65536)+";":yi[a]||"&#"+a.charCodeAt(0)+";"),Ug=(t,r,a)=>{const u=a||jv;return t.replace(r?gd:cy,f=>yi[f]||u[f]||f)},Gv={encodeRaw:$g,encodeAllRaw:YS,encodeNumeric:ZE,encodeNamed:Ug,getEncodeFunc:(t,r)=>{const a=qE(r)||jv,u=(A,M)=>A.replace(M?gd:cy,H=>yi[H]!==void 0?yi[H]:a[H]!==void 0?a[H]:H.length>1?"&#"+((H.charCodeAt(0)-55296)*1024+(H.charCodeAt(1)-56320)+65536)+";":"&#"+H.charCodeAt(0)+";"),f=(A,M)=>Ug(A,M,a),y=Wt(t.replace(/\+/g,","));return y.named&&y.numeric?u:y.named?r?f:Ug:y.numeric?ZE:$g},decode:t=>t.replace(Ch,(r,a)=>a?(a.charAt(0).toLowerCase()==="x"?a=parseInt(a.substr(1),16):a=parseInt(a,10),a>65535?(a-=65536,String.fromCharCode(55296+(a>>10),56320+(a&1023))):jc[a]||String.fromCharCode(a)):KS[r]||jv[r]||zv(r))},Wc=(t,r)=>(t=Zn.trim(t),t?t.split(r||" "):[]),ac=t=>new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$"),zg=t=>be(t)&&t.source&&Object.prototype.toString.call(t)==="[object RegExp]",jg=t=>{const r=a=>Ae(a)?fn(a,r):zg(a)?new RegExp(a.source,a.flags):be(a)?fs(a,r):a;return r(t)},Wg=t=>{const r=/^(~)?(.+)$/;return Ao(Wc(t,","),a=>{const u=r.exec(a);if(u){const y=u[1]==="~"?"span":"div",A=u[2];return[{cloneName:y,name:A}]}else return[]})},uy=t=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...t!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...t!=="html5-strict"?["xml:lang"]:[]]),vd=t=>{let r,a;r="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",a="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",t!=="html4"&&(r+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",a+=" audio canvas command data datalist mark meter output picture progress template time wbr video ruby bdi keygen svg"),t!=="html5-strict"&&(a=[a,"acronym applet basefont big font strike tt"].join(" "),r=[r,"center dir isindex noframes"].join(" "));const u=[r,a].join(" ");return{blockContent:r,phrasingContent:a,flowContent:u}},qv=t=>{const{blockContent:r,phrasingContent:a,flowContent:u}=vd(t),f=y=>Object.freeze(y.split(" "));return Object.freeze({blockContent:f(r),phrasingContent:f(a),flowContent:f(u)})},Al={html4:Dl(()=>qv("html4")),html5:Dl(()=>qv("html5")),"html5-strict":Dl(()=>qv("html5-strict"))},i0=(t,r)=>{const{blockContent:a,phrasingContent:u,flowContent:f}=Al[t]();return r==="blocks"?_e.some(a):r==="phrasing"?_e.some(u):r==="flow"?_e.some(f):_e.none()},Of=t=>{const r=uy(t),{phrasingContent:a,flowContent:u}=vd(t),f={},y=(H,Y,ue)=>{f[H]={attributes:Xo(Y,ot({})),attributesOrder:Y,children:Xo(ue,ot({}))}},A=(H,Y="",ue="")=>{const me=Wc(ue),Se=Wc(H);let Oe=Se.length;const Ke=[...r,...Wc(Y)];for(;Oe--;)y(Se[Oe],Ke.slice(),me)},M=(H,Y)=>{const ue=Wc(H),me=Wc(Y);let Se=ue.length;for(;Se--;){const Oe=f[ue[Se]];for(let Ke=0,Ze=me.length;Ke<Ze;Ke++)Oe.attributes[me[Ke]]={},Oe.attributesOrder.push(me[Ke])}};return t!=="html5-strict"&&(ct(Wc("acronym applet basefont big font strike tt"),ue=>{A(ue,"",a)}),ct(Wc("center dir isindex noframes"),ue=>{A(ue,"",u)})),A("html","manifest","head body"),A("head","","base command link meta noscript script style title"),A("title hr noscript br"),A("base","href target"),A("link","href rel media hreflang type sizes hreflang"),A("meta","name http-equiv content charset"),A("style","media type scoped"),A("script","src async defer type charset"),A("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",u),A("dd div","",u),A("address dt caption","",t==="html4"?a:u),A("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",a),A("blockquote","cite",u),A("ol","reversed start type","li"),A("ul","","li"),A("li","value",u),A("dl","","dt dd"),A("a","href target rel media hreflang type",t==="html4"?a:u),A("q","cite",a),A("ins del","cite datetime",u),A("img","src sizes srcset alt usemap ismap width height"),A("iframe","src name width height",u),A("embed","src type width height"),A("object","data type typemustmatch name usemap form width height",[u,"param"].join(" ")),A("param","name value"),A("map","name",[u,"area"].join(" ")),A("area","alt coords shape href target rel media hreflang type"),A("table","border","caption colgroup thead tfoot tbody tr"+(t==="html4"?" col":"")),A("colgroup","span","col"),A("col","span"),A("tbody thead tfoot","","tr"),A("tr","","td th"),A("td","colspan rowspan headers",u),A("th","colspan rowspan headers scope abbr",u),A("form","accept-charset action autocomplete enctype method name novalidate target",u),A("fieldset","disabled form name",[u,"legend"].join(" ")),A("label","form for",a),A("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),A("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",t==="html4"?u:a),A("select","disabled form multiple name required size","option optgroup"),A("optgroup","disabled label","option"),A("option","disabled label selected value"),A("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),A("menu","type label",[u,"li"].join(" ")),A("noscript","",u),t!=="html4"&&(A("wbr"),A("ruby","",[a,"rt rp"].join(" ")),A("figcaption","",u),A("mark rt rp bdi","",a),A("summary","",[a,"h1 h2 h3 h4 h5 h6"].join(" ")),A("canvas","width height",u),A("data","value",a),A("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[u,"track source"].join(" ")),A("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[u,"track source"].join(" ")),A("picture","","img source"),A("source","src srcset type media sizes"),A("track","kind src srclang label default"),A("datalist","",[a,"option"].join(" ")),A("article section nav aside main header footer","",u),A("hgroup","","h1 h2 h3 h4 h5 h6"),A("figure","",[u,"figcaption"].join(" ")),A("time","datetime",a),A("dialog","open",u),A("command","type label icon disabled checked radiogroup command"),A("output","for form name",a),A("progress","value max",a),A("meter","value min max low high optimum",a),A("details","open",[u,"summary"].join(" ")),A("keygen","autofocus challenge disabled form keytype name"),y("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),t!=="html5-strict"&&(M("script","language xml:space"),M("style","xml:space"),M("object","declare classid code codebase codetype archive standby align border hspace vspace"),M("embed","align name hspace vspace"),M("param","valuetype type"),M("a","charset name rev shape coords"),M("br","clear"),M("applet","codebase archive code object alt name width height align hspace vspace"),M("img","name longdesc align border hspace vspace"),M("iframe","longdesc frameborder marginwidth marginheight scrolling align"),M("font basefont","size color face"),M("input","usemap align"),M("select"),M("textarea"),M("h1 h2 h3 h4 h5 h6 div p legend caption","align"),M("ul","type compact"),M("li","type"),M("ol dl menu dir","compact"),M("pre","width xml:space"),M("hr","align noshade size width"),M("isindex","prompt"),M("table","summary width frame rules cellspacing cellpadding align bgcolor"),M("col","width align char charoff valign"),M("colgroup","width align char charoff valign"),M("thead","align char charoff valign"),M("tr","align char charoff valign bgcolor"),M("th","axis align char charoff valign nowrap bgcolor width height"),M("form","accept"),M("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),M("tfoot","align char charoff valign"),M("tbody","align char charoff valign"),M("area","nohref"),M("body","background bgcolor text link vlink alink")),t!=="html4"&&(M("input button select textarea","autofocus"),M("input textarea","placeholder"),M("a","download"),M("link script img","crossorigin"),M("img","loading"),M("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),t!=="html4"&&ct([f.video,f.audio],H=>{delete H.children.audio,delete H.children.video}),ct(Wc("a form meter progress dfn"),H=>{f[H]&&delete f[H].children[H]}),delete f.caption.children.table,delete f.script,f},If=t=>t==="-"?"remove":"add",f1=t=>{const r=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return _e.from(r.exec(t)).map(a=>({preset:a[1]==="@",name:a[2]}))},lc=t=>{const r=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Ao(Wc(t,","),a=>{const u=r.exec(a);if(u){const f=u[1],y=f?If(f):"replace",A=u[2],M=Ao(Wc(u[3],"|"),H=>f1(H).toArray());return[{operation:y,name:A,validChildren:M}]}else return[]})},Gg=(t,r)=>{const a=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,u=/[*?+]/,{attributes:f,attributesOrder:y}=r;return ct(Wc(t,"|"),A=>{const M=a.exec(A);if(M){const H={},Y=M[1],ue=M[2].replace(/[\\:]:/g,":"),me=M[3],Se=M[4];if(Y==="!"&&(r.attributesRequired=r.attributesRequired||[],r.attributesRequired.push(ue),H.required=!0),Y==="-"){delete f[ue],y.splice(Zn.inArray(y,ue),1);return}if(me&&(me==="="?(r.attributesDefault=r.attributesDefault||[],r.attributesDefault.push({name:ue,value:Se}),H.defaultValue=Se):me==="~"?(r.attributesForced=r.attributesForced||[],r.attributesForced.push({name:ue,value:Se}),H.forcedValue=Se):me==="<"&&(H.validValues=Zn.makeMap(Se,"?"))),u.test(ue)){const Oe=H;r.attributePatterns=r.attributePatterns||[],Oe.pattern=ac(ue),r.attributePatterns.push(Oe)}else f[ue]||y.push(ue),f[ue]=H}})},Zp=(t,r)=>{Xn(t.attributes,(a,u)=>{r.attributes[u]=a}),r.attributesOrder.push(...t.attributesOrder)},Kp=(t,r)=>{const a=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Ao(Wc(r,","),u=>{const f=a.exec(u);if(f){const y=f[1],A=f[2],M=f[3],H=f[4],Y=f[5],ue={attributes:{},attributesOrder:[]};if(t.each(me=>Zp(me,ue)),y==="#"?ue.paddEmpty=!0:y==="-"&&(ue.removeEmpty=!0),H==="!"&&(ue.removeEmptyAttrs=!0),Y&&Gg(Y,ue),M&&(ue.outputName=A),A==="@")if(t.isNone())t=_e.some(ue);else return[];return[M?{name:A,element:ue,aliasName:M}:{name:A,element:ue}]}else return[]})},Ym={},Zv=Zn.makeMap,bd=Zn.each,a0=Zn.extend,vA=Zn.explode,Ca=(t,r={})=>{const a=Zv(t," ",Zv(t.toUpperCase()," "));return a0(a,r)},KE=t=>Ca("td th li dt dd figcaption caption details summary",t.getTextBlockElements()),vp=(t,r)=>{if(t){const a={};return ie(t)&&(t={"*":t}),bd(t,(u,f)=>{a[f]=a[f.toUpperCase()]=r==="map"?Zv(u,/[, ]/):vA(u,/[, ]/)}),a}else return},Rf=(t={})=>{var r;const a={},u={};let f=[];const y={},A={},M=(Ts,ii,fc)=>{const Gu=t[Ts];if(Gu)return Zv(Gu,/[, ]/,Zv(Gu.toUpperCase(),/[, ]/));{let Ed=Ym[Ts];return Ed||(Ed=Ca(ii,fc),Ym[Ts]=Ed),Ed}},H=(r=t.schema)!==null&&r!==void 0?r:"html5",Y=Of(H);t.verify_html===!1&&(t.valid_elements="*[*]");const ue=vp(t.valid_styles),me=vp(t.invalid_styles,"map"),Se=vp(t.valid_classes,"map"),Oe=M("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Ke=M("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),Ze=M("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),We=M("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),Ct="td th iframe video audio object script code",Et=M("non_empty_elements",Ct+" pre svg textarea summary",Ze),Pt=M("move_caret_before_on_enter_elements",Ct+" table",Ze),Kt="h1 h2 h3 h4 h5 h6",In=M("text_block_elements",Kt+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),ho=M("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing colgroup col",In),Kn=M("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Sn=M("transparent_elements","a ins del canvas map"),Dt=M("wrap_block_elements","pre "+Kt);bd("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Ts=>{A[Ts]=new RegExp("</"+Ts+"[^>]*>","gi")});const Qe=Ts=>{const ii=_e.from(a["@"]),fc=/[*?+]/;ct(Kp(ii,Ts??""),({name:Gu,element:Ed,aliasName:gu})=>{if(gu&&(a[gu]=Ed),fc.test(Gu)){const Ul=Ed;Ul.pattern=ac(Gu),f.push(Ul)}else a[Gu]=Ed})},Xt=Ts=>{f=[],ct(cn(a),ii=>{delete a[ii]}),Qe(Ts)},qn=(Ts,ii)=>{var fc,Gu;delete Ym.text_block_elements,delete Ym.block_elements;const Ed=ii.extends?!_p(ii.extends):!1,gu=ii.extends;if(u[Ts]=gu?u[gu]:{},y[Ts]=gu??Ts,Et[Ts.toUpperCase()]={},Et[Ts]={},Ed||(ho[Ts.toUpperCase()]={},ho[Ts]={}),gu&&!a[Ts]&&a[gu]){const Ul=jg(a[gu]);delete Ul.removeEmptyAttrs,delete Ul.removeEmpty,a[Ts]=Ul}else a[Ts]={attributesOrder:[],attributes:{}};if(Ae(ii.attributes)){const Ul=wm=>{zl.attributesOrder.push(wm),zl.attributes[wm]={}},zl=(fc=a[Ts])!==null&&fc!==void 0?fc:{};delete zl.attributesDefault,delete zl.attributesForced,delete zl.attributePatterns,delete zl.attributesRequired,zl.attributesOrder=[],zl.attributes={},ct(ii.attributes,wm=>{const Ny=uy(H);f1(wm).each(({preset:QC,name:aS})=>{QC?aS==="global"&&ct(Ny,Ul):Ul(aS)})}),a[Ts]=zl}if(Ie(ii.padEmpty)){const Ul=(Gu=a[Ts])!==null&&Gu!==void 0?Gu:{};Ul.paddEmpty=ii.padEmpty,a[Ts]=Ul}if(Ae(ii.children)){const Ul={},zl=Ny=>{Ul[Ny]={}},wm=Ny=>{i0(H,Ny).each(QC=>{ct(QC,zl)})};ct(ii.children,Ny=>{f1(Ny).each(({preset:QC,name:aS})=>{QC?wm(aS):zl(aS)})}),u[Ts]=Ul}gu&&Xn(u,(Ul,zl)=>{Ul[gu]&&(u[zl]=Ul=a0({},u[zl]),Ul[Ts]=Ul[gu])})},ss=Ts=>{ct(Wg(Ts??""),({name:ii,cloneName:fc})=>{qn(ii,{extends:fc})})},Gs=Ts=>{be(Ts)?Xn(Ts,(ii,fc)=>qn(fc,ii)):ie(Ts)&&ss(Ts)},Or=Ts=>{ct(lc(Ts??""),({operation:ii,name:fc,validChildren:Gu})=>{const Ed=ii==="replace"?{"#comment":{}}:u[fc],gu=zl=>{ii==="remove"?delete Ed[zl]:Ed[zl]={}},Ul=zl=>{i0(H,zl).each(wm=>{ct(wm,gu)})};ct(Gu,({preset:zl,name:wm})=>{zl?Ul(wm):gu(wm)}),u[fc]=Ed})},Yr=Ts=>{const ii=a[Ts];if(ii)return ii;let fc=f.length;for(;fc--;){const Gu=f[fc];if(Gu.pattern.test(Ts))return Gu}},tl=()=>{t.valid_elements?(Xt(t.valid_elements),bd(Y,(Ts,ii)=>{u[ii]=Ts.children})):(bd(Y,(Ts,ii)=>{a[ii]={attributes:Ts.attributes,attributesOrder:Ts.attributesOrder},u[ii]=Ts.children}),bd(Wc("strong/b em/i"),Ts=>{const ii=Wc(Ts,"/");a[ii[1]].outputName=ii[0]}),bd(Kn,(Ts,ii)=>{a[ii]&&(t.padd_empty_block_inline_children&&(a[ii].paddInEmptyBlock=!0),a[ii].removeEmpty=!0)}),bd(Wc("ol ul blockquote a table tbody"),Ts=>{a[Ts]&&(a[Ts].removeEmpty=!0)}),bd(Wc("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Ts=>{a[Ts]&&(a[Ts].paddEmpty=!0)}),bd(Wc("span"),Ts=>{a[Ts].removeEmptyAttrs=!0})),delete a.svg,Gs(t.custom_elements),Or(t.valid_children),Qe(t.extended_valid_elements),Or("+ol[ul|ol],+ul[ul|ol]"),bd({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Ts,ii)=>{a[ii]&&(a[ii].parentsRequired=Wc(Ts))}),t.invalid_elements&&bd(vA(t.invalid_elements),Ts=>{a[Ts]&&delete a[Ts]}),Yr("span")||Qe("span[!data-mce-type|*]")},nl=ot(ue),Cd=ot(me),lo=ot(Se),as=ot(We),ri=ot(ho),Ni=ot(In),es=ot(Kn),uo=ot(Object.seal(Ze)),Io=ot(Ke),Ds=ot(Et),qs=ot(Pt),qi=ot(Oe),Aa=ot(Sn),yv=ot(Dt),oh=ot(Object.seal(A)),M0=(Ts,ii)=>{const fc=u[Ts.toLowerCase()];return!!(fc&&fc[ii.toLowerCase()])},Cb=(Ts,ii)=>{const fc=Yr(Ts);if(fc)if(ii){if(fc.attributes[ii])return!0;const Gu=fc.attributePatterns;if(Gu){let Ed=Gu.length;for(;Ed--;)if(Gu[Ed].pattern.test(ii))return!0}}else return!0;return!1},_p=Ts=>jo(ri(),Ts),Em=Ts=>!Ss(Ts,"#")&&Cb(Ts)&&!_p(Ts),P0=Ts=>jo(yv(),Ts)||Em(Ts),px=ot(y);return tl(),{type:H,children:u,elements:a,getValidStyles:nl,getValidClasses:lo,getBlockElements:ri,getInvalidStyles:Cd,getVoidElements:uo,getTextBlockElements:Ni,getTextInlineElements:es,getBoolAttrs:as,getElementRule:Yr,getSelfClosingElements:Io,getNonEmptyElements:Ds,getMoveCaretBeforeOnEnterElements:qs,getWhitespaceElements:qi,getTransparentElements:Aa,getSpecialElements:oh,isValidChild:M0,isValid:Cb,isBlock:_p,isInline:Em,isWrapper:P0,getCustomElements:px,addValidElements:Qe,setValidElements:Xt,addCustomElements:Gs,addValidChildren:Or}},Xm=t=>({value:Yp(t)}),Yp=t=>Hh(t,"#").toUpperCase(),uu=t=>{const r=t.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},l0=t=>{const r=uu(t.red)+uu(t.green)+uu(t.blue);return Xm(r)},Xp=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,YE=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,p1=(t,r,a,u)=>({red:t,green:r,blue:a,alpha:u}),c0=(t,r,a,u)=>{const f=parseInt(t,10),y=parseInt(r,10),A=parseInt(a,10),M=parseFloat(u);return p1(f,y,A,M)},XS=t=>Xp.test(t)?"rgb":YE.test(t)?"rgba":"other",JS=t=>{const r=Xp.exec(t);if(r!==null)return _e.some(c0(r[1],r[2],r[3],"1"));const a=YE.exec(t);return a!==null?_e.some(c0(a[1],a[2],a[3],a[4])):_e.none()},bA=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,u0=t=>JS(t).map(l0).map(r=>"#"+r.value).getOr(t),d0=(t={},r)=>{const a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,u=/\s*([^:]+):\s*([^;]+);?/g,f=/\s+$/,y={};let A,M;const H=Cc;r&&(A=r.getValidStyles(),M=r.getInvalidStyles());const Y=(`\\" \\' \\; \\: ; : `+H).split(" ");for(let me=0;me<Y.length;me++)y[Y[me]]=H+me,y[H+me]=Y[me];const ue={parse:me=>{const Se={};let Oe=!1;const Ke=t.url_converter,Ze=t.url_converter_scope||ue,We=(Sn,Dt,Qe)=>{const Xt=Se[Sn+"-top"+Dt];if(!Xt)return;const qn=Se[Sn+"-right"+Dt];if(!qn)return;const ss=Se[Sn+"-bottom"+Dt];if(!ss)return;const Gs=Se[Sn+"-left"+Dt];if(!Gs)return;const Or=[Xt,qn,ss,Gs];let Yr=Or.length-1;for(;Yr--&&Or[Yr]===Or[Yr+1];);Yr>-1&&Qe||(Se[Sn+Dt]=Yr===-1?Or[0]:Or.join(" "),delete Se[Sn+"-top"+Dt],delete Se[Sn+"-right"+Dt],delete Se[Sn+"-bottom"+Dt],delete Se[Sn+"-left"+Dt])},Ct=Sn=>{const Dt=Se[Sn];if(!Dt)return;const Qe=Dt.indexOf(",")>-1?[Dt]:Dt.split(" ");let Xt=Qe.length;for(;Xt--;)if(Qe[Xt]!==Qe[0])return!1;return Se[Sn]=Qe[0],!0},Et=(Sn,Dt,Qe,Xt)=>{Ct(Dt)&&Ct(Qe)&&Ct(Xt)&&(Se[Sn]=Se[Dt]+" "+Se[Qe]+" "+Se[Xt],delete Se[Dt],delete Se[Qe],delete Se[Xt])},Pt=Sn=>(Oe=!0,y[Sn]),Kt=(Sn,Dt)=>(Oe&&(Sn=Sn.replace(/\uFEFF[0-9]/g,Qe=>y[Qe])),Dt||(Sn=Sn.replace(/\\([\'\";:])/g,"$1")),Sn),In=Sn=>String.fromCharCode(parseInt(Sn.slice(1),16)),ho=Sn=>Sn.replace(/\\[0-9a-f]+/gi,In),Kn=(Sn,Dt,Qe,Xt,qn,ss)=>{if(qn=qn||ss,qn)return qn=Kt(qn),"'"+qn.replace(/\'/g,"\\'")+"'";if(Dt=Kt(Dt||Qe||Xt||""),!t.allow_script_urls){const Gs=Dt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Gs)||!t.allow_svg_data_urls&&/^data:image\/svg/i.test(Gs))return""}return Ke&&(Dt=Ke.call(Ze,Dt,"style")),"url('"+Dt.replace(/\'/g,"\\'")+"')"};if(me){me=me.replace(/[\u0000-\u001F]/g,""),me=me.replace(/\\[\"\';:\uFEFF]/g,Pt).replace(/\"[^\"]+\"|\'[^\']+\'/g,Dt=>Dt.replace(/[;:]/g,Pt));let Sn;for(;Sn=u.exec(me);){u.lastIndex=Sn.index+Sn[0].length;let Dt=Sn[1].replace(f,"").toLowerCase(),Qe=Sn[2].replace(f,"");if(Dt&&Qe){if(Dt=ho(Dt),Qe=ho(Qe),Dt.indexOf(H)!==-1||Dt.indexOf('"')!==-1||!t.allow_script_urls&&(Dt==="behavior"||/expression\s*\(|\/\*|\*\//.test(Qe)))continue;Dt==="font-weight"&&Qe==="700"?Qe="bold":(Dt==="color"||Dt==="background-color")&&(Qe=Qe.toLowerCase()),XS(Qe)==="rgb"&&JS(Qe).each(Xt=>{Qe=u0(bA(Xt)).toLowerCase()}),Qe=Qe.replace(a,Kn),Se[Dt]=Oe?Kt(Qe,!0):Qe}}We("border","",!0),We("border","-width"),We("border","-color"),We("border","-style"),We("padding",""),We("margin",""),Et("border","border-width","border-style","border-color"),Se.border==="medium none"&&delete Se.border,Se["border-image"]==="none"&&delete Se["border-image"]}return Se},serialize:(me,Se)=>{let Oe="";const Ke=(We,Ct)=>{const Et=Ct[We];if(Et)for(let Pt=0,Kt=Et.length;Pt<Kt;Pt++){const In=Et[Pt],ho=me[In];ho&&(Oe+=(Oe.length>0?" ":"")+In+": "+ho+";")}},Ze=(We,Ct)=>{if(!M||!Ct)return!0;let Et=M["*"];return Et&&Et[We]?!1:(Et=M[Ct],!(Et&&Et[We]))};return Se&&A?(Ke("*",A),Ke(Se,A)):Xn(me,(We,Ct)=>{We&&Ze(Ct,Se)&&(Oe+=(Oe.length>0?" ":"")+Ct+": "+We+";")}),Oe}};return ue},Jp={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},qg=t=>t instanceof Event||Re(t.initEvent),Zg=t=>t.isDefaultPrevented===Tn||t.isDefaultPrevented===qt,yA=t=>Xe(t.preventDefault)||qg(t),dy=(t,r)=>{const a=r??{};for(const u in t)jo(Jp,u)||(a[u]=t[u]);return Ve(t.composedPath)&&(a.composedPath=()=>t.composedPath()),Ve(t.getModifierState)&&(a.getModifierState=u=>t.getModifierState(u)),Ve(t.getTargetRanges)&&(a.getTargetRanges=()=>t.getTargetRanges()),a},m1=(t,r,a,u)=>{var f;const y=dy(r,u);return y.type=t,Xe(y.target)&&(y.target=(f=y.srcElement)!==null&&f!==void 0?f:a),yA(r)&&(y.preventDefault=()=>{y.defaultPrevented=!0,y.isDefaultPrevented=Tn,Re(r.preventDefault)&&r.preventDefault()},y.stopPropagation=()=>{y.cancelBubble=!0,y.isPropagationStopped=Tn,Re(r.stopPropagation)&&r.stopPropagation()},y.stopImmediatePropagation=()=>{y.isImmediatePropagationStopped=Tn,y.stopPropagation()},Zg(y)||(y.isDefaultPrevented=y.defaultPrevented===!0?Tn:qt,y.isPropagationStopped=y.cancelBubble===!0?Tn:qt,y.isImmediatePropagationStopped=qt)),y},SA="mce-data-",CA=/^(?:mouse|contextmenu)|click/,h0=(t,r,a,u)=>{t.addEventListener(r,a,u||!1)},Kv=(t,r,a,u)=>{t.removeEventListener(r,a,u||!1)},QS=t=>Ve(t)&&CA.test(t.type),Eh=(t,r)=>{const a=m1(t.type,t,document,r);if(QS(t)&&tt(t.pageX)&&!tt(t.clientX)){const u=a.target.ownerDocument||document,f=u.documentElement,y=u.body,A=a;A.pageX=t.clientX+(f&&f.scrollLeft||y&&y.scrollLeft||0)-(f&&f.clientLeft||y&&y.clientLeft||0),A.pageY=t.clientY+(f&&f.scrollTop||y&&y.scrollTop||0)-(f&&f.clientTop||y&&y.clientTop||0)}return a},g1=(t,r,a)=>{const u=t.document,f={type:"ready"};if(a.domLoaded){r(f);return}const y=()=>u.readyState==="complete"||u.readyState==="interactive"&&u.body,A=()=>{Kv(t,"DOMContentLoaded",A),Kv(t,"load",A),a.domLoaded||(a.domLoaded=!0,r(f)),t=null};y()?A():h0(t,"DOMContentLoaded",A),a.domLoaded||h0(t,"load",A)};class bp{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=SA+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(r,a,u,f){const y=this;let A;const M=window,H=Se=>{y.executeHandlers(Eh(Se||M.event),Y)};if(!r||Un(r)||Fa(r))return u;let Y;r[y.expando]?Y=r[y.expando]:(Y=y.count++,r[y.expando]=Y,y.events[Y]={}),f=f||r;const ue=a.split(" ");let me=ue.length;for(;me--;){let Se=ue[me],Oe=H,Ke=!1,Ze=!1;if(Se==="DOMContentLoaded"&&(Se="ready"),y.domLoaded&&Se==="ready"&&r.readyState==="complete"){u.call(f,Eh({type:Se}));continue}!y.hasFocusIn&&(Se==="focusin"||Se==="focusout")&&(Ke=!0,Ze=Se==="focusin"?"focus":"blur",Oe=We=>{const Ct=Eh(We||M.event);Ct.type=Ct.type==="focus"?"focusin":"focusout",y.executeHandlers(Ct,Y)}),A=y.events[Y][Se],A?Se==="ready"&&y.domLoaded?u(Eh({type:Se})):A.push({func:u,scope:f}):(y.events[Y][Se]=A=[{func:u,scope:f}],A.fakeName=Ze,A.capture=Ke,A.nativeHandler=Oe,Se==="ready"?g1(r,Oe,y):h0(r,Ze||Se,Oe,Ke))}return r=A=null,u}unbind(r,a,u){if(!r||Un(r)||Fa(r))return this;const f=r[this.expando];if(f){let y=this.events[f];if(a){const A=a.split(" ");let M=A.length;for(;M--;){const H=A[M],Y=y[H];if(Y){if(u){let ue=Y.length;for(;ue--;)if(Y[ue].func===u){const me=Y.nativeHandler,Se=Y.fakeName,Oe=Y.capture,Ke=Y.slice(0,ue).concat(Y.slice(ue+1));Ke.nativeHandler=me,Ke.fakeName=Se,Ke.capture=Oe,y[H]=Ke}}(!u||Y.length===0)&&(delete y[H],Kv(r,Y.fakeName||H,Y.nativeHandler,Y.capture))}}}else Xn(y,(A,M)=>{Kv(r,A.fakeName||M,A.nativeHandler,A.capture)}),y={};for(const A in y)if(jo(y,A))return this;delete this.events[f];try{delete r[this.expando]}catch{r[this.expando]=null}}return this}fire(r,a,u){return this.dispatch(r,a,u)}dispatch(r,a,u){if(!r||Un(r)||Fa(r))return this;const f=Eh({type:a,target:r},u);do{const y=r[this.expando];y&&this.executeHandlers(f,y),r=r.parentNode||r.ownerDocument||r.defaultView||r.parentWindow}while(r&&!f.isPropagationStopped());return this}clean(r){if(!r||Un(r)||Fa(r))return this;if(r[this.expando]&&this.unbind(r),r.getElementsByTagName||(r=r.document),r&&r.getElementsByTagName){this.unbind(r);const a=r.getElementsByTagName("*");let u=a.length;for(;u--;)r=a[u],r[this.expando]&&this.unbind(r)}return this}destroy(){this.events={}}cancel(r){return r&&(r.preventDefault(),r.stopImmediatePropagation()),!1}executeHandlers(r,a){const u=this.events[a],f=u&&u[r.type];if(f)for(let y=0,A=f.length;y<A;y++){const M=f[y];if(M&&M.func.call(M.scope,r)===!1&&r.preventDefault(),r.isImmediatePropagationStopped())return}}}bp.Event=new bp;const hy=Zn.each,EA=Zn.grep,XE="data-mce-style",wh=Zn.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),v1=(t,r,a)=>{Xe(a)||a===""?ml(t,r):pa(t,r,a)},wA=t=>t.replace(/[A-Z]/g,r=>"-"+r.toLowerCase()),Yv=(t,r)=>{let a=0;if(t)for(let u=t.nodeType,f=t.previousSibling;f;f=f.previousSibling){const y=f.nodeType;r&&Un(f)&&(y===u||!f.data.length)||(a++,u=y)}return a},kO=(t,r)=>{const a=aa(r,"style"),u=t.serialize(t.parse(a),Ms(r));v1(r,XE,u)},_A=(t,r)=>vt(t)?jo(wh,r)?t+"":t+"px":t,JE=(t,r,a)=>{const u=wA(r);Xe(a)||a===""?Q0(t,u):Uc(t,u,_A(a,u))},AA=(t,r,a)=>{const u=r.keep_values,f={set:(A,M,H)=>{const Y=et.fromDom(A);Re(r.url_converter)&&Ve(M)&&(M=r.url_converter.call(r.url_converter_scope||a(),String(M),H,A));const ue="data-mce-"+H;v1(Y,ue,M),v1(Y,H,M)},get:(A,M)=>{const H=et.fromDom(A);return aa(H,"data-mce-"+M)||aa(H,M)}},y={style:{set:(A,M)=>{const H=et.fromDom(A);u&&v1(H,XE,M),ml(H,"style"),ie(M)&&au(H,t.parse(M))},get:A=>{const M=et.fromDom(A),H=aa(M,XE)||aa(M,"style");return t.serialize(t.parse(H),Ms(M))}}};return u&&(y.href=y.src=f),y},Ai=(t,r={})=>{const a={},u=window,f={};let y=0;const A=!0,M=!0,H=Uu.forElement(et.fromDom(t),{contentCssCors:r.contentCssCors,referrerPolicy:r.referrerPolicy,crossOrigin:Gt=>{const on=r.crossOrigin;if(Re(on))return on(Gt,"stylesheet")}}),Y=[],ue=r.schema?r.schema:Rf({}),me=d0({url_converter:r.url_converter,url_converter_scope:r.url_converter_scope},r.schema),Se=r.ownEvents?new bp:bp.Event,Oe=ue.getBlockElements(),Ke=Gt=>ie(Gt)?jo(Oe,Gt):No(Gt)&&(jo(Oe,Gt.nodeName)||kn(ue,Gt)),Ze=Gt=>Gt&&t&&ie(Gt)?t.getElementById(Gt):Gt,We=Gt=>{const on=Ze(Gt);return Ve(on)?et.fromDom(on):null},Ct=(Gt,on,Eo="")=>{let po;const Ps=We(Gt);if(Ve(Ps)&&sa(Ps)){const Ci=SY[on];Ci&&Ci.get?po=Ci.get(Ps.dom,on):po=aa(Ps,on)}return Ve(po)?po:Eo},Et=Gt=>{const on=Ze(Gt);return Xe(on)?[]:on.attributes},Pt=(Gt,on,Eo)=>{as(Gt,po=>{if(No(po)){const Ps=et.fromDom(po),Ci=Eo===""?null:Eo,pc=aa(Ps,on),lS=SY[on];lS&&lS.set?lS.set(Ps.dom,Ci,on):v1(Ps,on,Ci),pc!==Ci&&r.onSetAttrib&&r.onSetAttrib({attrElm:Ps.dom,attrName:on,attrValue:Ci})}})},Kt=(Gt,on)=>Gt.cloneNode(on),In=()=>r.root_element||t.body,ho=Gt=>{const on=$S(Gt);return{x:on.x,y:on.y,w:on.width,h:on.height}},Kn=(Gt,on)=>Km(t.body,Ze(Gt),on),Sn=(Gt,on,Eo)=>{as(Gt,po=>{const Ps=et.fromDom(po);JE(Ps,on,Eo),r.update_styles&&kO(me,Ps)})},Dt=(Gt,on)=>{as(Gt,Eo=>{const po=et.fromDom(Eo);Xn(on,(Ps,Ci)=>{JE(po,Ci,Ps)}),r.update_styles&&kO(me,po)})},Qe=(Gt,on,Eo)=>{const po=Ze(Gt);if(!(Xe(po)||!va(po)&&!sy(po)))return Eo?Ga(et.fromDom(po),wA(on)):(on=on.replace(/-(\D)/g,(Ps,Ci)=>Ci.toUpperCase()),on==="float"&&(on="cssFloat"),po.style?po.style[on]:void 0)},Xt=Gt=>{const on=Ze(Gt);if(!on)return{w:0,h:0};let Eo=Qe(on,"width"),po=Qe(on,"height");return(!Eo||Eo.indexOf("px")===-1)&&(Eo="0"),(!po||po.indexOf("px")===-1)&&(po="0"),{w:parseInt(Eo,10)||on.offsetWidth||on.clientWidth,h:parseInt(po,10)||on.offsetHeight||on.clientHeight}},qn=Gt=>{const on=Ze(Gt),Eo=Kn(on),po=Xt(on);return{x:Eo.x,y:Eo.y,w:po.w,h:po.h}},ss=(Gt,on)=>{if(!Gt)return!1;const Eo=Ae(Gt)?Gt:[Gt];return wn(Eo,po=>fr(et.fromDom(po),on))},Gs=(Gt,on,Eo,po)=>{const Ps=[];let Ci=Ze(Gt);po=po===void 0;const pc=Eo||(In().nodeName!=="BODY"?In().parentNode:null);if(ie(on))if(on==="*")on=No;else{const lS=on;on=By=>ss(By,lS)}for(;Ci&&!(Ci===pc||Xe(Ci.nodeType)||Sr(Ci)||$v(Ci));){if(!on||on(Ci))if(po)Ps.push(Ci);else return[Ci];Ci=Ci.parentNode}return po?Ps:null},Or=(Gt,on,Eo)=>{const po=Gs(Gt,on,Eo,!1);return po&&po.length>0?po[0]:null},Yr=(Gt,on,Eo)=>{let po=on;if(Gt){ie(on)&&(po=Ps=>ss(Ps,on));for(let Ps=Gt[Eo];Ps;Ps=Ps[Eo])if(Re(po)&&po(Ps))return Ps}return null},tl=(Gt,on)=>Yr(Gt,on,"nextSibling"),nl=(Gt,on)=>Yr(Gt,on,"previousSibling"),Cd=Gt=>Re(Gt.querySelectorAll),lo=(Gt,on)=>{var Eo,po;const Ps=(po=(Eo=Ze(on))!==null&&Eo!==void 0?Eo:r.root_element)!==null&&po!==void 0?po:t;return Cd(Ps)?to(Ps.querySelectorAll(Gt)):[]},as=function(Gt,on,Eo){const po=Eo??this;if(Ae(Gt)){const Ps=[];return hy(Gt,(Ci,pc)=>{const lS=Ze(Ci);lS&&Ps.push(on.call(po,lS,pc))}),Ps}else{const Ps=Ze(Gt);return Ps?on.call(po,Ps):!1}},ri=(Gt,on)=>{as(Gt,Eo=>{Xn(on,(po,Ps)=>{Pt(Eo,Ps,po)})})},Ni=(Gt,on)=>{as(Gt,Eo=>{const po=et.fromDom(Eo);Hp(po,on)})},es=(Gt,on,Eo,po,Ps)=>as(Gt,Ci=>{const pc=ie(on)?t.createElement(on):on;return Ve(Eo)&&ri(pc,Eo),po&&(!ie(po)&&po.nodeType?pc.appendChild(po):ie(po)&&Ni(pc,po)),Ps?pc:Ci.appendChild(pc)}),uo=(Gt,on,Eo)=>es(t.createElement(Gt),Gt,on,Eo,!0),Io=Gv.decode,Ds=Gv.encodeAllRaw,qs=(Gt,on,Eo="")=>{let po="<"+Gt;for(const Ps in on)Vs(on,Ps)&&(po+=" "+Ps+'="'+Ds(on[Ps])+'"');return Sc(Eo)&&jo(ue.getVoidElements(),Gt)?po+" />":po+">"+Eo+"</"+Gt+">"},qi=Gt=>{const on=t.createElement("div"),Eo=t.createDocumentFragment();Eo.appendChild(on),Gt&&(on.innerHTML=Gt);let po;for(;po=on.firstChild;)Eo.appendChild(po);return Eo.removeChild(on),Eo},Aa=(Gt,on)=>as(Gt,Eo=>{const po=et.fromDom(Eo);return on&&ct(mr(po),Ps=>{ti(Ps)&&Ps.dom.length===0?Hi(Ps):Mc(po,Ps)}),Hi(po),po.dom}),yv=Gt=>as(Gt,on=>{const Eo=on.attributes;for(let po=Eo.length-1;po>=0;po--)on.removeAttributeNode(Eo.item(po))}),oh=Gt=>me.parse(Gt),M0=(Gt,on)=>me.serialize(Gt,on),Cb=Gt=>{if(gx!==Ai.DOM&&t===document){if(a[Gt])return;a[Gt]=!0}let on=t.getElementById("mceDefaultStyles");if(!on){on=t.createElement("style"),on.id="mceDefaultStyles",on.type="text/css";const Eo=t.head;Eo.firstChild?Eo.insertBefore(on,Eo.firstChild):Eo.appendChild(on)}on.styleSheet?on.styleSheet.cssText+=Gt:on.appendChild(t.createTextNode(Gt))},_p=Gt=>{Gt||(Gt=""),ct(Gt.split(","),on=>{f[on]=!0,H.load(on).catch(gt)})},Em=(Gt,on,Eo)=>{as(Gt,po=>{if(No(po)){const Ps=et.fromDom(po),Ci=on.split(" ");ct(Ci,pc=>{Ve(Eo)?(Eo?_l:il)(Ps,pc):Ri(Ps,pc)})}})},P0=(Gt,on)=>{Em(Gt,on,!0)},px=(Gt,on)=>{Em(Gt,on,!1)},Ts=(Gt,on)=>{const Eo=We(Gt),po=on.split(" ");return Ve(Eo)&&sr(po,Ps=>Gb(Eo,Ps))},ii=Gt=>{as(Gt,on=>Q0(et.fromDom(on),"display"))},fc=Gt=>{as(Gt,on=>Uc(et.fromDom(on),"display","none"))},Gu=Gt=>{const on=We(Gt);return Ve(on)&&Jr(gl(on,"display"),"none")},Ed=Gt=>(Gt||"mce_")+y++,gu=Gt=>{const on=We(Gt);return Ve(on)?No(on.dom)?on.dom.outerHTML:RE(on):""},Ul=(Gt,on)=>{as(Gt,Eo=>{No(Eo)&&(Eo.outerHTML=on)})},zl=(Gt,on)=>{const Eo=Ze(on);return as(Gt,po=>{const Ps=Eo==null?void 0:Eo.parentNode,Ci=Eo==null?void 0:Eo.nextSibling;return Ps&&(Ci?Ps.insertBefore(po,Ci):Ps.appendChild(po)),po})},wm=(Gt,on,Eo)=>as(on,po=>{var Ps;const Ci=Ae(on)?Gt.cloneNode(!0):Gt;return Eo&&hy(EA(po.childNodes),pc=>{Ci.appendChild(pc)}),(Ps=po.parentNode)===null||Ps===void 0||Ps.replaceChild(Ci,po),po}),Ny=(Gt,on)=>{if(Gt.nodeName!==on.toUpperCase()){const Eo=uo(on);return hy(Et(Gt),po=>{Pt(Eo,po.nodeName,Ct(Gt,po.nodeName))}),wm(Eo,Gt,!0),Eo}else return Gt},QC=(Gt,on)=>{let Eo=Gt;for(;Eo;){let po=on;for(;po&&Eo!==po;)po=po.parentNode;if(Eo===po)break;Eo=Eo.parentNode}return!Eo&&Gt.ownerDocument?Gt.ownerDocument.documentElement:Eo},aS=(Gt,on,Eo)=>Ce(on)?Tf(ue,Gt,{...Eo,isContent:Ps=>{const Ci=Ps.nodeName.toLowerCase();return!!on[Ci]}}):Tf(ue,Gt,Eo),mL=()=>t.createRange(),gL=(Gt,on,Eo)=>{let po=mL(),Ps,Ci;if(Gt&&on&&Gt.parentNode&&on.parentNode){const pc=Gt.parentNode;return po.setStart(pc,Yv(Gt)),po.setEnd(on.parentNode,Yv(on)),Ps=po.extractContents(),po=mL(),po.setStart(on.parentNode,Yv(on)+1),po.setEnd(pc,Yv(Gt)+1),Ci=po.extractContents(),pc.insertBefore(GE(gx,Ps,ue),Gt),Eo?pc.insertBefore(Eo,Gt):pc.insertBefore(on,Gt),pc.insertBefore(GE(gx,Ci,ue),Gt),Aa(Gt),Eo||on}else return},C2=(Gt,on,Eo,po)=>{if(Ae(Gt)){let Ps=Gt.length;const Ci=[];for(;Ps--;)Ci[Ps]=C2(Gt[Ps],on,Eo,po);return Ci}else return r.collect&&(Gt===t||Gt===u)&&Y.push([Gt,on,Eo,po]),Se.bind(Gt,on,Eo,po||gx)},Ly=(Gt,on,Eo)=>{if(Ae(Gt)){let po=Gt.length;const Ps=[];for(;po--;)Ps[po]=Ly(Gt[po],on,Eo);return Ps}else{if(Y.length>0&&(Gt===t||Gt===u)){let po=Y.length;for(;po--;){const[Ps,Ci,pc]=Y[po];Gt===Ps&&(!on||on===Ci)&&(!Eo||Eo===pc)&&Se.unbind(Ps,Ci,pc)}}return Se.unbind(Gt,on,Eo)}},mx=(Gt,on,Eo)=>Se.dispatch(Gt,on,Eo),t5=(Gt,on,Eo)=>Se.dispatch(Gt,on,Eo),vL=Gt=>{if(Gt&&va(Gt)){const on=Gt.getAttribute("data-mce-contenteditable");return on&&on!=="inherit"?on:Gt.contentEditable!=="inherit"?Gt.contentEditable:null}else return null},gx={doc:t,settings:r,win:u,files:f,stdMode:A,boxModel:M,styleSheetLoader:H,boundEvents:Y,styles:me,schema:ue,events:Se,isBlock:Ke,root:null,clone:Kt,getRoot:In,getViewPort:ho,getRect:qn,getSize:Xt,getParent:Or,getParents:Gs,get:Ze,getNext:tl,getPrev:nl,select:lo,is:ss,add:es,create:uo,createHTML:qs,createFragment:qi,remove:Aa,setStyle:Sn,getStyle:Qe,setStyles:Dt,removeAllAttribs:yv,setAttrib:Pt,setAttribs:ri,getAttrib:Ct,getPos:Kn,parseStyle:oh,serializeStyle:M0,addStyle:Cb,loadCSS:_p,addClass:P0,removeClass:px,hasClass:Ts,toggleClass:Em,show:ii,hide:fc,isHidden:Gu,uniqueId:Ed,setHTML:Ni,getOuterHTML:gu,setOuterHTML:Ul,decode:Io,encode:Ds,insertAfter:zl,replace:wm,rename:Ny,findCommonAncestor:QC,run:as,getAttribs:Et,isEmpty:aS,createRng:mL,nodeIndex:Yv,split:gL,bind:C2,unbind:Ly,fire:t5,dispatch:mx,getContentEditable:vL,getContentEditableParent:Gt=>{const on=In();let Eo=null;for(let po=Gt;po&&po!==on&&(Eo=vL(po),Eo===null);po=po.parentNode);return Eo},isEditable:Gt=>{if(Ve(Gt)){const on=No(Gt)?Gt:Gt.parentElement;return Ve(on)&&va(on)&&Bu(et.fromDom(on))}else return!1},destroy:()=>{if(Y.length>0){let Gt=Y.length;for(;Gt--;){const[on,Eo,po]=Y[Gt];Se.unbind(on,Eo,po)}}Xn(f,(Gt,on)=>{H.unload(on),delete f[on]})},isChildOf:(Gt,on)=>Gt===on||on.contains(Gt),dumpRng:Gt=>"startContainer: "+Gt.startContainer.nodeName+", startOffset: "+Gt.startOffset+", endContainer: "+Gt.endContainer.nodeName+", endOffset: "+Gt.endOffset},SY=AA(me,r,ot(gx));return gx};Ai.DOM=Ai(document),Ai.nodeIndex=Yv;const TA=Ai.DOM,QE=0,_h=1,f0=2,Dr=3;class Xl{constructor(r={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=r}_setReferrerPolicy(r){this.settings.referrerPolicy=r}_setCrossOrigin(r){this.settings.crossOrigin=r}loadScript(r){return new Promise((a,u)=>{const f=TA;let y;const A=()=>{f.remove(Y),y&&(y.onerror=y.onload=y=null)},M=()=>{A(),a()},H=()=>{A(),u("Failed to load script: "+r)},Y=f.uniqueId();y=document.createElement("script"),y.id=Y,y.type="text/javascript",y.src=Zn._addCacheSuffix(r),this.settings.referrerPolicy&&f.setAttrib(y,"referrerpolicy",this.settings.referrerPolicy);const ue=this.settings.crossOrigin;if(Re(ue)){const me=ue(r);me!==void 0&&f.setAttrib(y,"crossorigin",me)}y.onload=M,y.onerror=H,(document.getElementsByTagName("head")[0]||document.body).appendChild(y)})}isDone(r){return this.states[r]===f0}markDone(r){this.states[r]=f0}add(r){const a=this;return a.queue.push(r),a.states[r]===void 0&&(a.states[r]=QE),new Promise((f,y)=>{a.scriptLoadedCallbacks[r]||(a.scriptLoadedCallbacks[r]=[]),a.scriptLoadedCallbacks[r].push({resolve:f,reject:y})})}load(r){return this.add(r)}remove(r){delete this.states[r],delete this.scriptLoadedCallbacks[r]}loadQueue(){const r=this.queue;return this.queue=[],this.loadScripts(r)}loadScripts(r){const a=this,u=(H,Y)=>{dr(a.scriptLoadedCallbacks,Y).each(ue=>{ct(ue,me=>me[H](Y))}),delete a.scriptLoadedCallbacks[Y]},f=H=>{const Y=Ge(H,ue=>ue.status==="rejected");return Y.length>0?Promise.reject(Ao(Y,({reason:ue})=>Ae(ue)?ue:[ue])):Promise.resolve()},y=H=>Promise.allSettled(fn(H,Y=>a.states[Y]===f0?(u("resolve",Y),Promise.resolve()):a.states[Y]===Dr?(u("reject",Y),Promise.reject(Y)):(a.states[Y]=_h,a.loadScript(Y).then(()=>{a.states[Y]=f0,u("resolve",Y);const ue=a.queue;return ue.length>0?(a.queue=[],y(ue).then(f)):Promise.resolve()},()=>(a.states[Y]=Dr,u("reject",Y),Promise.reject(Y)))))),A=H=>(a.loading=!0,y(H).then(Y=>{a.loading=!1;const ue=a.queueLoadedCallbacks.shift();return _e.from(ue).each(wo),f(Y)})),M=op(r);return a.loading?new Promise((H,Y)=>{a.queueLoadedCallbacks.push(()=>{A(M).then(H,Y)})}):A(M)}}Xl.ScriptLoader=new Xl;const b1=(t,r)=>{const a=t.indexOf(r);return a!==-1&&t.indexOf(r,a+1)>a},eC=t=>be(t)&&jo(t,"raw"),la=t=>Ae(t)&&t.length>1,fy={},y1=zo("en"),ew=()=>dr(fy,y1.get()),yp={getData:()=>fs(fy,t=>({...t})),setCode:t=>{t&&y1.set(t)},getCode:()=>y1.get(),add:(t,r)=>{let a=fy[t];a||(fy[t]=a={});const u=fn(cn(r),f=>f.toLowerCase());Xn(r,(f,y)=>{const A=y.toLowerCase();A!==y&&b1(u,A)?(jo(r,A)||(a[A]=f),a[y]=f):a[A]=f})},translate:t=>{const r=ew().getOr({}),a=M=>Re(M)?Object.prototype.toString.call(M):u(M)?"":""+M,u=M=>M===""||M===null||M===void 0,f=M=>{const H=a(M);return jo(r,H)?a(r[H]):dr(r,H.toLowerCase()).map(a).getOr(H)},y=M=>M.replace(/{context:\w+}$/,""),A=M=>M.replaceAll("...",Dm);if(u(t))return"";if(eC(t))return A(a(t.raw));if(la(t)){const M=t.slice(1),H=f(t[0]).replace(/\{([0-9]+)\}/g,(Y,ue)=>jo(M,ue)?a(M[ue]):Y);return A(y(H))}return A(y(f(t)))},isRtl:()=>ew().bind(t=>dr(t,"_dir")).exists(t=>t==="rtl"),hasCode:t=>jo(fy,t)},Gc=()=>{const t=[],r={},a={},u=[],f=(Ze,We)=>{const Ct=Ge(u,Et=>Et.name===Ze&&Et.state===We);ct(Ct,Et=>Et.resolve())},y=Ze=>jo(r,Ze),A=Ze=>jo(a,Ze),M=Ze=>{if(a[Ze])return a[Ze].instance},H=(Ze,We)=>{const Ct=yp.getCode(),Et=","+(We||"")+",";!Ct||We&&Et.indexOf(","+Ct+",")===-1||Xl.ScriptLoader.add(r[Ze]+"/langs/"+Ct+".js")},Y=(Ze,We)=>{Gc.languageLoad!==!1&&(y(Ze)?H(Ze,We):Ke(Ze,"loaded").then(()=>H(Ze,We)))},ue=(Ze,We)=>(t.push(We),a[Ze]={instance:We},f(Ze,"added"),We),me=Ze=>{delete r[Ze],delete a[Ze]},Se=(Ze,We)=>ie(We)?ie(Ze)?{prefix:"",resource:We,suffix:""}:{prefix:Ze.prefix,resource:We,suffix:Ze.suffix}:We,Oe=(Ze,We)=>{if(r[Ze])return Promise.resolve();let Ct=ie(We)?We:We.prefix+We.resource+We.suffix;Ct.indexOf("/")!==0&&Ct.indexOf("://")===-1&&(Ct=Gc.baseURL+"/"+Ct),r[Ze]=Ct.substring(0,Ct.lastIndexOf("/"));const Et=()=>(f(Ze,"loaded"),Promise.resolve());return a[Ze]?Et():Xl.ScriptLoader.add(Ct).then(Et)},Ke=(Ze,We="added")=>We==="added"&&A(Ze)||We==="loaded"&&y(Ze)?Promise.resolve():new Promise(Ct=>{u.push({name:Ze,state:We,resolve:Ct})});return{items:t,urls:r,lookup:a,get:M,requireLangPack:Y,add:ue,remove:me,createUrl:Se,load:Oe,waitFor:Ke}};Gc.languageLoad=!0,Gc.baseURL="",Gc.PluginManager=Gc(),Gc.ThemeManager=Gc(),Gc.ModelManager=Gc();const kf=ot("mce-annotation"),Qp=ot("data-mce-annotation"),em=ot("data-mce-annotation-uid"),Kg=ot("data-mce-annotation-active"),Jm=ot("data-mce-annotation-classes"),Qm=ot("data-mce-annotation-attrs"),tw=t=>r=>Do(r,t),tC=(t,r)=>{const a=t.selection.getRng(),u=et.fromDom(a.startContainer),f=et.fromDom(t.getBody()),y=r.fold(()=>"."+kf(),H=>`[${Qp()}="${H}"]`),A=qh(u,a.startOffset).getOr(u);return Pc(A,y,tw(f)).bind(H=>vh(H,`${em()}`).bind(Y=>vh(H,`${Qp()}`).map(ue=>{const me=S1(t,Y);return{uid:Y,name:ue,elements:me}})))},MO=t=>sa(t)&&Gb(t,kf()),PO=(t,r)=>ma(t,"data-mce-bogus")||$i(t,'[data-mce-bogus="all"]',tw(r)),S1=(t,r)=>{const a=et.fromDom(t.getBody()),u=un(a,`[${em()}="${r}"]`);return Ge(u,f=>!PO(f,a))},nC=(t,r)=>{const a=et.fromDom(t.getBody()),u=un(a,`[${Qp()}="${r}"]`),f={};return ct(u,y=>{if(!PO(y,a)){const A=aa(y,em()),M=dr(f,A).getOr([]);f[A]=M.concat([y])}}),f},oC=(t,r)=>{const a=zo({}),u=()=>({listeners:[],previous:kc()}),f=(me,Se)=>{y(me,Oe=>(Se(Oe),Oe))},y=(me,Se)=>{const Oe=a.get(),Ke=dr(Oe,me).getOrThunk(u),Ze=Se(Ke);Oe[me]=Ze,a.set(Oe)},A=(me,Se,Oe)=>{f(me,Ke=>{ct(Ke.listeners,Ze=>Ze(!0,me,{uid:Se,nodes:fn(Oe,We=>We.dom)}))})},M=me=>{f(me,Se=>{ct(Se.listeners,Oe=>Oe(!1,me))})},H=(me,Se)=>{ct(S1(t,me),Oe=>{Se?pa(Oe,Kg(),"true"):ml(Oe,Kg())})},Y=Iu(()=>{const me=At(r.getNames());ct(me,Se=>{y(Se,Oe=>{const Ke=Oe.previous.get();return tC(t,_e.some(Se)).fold(()=>{Ke.each(Ze=>{M(Se),Oe.previous.clear(),H(Ze,!1)})},({uid:Ze,name:We,elements:Ct})=>{Jr(Ke,Ze)||(Ke.each(Et=>H(Et,!1)),A(We,Ze,Ct),Oe.previous.set(Ze),H(Ze,!0))}),{previous:Oe.previous,listeners:Oe.listeners}})})},30);return t.on("remove",()=>{Y.cancel()}),t.on("NodeChange",()=>{Y.throttle()}),{addListener:(me,Se)=>{y(me,Oe=>({previous:Oe.previous,listeners:Oe.listeners.concat([Se])}))}}},sC=(t,r)=>{const a=Qp(),u=y=>_e.from(y.attr(a)).bind(r.lookup),f=y=>{var A,M;y.attr(em(),null),y.attr(Qp(),null),y.attr(Kg(),null);const H=_e.from(y.attr(Qm())).map(Se=>Se.split(",")).getOr([]),Y=_e.from(y.attr(Jm())).map(Se=>Se.split(",")).getOr([]);ct(H,Se=>y.attr(Se,null));const ue=(M=(A=y.attr("class"))===null||A===void 0?void 0:A.split(" "))!==null&&M!==void 0?M:[],me=Ls(ue,[kf()].concat(Y));y.attr("class",me.length>0?me.join(" "):null),y.attr(Jm(),null),y.attr(Qm(),null)};t.serializer.addTempAttr(Kg()),t.serializer.addAttributeFilter(a,y=>{for(const A of y)u(A).each(M=>{M.persistent===!1&&(A.name==="span"?A.unwrap():f(A))})})},Yg=()=>{const t={};return{register:(f,y)=>{t[f]={name:f,settings:y}},lookup:f=>dr(t,f).map(y=>y.settings),getNames:()=>cn(t)}},py=(t,r,a=qt)=>{const u=new Ki(t,r),f=y=>{let A;do A=u[y]();while(A&&!Un(A)&&!a(A));return _e.from(A).filter(Un)};return{current:()=>_e.from(u.current()).filter(Un),next:()=>f("next"),prev:()=>f("prev"),prev2:()=>f("prev2")}},tm=(t,r)=>{const a=r||(A=>t.isBlock(A)||ba(A)||di(A)),u=(A,M,H,Y)=>{if(Un(A)){const ue=Y(A,M,A.data);if(ue!==-1)return _e.some({container:A,offset:ue})}return H().bind(ue=>u(ue.container,ue.offset,H,Y))};return{backwards:(A,M,H,Y)=>{const ue=py(A,Y??t.getRoot(),a);return u(A,M,()=>ue.prev().map(me=>({container:me,offset:me.length})),H).getOrNull()},forwards:(A,M,H,Y)=>{const ue=py(A,Y??t.getRoot(),a);return u(A,M,()=>ue.next().map(me=>({container:me,offset:0})),H).getOrNull()}}},rC=["td","th"],nw=["thead","tbody","tfoot"],iC=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],aC=["li","dd","dt"],DA=["ul","ol","dl"],NO=["pre","script","textarea","style"],my=t=>{let r;return a=>(r=r||Xo(t,Tn),jo(r,Ms(a)))},MA=t=>Ms(t)==="table",Df=t=>sa(t)&&Ms(t)==="br",gy=my(iC),lC=my(DA),eg=my(aC),zu=my(nw),ee=my(rC),m=my(NO),C=t=>{const r=[];let a=t.dom;for(;a;)r.push(et.fromDom(a)),a=a.lastChild;return r},_=t=>{const r=un(t,"br"),a=Ge(C(t).slice(-1),Df);r.length===a.length&&ct(a,Hi)},I=()=>{const t=et.fromTag("br");return pa(t,"data-mce-bogus","1"),t},D=t=>{cd(t),qr(t,I())},N=(t,r)=>{Wa(t).each(a=>{Bd(a).each(u=>{r.isBlock(Ms(t))&&Df(a)&&r.isBlock(Ms(u))&&Hi(a)})})},V=Cc,q=Gl,Q=tu,ce=t=>t.insertContent(V,{preserve_zwsp:!0}),ne=No,he=Un,ye=t=>(he(t)&&(t=t.parentNode),ne(t)&&t.hasAttribute("data-mce-caret")),Ee=t=>he(t)&&q(t.data),Ne=t=>ye(t)||Ee(t),Le=t=>t.firstChild!==t.lastChild||!ba(t.firstChild),Me=(t,r)=>{var a;const f=((a=t.ownerDocument)!==null&&a!==void 0?a:document).createTextNode(V),y=t.parentNode;if(r){const A=t.previousSibling;if(he(A)){if(Ne(A))return A;if(It(A))return A.splitText(A.data.length-1)}y==null||y.insertBefore(f,t)}else{const A=t.nextSibling;if(he(A)){if(Ne(A))return A;if(Tt(A))return A.splitText(1),A}t.nextSibling?y==null||y.insertBefore(f,t.nextSibling):y==null||y.appendChild(f)}return f},ze=t=>{const r=t.container();return Un(r)?r.data.charAt(t.offset())===V||t.isAtStart()&&Ee(r.previousSibling):!1},Ye=t=>{const r=t.container();return Un(r)?r.data.charAt(t.offset()-1)===V||t.isAtEnd()&&Ee(r.nextSibling):!1},Nt=(t,r,a)=>{var u;const y=((u=r.ownerDocument)!==null&&u!==void 0?u:document).createElement(t);y.setAttribute("data-mce-caret",a?"before":"after"),y.setAttribute("data-mce-bogus","all"),y.appendChild(I().dom);const A=r.parentNode;return a?A==null||A.insertBefore(y,r):r.nextSibling?A==null||A.insertBefore(y,r.nextSibling):A==null||A.appendChild(y),y},Tt=t=>he(t)&&t.data[0]===V,It=t=>he(t)&&t.data[t.data.length-1]===V,bn=t=>{var r;const a=t.getElementsByTagName("br"),u=a[a.length-1];Vg(u)&&((r=u.parentNode)===null||r===void 0||r.removeChild(u))},Ft=t=>t&&t.hasAttribute("data-mce-caret")?(bn(t),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("data-mce-style"),t.removeAttribute("_moz_abspos"),t):null,gn=t=>ye(t.startContainer),Pn=Math.round,ao=t=>t?{left:Pn(t.left),top:Pn(t.top),bottom:Pn(t.bottom),right:Pn(t.right),width:Pn(t.width),height:Pn(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Vo=(t,r)=>(t=ao(t),r||(t.left=t.left+t.width),t.right=t.left,t.width=0,t),qo=(t,r)=>t.left===r.left&&t.top===r.top&&t.bottom===r.bottom&&t.right===r.right,Us=(t,r,a)=>t>=0&&t<=Math.min(r.height,a.height)/2,bs=(t,r)=>{const a=Math.min(r.height/2,t.height/2);return t.bottom-a<r.top?!0:t.top>r.bottom?!1:Us(r.top-t.bottom,t,r)},zs=(t,r)=>t.top>r.bottom?!0:t.bottom<r.top?!1:Us(r.bottom-t.top,t,r),us=(t,r,a)=>r>=t.left&&r<=t.right&&a>=t.top&&a<=t.bottom,or=t=>On(t,(r,a)=>r.fold(()=>_e.some(a),u=>{const f=Math.min(a.left,u.left),y=Math.min(a.top,u.top),A=Math.max(a.right,u.right),M=Math.max(a.bottom,u.bottom);return _e.some({top:y,right:A,bottom:M,left:f,width:A-f,height:M-y})}),_e.none()),jr=(t,r,a)=>{const u=Math.max(Math.min(r,t.left+t.width),t.left),f=Math.max(Math.min(a,t.top+t.height),t.top);return Math.sqrt((r-u)*(r-u)+(a-f)*(a-f))},Di=(t,r)=>Math.max(0,Math.min(t.bottom,r.bottom)-Math.max(t.top,r.top)),hi=t=>{const r=t.startContainer,a=t.startOffset;return r===t.endContainer&&r.hasChildNodes()&&t.endOffset===a+1?r.childNodes[a]:null},Fl=(t,r)=>{if(No(t)&&t.hasChildNodes()){const a=t.childNodes,u=Dd(r,0,a.length-1);return a[u]}else return t},Ti=(t,r)=>{if(!(r<0&&No(t)&&t.hasChildNodes()))return Fl(t,r)},Mr=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Vr=t=>ie(t)&&t.charCodeAt(0)>=768&&Mr.test(t),ir=(...t)=>r=>{for(let a=0;a<t.length;a++)if(t[a](r))return!0;return!1},cc=(...t)=>r=>{for(let a=0;a<t.length;a++)if(!t[a](r))return!1;return!0},ca=cu,Xa=di,uc=ba,nm=Un,Mf=Nc(["script","style","textarea"]),ju=Nc(["img","input","textarea","hr","iframe","video","audio","object","embed"]),xc=Nc(["table"]),Fr=Ne,zi=t=>Fr(t)?!1:nm(t)?!Mf(t.parentNode):ju(t)||uc(t)||xc(t)||Ja(t),yl=t=>No(t)&&t.getAttribute("unselectable")==="true",Ja=t=>!yl(t)&&Xa(t),Tl=(t,r)=>{for(let a=t.parentNode;a&&a!==r;a=a.parentNode){if(Ja(a))return!1;if(ca(a))return!0}return!0},ua=t=>Ja(t)?!On(to(t.getElementsByTagName("*")),(r,a)=>r||ca(a),!1):!1,Xg=t=>ju(t)||ua(t),C1=(t,r)=>zi(t)&&Tl(t,r),PA=No,eD=zi,NA=Hv("display","block table"),tD=Hv("float","left right"),E1=cc(PA,eD,Cn(tD)),LO=Cn(Hv("white-space","pre pre-line pre-wrap")),w1=Un,LA=ba,BO=Ai.nodeIndex,BA=Ti,Jg=t=>t?t.createRange():Ai.DOM.createRng(),ow=t=>ie(t)&&/[\r\n\t ]/.test(t),VO=t=>!!t.setStart&&!!t.setEnd,cC=t=>{const r=t.startContainer,a=t.startOffset;if(ow(t.toString())&&LO(r.parentNode)&&Un(r)){const u=r.data;if(ow(u[a-1])||ow(u[a+1]))return!0}return!1},sw=t=>{const r=t.ownerDocument,a=Jg(r),u=r.createTextNode(Bi),f=t.parentNode;f.insertBefore(u,t),a.setStart(u,0),a.setEnd(u,1);const y=ao(a.getBoundingClientRect());return f.removeChild(u),y},VA=t=>{const r=t.startContainer,a=t.endContainer,u=t.startOffset,f=t.endOffset;if(r===a&&Un(a)&&u===0&&f===1){const y=t.cloneRange();return y.setEndAfter(a),tg(y)}else return null},FO=t=>t.left===0&&t.right===0&&t.top===0&&t.bottom===0,tg=t=>{var r;let a;const u=t.getClientRects();return u.length>0?a=ao(u[0]):a=ao(t.getBoundingClientRect()),!VO(t)&&LA(t)&&FO(a)?sw(t):FO(a)&&VO(t)&&(r=VA(t))!==null&&r!==void 0?r:a},Xv=(t,r)=>{const a=Vo(t,r);return a.width=1,a.right=a.left+1,a},uC=t=>{const r=[],a=A=>{A.height!==0&&(r.length>0&&qo(A,r[r.length-1])||r.push(A))},u=(A,M)=>{const H=Jg(A.ownerDocument);if(M<A.data.length){if(Vr(A.data[M]))return;if(Vr(A.data[M-1])&&(H.setStart(A,M),H.setEnd(A,M+1),!cC(H))){a(Xv(tg(H),!1));return}}M>0&&(H.setStart(A,M-1),H.setEnd(A,M),cC(H)||a(Xv(tg(H),!1))),M<A.data.length&&(H.setStart(A,M),H.setEnd(A,M+1),cC(H)||a(Xv(tg(H),!0)))},f=t.container(),y=t.offset();if(w1(f))return u(f,y),r;if(PA(f))if(t.isAtEnd()){const A=BA(f,y);w1(A)&&u(A,A.data.length),E1(A)&&!LA(A)&&a(Xv(tg(A),!1))}else{const A=BA(f,y);if(w1(A)&&u(A,0),E1(A)&&t.isAtEnd())return a(Xv(tg(A),!1)),r;const M=BA(t.container(),t.offset()-1);E1(M)&&!LA(M)&&(NA(M)||NA(A)||!E1(A))&&a(Xv(tg(M),!1)),E1(A)&&a(Xv(tg(A),!0))}return r},an=(t,r,a)=>{const u=()=>(w1(t),r===0),f=()=>w1(t)?r>=t.data.length:r>=t.childNodes.length,y=()=>{const ue=Jg(t.ownerDocument);return ue.setStart(t,r),ue.setEnd(t,r),ue},A=()=>(a||(a=uC(an(t,r))),a),M=()=>A().length>0,H=ue=>ue&&t===ue.container()&&r===ue.offset(),Y=ue=>BA(t,ue?r-1:r);return{container:ot(t),offset:ot(r),toRange:y,getClientRects:A,isVisible:M,isAtStart:u,isAtEnd:f,isEqual:H,getNode:Y}};an.fromRangeStart=t=>an(t.startContainer,t.startOffset),an.fromRangeEnd=t=>an(t.endContainer,t.endOffset),an.after=t=>an(t.parentNode,BO(t)+1),an.before=t=>an(t.parentNode,BO(t)),an.isAbove=(t,r)=>Ar(en(r.getClientRects()),tn(t.getClientRects()),bs).getOr(!1),an.isBelow=(t,r)=>Ar(tn(r.getClientRects()),en(t.getClientRects()),zs).getOr(!1),an.isAtStart=t=>t?t.isAtStart():!1,an.isAtEnd=t=>t?t.isAtEnd():!1,an.isTextPosition=t=>t?Un(t.container()):!1,an.isElementPosition=t=>!an.isTextPosition(t);const ef=(t,r)=>{Un(r)&&r.data.length===0&&t.remove(r)},dC=(t,r,a)=>{r.insertNode(a),ef(t,a.previousSibling),ef(t,a.nextSibling)},rw=(t,r,a)=>{const u=_e.from(a.firstChild),f=_e.from(a.lastChild);r.insertNode(a),u.each(y=>ef(t,y.previousSibling)),f.each(y=>ef(t,y.nextSibling))},FA=(t,r,a)=>{$v(a)?rw(t,r,a):dC(t,r,a)},Qg=Un,jd=Vg,iw=Ai.nodeIndex,nD=t=>{const r=t.parentNode;return jd(r)?nD(r):r},HA=t=>t?Ru(t.childNodes,(r,a)=>(jd(a)&&a.nodeName!=="BR"?r=r.concat(HA(a)):r.push(a),r),[]):[],oD=(t,r)=>{let a=t;for(;(a=a.previousSibling)&&Qg(a);)r+=a.data.length;return r},_1=t=>r=>t===r,HO=t=>{let r,a;r=HA(nD(t)),a=$h(r,_1(t),t),r=r.slice(0,a+1);const u=Ru(r,(f,y,A)=>(Qg(y)&&Qg(r[A-1])&&f++,f),0);return r=Ec(r,Nc([t.nodeName])),a=$h(r,_1(t),t),a-u},Jv=t=>(Qg(t)?"text()":t.nodeName.toLowerCase())+"["+HO(t)+"]",$O=(t,r,a)=>{const u=[];for(let f=r.parentNode;f&&f!==t;f=f.parentNode)u.push(f);return u},sD=(t,r)=>{let a=[],u=r.container(),f=r.offset(),y;if(Qg(u))y=oD(u,f);else{const M=u.childNodes;f>=M.length?(y="after",f=M.length-1):y="before",u=M[f]}a.push(Jv(u));let A=$O(t,u);return A=Ec(A,Cn(Vg)),a=a.concat(Nd(A,M=>Jv(M))),a.reverse().join("/")+","+y},Wd=(t,r,a)=>{let u=HA(t);return u=Ec(u,(f,y)=>!Qg(f)||!Qg(u[y-1])),u=Ec(u,Nc([r])),u[a]},ev=(t,r)=>{let a=t,u=0;for(;Qg(a);){const f=a.data.length;if(r>=u&&r<=u+f){t=a,r=r-u;break}if(!Qg(a.nextSibling)){t=a,r=f;break}u+=f,a=a.nextSibling}return Qg(t)&&r>t.data.length&&(r=t.data.length),an(t,r)},Pf=(t,r)=>{if(!r)return null;const a=r.split(","),u=a[0].split("/"),f=a.length>1?a[1]:"before",y=Ru(u,(A,M)=>{const H=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(M);return H?(H[1]==="text()"&&(H[1]="#text"),Wd(A,H[1],parseInt(H[2],10))):null},t);if(!y)return null;if(!Qg(y)&&y.parentNode){let A;return f==="after"?A=iw(y)+1:A=iw(y),an(y.parentNode,A)}return ev(y,parseInt(f,10))},$A=di,hC=(t,r,a)=>{let u=t(r.data.slice(0,a)).length;for(let f=r.previousSibling;f&&Un(f);f=f.previousSibling)u+=t(f.data).length;return u},rD=(t,r,a,u,f)=>{const y=f?u.startContainer:u.endContainer;let A=f?u.startOffset:u.endOffset;const M=[],H=t.getRoot();if(Un(y))M.push(a?hC(r,y,A):A);else{let Y=0;const ue=y.childNodes;A>=ue.length&&ue.length&&(Y=1,A=Math.max(0,ue.length-1)),M.push(t.nodeIndex(ue[A],a)+Y)}for(let Y=y;Y&&Y!==H;Y=Y.parentNode)M.push(t.nodeIndex(Y,a));return M},g4=(t,r,a,u)=>{const f=r.dom,y=rD(f,t,a,u,!0),A=r.isForward(),M=gn(u)?{isFakeCaret:!0}:{};if(r.isCollapsed())return{start:y,forward:A,...M};{const H=rD(f,t,a,u,!1);return{start:y,end:H,forward:A,...M}}},UO=(t,r,a)=>{let u=0;return Zn.each(t.select(r),f=>{if(f.getAttribute("data-mce-bogus")!=="all"){if(f===a)return!1;u++;return}}),u},iD=(t,r)=>{let a=r?t.startContainer:t.endContainer,u=r?t.startOffset:t.endOffset;if(No(a)&&a.nodeName==="TR"){const f=a.childNodes;a=f[Math.min(r?u:u-1,f.length-1)],a&&(u=r?0:a.childNodes.length,r?t.setStart(a,u):t.setEnd(a,u))}},wr=t=>(iD(t,!0),iD(t,!1),t),ms=(t,r)=>{if(No(t)&&(t=Fl(t,r),$A(t)))return t;if(Ne(t)){Un(t)&&ye(t)&&(t=t.parentNode);let a=t.previousSibling;if($A(a)||(a=t.nextSibling,$A(a)))return a}},aw=t=>ms(t.startContainer,t.startOffset)||ms(t.endContainer,t.endOffset),UA=(t,r,a)=>{const u=a.getNode(),f=a.getRng();if(u.nodeName==="IMG"||$A(u)){const A=u.nodeName;return{name:A,index:UO(a.dom,A,u)}}const y=aw(f);if(y){const A=y.tagName;return{name:A,index:UO(a.dom,A,y)}}return g4(t,a,r,f)},zO=t=>{const r=t.getRng();return{start:sD(t.dom.getRoot(),an.fromRangeStart(r)),end:sD(t.dom.getRoot(),an.fromRangeEnd(r)),forward:t.isForward()}},v4=t=>({rng:t.getRng(),forward:t.isForward()}),jO=(t,r,a)=>{const u={"data-mce-type":"bookmark",id:r,style:"overflow:hidden;line-height:0px"};return a?t.create("span",u,"&#xFEFF;"):t.create("span",u)},Ra=(t,r)=>{const a=t.dom;let u=t.getRng();const f=a.uniqueId(),y=t.isCollapsed(),A=t.getNode(),M=A.nodeName,H=t.isForward();if(M==="IMG")return{name:M,index:UO(a,M,A)};const Y=wr(u.cloneRange());if(!y){Y.collapse(!1);const me=jO(a,f+"_end",r);FA(a,Y,me)}u=wr(u),u.collapse(!0);const ue=jO(a,f+"_start",r);return FA(a,u,ue),t.moveToBookmark({id:f,keep:!0,forward:H}),{id:f,forward:H}},zA=(t,r,a=!1)=>r===2?UA(Q,a,t):r===3?zO(t):r?v4(t):Ra(t,!1),lw=at(UA,Rt,!0),A1=t=>t===1,pn=t=>t===-1,jA=t=>t.type==="inline-command"||t.type==="inline-format",aD=t=>t.type==="block-command"||t.type==="block-format",WA=(t,r)=>(t.type==="block-command"||t.type==="block-format")&&t.trigger===r,lD=t=>{var r;const a=f=>Wl.error({message:f,pattern:t}),u=(f,y,A)=>{if(t.format!==void 0){let M;if(Ae(t.format)){if(!sr(t.format,ie))return a(f+" pattern has non-string items in the `format` array");M=t.format}else if(ie(t.format))M=[t.format];else return a(f+" pattern has non-string `format` parameter");return Wl.value(y(M))}else return t.cmd!==void 0?ie(t.cmd)?Wl.value(A(t.cmd,t.value)):a(f+" pattern has non-string `cmd` parameter"):a(f+" pattern is missing both `format` and `cmd` parameters")};if(!be(t))return a("Raw pattern is not an object");if(!ie(t.start))return a("Raw pattern is missing `start` parameter");if(t.end!==void 0){if(!ie(t.end))return a("Inline pattern has non-string `end` parameter");if(t.start.length===0&&t.end.length===0)return a("Inline pattern has empty `start` and `end` parameters");let f=t.start,y=t.end;return y.length===0&&(y=f,f=""),u("Inline",A=>({type:"inline-format",start:f,end:y,format:A}),(A,M)=>({type:"inline-command",start:f,end:y,cmd:A,value:M}))}else{if(t.replacement!==void 0)return ie(t.replacement)?t.start.length===0?a("Replacement pattern has empty `start` parameter"):Wl.value({type:"inline-command",start:"",end:t.start,cmd:"mceInsertContent",value:t.replacement}):a("Replacement pattern has non-string `replacement` parameter");{const f=(r=t.trigger)!==null&&r!==void 0?r:"space";return t.start.length===0?a("Block pattern has empty `start` parameter"):u("Block",y=>({type:"block-format",start:t.start,format:y[0],trigger:f}),(y,A)=>({type:"block-command",start:t.start,cmd:y,value:A,trigger:f}))}}},p0=t=>Ge(t,aD),T1=t=>Ge(t,jA),x1=(t,r)=>({inlinePatterns:T1(t),blockPatterns:p0(t),dynamicPatternsLookup:r}),WO=(t,r)=>({...t,blockPatterns:Ge(t.blockPatterns,a=>WA(a,r))}),O1=t=>{const r=rl(fn(t,lD));return ct(r.errors,a=>console.error(a.message,a.pattern)),r.values},Ea=t=>r=>{const a=t(r);return O1(a)},tv=(t,r)=>t.dispatch("PreProcess",r),cD=(t,r)=>t.dispatch("PostProcess",r),m0=t=>{t.dispatch("remove")},ng=t=>{t.dispatch("detach")},b4=(t,r)=>{t.dispatch("SwitchMode",{mode:r})},y4=(t,r,a,u,f)=>{t.dispatch("ObjectResizeStart",{target:r,width:a,height:u,origin:f})},GO=(t,r,a,u,f)=>{t.dispatch("ObjectResized",{target:r,width:a,height:u,origin:f})},S4=t=>{t.dispatch("PreInit")},C4=t=>{t.dispatch("PostRender")},E4=t=>{t.dispatch("Init")},w4=(t,r)=>{t.dispatch("PlaceholderToggle",{state:r})},qO=(t,r,a)=>{t.dispatch(r,a)},oo=(t,r,a,u)=>{t.dispatch("FormatApply",{format:r,node:a,vars:u})},uD=(t,r,a,u)=>{t.dispatch("FormatRemove",{format:r,node:a,vars:u})},du=(t,r)=>t.dispatch("BeforeSetContent",r),dD=(t,r)=>t.dispatch("SetContent",r),hD=(t,r)=>t.dispatch("BeforeGetContent",r),fD=(t,r)=>t.dispatch("GetContent",r),_4=(t,r)=>{t.dispatch("AutocompleterStart",r)},$s=(t,r)=>{t.dispatch("AutocompleterUpdate",r)},ZO=(t,r)=>{t.dispatch("AutocompleterUpdateActiveRange",r)},pD=t=>{t.dispatch("AutocompleterEnd")},xz=(t,r,a)=>t.dispatch("PastePreProcess",{content:r,internal:a}),A4=(t,r,a)=>t.dispatch("PastePostProcess",{node:r,internal:a}),mD=(t,r)=>t.dispatch("PastePlainTextToggle",{state:r}),Oz=(t,r)=>t.dispatch("EditableRootStateChange",{state:r}),T4=(t,r)=>t.dispatch("DisabledStateChange",{state:r}),gD=t=>t.dispatch("CloseActiveTooltips"),KO=id().deviceType,js=KO.isTouch(),YO=Ai.DOM,g0=t=>{const r=t.indexOf("=")>0?t.split(/[;,](?![^=;,]*(?:[;,]|$))/):t.split(",");return On(r,(a,u)=>{const f=u.split("="),y=f[0],A=f.length>1?f[1]:y;return a[Lr(y)]=Lr(A),a},{})},Sp=t=>le(t,RegExp),Po=t=>r=>r.options.get(t),Gd=t=>ie(t)||be(t),cw=(t,r="")=>a=>{const u=ie(a);if(u)if(a.indexOf("=")!==-1){const f=g0(a);return{value:dr(f,t.id).getOr(r),valid:u}}else return{value:a,valid:u};else return{valid:!1,message:"Must be a string."}},uw=t=>{const r=t.options.register;r("id",{processor:"string",default:t.id}),r("selector",{processor:"string"}),r("target",{processor:"object"}),r("suffix",{processor:"string"}),r("cache_suffix",{processor:"string"}),r("base_url",{processor:"string"}),r("referrer_policy",{processor:"string",default:""}),r("crossorigin",{processor:"function",default:ot(void 0)}),r("language_load",{processor:"boolean",default:!0}),r("inline",{processor:"boolean",default:!1}),r("iframe_attrs",{processor:"object",default:{}}),r("doctype",{processor:"string",default:"<!DOCTYPE html>"}),r("document_base_url",{processor:"string",default:t.editorManager.documentBaseURL}),r("body_id",{processor:cw(t,"tinymce"),default:"tinymce"}),r("body_class",{processor:cw(t),default:""}),r("content_security_policy",{processor:"string",default:""}),r("br_in_pre",{processor:"boolean",default:!0}),r("forced_root_block",{processor:a=>{const u=ie(a)&&wi(a);return u?{value:a,valid:u}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),r("forced_root_block_attrs",{processor:"object",default:{}}),r("newline_behavior",{processor:a=>{const u=zt(["block","linebreak","invert","default"],a);return u?{value:a,valid:u}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),r("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),r("no_newline_selector",{processor:"string",default:""}),r("keep_styles",{processor:"boolean",default:!0}),r("end_container_on_empty_block",{processor:a=>Ie(a)?{valid:!0,value:a}:ie(a)?{valid:!0,value:a}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),r("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),r("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),r("font_size_classes",{processor:"string",default:""}),r("automatic_uploads",{processor:"boolean",default:!0}),r("images_reuse_filename",{processor:"boolean",default:!1}),r("images_replace_blob_uris",{processor:"boolean",default:!0}),r("icons",{processor:"string",default:""}),r("icons_url",{processor:"string",default:""}),r("images_upload_url",{processor:"string",default:""}),r("images_upload_base_path",{processor:"string",default:""}),r("images_upload_credentials",{processor:"boolean",default:!1}),r("images_upload_handler",{processor:"function"}),r("language",{processor:"string",default:"en"}),r("language_url",{processor:"string",default:""}),r("entity_encoding",{processor:"string",default:"named"}),r("indent",{processor:"boolean",default:!0}),r("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),r("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),r("indent_use_margin",{processor:"boolean",default:!1}),r("indentation",{processor:"string",default:"40px"}),r("content_css",{processor:a=>{const u=a===!1||ie(a)||mt(a,ie);return u?ie(a)?{value:fn(a.split(","),Lr),valid:u}:Ae(a)?{value:a,valid:u}:a===!1?{value:[],valid:u}:{value:a,valid:u}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:KA(t)?[]:["default"]}),r("content_style",{processor:"string"}),r("content_css_cors",{processor:"boolean",default:!1}),r("font_css",{processor:a=>{const u=ie(a)||mt(a,ie);return u?{value:Ae(a)?a:fn(a.split(","),Lr),valid:u}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),r("extended_mathml_attributes",{processor:"string[]"}),r("extended_mathml_elements",{processor:"string[]"}),r("inline_boundaries",{processor:"boolean",default:!0}),r("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),r("object_resizing",{processor:a=>{const u=Ie(a)||ie(a);return u?a===!1||KO.isiPhone()||KO.isiPad()?{value:"",valid:u}:{value:a===!0?"table,img,figure.image,div,video,iframe":a,valid:u}:{valid:!1,message:"Must be boolean or a string"}},default:!js}),r("resize_img_proportional",{processor:"boolean",default:!0}),r("event_root",{processor:"string"}),r("service_message",{processor:"string"}),r("onboarding",{processor:"boolean",default:!0}),r("tiny_cloud_entry_url",{processor:"string"}),r("theme",{processor:a=>a===!1||ie(a)||Re(a),default:"silver"}),r("theme_url",{processor:"string"}),r("formats",{processor:"object"}),r("format_empty_lines",{processor:"boolean",default:!1}),r("format_noneditable_selector",{processor:"string",default:""}),r("preview_styles",{processor:a=>{const u=a===!1||ie(a);return u?{value:a===!1?"":a,valid:u}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),r("custom_ui_selector",{processor:"string",default:""}),r("hidden_input",{processor:"boolean",default:!0}),r("submit_patch",{processor:"boolean",default:!0}),r("encoding",{processor:"string"}),r("add_form_submit_trigger",{processor:"boolean",default:!0}),r("add_unload_trigger",{processor:"boolean",default:!0}),r("custom_undo_redo_levels",{processor:"number",default:0}),r("disable_nodechange",{processor:"boolean",default:!1}),r("disabled",{processor:a=>Ie(a)?(t.initialized&&Aw(t)!==a&&Promise.resolve().then(()=>{T4(t,a)}),{valid:!0,value:a}):{valid:!1,message:"The value must be a boolean."},default:!1}),r("readonly",{processor:"boolean",default:!1}),r("editable_root",{processor:"boolean",default:!0}),r("plugins",{processor:"string[]",default:[]}),r("external_plugins",{processor:"object"}),r("forced_plugins",{processor:"string[]"}),r("model",{processor:"string",default:t.hasPlugin("rtc")?"plugin":"dom"}),r("model_url",{processor:"string"}),r("block_unsupported_drop",{processor:"boolean",default:!0}),r("visual",{processor:"boolean",default:!0}),r("visual_table_class",{processor:"string",default:"mce-item-table"}),r("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),r("iframe_aria_text",{processor:"string",default:"Rich Text Area".concat(t.hasPlugin("help")?". Press ALT-0 for help.":"")}),r("setup",{processor:"function"}),r("init_instance_callback",{processor:"function"}),r("url_converter",{processor:"function",default:t.convertURL}),r("url_converter_scope",{processor:"object",default:t}),r("urlconverter_callback",{processor:"function"}),r("allow_conditional_comments",{processor:"boolean",default:!1}),r("allow_html_data_urls",{processor:"boolean",default:!1}),r("allow_svg_data_urls",{processor:"boolean"}),r("allow_html_in_named_anchor",{processor:"boolean",default:!1}),r("allow_html_in_comments",{processor:"boolean",default:!1}),r("allow_script_urls",{processor:"boolean",default:!1}),r("allow_unsafe_link_target",{processor:"boolean",default:!1}),r("allow_mathml_annotation_encodings",{processor:a=>{const u=mt(a,ie);return u?{value:a,valid:u}:{valid:!1,message:"Must be an array of strings."}},default:[]}),r("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),r("fix_list_elements",{processor:"boolean",default:!1}),r("preserve_cdata",{processor:"boolean",default:!1}),r("remove_trailing_brs",{processor:"boolean",default:!0}),r("pad_empty_with_br",{processor:"boolean",default:!1}),r("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),r("element_format",{processor:"string",default:"html"}),r("entities",{processor:"string"}),r("schema",{processor:"string",default:"html5"}),r("convert_urls",{processor:"boolean",default:!0}),r("relative_urls",{processor:"boolean",default:!0}),r("remove_script_host",{processor:"boolean",default:!0}),r("custom_elements",{processor:Gd}),r("extended_valid_elements",{processor:"string"}),r("invalid_elements",{processor:"string"}),r("invalid_styles",{processor:Gd}),r("valid_children",{processor:"string"}),r("valid_classes",{processor:Gd}),r("valid_elements",{processor:"string"}),r("valid_styles",{processor:Gd}),r("verify_html",{processor:"boolean",default:!0}),r("auto_focus",{processor:a=>ie(a)||a===!0}),r("browser_spellcheck",{processor:"boolean",default:!1}),r("protect",{processor:"array"}),r("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),r("deprecation_warnings",{processor:"boolean",default:!0}),r("a11y_advanced_options",{processor:"boolean",default:!1}),r("api_key",{processor:"string"}),r("license_key",{processor:"string"}),r("paste_block_drop",{processor:"boolean",default:!1}),r("paste_data_images",{processor:"boolean",default:!0}),r("paste_preprocess",{processor:"function"}),r("paste_postprocess",{processor:"function"}),r("paste_webkit_styles",{processor:"string",default:"none"}),r("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),r("paste_merge_formats",{processor:"boolean",default:!0}),r("smart_paste",{processor:"boolean",default:!0}),r("paste_as_text",{processor:"boolean",default:!1}),r("paste_tab_spaces",{processor:"number",default:4}),r("text_patterns",{processor:a=>mt(a,be)||a===!1?{value:O1(a===!1?[]:a),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),r("text_patterns_lookup",{processor:a=>Re(a)?{value:Ea(a),valid:!0}:{valid:!1,message:"Must be a single function"},default:a=>[]}),r("noneditable_class",{processor:"string",default:"mceNonEditable"}),r("editable_class",{processor:"string",default:"mceEditable"}),r("noneditable_regexp",{processor:a=>mt(a,Sp)?{value:a,valid:!0}:Sp(a)?{value:[a],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),r("table_tab_navigation",{processor:"boolean",default:!0}),r("highlight_on_focus",{processor:"boolean",default:!0}),r("xss_sanitization",{processor:"boolean",default:!0}),r("details_initial_state",{processor:a=>{const u=zt(["inherited","collapsed","expanded"],a);return u?{value:a,valid:u}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),r("details_serialized_state",{processor:a=>{const u=zt(["inherited","collapsed","expanded"],a);return u?{value:a,valid:u}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),r("init_content_sync",{processor:"boolean",default:!1}),r("newdocument_content",{processor:"string",default:""}),r("sandbox_iframes",{processor:"boolean",default:!0}),r("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),r("convert_unsafe_embeds",{processor:"boolean",default:!0}),r("user_id",{processor:"string",default:"Anonymous"}),r("fetch_users",{processor:a=>a===void 0?{valid:!0,value:void 0}:Re(a)?{valid:!0,value:a}:{valid:!1,message:"fetch_users must be a function that returns a Promise<ExpectedUser[]>"}}),t.on("ScriptsLoaded",()=>{r("directionality",{processor:"string",default:yp.isRtl()?"rtl":void 0}),r("placeholder",{processor:"string",default:YO.getAttrib(t.getElement(),"placeholder")})}),r("lists_indent_on_tab",{processor:"boolean",default:!0}),r("list_max_depth",{processor:a=>{const u=vt(a);if(u){if(a<0)throw new Error("list_max_depth cannot be set to lower than 0");return{value:a,valid:u}}else return{valid:!1,message:"Must be a number"}}})},GA=Po("iframe_attrs"),fC=Po("doctype"),dw=Po("document_base_url"),v0=Po("body_id"),yd=Po("body_class"),Qv=Po("content_security_policy"),x4=Po("br_in_pre"),Wu=Po("forced_root_block"),pC=Po("forced_root_block_attrs"),O4=Po("newline_behavior"),Wr=Po("br_newline_selector"),nv=Po("no_newline_selector"),I1=Po("keep_styles"),Iz=Po("end_container_on_empty_block"),R1=Po("automatic_uploads"),Kr=Po("images_reuse_filename"),Rz=Po("images_replace_blob_uris"),vD=Po("icons"),kz=Po("icons_url"),Dz=Po("images_upload_url"),hw=Po("images_upload_base_path"),I4=Po("images_upload_credentials"),Mz=Po("images_upload_handler"),qA=Po("content_css_cors"),XO=Po("referrer_policy"),fw=Po("crossorigin"),bD=Po("language"),R4=Po("language_url"),pw=Po("indent_use_margin"),JO=Po("indentation"),QO=Po("content_css"),yD=Po("content_style"),SD=Po("font_css"),CD=Po("directionality"),eI=Po("inline_boundaries_selector"),tI=Po("object_resizing"),fi=Po("resize_img_proportional"),ED=Po("placeholder"),ZA=Po("event_root"),nI=Po("service_message"),om=Po("theme"),wD=Po("theme_url"),oI=Po("model"),k4=Po("model_url"),eb=Po("inline_boundaries"),D4=Po("formats"),mw=Po("preview_styles"),gw=Po("format_empty_lines"),M4=Po("format_noneditable_selector"),vy=Po("custom_ui_selector"),KA=Po("inline"),_D=Po("hidden_input"),P4=Po("submit_patch"),AD=Po("add_form_submit_trigger"),Pz=Po("add_unload_trigger"),TD=Po("custom_undo_redo_levels"),xD=Po("disable_nodechange"),vw=Po("readonly"),bw=Po("editable_root"),yw=Po("content_css_cors"),k1=Po("plugins"),YA=Po("external_plugins"),Sw=Po("block_unsupported_drop"),b0=Po("visual"),Cw=Po("visual_table_class"),sI=Po("visual_anchor_class"),XA=Po("iframe_aria_text"),OD=Po("setup"),ID=Po("init_instance_callback"),RD=Po("urlconverter_callback"),N4=Po("auto_focus"),JA=Po("browser_spellcheck"),mC=Po("protect"),D1=Po("paste_block_drop"),M1=Po("paste_data_images"),kD=Po("paste_preprocess"),DD=Po("paste_postprocess"),MD=Po("newdocument_content"),QA=Po("paste_webkit_styles"),PD=Po("paste_remove_styles_if_webkit"),L4=Po("paste_merge_formats"),ND=Po("smart_paste"),eT=Po("paste_as_text"),rI=Po("paste_tab_spaces"),tT=Po("allow_html_data_urls"),iI=Po("text_patterns"),B4=Po("text_patterns_lookup"),aI=Po("noneditable_class"),LD=Po("editable_class"),BD=Po("noneditable_regexp"),Ew=Po("preserve_cdata"),V4=Po("highlight_on_focus"),lI=Po("xss_sanitization"),cI=Po("init_content_sync"),F4=t=>t.options.isSet("text_patterns_lookup"),H4=t=>Zn.explode(t.options.get("font_size_style_values")),P1=t=>Zn.explode(t.options.get("font_size_classes")),VD=t=>t.options.get("encoding")==="xml",FD=t=>Zn.explode(t.options.get("images_file_types")),$4=Po("table_tab_navigation"),U4=Po("details_initial_state"),z4=Po("details_serialized_state"),nT=Po("sandbox_iframes"),ww=t=>t.options.get("sandbox_iframes_exclusions"),uI=Po("convert_unsafe_embeds"),_w=Po("license_key"),HD=Po("api_key"),Aw=Po("disabled"),j4=Po("user_id"),oT=Po("fetch_users"),W4=Po("lists_indent_on_tab"),$D=t=>_e.from(t.options.get("list_max_depth")),Nz=No,G4=Un,N1=t=>{const r=t.parentNode;r&&r.removeChild(t)},sT=t=>{const r=Q(t);return{count:t.length-r.length,text:r}},rT=t=>{let r;for(;(r=t.data.lastIndexOf(V))!==-1;)t.deleteData(r,1)},UD=(t,r)=>(tb(t),r),q4=(t,r)=>{const a=sT(t.data.substr(0,r.offset())),u=sT(t.data.substr(r.offset()));return(a.text+u.text).length>0?(rT(t),an(t,r.offset()-a.count)):r},iT=(t,r)=>{const a=r.container(),u=vn(to(a.childNodes),t).map(f=>f<r.offset()?an(a,r.offset()-1):r).getOr(r);return tb(t),u},zD=(t,r)=>G4(t)&&r.container()===t?q4(t,r):UD(t,r),jD=(t,r)=>r.container()===t.parentNode?iT(t,r):UD(t,r),aT=(t,r)=>an.isTextPosition(r)?zD(t,r):jD(t,r),tb=t=>{Nz(t)&&Ne(t)&&(Le(t)?t.removeAttribute("data-mce-caret"):N1(t)),G4(t)&&(rT(t),t.data.length===0&&N1(t))},WD=di,Z4=Jh,K4=Gp,Y4="*[contentEditable=false],video,audio,embed,object",gC=(t,r,a)=>{const u=Vo(r.getBoundingClientRect(),a);let f,y;if(t.tagName==="BODY"){const M=t.ownerDocument.documentElement;f=t.scrollLeft||M.scrollLeft,y=t.scrollTop||M.scrollTop}else{const M=t.getBoundingClientRect();f=t.scrollLeft-M.left,y=t.scrollTop-M.top}u.left+=f,u.right+=f,u.top+=y,u.bottom+=y,u.width=1;let A=r.offsetWidth-r.clientWidth;return A>0&&(a&&(A*=-1),u.left+=A,u.right+=A),u},GD=t=>{var r,a;const u=un(et.fromDom(t),Y4);for(let f=0;f<u.length;f++){const y=u[f].dom;let A=y.previousSibling;if(It(A)){const M=A.data;M.length===1?(r=A.parentNode)===null||r===void 0||r.removeChild(A):A.deleteData(M.length-1,1)}A=y.nextSibling,Tt(A)&&(A.data.length===1?(a=A.parentNode)===null||a===void 0||a.removeChild(A):A.deleteData(0,1))}},dI=(t,r,a,u)=>{const f=kc();let y,A;const M=Wu(t),H=t.dom,Y=(Ze,We)=>{let Ct;if(ue(),K4(We))return null;if(a(We)){const Et=Nt(M,We,Ze),Pt=gC(r,We,Ze);H.setStyle(Et,"top",Pt.top),H.setStyle(Et,"caret-color","transparent"),A=Et;const Kt=H.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});H.setStyles(Kt,{...Pt}),H.add(r,Kt),f.set({caret:Kt,element:We,before:Ze}),Ze&&H.addClass(Kt,"mce-visual-caret-before"),me(),Ct=We.ownerDocument.createRange(),Ct.setStart(Et,0),Ct.setEnd(Et,0)}else return A=Me(We,Ze),Ct=We.ownerDocument.createRange(),ov(A.nextSibling)?(Ct.setStart(A,0),Ct.setEnd(A,0)):(Ct.setStart(A,1),Ct.setEnd(A,1)),Ct;return Ct},ue=()=>{GD(r),A&&(tb(A),A=null),f.on(Ze=>{H.remove(Ze.caret),f.clear()}),y&&(clearInterval(y),y=void 0)},me=()=>{y=window.setInterval(()=>{f.on(Ze=>{u()?H.toggleClass(Ze.caret,"mce-visual-caret-hidden"):H.addClass(Ze.caret,"mce-visual-caret-hidden")})},500)},Se=()=>{f.on(Ze=>{const We=gC(r,Ze.element,Ze.before);H.setStyles(Ze.caret,{...We})})},Oe=()=>clearInterval(y),Ke=()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}";return{isShowing:f.isSet,show:Y,hide:ue,getCss:Ke,reposition:Se,destroy:Oe}},lT=()=>Tr.browser.isFirefox(),ov=t=>WD(t)||Z4(t),Tw=t=>(ov(t)||fp(t)&&lT())&&Du(et.fromDom(t)).exists(Bu),nb=cu,hI=di,qD=Jh,ZD=Hv("display","block table table-cell table-row table-caption list-item"),X4=Ne,KD=ye,J4=No,Q4=Un,eB=zi,vC=(t,r)=>{let a;for(;a=t(r);)if(!KD(a))return a;return null},xw=(t,r,a,u,f)=>{const y=new Ki(t,u),A=hI(t)||KD(t);let M;if(pn(r)){if(A&&(M=vC(y.prev.bind(y),!0),a(M)))return M;for(;M=vC(y.prev.bind(y),f);)if(a(M))return M}if(A1(r)){if(A&&(M=vC(y.next.bind(y),!0),a(M)))return M;for(;M=vC(y.next.bind(y),f);)if(a(M))return M}return null},YD=(t,r)=>{const a=f=>nb(f.dom),u=f=>f.dom===r;return Yh(et.fromDom(t),a,u).map(f=>f.dom).getOr(r)},ob=(t,r)=>{for(;t&&t!==r;){if(ZD(t))return t;t=t.parentNode}return null},sb=(t,r,a)=>ob(t.container(),a)===ob(r.container(),a),fI=(t,r)=>{if(!r)return _e.none();const a=r.container(),u=r.offset();return J4(a)?_e.from(a.childNodes[u+t]):_e.none()},cT=(t,r)=>{var a;const f=((a=r.ownerDocument)!==null&&a!==void 0?a:document).createRange();return t?(f.setStartBefore(r),f.setEndBefore(r)):(f.setStartAfter(r),f.setEndAfter(r)),f},XD=(t,r,a)=>ob(r,t)===ob(a,t),os=(t,r,a)=>{const u=t?"previousSibling":"nextSibling";let f=a;for(;f&&f!==r;){let y=f[u];if(y&&X4(y)&&(y=y[u]),hI(y)||qD(y)){if(XD(r,y,f))return y;break}if(eB(y))break;f=f.parentNode}return null},by=at(cT,!0),bC=at(cT,!1),pI=(t,r,a)=>{let u;const f=at(os,!0,r),y=at(os,!1,r),A=a.startContainer,M=a.startOffset;if(ye(A)){const H=Q4(A)?A.parentNode:A,Y=H.getAttribute("data-mce-caret");if(Y==="before"&&(u=H.nextSibling,Tw(u)))return by(u);if(Y==="after"&&(u=H.previousSibling,Tw(u)))return bC(u)}if(!a.collapsed)return a;if(Un(A)){if(X4(A)){if(t===1){if(u=y(A),u)return by(u);if(u=f(A),u)return bC(u)}if(t===-1){if(u=f(A),u)return bC(u);if(u=y(A),u)return by(u)}return a}if(It(A)&&M>=A.data.length-1)return t===1&&(u=y(A),u)?by(u):a;if(Tt(A)&&M<=1)return t===-1&&(u=f(A),u)?bC(u):a;if(M===A.data.length)return u=y(A),u?by(u):a;if(M===0)return u=f(A),u?bC(u):a}return a},uT=(t,r)=>fI(t?0:-1,r).filter(hI),y0=(t,r,a)=>{const u=pI(t,r,a);return t===-1?an.fromRangeStart(u):an.fromRangeEnd(u)},yC=t=>_e.from(t.getNode()).map(et.fromDom),Ow=t=>_e.from(t.getNode(!0)).map(et.fromDom),yy=(t,r)=>{let a=r;for(;a=t(a);)if(a.isVisible())return a;return a},SC=(t,r)=>{const a=sb(t,r);return!a&&ba(t.getNode())?!0:a},mI=di,sv=Un,gI=No,dT=ba,rv=zi,rb=Xg,Sy=C1,L1=(t,r)=>{const a=[];let u=t;for(;u&&u!==r;)a.push(u),u=u.parentNode;return a},ib=(t,r)=>t.hasChildNodes()&&r<t.childNodes.length?t.childNodes[r]:null,vI=(t,r)=>{if(A1(t)){if(rv(r.previousSibling)&&!sv(r.previousSibling))return an.before(r);if(sv(r))return an(r,0)}if(pn(t)){if(rv(r.nextSibling)&&!sv(r.nextSibling))return an.after(r);if(sv(r))return an(r,r.data.length)}return pn(t)?dT(r)?an.before(r):an.after(r):an.before(r)},Iw=(t,r)=>{const a=r.nextSibling;return a&&rv(a)?sv(a)?an(a,0):an.before(a):iv(1,an.after(r),t)},iv=(t,r,a)=>{let u,f,y,A;if(!gI(a)||!r)return null;if(r.isEqual(an.after(a))&&a.lastChild){if(A=an.after(a.lastChild),pn(t)&&rv(a.lastChild)&&gI(a.lastChild))return dT(a.lastChild)?an.before(a.lastChild):A}else A=r;const M=A.container();let H=A.offset();if(sv(M)){if(pn(t)&&H>0)return an(M,--H);if(A1(t)&&H<M.length)return an(M,++H);u=M}else{if(pn(t)&&H>0&&(f=ib(M,H-1),rv(f)))return!rb(f)&&(y=xw(f,t,Sy,f),y)?sv(y)?an(y,y.data.length):an.after(y):sv(f)?an(f,f.data.length):an.before(f);if(A1(t)&&H<M.childNodes.length&&(f=ib(M,H),rv(f)))return dT(f)?Iw(a,f):!rb(f)&&(y=xw(f,t,Sy,f),y)?sv(y)?an(y,0):an.before(y):sv(f)?an(f,0):an.after(f);u=f||A.getNode()}if(u&&(A1(t)&&A.isAtEnd()||pn(t)&&A.isAtStart())&&(u=xw(u,t,Tn,a,!0),Sy(u,a)))return vI(t,u);f=u&&xw(u,t,Sy,a);const Y=Be(Ge(L1(M,a),mI));return Y&&(!f||!Y.contains(f))?(A1(t)?A=an.after(Y):A=an.before(Y),A):f?vI(t,f):null},av=t=>({next:r=>iv(1,r,t),prev:r=>iv(-1,r,t)}),JD=(t,r,a)=>{const u=t?an.before(a):an.after(a);return qd(t,r,u)},bI=t=>ba(t)?an.before(t):an.after(t),yI=t=>an.isTextPosition(t)?t.offset()===0:zi(t.getNode()),SI=t=>{if(an.isTextPosition(t)){const r=t.container();return t.offset()===r.data.length}else return zi(t.getNode(!0))},QD=(t,r)=>!an.isTextPosition(t)&&!an.isTextPosition(r)&&t.getNode()===r.getNode(!0),Lz=t=>!an.isTextPosition(t)&&ba(t.getNode()),tB=(t,r,a)=>t?!QD(r,a)&&!Lz(r)&&SI(r)&&yI(a):!QD(a,r)&&yI(r)&&SI(a),qd=(t,r,a)=>{const u=av(r);return _e.from(t?u.next(a):u.prev(a))},B1=(t,r,a)=>qd(t,r,a).bind(u=>sb(a,u,r)&&tB(t,a,u)?qd(t,r,u):_e.some(u)),CI=(t,r,a,u)=>B1(t,r,a).bind(f=>u(f)?CI(t,r,f,u):_e.some(f)),Cy=(t,r)=>{const a=t?r.firstChild:r.lastChild;return Un(a)?_e.some(an(a,t?0:a.data.length)):a?zi(a)?_e.some(t?an.before(a):bI(a)):JD(t,r,a):_e.none()},Zd=at(qd,!0),Ah=at(qd,!1),Kd=at(Cy,!0),og=at(Cy,!1),S0="_mce_caret",tf=t=>No(t)&&t.id===S0,ab=(t,r)=>{let a=r;for(;a&&a!==t;){if(tf(a))return a;a=a.parentNode}return null},eM=t=>ie(t.start),Bz=t=>jo(t,"rng"),tM=t=>jo(t,"id"),Ws=t=>jo(t,"name"),hT=t=>Zn.isArray(t.start),sm=t=>!Ws(t)&&Ie(t.forward)?t.forward:!0,nM=(t,r)=>(No(r)&&t.isBlock(r)&&!r.innerHTML&&(r.innerHTML='<br data-mce-bogus="1" />'),r),nB=(t,r)=>{const a=_e.from(Pf(t.getRoot(),r.start)),u=_e.from(Pf(t.getRoot(),r.end));return Ar(a,u,(f,y)=>{const A=t.createRng();return A.setStart(f.container(),f.offset()),A.setEnd(y.container(),y.offset()),{range:A,forward:sm(r)}})},oB=(t,r)=>{var a;const f=((a=t.ownerDocument)!==null&&a!==void 0?a:document).createTextNode(V);t.appendChild(f),r.setStart(f,0),r.setEnd(f,0)},sB=t=>!t.hasChildNodes(),oM=(t,r)=>og(t).fold(qt,a=>(r.setStart(a.container(),a.offset()),r.setEnd(a.container(),a.offset()),!0)),EI=(t,r,a)=>sB(r)&&ab(t,r)?(oB(r,a),!0):!1,Rw=(t,r,a,u)=>{const f=a[r?"start":"end"],y=t.getRoot();if(f){let A=y,M=f[0];for(let H=f.length-1;A&&H>=1;H--){const Y=A.childNodes;if(EI(y,A,u))return!0;if(f[H]>Y.length-1)return EI(y,A,u)?!0:oM(A,u);A=Y[f[H]]}Un(A)&&(M=Math.min(f[0],A.data.length)),No(A)&&(M=Math.min(f[0],A.childNodes.length)),r?u.setStart(A,M):u.setEnd(A,M)}return!0},rm=t=>Un(t)&&t.data.length>0,V1=(t,r,a)=>{const u=t.get(a.id+"_"+r),f=u==null?void 0:u.parentNode,y=a.keep;if(u&&f){let A,M;if(r==="start"?y?u.hasChildNodes()?(A=u.firstChild,M=1):rm(u.nextSibling)?(A=u.nextSibling,M=0):rm(u.previousSibling)?(A=u.previousSibling,M=u.previousSibling.data.length):(A=f,M=t.nodeIndex(u)+1):(A=f,M=t.nodeIndex(u)):y?u.hasChildNodes()?(A=u.firstChild,M=1):rm(u.previousSibling)?(A=u.previousSibling,M=u.previousSibling.data.length):(A=f,M=t.nodeIndex(u)):(A=f,M=t.nodeIndex(u)),!y){const H=u.previousSibling,Y=u.nextSibling;Zn.each(Zn.grep(u.childNodes),me=>{Un(me)&&(me.data=me.data.replace(/\uFEFF/g,""))});let ue;for(;ue=t.get(a.id+"_"+r);)t.remove(ue,!0);if(Un(Y)&&Un(H)&&!Tr.browser.isOpera()){const me=H.data.length;H.appendData(Y.data),t.remove(Y),A=H,M=me}}return _e.some(an(A,M))}else return _e.none()},rB=(t,r)=>{const a=t.createRng();return Rw(t,!0,r,a)&&Rw(t,!1,r,a)?_e.some({range:a,forward:sm(r)}):_e.none()},fT=(t,r)=>{const a=V1(t,"start",r),u=V1(t,"end",r);return Ar(a,u.or(a),(f,y)=>{const A=t.createRng();return A.setStart(nM(t,f.container()),f.offset()),A.setEnd(nM(t,y.container()),y.offset()),{range:A,forward:sm(r)}})},iB=(t,r)=>_e.from(t.select(r.name)[r.index]).map(a=>{const u=t.createRng();return u.selectNode(a),{range:u,forward:!0}}),pT=(t,r)=>{const a=t.dom;if(r){if(hT(r))return rB(a,r);if(eM(r))return nB(a,r);if(tM(r))return fT(a,r);if(Ws(r))return iB(a,r);if(Bz(r))return _e.some({range:r.rng,forward:sm(r)})}return _e.none()},hu=(t,r,a)=>zA(t,r,a),aB=(t,r)=>{pT(t,r).each(({range:a,forward:u})=>{t.setRng(a,u)})},Nf=t=>No(t)&&t.tagName==="SPAN"&&t.getAttribute("data-mce-type")==="bookmark",mT=(t=>r=>t===r)(Bi),F1=t=>t!==""&&` \f
\r	\v`.indexOf(t)!==-1,wI=t=>!F1(t)&&!mT(t)&&!Gl(t),_I=t=>{const r=[];if(t)for(let a=0;a<t.rangeCount;a++)r.push(t.getRangeAt(a));return r},AI=t=>Ao(t,r=>{const a=hi(r);return a?[et.fromDom(a)]:[]}),lB=t=>_I(t).length>1,gT=t=>Ge(AI(t),ee),sM=t=>un(t,"td[data-mce-selected],th[data-mce-selected]"),vT=(t,r)=>{const a=sM(r);return a.length>0?a:gT(t)},Ey=t=>vT(_I(t.selection.getSel()),et.fromDom(t.getBody())),CC=(t,r)=>qa(t,"table",r),TI=t=>{const r=t.startContainer,a=t.startOffset;return Un(r)?a===0?_e.some(et.fromDom(r)):_e.none():_e.from(r.childNodes[a]).map(et.fromDom)},rM=t=>{const r=t.endContainer,a=t.endOffset;return Un(r)?a===r.data.length?_e.some(et.fromDom(r)):_e.none():_e.from(r.childNodes[a-1]).map(et.fromDom)},C0=t=>Yl(t).fold(ot([t]),r=>[t].concat(C0(r))),bT=t=>Wa(t).fold(ot([t]),r=>Ms(r)==="br"?Bd(r).map(a=>[t].concat(bT(a))).getOr([]):[t].concat(bT(r))),xI=(t,r)=>Ar(TI(r),rM(r),(a,u)=>{const f=$t(C0(t),at(Do,a)),y=$t(bT(t),at(Do,u));return f.isSome()&&y.isSome()}).getOr(!1),yT=(t,r,a,u)=>{const f=a,y=new Ki(a,f),A=Nr(t.schema.getMoveCaretBeforeOnEnterElements(),(H,Y)=>!zt(["td","th","table"],Y.toLowerCase()));let M=a;do{if(Un(M)&&Zn.trim(M.data).length!==0){u?r.setStart(M,0):r.setEnd(M,M.data.length);return}if(A[M.nodeName]){u?r.setStartBefore(M):M.nodeName==="BR"?r.setEndBefore(M):r.setEndAfter(M);return}}while(M=u?y.next():y.prev());f.nodeName==="BODY"&&(u?r.setStart(f,0):r.setEnd(f,f.childNodes.length))},kw=t=>{const r=t.selection.getSel();return Ve(r)&&r.rangeCount>0},OI=(t,r)=>{const a=Ey(t);a.length>0?ct(a,u=>{const f=u.dom,y=t.dom.createRng();y.setStartBefore(f),y.setEndAfter(f),r(y,!0)}):r(t.selection.getRng(),!1)},Dw=(t,r,a)=>{const u=Ra(t,r);a(u),t.moveToBookmark(u)},II=(t,r)=>t.startContainer===t.endContainer&&t.endOffset-t.startOffset===1&&r(t.startContainer.childNodes[t.startOffset]),cB=t=>II(t,va),uB=t=>II(t,Un),RI=t=>II(t,Af),Mw=t=>vt(t==null?void 0:t.nodeType),kI=t=>No(t)&&!Nf(t)&&!tf(t)&&!Vg(t),iM=(t,r)=>{if(kI(r)&&!/^(TD|TH)$/.test(r.nodeName)){const a=t.getAttrib(r,"data-mce-selected"),u=parseInt(a,10);return!isNaN(u)&&u>0}else return!1},ST=(t,r,a)=>{const{selection:u,dom:f}=t,y=u.getNode(),A=di(y);Dw(u,!0,()=>{r()}),A&&di(y)&&f.isChildOf(y,t.getBody())?t.selection.select(y):a(u.getStart())&&dB(f,u)},dB=(t,r)=>{var a,u;const f=r.getRng(),{startContainer:y,startOffset:A}=f,M=r.getNode();if(!iM(t,M)&&No(y)){const H=y.childNodes,Y=t.getRoot();let ue;if(A<H.length){const me=H[A];ue=new Ki(me,(a=t.getParent(me,t.isBlock))!==null&&a!==void 0?a:Y)}else{const me=H[H.length-1];ue=new Ki(me,(u=t.getParent(me,t.isBlock))!==null&&u!==void 0?u:Y),ue.next(!0)}for(let me=ue.current();me;me=ue.next()){if(t.getContentEditable(me)==="false")return;if(Un(me)&&!MI(me)){f.setStart(me,0),r.setRng(f);return}}}},aM=(t,r,a)=>{if(t){const u=r?"nextSibling":"previousSibling";for(t=t[u];t;t=t[u])if(No(t)||!MI(t))return t}},DI=(t,r)=>!!t.getTextBlockElements()[r.nodeName.toLowerCase()]||kn(t,r),EC=(t,r,a)=>t.schema.isValidChild(r,a),MI=(t,r=!1)=>{if(Ve(t)&&Un(t)){const a=r?t.data.replace(/ /g," "):t.data;return Lg(a)}else return!1},ka=t=>Ve(t)&&Un(t)&&t.length===0,lM=(t,r)=>{const a="[data-mce-cef-wrappable]",u=M4(t),f=Sc(u)?a:`${a},${u}`;return fr(et.fromDom(r),f)},cM=(t,r)=>{const a=t.dom;return kI(r)&&a.getContentEditable(r)==="false"&&lM(t,r)&&a.select('[contenteditable="true"]',r).length===0},b=(t,r)=>Re(t)?t(r):(Ve(r)&&(t=t.replace(/%(\w+)/g,(a,u)=>r[u]||a)),t),w=(t,r)=>(t=t||"",r=r||"",t=""+(t.nodeName||t),r=""+(r.nodeName||r),t.toLowerCase()===r.toLowerCase()),k=(t,r)=>{if(Xe(t))return null;{let a=String(t);return(r==="color"||r==="backgroundColor")&&(a=u0(a)),r==="fontWeight"&&t===700&&(a="bold"),r==="fontFamily"&&(a=a.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),a}},z=(t,r,a)=>{const u=t.getStyle(r,a);return k(u,a)},se=(t,r)=>{let a;return t.getParent(r,u=>No(u)?(a=t.getStyle(u,"text-decoration"),!!a&&a!=="none"):!1),a},pe=(t,r,a)=>t.getParents(r,a,t.getRoot()),Te=(t,r,a)=>{const u=t.formatter.get(r);return Ve(u)&&wn(u,a)},Fe=(t,r)=>Te(t,r,u=>{const f=y=>Re(y)||y.length>1&&y.charAt(0)==="%";return wn(["styles","attributes"],y=>dr(u,y).exists(A=>{const M=Ae(A)?A:ta(A);return wn(M,f)}))}),Je=(t,r,a)=>{const u=["inline","block","selector","attributes","styles","classes"],f=y=>Nr(y,(A,M)=>wn(u,H=>H===M));return Te(t,r,y=>{const A=f(y);return Te(t,a,M=>{const H=f(M);return bc(A,H)})})},ft=t=>Vs(t,"block"),jt=t=>ft(t)&&t.wrapper===!0,Vn=t=>ft(t)&&t.wrapper!==!0,bo=t=>Vs(t,"selector"),so=t=>Vs(t,"inline"),is=t=>bo(t)&&so(t)&&Jr(dr(t,"mixed"),!0),yn=t=>bo(t)&&t.expand!==!1&&!so(t),Fn=t=>{const r=[];let a=t;for(;a;){if(Un(a)&&a.data!==V||a.childNodes.length>1)return[];No(a)&&r.push(a),a=a.firstChild}return r},_s=t=>Fn(t).length>0,Js=t=>tf(t.dom)&&_s(t.dom),Lo=Nf,Mi=pe,Pi=MI,tr=DI,dc=t=>ba(t)&&t.getAttribute("data-mce-bogus")&&!t.nextSibling,Cp=(t,r)=>{let a=r;for(;a;){if(No(a)&&t.getContentEditable(a))return t.getContentEditable(a)==="false"?a:r;a=a.parentNode}return r},lb=(t,r,a,u)=>{const f=r.data;if(t){for(let y=a;y>0;y--)if(u(f.charAt(y-1)))return y}else for(let y=a;y<f.length;y++)if(u(f.charAt(y)))return y;return-1},wy=(t,r,a)=>lb(t,r,a,u=>mT(u)||F1(u)),H1=(t,r,a)=>lb(t,r,a,wI),ji=(t,r,a,u,f,y)=>{let A;const M=t.getParent(a,me=>Wp(me)||t.isBlock(me)),H=Ve(M)?M:r,Y=(me,Se,Oe)=>{const Ke=tm(t),Ze=f?Ke.backwards:Ke.forwards;return _e.from(Ze(me,Se,(We,Ct)=>Lo(We.parentNode)?-1:(A=We,Oe(f,We,Ct)),H))};return Y(a,u,wy).bind(me=>y?Y(me.container,me.offset+(f?-1:0),H1):_e.some(me)).orThunk(()=>A?_e.some({container:A,offset:f?0:A.length}):_e.none())},Yd=(t,r,a,u,f)=>{const y=u[f];Un(u)&&Sc(u.data)&&y&&(u=y);const A=Mi(t,u);for(let M=0;M<A.length;M++)for(let H=0;H<r.length;H++){const Y=r[H];if(!(Ve(Y.collapsed)&&Y.collapsed!==a.collapsed)&&bo(Y)&&t.is(A[M],Y.selector))return A[M]}return u},Xd=(t,r,a,u)=>{var f;let y=a;const A=t.getRoot(),M=r[0];if(ft(M)&&(y=M.wrapper?null:t.getParent(a,M.block,A)),!y){const H=(f=t.getParent(a,"LI,TD,TH,SUMMARY"))!==null&&f!==void 0?f:A;y=t.getParent(Un(a)?a.parentNode:a,Y=>Y!==A&&tr(t.schema,Y),H)}if(y&&ft(M)&&M.wrapper&&(y=Mi(t,y,"ul,ol").reverse()[0]||y),!y)for(y=a;y&&y[u]&&!t.isBlock(y[u])&&(y=y[u],!w(y,"br")););return y||a},im=(t,r,a,u)=>{const f=a.parentNode;return Ve(a[u])?!1:f===r||Xe(f)||t.isBlock(f)?!0:im(t,r,f,u)},Jd=(t,r,a,u,f,y)=>{let A=a;const M=f?"previousSibling":"nextSibling",H=t.getRoot();if(Un(a)&&!Pi(a)&&(f?u>0:u<a.data.length))return a;for(;A;){if(Wp(A))return a;if(!r[0].block_expand&&t.isBlock(A))return y?A:a;for(let Y=A[M];Y;Y=Y[M]){const ue=Un(Y)&&!im(t,H,Y,M);if(!Lo(Y)&&!dc(Y)&&!Pi(Y,ue))return A}if(A===H||A.parentNode===H){a=A;break}A=A.parentNode}return a},E0=t=>Lo(t.parentNode)||Lo(t),Oc=(t,r,a,u={})=>{const{includeTrailingSpace:f=!1,expandToBlock:y=!0}=u,A=t.getParent(r.commonAncestorContainer,Oe=>Wp(Oe)),M=Ve(A)?A:t.getRoot();let{startContainer:H,startOffset:Y,endContainer:ue,endOffset:me}=r;const Se=a[0];return No(H)&&H.hasChildNodes()&&(H=Fl(H,Y),Un(H)&&(Y=0)),No(ue)&&ue.hasChildNodes()&&(ue=Fl(ue,r.collapsed?me:me-1),Un(ue)&&(me=ue.data.length)),H=Cp(t,H),ue=Cp(t,ue),E0(H)&&(H=Lo(H)?H:H.parentNode,r.collapsed?H=H.previousSibling||H:H=H.nextSibling||H,Un(H)&&(Y=r.collapsed?H.length:0)),E0(ue)&&(ue=Lo(ue)?ue:ue.parentNode,r.collapsed?ue=ue.nextSibling||ue:ue=ue.previousSibling||ue,Un(ue)&&(me=r.collapsed?0:ue.length)),r.collapsed&&(ji(t,M,H,Y,!0,f).each(({container:Ze,offset:We})=>{H=Ze,Y=We}),ji(t,M,ue,me,!1,f).each(({container:Ze,offset:We})=>{ue=Ze,me=We})),(so(Se)||Se.block_expand)&&((!so(Se)||!Un(H)||Y===0)&&(H=Jd(t,a,H,Y,!0,y)),(!so(Se)||!Un(ue)||me===ue.data.length)&&(ue=Jd(t,a,ue,me,!1,y))),yn(Se)&&(H=Yd(t,a,r,H,"previousSibling"),ue=Yd(t,a,r,ue,"nextSibling")),(ft(Se)||bo(Se))&&(H=Xd(t,a,H,"previousSibling"),ue=Xd(t,a,ue,"nextSibling"),ft(Se)&&(t.isBlock(H)||(H=Jd(t,a,H,Y,!0,y),Un(H)&&(Y=0)),t.isBlock(ue)||(ue=Jd(t,a,ue,me,!1,y),Un(ue)&&(me=ue.data.length)))),No(H)&&H.parentNode&&(Y=t.nodeIndex(H),H=H.parentNode),No(ue)&&ue.parentNode&&(me=t.nodeIndex(ue)+1,ue=ue.parentNode),{startContainer:H,startOffset:Y,endContainer:ue,endOffset:me}},wC=(t,r,a)=>{var u;const f=r.startOffset,y=Fl(r.startContainer,f),A=r.endOffset,M=Fl(r.endContainer,A-1),H=We=>{const Ct=We[0];Un(Ct)&&Ct===y&&f>=Ct.data.length&&We.splice(0,1);const Et=We[We.length-1];return A===0&&We.length>0&&Et===M&&Un(Et)&&We.splice(We.length-1,1),We},Y=(We,Ct,Et)=>{const Pt=[];for(;We&&We!==Et;We=We[Ct])Pt.push(We);return Pt},ue=(We,Ct)=>t.getParent(We,Et=>Et.parentNode===Ct,Ct),me=(We,Ct,Et)=>{const Pt=Et?"nextSibling":"previousSibling";for(let Kt=We,In=Kt.parentNode;Kt&&Kt!==Ct;Kt=In){In=Kt.parentNode;const ho=Y(Kt===We?Kt:Kt[Pt],Pt);ho.length&&(Et||ho.reverse(),a(H(ho)))}};if(y===M)return a(H([y]));const Se=(u=t.findCommonAncestor(y,M))!==null&&u!==void 0?u:t.getRoot();if(t.isChildOf(y,M))return me(y,Se,!0);if(t.isChildOf(M,y))return me(M,Se);const Oe=ue(y,Se)||y,Ke=ue(M,Se)||M;me(y,Oe,!0);const Ze=Y(Oe===y?Oe:Oe.nextSibling,"nextSibling",Ke===M?Ke.nextSibling:Ke);Ze.length&&a(H(Ze)),me(M,Ke)},Pw=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]","div.mce-footnotes"],w0=t=>ti(t)&&vl(t)===V,Qd=(t,r,a,u)=>Du(r).fold(()=>"skipping",f=>u==="br"||w0(r)?"valid":MO(r)?"existing":tf(r.dom)?"caret":wn(Pw,y=>fr(r,y))?"valid-block":!EC(t,a,u)||!EC(t,Ms(f),a)?"invalid-child":"valid"),hB=(t,r)=>{const a=Oc(t.dom,r,[{inline:"span"}]);r.setStart(a.startContainer,a.startOffset),r.setEnd(a.endContainer,a.endOffset),t.selection.setRng(r)},uM=(t,r,a,u,f,y)=>{const{uid:A=r,...M}=a;_l(t,kf()),pa(t,`${em()}`,A),pa(t,`${Qp()}`,u);const{attributes:H={},classes:Y=[]}=f(A,M);if(Va(t,H),qb(t,Y),y){Y.length>0&&pa(t,`${Jm()}`,Y.join(","));const ue=cn(H);ue.length>0&&pa(t,`${Qm()}`,ue.join(","))}},Jo=t=>{il(t,kf()),ml(t,`${em()}`),ml(t,`${Qp()}`),ml(t,`${Kg()}`);const r=vh(t,`${Qm()}`).map(u=>u.split(",")).getOr([]),a=vh(t,`${Jm()}`).map(u=>u.split(",")).getOr([]);ct(r,u=>ml(t,u)),Zb(t,a),ml(t,`${Jm()}`),ml(t,`${Qm()}`)},am=(t,r,a,u,f)=>{const y=et.fromTag("span",t);return uM(y,r,a,u,f,!1),y},fB=(t,r,a,u,f,y)=>{const A=[],M=am(t.getDoc(),a,y,u,f),H=kc(),Y=()=>{H.clear()},ue=()=>H.get().getOrThunk(()=>{const Ke=wl(M);return A.push(Ke),H.set(Ke),Ke}),me=Ke=>{ct(Ke,Se)},Se=Ke=>{switch(Qd(t,Ke,"span",Ms(Ke))){case"invalid-child":{Y();const We=mr(Ke);me(We),Y();break}case"valid-block":{Y(),uM(Ke,a,y,u,f,!0);break}case"valid":{const We=ue();Fd(Ke,We);break}}},Oe=Ke=>{const Ze=fn(Ke,et.fromDom);me(Ze)};return wC(t.dom,r,Ke=>{Y(),Oe(Ke)}),A},CT=(t,r,a,u)=>{t.undoManager.transact(()=>{const f=t.selection,y=f.getRng(),A=Ey(t).length>0,M=dl("mce-annotation");if(y.collapsed&&!A&&hB(t,y),f.getRng().collapsed&&!A){const H=am(t.getDoc(),M,u,r,a.decorate);Hp(H,Bi),f.getRng().insertNode(H.dom),f.select(H.dom)}else Dw(f,!1,()=>{OI(t,H=>{fB(t,H,M,r,a.decorate,u)})})})},dM=t=>{const r=Yg();sC(t,r);const a=oC(t,r),u=Cl("span"),f=y=>{ct(y,A=>{u(A)?Nu(A):Jo(A)})};return{register:(y,A)=>{r.register(y,A)},annotate:(y,A)=>{r.lookup(y).each(M=>{CT(t,y,M,A)})},annotationChanged:(y,A)=>{a.addListener(y,A)},remove:y=>{tC(t,_e.some(y)).each(({elements:A})=>{const M=t.selection.getBookmark();f(A),t.selection.moveToBookmark(M)})},removeAll:y=>{const A=t.selection.getBookmark();Xn(nC(t,y),(M,H)=>{f(M)}),t.selection.moveToBookmark(A)},getAll:y=>{const A=nC(t,y);return fs(A,M=>fn(M,H=>H.dom))}}},cb=t=>({getBookmark:at(hu,t),moveToBookmark:at(aB,t)});cb.isBookmarkNode=Nf;const Fz=(t,r,a)=>a.collapsed?!1:wn(a.getClientRects(),u=>us(u,t,r)),pB=(t,r)=>{const a=ti(r)?vl(r).length:mr(r).length+1;return t>a?a:t<0?0:t},Hz=t=>Um.range(t.start,pB(t.soffset,t.start),t.finish,pB(t.foffset,t.finish)),hM=(t,r)=>!Bg(r.dom)&&(ei(t,r)||Do(t,r)),fM=t=>r=>hM(t,r.start)&&hM(t,r.finish),mB=t=>t.inline||Tr.browser.isFirefox(),dte=t=>Um.range(et.fromDom(t.startContainer),t.startOffset,et.fromDom(t.endContainer),t.endOffset),hte=t=>{const r=t.getSelection();return(!r||r.rangeCount===0?_e.none():_e.from(r.getRangeAt(0))).map(dte)},fte=t=>{const r=Gh(t);return hte(r.dom).filter(fM(t))},pte=(t,r)=>_e.from(r).filter(fM(t)).map(Hz),gB=t=>{const r=document.createRange();try{return r.setStart(t.start.dom,t.soffset),r.setEnd(t.finish.dom,t.foffset),_e.some(r)}catch{return _e.none()}},PI=t=>{const r=mB(t)?fte(et.fromDom(t.getBody())):_e.none();t.bookmark=r.isSome()?r:t.bookmark},vB=t=>(t.bookmark?t.bookmark:_e.none()).bind(a=>pte(et.fromDom(t.getBody()),a)).bind(gB),$z=t=>{vB(t).each(r=>t.selection.setRng(r))},pM={isEditorUIElement:t=>{const r=t.className.toString();return r.indexOf("tox-")!==-1||r.indexOf("mce-")!==-1}},mte=(t,r)=>(vt(r)||(r=0),window.setTimeout(t,r)),gte=(t,r)=>(vt(r)||(r=0),window.setInterval(t,r)),lv={setEditorTimeout:(t,r,a)=>mte(()=>{t.removed||r()},a),setEditorInterval:(t,r,a)=>{const u=gte(()=>{t.removed?window.clearInterval(u):r()},a);return u}},Uz=(t,r)=>t.view(r).fold(ot([]),u=>{const f=t.owner(u),y=Uz(t,f);return[u].concat(y)}),vte=(t,r)=>{const a=r.owner(t);return Uz(r,a)};var jz=Object.freeze({__proto__:null,view:t=>{var r;return(t.dom===document?_e.none():_e.from((r=t.dom.defaultView)===null||r===void 0?void 0:r.frameElement)).map(et.fromDom)},owner:t=>iu(t)});const bB=t=>{const r=s1(),a=l1(r),u=vte(t,jz),f=Rg(t),y=ln(u,(A,M)=>{const H=Rg(M);return{left:A.left+H.left,top:A.top+H.top}},{left:0,top:0});return Ef(y.left+f.left+a.left,y.top+f.top+a.top)},yte=t=>t.type==="nodechange"&&t.selectionChange,Ste=(t,r)=>{const a=()=>{r.throttle()};Ai.DOM.bind(document,"mouseup",a),t.on("remove",()=>{Ai.DOM.unbind(document,"mouseup",a)})},Cte=(t,r)=>{t.on("mouseup touchend",a=>{r.throttle()})},mM=(t,r)=>{Cte(t,r),t.on("keyup NodeChange AfterSetSelectionRange",a=>{yte(a)||PI(t)})},Wz=t=>{const r=vo(()=>{PI(t)},0);t.on("init",()=>{t.inline&&Ste(t,r),mM(t,r)}),t.on("remove",()=>{r.cancel()})};let Nw;const yB=Ai.DOM,Ete=t=>No(t)&&pM.isEditorUIElement(t),Gz=t=>{const r=t.classList;return r!==void 0?r.contains("tox-edit-area")||r.contains("tox-edit-area__iframe")||r.contains("mce-content-body"):!1},SB=(t,r)=>{const a=vy(t);return yB.getParent(r,f=>Ete(f)||(a?t.dom.is(f,a):!1))!==null},qz=t=>{try{const r=rc(et.fromDom(t.getElement()));return Zh(r).fold(()=>document.body,a=>a.dom)}catch{return document.body}},wte=(t,r)=>{const a=r.editor;Wz(a);const u=(y,A)=>{if(V4(y)&&y.inline!==!0){const M=et.fromDom(y.getContainer());A(M,"tox-edit-focus")}},f=y=>{if(!y.iframeElement)return;const M=et.fromDom(y.iframeElement),H=bB(M),Y=$S(window);(H.top<Y.y||H.top>Y.bottom-25)&&M.dom.scrollIntoView({block:"center"})};a.on("focusin",()=>{const y=t.focusedEditor;if(Gz(qz(a))&&u(a,_l),y!==a){y&&y.dispatch("blur",{focusedEditor:a}),t.setActive(a),t.focusedEditor=a,a.dispatch("focus",{blurredEditor:y}),a.focus(!0);const A=id().browser;a.inline!==!0&&(A.isSafari()||A.isChromium())&&f(a)}}),a.on("focusout",()=>{lv.setEditorTimeout(a,()=>{const y=t.focusedEditor;(!Gz(qz(a))||y!==a)&&u(a,il),!SB(a,qz(a))&&y===a&&(a.dispatch("blur",{focusedEditor:null}),t.focusedEditor=null)})}),Nw||(Nw=y=>{const A=t.activeEditor;A&&n1(y).each(M=>{const H=M;H.ownerDocument===document&&H!==document.body&&!SB(A,H)&&t.focusedEditor===A&&(A.dispatch("blur",{focusedEditor:null}),t.focusedEditor=null)})},yB.bind(document,"focusin",Nw))},C1e=(t,r)=>{t.focusedEditor===r.editor&&(t.focusedEditor=null),!t.activeEditor&&Nw&&(yB.unbind(document,"focusin",Nw),Nw=null)},_te=t=>{t.on("AddEditor",at(wte,t)),t.on("RemoveEditor",at(C1e,t))},Ate=(t,r)=>t.dom.getParent(r,a=>t.dom.getContentEditable(a)==="true"),E1e=(t,r)=>t.dom.getParent(r,a=>t.dom.getContentEditable(a)==="false")!==null,Tte=t=>t.collapsed?_e.from(Fl(t.startContainer,t.startOffset)).map(et.fromDom):_e.none(),Qa=(t,r)=>Tte(r).bind(a=>zu(a)?_e.some(a):ei(t,a)?_e.none():_e.some(t)),gM=(t,r)=>{Qa(et.fromDom(t.getBody()),r).bind(a=>Kd(a.dom)).fold(()=>{t.selection.normalize()},a=>t.selection.setRng(a.toRange()))},Lw=t=>{if(t.setActive)try{t.setActive()}catch{t.focus()}else t.focus()},vM=t=>ph(t)||J0(t).isSome(),$1=t=>Ve(t.iframeElement)&&ph(et.fromDom(t.iframeElement)),bM=t=>{const r=t.getBody();return r&&vM(et.fromDom(r))},ET=t=>{const r=rc(et.fromDom(t.getElement()));return Zh(r).filter(a=>!Gz(a.dom)&&SB(t,a.dom)).isSome()},Bw=t=>t.inline?bM(t):$1(t),CB=t=>Bw(t)||ET(t),xte=t=>{const r=t.selection,a=t.getBody();let u=r.getRng();t.quirks.refreshContentEditable();const f=A=>{vB(A).each(M=>{A.selection.setRng(M),u=M})};!Bw(t)&&t.hasEditableRoot()&&f(t);const y=Ate(t,r.getNode());if(y&&t.dom.isChildOf(y,a)){E1e(t,y)||Lw(a),Lw(y),t.hasEditableRoot()||f(t),gM(t,u),yM(t);return}t.inline||(Tr.browser.isOpera()||Lw(a),t.getWin().focus()),(Tr.browser.isFirefox()||t.inline)&&(Lw(a),gM(t,u)),yM(t)},yM=t=>t.editorManager.setActive(t),Ote=(t,r)=>{t.removed||(r?yM(t):xte(t))},_o={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:t=>t.shiftKey||t.ctrlKey||t.altKey||_o.metaKeyPressed(t),metaKeyPressed:t=>Tr.os.isMacOS()||Tr.os.isiOS()?t.metaKey:t.ctrlKey&&!t.altKey},_y="data-mce-selected",_C="table,img,figure.image,hr,video,span.mce-preview-object,details",AC=Math.abs,NI=Math.round,EB={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Ite=t=>t.type==="longpress"||t.type.indexOf("touch")===0,Zz=(t,r)=>{const a=r.dom,u=r.getDoc(),f=document,y=r.getBody();let A,M,H,Y,ue,me,Se,Oe,Ke,Ze,We,Ct,Et,Pt,Kt;const In=es=>Ve(es)&&(d1(es)||a.is(es,"figure.image")),ho=es=>Jh(es)||a.hasClass(es,"mce-preview-object"),Kn=(es,uo)=>{if(Ite(es)){const Io=es.touches[0];return In(es.target)&&!Fz(Io.clientX,Io.clientY,uo)}else return In(es.target)&&!Fz(es.clientX,es.clientY,uo)},Sn=es=>{const uo=es.target;Kn(es,r.selection.getRng())&&!es.isDefaultPrevented()&&r.selection.select(uo)},Dt=es=>a.hasClass(es,"mce-preview-object")&&Ve(es.firstElementChild)?[es,es.firstElementChild]:a.is(es,"figure.image")?[es.querySelector("img")]:[es],Qe=es=>{const uo=tI(r);return!uo||r.mode.isReadOnly()||es.getAttribute("data-mce-resize")==="false"||es===r.getBody()?!1:a.hasClass(es,"mce-preview-object")&&Ve(es.firstElementChild)?fr(et.fromDom(es.firstElementChild),uo):fr(et.fromDom(es),uo)},Xt=(es,uo)=>{if(ho(uo))return es.create("img",{src:Tr.transparentSrc});if(fp(uo)){const Ds=Ss(Y.name,"n")?en:tn,qs=uo.cloneNode(!0);return Ds(es.select("tr",qs)).each(qi=>{const Aa=es.select("td,th",qi);es.setStyle(qi,"height",null),ct(Aa,yv=>es.setStyle(yv,"height",null))}),qs}else return uo.cloneNode(!0)},qn=(es,uo,Io)=>{if(Ve(Io)){const Ds=Dt(es);ct(Ds,qs=>{qs.style[uo]||!r.schema.isValid(qs.nodeName.toLowerCase(),uo)?a.setStyle(qs,uo,Io):a.setAttrib(qs,uo,""+Io)})}},ss=(es,uo,Io)=>{qn(es,"width",uo),qn(es,"height",Io)},Gs=es=>{let uo,Io,Ds,qs,qi;uo=es.screenX-me,Io=es.screenY-Se,Ct=uo*Y[2]+Oe,Et=Io*Y[3]+Ke,Ct=Ct<5?5:Ct,Et=Et<5?5:Et,(In(A)||ho(A))&&fi(r)!==!1?Ds=!_o.modifierPressed(es):Ds=_o.modifierPressed(es),Ds&&(AC(uo)>AC(Io)?(Et=NI(Ct*Ze),Ct=NI(Et/Ze)):(Ct=NI(Et/Ze),Et=NI(Ct*Ze))),ss(M,Ct,Et),qs=Y.startPos.x+uo,qi=Y.startPos.y+Io,qs=qs>0?qs:0,qi=qi>0?qi:0,a.setStyles(H,{left:qs,top:qi,display:"block"}),H.innerHTML=Ct+" &times; "+Et,uo=y.scrollWidth-Pt,Io=y.scrollHeight-Kt,uo+Io!==0&&a.setStyles(H,{left:qs-uo,top:qi-Io}),We||(y4(r,A,Oe,Ke,"corner-"+Y.name),We=!0)},Or=()=>{const es=We;We=!1,es&&(qn(A,"width",Ct),qn(A,"height",Et)),a.unbind(u,"mousemove",Gs),a.unbind(u,"mouseup",Or),f!==u&&(a.unbind(f,"mousemove",Gs),a.unbind(f,"mouseup",Or)),a.remove(M),a.remove(H),a.remove(ue),Yr(A),es&&(GO(r,A,Ct,Et,"corner-"+Y.name),a.setAttrib(A,"style",a.getAttrib(A,"style"))),r.nodeChanged()},Yr=es=>{as();const uo=a.getPos(es,y),Io=uo.x,Ds=uo.y,qs=es.getBoundingClientRect(),qi=qs.width||qs.right-qs.left,Aa=qs.height||qs.bottom-qs.top;A!==es&&(nl(),A=es,Ct=Et=0);const yv=r.dispatch("ObjectSelected",{target:es});Qe(es)&&!yv.isDefaultPrevented()?Xn(EB,(oh,M0)=>{const Cb=Em=>{const P0=Dt(A)[0];me=Em.screenX,Se=Em.screenY,Oe=P0.clientWidth,Ke=P0.clientHeight,Ze=Ke/Oe,Y=oh,Y.name=M0,Y.startPos={x:qi*oh[0]+Io,y:Aa*oh[1]+Ds},Pt=y.scrollWidth,Kt=y.scrollHeight,ue=a.add(y,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),a.setStyles(ue,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),M=Xt(a,A),a.addClass(M,"mce-clonedresizable"),a.setAttrib(M,"data-mce-bogus","all"),M.contentEditable="false",a.setStyles(M,{left:Io,top:Ds,margin:0}),ss(M,qi,Aa),M.removeAttribute(_y),y.appendChild(M),a.bind(u,"mousemove",Gs),a.bind(u,"mouseup",Or),f!==u&&(a.bind(f,"mousemove",Gs),a.bind(f,"mouseup",Or)),H=a.add(y,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},Oe+" &times; "+Ke)};let _p=a.get("mceResizeHandle"+M0);_p&&a.remove(_p),_p=a.add(y,"div",{id:"mceResizeHandle"+M0,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+M0+"-resize; margin:0; padding:0"}),a.bind(_p,"mousedown",Em=>{Em.stopImmediatePropagation(),Em.preventDefault(),Cb(Em)}),oh.elm=_p,a.setStyles(_p,{left:qi*oh[0]+Io-_p.offsetWidth/2,top:Aa*oh[1]+Ds-_p.offsetHeight/2})}):nl(!1)},tl=vo(Yr,0),nl=(es=!0)=>{tl.cancel(),as(),A&&es&&A.removeAttribute(_y),Xn(EB,(uo,Io)=>{const Ds=a.get("mceResizeHandle"+Io);Ds&&(a.unbind(Ds),a.remove(Ds))})},Cd=(es,uo)=>a.isChildOf(es,uo),lo=es=>{if(We||r.removed||r.composing)return;const uo=es.type==="mousedown"?es.target:t.getNode(),Io=Pc(et.fromDom(uo),_C).map(qs=>qs.dom).filter(qs=>a.isEditable(qs.parentElement)||qs.nodeName==="IMG"&&a.isEditable(qs)).getOrUndefined(),Ds=Ve(Io)?a.getAttrib(Io,_y,"1"):"1";if(ct(a.select(`img[${_y}],hr[${_y}]`),qs=>{qs.removeAttribute(_y)}),Ve(Io)&&Cd(Io,y)&&CB(r)){ri();const qs=t.getStart(!0);if(Cd(qs,Io)&&Cd(t.getEnd(!0),Io)){a.setAttrib(Io,_y,Ds),tl.throttle(Io);return}}nl()},as=()=>{Xn(EB,es=>{es.elm&&(a.unbind(es.elm),delete es.elm)})},ri=()=>{try{r.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return r.on("init",()=>{ri(),r.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",lo),r.on("keyup compositionend",es=>{A&&A.nodeName==="TABLE"&&lo(es)}),r.on("hide blur",nl),r.on("contextmenu longpress",Sn,!0)}),r.on("remove",as),{isResizable:Qe,showResizeRect:Yr,hideResizeRect:nl,updateResizeRect:lo,destroy:()=>{tl.cancel(),A=M=ue=null}}},Kz=(t,r,a)=>{const u=Gh(et.fromDom(a));return Pg(u.dom,t,r).map(f=>{const y=a.createRange();return y.setStart(f.start.dom,f.soffset),y.setEnd(f.finish.dom,f.foffset),y}).getOrUndefined()},wB=(t,r)=>Ve(t)&&Ve(r)&&t.startContainer===r.startContainer&&t.startOffset===r.startOffset&&t.endContainer===r.endContainer&&t.endOffset===r.endOffset,Rte=(t,r,a)=>{let u=t;for(;u&&u!==r;){if(a(u))return u;u=u.parentNode}return null},_B=(t,r,a)=>Rte(t,r,a)!==null,kte=(t,r,a)=>_B(t,r,u=>u.nodeName===a),Dte=(t,r)=>Ne(t)&&!_B(t,r,tf),Yz=(t,r,a)=>{const u=r.parentNode;if(u){const f=new Ki(r,t.getParent(u,t.isBlock)||t.getRoot());let y;for(;y=f[a?"prev":"next"]();)if(ba(y))return!0}return!1},w1e=(t,r)=>{var a;return((a=t.previousSibling)===null||a===void 0?void 0:a.nodeName)===r},Mte=(t,r)=>{let a=r;for(;a&&a!==t;){if(di(a))return!0;a=a.parentNode}return!1},fu=(t,r,a,u,f)=>{const y=t.getRoot(),A=t.schema.getNonEmptyElements(),M=f.parentNode;let H,Y;if(!M)return _e.none();const ue=t.getParent(M,t.isBlock)||y;if(u&&ba(f)&&r&&t.isEmpty(ue))return _e.some(an(M,t.nodeIndex(f)));const me=new Ki(f,ue);for(;Y=me[u?"prev":"next"]();){if(t.getContentEditableParent(Y)==="false"||Dte(Y,y))return _e.none();if(Un(Y)&&Y.data.length>0)return kte(Y,y,"A")?_e.none():_e.some(an(Y,u?Y.data.length:0));if(t.isBlock(Y)||A[Y.nodeName.toLowerCase()])return _e.none();H=Y}return Fa(H)?_e.none():a&&H?_e.some(an(H,0)):_e.none()},LI=(t,r,a,u)=>{const f=t.getRoot();let y,A=!1,M=a?u.startContainer:u.endContainer,H=a?u.startOffset:u.endOffset;const Y=No(M)&&H===M.childNodes.length,ue=t.schema.getNonEmptyElements();let me=a;if(Ne(M))return _e.none();if(No(M)&&H>M.childNodes.length-1&&(me=!1),Sr(M)&&(M=f,H=0),M===f){if(me&&(y=M.childNodes[H>0?H-1:0],y&&(Ne(y)||ue[y.nodeName]||fp(y))))return _e.none();if(M.hasChildNodes()){if(H=Math.min(!me&&H>0?H-1:H,M.childNodes.length-1),M=M.childNodes[H],H=Un(M)&&Y?M.data.length:0,!r&&M===f.lastChild&&fp(M)||Mte(f,M)||Ne(M)||ry(M))return _e.none();if(M.hasChildNodes()&&!fp(M)){y=M;const Se=new Ki(M,f);do{if(di(y)||Ne(y)){A=!1;break}if(Un(y)&&y.data.length>0){H=me?0:y.data.length,M=y,A=!0;break}if(ue[y.nodeName.toLowerCase()]&&!HE(y)){H=t.nodeIndex(y),M=y.parentNode,me||H++,A=!0;break}}while(y=me?Se.next():Se.prev())}}}return r&&(Un(M)&&H===0&&fu(t,Y,r,!0,M).each(Se=>{M=Se.container(),H=Se.offset(),A=!0}),No(M)&&(y=M.childNodes[H],y||(y=M.childNodes[H-1]),y&&ba(y)&&!w1e(y,"A")&&!Yz(t,y,!1)&&!Yz(t,y,!0)&&fu(t,Y,r,!0,y).each(Se=>{M=Se.container(),H=Se.offset(),A=!0}))),me&&!r&&Un(M)&&H===M.data.length&&fu(t,Y,r,!1,M).each(Se=>{M=Se.container(),H=Se.offset(),A=!0}),A&&M?_e.some(an(M,H)):_e.none()},pu=(t,r)=>{const a=r.collapsed,u=r.cloneRange(),f=an.fromRangeStart(r);return LI(t,a,!0,u).each(y=>{(!a||!an.isAbove(f,y))&&u.setStart(y.container(),y.offset())}),a||LI(t,a,!1,u).each(y=>{u.setEnd(y.container(),y.offset())}),a&&u.collapse(!0),wB(r,u)?_e.none():_e.some(u)},lm=(t,r)=>t.splitText(r),SM=t=>{let r=t.startContainer,a=t.startOffset,u=t.endContainer,f=t.endOffset;if(r===u&&Un(r)){if(a>0&&a<r.data.length)if(u=lm(r,a),r=u.previousSibling,f>a){f=f-a;const y=lm(u,f).previousSibling;r=u=y,f=y.data.length,a=0}else f=0}else if(Un(r)&&a>0&&a<r.data.length&&(r=lm(r,a),a=0),Un(u)&&f>0&&f<u.data.length){const y=lm(u,f).previousSibling;u=y,f=y.data.length}return{startContainer:r,startOffset:a,endContainer:u,endOffset:f}},_0=t=>({walk:(y,A)=>wC(t,y,A),split:SM,expand:(y,A={type:"word"})=>{if(A.type==="word"){const M=Oc(t,y,[{inline:"span"}],{includeTrailingSpace:!1,expandToBlock:!1}),H=t.createRng();return H.setStart(M.startContainer,M.startOffset),H.setEnd(M.endContainer,M.endOffset),H}return y},normalize:y=>pu(t,y).fold(qt,A=>(y.setStart(A.startContainer,A.startOffset),y.setEnd(A.endContainer,A.endOffset),!0))});_0.compareRanges=wB,_0.getCaretRangeFromPoint=Kz,_0.getSelectedNode=hi,_0.getNode=Fl;const AB=t=>Ms(t)==="textarea",TB=(t,r)=>t.dispatch("ScrollIntoView",r).isDefaultPrevented(),Pte=(t,r)=>{t.dispatch("AfterScrollIntoView",r)},Xz=(t,r)=>{const a=mr(t);if(a.length===0||AB(t))return{element:t,offset:r};if(r<a.length&&!AB(a[r]))return{element:a[r],offset:0};{const u=a[a.length-1];return AB(u)?{element:t,offset:r}:Ms(u)==="img"?{element:u,offset:1}:ti(u)?{element:u,offset:vl(u).length}:{element:u,offset:mr(u).length}}},Jz=(t,r)=>{const a=Bm(t),u=DE(t);return{element:t,bottom:a.top+u,height:u,pos:a,cleanup:r}},Nte=(t,r)=>{const a=Xz(t,r),u=et.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+V+"</span>");return Mc(a.element,u),Jz(u,()=>Hi(u))},Lte=t=>Jz(et.fromDom(t),gt),cm=(t,r,a,u)=>{xB(t,(f,y)=>_1e(t,r,a,u),a)},nf=(t,r,a,u,f)=>{const y={elm:u.element.dom,alignToTop:f};if(TB(t,y))return;const A=l1(r).top;a(t,r,A,u,f),Pte(t,y)},_1e=(t,r,a,u)=>{const f=et.fromDom(t.getBody()),y=et.fromDom(t.getDoc());Wb(f);const A=Nte(et.fromDom(a.startContainer),a.startOffset);nf(t,y,r,A,u),A.cleanup()},ub=(t,r,a,u)=>{const f=et.fromDom(t.getDoc());nf(t,f,a,Lte(r),u)},xB=(t,r,a)=>{const u=a.startContainer,f=a.startOffset,y=a.endContainer,A=a.endOffset;r(et.fromDom(u),et.fromDom(y));const M=t.dom.createRng();M.setStart(u,f),M.setEnd(y,A),t.selection.setRng(a)},OB=(t,r,a,u,f)=>{const y=r.pos,A=30;if(u)VS(y.left,Math.max(0,y.top-A),f);else{const M=y.top-a+r.height+A;VS(-t.getBody().getBoundingClientRect().left,M,f)}},Qz=(t,r,a,u,f,y)=>{const A=u+a,M=f.pos.top,H=f.bottom,Y=H-M>=u;M<a?OB(t,f,u,y!==!1,r):M>A?OB(t,f,u,Y?y!==!1:y===!0,r):H>A&&!Y&&OB(t,f,u,y===!0,r)},IB=(t,r,a,u,f)=>{const y=Gh(r).dom.innerHeight;Qz(t,r,a,y,u,f)},ej=(t,r,a,u,f)=>{const y=Gh(r).dom.innerHeight;Qz(t,r,a,y,u,f);const A=bB(u.element),M=$S(window);A.top<M.y?Kh(u.element,f!==!1):A.top>M.bottom&&Kh(u.element,f===!0)},tj=(t,r,a)=>cm(t,IB,r,a),Bte=(t,r,a)=>ub(t,r,IB,a),RB=(t,r,a)=>cm(t,ej,r,a),Vte=(t,r,a)=>ub(t,r,ej,a),Fte=(t,r,a)=>{(t.inline?Bte:Vte)(t,r,a)},BI=(t,r,a)=>{(t.inline?tj:RB)(t,r,a)},nj=(t,r)=>r.collapsed?t.isEditable(r.startContainer):t.isEditable(r.startContainer)&&t.isEditable(r.endContainer),kB=(t,r,a,u,f)=>{const y=a?r.startContainer:r.endContainer,A=a?r.startOffset:r.endOffset;return _e.from(y).map(et.fromDom).map(M=>!u||!r.collapsed?qh(M,f(M,A)).getOr(M):M).bind(M=>sa(M)?_e.some(M):ku(M).filter(sa)).map(M=>M.dom).getOr(t)},CM=(t,r,a=!1)=>kB(t,r,!0,a,(u,f)=>Math.min(yf(u),f)),DB=(t,r,a=!1)=>kB(t,r,!1,a,(u,f)=>f>0?f-1:f),EM=(t,r)=>{const a=t;for(;t&&Un(t)&&t.length===0;)t=r?t.nextSibling:t.previousSibling;return t||a},Hte=(t,r)=>{if(!r)return t;let a=r.startContainer,u=r.endContainer;const f=r.startOffset,y=r.endOffset;let A=r.commonAncestorContainer;r.collapsed||(a===u&&y-f<2&&a.hasChildNodes()&&(A=a.childNodes[f]),Un(a)&&Un(u)&&(a.length===f?a=EM(a.nextSibling,!0):a=a.parentNode,y===0?u=EM(u.previousSibling,!1):u=u.parentNode,a&&a===u&&(A=a)));const M=Un(A)?A.parentNode:A;return va(M)?M:t},A1e=(t,r,a,u)=>{const f=[],y=t.getRoot(),A=t.getParent(a||CM(y,r,r.collapsed),t.isBlock),M=t.getParent(u||DB(y,r,r.collapsed),t.isBlock);if(A&&A!==y&&f.push(A),A&&M&&A!==M){let H;const Y=new Ki(A,y);for(;(H=Y.next())&&H!==M;)t.isBlock(H)&&f.push(H)}return M&&A!==M&&M!==y&&f.push(M),f},T1e=(t,r,a)=>_e.from(r).bind(u=>_e.from(u.parentNode).map(f=>{const y=t.nodeIndex(u),A=t.createRng();return A.setStart(f,y),A.setEnd(f,y+1),a&&(yT(t,A,u,!0),yT(t,A,u,!1)),A})),MB=(t,r)=>fn(r,a=>{const u=t.dispatch("GetSelectionRange",{range:a});return u.range!==a?u.range:a}),oj={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},wM=(t,r,a)=>{const u=a?"lastChild":"firstChild",f=a?"prev":"next";if(t[u])return t[u];if(t!==r){let y=t[f];if(y)return y;for(let A=t.parent;A&&A!==r;A=A.parent)if(y=A[f],y)return y}},$te=t=>{var r;const a=(r=t.value)!==null&&r!==void 0?r:"";if(!Lg(a))return!1;const u=t.parent;return!(u&&(u.name!=="span"||u.attr("style"))&&/^[ ]+$/.test(a))},sj=t=>{const r=t.name==="a"&&!t.attr("href")&&t.attr("id");return t.attr("name")||t.attr("id")&&!t.firstChild||t.attr("data-mce-bookmark")||r};class of{static create(r,a){const u=new of(r,oj[r]||1);return a&&Xn(a,(f,y)=>{u.attr(y,f)}),u}constructor(r,a){this.name=r,this.type=a,a===1&&(this.attributes=[],this.attributes.map={})}replace(r){const a=this;return r.parent&&r.remove(),a.insert(r,a),a.remove(),a}attr(r,a){const u=this;if(!ie(r))return Ve(r)&&Xn(r,(y,A)=>{u.attr(A,y)}),u;const f=u.attributes;if(f){if(a!==void 0){if(a===null){if(r in f.map){delete f.map[r];let y=f.length;for(;y--;)if(f[y].name===r)return f.splice(y,1),u}return u}if(r in f.map){let y=f.length;for(;y--;)if(f[y].name===r){f[y].value=a;break}}else f.push({name:r,value:a});return f.map[r]=a,u}return f.map[r]}}clone(){const r=this,a=new of(r.name,r.type),u=r.attributes;if(u){const f=[];f.map={};for(let y=0,A=u.length;y<A;y++){const M=u[y];M.name!=="id"&&(f[f.length]={name:M.name,value:M.value},f.map[M.name]=M.value)}a.attributes=f}return a.value=r.value,a}wrap(r){const a=this;return a.parent&&(a.parent.insert(r,a),r.append(a)),a}unwrap(){const r=this;for(let a=r.firstChild;a;){const u=a.next;r.insert(a,r,!0),a=u}r.remove()}remove(){const r=this,a=r.parent,u=r.next,f=r.prev;return a&&(a.firstChild===r?(a.firstChild=u,u&&(u.prev=null)):f&&(f.next=u),a.lastChild===r?(a.lastChild=f,f&&(f.next=null)):u&&(u.prev=f),r.parent=r.next=r.prev=null),r}append(r){const a=this;r.parent&&r.remove();const u=a.lastChild;return u?(u.next=r,r.prev=u,a.lastChild=r):a.lastChild=a.firstChild=r,r.parent=a,r}insert(r,a,u){r.parent&&r.remove();const f=a.parent||this;return u?(a===f.firstChild?f.firstChild=r:a.prev&&(a.prev.next=r),r.prev=a.prev,r.next=a,a.prev=r):(a===f.lastChild?f.lastChild=r:a.next&&(a.next.prev=r),r.next=a.next,r.prev=a,a.next=r),r.parent=f,r}getAll(r){const a=this,u=[];for(let f=a.firstChild;f;f=wM(f,a))f.name===r&&u.push(f);return u}children(){const r=this,a=[];for(let u=r.firstChild;u;u=u.next)a.push(u);return a}empty(){const r=this;if(r.firstChild){const a=[];for(let f=r.firstChild;f;f=wM(f,r))a.push(f);let u=a.length;for(;u--;){const f=a[u];f.parent=f.firstChild=f.lastChild=f.next=f.prev=null}}return r.firstChild=r.lastChild=null,r}isEmpty(r,a={},u){var f;const y=this;let A=y.firstChild;if(sj(y))return!1;if(A)do{if(A.type===1){if(A.attr("data-mce-bogus"))continue;if(r[A.name]||sj(A))return!1}if(A.type===8||A.type===3&&!$te(A)||A.type===3&&A.parent&&a[A.parent.name]&&Lg((f=A.value)!==null&&f!==void 0?f:"")||u&&u(A))return!1}while(A=wM(A,y));return!0}walk(r){return wM(this,null,r)}}const x1e=Zn.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),PB=t=>ie(t.nodeValue)&&t.nodeValue.includes(V),NB=t=>`${t.length===0?"":`${fn(t,r=>`[${r}]`).join(",")},`}[data-mce-bogus="all"]`,Ute=(t,r)=>r.querySelectorAll(NB(t)),rj=t=>document.createTreeWalker(t,NodeFilter.SHOW_COMMENT,r=>PB(r)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),ij=t=>document.createTreeWalker(t,NodeFilter.SHOW_TEXT,r=>{if(PB(r)){const a=r.parentNode;return a&&jo(x1e,a.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),O1e=t=>rj(t).nextNode()!==null,I1e=t=>ij(t).nextNode()!==null,R1e=(t,r)=>r.querySelector(NB(t))!==null,zte=(t,r)=>{ct(Ute(t,r),a=>{const u=et.fromDom(a);aa(u,"data-mce-bogus")==="all"?Hi(u):ct(t,f=>{ma(u,f)&&ml(u,f)})})},jte=t=>{let r=t.nextNode();for(;r!==null;)r.nodeValue=null,r=t.nextNode()},Wte=te(jte,rj),Vw=te(jte,ij),aj=(t,r)=>{const a=[{condition:at(R1e,r),action:at(zte,r)},{condition:O1e,action:Wte},{condition:I1e,action:Vw}];let u=t,f=!1;return ct(a,({condition:y,action:A})=>{y(u)&&(f||(u=t.cloneNode(!0),f=!0),A(u))}),u},LB=t=>{const r=un(t,"[data-mce-bogus]");ct(r,a=>{aa(a,"data-mce-bogus")==="all"?Hi(a):Df(a)?(Mc(a,et.fromText(Cc)),Hi(a)):Nu(a)})},BB=t=>{const r=un(t,"input");ct(r,a=>{ml(a,"name")})},lj=(t,r)=>{const a=Wu(t),u=new RegExp(`^(<${a}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${a}>[\r
]*|<br \\/>[\r
]*)$`);return r.replace(u,"")},cj=(t,r)=>{const a=t.getDoc(),u=rc(et.fromDom(t.getBody())),f=et.fromTag("div",a);pa(f,"data-mce-bogus","all"),au(f,{position:"fixed",left:"-9999999px",top:"0"}),Hp(f,r.innerHTML),LB(f),BB(f);const y=br(u);qr(y,f);const A=Q(f.dom.innerText);return Hi(f),A},VB=(t,r,a)=>{let u;return r.format==="raw"?u=Zn.trim(Q(aj(a,t.serializer.getTempAttrs()).innerHTML)):r.format==="text"?u=cj(t,a):r.format==="tree"?u=t.serializer.serialize(a,r):u=lj(t,t.serializer.serialize(a,r)),r.format!=="text"&&!m(et.fromDom(a))&&ie(u)?Zn.trim(u):u},k1e=(t,r)=>_e.from(t.getBody()).fold(ot(r.format==="tree"?new of("body",11):""),a=>VB(t,r,a)),uj=Zn.makeMap,Gte=t=>{const r=[];t=t||{};const a=t.indent,u=uj(t.indent_before||""),f=uj(t.indent_after||""),y=Gv.getEncodeFunc(t.entity_encoding||"raw",t.entities),A=t.element_format!=="xhtml";return{start:(M,H,Y)=>{if(a&&u[M]&&r.length>0){const ue=r[r.length-1];ue.length>0&&ue!==`
`&&r.push(`
`)}if(r.push("<",M),H)for(let ue=0,me=H.length;ue<me;ue++){const Se=H[ue];r.push(" ",Se.name,'="',y(Se.value,!0),'"')}if(!Y||A?r[r.length]=">":r[r.length]=" />",Y&&a&&f[M]&&r.length>0){const ue=r[r.length-1];ue.length>0&&ue!==`
`&&r.push(`
`)}},end:M=>{let H;r.push("</",M,">"),a&&f[M]&&r.length>0&&(H=r[r.length-1],H.length>0&&H!==`
`&&r.push(`
`))},text:(M,H)=>{M.length>0&&(r[r.length]=H?M:y(M))},cdata:M=>{r.push("<![CDATA[",M,"]]>")},comment:M=>{r.push("<!--",M,"-->")},pi:(M,H)=>{H?r.push("<?",M," ",y(H),"?>"):r.push("<?",M,"?>"),a&&r.push(`
`)},doctype:M=>{r.push("<!DOCTYPE",M,">",a?`
`:"")},reset:()=>{r.length=0},getContent:()=>r.join("").replace(/\n$/,"")}},TC=(t={},r=Rf())=>{const a=Gte(t);return t.validate="validate"in t?t.validate:!0,{serialize:f=>{const y=t.validate,A={3:H=>{var Y;a.text((Y=H.value)!==null&&Y!==void 0?Y:"",H.raw)},8:H=>{var Y;a.comment((Y=H.value)!==null&&Y!==void 0?Y:"")},7:H=>{a.pi(H.name,H.value)},10:H=>{var Y;a.doctype((Y=H.value)!==null&&Y!==void 0?Y:"")},4:H=>{var Y;a.cdata((Y=H.value)!==null&&Y!==void 0?Y:"")},11:H=>{let Y=H;if(Y=Y.firstChild)do M(Y);while(Y=Y.next)}};a.reset();const M=H=>{var Y;const ue=A[H.type];if(ue)ue(H);else{const me=H.name,Se=me in r.getVoidElements();let Oe=H.attributes;if(y&&Oe&&Oe.length>1){const Ke=[];Ke.map={};const Ze=r.getElementRule(H.name);if(Ze){for(let We=0,Ct=Ze.attributesOrder.length;We<Ct;We++){const Et=Ze.attributesOrder[We];if(Et in Oe.map){const Pt=Oe.map[Et];Ke.map[Et]=Pt,Ke.push({name:Et,value:Pt})}}for(let We=0,Ct=Oe.length;We<Ct;We++){const Et=Oe[We].name;if(!(Et in Ke.map)){const Pt=Oe.map[Et];Ke.map[Et]=Pt,Ke.push({name:Et,value:Pt})}}Oe=Ke}}if(a.start(me,Oe,Se),fd(me))ie(H.value)&&a.text(H.value,!0),a.end(me);else if(!Se){let Ke=H.firstChild;if(Ke){(me==="pre"||me==="textarea")&&Ke.type===3&&((Y=Ke.value)===null||Y===void 0?void 0:Y[0])===`
`&&a.text(`
`,!0);do M(Ke);while(Ke=Ke.next)}a.end(me)}}};return f.type===1&&!t.inner?M(f):f.type===3?A[3](f):A[11](f),a.getContent()}}},dj=new Set;ct(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],r=>{dj.add(r)});const _M=new Set;ct(["background-color"],r=>{_M.add(r)});const FB=["font","text-decoration","text-emphasis"],D1e=(t,r)=>t.parseStyle(t.getAttrib(r,"style")),VI=(t,r)=>cn(D1e(t,r)),M1e=t=>dj.has(t),qte=t=>_M.has(t),Zte=(t,r)=>wn(VI(t,r),a=>M1e(a)),Kte=(t,r)=>Zte(t,r)&&wn(VI(t,r),a=>qte(a)),hj=t=>Ge(t,r=>wn(FB,a=>Ss(r,a))),Yte=(t,r,a)=>{const u=VI(t,r),f=VI(t,a),y=A=>{var M,H;const Y=(M=t.getStyle(r,A))!==null&&M!==void 0?M:"",ue=(H=t.getStyle(a,A))!==null&&H!==void 0?H:"";return wi(Y)&&wi(ue)&&Y!==ue};return wn(u,A=>{const M=H=>wn(H,Y=>Y===A);if(!M(f)&&M(FB)){const H=hj(f);return wn(H,y)}else return y(A)})},HB=(t,r,a)=>_e.from(a.container()).filter(Un).exists(u=>{const f=t?0:-1;return r(u.data.charAt(a.offset()+f))}),fj=at(HB,!0,F1),$B=at(HB,!1,F1),pj=t=>{const r=t.container();return Un(r)&&(r.data.length===0||q(r.data)&&cb.isBookmarkNode(r.parentNode))},xC=(t,r)=>a=>fI(t?0:-1,a).filter(r).isSome(),mj=t=>d1(t)&&Ga(et.fromDom(t),"display")==="block",gj=t=>di(t)&&!hA(t),Xte=xC(!0,mj),Jte=xC(!1,mj),FI=xC(!0,Jh),HI=xC(!1,Jh),vj=xC(!0,fp),UB=xC(!1,fp),OC=xC(!0,gj),IC=xC(!1,gj),Qte=t=>t.slice(0,-1),ene=(t,r,a)=>ei(r,t)?Qte($c(t,u=>a(u)||Do(u,r))):[],bj=(t,r)=>ene(t,r,qt),Co=(t,r)=>[t].concat(bj(t,r)),db=(t,r,a)=>CI(t,r,a,pj),P1e=t=>r=>t.isBlock(Ms(r)),yj=(t,r,a)=>$t(Co(et.fromDom(r.container()),t),P1e(a)),AM=(t,r,a,u)=>db(t,r.dom,a).forall(f=>yj(r,a,u).fold(()=>!sb(f,a,r.dom),y=>!sb(f,a,r.dom)&&ei(y,et.fromDom(f.container())))),zB=(t,r,a,u)=>yj(r,a,u).fold(()=>db(t,r.dom,a).forall(f=>!sb(f,a,r.dom)),f=>db(t,f.dom,a).isNone()),TM=at(zB,!1),xM=at(zB,!0),tne=at(AM,!1),Sj=at(AM,!0),nne=t=>yC(t).exists(Df),OM=(t,r,a,u)=>{const f=Ge(Co(et.fromDom(a.container()),r),A=>u.isBlock(Ms(A))),y=en(f).getOr(r);return qd(t,y.dom,a).filter(nne)},jB=(t,r,a)=>yC(r).exists(Df)||OM(!0,t,r,a).isSome(),IM=(t,r,a)=>Ow(r).exists(Df)||OM(!1,t,r,a).isSome(),Cj=at(OM,!1),RM=at(OM,!0),Ej=t=>an.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd(),wj=(t,r,a)=>{const u=Ge(Co(et.fromDom(r.container()),t),f=>a.isBlock(Ms(f)));return en(u).getOr(t)},_j=(t,r,a)=>Ej(r)?$B(r):$B(r)||Ah(wj(t,r,a).dom,r).exists($B),Aj=(t,r,a)=>Ej(r)?fj(r):fj(r)||Zd(wj(t,r,a).dom,r).exists(fj),one=t=>zt(["pre","pre-wrap"],t),kM=t=>yC(t).bind(r=>Ii(r,sa)).exists(r=>one(Ga(r,"white-space"))),DM=(t,r)=>Ah(t.dom,r).isNone(),sne=(t,r)=>Zd(t.dom,r).isNone(),rne=(t,r,a)=>DM(t,r)||sne(t,r)||TM(t,r,a)||xM(t,r,a)||IM(t,r,a)||jB(t,r,a),ine=t=>Ve(t)&&di(t)&&ZD(t),Tj=(t,r)=>a=>ine(new Ki(a,t)[r]()),ane=(t,r)=>{const a=Zd(t.dom,r).getOr(r),u=Tj(t.dom,"next");return r.isAtEnd()&&(u(r.container())||u(a.container()))},lne=(t,r)=>{const a=Ah(t.dom,r).getOr(r),u=Tj(t.dom,"prev");return r.isAtStart()&&(u(r.container())||u(a.container()))},xj=(t,r,a)=>kM(r)?!1:rne(t,r,a)||_j(t,r,a)||Aj(t,r,a),$I=(t,r,a)=>kM(r)?!1:TM(t,r,a)||tne(t,r,a)||IM(t,r,a)||_j(t,r,a)||lne(t,r),cne=t=>{const r=t.container(),a=t.offset();return Un(r)&&a<r.data.length?an(r,a+1):t},UI=(t,r,a)=>kM(r)?!1:xM(t,r,a)||Sj(t,r,a)||jB(t,r,a)||Aj(t,r,a)||ane(t,r),WB=(t,r,a)=>$I(t,r,a)||UI(t,cne(r),a),Oj=(t,r)=>mT(t.charAt(r)),Ij=(t,r)=>F1(t.charAt(r)),une=t=>{const r=t.container();return Un(r)&&na(r.data,Bi)},Rj=t=>{const r=t.split("");return fn(r,(a,u)=>mT(a)&&u>0&&u<r.length-1&&wI(r[u-1])&&wI(r[u+1])?" ":a).join("")},kj=(t,r,a,u)=>{const f=r.data,y=an(r,0);return!a&&Oj(f,0)&&!WB(t,y,u)?(r.data=" "+f.slice(1),!0):a&&Ij(f,0)&&$I(t,y,u)?(r.data=Bi+f.slice(1),!0):!1},dne=t=>{const r=t.data,a=Rj(r);return a!==r?(t.data=a,!0):!1},zI=(t,r,a,u)=>{const f=r.data,y=an(r,f.length-1);return!a&&Oj(f,f.length-1)&&!WB(t,y,u)?(r.data=f.slice(0,-1)+" ",!0):a&&Ij(f,f.length-1)&&UI(t,y,u)?(r.data=f.slice(0,-1)+Bi,!0):!1},Fw=(t,r,a)=>{const u=r.container();if(!Un(u))return _e.none();if(une(r)){const f=kj(t,u,!1,a)||dne(u)||zI(t,u,!1,a);return Rc(f,r)}else if(WB(t,r,a)){const f=kj(t,u,!0,a)||zI(t,u,!0,a);return Rc(f,r)}else return _e.none()},MM=t=>{const r=et.fromDom(t.getBody());t.selection.isCollapsed()&&Fw(r,an.fromRangeStart(t.selection.getRng()),t.schema).each(a=>{t.selection.setRng(a.toRange())})},Dj=(t,r,a,u)=>{if(a===0)return;const f=et.fromDom(t),y=Yh(f,Y=>u.isBlock(Ms(Y))).getOr(f),A=t.data.slice(r,r+a),M=r+a>=t.data.length&&UI(y,an(t,t.data.length),u),H=r===0&&$I(y,an(t,0),u);t.replaceData(r,a,jp(A,4,H,M))},PM=(t,r,a)=>{const u=t.data.slice(r),f=u.length-hh(u).length;Dj(t,r,f,a)},GB=(t,r,a)=>{const u=t.data.slice(0,r),f=u.length-np(u).length;Dj(t,r-f,f,a)},qB=(t,r,a,u,f=!0)=>{const y=np(t.data).length,A=f?t:r,M=f?r:t;return f?A.appendData(M.data):A.insertData(0,M.data),Hi(et.fromDom(M)),u&&PM(A,y,a),A},Mj=(t,r)=>{const a=t.container(),u=t.offset();return!an.isTextPosition(t)&&a===r.parentNode&&u>an.before(r).offset()},hne=(t,r)=>Mj(r,t)?an(r.container(),r.offset()-1):r,fne=t=>Un(t)?an(t,0):an.before(t),Pj=t=>Un(t)?an(t,t.data.length):an.after(t),Nj=t=>zi(t.previousSibling)?_e.some(Pj(t.previousSibling)):t.previousSibling?og(t.previousSibling):_e.none(),ZB=t=>zi(t.nextSibling)?_e.some(fne(t.nextSibling)):t.nextSibling?Kd(t.nextSibling):_e.none(),pne=(t,r)=>_e.from(r.previousSibling?r.previousSibling:r.parentNode).bind(a=>Ah(t,an.before(a))).orThunk(()=>Zd(t,an.after(r))),mne=(t,r)=>Zd(t,an.after(r)).orThunk(()=>Ah(t,an.before(r))),gne=(t,r)=>Nj(r).orThunk(()=>ZB(r)).orThunk(()=>pne(t,r)),Lj=(t,r)=>ZB(r).orThunk(()=>Nj(r)).orThunk(()=>mne(t,r)),KB=(t,r,a)=>t?Lj(r,a):gne(r,a),Bj=(t,r,a)=>KB(t,r,a).map(at(hne,a)),Vj=(t,r,a)=>{a.fold(()=>{t.focus()},u=>{t.selection.setRng(u.toRange(),r)})},vne=t=>r=>r.dom===t,NM=(t,r)=>r&&jo(t.schema.getBlockElements(),Ms(r)),bne=(t,r,a)=>{if(Hu(t,r)){const u=et.fromHtml('<br data-mce-bogus="1">');return a?ct(mr(r),f=>{Js(f)||Hi(f)}):cd(r),qr(r,u),_e.some(an.before(u.dom))}else return _e.none()},Fj=(t,r,a,u)=>{const f=Bd(t).filter(ti),y=Mu(t).filter(ti);return Hi(t),xu(f,y,r,(A,M,H)=>{const Y=A.dom,ue=M.dom,me=Y.data.length;return qB(Y,ue,a,u),H.container()===ue?an(Y,me):H}).orThunk(()=>(u&&(f.each(A=>GB(A.dom,A.dom.length,a)),y.each(A=>PM(A.dom,0,a))),r))},YB=(t,r)=>jo(t.schema.getTextInlineElements(),Ms(r)),U1=(t,r,a,u=!0,f=!1)=>{const y=Bj(r,t.getBody(),a.dom),A=Yh(a,at(NM,t),vne(t.getBody())),M=Fj(a,y,t.schema,YB(t,a));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):A.bind(H=>bne(t.schema,H,f)).fold(()=>{u&&Vj(t,r,M)},H=>{u&&Vj(t,r,_e.some(H))})},yne=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Sne=t=>yne.test(t),Ay=(t,r)=>fr(et.fromDom(r),eI(t))&&!kn(t.schema,r)&&t.dom.isEditable(r),XB=t=>{var r;return Ai.DOM.getStyle(t,"direction",!0)==="rtl"||Sne((r=t.textContent)!==null&&r!==void 0?r:"")},Hj=(t,r,a)=>Ge(Ai.DOM.getParents(a.container(),"*",r),t),z1=(t,r,a)=>{const u=Hj(t,r,a);return _e.from(u[u.length-1])},$j=(t,r,a)=>{const u=ob(r,t),f=ob(a,t);return Ve(u)&&u===f},Uj=t=>ze(t)||Ye(t),sg=(t,r)=>{const a=r.container(),u=r.offset();return t?Ee(a)?Un(a.nextSibling)?an(a.nextSibling,0):an.after(a):ze(r)?an(a,u+1):r:Ee(a)?Un(a.previousSibling)?an(a.previousSibling,a.previousSibling.data.length):an.before(a):Ye(r)?an(a,u-1):r},JB=at(sg,!0),QB=at(sg,!1),eV=(t,r)=>{const a=u=>u.stopImmediatePropagation();t.on("beforeinput input",a,!0),t.getDoc().execCommand(r),t.off("beforeinput input",a)},zj=t=>{t.execCommand("delete")},LM=t=>eV(t,"Delete"),jj=t=>eV(t,"ForwardDelete"),Cne=t=>r=>Jr(ku(r),t,Do),Ene=t=>gy(t)||eg(t),BM=(t,r)=>ei(t,r)?Ii(r,Ene,Cne(t)):_e.none(),tV=(t,r=!0)=>{t.dom.isEmpty(t.getBody())&&t.setContent("",{no_selection:!r})},Wj=(t,r,a)=>Ar(Kd(a),og(a),(u,f)=>{const y=sg(!0,u),A=sg(!1,f),M=sg(!1,r);return t?Zd(a,M).exists(H=>H.isEqual(A)&&r.isEqual(y)):Ah(a,M).exists(H=>H.isEqual(y)&&r.isEqual(A))}).getOr(!0),Gj=t=>(ja(t)?Bd(t):Wa(t)).bind(Gj).orThunk(()=>_e.some(t)),qj=(t,r,a,u=!0)=>{var f;r.deleteContents();const y=Gj(a).getOr(a),A=et.fromDom((f=t.dom.getParent(y.dom,t.dom.isBlock))!==null&&f!==void 0?f:a.dom);if(A.dom===t.getBody()?tV(t,u):Hu(t.schema,A,{checkRootAsContent:!1})&&(D(A),u&&t.selection.setCursorLocation(A.dom,0)),!Do(a,A)){const M=Jr(ku(A),a)?[]:li(A);ct(M.concat(mr(a)),H=>{!Do(H,A)&&!ei(H,A)&&Hu(t.schema,H)&&Hi(H)})}},wne=t=>r=>Do(t,r),VM=t=>un(t,"td,th"),_ne=(t,r)=>CC(et.fromDom(t),r),N1e=t=>Ar(t.startTable,t.endTable,(r,a)=>{const u=Zs(r,y=>Do(y,a)),f=Zs(a,y=>Do(y,r));return!u&&!f?t:{...t,startTable:u?_e.none():t.startTable,endTable:f?_e.none():t.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(t),Ane=t=>N1e(t),L1e=(t,r)=>{const a=_ne(t.startContainer,r),u=_ne(t.endContainer,r),f=a.isSome(),y=u.isSome(),A=Ar(a,u,Do).getOr(!1);return Ane({startTable:a,endTable:u,isStartInTable:f,isEndInTable:y,isSameTable:A,isMultiTable:!A&&f&&y})},nV=(t,r)=>({start:t,end:r}),Th=(t,r,a)=>({rng:t,table:r,cells:a}),jI=td.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),oV=(t,r)=>Pc(et.fromDom(t),"td,th",r),Zj=t=>!Do(t.start,t.end),Kj=(t,r)=>CC(t.start,r).bind(a=>CC(t.end,r).bind(u=>Rc(Do(a,u),a))),um=(t,r)=>!Zj(t)&&Kj(t,r).exists(a=>{const u=a.dom.rows;return u.length===1&&u[0].cells.length===1}),B1e=(t,r)=>{const a=oV(t.startContainer,r),u=oV(t.endContainer,r);return Ar(a,u,nV)},Tne=t=>r=>CC(r,t).bind(a=>tn(VM(a)).map(u=>nV(r,u))),V1e=t=>r=>CC(r,t).bind(a=>en(VM(a)).map(u=>nV(u,r))),sV=t=>r=>Kj(r,t).map(a=>Th(r,a,VM(a))),Yj=(t,r,a,u)=>{if(a.collapsed||!t.forall(Zj))return _e.none();if(r.isSameTable){const f=t.bind(sV(u));return _e.some({start:f,end:f})}else{const f=oV(a.startContainer,u),y=oV(a.endContainer,u),A=f.bind(Tne(u)).bind(sV(u)),M=y.bind(V1e(u)).bind(sV(u));return _e.some({start:A,end:M})}},xne=(t,r)=>ls(t,a=>Do(a,r)),rV=t=>Ar(xne(t.cells,t.rng.start),xne(t.cells,t.rng.end),(r,a)=>t.cells.slice(r,a+1)),dm=(t,r,a)=>t.exists(u=>um(u,a)&&xI(u.start,r)),iV=(t,r)=>{const{startTable:a,endTable:u}=r,f=t.cloneRange();return a.each(y=>f.setStartAfter(y.dom)),u.each(y=>f.setEndBefore(y.dom)),f},Xj=(t,r,a,u)=>Yj(t,r,a,u).bind(({start:f,end:y})=>f.or(y)).bind(f=>{const{isSameTable:y}=r,A=rV(f).getOr([]);if(y&&f.cells.length===A.length)return _e.some(jI.fullTable(f.table));if(A.length>0){if(y)return _e.some(jI.partialTable(A,_e.none()));{const M=iV(a,r);return _e.some(jI.partialTable(A,_e.some({...r,rng:M})))}}else return _e.none()}),One=(t,r,a,u)=>Yj(t,r,a,u).bind(({start:f,end:y})=>{const A=f.bind(rV).getOr([]),M=y.bind(rV).getOr([]);if(A.length>0&&M.length>0){const H=iV(a,r);return _e.some(jI.multiTable(A,M,H))}else return _e.none()}),Ine=(t,r)=>{const a=wne(t),u=B1e(r,a),f=L1e(r,a);return dm(u,r,a)?u.map(y=>jI.singleCellTable(r,y.start)):f.isMultiTable?One(u,f,r,a):Xj(u,f,r,a)},aV=t=>ct(t,r=>{ml(r,"contenteditable"),D(r)}),Jj=(t,r)=>_e.from(t.dom.getParent(r,t.dom.isBlock)).map(et.fromDom),Rne=(t,r,a)=>{a.each(u=>{r?Hi(u):(D(u),t.selection.setCursorLocation(u.dom,0))})},lV=(t,r,a,u)=>{const f=a.cloneRange();u?(f.setStart(a.startContainer,a.startOffset),f.setEndAfter(r.dom.lastChild)):(f.setStartBefore(r.dom.firstChild),f.setEnd(a.endContainer,a.endOffset)),cV(t,f,r,!1).each(y=>y())},Qj=t=>{const r=Ey(t),a=et.fromDom(t.selection.getNode());Gp(a.dom)&&Hu(t.schema,a)?t.selection.setCursorLocation(a.dom,0):t.selection.collapse(!0),r.length>1&&wn(r,u=>Do(u,a))&&pa(a,"data-mce-selected","1")},e8=(t,r,a)=>_e.some(()=>{const u=t.selection.getRng(),f=a.bind(({rng:y,isStartInTable:A})=>{const M=Jj(t,A?y.endContainer:y.startContainer);y.deleteContents(),Rne(t,A,M.filter(at(Hu,t.schema)));const H=A?r[0]:r[r.length-1];return lV(t,H,u,A),Hu(t.schema,H)?_e.none():_e.some(A?r.slice(1):r.slice(0,-1))}).getOr(r);aV(f),Qj(t)}),t8=(t,r,a,u)=>_e.some(()=>{const f=t.selection.getRng(),y=r[0],A=a[a.length-1];lV(t,y,f,!0),lV(t,A,f,!1);const M=Hu(t.schema,y)?r:r.slice(1),H=Hu(t.schema,A)?a:a.slice(0,-1);aV(M.concat(H)),u.deleteContents(),Qj(t)}),cV=(t,r,a,u=!0)=>_e.some(()=>{qj(t,r,a,u)}),n8=(t,r)=>_e.some(()=>U1(t,!1,r)),kne=(t,r,a)=>Ine(r,a).bind(u=>u.fold(at(cV,t),at(n8,t),at(e8,t),at(t8,t))),F1e=(t,r)=>RC(t,r),Dne=(t,r,a,u)=>uV(r,u).fold(()=>kne(t,r,a),f=>F1e(t,f)),Mne=(t,r,a)=>{const u=et.fromDom(t.getBody()),f=t.selection.getRng();return a.length!==0?e8(t,a,_e.none()):Dne(t,u,f,r)},Pne=(t,r)=>$t(Co(r,t),ee),uV=(t,r)=>$t(Co(r,t),Cl("caption")),ni=(t,r,a,u,f)=>B1(a,t.getBody(),f).bind(y=>Pne(r,et.fromDom(y.getNode())).bind(A=>Do(A,u)?_e.none():_e.some(gt))),RC=(t,r)=>_e.some(()=>{D(r),t.selection.setCursorLocation(r.dom,0)}),j1=(t,r,a,u)=>Kd(t.dom).bind(f=>og(t.dom).map(y=>r?a.isEqual(f)&&u.isEqual(y):a.isEqual(y)&&u.isEqual(f))).getOr(!0),Hw=(t,r)=>RC(t,r),FM=(t,r,a)=>uV(t,et.fromDom(a.getNode())).fold(()=>_e.some(gt),u=>Rc(!Do(u,r),gt)),dV=(t,r,a,u,f)=>B1(a,t.getBody(),f).fold(()=>_e.some(gt),y=>j1(u,a,f,y)?Hw(t,u):FM(r,u,y)),hV=(t,r,a,u)=>{const f=an.fromRangeStart(t.selection.getRng());return Pne(a,u).bind(y=>Hu(t.schema,y,{checkRootAsContent:!1})?RC(t,y):ni(t,a,r,y,f))},o8=(t,r,a,u)=>{const f=an.fromRangeStart(t.selection.getRng());return Hu(t.schema,u)?RC(t,u):dV(t,a,r,u,f)},s8=(t,r)=>t?vj(r):UB(r),r8=(t,r)=>{const a=an.fromRangeStart(t.selection.getRng());return s8(r,a)||qd(r,t.getBody(),a).exists(u=>s8(r,u))},i8=(t,r,a)=>{const u=et.fromDom(t.getBody());return uV(u,a).fold(()=>hV(t,r,u,a).orThunk(()=>Rc(r8(t,r),gt)),f=>o8(t,r,u,f))},fV=(t,r)=>{const a=et.fromDom(t.selection.getStart(!0)),u=Ey(t);return t.selection.isCollapsed()&&u.length===0?i8(t,r,a):Mne(t,a,u)},$w=(t,r)=>{let a=r;for(;a&&a!==t;){if(cu(a)||di(a))return a;a=a.parentNode}return null},Nne=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],Lne=Zn.each,pV=t=>{const r=t.dom,a=new Set(t.serializer.getTempAttrs()),u=(y,A)=>{if(y.nodeName!==A.nodeName||y.nodeType!==A.nodeType)return!1;const M=Y=>{const ue={};return Lne(r.getAttribs(Y),me=>{const Se=me.nodeName.toLowerCase();Se!=="style"&&!f(Se)&&(ue[Se]=r.getAttrib(Y,Se))}),ue},H=(Y,ue)=>{for(const me in Y)if(jo(Y,me)){const Se=ue[me];if(tt(Se)||Y[me]!==Se)return!1;delete ue[me]}for(const me in ue)if(jo(ue,me))return!1;return!0};return No(y)&&No(A)&&(!H(M(y),M(A))||!H(r.parseStyle(r.getAttrib(y,"style")),r.parseStyle(r.getAttrib(A,"style"))))?!1:!Nf(y)&&!Nf(A)},f=y=>wn(Nne,A=>Ss(y,A))||a.has(y);return{compare:u,isAttributeInternal:f}},a8=(t,r)=>{if(Un(t))return{container:t,offset:r};const a=_0.getNode(t,r);return Un(a)?{container:a,offset:r>=t.childNodes.length?a.data.length:0}:a.previousSibling&&Un(a.previousSibling)?{container:a.previousSibling,offset:a.previousSibling.data.length}:a.nextSibling&&Un(a.nextSibling)?{container:a.nextSibling,offset:0}:{container:t,offset:r}},l8=t=>{const r=t.cloneRange(),a=a8(t.startContainer,t.startOffset);r.setStart(a.container,a.offset);const u=a8(t.endContainer,t.endOffset);return r.setEnd(u.container,u.offset),r},wT=Ai.DOM,H1e=()=>wT.create("span",{"data-mce-type":"bookmark"}),Bne=(t,r,a)=>{if(No(t)){const u=a();return t.hasChildNodes()?r===t.childNodes.length?t.appendChild(u):t.insertBefore(u,t.childNodes[r]):t.appendChild(u),{container:u,offset:0}}else return{container:t,offset:r}},Vne=(t,r)=>{const a=u=>{var f;let y=(f=u.parentNode)===null||f===void 0?void 0:f.firstChild,A=0;for(;y;){if(y===u)return A;(!No(y)||y.getAttribute("data-mce-type")!=="bookmark")&&A++,y=y.nextSibling}return-1};if(No(t)&&Ve(t.parentNode)){const u=t;r=a(t),t=t.parentNode,wT.remove(u),!t.hasChildNodes()&&wT.isBlock(t)&&t.appendChild(wT.create("br"))}return{container:t,offset:r}},c8=(t,r,a,u)=>{const f=wT.createRng();return f.setStart(t,r),f.setEnd(a,u),l8(f)},kC=(t,r=H1e)=>{const{container:a,offset:u}=Bne(t.startContainer,t.startOffset,r);if(t.collapsed)return{startContainer:a,startOffset:u};{const{container:f,offset:y}=Bne(t.endContainer,t.endOffset,r);return{startContainer:a,startOffset:u,endContainer:f,endOffset:y}}},DC=t=>{const{container:r,offset:a}=Vne(t.startContainer,t.startOffset);if(!tt(t.endContainer)&&!tt(t.endOffset)){const{container:u,offset:f}=Vne(t.endContainer,t.endOffset);return c8(r,a,u,f)}else return c8(r,a,r,a)},u8=(t,r,a,u)=>{if(Zn.each(a.styles,(f,y)=>{t.setStyle(r,y,b(f,u))}),a.styles){const f=t.getAttrib(r,"style");f&&t.setAttrib(r,"data-mce-style",f)}},_T=(t,r,a,u,f)=>{const y=t.dom;Re(a.onformat)&&a.onformat(r,a,u,f),u8(y,r,a,u),Zn.each(a.attributes,(A,M)=>{y.setAttrib(r,M,b(A,u))}),Zn.each(a.classes,A=>{const M=b(A,u);y.hasClass(r,M)||y.addClass(r,M)})},$1e=t=>!Ae(t.attributes)&&!Ae(t.styles),mV=w,Lf=(t,r,a)=>{const u=t.formatter.get(a);if(u)for(let f=0;f<u.length;f++){const y=u[f];if(bo(y)&&y.inherit===!1&&t.dom.is(r,y.selector))return!0}return!1},d8=(t,r,a,u,f)=>{const y=t.dom.getRoot();if(r===y)return!1;const A=t.dom.getParent(r,M=>Lf(t,M,a)?!0:M.parentNode===y||!!hb(t,M,a,u,!0));return!!hb(t,A,a,u,f)},HM=(t,r,a)=>so(a)&&mV(r,a.inline)||ft(a)&&mV(r,a.block)?!0:bo(a)?No(r)&&t.is(r,a.selector):!1,gV=(t,r,a,u,f,y)=>{const A=a[u],M=u==="attributes";if(Re(a.onmatch))return a.onmatch(r,a,u);if(A){if(mf(A)){for(let H=0;H<A.length;H++)if(M?t.getAttrib(r,A[H]):z(t,r,A[H]))return!0}else for(const H in A)if(jo(A,H)){const Y=M?t.getAttrib(r,H):z(t,r,H),ue=b(A[H],y),me=Xe(Y)||Sc(Y);if(me&&Xe(ue))continue;if(f&&me&&!a.exact||(!f||a.exact)&&!mV(Y,k(ue,H)))return!1}}return!0},hb=(t,r,a,u,f)=>{const y=t.formatter.get(a),A=t.dom;if(y&&No(r))for(let M=0;M<y.length;M++){const H=y[M];if(HM(t.dom,r,H)&&gV(A,r,H,"attributes",f,u)&&gV(A,r,H,"styles",f,u)){const Y=H.classes;if(Y){for(let ue=0;ue<Y.length;ue++)if(!t.dom.hasClass(r,b(Y[ue],u)))return}return H}}},vV=(t,r,a,u,f)=>{if(u)return d8(t,u,r,a,f);if(u=t.selection.getNode(),d8(t,u,r,a,f))return!0;const y=t.selection.getStart();return!!(y!==u&&d8(t,y,r,a,f))},Fne=(t,r,a)=>{const u=[],f={},y=t.selection.getStart();return t.dom.getParent(y,A=>{for(let M=0;M<r.length;M++){const H=r[M];!f[H]&&hb(t,A,H,a)&&(f[H]=!0,u.push(H))}},t.dom.getRoot()),u},Hne=(t,r)=>{const a=f=>Do(f,et.fromDom(t.getBody())),u=(f,y)=>hb(t,f.dom,y)?_e.some(y):_e.none();return _e.from(t.selection.getStart(!0)).bind(f=>Vu(et.fromDom(f),y=>go(r,A=>u(y,A)),a)).getOrNull()},bV=(t,r)=>{const a=t.formatter.get(r),u=t.dom;if(a&&t.selection.isEditable()){const f=t.selection.getStart(),y=pe(u,f);for(let A=a.length-1;A>=0;A--){const M=a[A];if(!bo(M))return!0;for(let H=y.length-1;H>=0;H--)if(u.is(y[H],M.selector))return!0}}return!1},U1e=(t,r,a)=>On(a,(u,f)=>{const y=Fe(t,f);return t.formatter.matchNode(r,f,{},y)?u.concat([f]):u},[]),WI=V,$ne=(t,r)=>t.importNode(r,!0),da=t=>{if(t){const r=new Ki(t,t);for(let a=r.current();a;a=r.next())if(Un(a))return a}return null},yV=t=>{const r=et.fromTag("span");return Va(r,{id:S0,"data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&qr(r,et.fromText(WI)),r},Une=t=>{const r=da(t);return r&&r.data.charAt(0)===WI&&r.deleteData(0,1),r},Uw=(t,r,a)=>{const u=t.dom,f=t.selection;if(_s(r))U1(t,!1,et.fromDom(r),a,!0);else{const y=f.getRng(),A=u.getParent(r,u.isBlock),M=y.startContainer,H=y.startOffset,Y=y.endContainer,ue=y.endOffset,me=Une(r);u.remove(r,!0),M===me&&H>0&&y.setStart(me,H-1),Y===me&&ue>0&&y.setEnd(me,ue-1),A&&u.isEmpty(A)&&D(et.fromDom(A)),f.setRng(y)}},$M=(t,r,a)=>{const u=t.dom,f=t.selection;if(r)Uw(t,r,a);else if(r=ab(t.getBody(),f.getStart()),!r)for(;r=u.get(S0);)Uw(t,r,a)},zne=(t,r,a)=>{var u,f;const y=t.dom,A=y.getParent(a,at(DI,t.schema));A&&y.isEmpty(A)?(u=a.parentNode)===null||u===void 0||u.replaceChild(r,a):(_(et.fromDom(a)),y.isEmpty(a)?(f=a.parentNode)===null||f===void 0||f.replaceChild(r,a):y.insertAfter(r,a))},h8=(t,r)=>(t.appendChild(r),r),f8=(t,r)=>{var a;const u=ln(t,(y,A)=>h8(y,A.cloneNode(!1)),r),f=(a=u.ownerDocument)!==null&&a!==void 0?a:document;return h8(u,f.createTextNode(WI))},p8=(t,r,a,u,f,y)=>{const A=t.formatter,M=t.dom,H=Ge(cn(A.get()),me=>me!==u&&!na(me,"removeformat")),Y=U1e(t,a,H);if(Ge(Y,me=>!Je(t,me,u)).length>0){const me=a.cloneNode(!1);return M.add(r,me),A.remove(u,f,me,y),M.remove(me),_e.some(me)}else return _e.none()},m8=t=>ey(t,vl(t).replace(new RegExp(`${Bi}$`)," ")),jne=(t,r)=>{const a=()=>{r!==null&&!t.dom.isEmpty(r)&&Bd(et.fromDom(r)).each(u=>{ti(u)?m8(u):Vv(u,f=>ti(f)).each(f=>{ti(f)&&m8(f)})})};t.once("input",u=>{u.data&&!F1(u.data)&&(u.isComposing?t.once("compositionend",()=>{a()}):a())})},z1e=(t,r,a)=>{let u;const f=t.selection,y=t.formatter.get(r);if(!y)return;const A=f.getRng();let M=A.startOffset;const Y=A.startContainer.nodeValue;u=ab(t.getBody(),f.getStart());const ue=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(Y&&M>0&&M<Y.length&&ue.test(Y.charAt(M))&&ue.test(Y.charAt(M-1))){const me=f.getBookmark();A.collapse(!0);let Se=Oc(t.dom,A,y);Se=SM(Se),t.formatter.apply(r,a,Se),f.moveToBookmark(me)}else{let me=u?da(u):null;(!u||(me==null?void 0:me.data)!==WI)&&(u=$ne(t.getDoc(),yV(!0).dom),me=u.firstChild,A.insertNode(u),M=1,jne(t,u)),t.formatter.apply(r,a,u),f.setCursorLocation(me,M)}},Wne=(t,r,a,u)=>{const f=t.dom,y=t.selection;let A=!1;const M=t.formatter.get(r);if(!M)return;const H=y.getRng(),Y=H.startContainer,ue=H.startOffset;let me=Y;Un(Y)&&(ue!==Y.data.length&&(A=!0),me=me.parentNode);const Se=[];let Oe;for(;me;){if(hb(t,me,r,a,u)){Oe=me;break}me.nextSibling&&(A=!0),Se.push(me),me=me.parentNode}if(Oe)if(A){const Ke=y.getBookmark();H.collapse(!0);let Ze=Oc(f,H,M,{includeTrailingSpace:!0});Ze=SM(Ze),t.formatter.remove(r,a,Ze,u),y.moveToBookmark(Ke)}else{const Ke=ab(t.getBody(),Oe),Ze=Ve(Ke)?f.getParents(Oe.parentNode,Tn,Ke):[],We=yV(!1).dom;zne(t,We,Ke??Oe);const Ct=p8(t,We,Oe,r,a,u),Et=f8([...Se,...Ct.toArray(),...Ze],We);Ke&&Uw(t,Ke,Ve(Ke)),y.setCursorLocation(Et,1),jne(t,We),f.isEmpty(Oe)&&f.remove(Oe)}},Gne=(t,r,a)=>{const u=t.selection,f=t.getBody();$M(t,null,a),(r===8||r===46)&&u.isCollapsed()&&u.getStart().innerHTML===WI&&$M(t,ab(f,u.getStart()),!0),(r===37||r===39)&&$M(t,ab(f,u.getStart()),!0)},qne=t=>Un(t)&&Wi(t.data,Bi),Zne=t=>{t.on("mouseup keydown",r=>{Gne(t,r.keyCode,qne(t.selection.getRng().endContainer))})},SV=t=>{const r=yV(!1),a=f8(t,r.dom);return{caretContainer:r,caretPosition:an(a,0)}},g8=(t,r)=>{const{caretContainer:a,caretPosition:u}=SV(r);return Mc(et.fromDom(t),a),Hi(et.fromDom(t)),u},Pr=(t,r)=>{const{caretContainer:a,caretPosition:u}=SV(r);return t.insertNode(a.dom),u},CV=(t,r)=>{if(tf(r.dom))return!1;const a=t.schema.getTextInlineElements();return jo(a,Ms(r))&&!tf(r.dom)&&!Vg(r.dom)},AT=["fontWeight","fontStyle","color","fontSize","fontFamily"],GI=t=>be(t.styles)&&wn(cn(t.styles),r=>zt(AT,r)),qI=t=>$t(t,r=>so(r)&&r.inline==="span"&&GI(r)),TT=(t,r)=>{const a=t.get(r);return Ae(a)?qI(a):_e.none()},EV=(t,r)=>Ah(r,an.fromRangeStart(t)).isNone(),Kne=(t,r)=>Zd(r,an.fromRangeEnd(t)).exists(a=>!ba(a.getNode())||Zd(r,a).isSome())===!1,Yne=t=>r=>Wm(r)&&t.isEditable(r),j1e=t=>{const r=t.getSelectedBlocks(),a=t.getRng();if(t.isCollapsed())return[];if(r.length===1)return EV(a,r[0])&&Kne(a,r[0])?r:[];{const u=en(r).filter(A=>EV(a,A)).toArray(),f=tn(r).filter(A=>Kne(a,A)).toArray(),y=r.slice(1,-1);return u.concat(y).concat(f)}},W1e=t=>Ge(j1e(t),Yne(t.dom)),v8=t=>Ge(t.getSelectedBlocks(),Yne(t.dom)),b8=Zn.each,wV=t=>No(t)&&!Nf(t)&&!tf(t)&&!Vg(t),y8=(t,r)=>{for(let a=t;a;a=a[r]){if(Un(a)&&wi(a.data))return t;if(No(a)&&!Nf(a))return a}return t},Xne=(t,r,a)=>{const u=pV(t),f=va(r)&&t.dom.isEditable(r),y=va(a)&&t.dom.isEditable(a);if(f&&y){const A=y8(r,"previousSibling"),M=y8(a,"nextSibling");if(u.compare(A,M)){for(let H=A.nextSibling;H&&H!==M;){const Y=H;H=H.nextSibling,A.appendChild(Y)}return t.dom.remove(M),Zn.each(Zn.grep(M.childNodes),H=>{A.appendChild(H)}),A}}return a},S8=(t,r,a,u)=>{var f;if(u&&r.merge_siblings!==!1){const y=(f=Xne(t,aM(u),u))!==null&&f!==void 0?f:u;Xne(t,y,aM(y,!0))}},Da=(t,r,a)=>{if(r.clear_child_styles){const u=r.links?"*:not(a)":"*";b8(t.select(u,a),f=>{wV(f)&&t.isEditable(f)&&b8(r.styles,(y,A)=>{t.setStyle(f,A,"")})})}},C8=(t,r,a)=>{b8(t.childNodes,u=>{wV(u)&&(r(u)&&a(u),u.hasChildNodes()&&C8(u,r,a))})},G1e=(t,r)=>{r.nodeName==="SPAN"&&t.getAttribs(r).length===0&&t.remove(r,!0)},E8=(t,r)=>a=>!!(a&&z(t,a,r)),xT=(t,r,a)=>u=>{t.setStyle(u,r,a),u.getAttribute("style")===""&&u.removeAttribute("style"),G1e(t,u)},zw=td.generate([{keep:[]},{rename:["name"]},{removed:[]}]),Jne=/^(src|href|style)$/,A0=Zn.each,oi=w,mu=t=>/^(TR|TH|TD)$/.test(t.nodeName),T0=(t,r,a)=>t.isChildOf(r,a)&&r!==a&&!t.isBlock(a),w8=(t,r,a)=>{let u=r[a?"startContainer":"endContainer"],f=r[a?"startOffset":"endOffset"];if(No(u)){const y=u.childNodes.length-1;!a&&f&&f--,u=u.childNodes[f>y?y:f]}return Un(u)&&a&&f>=u.data.length&&(u=new Ki(u,t.getBody()).next()||u),Un(u)&&!a&&f===0&&(u=new Ki(u,t.getBody()).prev()||u),u},_8=(t,r)=>{const a=r?"firstChild":"lastChild",u=t[a];return mu(t)&&u?t.nodeName==="TR"&&u[a]||u:t},_V=(t,r,a,u)=>{var f;const y=t.create(a,u);return(f=r.parentNode)===null||f===void 0||f.insertBefore(y,r),y.appendChild(r),y},A8=(t,r,a,u,f)=>{const y=et.fromDom(r),A=et.fromDom(t.create(u,f)),M=a?ra(y):Kl(y);return gh(A,M),a?(Mc(y,A),lp(A,y)):(mh(y,A),qr(A,y)),A.dom},T8=(t,r)=>r.links&&t.nodeName==="A",OT=(t,r,a)=>{const u=r.parentNode;let f;const y=t.dom,A=Wu(t);ft(a)&&u===y.getRoot()&&(!a.list_block||!oi(r,a.list_block))&&ct(to(r.childNodes),M=>{EC(t,A,M.nodeName.toLowerCase())?f?f.appendChild(M):(f=_V(y,M,A),y.setAttribs(f,pC(t))):f=null}),!(is(a)&&!oi(a.inline,r))&&y.remove(r,!0)},AV=(t,r,a)=>vt(t)?{name:r,value:null}:{name:t,value:b(r,a)},TV=(t,r)=>{t.getAttrib(r,"style")===""&&(r.removeAttribute("style"),r.removeAttribute("data-mce-style"))},x8=(t,r,a,u,f)=>{let y=!1;A0(a.styles,(A,M)=>{const{name:H,value:Y}=AV(M,A,u),ue=k(Y,H);(a.remove_similar||F(Y)||!No(f)||oi(z(t,f,H),ue))&&t.setStyle(r,H,""),y=!0}),y&&TV(t,r)},Qne=(t,r,a)=>{r==="removeformat"?ct(v8(t.selection),u=>{ct(AT,f=>t.dom.setStyle(u,f,"")),TV(t.dom,u)}):TT(t.formatter,r).each(u=>{ct(v8(t.selection),f=>x8(t.dom,f,u,a,null))})},xV=(t,r,a,u,f)=>{const y=t.dom,A=pV(t),M=t.schema;if(so(r)&&zc(M,r.inline)&&kn(M,u)&&u.parentElement===t.getBody())return OT(t,u,r),zw.removed();if(!r.ceFalseOverride&&u&&y.getContentEditableParent(u)==="false"||u&&!HM(y,u,r)&&!T8(u,r))return zw.keep();const H=u,Y=r.preserve_attributes;if(so(r)&&r.remove==="all"&&Ae(Y)){const ue=Ge(y.getAttribs(H),me=>zt(Y,me.name.toLowerCase()));if(y.removeAllAttribs(H),ct(ue,me=>y.setAttrib(H,me.name,me.value)),ue.length>0)return zw.rename("span")}if(r.remove!=="all"){x8(y,H,r,a,f),A0(r.attributes,(me,Se)=>{const{name:Oe,value:Ke}=AV(Se,me,a);if(r.remove_similar||F(Ke)||!No(f)||oi(y.getAttrib(f,Oe),Ke)){if(Oe==="class"){const Ze=y.getAttrib(H,Oe);if(Ze){let We="";if(ct(Ze.split(/\s+/),Ct=>{/mce\-\w+/.test(Ct)&&(We+=(We?" ":"")+Ct)}),We){y.setAttrib(H,Oe,We);return}}}if(Jne.test(Oe)&&H.removeAttribute("data-mce-"+Oe),Oe==="style"&&Nc(["li"])(H)&&y.getStyle(H,"list-style-type")==="none"){H.removeAttribute(Oe),y.setStyle(H,"list-style-type","none");return}Oe==="class"&&H.removeAttribute("className"),H.removeAttribute(Oe)}}),A0(r.classes,me=>{me=b(me,a),(!No(f)||y.hasClass(f,me))&&y.removeClass(H,me)});const ue=y.getAttribs(H);for(let me=0;me<ue.length;me++){const Se=ue[me].nodeName;if(!A.isAttributeInternal(Se))return zw.keep()}}return r.remove!=="none"?(OT(t,H,r),zw.removed()):zw.keep()},O8=(t,r,a,u,f)=>{let y;return r.parentNode&&ct(pe(t.dom,r.parentNode).reverse(),A=>{if(!y&&No(A)&&A.id!=="_start"&&A.id!=="_end"){const M=hb(t,A,a,u,f);M&&M.split!==!1&&(y=A)}}),y},eoe=(t,r,a,u)=>xV(t,r,a,u,u).fold(ot(u),f=>(t.dom.createFragment().appendChild(u),t.dom.rename(u,f)),ot(null)),toe=(t,r,a,u,f,y,A,M)=>{var H,Y;let ue,me;const Se=t.dom;if(a){const Oe=a.parentNode;for(let Ke=u.parentNode;Ke&&Ke!==Oe;Ke=Ke.parentNode){let Ze=Se.clone(Ke,!1);for(let We=0;We<r.length&&(Ze=eoe(t,r[We],M,Ze),Ze!==null);We++);Ze&&(ue&&Ze.appendChild(ue),me||(me=Ze),ue=Ze)}(!A.mixed||!Se.isBlock(a))&&(u=(H=Se.split(a,u))!==null&&H!==void 0?H:u),ue&&me&&((Y=f.parentNode)===null||Y===void 0||Y.insertBefore(ue,f),me.appendChild(f),so(A)&&S8(t,A,M,ue))}return u},noe=(t,r,a,u,f)=>{const y=t.formatter.get(r),A=y[0],M=t.dom,H=t.selection,Y=Ze=>{const We=O8(t,Ze,r,a,f);return toe(t,y,We,Ze,Ze,!0,A,a)},ue=Ze=>Nf(Ze)&&No(Ze)&&(Ze.id==="_start"||Ze.id==="_end"),me=Ze=>wn(y,We=>IT(t,We,a,Ze,Ze)),Se=Ze=>{const We=to(Ze.childNodes),Et=me(Ze)||wn(y,In=>HM(M,Ze,In)),Pt=Ze.parentNode;if(!Et&&Ve(Pt)&&yn(A)&&me(Pt),A.deep&&We.length)for(let In=0;In<We.length;In++)Se(We[In]);ct(["underline","line-through","overline"],In=>{No(Ze)&&t.dom.getStyle(Ze,"text-decoration")===In&&Ze.parentNode&&se(M,Ze.parentNode)===In&&IT(t,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:In}},void 0,Ze)})},Oe=Ze=>{const We=M.get(Ze?"_start":"_end");if(We){let Ct=We[Ze?"firstChild":"lastChild"];return ue(Ct)&&(Ct=Ct[Ze?"firstChild":"lastChild"]),Un(Ct)&&Ct.data.length===0&&(Ct=Ze?We.previousSibling||We.nextSibling:We.nextSibling||We.previousSibling),M.remove(We,!0),Ct}else return null},Ke=Ze=>{let We,Ct,Et=Oc(M,Ze,y,{includeTrailingSpace:Ze.collapsed});if(A.split){if(Et=SM(Et),We=w8(t,Et,!0),Ct=w8(t,Et),We!==Ct){if(We=_8(We,!0),Ct=_8(Ct,!1),T0(M,We,Ct)){const Kt=_e.from(We.firstChild).getOr(We);Y(A8(M,Kt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),Oe(!0);return}if(T0(M,Ct,We)){const Kt=_e.from(Ct.lastChild).getOr(Ct);Y(A8(M,Kt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),Oe(!1);return}We=_V(M,We,"span",{id:"_start","data-mce-type":"bookmark"}),Ct=_V(M,Ct,"span",{id:"_end","data-mce-type":"bookmark"});const Pt=M.createRng();Pt.setStartAfter(We),Pt.setEndBefore(Ct),wC(M,Pt,Kt=>{ct(Kt,In=>{!Nf(In)&&!Nf(In.parentNode)&&Y(In)})}),Y(We),Y(Ct),We=Oe(!0),Ct=Oe()}else We=Ct=Y(We);Et.startContainer=We.parentNode?We.parentNode:We,Et.startOffset=M.nodeIndex(We),Et.endContainer=Ct.parentNode?Ct.parentNode:Ct,Et.endOffset=M.nodeIndex(Ct)+1}wC(M,Et,Pt=>{ct(Pt,Se)})};if(u){if(Mw(u)){const Ze=M.createRng();Ze.setStartBefore(u),Ze.setEndAfter(u),Ke(Ze)}else Ke(u);uD(t,r,u,a);return}!H.isCollapsed()||!so(A)||Ey(t).length?(ST(t,()=>OI(t,Ke),Ze=>so(A)&&vV(t,r,a,Ze)),t.nodeChanged()):Wne(t,r,a,f),Qne(t,r,a),uD(t,r,u,a)},I8=(t,r,a,u,f)=>{(u||t.selection.isEditable())&&noe(t,r,a,u,f)},OV=(t,r,a,u)=>xV(t,r,a,u).fold(()=>_e.some(u),f=>_e.some(t.dom.rename(u,f)),_e.none),IT=(t,r,a,u,f)=>xV(t,r,a,u,f).fold(qt,y=>(t.dom.rename(u,y),!0),Tn),UM=["fontsize","subscript","superscript"],q1e=["strikethrough",...UM],eh=(t,r,a)=>Ve(t.matchNode(r.dom,a,{},a==="fontsize")),IV=(t,r)=>wn(UM,a=>eh(t,r,a)),Z1e=t=>zt(q1e,t),ooe=(t,r,a,u,f)=>{const y=$c(r,t).filter(sa);return ks(y,a).map(A=>{const M=y[A],H=u(M),Y=[...f(wl(M)).toArray(),...Ao(y.slice(0,A),ue=>a(ue)?f(ue).toArray():[wl(ue)])];return{container:M,innerWrapper:H,outerWrappers:Y}})},soe=(t,r,a,u)=>{ct(mr(t),f=>{sa(f)&&a(f)&&u(f).isNone()&&Nu(f)}),ct(mr(t),f=>qr(r,f)),lp(t,r)},roe=(t,r)=>{if(r.length>0){const a=r[r.length-1];Mc(t,a);const u=On(r.slice(0,r.length-1),(f,y)=>(qr(f,y),y),a);qr(u,t)}},ioe=(t,r,a,u,f)=>{const y=A=>Do(et.fromDom(t.getRoot()),A)||t.isBlock(A.dom);ct(r,A=>{ooe(y,A,a,u,f).each(({container:M,innerWrapper:H,outerWrappers:Y})=>{t.split(M.dom,A.dom),soe(A,H,a,f),roe(A,Y)})})},RV=(t,r,a)=>{const u=M=>Ve(hb(t,M.dom,r)),f=M=>{const H=et.fromTag(Ms(M)),Y=hb(t,M.dom,r,{});return Ve(Y)&&$1e(Y)&&_T(t,H.dom,Y),H},y=M=>{const H=hb(t,M.dom,r,{});return Ve(H)?OV(t,H,{},M.dom).map(et.fromDom):_e.some(M)},A=kC(t.selection.getRng());ioe(t.dom,a,u,f,y),t.selection.setRng(DC(A))},ZI=(t,r)=>Ao(r,a=>{const u=qe(a,f=>IV(t,f));return IV(t,a)?[a,...u]:u}),aoe=(t,r,a)=>{if(Z1e(r)){const u=ZI(t.formatter,a);RV(t,"strikethrough",u)}},R8=(t,r)=>{const a=Ge(r,u=>IV(t.formatter,u));RV(t,"strikethrough",a)},k8=t=>["h1","h2","h3","h4","h5","h6"].includes(t.name),jw=t=>t.name==="summary",D8=(t,r)=>{let a=t;for(;a=a.walk();)r(a)},kV=(t,r,a,u)=>{const f=a.name;for(let y=0,A=t.length;y<A;y++){const M=t[y];if(M.name===f){const H=u.nodes[f];H?H.nodes.push(a):u.nodes[f]={filter:M,nodes:[a]}}}if(a.attributes)for(let y=0,A=r.length;y<A;y++){const M=r[y],H=M.name;if(H in a.attributes.map){const Y=u.attributes[H];Y?Y.nodes.push(a):u.attributes[H]={filter:M,nodes:[a]}}}},M8=(t,r,a)=>{const u={nodes:{},attributes:{}};return a.firstChild&&D8(a,f=>{kV(t,r,f,u)}),u},DV=(t,r)=>{const a=(u,f)=>{Xn(u,y=>{const A=to(y.nodes);ct(y.filter.callbacks,M=>{for(let H=A.length-1;H>=0;H--){const Y=A[H];(!(f?Y.attr(y.filter.name)!==void 0:Y.name===y.filter.name)||Xe(Y.parent))&&A.splice(H,1)}A.length>0&&M(A,y.filter.name,r)})})};a(t.nodes,!1),a(t.attributes,!0)},MV=(t,r,a,u={})=>{const f=M8(t,r,a);DV(f,u)},PV=(t,r,a,u)=>{if((t.pad_empty_with_br||r.insert)&&a(u)){const y=new of("br",1);r.insert&&y.attr("data-mce-bogus","1"),u.empty().append(y)}else u.empty().append(new of("#text",3)).value=Bi},P8=t=>{var r;return N8(t,"#text")&&((r=t==null?void 0:t.firstChild)===null||r===void 0?void 0:r.value)===Bi},N8=(t,r)=>{const a=t==null?void 0:t.firstChild;return Ve(a)&&a===t.lastChild&&a.name===r},loe=(t,r)=>{const a=t.getElementRule(r.name);return(a==null?void 0:a.paddEmpty)===!0},KI=(t,r,a,u)=>u.isEmpty(r,a,f=>loe(t,f)),coe=(t,r)=>Ve(t)&&(r(t)||t.name==="br"),uoe=t=>{let r;for(let a=t;a;a=a.parent){const u=a.attr("contenteditable");if(u==="false")break;u==="true"&&(r=a)}return _e.from(r)},K1e=t=>{const r=[];for(let a=t.firstChild;Ve(a);a=a.walk())r.push(a);return r},NV=(t,r,a=t.parent)=>{if(r.getSpecialElements()[t.name])t.empty().remove();else{const u=t.children();for(const f of u)a&&!r.isValidChild(a.name,f.name)&&NV(f,r,a);t.unwrap()}},L8=(t,r,a,u=gt)=>{const f=r.getTextBlockElements(),y=r.getNonEmptyElements(),A=r.getWhitespaceElements(),M=Zn.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),H=new Set,Y=ue=>ue!==a&&!M[ue.name];for(let ue=0;ue<t.length;ue++){const me=t[ue];let Se,Oe,Ke;if(!me.parent||H.has(me))continue;if(f[me.name]&&me.parent.name==="li"){let We=me.next;for(;We&&f[We.name];){We.name="li",H.add(We),me.parent.insert(We,me.parent);We=We.next}me.unwrap();continue}const Ze=[me];for(Se=me.parent;Se&&!r.isValidChild(Se.name,me.name)&&Y(Se);Se=Se.parent)Ze.push(Se);if(Se&&Ze.length>1)if(LV(r,me,Se))NV(me,r);else{Ze.reverse(),Oe=Ze[0].clone(),u(Oe);let We=Oe;for(let Ct=0;Ct<Ze.length-1;Ct++){r.isValidChild(We.name,Ze[Ct].name)&&Ct>0?(Ke=Ze[Ct].clone(),u(Ke),We.append(Ke)):Ke=We;for(let Et=Ze[Ct].firstChild;Et&&Et!==Ze[Ct+1];){const Pt=Et.next;Ke.append(Et),Et=Pt}We=Ke}KI(r,y,A,Oe)?Se.insert(me,Ze[0],!0):(Se.insert(Oe,Ze[0],!0),Se.insert(me,Oe)),Se=Ze[0],(KI(r,y,A,Se)||N8(Se,"br"))&&Se.empty().remove()}else if(me.parent){if(me.name==="li"){let We=me.prev;if(We&&(We.name==="ul"||We.name==="ol")){We.append(me);continue}if(We=me.next,We&&(We.name==="ul"||We.name==="ol")&&We.firstChild){We.insert(me,We.firstChild,!0);continue}const Ct=new of("ul",1);u(Ct),me.wrap(Ct);continue}if(r.isValidChild(me.parent.name,"div")&&r.isValidChild("div",me.name)){const We=new of("div",1);u(We),me.wrap(We)}else NV(me,r)}}},Y1e=(t,r)=>{let a=t;for(;a;){if(a.name===r)return!0;a=a.parent}return!1},LV=(t,r,a=r.parent)=>a?t.children[r.name]&&!t.isValidChild(a.name,r.name)||r.name==="a"&&Y1e(a,"a")?!0:jw(a)&&k8(r)?!((a==null?void 0:a.firstChild)===r&&(a==null?void 0:a.lastChild)===r):!1:!1,BV=(t,r,a,u)=>{const f=document.createRange();return f.setStart(t,r),f.setEnd(a,u),f},VV=t=>{const r=an.fromRangeStart(t),a=an.fromRangeEnd(t),u=t.commonAncestorContainer;return qd(!1,u,a).map(f=>!sb(r,a,u)&&sb(r,f,u)?BV(r.container(),r.offset(),f.container(),f.offset()):t).getOr(t)},zM=t=>t.collapsed?t:VV(t),doe=Zn.explode,B8=()=>{const t={};return{addFilter:(f,y)=>{ct(doe(f),A=>{jo(t,A)||(t[A]={name:A,callbacks:[]}),t[A].callbacks.push(y)})},getFilters:()=>ta(t),removeFilter:(f,y)=>{ct(doe(f),A=>{if(jo(t,A))if(Ve(y)){const M=t[A],H=Ge(M.callbacks,Y=>Y!==y);H.length>0?M.callbacks=H:delete t[A]}else delete t[A]})}}},hoe=t=>t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),foe=t=>t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),poe=(t,r)=>{ct(r,a=>{t.attr(a,null)})},moe=(t,r,a)=>{t.addNodeFilter("font",u=>{ct(u,f=>{const y=r.parse(f.attr("style")),A=f.attr("color"),M=f.attr("face"),H=f.attr("size");A&&(y.color=A),M&&(y["font-family"]=M),H&&pf(H).each(Y=>{y["font-size"]=a[Y-1]}),f.name="span",f.attr("style",r.serialize(y)),poe(f,["color","face","size"])})})},goe=(t,r,a)=>{t.addNodeFilter("strike",u=>{const f=r.type!=="html4";ct(u,y=>{if(f)y.name="s";else{const A=a.parse(y.attr("style"));A["text-decoration"]="line-through",y.name="span",y.attr("style",a.serialize(A))}})})},voe=(t,r,a)=>{var u;const f=d0();r.convert_fonts_to_spans&&moe(t,f,Zn.explode((u=r.font_size_legacy_values)!==null&&u!==void 0?u:"")),goe(t,a,f)},V8=(t,r,a)=>{r.inline_styles&&voe(t,r,a)},boe=t=>fetch(t).then(r=>r.ok?r.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${t} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),yoe=t=>{const r=/([a-z0-9+\/=\s]+)/i.exec(t);return r?r[1]:""},W1=t=>{try{return decodeURIComponent(t)}catch{return t}},FV=t=>{const[r,...a]=t.split(","),u=a.join(","),f=/data:([^/]+\/[^;]+)(;.+)?/.exec(r);if(f){const y=f[2]===";base64",A=W1(u),M=y?yoe(A):A;return _e.some({type:f[1],data:M,base64Encoded:y})}else return _e.none()},HV=(t,r,a=!0)=>{let u=r;if(a)try{u=atob(r)}catch{return _e.none()}const f=new Uint8Array(u.length);for(let y=0;y<f.length;y++)f[y]=u.charCodeAt(y);return _e.some(new Blob([f],{type:t}))},Soe=t=>new Promise((r,a)=>{FV(t).bind(({type:u,data:f,base64Encoded:y})=>HV(u,f,y)).fold(()=>a("Invalid data URI"),r)}),Coe=t=>Ss(t,"blob:")?boe(t):Ss(t,"data:")?Soe(t):Promise.reject("Unknown URI format"),$V=t=>new Promise((r,a)=>{const u=new FileReader;u.onloadend=()=>{r(u.result)},u.onerror=()=>{var f;a((f=u.error)===null||f===void 0?void 0:f.message)},u.readAsDataURL(t)});let F8=0;const H8=t=>"blobid"+F8++,UV=(t,r,a)=>FV(t).bind(({data:u,type:f,base64Encoded:y})=>{if(r&&!y)return _e.none();{const A=y?u:btoa(u);return a(A,f)}}),$8=(t,r,a)=>{const u=t.create(H8(),r,a);return t.add(u),u},U8=(t,r,a=!1)=>UV(r,a,(u,f)=>_e.from(t.getByData(u,f)).orThunk(()=>HV(f,u).map(y=>$8(t,y,u)))),Eoe=(t,r)=>{const a=()=>Promise.reject("Invalid data URI");if(Ss(r,"blob:")){const u=t.getByUri(r);return Ve(u)?Promise.resolve(u):Coe(r).then(f=>$V(f).then(y=>UV(y,!1,A=>_e.some($8(t,f,A))).getOrThunk(a)))}else return Ss(r,"data:")?U8(t,r).fold(a,u=>Promise.resolve(u)):Promise.reject("Unknown image data format")},woe=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,_oe=t=>_e.from(t.match(woe)).bind(r=>Vt(r,1)).map(r=>Ss(r,"www.")?r.substring(4):r),MC=(t,r)=>{_e.from(t.attr("src")).bind(_oe).forall(a=>!zt(r,a))&&t.attr("sandbox","")},jM=(t,r)=>Ss(t,`${r}/`),Aoe=t=>tt(t)?"iframe":jM(t,"image")?"img":jM(t,"video")?"video":jM(t,"audio")?"audio":"iframe",Toe=({type:t,src:r,width:a,height:u}={},f,y)=>{const A=Aoe(t),M=new of(A,1);return M.attr(A==="audio"?{src:r}:{src:r,width:a,height:u}),(A==="audio"||A==="video")&&M.attr("controls",""),A==="iframe"&&f&&MC(M,y),M},zV=t=>Ve(t.attr("data-mce-bogus")),xoe=t=>t.attr("src")===Tr.transparentSrc||Ve(t.attr("data-mce-placeholder")),jV=(t,r)=>{const{blob_cache:a}=r;if(a){const u=f=>{const y=f.attr("src");xoe(f)||zV(f)||Xe(y)||U8(a,y,!0).each(A=>{f.attr("src",A.blobUri())})};t.addAttributeFilter("src",f=>ct(f,u))}},z8=(t,r)=>{var a,u;const f=t.schema;t.addAttributeFilter("href",H=>{let Y=H.length;const ue=Se=>Se.split(" ").filter(Ke=>Ke.length>0).concat(["noopener"]).sort().join(" "),me=Se=>{const Oe=Se?Zn.trim(Se):"";return/\b(noopener)\b/g.test(Oe)?Oe:ue(Oe)};if(!r.allow_unsafe_link_target)for(;Y--;){const Se=H[Y];Se.name==="a"&&Se.attr("target")==="_blank"&&Se.attr("rel",me(Se.attr("rel")))}}),r.allow_html_in_named_anchor||t.addAttributeFilter("id,name",H=>{let Y=H.length,ue,me,Se,Oe;for(;Y--;)if(Oe=H[Y],Oe.name==="a"&&Oe.firstChild&&!Oe.attr("href"))for(Se=Oe.parent,ue=Oe.lastChild;ue&&Se;)me=ue.prev,Se.insert(ue,Oe),ue=me}),r.fix_list_elements&&t.addNodeFilter("ul,ol",H=>{let Y=H.length,ue,me;for(;Y--;)if(ue=H[Y],me=ue.parent,me&&(me.name==="ul"||me.name==="ol"))if(ue.prev&&ue.prev.name==="li")ue.prev.append(ue);else{const Se=new of("li",1);Se.attr("style","list-style-type: none"),ue.wrap(Se)}});const y=f.getValidClasses();r.validate&&y&&t.addAttributeFilter("class",H=>{var Y;let ue=H.length;for(;ue--;){const me=H[ue],Se=(Y=me.attr("class"))!==null&&Y!==void 0?Y:"",Oe=Zn.explode(Se," ");let Ke="";for(let Ze=0;Ze<Oe.length;Ze++){const We=Oe[Ze];let Ct=!1,Et=y["*"];Et&&Et[We]&&(Ct=!0),Et=y[me.name],!Ct&&Et&&Et[We]&&(Ct=!0),Ct&&(Ke&&(Ke+=" "),Ke+=We)}Ke.length||(Ke=null),me.attr("class",Ke)}}),jV(t,r);const A=(a=r.sandbox_iframes)!==null&&a!==void 0?a:!1,M=To((u=r.sandbox_iframes_exclusions)!==null&&u!==void 0?u:[]);r.convert_unsafe_embeds&&t.addNodeFilter("object,embed",H=>ct(H,Y=>{Y.replace(Toe({type:Y.attr("type"),src:Y.name==="object"?Y.attr("data"):Y.attr("src"),width:Y.attr("width"),height:Y.attr("height")},A,M))})),A&&t.addNodeFilter("iframe",H=>ct(H,Y=>MC(Y,M)))};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:j8,setPrototypeOf:W8,isFrozen:WM,getPrototypeOf:Ooe,getOwnPropertyDescriptor:G8}=Object;let{freeze:hm,seal:cv,create:WV}=Object,{apply:GM,construct:GV}=typeof Reflect<"u"&&Reflect;hm||(hm=function(r){return r}),cv||(cv=function(r){return r}),GM||(GM=function(r,a,u){return r.apply(a,u)}),GV||(GV=function(r,a){return new r(...a)});const YI=pm(Array.prototype.forEach),Ioe=pm(Array.prototype.lastIndexOf),q8=pm(Array.prototype.pop),XI=pm(Array.prototype.push),fm=pm(Array.prototype.splice),JI=pm(String.prototype.toLowerCase),qV=pm(String.prototype.toString),ZV=pm(String.prototype.match),QI=pm(String.prototype.replace),Roe=pm(String.prototype.indexOf),koe=pm(String.prototype.trim),Ep=pm(Object.prototype.hasOwnProperty),th=pm(RegExp.prototype.test),qM=Doe(TypeError);function pm(t){return function(r){r instanceof RegExp&&(r.lastIndex=0);for(var a=arguments.length,u=new Array(a>1?a-1:0),f=1;f<a;f++)u[f-1]=arguments[f];return GM(t,r,u)}}function Doe(t){return function(){for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];return GV(t,a)}}function Si(t,r){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:JI;W8&&W8(t,null);let u=r.length;for(;u--;){let f=r[u];if(typeof f=="string"){const y=a(f);y!==f&&(WM(r)||(r[u]=y),f=y)}t[f]=!0}return t}function Moe(t){for(let r=0;r<t.length;r++)Ep(t,r)||(t[r]=null);return t}function G1(t){const r=WV(null);for(const[a,u]of j8(t))Ep(t,a)&&(Array.isArray(u)?r[a]=Moe(u):u&&typeof u=="object"&&u.constructor===Object?r[a]=G1(u):r[a]=u);return r}function PC(t,r){for(;t!==null;){const u=G8(t,r);if(u){if(u.get)return pm(u.get);if(typeof u.value=="function")return pm(u.value)}t=Ooe(t)}function a(){return null}return a}const Z8=hm(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),eR=hm(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),tR=hm(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),K8=hm(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),KV=hm(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),X1e=hm(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),q1=hm(["#text"]),Y8=hm(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),YV=hm(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),X8=hm(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Cr=hm(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Poe=cv(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Noe=cv(/<%[\w\W]*|[\w\W]*%>/gm),J8=cv(/\$\{[\w\W]*/gm),Loe=cv(/^data-[\-\w.\u00B7-\uFFFF]+$/),Boe=cv(/^aria-[\-\w]+$/),Hl=cv(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Voe=cv(/^(?:\w+script|data):/i),Foe=cv(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Q8=cv(/^html$/i),Hoe=cv(/^[a-z][.\w]*(-[.\w]+)+$/i);var el=Object.freeze({__proto__:null,ARIA_ATTR:Boe,ATTR_WHITESPACE:Foe,CUSTOM_ELEMENT:Hoe,DATA_ATTR:Loe,DOCTYPE_NAME:Q8,ERB_EXPR:Noe,IS_ALLOWED_URI:Hl,IS_SCRIPT_OR_DATA:Voe,MUSTACHE_EXPR:Poe,TMPLIT_EXPR:J8});const RT={element:1,text:3,progressingInstruction:7,comment:8,document:9},e7=function(){return typeof window>"u"?null:window},$oe=function(r,a){if(typeof r!="object"||typeof r.createPolicy!="function")return null;let u=null;const f="data-tt-policy-suffix";a&&a.hasAttribute(f)&&(u=a.getAttribute(f));const y="dompurify"+(u?"#"+u:"");try{return r.createPolicy(y,{createHTML(A){return A},createScriptURL(A){return A}})}catch{return console.warn("TrustedTypes policy "+y+" could not be created."),null}},XV=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function t7(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e7();const r=Hr=>t7(Hr);if(r.version="3.2.6",r.removed=[],!t||!t.document||t.document.nodeType!==RT.document||!t.Element)return r.isSupported=!1,r;let{document:a}=t;const u=a,f=u.currentScript,{DocumentFragment:y,HTMLTemplateElement:A,Node:M,Element:H,NodeFilter:Y,NamedNodeMap:ue=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:me,DOMParser:Se,trustedTypes:Oe}=t,Ke=H.prototype,Ze=PC(Ke,"cloneNode"),We=PC(Ke,"remove"),Ct=PC(Ke,"nextSibling"),Et=PC(Ke,"childNodes"),Pt=PC(Ke,"parentNode");if(typeof A=="function"){const Hr=a.createElement("template");Hr.content&&Hr.content.ownerDocument&&(a=Hr.content.ownerDocument)}let Kt,In="";const{implementation:ho,createNodeIterator:Kn,createDocumentFragment:Sn,getElementsByTagName:Dt}=a,{importNode:Qe}=u;let Xt=XV();r.isSupported=typeof j8=="function"&&typeof Pt=="function"&&ho&&ho.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:qn,ERB_EXPR:ss,TMPLIT_EXPR:Gs,DATA_ATTR:Or,ARIA_ATTR:Yr,IS_SCRIPT_OR_DATA:tl,ATTR_WHITESPACE:nl,CUSTOM_ELEMENT:Cd}=el;let{IS_ALLOWED_URI:lo}=el,as=null;const ri=Si({},[...Z8,...eR,...tR,...KV,...q1]);let Ni=null;const es=Si({},[...Y8,...YV,...X8,...Cr]);let uo=Object.seal(WV(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Io=null,Ds=null,qs=!0,qi=!0,Aa=!1,yv=!0,oh=!1,M0=!0,Cb=!1,_p=!1,Em=!1,P0=!1,px=!1,Ts=!1,ii=!0,fc=!1;const Gu="user-content-";let Ed=!0,gu=!1,Ul={},zl=null;const wm=Si({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ny=null;const QC=Si({},["audio","video","img","source","image","track"]);let aS=null;const mL=Si({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),gL="http://www.w3.org/1998/Math/MathML",C2="http://www.w3.org/2000/svg",Ly="http://www.w3.org/1999/xhtml";let mx=Ly,t5=!1,vL=null;const ESe=Si({},[gL,C2,Ly],qV);let n5=Si({},["mi","mo","mn","ms","mtext"]),o5=Si({},["annotation-xml"]);const wSe=Si({},["title","style","font","a","script"]);let bL=null;const gx=["application/xhtml+xml","text/html"],SY="text/html";let Gt=null,on=null;const Eo=a.createElement("form"),po=function(sn){return sn instanceof RegExp||sn instanceof Function},Ps=function(){let sn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(on&&on===sn)){if((!sn||typeof sn!="object")&&(sn={}),sn=G1(sn),bL=gx.indexOf(sn.PARSER_MEDIA_TYPE)===-1?SY:sn.PARSER_MEDIA_TYPE,Gt=bL==="application/xhtml+xml"?qV:JI,as=Ep(sn,"ALLOWED_TAGS")?Si({},sn.ALLOWED_TAGS,Gt):ri,Ni=Ep(sn,"ALLOWED_ATTR")?Si({},sn.ALLOWED_ATTR,Gt):es,vL=Ep(sn,"ALLOWED_NAMESPACES")?Si({},sn.ALLOWED_NAMESPACES,qV):ESe,aS=Ep(sn,"ADD_URI_SAFE_ATTR")?Si(G1(mL),sn.ADD_URI_SAFE_ATTR,Gt):mL,Ny=Ep(sn,"ADD_DATA_URI_TAGS")?Si(G1(QC),sn.ADD_DATA_URI_TAGS,Gt):QC,zl=Ep(sn,"FORBID_CONTENTS")?Si({},sn.FORBID_CONTENTS,Gt):wm,Io=Ep(sn,"FORBID_TAGS")?Si({},sn.FORBID_TAGS,Gt):G1({}),Ds=Ep(sn,"FORBID_ATTR")?Si({},sn.FORBID_ATTR,Gt):G1({}),Ul=Ep(sn,"USE_PROFILES")?sn.USE_PROFILES:!1,qs=sn.ALLOW_ARIA_ATTR!==!1,qi=sn.ALLOW_DATA_ATTR!==!1,Aa=sn.ALLOW_UNKNOWN_PROTOCOLS||!1,yv=sn.ALLOW_SELF_CLOSE_IN_ATTR!==!1,oh=sn.SAFE_FOR_TEMPLATES||!1,M0=sn.SAFE_FOR_XML!==!1,Cb=sn.WHOLE_DOCUMENT||!1,P0=sn.RETURN_DOM||!1,px=sn.RETURN_DOM_FRAGMENT||!1,Ts=sn.RETURN_TRUSTED_TYPE||!1,Em=sn.FORCE_BODY||!1,ii=sn.SANITIZE_DOM!==!1,fc=sn.SANITIZE_NAMED_PROPS||!1,Ed=sn.KEEP_CONTENT!==!1,gu=sn.IN_PLACE||!1,lo=sn.ALLOWED_URI_REGEXP||Hl,mx=sn.NAMESPACE||Ly,n5=sn.MATHML_TEXT_INTEGRATION_POINTS||n5,o5=sn.HTML_INTEGRATION_POINTS||o5,uo=sn.CUSTOM_ELEMENT_HANDLING||{},sn.CUSTOM_ELEMENT_HANDLING&&po(sn.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(uo.tagNameCheck=sn.CUSTOM_ELEMENT_HANDLING.tagNameCheck),sn.CUSTOM_ELEMENT_HANDLING&&po(sn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(uo.attributeNameCheck=sn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),sn.CUSTOM_ELEMENT_HANDLING&&typeof sn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(uo.allowCustomizedBuiltInElements=sn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),oh&&(qi=!1),px&&(P0=!0),Ul&&(as=Si({},q1),Ni=[],Ul.html===!0&&(Si(as,Z8),Si(Ni,Y8)),Ul.svg===!0&&(Si(as,eR),Si(Ni,YV),Si(Ni,Cr)),Ul.svgFilters===!0&&(Si(as,tR),Si(Ni,YV),Si(Ni,Cr)),Ul.mathMl===!0&&(Si(as,KV),Si(Ni,X8),Si(Ni,Cr))),sn.ADD_TAGS&&(as===ri&&(as=G1(as)),Si(as,sn.ADD_TAGS,Gt)),sn.ADD_ATTR&&(Ni===es&&(Ni=G1(Ni)),Si(Ni,sn.ADD_ATTR,Gt)),sn.ADD_URI_SAFE_ATTR&&Si(aS,sn.ADD_URI_SAFE_ATTR,Gt),sn.FORBID_CONTENTS&&(zl===wm&&(zl=G1(zl)),Si(zl,sn.FORBID_CONTENTS,Gt)),Ed&&(as["#text"]=!0),Cb&&Si(as,["html","head","body"]),as.table&&(Si(as,["tbody"]),delete Io.tbody),sn.TRUSTED_TYPES_POLICY){if(typeof sn.TRUSTED_TYPES_POLICY.createHTML!="function")throw qM('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof sn.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw qM('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Kt=sn.TRUSTED_TYPES_POLICY,In=Kt.createHTML("")}else Kt===void 0&&(Kt=$oe(Oe,f)),Kt!==null&&typeof In=="string"&&(In=Kt.createHTML(""));hm&&hm(sn),on=sn}},Ci=Si({},[...eR,...tR,...K8]),pc=Si({},[...KV,...X1e]),lS=function(sn){let ys=Pt(sn);(!ys||!ys.tagName)&&(ys={namespaceURI:mx,tagName:"template"});const Ir=JI(sn.tagName),qu=JI(ys.tagName);return vL[sn.namespaceURI]?sn.namespaceURI===C2?ys.namespaceURI===Ly?Ir==="svg":ys.namespaceURI===gL?Ir==="svg"&&(qu==="annotation-xml"||n5[qu]):!!Ci[Ir]:sn.namespaceURI===gL?ys.namespaceURI===Ly?Ir==="math":ys.namespaceURI===C2?Ir==="math"&&o5[qu]:!!pc[Ir]:sn.namespaceURI===Ly?ys.namespaceURI===C2&&!o5[qu]||ys.namespaceURI===gL&&!n5[qu]?!1:!pc[Ir]&&(wSe[Ir]||!Ci[Ir]):!!(bL==="application/xhtml+xml"&&vL[sn.namespaceURI]):!1},By=function(sn){XI(r.removed,{element:sn});try{Pt(sn).removeChild(sn)}catch{We(sn)}},yL=function(sn,ys){try{XI(r.removed,{attribute:ys.getAttributeNode(sn),from:ys})}catch{XI(r.removed,{attribute:null,from:ys})}if(ys.removeAttribute(sn),sn==="is")if(P0||px)try{By(ys)}catch{}else try{ys.setAttribute(sn,"")}catch{}},_Se=function(sn){let ys=null,Ir=null;if(Em)sn="<remove></remove>"+sn;else{const Hf=ZV(sn,/^[\r\n\t ]+/);Ir=Hf&&Hf[0]}bL==="application/xhtml+xml"&&mx===Ly&&(sn='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+sn+"</body></html>");const qu=Kt?Kt.createHTML(sn):sn;if(mx===Ly)try{ys=new Se().parseFromString(qu,bL)}catch{}if(!ys||!ys.documentElement){ys=ho.createDocument(mx,"template",null);try{ys.documentElement.innerHTML=t5?In:qu}catch{}}const dg=ys.body||ys.documentElement;return sn&&Ir&&dg.insertBefore(a.createTextNode(Ir),dg.childNodes[0]||null),mx===Ly?Dt.call(ys,Cb?"html":"body")[0]:Cb?ys.documentElement:dg},ASe=function(sn){return Kn.call(sn.ownerDocument||sn,sn,Y.SHOW_ELEMENT|Y.SHOW_COMMENT|Y.SHOW_TEXT|Y.SHOW_PROCESSING_INSTRUCTION|Y.SHOW_CDATA_SECTION,null)},Ofe=function(sn){return sn instanceof me&&(typeof sn.nodeName!="string"||typeof sn.textContent!="string"||typeof sn.removeChild!="function"||!(sn.attributes instanceof ue)||typeof sn.removeAttribute!="function"||typeof sn.setAttribute!="function"||typeof sn.namespaceURI!="string"||typeof sn.insertBefore!="function"||typeof sn.hasChildNodes!="function")},TSe=function(sn){return typeof M=="function"&&sn instanceof M};function C_(Hr,sn,ys){YI(Hr,Ir=>{Ir.call(r,sn,ys,on)})}const xSe=function(sn){let ys=null;if(C_(Xt.beforeSanitizeElements,sn,null),Ofe(sn))return By(sn),!0;const Ir=Gt(sn.nodeName);if(C_(Xt.uponSanitizeElement,sn,{tagName:Ir,allowedTags:as}),M0&&sn.hasChildNodes()&&!TSe(sn.firstElementChild)&&th(/<[/\w!]/g,sn.innerHTML)&&th(/<[/\w!]/g,sn.textContent)||sn.nodeType===RT.progressingInstruction||M0&&sn.nodeType===RT.comment&&th(/<[/\w]/g,sn.data))return By(sn),!0;if(!as[Ir]||Io[Ir]){if(!Io[Ir]&&ISe(Ir)&&(uo.tagNameCheck instanceof RegExp&&th(uo.tagNameCheck,Ir)||uo.tagNameCheck instanceof Function&&uo.tagNameCheck(Ir)))return!1;if(Ed&&!zl[Ir]){const qu=Pt(sn)||sn.parentNode,dg=Et(sn)||sn.childNodes;if(dg&&qu){const Hf=dg.length;for(let Eb=Hf-1;Eb>=0;--Eb){const E_=Ze(dg[Eb],!0);E_.__removalCount=(sn.__removalCount||0)+1,qu.insertBefore(E_,Ct(sn))}}}return By(sn),!0}return sn instanceof H&&!lS(sn)||(Ir==="noscript"||Ir==="noembed"||Ir==="noframes")&&th(/<\/no(script|embed|frames)/i,sn.innerHTML)?(By(sn),!0):(oh&&sn.nodeType===RT.text&&(ys=sn.textContent,YI([qn,ss,Gs],qu=>{ys=QI(ys,qu," ")}),sn.textContent!==ys&&(XI(r.removed,{element:sn.cloneNode()}),sn.textContent=ys)),C_(Xt.afterSanitizeElements,sn,null),!1)},OSe=function(sn,ys,Ir){if(ii&&(ys==="id"||ys==="name")&&(Ir in a||Ir in Eo))return!1;if(!(qi&&!Ds[ys]&&th(Or,ys))){if(!(qs&&th(Yr,ys))){if(!Ni[ys]||Ds[ys]){if(!(ISe(sn)&&(uo.tagNameCheck instanceof RegExp&&th(uo.tagNameCheck,sn)||uo.tagNameCheck instanceof Function&&uo.tagNameCheck(sn))&&(uo.attributeNameCheck instanceof RegExp&&th(uo.attributeNameCheck,ys)||uo.attributeNameCheck instanceof Function&&uo.attributeNameCheck(ys))||ys==="is"&&uo.allowCustomizedBuiltInElements&&(uo.tagNameCheck instanceof RegExp&&th(uo.tagNameCheck,Ir)||uo.tagNameCheck instanceof Function&&uo.tagNameCheck(Ir))))return!1}else if(!aS[ys]){if(!th(lo,QI(Ir,nl,""))){if(!((ys==="src"||ys==="xlink:href"||ys==="href")&&sn!=="script"&&Roe(Ir,"data:")===0&&Ny[sn])){if(!(Aa&&!th(tl,QI(Ir,nl,"")))){if(Ir)return!1}}}}}}return!0},ISe=function(sn){return sn!=="annotation-xml"&&ZV(sn,Cd)},RSe=function(sn){C_(Xt.beforeSanitizeAttributes,sn,null);const{attributes:ys}=sn;if(!ys||Ofe(sn))return;const Ir={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ni,forceKeepAttr:void 0};let qu=ys.length;for(;qu--;){const dg=ys[qu],{name:Hf,namespaceURI:Eb,value:E_}=dg,s5=Gt(Hf),Ife=E_;let hg=Hf==="value"?Ife:koe(Ife);if(Ir.attrName=s5,Ir.attrValue=hg,Ir.keepAttr=!0,Ir.forceKeepAttr=void 0,C_(Xt.uponSanitizeAttribute,sn,Ir),hg=Ir.attrValue,fc&&(s5==="id"||s5==="name")&&(yL(Hf,sn),hg=Gu+hg),M0&&th(/((--!?|])>)|<\/(style|title)/i,hg)){yL(Hf,sn);continue}if(Ir.forceKeepAttr)continue;if(!Ir.keepAttr){yL(Hf,sn);continue}if(!yv&&th(/\/>/i,hg)){yL(Hf,sn);continue}oh&&YI([qn,ss,Gs],DSe=>{hg=QI(hg,DSe," ")});const kSe=Gt(sn.nodeName);if(!OSe(kSe,s5,hg)){yL(Hf,sn);continue}if(Kt&&typeof Oe=="object"&&typeof Oe.getAttributeType=="function"&&!Eb)switch(Oe.getAttributeType(kSe,s5)){case"TrustedHTML":{hg=Kt.createHTML(hg);break}case"TrustedScriptURL":{hg=Kt.createScriptURL(hg);break}}if(hg!==Ife)try{Eb?sn.setAttributeNS(Eb,Hf,hg):sn.setAttribute(Hf,hg),Ofe(sn)?By(sn):q8(r.removed)}catch{yL(Hf,sn)}}C_(Xt.afterSanitizeAttributes,sn,null)},yBe=function Hr(sn){let ys=null;const Ir=ASe(sn);for(C_(Xt.beforeSanitizeShadowDOM,sn,null);ys=Ir.nextNode();)C_(Xt.uponSanitizeShadowNode,ys,null),xSe(ys),RSe(ys),ys.content instanceof y&&Hr(ys.content);C_(Xt.afterSanitizeShadowDOM,sn,null)};return r.sanitize=function(Hr){let sn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ys=null,Ir=null,qu=null,dg=null;if(t5=!Hr,t5&&(Hr="<!-->"),typeof Hr!="string"&&!TSe(Hr))if(typeof Hr.toString=="function"){if(Hr=Hr.toString(),typeof Hr!="string")throw qM("dirty is not a string, aborting")}else throw qM("toString is not a function");if(!r.isSupported)return Hr;if(_p||Ps(sn),r.removed=[],typeof Hr=="string"&&(gu=!1),gu){if(Hr.nodeName){const E_=Gt(Hr.nodeName);if(!as[E_]||Io[E_])throw qM("root node is forbidden and cannot be sanitized in-place")}}else if(Hr instanceof M)ys=_Se("<!---->"),Ir=ys.ownerDocument.importNode(Hr,!0),Ir.nodeType===RT.element&&Ir.nodeName==="BODY"||Ir.nodeName==="HTML"?ys=Ir:ys.appendChild(Ir);else{if(!P0&&!oh&&!Cb&&Hr.indexOf("<")===-1)return Kt&&Ts?Kt.createHTML(Hr):Hr;if(ys=_Se(Hr),!ys)return P0?null:Ts?In:""}ys&&Em&&By(ys.firstChild);const Hf=ASe(gu?Hr:ys);for(;qu=Hf.nextNode();)xSe(qu),RSe(qu),qu.content instanceof y&&yBe(qu.content);if(gu)return Hr;if(P0){if(px)for(dg=Sn.call(ys.ownerDocument);ys.firstChild;)dg.appendChild(ys.firstChild);else dg=ys;return(Ni.shadowroot||Ni.shadowrootmode)&&(dg=Qe.call(u,dg,!0)),dg}let Eb=Cb?ys.outerHTML:ys.innerHTML;return Cb&&as["!doctype"]&&ys.ownerDocument&&ys.ownerDocument.doctype&&ys.ownerDocument.doctype.name&&th(Q8,ys.ownerDocument.doctype.name)&&(Eb="<!DOCTYPE "+ys.ownerDocument.doctype.name+`>
`+Eb),oh&&YI([qn,ss,Gs],E_=>{Eb=QI(Eb,E_," ")}),Kt&&Ts?Kt.createHTML(Eb):Eb},r.setConfig=function(){let Hr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ps(Hr),_p=!0},r.clearConfig=function(){on=null,_p=!1},r.isValidAttribute=function(Hr,sn,ys){on||Ps({});const Ir=Gt(Hr),qu=Gt(sn);return OSe(Ir,qu,ys)},r.addHook=function(Hr,sn){typeof sn=="function"&&XI(Xt[Hr],sn)},r.removeHook=function(Hr,sn){if(sn!==void 0){const ys=Ioe(Xt[Hr],sn);return ys===-1?void 0:fm(Xt[Hr],ys,1)[0]}return q8(Xt[Hr])},r.removeHooks=function(Hr){Xt[Hr]=[]},r.removeAllHooks=function(){Xt=XV()},r}var x0=t7();const ZM=Zn.each,Uoe=Zn.trim,zoe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],JV={ftp:21,http:80,https:443,mailto:25},joe=["img","video"],Woe=(t,r)=>Ve(t)?!t:Ve(r)?!zt(joe,r):!0,qc=t=>{try{return decodeURIComponent(t)}catch{return unescape(t)}},n7=(t,r,a)=>{const u=qc(r).replace(/\s/g,"");return t.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(u)?!0:t.allow_html_data_urls?!1:/^data:image\//i.test(u)?Woe(t.allow_svg_data_urls,a)&&/^data:image\/svg\+xml/i.test(u):/^data:/i.test(u)};class xh{static parseDataUri(r){let a;const u=decodeURIComponent(r).split(","),f=/data:([^;]+)/.exec(u[0]);return f&&(a=f[1]),{type:a,data:u[1]}}static isDomSafe(r,a,u={}){if(u.allow_script_urls)return!0;{const f=Gv.decode(r).replace(/[\s\u0000-\u001F]+/g,"");return!n7(u,f,a)}}static getDocumentBaseUrl(r){var a;let u;return r.protocol.indexOf("http")!==0&&r.protocol!=="file:"?u=(a=r.href)!==null&&a!==void 0?a:"":u=r.protocol+"//"+r.host+r.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(u)&&(u=u.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(u)||(u+="/")),u}constructor(r,a={}){this.path="",this.directory="",r=Uoe(r),this.settings=a;const u=a.base_uri,f=this;if(/^([\w\-]+):([^\/]{2})/i.test(r)||/^\s*#/.test(r)){f.source=r;return}const y=r.indexOf("//")===0;if(r.indexOf("/")===0&&!y&&(r=(u&&u.protocol||"http")+"://mce_host"+r),!/^[\w\-]*:?\/\//.test(r)){const M=u?u.path:new xh(document.location.href).directory;if((u==null?void 0:u.protocol)==="")r="//mce_host"+f.toAbsPath(M,r);else{const H=/([^#?]*)([#?]?.*)/.exec(r);H&&(r=(u&&u.protocol||"http")+"://mce_host"+f.toAbsPath(M,H[1])+H[2])}}r=r.replace(/@@/g,"(mce_at)");const A=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(r);A&&ZM(zoe,(M,H)=>{let Y=A[H];Y&&(Y=Y.replace(/\(mce_at\)/g,"@@")),f[M]=Y}),u&&(f.protocol||(f.protocol=u.protocol),f.userInfo||(f.userInfo=u.userInfo),!f.port&&f.host==="mce_host"&&(f.port=u.port),(!f.host||f.host==="mce_host")&&(f.host=u.host),f.source=""),y&&(f.protocol="")}setPath(r){const a=/^(.*?)\/?(\w+)?$/.exec(r);a&&(this.path=a[0],this.directory=a[1],this.file=a[2]),this.source="",this.getURI()}toRelative(r){if(r==="./")return r;const a=new xh(r,{base_uri:this});if(a.host!=="mce_host"&&this.host!==a.host&&a.host||this.port!==a.port||this.protocol!==a.protocol&&a.protocol!=="")return a.getURI();const u=this.getURI(),f=a.getURI();if(u===f||u.charAt(u.length-1)==="/"&&u.substr(0,u.length-1)===f)return u;let y=this.toRelPath(this.path,a.path);return a.query&&(y+="?"+a.query),a.anchor&&(y+="#"+a.anchor),y}toAbsolute(r,a){const u=new xh(r,{base_uri:this});return u.getURI(a&&this.isSameOrigin(u))}isSameOrigin(r){if(this.host==r.host&&this.protocol==r.protocol){if(this.port==r.port)return!0;const a=this.protocol?JV[this.protocol]:null;if(a&&(this.port||a)==(r.port||a))return!0}return!1}toRelPath(r,a){let u=0,f="",y,A;const M=r.substring(0,r.lastIndexOf("/")).split("/"),H=a.split("/");if(M.length>=H.length){for(y=0,A=M.length;y<A;y++)if(y>=H.length||M[y]!==H[y]){u=y+1;break}}if(M.length<H.length){for(y=0,A=H.length;y<A;y++)if(y>=M.length||M[y]!==H[y]){u=y+1;break}}if(u===1)return a;for(y=0,A=M.length-(u-1);y<A;y++)f+="../";for(y=u-1,A=H.length;y<A;y++)y!==u-1?f+="/"+H[y]:f+=H[y];return f}toAbsPath(r,a){let u=0;const f=/\/$/.test(a)?"/":"",y=r.split("/"),A=a.split("/"),M=[];ZM(y,me=>{me&&M.push(me)});const H=[];for(let me=A.length-1;me>=0;me--)if(!(A[me].length===0||A[me]===".")){if(A[me]===".."){u++;continue}if(u>0){u--;continue}H.push(A[me])}const Y=M.length-u;let ue;return Y<=0?ue=Ks(H).join("/"):ue=M.slice(0,Y).join("/")+"/"+Ks(H).join("/"),ue.indexOf("/")!==0&&(ue="/"+ue),f&&ue.lastIndexOf("/")!==ue.length-1&&(ue+=f),ue}getURI(r=!1){let a;return(!this.source||r)&&(a="",r||(this.protocol?a+=this.protocol+"://":a+="//",this.userInfo&&(a+=this.userInfo+"@"),this.host&&(a+=this.host),this.port&&(a+=":"+this.port)),this.path&&(a+=this.path),this.query&&(a+="?"+this.query),this.anchor&&(a+="#"+this.anchor),this.source=a),this.source}}const Goe=Zn.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),QV="data-mce-type";let o7=0;const s7=(t,r,a,u,f)=>{var y,A,M,H;const Y=r.validate,ue=a.getSpecialElements();t.nodeType===Yn&&(!r.allow_conditional_comments&&/^\[if/i.test((y=t.nodeValue)!==null&&y!==void 0?y:"")&&(t.nodeValue=" "+t.nodeValue),r.sanitize&&r.allow_html_in_comments&&ie(t.nodeValue)&&(t.nodeValue=hoe(t.nodeValue)));const me=(A=f==null?void 0:f.tagName)!==null&&A!==void 0?A:t.nodeName.toLowerCase();if(u!=="html"&&a.isValid(u)){Ve(f)&&(f.allowedTags[me]=!0);return}if(t.nodeType!==Ys||me==="body")return;const Se=et.fromDom(t),Oe=ma(Se,QV),Ke=aa(Se,"data-mce-bogus");if(!Oe&&ie(Ke)){Ke==="all"?Hi(Se):Nu(Se);return}const Ze=a.getElementRule(me);if(Y&&!Ze){jo(ue,me)?Hi(Se):Nu(Se);return}else Ve(f)&&(f.allowedTags[me]=!0);if(Y&&Ze&&!Oe){if(ct((M=Ze.attributesForced)!==null&&M!==void 0?M:[],We=>{pa(Se,We.name,We.value==="{$uid}"?`mce_${o7++}`:We.value)}),ct((H=Ze.attributesDefault)!==null&&H!==void 0?H:[],We=>{ma(Se,We.name)||pa(Se,We.name,We.value==="{$uid}"?`mce_${o7++}`:We.value)}),Ze.attributesRequired&&!wn(Ze.attributesRequired,We=>ma(Se,We))){Nu(Se);return}if(Ze.removeEmptyAttrs&&Pv(Se)){Nu(Se);return}Ze.outputName&&Ze.outputName!==me&&Fp(Se,Ze.outputName)}},qoe=(t,r,a,u,f)=>{const y=t.tagName.toLowerCase(),{attrName:A,attrValue:M}=f;f.keepAttr=r7(r,a,u,y,A,M),f.keepAttr?(f.allowedAttributes[A]=!0,a7(A,a)&&(f.attrValue=A),r.allow_svg_data_urls&&Ss(M,"data:image/svg+xml")&&(f.forceKeepAttr=!0)):i7(t,A)&&(f.forceKeepAttr=!0)},r7=(t,r,a,u,f,y)=>a!=="html"&&!fd(u)?!0:!(f in Goe&&n7(t,y,u))&&(!t.validate||r.isValid(u,f)||Ss(f,"data-")||Ss(f,"aria-")),i7=(t,r)=>t.hasAttribute(QV)&&(r==="id"||r==="class"||r==="style"),a7=(t,r)=>t in r.getBoolAttrs(),Zoe=(t,r,a,u)=>{const{attributes:f}=t;for(let y=f.length-1;y>=0;y--){const A=f[y],M=A.name,H=A.value;!r7(r,a,u,t.tagName.toLowerCase(),M,H)&&!i7(t,M)?t.removeAttribute(M):a7(M,a)&&t.setAttribute(M,M)}},KM=(t,r,a)=>{const u=x0();return u.addHook("uponSanitizeElement",(f,y)=>{s7(f,t,r,a.track(f),y)}),u.addHook("uponSanitizeAttribute",(f,y)=>{qoe(f,t,r,a.current(),y)}),u},Koe=(t,r)=>{const u={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body","html"],ALLOWED_ATTR:[]}};return u.PARSER_MEDIA_TYPE=r,t.allow_script_urls?u.ALLOWED_URI_REGEXP=/.*/:t.allow_html_data_urls&&(u.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),u},Yoe=t=>{const r=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(u=>`xlink:${u}`),a={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:r};x0().sanitize(t,a)},J1e=(t,r)=>{const a={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}},u=x0(),f=r.allow_mathml_annotation_encodings,y=Ae(f)&&f.length>0,A=H=>{const Y=H.getAttribute("encoding");return y&&ie(Y)&&zt(f,Y)},M=(H,Y)=>y&&Y==="semantics"?_e.some(!0):Y==="annotation"?_e.some(No(H)&&A(H)):Ae(r.extended_mathml_elements)&&r.extended_mathml_elements.includes(Y)?_e.from(!0):_e.none();u.addHook("uponSanitizeElement",(H,Y)=>{var ue;const me=(ue=Y.tagName)!==null&&ue!==void 0?ue:H.nodeName.toLowerCase();M(H,me).each(Oe=>{Y.allowedTags[me]=Oe,!Oe&&r.sanitize&&No(H)&&H.remove()})}),u.addHook("uponSanitizeAttribute",(H,Y)=>{Ae(r.extended_mathml_attributes)&&r.extended_mathml_attributes.includes(Y.attrName)&&(Y.forceKeepAttr=!0)}),u.sanitize(t,a)},nR=t=>r=>{const a=Hg(r);if(a==="svg")Yoe(r);else if(a==="math")J1e(r,t);else throw new Error("Not a namespace element")},Xoe=(t,r)=>{const a=qS();if(t.sanitize){const u=KM(t,r,a);return{sanitizeHtmlElement:(y,A)=>{u.sanitize(y,Koe(t,A)),u.removed=[],a.reset()},sanitizeNamespaceElement:nR(t)}}else return{sanitizeHtmlElement:(y,A)=>{const M=document.createNodeIterator(y,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let H;for(;H=M.nextNode();){const Y=a.track(H);s7(H,t,r,Y),No(H)&&Zoe(H,t,r,Y)}a.reset()},sanitizeNamespaceElement:gt}},YM=["script","style","template","param"],l7=Zn.makeMap,c7=Zn.extend,u7=(t,r,a,u,f)=>{const y=t.name,A=y in a&&y!=="title"&&y!=="textarea"&&y!=="noscript",M=r.childNodes;for(let H=0,Y=M.length;H<Y;H++){const ue=M[H],me=new of(ue.nodeName.toLowerCase(),ue.nodeType);if(No(ue)){const Se=ue.attributes;for(let Oe=0,Ke=Se.length;Oe<Ke;Oe++){const Ze=Se[Oe];me.attr(Ze.name,Ze.value)}fd(me.name)&&(u(ue),me.value=ue.innerHTML)}else Un(ue)?(me.value=ue.data,A&&(me.raw=!0)):Fa(ue)?me.value=f?foe(ue.data):ue.data:(Fg(ue)||t0(ue))&&(me.value=ue.data);if(jS(ue)){const Se=of.create("#text");Se.value=ue.innerHTML,Se.raw=!0,me.append(Se)}else fd(me.name)||u7(me,ue,a,u,f);t.append(me)}},Joe=(t,r,a)=>{const u=[];for(let f=t,y=f;f;y=f,f=f.walk()){const A=f;ct(r,M=>M(A)),Xe(A.parent)&&A!==t?f=y:u.push(A)}for(let f=u.length-1;f>=0;f--){const y=u[f];ct(a,A=>A(y))}},Ww=(t,r,a,u)=>{const f=a.validate,y=r.getNonEmptyElements(),A=r.getWhitespaceElements(),M=c7(l7(YM),r.getBlockElements()),H=KE(r),Y=/[ \t\r\n]+/g,ue=/^[ \t\r\n]+/,me=/[ \t\r\n]+$/,Se=Et=>{let Pt=Et.parent;for(;Ve(Pt);){if(Pt.name in A)return!0;Pt=Pt.parent}return!1},Oe=Et=>{let Pt=Et;for(;Ve(Pt);){if(Pt.name in H)return KI(r,y,A,Pt);Pt=Pt.parent}return!1},Ke=Et=>Et.name in M||ay(r,Et)||fd(Et.name)&&Et.parent===t,Ze=(Et,Pt)=>{const Kt=Pt?Et.prev:Et.next;return Ve(Kt)||Xe(Et.parent)?!1:Ke(Et.parent)&&(Et.parent!==t||u.isRootContent===!0)};return[Et=>{var Pt;if(Et.type===3&&!Se(Et)){let Kt=(Pt=Et.value)!==null&&Pt!==void 0?Pt:"";Kt=Kt.replace(Y," "),(coe(Et.prev,Ke)||Ze(Et,!0))&&(Kt=Kt.replace(ue,"")),Kt.length===0||Kt===" "&&Et.prev&&Et.prev.type===Yn&&Et.next&&Et.next.type===Yn?Et.remove():Et.value=Kt}},Et=>{var Pt;if(Et.type===1){const Kt=r.getElementRule(Et.name);if(f&&Kt){const In=KI(r,y,A,Et);Kt.paddInEmptyBlock&&In&&Oe(Et)?PV(a,u,Ke,Et):Kt.removeEmpty&&In?Ke(Et)?Et.remove():Et.unwrap():Kt.paddEmpty&&(In||P8(Et))&&PV(a,u,Ke,Et)}}else if(Et.type===3&&!Se(Et)){let Kt=(Pt=Et.value)!==null&&Pt!==void 0?Pt:"";(Et.next&&Ke(Et.next)||Ze(Et,!1))&&(Kt=Kt.replace(me,"")),Kt.length===0?Et.remove():Et.value=Kt}}]},Gw=(t,r)=>{var a;const u=(a=r.forced_root_block)!==null&&a!==void 0?a:t.forced_root_block;return u===!1?"":u===!0?"p":u},oR=' xmlns="http://www.w3.org/1999/xhtml"',Z1=(t={},r=Rf())=>{const a=B8(),u=B8(),f={validate:!0,root_name:"body",sanitize:!0,allow_html_in_comments:!1,...t},y=new DOMParser,A=Xoe(f,r),M=(Pt,Kt,In="html",ho=!1)=>{const Kn=In==="xhtml",Sn=Kn?"application/xhtml+xml":"text/html",Dt=jo(r.getSpecialElements(),Kt.toLowerCase()),Qe=Dt?`<${Kt}>${Pt}</${Kt}>`:Pt,Xt=()=>/^[\s]*<head/i.test(Pt)||/^[\s]*<html/i.test(Pt)||/^[\s]*<!DOCTYPE/i.test(Pt)?`<html${Kn?oR:""}>${Qe}</html>`:Kn?`<html${oR}><head></head><body>${Qe}</body></html>`:`<body>${Qe}</body>`,qn=y.parseFromString(Xt(),Sn),ss=ho?qn.documentElement:qn.body;return A.sanitizeHtmlElement(ss,Sn),Dt?ss.firstChild:ss},H=a.addFilter,Y=a.getFilters,ue=a.removeFilter,me=u.addFilter,Se=u.getFilters,Oe=u.removeFilter,Ke=(Pt,Kt)=>{LV(r,Pt)&&Kt.push(Pt)},Ze=(Pt,Kt)=>{const In=ie(Kt.attr(QV)),ho=Kt.type===1&&!jo(Pt,Kt.name)&&!ay(r,Kt)&&!fd(Kt.name);return Kt.type===3||ho&&!In},We=(Pt,Kt)=>{const In=c7(l7(YM),r.getBlockElements()),ho=/^[ \t\r\n]+/,Kn=/[ \t\r\n]+$/;let Sn=Pt.firstChild,Dt=null;const Qe=Xt=>{var qn,ss;Xt&&(Sn=Xt.firstChild,Sn&&Sn.type===3&&(Sn.value=(qn=Sn.value)===null||qn===void 0?void 0:qn.replace(ho,"")),Sn=Xt.lastChild,Sn&&Sn.type===3&&(Sn.value=(ss=Sn.value)===null||ss===void 0?void 0:ss.replace(Kn,"")))};if(r.isValidChild(Pt.name,Kt.toLowerCase())){for(;Sn;){const Xt=Sn.next;Ze(In,Sn)?(Dt||(Dt=new of(Kt,1),Dt.attr(f.forced_root_block_attrs),Pt.insert(Dt,Sn)),Dt.append(Sn)):(Qe(Dt),Dt=null),Sn=Xt}Qe(Dt)}},Et={schema:r,addAttributeFilter:me,getAttributeFilters:Se,removeAttributeFilter:Oe,addNodeFilter:H,getNodeFilters:Y,removeNodeFilter:ue,parse:(Pt,Kt={})=>{var In,ho;const Kn=f.validate,Sn=((In=Kt.context)!==null&&In!==void 0?In:f.root_name)==="#document",Dt=(ho=Kt.context)!==null&&ho!==void 0?ho:Sn?"html":f.root_name,Qe=M(Pt,Dt,Kt.format,Sn);gp(r,Qe);const Xt=new of(Dt,11);u7(Xt,Qe,r.getSpecialElements(),A.sanitizeNamespaceElement,f.sanitize&&f.allow_html_in_comments),Qe.innerHTML="";const[qn,ss]=Ww(Xt,r,f,Kt),Gs=[],Or=Kn?Cd=>Ke(Cd,Gs):gt,Yr={nodes:{},attributes:{}},tl=Cd=>kV(Y(),Se(),Cd,Yr);Joe(Xt,[qn,tl],[ss,Or]),Gs.reverse(),Kn&&Gs.length>0&&(Kt.context?Kt.invalid=!0:L8(Gs,r,Xt,tl));const nl=Gw(f,Kt);return nl&&(Xt.name==="body"||Kt.isRootContent)&&We(Xt,nl),Kt.invalid||DV(Yr,Kt),Xt}};return z8(Et,f),V8(Et,f,r),Et},Ty=t=>t instanceof of,qw=t=>Ty(t)?TC({validate:!1}).serialize(t):t,sR=(t,r,a)=>{const u=qw(t),f=r(u);if(f.isDefaultPrevented())return f;if(Ty(t))if(f.content!==u){const y=Z1({validate:!1,forced_root_block:!1,...a}).parse(f.content,{context:t.name});return{...f,content:y}}else return{...f,content:t};else return f},rR=t=>({sanitize:lI(t),sandbox_iframes:nT(t),sandbox_iframes_exclusions:ww(t)}),eF=(t,r)=>{if(r.no_events)return Wl.value(r);{const a=hD(t,r);return a.isDefaultPrevented()?Wl.error(fD(t,{content:"",...a}).content):Wl.value(a)}},XM=(t,r,a)=>a.no_events?r:sR(r,f=>fD(t,{...a,content:f}),rR(t)).content,iR=(t,r)=>{if(r.no_events)return Wl.value(r);{const a=sR(r.content,u=>du(t,{...r,content:u}),rR(t));return a.isDefaultPrevented()?(dD(t,a),Wl.error(void 0)):Wl.value(a)}},JM=(t,r,a)=>{a.no_events||dD(t,{...a,content:r})},d7="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),kT=["content_css_cors"],h7="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),tF=[{name:"export",replacedWith:"Export to PDF"}],nF=(t,r)=>{const a=Ge(r,u=>jo(t,u));return At(a)},QM=t=>{const r=nF(t,d7),a=t.forced_root_block;return(a===!1||a==="")&&r.push("forced_root_block (false only)"),At(r)},f7=t=>nF(t,kT),oF=(t,r)=>{const a=Zn.makeMap(t.plugins," "),f=Ge(r,y=>jo(a,y));return At(f)},p7=t=>oF(t,h7),m7=t=>oF(t,tF.map(r=>r.name)),K1=(t,r)=>{const a=QM(t),u=p7(r),f=u.length>0,y=a.length>0,A=r.theme==="mobile";if(f||y||A){const H=A?`

Themes:
- mobile`:"",Y=f?`

Plugins:
- ${u.join(`
- `)}`:"",ue=y?`

Options:
- ${a.join(`
- `)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 8.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/8/migration-from-7x/ for more information."+H+Y+ue)}},NC=t=>$t(tF,r=>r.name===t).fold(()=>t,r=>r.replacedWith?`${t}, replaced by ${r.replacedWith}`:t),fb=(t,r)=>{const a=f7(t),u=m7(r),f=u.length>0,y=a.length>0;if(f||y){const M=f?`

Plugins:
- ${u.map(NC).join(`
- `)}`:"",H=y?`

Options:
- ${a.join(`
- `)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+M+H)}},Qoe=(t,r)=>{K1(t,r),fb(t,r)},ese={fire:'The "fire" event api has been deprecated and will be removed in TinyMCE 9. Use "dispatch" instead.',selectionSetContent:'The "editor.selection.setContent" method has been deprecated and will be removed in TinyMCE 9. Use "editor.insertContent" instead.'},g7=t=>{console.warn(ese[t],new Error().stack)},v7=t=>t.dom.length===0?(Hi(t),_e.none()):_e.some(t),tse=(t,r)=>t.filter(a=>cb.isBookmarkNode(a.dom)).bind(r?Mu:Bd),nse=(t,r,a,u,f)=>{const y=t.dom,A=r.dom,M=u?y.length:A.length;u?(qB(y,A,f,!1,!u),a.setStart(A,M)):(qB(A,y,f,!1,!u),a.setEnd(A,M))},ose=(t,r,a)=>{ku(t).each(u=>{const f=t.dom;r&&$I(u,an(f,0),a)?PM(f,0,a):!r&&UI(u,an(f,f.length),a)&&GB(f,f.length,a)})},b7=(t,r,a,u,f)=>{t.bind(y=>((u?GB:PM)(y.dom,u?y.dom.length:0,f),r.filter(ti).map(M=>nse(y,M,a,u,f)))).orThunk(()=>tse(r,u).or(r).filter(ti).map(A=>ose(A,u,f)))},sse=(t,r,a)=>{const u=_e.from(r.firstChild).map(et.fromDom),f=_e.from(r.lastChild).map(et.fromDom);t.deleteContents(),t.insertNode(r);const y=u.bind(Bd).filter(ti).bind(v7),A=f.bind(Mu).filter(ti).bind(v7);b7(y,u,t,!0,a),b7(A,f,t,!1,a),t.collapse(!1)},rse=(t,r)=>({format:"html",...t,set:!0,selection:!0,content:r}),ise=(t,r)=>{if(r.format!=="raw"){const a=t.selection.getRng(),u=t.dom.getParent(a.commonAncestorContainer,t.dom.isBlock),f=u?{context:u.nodeName.toLowerCase()}:{},y=t.parser.parse(r.content,{forced_root_block:!1,...f,...r});return TC({validate:!1},t.schema).serialize(y)}else return r.content},eP=(t,r,a={})=>{const u=rse(a,r);iR(t,u).each(f=>{const y=ise(t,f),A=t.selection.getRng();sse(A,A.createContextualFragment(y),t.schema),t.selection.setRng(A),BI(t,A),JM(t,y,f)})},sF=(t,r,a={})=>{g7("selectionSetContent"),eP(t,r,a)},rF=t=>Ve(t.firstChild)&&t.firstChild===t.lastChild,y7=t=>t.name==="br"||t.value===Bi,ase=(t,r)=>t.getBlockElements()[r.name]&&rF(r)&&y7(r.firstChild),lse=(t,r)=>{const a=t.getNonEmptyElements();return Ve(r)&&(r.isEmpty(a)||ase(t,r))},S7=(t,r)=>{let a=r.firstChild,u=r.lastChild;return a&&a.name==="meta"&&(a=a.next),u&&u.attr("id")==="mce_marker"&&(u=u.prev),lse(t,u)&&(u=u==null?void 0:u.prev),!a||a!==u?!1:a.name==="ul"||a.name==="ol"},C7=t=>{var r,a;const u=t.firstChild,f=t.lastChild;return u&&u.nodeName==="META"&&((r=u.parentNode)===null||r===void 0||r.removeChild(u)),f&&f.id==="mce_marker"&&((a=f.parentNode)===null||a===void 0||a.removeChild(f)),t},iF=(t,r,a)=>{const u=r.serialize(a),f=t.createFragment(u);return C7(f)},E7=t=>{var r;return Ge((r=t==null?void 0:t.childNodes)!==null&&r!==void 0?r:[],a=>a.nodeName==="LI")},w7=t=>t.data===Bi||ba(t),aF=t=>Ve(t==null?void 0:t.firstChild)&&t.firstChild===t.lastChild&&w7(t.firstChild),cse=t=>!t.firstChild||aF(t),use=t=>t.length>0&&cse(t[t.length-1])?t.slice(0,-1):t,pb=(t,r)=>{const a=t.getParent(r,t.isBlock);return a&&a.nodeName==="LI"?a:null},mb=(t,r)=>!!pb(t,r),tP=(t,r)=>{const a=r.cloneRange(),u=r.cloneRange();return a.setStartBefore(t),u.setEndAfter(t),[a.cloneContents(),u.cloneContents()]},_7=(t,r)=>{const a=an.before(t),f=av(r).next(a);return f?f.toRange():null},aR=(t,r)=>{const a=an.after(t),f=av(r).prev(a);return f?f.toRange():null},A7=(t,r,a,u)=>{const f=tP(t,u),y=t.parentNode;return y&&(y.insertBefore(f[0],t),Zn.each(r,A=>{y.insertBefore(A,t)}),y.insertBefore(f[1],t),y.removeChild(t)),aR(r[r.length-1],a)},T7=(t,r,a)=>{const u=t.parentNode;return u&&Zn.each(r,f=>{u.insertBefore(f,t)}),_7(t,a)},x7=(t,r,a,u)=>(u.insertAfter(r.reverse(),t),aR(r[0],a)),O7=(t,r,a,u)=>{const f=iF(r,t,u),y=pb(r,a.startContainer),A=use(E7(f.firstChild)),M=1,H=2,Y=r.getRoot(),ue=me=>{const Se=an.fromRangeStart(a),Oe=av(r.getRoot()),Ke=me===M?Oe.prev(Se):Oe.next(Se),Ze=Ke==null?void 0:Ke.getNode();return Ze?pb(r,Ze)!==y:!0};return y?ue(M)?T7(y,A,Y):ue(H)?x7(y,A,Y,r):A7(y,A,Y,a):null},I7=["pre"],R7=(t,r,a,u)=>{var f;const y=r.firstChild,A=r.lastChild,M=A.attr("data-mce-type")==="bookmark"?A.prev:A,H=y===M,Y=zt(I7,y.name);if(H&&Y){const ue=y.attr("contenteditable")!=="false",me=((f=t.getParent(a,t.isBlock))===null||f===void 0?void 0:f.nodeName.toLowerCase())===y.name,Se=_e.from($w(u,a)).forall(cu);return ue&&me&&Se}else return!1},DT=Gp,lF=(t,r,a)=>{if(Ve(a)){const u=t.getParent(r.endContainer,DT);return a===u&&xI(et.fromDom(a),r)}else return!1},dse=(t,r)=>{if(t.isBlock(r)&&t.isEditable(r)){const a=r.childNodes;return a.length===1&&ba(a[0])||a.length===0}else return!1},hse=(t,r,a)=>{var u;a.getAttribute("data-mce-bogus")==="all"?(u=a.parentNode)===null||u===void 0||u.insertBefore(t.dom.createFragment(r),a):dse(t.dom,a)?t.dom.setHTML(a,r):eP(t,r,{no_events:!0})},fse=(t,r,a)=>{_e.from(t.getParent(r,"td,th")).map(et.fromDom).each(u=>N(u,a))},pse=(t,r)=>{const a=t.schema.getTextInlineElements(),u=t.dom;if(r){const f=t.getBody(),y=pV(t),A="*[data-mce-fragment]",M=u.select(A);Zn.each(M,H=>{const Y=Se=>Ve(a[Se.nodeName.toLowerCase()]),ue=Se=>Se.childNodes.length===1;if((Se=>!(Zte(u,Se)||Kte(u,Se)))(H)&&Y(H)&&ue(H)){const Se=VI(u,H),Oe=(Ct,Et)=>sr(Ct,Pt=>zt(Et,Pt)),Ke=Ct=>ue(H)&&u.is(Ct,A)&&Y(Ct)&&(Ct.nodeName===H.nodeName&&Oe(Se,VI(u,Ct))||Ke(Ct.children[0])),Ze=Ct=>Ve(Ct)&&Ct!==f&&(y.compare(H,Ct)||Ze(Ct.parentElement)),We=Ct=>Ve(Ct)&&Ct!==f&&u.is(Ct,A)&&(Yte(u,H,Ct)||We(Ct.parentElement));(Ke(H.children[0])||Ze(H.parentElement)&&!We(H.parentElement))&&u.remove(H,!0)}}),R8(t,bh(M))}},k7=t=>{let r=t;for(;r=r.walk();)r.type===1&&r.attr("data-mce-fragment","1")},mse=t=>{Zn.each(t.getElementsByTagName("*"),r=>{r.removeAttribute("data-mce-fragment")})},gse=t=>!!t.getAttribute("data-mce-fragment"),cF=(t,r)=>Ve(r)&&!t.schema.getVoidElements()[r.nodeName],vse=(t,r)=>{var a,u,f;let y;const A=t.dom,M=t.selection;if(!r)return;M.scrollIntoView(r);const H=$w(t.getBody(),r);if(H&&A.getContentEditable(H)==="false"){A.remove(r),M.select(H);return}let Y=A.createRng();const ue=r.previousSibling;if(Un(ue)){Y.setStart(ue,(u=(a=ue.nodeValue)===null||a===void 0?void 0:a.length)!==null&&u!==void 0?u:0);const Oe=r.nextSibling;Un(Oe)&&(ue.appendData(Oe.data),(f=Oe.parentNode)===null||f===void 0||f.removeChild(Oe))}else Y.setStartBefore(r),Y.setEndBefore(r);const me=Oe=>{let Ke=an.fromRangeStart(Oe);return Ke=av(t.getBody()).next(Ke),Ke==null?void 0:Ke.toRange()},Se=A.getParent(r,A.isBlock);if(A.remove(r),Se&&A.isEmpty(Se)){const Oe=DT(Se);cd(et.fromDom(Se)),Y.setStart(Se,0),Y.setEnd(Se,0),!Oe&&!gse(Se)&&(y=me(Y))?(Y=y,A.remove(Se)):A.add(Se,A.create("br",Oe?{}:{"data-mce-bogus":"1"}))}M.setRng(Y)},bse=t=>{const r=t.dom,a=zM(t.selection.getRng());t.selection.setRng(a);const u=r.getParent(a.startContainer,DT);lF(r,a,u)?cV(t,a,et.fromDom(u)):RI(a)||uB(a)?a.deleteContents():t.getDoc().execCommand("Delete",!1)},yse=t=>{for(let r=t;r;r=r.walk())if(r.attr("id")==="mce_marker")return _e.some(r);return _e.none()},Sse=(t,r,a)=>{var u;return wn(a.children(),k8)&&((u=t.getParent(r,t.isBlock))===null||u===void 0?void 0:u.nodeName)==="SUMMARY"},Cse=(t,r,a)=>{var u;const f=t.selection,y=t.dom,A=t.parser,M=a.merge,H=TC({validate:!0},t.schema),Y='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';a.preserve_zwsp||(r=Q(r)),r.indexOf("{$caret}")===-1&&(r+="{$caret}"),r=r.replace(/\{\$caret\}/,Y);let ue=f.getRng();const me=ue.startContainer,Se=t.getBody();me===Se&&f.isCollapsed()&&y.isBlock(Se.firstChild)&&cF(t,Se.firstChild)&&y.isEmpty(Se.firstChild)&&(ue=y.createRng(),ue.setStart(Se.firstChild,0),ue.setEnd(Se.firstChild,0),f.setRng(ue)),f.isCollapsed()||bse(t);const Oe=f.getNode(),Ke={context:Oe.nodeName.toLowerCase(),data:a.data,insert:!0},Ze=A.parse(r,Ke);if(a.paste===!0&&S7(t.schema,Ze)&&mb(y,Oe))return ue=O7(H,y,f.getRng(),Ze),ue&&f.setRng(ue),r;a.paste===!0&&R7(y,Ze,Oe,t.getBody())&&((u=Ze.firstChild)===null||u===void 0||u.unwrap()),k7(Ze);let We=Ze.lastChild;if(We&&We.attr("id")==="mce_marker"){const Ct=We;for(We=We.prev;We&&We.name!=="table";We=We.walk(!0))if(We.type===3||!y.isBlock(We.name)){We.parent&&t.schema.isValidChild(We.parent.name,"span")&&We.parent.insert(Ct,We,We.name==="br");break}}if(t._selectionOverrides.showBlockCaretContainer(Oe),!Ke.invalid&&!Sse(y,Oe,Ze))r=H.serialize(Ze),hse(t,r,Oe);else{eP(t,Y);let Ct=f.getNode(),Et;const Pt=t.getBody();for(Sr(Ct)?Ct=Et=Pt:Et=Ct;Et&&Et!==Pt;)Ct=Et,Et=Et.parentNode;r=Ct===Pt?Pt.innerHTML:y.getOuterHTML(Ct);const Kt=A.parse(r),In=yse(Kt),ho=In.bind(uoe).getOr(Kt);In.each(Dt=>Dt.replace(Ze));const Kn=K1e(Ze);Ze.unwrap();const Sn=Ge(Kn,Dt=>LV(t.schema,Dt));L8(Sn,t.schema,ho),MV(A.getNodeFilters(),A.getAttributeFilters(),Kt),r=H.serialize(Kt),Ct===Pt?y.setHTML(Pt,r):y.setOuterHTML(Ct,r)}return pse(t,M),vse(t,y.get("mce_marker")),mse(t.getBody()),fse(y,f.getStart(),t.schema),s0(t.schema,t.getBody(),f.getStart()),r},Ese=t=>{Bw(t)&&Kd(t.getBody()).each(r=>{const a=r.getNode(),u=fp(a)?Kd(a).getOr(r):r;t.selection.setRng(u.toRange())})},uF=(t,r,a)=>{t.dom.setHTML(t.getBody(),r),a!==!0&&Ese(t)},nP=(t,r,a,u)=>{if(a=Q(a),a.length===0||/^\s+$/.test(a)){const f='<br data-mce-bogus="1">';r.nodeName==="TABLE"?a="<tr><td>"+f+"</td></tr>":/^(UL|OL)$/.test(r.nodeName)&&(a="<li>"+f+"</li>");const y=Wu(t);return t.schema.isValidChild(r.nodeName.toLowerCase(),y.toLowerCase())?(a=f,a=t.dom.createHTML(y,pC(t),a)):a||(a=f),uF(t,a,u.no_selection),{content:a,html:a}}else{u.format!=="raw"&&(a=TC({validate:!1},t.schema).serialize(t.parser.parse(a,{isRootContent:!0,insert:!0})));const f=m(et.fromDom(r))?a:Zn.trim(a);return uF(t,f,u.no_selection),{content:f,html:f}}},dF=(t,r,a,u)=>{MV(t.parser.getNodeFilters(),t.parser.getAttributeFilters(),a);const f=TC({validate:!1},t.schema).serialize(a),y=Q(m(et.fromDom(r))?f:Zn.trim(f));return uF(t,y,u.no_selection),{content:a,html:y}},wse=(t,r,a)=>_e.from(t.getBody()).map(u=>Ty(r)?dF(t,u,r,a):nP(t,u,r,a)).getOr({content:r,html:Ty(a.content)?"":a.content}),lR={},D7=Nc(["pre"]),_se=(t,r)=>{lR[t]||(lR[t]=[]),lR[t].push(r)},M7=(t,r)=>{jo(lR,t)&&ct(lR[t],a=>{a(r)})};_se("pre",t=>{const r=t.selection.getRng(),a=f=>y=>{const A=y.previousSibling;return D7(A)&&zt(f,A)},u=(f,y)=>{const A=et.fromDom(y),M=iu(A).dom;Hi(A),gh(et.fromDom(f),[et.fromTag("br",M),et.fromTag("br",M),...mr(A)])};if(!r.collapsed){const f=t.selection.getSelectedBlocks(),y=Ge(Ge(f,D7),a(f));ct(y,A=>{u(A.previousSibling,A)})}});const P7=Zn.each,Ase=(t,r,a,u)=>{const f=y=>{if(va(y)&&No(y.parentNode)&&t.isEditable(y)){const A=se(t,y.parentNode);t.getStyle(y,"color")&&A?t.setStyle(y,"text-decoration",A):t.getStyle(y,"text-decoration")===A&&t.setStyle(y,"text-decoration",null)}};r.styles&&(r.styles.color||r.styles.textDecoration)&&(Zn.walk(u,f,"childNodes"),f(u))},hF=(t,r,a,u)=>{if(r.styles&&r.styles.backgroundColor){const f=E8(t,"fontSize");C8(u,y=>f(y)&&t.isEditable(y),xT(t,"backgroundColor",b(r.styles.backgroundColor,a)))}},Tse=(t,r,a,u)=>{if(so(r)&&(r.inline==="sub"||r.inline==="sup")){const f=E8(t,"fontSize");C8(u,A=>f(A)&&t.isEditable(A),xT(t,"fontSize",""));const y=Ge(t.select(r.inline==="sup"?"sub":"sup",u),t.isEditable);t.remove(y,!0)}},xse=(t,r,a,u)=>{P7(r,f=>{so(f)&&P7(t.dom.select(f.inline,u),y=>{wV(y)&&IT(t,f,a,y,f.exact?y:null)}),Da(t.dom,f,u)})},Ose=(t,r,a,u,f)=>{const y=f.parentNode;hb(t,y,a,u)&&IT(t,r,u,f)||r.merge_with_parents&&y&&t.dom.getParent(y,A=>hb(t,A,a,u)?(IT(t,r,u,f),!0):!1)},Ise=Zn.each,Rse=(t,r,a,u)=>{if(gw(t)&&so(r)&&a.parentNode){const f=KE(t.schema),y=Go(et.fromDom(a),A=>tf(A.dom));return Vs(f,u)&&Tf(t.schema,a.parentNode,{skipBogus:!1,includeZwsp:!0})&&!y}else return!1},kse=(t,r,a,u)=>{const f=t.formatter.get(r),y=f[0],A=!u&&t.selection.isCollapsed(),M=t.dom,H=t.selection,Y=(Oe,Ke)=>{let Ze=!1;return Ise(Oe,We=>bo(We)?M.getContentEditable(Ke)==="false"&&!We.ceFalseOverride||Ve(We.collapsed)&&We.collapsed!==A?!0:M.is(Ke,We.selector)&&!tf(Ke)?(_T(t,Ke,We,a,Ke),Ze=!0,!1):!0:!1),Ze},ue=Oe=>{if(ie(Oe)){const Ke=M.create(Oe);return _T(t,Ke,y,a,u),Ke}else return null},me=(Oe,Ke,Ze)=>{const We=[];let Ct=!0;const Et=y.inline||y.block,Pt=ue(Et),Kt=Kn=>jt(y)&&hb(t,Kn,r,a),In=(Kn,Sn,Dt)=>{const Qe=Vn(y)&&DI(t.schema,Kn)&&EC(t,Sn,Et);return Dt&&Qe},ho=(Kn,Sn,Dt,Qe)=>{const Xt=Kn.nodeName.toLowerCase(),qn=EC(t,Et,Xt)&&EC(t,Sn,Et),ss=!Ze&&Un(Kn)&&q(Kn.data),Gs=tf(Kn),Or=!so(y)||!Oe.isBlock(Kn);return(Dt||Qe)&&qn&&!ss&&!Gs&&Or};wC(Oe,Ke,Kn=>{let Sn;const Dt=Qe=>{let Xt=!1,qn=Ct,ss=!1;const Gs=Qe.parentNode,Or=Gs.nodeName.toLowerCase(),Yr=Oe.getContentEditable(Qe);Ve(Yr)&&(qn=Ct,Ct=Yr==="true",Xt=!0,ss=cM(t,Qe));const tl=Ct&&!Xt;if(ba(Qe)&&!Rse(t,y,Qe,Or)){Sn=null,ft(y)&&Oe.remove(Qe);return}if(Kt(Qe)){Sn=null;return}if(In(Qe,Or,tl)){const nl=Oe.rename(Qe,Et);_T(t,nl,y,a,Qe),We.push(nl),Sn=null;return}if(bo(y)){let nl=Y(f,Qe);if(!nl&&Ve(Gs)&&yn(y)&&(nl=Y(f,Gs)),!so(y)||nl){Sn=null;return}}Ve(Pt)&&ho(Qe,Or,tl,ss)?(Sn||(Sn=Oe.clone(Pt,!1),Gs.insertBefore(Sn,Qe),We.push(Sn)),ss&&Xt&&(Ct=qn),Sn.appendChild(Qe)):(Sn=null,ct(to(Qe.childNodes),Dt),Xt&&(Ct=qn),Sn=null)};ct(Kn,Dt)}),y.links===!0&&ct(We,Kn=>{const Sn=Dt=>{Dt.nodeName==="A"&&_T(t,Dt,y,a,u),ct(to(Dt.childNodes),Sn)};Sn(Kn)}),aoe(t,r,bh(We)),ct(We,Kn=>{const Sn=Xt=>{let qn=0;return ct(Xt.childNodes,ss=>{!ka(ss)&&!Nf(ss)&&qn++}),qn},Dt=Xt=>$t(Xt.childNodes,kI).filter(ss=>Oe.getContentEditable(ss)!=="false"&&HM(Oe,ss,y)).map(ss=>{const Gs=Oe.clone(ss,!1);return _T(t,Gs,y,a,Xt),Oe.replace(Gs,Xt,!0),Oe.remove(ss,!0),Gs}).getOr(Xt),Qe=Sn(Kn);if((We.length>1||!Oe.isBlock(Kn))&&Qe===0){Oe.remove(Kn,!0);return}(so(y)||ft(y)&&y.wrapper)&&(!y.exact&&Qe===1&&(Kn=Dt(Kn)),xse(t,f,a,Kn),Ose(t,y,r,a,Kn),hF(Oe,y,a,Kn),Ase(Oe,y,a,Kn),Tse(Oe,y,a,Kn),S8(t,y,a,Kn))})},Se=Mw(u)?u:H.getNode();if(M.getContentEditable(Se)==="false"&&!cM(t,Se)){u=Se,Y(f,u),oo(t,r,u,a);return}if(y){if(u)if(Mw(u)){if(!Y(f,u)){const Oe=M.createRng();Oe.setStartBefore(u),Oe.setEndAfter(u),me(M,Oc(M,Oe,f),!0)}}else me(M,u,!0);else!A||!so(y)||Ey(t).length?(H.setRng(zM(H.getRng())),ST(t,()=>{OI(t,(Oe,Ke)=>{const Ze=Ke?Oe:Oc(M,Oe,f);me(M,Ze,!1)})},Tn),t.nodeChanged()):z1e(t,r,a),TT(t.formatter,r).each(Oe=>{ct(W1e(t.selection),Ke=>u8(M,Ke,Oe,a))});M7(r,t)}oo(t,r,u,a)},N7=(t,r,a,u)=>{(u||t.selection.isEditable())&&kse(t,r,a,u)},cR=t=>jo(t,"vars"),oP=(t,r)=>{t.set({}),r.on("NodeChange",a=>{V7(r,a.element,t.get())}),r.on("FormatApply FormatRemove",a=>{const u=_e.from(a.node).map(f=>Mw(f)?f:f.startContainer).bind(f=>No(f)?_e.some(f):_e.from(f.parentElement)).getOrThunk(()=>L7(r));V7(r,u,t.get())})},L7=t=>t.selection.getStart(),B7=(t,r,a,u,f)=>Bt(r,M=>{const H=t.formatter.matchNode(M,a,f??{},u);return!tt(H)},M=>Lf(t,M,a)?!0:u?!1:Ve(t.formatter.matchNode(M,a,f,!0))),uR=(t,r)=>{const a=r??L7(t);return Ge(pe(t.dom,a),u=>No(u)&&!Vg(u))},V7=(t,r,a)=>{const u=uR(t,r);Xn(a,(f,y)=>{const A=M=>{const H=B7(t,u,y,M.similar,cR(M)?M.vars:void 0),Y=H.isSome();if(M.state.get()!==Y){M.state.set(Y);const ue=H.getOr(r);cR(M)?M.callback(Y,{node:ue,format:y,parents:u}):ct(M.callbacks,me=>me(Y,{node:ue,format:y,parents:u}))}};ct([f.withSimilar,f.withoutSimilar],A),ct(f.withVars,A)})},Dse=(t,r,a,u,f,y)=>{const A=r.get();ct(a.split(","),M=>{const H=dr(A,M).getOrThunk(()=>{const ue={withSimilar:{state:zo(!1),similar:!0,callbacks:[]},withoutSimilar:{state:zo(!1),similar:!1,callbacks:[]},withVars:[]};return A[M]=ue,ue}),Y=()=>{const ue=uR(t);return B7(t,ue,M,f,y).isSome()};if(tt(y)){const ue=f?H.withSimilar:H.withoutSimilar;ue.callbacks.push(u),ue.callbacks.length===1&&ue.state.set(Y())}else H.withVars.push({state:zo(Y()),similar:f,vars:y,callback:u})}),r.set(A)},Mse=(t,r,a)=>{const u=t.get();ct(r.split(","),f=>dr(u,f).each(y=>{u[f]={withSimilar:{...y.withSimilar,callbacks:Ge(y.withSimilar.callbacks,A=>A!==a)},withoutSimilar:{...y.withoutSimilar,callbacks:Ge(y.withoutSimilar.callbacks,A=>A!==a)},withVars:Ge(y.withVars,A=>A.callback!==a)}})),t.set(u)},Pse=(t,r,a,u,f,y)=>(Dse(t,r,a,u,f,y),{unbind:()=>Mse(r,a,u)}),Nse=(t,r,a,u)=>{const f=t.formatter.get(r);f&&(vV(t,r,a,u)&&(!("toggle"in f[0])||f[0].toggle)?I8(t,r,a,u):N7(t,r,a,u))},fF=(t,r,a)=>({element:t,width:r,rows:a}),F7=(t,r)=>({element:t,cells:r}),Lse=(t,r)=>({x:t,y:r}),H7=(t,r)=>vh(t,r).bind(pf).getOr(1),Bse=(t,r,a,u,f)=>{const y=H7(f,"rowspan"),A=H7(f,"colspan"),M=t.rows;for(let H=a;H<a+y;H++){M[H]||(M[H]=F7(Sf(u),[]));for(let Y=r;Y<r+A;Y++){const ue=M[H].cells;ue[Y]=H===a&&Y===r?f:wl(f)}}},Vse=(t,r,a)=>{const u=t.rows;return!!(u[a]?u[a].cells:[])[r]},Q1e=(t,r,a)=>{for(;Vse(t,r,a);)r++;return r},uv=t=>On(t,(r,a)=>a.cells.length>r?a.cells.length:r,0),pF=(t,r)=>{const a=t.rows;for(let u=0;u<a.length;u++){const f=a[u].cells;for(let y=0;y<f.length;y++)if(Do(f[y],r))return _e.some(Lse(y,u))}return _e.none()},$7=(t,r,a,u,f)=>{const y=[],A=t.rows;for(let M=a;M<=f;M++){const H=A[M].cells,Y=r<u?H.slice(r,u+1):H.slice(u,r+1);y.push(F7(A[M].element,Y))}return y},U7=(t,r,a)=>{const u=r.x,f=r.y,y=a.x,A=a.y,M=f<A?$7(t,u,f,y,A):$7(t,u,A,y,f);return fF(t.element,uv(M),M)},Fse=(t,r)=>{const a=wl(t.element),u=et.fromTag("tbody");return gh(u,r),qr(a,u),a},Hse=t=>fn(t.rows,r=>{const a=fn(r.cells,f=>{const y=Sf(f);return ml(y,"colspan"),ml(y,"rowspan"),y}),u=wl(r.element);return gh(u,a),u}),eSe=t=>{const r=fF(wl(t),0,[]);return ct(un(t,"tr"),(a,u)=>{ct(un(a,"td,th"),(f,y)=>{Bse(r,Q1e(r,y,u),u,a,f)})}),fF(r.element,uv(r.rows),r.rows)},Oh=t=>Fse(t,Hse(t)),$se=(t,r,a)=>pF(t,r).bind(u=>pF(t,a).map(f=>U7(t,u,f))),mF=t=>$t(t,r=>Ms(r)==="ul"||Ms(r)==="ol"),z7=(t,r)=>$t(t,a=>Ms(a)==="li"&&xI(a,r)).fold(ot([]),a=>mF(t).map(u=>{const f=et.fromTag(Ms(u)),y=Nr(Lm(u),(A,M)=>Ss(M,"list-style"));return au(f,y),[et.fromTag("li"),f]}).getOr([])),sP=(t,r)=>{const a=On(r,(u,f)=>(qr(f,u),f),t);return r.length>0?wf([a]):a},Use=t=>eg(t)?ku(t).filter(lC).fold(ot([]),r=>[t,r]):lC(t)?[t]:[],zse=(t,r,a)=>{const u=et.fromDom(r.commonAncestorContainer),f=Co(u,t),y=Ge(f,H=>a.isWrapper(Ms(H))),A=z7(f,r),M=y.concat(A.length?A:Use(u));return fn(M,wl)},j7=()=>wf([]),jse=(t,r,a)=>sP(et.fromDom(r.cloneContents()),zse(t,r,a)),Wse=(t,r)=>qa(r,"table",at(Do,t)),W7=(t,r)=>Wse(t,r[0]).bind(a=>{const u=r[0],f=r[r.length-1],y=eSe(a);return $se(y,u,f).map(A=>wf([Oh(A)]))}).getOrThunk(j7),Gse=(t,r,a)=>r.length>0&&r[0].collapsed?j7():jse(t,r[0],a),G7=(t,r,a)=>{const u=vT(r,t);return u.length>0?W7(t,u):Gse(t,r,a)},dR=(t,r)=>r>=0&&r<t.length&&F1(t.charAt(r)),q7=t=>Q(t.innerText),qse=t=>t.map(r=>r.nodeName).getOr("div").toLowerCase(),Zse=t=>_e.from(t.selection.getRng()).map(r=>{var a;const u=_e.from(t.dom.getParent(r.commonAncestorContainer,t.dom.isBlock)),f=t.getBody(),y=qse(u),A=et.fromDom(r.cloneContents());LB(A),BB(A);const M=t.dom.add(f,y,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},A.dom),H=q7(M),Y=Q((a=M.textContent)!==null&&a!==void 0?a:"");if(t.dom.remove(M),dR(Y,0)||dR(Y,Y.length-1)){const ue=u.getOr(f),me=q7(ue),Se=me.indexOf(H);if(Se===-1)return H;{const Oe=dR(me,Se-1),Ke=dR(me,Se+H.length);return(Oe?" ":"")+H+(Ke?" ":"")}}else return H}).getOr(""),Kse=(t,r)=>{const a=t.selection.getRng(),u=t.dom.create("body"),f=t.selection.getSel(),y=MB(t,_I(f)),A=r.contextual?G7(et.fromDom(t.getBody()),y,t.schema).dom:a.cloneContents();return A&&u.appendChild(A),t.selection.serializer.serialize(u,r)},Yse=(t,r)=>{if(r.format==="text")return Zse(t);{const a=Kse(t,r);return r.format==="tree"?a:t.selection.isCollapsed()?"":a}},rP=(t,r)=>({...t,format:r,get:!0,selection:!0,getInner:!0}),Z7=(t,r,a={})=>{const u=rP(a,r);return eF(t,u).fold(Rt,f=>{const y=Yse(t,f);return XM(t,y,f)})},iP=0,K7=1,gF=2,Xse=(t,r)=>{const a=t.length+r.length+2,u=new Array(a),f=new Array(a),y=(ue,me,Se)=>({start:ue,end:me,diag:Se}),A=(ue,me,Se,Oe,Ke)=>{const Ze=H(ue,me,Se,Oe);if(Ze===null||Ze.start===me&&Ze.diag===me-Oe||Ze.end===ue&&Ze.diag===ue-Se){let We=ue,Ct=Se;for(;We<me||Ct<Oe;)We<me&&Ct<Oe&&t[We]===r[Ct]?(Ke.push([iP,t[We]]),++We,++Ct):me-ue>Oe-Se?(Ke.push([gF,t[We]]),++We):(Ke.push([K7,r[Ct]]),++Ct)}else{A(ue,Ze.start,Se,Ze.start-Ze.diag,Ke);for(let We=Ze.start;We<Ze.end;++We)Ke.push([iP,t[We]]);A(Ze.end,me,Ze.end-Ze.diag,Oe,Ke)}},M=(ue,me,Se,Oe)=>{let Ke=ue;for(;Ke-me<Oe&&Ke<Se&&t[Ke]===r[Ke-me];)++Ke;return y(ue,Ke,me)},H=(ue,me,Se,Oe)=>{const Ke=me-ue,Ze=Oe-Se;if(Ke===0||Ze===0)return null;const We=Ke-Ze,Ct=Ze+Ke,Et=(Ct%2===0?Ct:Ct+1)/2;u[1+Et]=ue,f[1+Et]=me+1;let Pt,Kt,In,ho,Kn;for(Pt=0;Pt<=Et;++Pt){for(Kt=-Pt;Kt<=Pt;Kt+=2){for(In=Kt+Et,Kt===-Pt||Kt!==Pt&&u[In-1]<u[In+1]?u[In]=u[In+1]:u[In]=u[In-1]+1,ho=u[In],Kn=ho-ue+Se-Kt;ho<me&&Kn<Oe&&t[ho]===r[Kn];)u[In]=++ho,++Kn;if(We%2!==0&&We-Pt<=Kt&&Kt<=We+Pt&&f[In-We]<=u[In])return M(f[In-We],Kt+ue-Se,me,Oe)}for(Kt=We-Pt;Kt<=We+Pt;Kt+=2){for(In=Kt+Et-We,Kt===We-Pt||Kt!==We+Pt&&f[In+1]<=f[In-1]?f[In]=f[In+1]-1:f[In]=f[In-1],ho=f[In]-1,Kn=ho-ue+Se-Kt;ho>=ue&&Kn>=Se&&t[ho]===r[Kn];)f[In]=ho--,Kn--;if(We%2===0&&-Pt<=Kt&&Kt<=Pt&&f[In]<=u[In+We])return M(f[In],Kt+ue-Se,me,Oe)}}return null},Y=[];return A(0,t.length,0,r.length,Y),Y},Y7=t=>No(t)?t.outerHTML:Un(t)?Gv.encodeRaw(t.data,!1):Fa(t)?"<!--"+t.data+"-->":"",Jse=t=>{let r;const a=document.createElement("div"),u=document.createDocumentFragment();for(t&&(a.innerHTML=t);r=a.firstChild;)u.appendChild(r);return u},vF=(t,r,a)=>{const u=Jse(r);if(t.hasChildNodes()&&a<t.childNodes.length){const f=t.childNodes[a];t.insertBefore(u,f)}else t.appendChild(u)},bF=(t,r)=>{if(t.hasChildNodes()&&r<t.childNodes.length){const a=t.childNodes[r];t.removeChild(a)}},Qse=(t,r)=>{let a=0;ct(t,u=>{u[0]===iP?a++:u[0]===K7?(vF(r,u[1],a),a++):u[0]===gF&&bF(r,a)})},yF=(t,r)=>Ge(fn(to(t.childNodes),te(Q,Y7)),a=>a.length>0),ere=(t,r)=>{const a=fn(to(r.childNodes),Y7);return Qse(Xse(a,t),r),r},tre=Dl(()=>document.implementation.createHTMLDocument("undo")),nre=t=>t.querySelector("iframe")!==null,ore=t=>({type:"fragmented",fragments:t,content:"",bookmark:null,beforeBookmark:null}),sre=t=>({type:"complete",fragments:null,content:t,bookmark:null,beforeBookmark:null}),aP=t=>{const r=t.serializer.getTempAttrs(),a=aj(t.getBody(),r);return nre(a)?ore(yF(a)):sre(Q(a.innerHTML))},lP=(t,r,a)=>{const u=a?r.beforeBookmark:r.bookmark;r.type==="fragmented"?ere(r.fragments,t.getBody()):t.setContent(r.content,{format:"raw",no_selection:Ve(u)&&hT(u)?!u.isFakeCaret:!0}),u&&(t.selection.moveToBookmark(u),t.selection.scrollIntoView())},SF=t=>t.type==="fragmented"?t.fragments.join(""):t.content,X7=t=>{const r=et.fromTag("body",tre());return Hp(r,SF(t)),ct(un(r,"*[data-mce-bogus]"),Nu),Ac(r)},rre=(t,r)=>SF(t)===SF(r),ire=(t,r)=>X7(t)===X7(r),CF=(t,r)=>!t||!r?!1:rre(t,r)?!0:ire(t,r),EF=t=>t.get()===0,cP=(t,r,a)=>{EF(a)&&(t.typing=r)},Zw=(t,r)=>{t.typing&&(cP(t,!1,r),t.add())},uP=t=>{t.typing&&(t.typing=!1,t.add())},J7=(t,r,a)=>{EF(r)&&a.set(lw(t.selection))},Q7=(t,r,a,u,f,y,A)=>{const M=aP(t),H=Zn.extend(y||{},M);if(!EF(u)||t.removed)return null;const Y=r.data[a.get()];if(t.dispatch("BeforeAddUndo",{level:H,lastLevel:Y,originalEvent:A}).isDefaultPrevented()||Y&&CF(Y,H))return null;r.data[a.get()]&&f.get().each(Se=>{r.data[a.get()].beforeBookmark=Se});const ue=TD(t);if(ue&&r.data.length>ue){for(let Se=0;Se<r.data.length-1;Se++)r.data[Se]=r.data[Se+1];r.data.length--,a.set(r.data.length)}H.bookmark=lw(t.selection),a.get()<r.data.length-1&&(r.data.length=a.get()+1),r.data.push(H),a.set(r.data.length-1);const me={level:H,lastLevel:Y,originalEvent:A};return a.get()>0?(t.setDirty(!0),t.dispatch("AddUndo",me),t.dispatch("change",me)):t.dispatch("AddUndo",me),H},are=(t,r,a)=>{r.data=[],a.set(0),r.typing=!1,t.dispatch("ClearUndos")},lre=(t,r,a,u,f)=>{if(r.transact(u)){const y=r.data[a.get()].bookmark,A=r.data[a.get()-1];lP(t,A,!0),r.transact(f)&&(r.data[a.get()-1].beforeBookmark=y)}},wF=(t,r,a)=>{let u;return r.get()<a.length-1&&(r.set(r.get()+1),u=a[r.get()],lP(t,u,!1),t.setDirty(!0),t.dispatch("Redo",{level:u})),u},cre=(t,r,a,u)=>{let f;return r.typing&&(r.add(),r.typing=!1,cP(r,!1,a)),u.get()>0&&(u.set(u.get()-1),f=r.data[u.get()],lP(t,f,!0),t.setDirty(!0),t.dispatch("Undo",{level:f})),f},ure=t=>{t.clear(),t.add()},dre=(t,r,a)=>a.get()>0||r.typing&&r.data[0]&&!CF(aP(t),r.data[0]),hre=(t,r)=>r.get()<t.data.length-1&&!t.typing,fre=(t,r,a)=>(Zw(t,r),t.beforeChange(),t.ignore(a),t.add()),dP=(t,r)=>{try{t.set(t.get()+1),r()}finally{t.set(t.get()-1)}},hR=(t,r)=>{const a=t.dom,u=Ve(r)?r:t.getBody();ct(a.select("table,a",u),f=>{switch(f.nodeName){case"TABLE":const y=Cw(t),A=a.getAttrib(f,"border");(!A||A==="0")&&t.hasVisual?a.addClass(f,y):a.removeClass(f,y);break;case"A":if(!a.getAttrib(f,"href")){const M=a.getAttrib(f,"name")||f.id,H=sI(t);M&&t.hasVisual?a.addClass(f,H):a.removeClass(f,H)}break}}),t.dispatch("VisualAid",{element:r,hasVisual:t.hasVisual})},eW=t=>({init:{bindEvents:gt},undoManager:{beforeChange:(r,a)=>J7(t,r,a),add:(r,a,u,f,y,A)=>Q7(t,r,a,u,f,y,A),undo:(r,a,u)=>cre(t,r,a,u),redo:(r,a)=>wF(t,r,a),clear:(r,a)=>are(t,r,a),reset:r=>ure(r),hasUndo:(r,a)=>dre(t,r,a),hasRedo:(r,a)=>hre(r,a),transact:(r,a,u)=>fre(r,a,u),ignore:(r,a)=>dP(r,a),extra:(r,a,u,f)=>lre(t,r,a,u,f)},formatter:{match:(r,a,u,f)=>vV(t,r,a,u,f),matchAll:(r,a)=>Fne(t,r,a),matchNode:(r,a,u,f)=>hb(t,r,a,u,f),canApply:r=>bV(t,r),closest:r=>Hne(t,r),apply:(r,a,u)=>N7(t,r,a,u),remove:(r,a,u,f)=>I8(t,r,a,u,f),toggle:(r,a,u)=>Nse(t,r,a,u),formatChanged:(r,a,u,f,y)=>Pse(t,r,a,u,f,y)},editor:{getContent:r=>k1e(t,r),setContent:(r,a)=>wse(t,r,a),insertContent:(r,a)=>Cse(t,r,a),addVisual:r=>hR(t,r)},selection:{getContent:(r,a)=>Z7(t,r,a)},autocompleter:{addDecoration:gt,removeDecoration:gt},raw:{getModel:()=>_e.none()}}),MT=t=>{const r=Y=>be(Y)?Y:{},{init:a,undoManager:u,formatter:f,editor:y,selection:A,autocompleter:M,raw:H}=t;return{init:{bindEvents:a.bindEvents},undoManager:{beforeChange:u.beforeChange,add:u.add,undo:u.undo,redo:u.redo,clear:u.clear,reset:u.reset,hasUndo:u.hasUndo,hasRedo:u.hasRedo,transact:(Y,ue,me)=>u.transact(me),ignore:(Y,ue)=>u.ignore(ue),extra:(Y,ue,me,Se)=>u.extra(me,Se)},formatter:{match:(Y,ue,me,Se)=>f.match(Y,r(ue),Se),matchAll:f.matchAll,matchNode:f.matchNode,canApply:Y=>f.canApply(Y),closest:Y=>f.closest(Y),apply:(Y,ue,me)=>f.apply(Y,r(ue)),remove:(Y,ue,me,Se)=>f.remove(Y,r(ue)),toggle:(Y,ue,me)=>f.toggle(Y,r(ue)),formatChanged:(Y,ue,me,Se,Oe)=>f.formatChanged(ue,me,Se,Oe)},editor:{getContent:Y=>y.getContent(Y),setContent:(Y,ue)=>({content:y.setContent(Y,ue),html:""}),insertContent:(Y,ue)=>(y.insertContent(Y),""),addVisual:y.addVisual},selection:{getContent:(Y,ue)=>A.getContent(ue)},autocompleter:{addDecoration:M.addDecoration,removeDecoration:M.removeDecoration},raw:{getModel:()=>_e.some(H.getRawModel())}}},rg=()=>{const t=ot(null),r=ot("");return{init:{bindEvents:gt},undoManager:{beforeChange:gt,add:t,undo:t,redo:t,clear:gt,reset:gt,hasUndo:qt,hasRedo:qt,transact:t,ignore:gt,extra:gt},formatter:{match:qt,matchAll:ot([]),matchNode:ot(void 0),canApply:qt,closest:r,apply:gt,remove:gt,toggle:gt,formatChanged:ot({unbind:gt})},editor:{getContent:r,setContent:ot({content:"",html:""}),insertContent:ot(""),addVisual:gt},selection:{getContent:r},autocompleter:{addDecoration:gt,removeDecoration:gt},raw:{getModel:ot(_e.none())}}},ig=t=>jo(t.plugins,"rtc"),Yi=t=>dr(t.plugins,"rtc").bind(r=>_e.from(r.setup)),fR=t=>{const r=t;return Yi(t).fold(()=>(r.rtcInstance=eW(t),_e.none()),a=>(r.rtcInstance=rg(),_e.some(()=>a().then(u=>(r.rtcInstance=MT(u),u.rtc.isRemote)))))},hP=t=>t.rtcInstance?t.rtcInstance:eW(t),Zc=t=>{const r=t.rtcInstance;if(r)return r;throw new Error("Failed to get RTC instance not yet initialized.")},fP=(t,r,a)=>{Zc(t).undoManager.beforeChange(r,a)},_F=(t,r,a,u,f,y,A)=>Zc(t).undoManager.add(r,a,u,f,y,A),AF=(t,r,a,u)=>Zc(t).undoManager.undo(r,a,u),TF=(t,r,a)=>Zc(t).undoManager.redo(r,a),xF=(t,r,a)=>{Zc(t).undoManager.clear(r,a)},pP=(t,r)=>{Zc(t).undoManager.reset(r)},OF=(t,r,a)=>Zc(t).undoManager.hasUndo(r,a),tW=(t,r,a)=>Zc(t).undoManager.hasRedo(r,a),nW=(t,r,a,u)=>Zc(t).undoManager.transact(r,a,u),oW=(t,r,a)=>{Zc(t).undoManager.ignore(r,a)},sW=(t,r,a,u,f)=>{Zc(t).undoManager.extra(r,a,u,f)},rW=(t,r,a,u,f)=>Zc(t).formatter.match(r,a,u,f),Kw=(t,r,a)=>Zc(t).formatter.matchAll(r,a),iW=(t,r,a,u,f)=>Zc(t).formatter.matchNode(r,a,u,f),IF=(t,r)=>Zc(t).formatter.canApply(r),pre=(t,r)=>Zc(t).formatter.closest(r),mre=(t,r,a,u)=>{Zc(t).formatter.apply(r,a,u)},aW=(t,r,a,u,f)=>{Zc(t).formatter.remove(r,a,u,f)},lW=(t,r,a,u)=>{Zc(t).formatter.toggle(r,a,u)},cW=(t,r,a,u,f,y)=>Zc(t).formatter.formatChanged(r,a,u,f,y),mP=(t,r)=>hP(t).editor.getContent(r),uW=(t,r,a)=>hP(t).editor.setContent(r,a),dW=(t,r,a)=>hP(t).editor.insertContent(r,a),hW=(t,r,a)=>Zc(t).selection.getContent(r,a),fW=(t,r)=>Zc(t).editor.addVisual(r),RF=t=>Zc(t).init.bindEvents(),pW=(t,r={})=>{const a=r.format?r.format:"html";return hW(t,a,r)},kF=(t,r,a)=>{if(jo(t,r)){const u=Ge(t[r],f=>f!==a);u.length===0?delete t[r]:t[r]=u}};var mW=(t,r)=>{let a,u;const f=(M,H)=>$t(H,Y=>t.is(Y,M)),y=M=>t.getParents(M,void 0,t.getRoot()),A=()=>{a={},u={},r.on("NodeChange",M=>{const H=M.element,Y=y(H),ue={};Xn(a,(me,Se)=>{f(Se,Y).each(Oe=>{u[Se]||(ct(me,Ke=>{Ke(!0,{node:Oe,selector:Se,parents:Y})}),u[Se]=me),ue[Se]=me})}),Xn(u,(me,Se)=>{ue[Se]||(delete u[Se],ct(me,Oe=>{Oe(!1,{node:H,selector:Se,parents:Y})}))})})};return{selectorChangedWithUnbind:(M,H)=>(a||A(),a[M]||(a[M]=[]),a[M].push(H),f(M,y(r.selection.getStart())).each(()=>{u[M]=a[M]}),{unbind:()=>{kF(a,M,H),kF(u,M,H)}})}};const DF=t=>!!(t&&t.ownerDocument)&&ei(et.fromDom(t.ownerDocument),et.fromDom(t)),gW=t=>t?DF(t.startContainer)&&DF(t.endContainer):!1,gP=(t,r,a,u)=>{let f,y;const{selectorChangedWithUnbind:A}=mW(t,u),M=(lo,as)=>{const ri=t.createRng();Ve(lo)&&Ve(as)?(ri.setStart(lo,as),ri.setEnd(lo,as),Kt(ri),Ct(!1)):(yT(t,ri,u.getBody(),!0),Kt(ri))},H=lo=>pW(u,lo),Y=(lo,as)=>sF(u,lo,as),ue=lo=>CM(u.getBody(),Pt(),lo),me=lo=>DB(u.getBody(),Pt(),lo),Se=(lo,as)=>nl.getBookmark(lo,as),Oe=lo=>nl.moveToBookmark(lo),Ke=(lo,as)=>(T1e(t,lo,as).each(Kt),lo),Ze=()=>{const lo=Pt(),as=Et();return!lo||lo.item?!1:lo.compareEndPoints?lo.compareEndPoints("StartToEnd",lo)===0:!as||lo.collapsed},We=()=>{if(u.mode.isReadOnly())return!1;const lo=Pt(),as=u.getBody().querySelectorAll('[data-mce-selected="1"]');return as.length>0?sr(as,ri=>t.isEditable(ri.parentElement)):nj(t,lo)},Ct=lo=>{const as=Pt();as.collapse(!!lo),Kt(as)},Et=()=>r.getSelection?r.getSelection():r.document.selection,Pt=()=>{let lo;const as=(Ni,es,uo)=>{try{return es.compareBoundaryPoints(Ni,uo)}catch{return-1}},ri=r.document;if(Ve(u.bookmark)&&!Bw(u)){const Ni=vB(u);if(Ni.isSome())return Ni.map(es=>MB(u,[es])[0]).getOr(ri.createRange())}try{const Ni=Et();Ni&&!Bg(Ni.anchorNode)&&(Ni.rangeCount>0?lo=Ni.getRangeAt(0):lo=ri.createRange(),lo=MB(u,[lo])[0])}catch{}if(lo||(lo=ri.createRange()),Sr(lo.startContainer)&&lo.collapsed){const Ni=t.getRoot();lo.setStart(Ni,0),lo.setEnd(Ni,0)}return f&&y&&(as(lo.START_TO_START,lo,f)===0&&as(lo.END_TO_END,lo,f)===0?lo=y:(f=null,y=null)),lo},Kt=(lo,as)=>{if(!gW(lo))return;const ri=Et();if(lo=u.dispatch("SetSelectionRange",{range:lo,forward:as}).range,ri){y=lo;try{ri.removeAllRanges(),ri.addRange(lo)}catch{}as===!1&&ri.extend&&(ri.collapse(lo.endContainer,lo.endOffset),ri.extend(lo.startContainer,lo.startOffset)),f=ri.rangeCount>0?ri.getRangeAt(0):null}if(!lo.collapsed&&lo.startContainer===lo.endContainer&&(ri!=null&&ri.setBaseAndExtent)&&lo.endOffset-lo.startOffset<2&&lo.startContainer.hasChildNodes()){const es=lo.startContainer.childNodes[lo.startOffset];es&&es.nodeName==="IMG"&&(ri.setBaseAndExtent(lo.startContainer,lo.startOffset,lo.endContainer,lo.endOffset),(ri.anchorNode!==lo.startContainer||ri.focusNode!==lo.endContainer)&&ri.setBaseAndExtent(es,0,es,1))}u.dispatch("AfterSetSelectionRange",{range:lo,forward:as})},In=lo=>(eP(u,t.getOuterHTML(lo)),lo),ho=()=>Hte(u.getBody(),Pt()),Kn=(lo,as)=>A1e(t,Pt(),lo,as),Sn=()=>{const lo=Et(),as=lo==null?void 0:lo.anchorNode,ri=lo==null?void 0:lo.focusNode;if(!lo||!as||!ri||Bg(as)||Bg(ri))return!0;const Ni=t.createRng(),es=t.createRng();try{Ni.setStart(as,lo.anchorOffset),Ni.collapse(!0),es.setStart(ri,lo.focusOffset),es.collapse(!0)}catch{return!0}return Ni.compareBoundaryPoints(Ni.START_TO_START,es)<=0},tl={dom:t,win:r,serializer:a,editor:u,expand:(lo={type:"word"})=>Kt(_0(t).expand(Pt(),lo)),collapse:Ct,setCursorLocation:M,getContent:H,setContent:Y,getBookmark:Se,moveToBookmark:Oe,select:Ke,isCollapsed:Ze,isEditable:We,isForward:Sn,setNode:In,getNode:ho,getSel:Et,setRng:Kt,getRng:Pt,getStart:ue,getEnd:me,getSelectedBlocks:Kn,normalize:()=>{const lo=Pt(),as=Et();if(!lB(as)&&kw(u)){const ri=pu(t,lo);return ri.each(Ni=>{Kt(Ni,Sn())}),ri.getOr(lo)}return lo},selectorChanged:(lo,as)=>(A(lo,as),tl),selectorChangedWithUnbind:A,getScrollContainer:()=>{let lo,as=t.getRoot();for(;as&&as.nodeName!=="BODY";){if(as.scrollHeight>as.clientHeight){lo=as;break}as=as.parentNode}return lo},scrollIntoView:(lo,as)=>{Ve(lo)?Fte(u,lo,as):BI(u,Pt(),as)},placeCaretAt:(lo,as)=>Kt(Kz(lo,as,u.getDoc())),getBoundingClientRect:()=>{const lo=Pt();return lo.collapsed?an.fromRangeStart(lo).getClientRects()[0]:lo.getBoundingClientRect()},destroy:()=>{r=f=y=null,Cd.destroy()}},nl=cb(tl),Cd=Zz(tl,u);return tl.bookmarkManager=nl,tl.controlSelection=Cd,tl},vW=(t,r,a)=>{r.addNodeFilter("br",(u,f,y)=>{const A=Zn.extend({},a.getBlockElements()),M=a.getNonEmptyElements(),H=a.getWhitespaceElements();A.body=1;const Y=ue=>ue.name in A||ay(a,ue);for(let ue=0,me=u.length;ue<me;ue++){let Se=u[ue],Oe=Se.parent;if(Oe&&Y(Oe)&&Se===Oe.lastChild){let Ke=Se.prev;for(;Ke;){const Ze=Ke.name;if(Ze!=="span"||Ke.attr("data-mce-type")!=="bookmark"){Ze==="br"&&(Se=null);break}Ke=Ke.prev}if(Se&&(Se.remove(),KI(a,M,H,Oe))){const Ze=a.getElementRule(Oe.name);Ze&&(Ze.removeEmpty?Oe.remove():Ze.paddEmpty&&PV(t,y,Y,Oe))}}else{let Ke=Se;for(;Oe&&Oe.firstChild===Ke&&Oe.lastChild===Ke&&(Ke=Oe,!A[Oe.name]);)Oe=Oe.parent;if(Ke===Oe){const Ze=new of("#text",3);Ze.value=Bi,Se.replace(Ze)}}}})},bW=(t,r,a)=>{t.addAttributeFilter("data-mce-tabindex",(u,f)=>{let y=u.length;for(;y--;){const A=u[y];A.attr("tabindex",A.attr("data-mce-tabindex")),A.attr(f,null)}}),t.addAttributeFilter("src,href,style",(u,f)=>{const y="data-mce-"+f,A=r.url_converter,M=r.url_converter_scope;let H=u.length;for(;H--;){const Y=u[H];let ue=Y.attr(y);ue!==void 0?(Y.attr(f,ue.length>0?ue:null),Y.attr(y,null)):(ue=Y.attr(f),f==="style"?ue=a.serializeStyle(a.parseStyle(ue),Y.name):A&&(ue=A.call(M,ue,f,Y.name)),Y.attr(f,ue.length>0?ue:null))}}),t.addAttributeFilter("class",u=>{let f=u.length;for(;f--;){const y=u[f];let A=y.attr("class");A&&(A=A.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),y.attr("class",A.length>0?A:null))}}),t.addAttributeFilter("data-mce-type",(u,f,y)=>{let A=u.length;for(;A--;){const M=u[A];M.attr("data-mce-type")==="bookmark"&&!y.cleanup&&(_e.from(M.firstChild).exists(Y=>{var ue;return!q((ue=Y.value)!==null&&ue!==void 0?ue:"")})?M.unwrap():M.remove())}}),t.addNodeFilter("script,style",(u,f)=>{var y;const A=H=>H.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let M=u.length;for(;M--;){const H=u[M],Y=H.firstChild,ue=(y=Y==null?void 0:Y.value)!==null&&y!==void 0?y:"";if(f==="script"){const me=H.attr("type");me&&H.attr("type",me==="mce-no/type"?null:me.replace(/^mce\-/,"")),r.element_format==="xhtml"&&Y&&ue.length>0&&(Y.value=`// <![CDATA[
`+A(ue)+`
// ]]>`)}else r.element_format==="xhtml"&&Y&&ue.length>0&&(Y.value=`<!--
`+A(ue)+`
-->`)}}),t.addNodeFilter("#comment",u=>{let f=u.length;for(;f--;){const y=u[f],A=y.value;r.preserve_cdata&&(A==null?void 0:A.indexOf("[CDATA["))===0?(y.name="#cdata",y.type=4,y.value=a.decode(A.replace(/^\[CDATA\[|\]\]$/g,""))):(A==null?void 0:A.indexOf("mce:protected "))===0&&(y.name="#text",y.type=3,y.raw=!0,y.value=unescape(A).substr(14))}}),t.addNodeFilter("xml:namespace,input",(u,f)=>{let y=u.length;for(;y--;){const A=u[y];A.type===7?A.remove():A.type===1&&f==="input"&&!A.attr("type")&&A.attr("type","text")}}),t.addAttributeFilter("data-mce-type",u=>{ct(u,f=>{f.attr("data-mce-type")==="format-caret"&&(f.isEmpty(t.schema.getNonEmptyElements())?f.remove():f.unwrap())})}),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(u,f)=>{let y=u.length;for(;y--;)u[y].attr(f,null)}),r.remove_trailing_brs&&vW(r,t,t.schema)},yW=t=>{const r=u=>(u==null?void 0:u.name)==="br",a=t.lastChild;if(r(a)){const u=a.prev;r(u)&&(a.remove(),u.remove())}},SW=(t,r,a)=>{let u;const f=t.dom;let y=r.cloneNode(!0);const A=document.implementation;if(A.createHTMLDocument){const M=A.createHTMLDocument("");Zn.each(y.nodeName==="BODY"?y.childNodes:[y],H=>{M.body.appendChild(M.importNode(H,!0))}),y.nodeName!=="BODY"?y=M.body.firstChild:y=M.body,u=f.doc,f.doc=M}return tv(t,{...a,node:y}),u&&(f.doc=u),y},CW=(t,r)=>Ve(t)&&t.hasEventListeners("PreProcess")&&!r.no_events,EW=(t,r,a)=>CW(t,a)?SW(t,r,a):r,wW=(t,r,a)=>{Zn.inArray(r,a)===-1&&(t.addAttributeFilter(a,(u,f)=>{let y=u.length;for(;y--;)u[y].attr(f,null)}),r.push(a))},MF=(t,r,a)=>!r.no_events&&t?cD(t,{...r,content:a}).content:a,vP=(t,r,a)=>{const u=Q(a.getInner?r.innerHTML:t.getOuterHTML(r));return a.selection||m(et.fromDom(r))?u:Zn.trim(u)},_W=(t,r,a)=>{const u=a.selection?{forced_root_block:!1,...a}:a,f=t.parse(r,u);return yW(f),f},gre=(t,r,a)=>TC(t,r).serialize(a),AW=(t,r,a,u,f)=>{const y=gre(r,a,u);return MF(t,f,y)},bP=(t,r)=>{const a=["data-mce-selected"],u={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...t},f=r&&r.dom?r.dom:Ai.DOM,y=r&&r.schema?r.schema:Rf(u),A=Z1(u,y);bW(A,u,f);const M=(H,Y={})=>{const{indent:ue,entity_encoding:me,...Se}=Y,Oe={format:"html",...Se},Ke=EW(r,H,Oe),Ze=vP(f,Ke,Oe),We=_W(A,Ze,Oe);if(Oe.format==="tree")return We;const Ct={...u,...Ve(ue)?{indent:ue}:{},...Ve(me)?{entity_encoding:me}:{}};return AW(r,Ct,y,We,Oe)};return{schema:y,addNodeFilter:A.addNodeFilter,addAttributeFilter:A.addAttributeFilter,serialize:M,addRules:y.addValidElements,setRules:y.setValidElements,addTempAttr:at(wW,A,a),getTempAttrs:ot(a),getNodeFilters:A.getNodeFilters,getAttributeFilters:A.getAttributeFilters,removeNodeFilter:A.removeNodeFilter,removeAttributeFilter:A.removeAttributeFilter}},yP=(t,r)=>{const a=bP(t,r);return{schema:a.schema,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:a.serialize,addRules:a.addRules,setRules:a.setRules,addTempAttr:a.addTempAttr,getTempAttrs:a.getTempAttrs,getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters,removeNodeFilter:a.removeNodeFilter,removeAttributeFilter:a.removeAttributeFilter}},pR="html",PF=(t,r)=>({...t,format:r,get:!0,getInner:!0}),TW=(t,r={})=>{const a=r.format?r.format:pR,u=PF(r,a);return eF(t,u).fold(Rt,f=>{const y=mP(t,f);return XM(t,y,f)})},PT="html",NF=(t,r)=>({format:PT,...t,set:!0,content:r}),mR=(t,r,a={})=>{const u=NF(a,r);iR(t,u).each(f=>{const y=uW(t,f.content,f);JM(t,y.html,f)})},Y1=Ai.DOM,LC=t=>{Y1.setStyle(t.id,"display",t.orgDisplay)},gR=t=>_e.from(t).each(r=>r.destroy()),vre=t=>{const r=t;r.contentAreaContainer=r.formElement=r.container=r.editorContainer=null,r.bodyElement=r.contentDocument=r.contentWindow=null,r.iframeElement=r.targetElm=null;const a=t.selection;if(a){const u=a.dom;r.selection=a.win=a.dom=u.doc=null}},bre=t=>{const r=t.formElement;r&&(r._mceOldSubmit&&(r.submit=r._mceOldSubmit,delete r._mceOldSubmit),Y1.unbind(r,"submit reset",t.formEventDelegate))},xW=t=>{if(!t.removed){const{_selectionOverrides:r,editorUpload:a}=t,u=t.getBody(),f=t.getElement();u&&t.save({is_removing:!0}),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&Ve(f==null?void 0:f.nextSibling)&&Y1.remove(f.nextSibling),m0(t),t.editorManager.remove(t),!t.inline&&u&&LC(t),ng(t),Y1.remove(t.getContainer()),gR(r),gR(a),t.destroy()}},OW=(t,r)=>{const{selection:a,dom:u}=t;if(!t.destroyed){if(!r&&!t.removed){t.remove();return}r||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),gR(a),gR(u)),bre(t),vre(t),t.destroyed=!0}},SP=(()=>{const t={};return{add:(f,y)=>{t[f]=y},get:f=>t[f]?t[f]:{icons:{}},has:f=>jo(t,f)}})(),dv=Gc.ModelManager,BC=(t,r)=>r.dom[t],LF=(t,r)=>parseInt(Ga(r,t),10),IW=at(BC,"clientWidth"),Sre=at(BC,"clientHeight"),Cre=at(LF,"margin-top"),Ere=at(LF,"margin-left"),mm=t=>t.dom.getBoundingClientRect(),gb=(t,r,a)=>{const u=IW(t),f=Sre(t);return r>=0&&a>=0&&r<=u&&a<=f},RW=(t,r,a,u)=>{const f=mm(r),y=t?f.left+r.dom.clientLeft+Ere(r):0,A=t?f.top+r.dom.clientTop+Cre(r):0,M=a-y,H=u-A;return{x:M,y:H}},BF=(t,r,a)=>{const u=et.fromDom(t.getBody()),f=t.inline?u:Nl(u),y=RW(t.inline,f,r,a);return gb(f,y.x,y.y)},VF=t=>_e.from(t).map(et.fromDom),CP=t=>{const r=t.inline?t.getBody():t.getContentAreaContainer();return VF(r).map(ci).getOr(!1)};var wre=()=>{const t=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:t,close:t,getArgs:t}};const FF=t=>{const r=[],a=()=>{const Se=t.theme;return Se&&Se.getNotificationManagerImpl?Se.getNotificationManagerImpl():wre()},u=()=>_e.from(r[0]),f=(Se,Oe)=>Se.type===Oe.type&&Se.text===Oe.text&&!Se.progressBar&&!Se.timeout&&!Oe.progressBar&&!Oe.timeout,y=()=>{u().each(Se=>{Se.reposition()})},A=Se=>{r.push(Se)},M=Se=>{ls(r,Oe=>Oe===Se).each(Oe=>{r.splice(Oe,1)})},H=(Se,Oe=!0)=>t.removed||!CP(t)?{}:(Oe&&t.dispatch("BeforeOpenNotification",{notification:Se}),$t(r,Ke=>f(a().getArgs(Ke),Se)).getOrThunk(()=>{t.editorManager.setActive(t);const Ke=a().open(Se,()=>{M(Ke)},()=>CB(t));return A(Ke),y(),t.dispatch("OpenNotification",{notification:{...Ke}}),Ke})),Y=()=>{u().each(Se=>{a().close(Se),M(Se),y()})},ue=ot(r);return(Se=>{Se.on("SkinLoaded",()=>{const Oe=nI(Se);Oe&&H({text:Oe,type:"warning",timeout:0},!1),y()}),Se.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(y)}),Se.on("remove",()=>{ct(r.slice(),Oe=>{a().close(Oe)})}),Se.on("keydown",Oe=>{var Ke;const Ze=((Ke=Oe.key)===null||Ke===void 0?void 0:Ke.toLowerCase())==="f12"||Oe.keyCode===123;Oe.altKey&&Ze&&(Oe.preventDefault(),u().map(We=>et.fromDom(We.getEl())).each(We=>zb(We)))})})(t),{open:H,close:Y,getNotifications:ue}},xy=Gc.PluginManager,Yw=Gc.ThemeManager;var EP=()=>{const t=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:t,openUrl:t,alert:t,confirm:t,close:t}};const wP=t=>{let r=[];const a=()=>{const We=t.theme;return We&&We.getWindowManagerImpl?We.getWindowManagerImpl():EP()},u=(We,Ct)=>(...Et)=>Ct?Ct.apply(We,Et):void 0,f=We=>{t.dispatch("OpenWindow",{dialog:We})},y=We=>{t.dispatch("CloseWindow",{dialog:We})},A=(We,Ct)=>{r.push({instanceApi:We,triggerElement:Ct}),f(We)},M=We=>{y(We);const Ct=go(r,({instanceApi:Et,triggerElement:Pt})=>Et===We?Pt:_e.none());r=Ge(r,({instanceApi:Et})=>Et!==We),r.length===0?t.focus():Ct.filter(ci).each(zb)},H=()=>_e.from(r[r.length-1]),Y=We=>{t.editorManager.setActive(t),PI(t);const Ct=Zh();t.ui.show();const Et=We();return A(Et,Ct),Et},ue=(We,Ct)=>Y(()=>a().open(We,Ct,M)),me=We=>Y(()=>a().openUrl(We,M)),Se=We=>{r.length!==0&&We.each(Ct=>zb(Ct))},Oe=(We,Ct,Et)=>{const Pt=Zh(),Kt=a();Kt.alert(We,u(Et||Kt,()=>{Se(Pt),Ct==null||Ct()}))},Ke=(We,Ct,Et)=>{const Pt=Zh(),Kt=a();Kt.confirm(We,u(Et||Kt,In=>{Se(Pt),Ct==null||Ct(In)}))},Ze=()=>{H().each(({instanceApi:We})=>{a().close(We),M(We)})};return t.on("remove",()=>{ct(r,({instanceApi:We})=>{a().close(We)})}),{open:ue,openUrl:me,alert:Oe,confirm:Ke,close:Ze}},HF=(t,r)=>{t.notificationManager.open({type:"error",text:r})},VC=(t,r)=>{t._skinLoaded?HF(t,r):t.on("SkinLoaded",()=>{HF(t,r)})},_re=(t,r)=>{VC(t,yp.translate(["Failed to upload image: {0}",r]))},NT=(t,r,a)=>{qO(t,r,{message:a}),console.error(a)},wp=(t,r,a)=>a?`Failed to load ${t}: ${a} from url ${r}`:`Failed to load ${t} url: ${r}`,gm=(t,r,a)=>{NT(t,"PluginLoadError",wp("plugin",r,a))},vR=(t,r,a)=>{NT(t,"IconsLoadError",wp("icons",r,a))},vm=(t,r,a)=>{NT(t,"LanguageLoadError",wp("language",r,a))},Are=(t,r,a)=>{NT(t,"ThemeLoadError",wp("theme",r,a))},wa=(t,r,a)=>{NT(t,"ModelLoadError",wp("model",r,a))},Tre=(t,r)=>{NT(t,"LicenseKeyManagerLoadError",wp("license key manager",r))},X1=(t,r,a)=>{const u=yp.translate(["Failed to initialize plugin: {0}",r]);qO(t,"PluginLoadError",{message:u}),FC(u,a),VC(t,u)},FC=(t,...r)=>{const a=window.console;a&&(a.error?a.error(t,...r):a.log(t,...r))},$F=new WeakMap,UF=t=>{if($F.has(t))return;$F.set(t,!0);const r=()=>{t.on("SwitchMode",u=>{const{mode:f}=u;f!=="readonly"&&t.mode.set("readonly")})},a=()=>{t.on("DisabledStateChange",u=>{const{state:f}=u;f||u.preventDefault()},!0)};t.initialized?(t.removed||t.mode.set("readonly"),t.options.set("disabled",!0)):t.on("init",()=>{t.removed||t.mode.set("readonly"),t.options.set("disabled",!0)}),a(),r()},_P=(t,r)=>{const{type:a,message:u}=r;t.notificationManager.open({type:a,text:u})},xre=t=>{switch(t){case"error":return console.error;case"info":return console.info;case"warn":return console.warn;case"log":default:return console.log}},zF=t=>{xre(t.type)(t.message)},jF=(t,r)=>{const{console:a,editor:u}=r;Ve(u)&&(t._skinLoaded?_P(t,u):t.on("SkinLoaded",()=>{_P(t,u)})),Ve(a)&&zF(a)},AP="Read more: https://www.tiny.cloud/docs/tinymce/latest/license-key/",WF="Make sure to provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms.",kW=t=>{const r="The editor is disabled because a TinyMCE license key has not been provided.";jF(t,{console:{type:"error",message:[`${r}`,WF,AP].join(" ")},editor:{type:"warning",message:`${r}`}})},TP=(t,r)=>{const a=`${r==="online"?"API":"license"} key`,u=`The editor is disabled because the TinyMCE ${a} could not be validated.`;jF(t,{console:{type:"error",message:[`${u}`,`The TinyMCE Commercial License Key Manager plugin is required for the provided ${a} to be validated but could not be loaded.`,AP].join(" ")},editor:{type:"warning",message:`${u}`}})},DW=(t,r)=>{const a=`The "${r}" plugin requires a valid TinyMCE license key.`;jF(t,{console:{type:"error",message:[`${a}`,AP].join(" ")}})},MW="licensekeymanager",Ire=t=>ie(HD(t))?"online":"offline",Rre=t=>{var r;const a=(r=_w(t))===null||r===void 0?void 0:r.toLowerCase();return a==="gpl"?"gpl":Xe(a)?"no_key":"non_gpl"},PW=t=>{const r=Ire(t),a=Rre(t),u=new Set(k1(t)).has(MW);return a!=="gpl"||r==="online"||u?{type:"use_plugin",onlineStatus:r,licenseKeyType:a,forcePlugin:u}:{type:"use_gpl",onlineStatus:r,licenseKeyType:a,forcePlugin:u}},NW=t=>({validate:r=>{const{plugin:a}=r;return ie(a)&&DW(t,a),Promise.resolve(!1)}}),kre=t=>({validate:r=>{const{plugin:a}=r,u=ie(a);return u&&DW(t,a),Promise.resolve(!u)}}),xP="manager",LW=MW,OP=(()=>{const t=Gc();return{load:(f,y)=>{if(PW(f).type==="use_plugin"){const M=`plugins/${LW}/plugin${y}.js`;t.load(xP,M).catch(()=>{Tre(f,M)})}},add:f=>{t.add(xP,f)},init:f=>{const y=H=>{Object.defineProperty(f,"licenseKeyManager",{value:H,writable:!1,configurable:!1,enumerable:!0})},A=PW(f),M=t.get(xP);if(Ve(M)){const H=M(f,t.urls[xP]);y(H)}else switch(A.type){case"use_gpl":{y(kre(f));break}case"use_plugin":{UF(f),y(NW(f)),A.onlineStatus==="offline"&&A.licenseKeyType==="no_key"?kW(f):TP(f,A.onlineStatus);break}}f.licenseKeyManager.validate({})}}})(),bR=t=>{_e.from(t.selection.getNode()).each(r=>{r.removeAttribute("data-mce-selected")})},GF=(t,r,a)=>{try{t.getDoc().execCommand(r,!1,String(a))}catch{}},Dre=(t,r)=>{GF(t,"StyleWithCSS",r),GF(t,"enableInlineTableEditing",r),GF(t,"enableObjectResizing",r)},BW=t=>{t.selection.setRng(t.selection.getRng())},qF=(t,r,a)=>{Gb(t,r)&&!a?il(t,r):a&&_l(t,r)},VW=t=>{const r=et.fromDom(t.getBody());qF(r,"mce-content-readonly",!0),t.selection.controlSelection.hideResizeRect(),t._selectionOverrides.hideFakeCaret(),bR(t)},ZF=t=>{const r=et.fromDom(t.getBody());qF(r,"mce-content-readonly",!1),t.hasEditableRoot()&&J(r,!0),Dre(t,!1),CB(t)&&t.focus(),BW(t),t.nodeChanged()},hc=t=>Aw(t),Xw="data-mce-contenteditable",FW=t=>{ct(un(t,'*[contenteditable="true"]'),r=>{pa(r,Xw,"true"),J(r,!1)})},KF=t=>{ct(un(t,`*[${Xw}="true"]`),r=>{ml(r,Xw),J(r,!0)})},IP=(t,r)=>{const a=et.fromDom(t.getBody());r?(VW(t),J(a,!1),FW(a)):(KF(a),ZF(t))},HW=t=>{t.serializer?YF(t):t.on("PreInit",()=>{YF(t)})},YF=t=>{t.parser.addAttributeFilter("contenteditable",r=>{hc(t)&&ct(r,a=>{a.attr(Xw,a.attr("contenteditable")),a.attr("contenteditable","false")})}),t.serializer.addAttributeFilter(Xw,r=>{hc(t)&&ct(r,a=>{a.attr("contenteditable",a.attr(Xw))})}),t.serializer.addTempAttr(Xw)},Mre=t=>t.type==="click",Pre=["copy"],$W=t=>zt(Pre,t.type),UW=(t,r)=>Pc(r,"a",u=>Do(u,et.fromDom(t.getBody()))).bind(u=>vh(u,"href")),ag=(t,r)=>{if(Mre(r)&&!_o.metaKeyPressed(r)){const a=et.fromDom(r.target);UW(t,a).each(u=>{if(r.preventDefault(),/^#/.test(u)){const f=t.dom.select(`${u},[name="${Hh(u,"#")}"]`);f.length&&t.selection.scrollIntoView(f[0],!0)}else window.open(u,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else $W(r)&&t.dispatch(r.type,r)},Nre=t=>{t.on("ShowCaret ObjectSelected",r=>{hc(t)&&r.preventDefault()}),t.on("DisabledStateChange",r=>{r.isDefaultPrevented()||IP(t,r.state)})},Lre=t=>{HW(t),Nre(t)},nSe=t=>/^[a-z0-9\-]+$/i.test(t),yR=t=>"content/"+t+"/content.css",Bre=t=>tinymce.Resource.has(yR(t)),oSe=t=>RP(t,QO(t)),Vre=t=>RP(t,SD(t)),RP=(t,r)=>{const a=t.editorManager.baseURL+"/skins/content",f=`content${t.editorManager.suffix}.css`;return fn(r,y=>Bre(y)?y:nSe(y)&&!t.inline?`${a}/${y}/${f}`:t.documentBaseURI.toAbsolute(y))},vb=t=>{t.contentCSS=t.contentCSS.concat(oSe(t),Vre(t))},XF=t=>t?to(t.getElementsByTagName("img")):[],kP=(t,r)=>{const a={};return{findAll:(f,y=Tn)=>{const A=Ge(XF(f),H=>{const Y=H.src;return H.hasAttribute("data-mce-bogus")||H.hasAttribute("data-mce-placeholder")||!Y||Y===Tr.transparentSrc?!1:Ss(Y,"blob:")?!t.isUploaded(Y)&&y(H):Ss(Y,"data:")?y(H):!1}),M=fn(A,H=>{const Y=H.src;if(jo(a,Y))return a[Y].then(ue=>ie(ue)?ue:{image:H,blobInfo:ue.blobInfo});{const ue=Eoe(r,Y).then(me=>(delete a[Y],{image:H,blobInfo:me})).catch(me=>(delete a[Y],me));return a[Y]=ue,ue}});return Promise.all(M)}}},DP=()=>{let a={};const u=(Se,Oe)=>({status:Se,resultUri:Oe}),f=Se=>Se in a;return{hasBlobUri:f,getResultUri:Se=>{const Oe=a[Se];return Oe?Oe.resultUri:null},isPending:Se=>f(Se)?a[Se].status===1:!1,isUploaded:Se=>f(Se)?a[Se].status===2:!1,markPending:Se=>{a[Se]=u(1,null)},markUploaded:(Se,Oe)=>{a[Se]=u(2,Oe)},removeFailed:Se=>{delete a[Se]},destroy:()=>{a={}}}};let Fre=0;const JF=()=>{const t=()=>Math.round(nd()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+t()+t()+t()},Hre=t=>t+Fre+++JF(),zW=()=>{let t=[];const r=me=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[me.toLowerCase()]||"dat",a=(me,Se,Oe,Ke,Ze)=>{if(ie(me))return u({id:me,name:Ke,filename:Ze,blob:Se,base64:Oe});if(be(me))return u(me);throw new Error("Unknown input type")},u=me=>{if(!me.blob||!me.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const Se=me.id||Hre("blobid"),Oe=me.name||Se,Ke=me.blob;return{id:ot(Se),name:ot(Oe),filename:ot(me.filename||Oe+"."+r(Ke.type)),blob:ot(Ke),base64:ot(me.base64),blobUri:ot(me.blobUri||URL.createObjectURL(Ke)),uri:ot(me.uri)}},f=me=>{A(me.id())||t.push(me)},y=me=>$t(t,me).getOrUndefined(),A=me=>y(Se=>Se.id()===me);return{create:a,add:f,get:A,getByUri:me=>y(Se=>Se.blobUri()===me),getByData:(me,Se)=>y(Oe=>Oe.base64()===me&&Oe.blob().type===Se),findFirst:y,removeByUri:me=>{t=Ge(t,Se=>Se.blobUri()===me?(URL.revokeObjectURL(Se.blobUri()),!1):!0)},destroy:()=>{ct(t,me=>{URL.revokeObjectURL(me.blobUri())}),t=[]}}},$re=(t,r)=>{const a={},u=(Ze,We)=>Ze?Ze.replace(/\/$/,"")+"/"+We.replace(/^\//,""):We,f=(Ze,We)=>new Promise((Ct,Et)=>{const Pt=new XMLHttpRequest;Pt.open("POST",r.url),Pt.withCredentials=r.credentials,Pt.upload.onprogress=In=>{We(In.loaded/In.total*100)},Pt.onerror=()=>{Et("Image upload failed due to a XHR Transport error. Code: "+Pt.status)},Pt.onload=()=>{if(Pt.status<200||Pt.status>=300){Et("HTTP Error: "+Pt.status);return}const In=JSON.parse(Pt.responseText);if(!In||!ie(In.location)){Et("Invalid JSON: "+Pt.responseText);return}Ct(u(r.basePath,In.location))};const Kt=new FormData;Kt.append("file",Ze.blob(),Ze.filename()),Pt.send(Kt)}),y=Re(r.handler)?r.handler:f,A=()=>new Promise(Ze=>{Ze([])}),M=(Ze,We)=>({url:We,blobInfo:Ze,status:!0}),H=(Ze,We)=>({url:"",blobInfo:Ze,status:!1,error:We}),Y=(Ze,We)=>{Zn.each(a[Ze],Ct=>{Ct(We)}),delete a[Ze]},ue=(Ze,We,Ct)=>(t.markPending(Ze.blobUri()),new Promise(Et=>{let Pt,Kt;try{const In=()=>{Pt&&(Pt.close(),Kt=gt)},ho=Sn=>{In(),t.markUploaded(Ze.blobUri(),Sn),Y(Ze.blobUri(),M(Ze,Sn)),Et(M(Ze,Sn))},Kn=Sn=>{In(),t.removeFailed(Ze.blobUri()),Y(Ze.blobUri(),H(Ze,Sn)),Et(H(Ze,Sn))};Kt=Sn=>{Sn<0||Sn>100||_e.from(Pt).orThunk(()=>_e.from(Ct).map(jn)).each(Dt=>{Pt=Dt,Dt.progressBar.value(Sn)})},We(Ze,Kt).then(ho,Sn=>{Kn(ie(Sn)?{message:Sn}:Sn)})}catch(In){Et(H(Ze,In))}})),me=Ze=>Ze===f,Se=Ze=>{const We=Ze.blobUri();return new Promise(Ct=>{a[We]=a[We]||[],a[We].push(Ct)})},Oe=(Ze,We)=>(Ze=Zn.grep(Ze,Ct=>!t.isUploaded(Ct.blobUri())),Promise.all(Zn.map(Ze,Ct=>t.isPending(Ct.blobUri())?Se(Ct):ue(Ct,y,We))));return{upload:(Ze,We)=>!r.url&&me(y)?A():Oe(Ze,We)}},jW=t=>()=>t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),MP=(t,r)=>$re(r,{url:Dz(t),basePath:hw(t),credentials:I4(t),handler:Mz(t)}),Ure=t=>{const r=DP(),a=MP(t,r);return{upload:(u,f=!0)=>a.upload(u,f?jW(t):void 0)}},WW=(t,r)=>t.dom.isEmpty(r.dom)&&Ve(t.schema.getTextBlockElements()[Ms(r)]),zre=t=>r=>{WW(t,r)&&qr(r,et.fromHtml('<br data-mce-bogus="1" />'))},Jw=t=>{const r=zW();let a,u;const f=DP(),y=[],A=Pt=>Kt=>t.selection?Pt(Kt):[],M=Pt=>Pt+(Pt.indexOf("?")===-1?"?":"&")+new Date().getTime(),H=(Pt,Kt,In)=>{let ho=0;do ho=Pt.indexOf(Kt,ho),ho!==-1&&(Pt=Pt.substring(0,ho)+In+Pt.substr(ho+Kt.length),ho+=In.length-Kt.length+1);while(ho!==-1);return Pt},Y=(Pt,Kt,In)=>{const ho=`src="${In}"${In===Tr.transparentSrc?' data-mce-placeholder="1"':""}`;return Pt=H(Pt,`src="${Kt}"`,ho),Pt=H(Pt,'data-mce-src="'+Kt+'"','data-mce-src="'+In+'"'),Pt},ue=(Pt,Kt)=>{ct(t.undoManager.data,In=>{In.type==="fragmented"?In.fragments=fn(In.fragments,ho=>Y(ho,Pt,Kt)):In.content=Y(In.content,Pt,Kt)})},me=(Pt,Kt)=>{const In=t.convertURL(Kt,"src");ue(Pt.src,Kt),Va(et.fromDom(Pt),{src:Kr(t)?M(Kt):Kt,"data-mce-src":In})},Se=()=>(a||(a=MP(t,f)),We().then(A(Pt=>{const Kt=fn(Pt,In=>In.blobInfo);return a.upload(Kt,jW(t)).then(A(In=>{const ho=[];let Kn=!1;const Sn=fn(In,(Dt,Qe)=>{const{blobInfo:Xt,image:qn}=Pt[Qe];let ss=!1;return Dt.status&&Rz(t)?(Dt.url&&!na(qn.src,Dt.url)&&(Kn=!0),r.removeByUri(qn.src),ig(t)||me(qn,Dt.url)):Dt.error&&(Dt.error.remove&&(ue(qn.src,Tr.transparentSrc),ho.push(qn),ss=!0),_re(t,Dt.error.message)),{element:qn,status:Dt.status,uploadUri:Dt.url,blobInfo:Xt,removed:ss}});return ho.length>0&&!ig(t)?t.undoManager.transact(()=>{ct(bh(ho),Dt=>{const Qe=ku(Dt);Hi(Dt),Qe.each(zre(t)),r.removeByUri(Dt.dom.src)})}):Kn&&t.undoManager.dispatchChange(),Sn}))}))),Oe=()=>R1(t)?Se():Promise.resolve([]),Ke=Pt=>sr(y,Kt=>Kt(Pt)),Ze=Pt=>{y.push(Pt)},We=()=>(u||(u=kP(f,r)),u.findAll(t.getBody(),Ke).then(A(Pt=>{const Kt=Ge(Pt,In=>ie(In)?(VC(t,In),!1):In.uriType!=="blob");return ig(t)||ct(Kt,In=>{ue(In.image.src,In.blobInfo.blobUri()),In.image.src=In.blobInfo.blobUri(),In.image.removeAttribute("data-mce-src")}),Kt}))),Ct=()=>{r.destroy(),f.destroy(),u=a=null},Et=Pt=>Pt.replace(/src="(blob:[^"]+)"/g,(Kt,In)=>{const ho=f.getResultUri(In);if(ho)return'src="'+ho+'"';let Kn=r.getByUri(In);return Kn||(Kn=On(t.editorManager.get(),(Sn,Dt)=>Sn||Dt.editorUpload&&Dt.editorUpload.blobCache.getByUri(In),void 0)),Kn?'src="data:'+Kn.blob().type+";base64,"+Kn.base64()+'"':Kt});return t.on("SetContent",()=>{R1(t)?Oe():We()}),t.on("RawSaveContent",Pt=>{Pt.content=Et(Pt.content)}),t.on("GetContent",Pt=>{Pt.source_view||Pt.format==="raw"||Pt.format==="tree"||(Pt.content=Et(Pt.content))}),t.on("PostRender",()=>{t.parser.addNodeFilter("img",Pt=>{ct(Pt,Kt=>{const In=Kt.attr("src");if(!In||r.getByUri(In))return;const ho=f.getResultUri(In);ho&&Kt.attr("src",ho)})})}),{blobCache:r,addFilter:Ze,uploadImages:Se,uploadImagesAuto:Oe,scanForImages:We,destroy:Ct}},GW=t=>{const r=t.dom,a=t.schema.type,u={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"left"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:f=>{r.setStyle(f,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:".mce-placeholder",styles:{display:"block",marginLeft:"auto",marginRight:"auto"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"right"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:f=>{r.setStyle(f,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const f={inline:"span",styles:{textDecoration:"line-through"},exact:!0},y={inline:"strike",remove:"all",preserve_attributes:["class","style"]},A={inline:"s",remove:"all",preserve_attributes:["class","style"]};return a!=="html4"?[A,f,y]:[f,A,y]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},samp:{inline:"samp"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(f,y,A)=>No(f)&&f.hasAttribute("href"),onformat:(f,y,A)=>{Zn.each(A,(M,H)=>{r.setAttrib(f,H,M)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":f=>{var y;return(y=f==null?void 0:f.customValue)!==null&&y!==void 0?y:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Zn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd".split(/\s/),f=>{u[f]={block:f,remove:"all"}}),u},qW={remove_similar:!0,inherit:!1},Qw={selector:"td,th",...qW},jre={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Qw},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Qw},tablecellbordercolor:{styles:{borderColor:"%value"},...Qw},tablecellclass:{classes:["%value"],...Qw},tableclass:{selector:"table",classes:["%value"],...qW},tablecellborderstyle:{styles:{borderStyle:"%value"},...Qw},tablecellborderwidth:{styles:{borderWidth:"%value"},...Qw}},Wre=ot(jre),Gre=t=>{const r={},a=A=>Ve(A)?r[A]:r,u=A=>jo(r,A),f=(A,M)=>{A&&(ie(A)?(Ae(M)||(M=[M]),ct(M,H=>{tt(H.deep)&&(H.deep=!bo(H)),tt(H.split)&&(H.split=!bo(H)||so(H)),tt(H.remove)&&bo(H)&&!so(H)&&(H.remove="none"),bo(H)&&so(H)&&(H.mixed=!0,H.block_expand=!0),ie(H.classes)&&(H.classes=H.classes.split(/\s+/))}),r[A]=M):Xn(A,(H,Y)=>{f(Y,H)}))},y=A=>(A&&r[A]&&delete r[A],r);return f(GW(t)),f(Wre()),f(D4(t)),{get:a,has:u,register:f,unregister:y}},PP=Zn.each,hv=Ai.DOM,NP=t=>Ve(t)&&be(t),ZW=(t,r)=>{const a=r&&r.schema||Rf({}),u=(H,Y)=>{Y.classes.length>0&&hv.addClass(H,Y.classes.join(" ")),hv.setAttribs(H,Y.attrs)},f=H=>{const Y=ie(H)?{name:H,classes:[],attrs:{}}:H,ue=hv.create(Y.name);return u(ue,Y),ue},y=(H,Y)=>{const ue=a.getElementRule(H.nodeName.toLowerCase()),me=ue==null?void 0:ue.parentsRequired;return me&&me.length?Y&&zt(me,Y)?Y:me[0]:!1},A=(H,Y,ue)=>{let me;const Se=Y[0],Oe=NP(Se)?Se.name:void 0,Ke=y(H,Oe);if(Ke)Oe===Ke?(me=Se,Y=Y.slice(1)):me=Ke;else if(Se)me=Se,Y=Y.slice(1);else if(!ue)return H;const Ze=me?f(me):hv.create("div");Ze.appendChild(H),ue&&Zn.each(ue,Ct=>{const Et=f(Ct);Ze.insertBefore(Et,H)});const We=NP(me)?me.siblings:void 0;return A(Ze,Y,We)},M=hv.create("div");if(t.length>0){const H=t[0],Y=f(H),ue=NP(H)?H.siblings:void 0;M.appendChild(A(Y,t.slice(1),ue))}return M},QF=t=>{t=Zn.trim(t);let r="div";const a={name:r,classes:[],attrs:{},selector:t};return t!=="*"&&(r=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(u,f,y,A,M)=>{switch(f){case"#":a.attrs.id=y;break;case".":a.classes.push(y);break;case":":Zn.inArray("checked disabled enabled read-only required".split(" "),y)!==-1&&(a.attrs[y]=y);break}if(A==="["){const H=M.match(/([\w\-]+)(?:\=\"([^\"]+))?/);H&&(a.attrs[H[1]]=H[2])}return""})),a.name=r||"div",a},HC=t=>ie(t)?(t=t.split(/\s*,\s*/)[0],t=t.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Zn.map(t.split(/(?:>|\s+(?![^\[\]]+\]))/),r=>{const a=Zn.map(r.split(/(?:~\+|~|\+)/),QF),u=a.pop();return a.length&&(u.siblings=a),u}).reverse()):[],qre=(t,r)=>{let a="",u=mw(t);if(u==="")return"";const f=Se=>ie(Se)?Se.replace(/%(\w+)/g,""):"",y=(Se,Oe)=>hv.getStyle(Oe??t.getBody(),Se,!0);if(ie(r)){const Se=t.formatter.get(r);if(!Se)return"";r=Se[0]}if("preview"in r){const Se=r.preview;if(Se===!1)return"";u=Se||u}let A=r.block||r.inline||"span",M;const H=HC(r.selector);H.length>0?(H[0].name||(H[0].name=A),A=r.selector,M=ZW(H,t)):M=ZW([A],t);const Y=hv.select(A,M)[0]||M.firstChild;PP(r.styles,(Se,Oe)=>{const Ke=f(Se);Ke&&hv.setStyle(Y,Oe,Ke)}),PP(r.attributes,(Se,Oe)=>{const Ke=f(Se);Ke&&hv.setAttrib(Y,Oe,Ke)}),PP(r.classes,Se=>{const Oe=f(Se);hv.hasClass(Y,Oe)||hv.addClass(Y,Oe)}),t.dispatch("PreviewFormats"),hv.setStyles(M,{position:"absolute",left:-65535}),t.getBody().appendChild(M);const ue=y("fontSize"),me=/px$/.test(ue)?parseInt(ue,10):0;return PP(u.split(" "),Se=>{let Oe=y(Se,Y);if(!(Se==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(Oe)&&(Oe=y(Se),u0(Oe).toLowerCase()==="#ffffff"))&&!(Se==="color"&&u0(Oe).toLowerCase()==="#000000")){if(Se==="font-size"&&/em|%$/.test(Oe)){if(me===0)return;Oe=parseFloat(Oe)/(/%$/.test(Oe)?100:1)*me+"px"}Se==="border"&&Oe&&(a+="padding:0 2px;"),a+=Se+":"+Oe+";"}}),t.dispatch("AfterPreviewFormats"),hv.remove(M),a},Zre=t=>{t.addShortcut("meta+b","","Bold"),t.addShortcut("meta+i","","Italic"),t.addShortcut("meta+u","","Underline");for(let r=1;r<=6;r++)t.addShortcut("access+"+r,"",["FormatBlock",!1,"h"+r]);t.addShortcut("access+7","",["FormatBlock",!1,"p"]),t.addShortcut("access+8","",["FormatBlock",!1,"div"]),t.addShortcut("access+9","",["FormatBlock",!1,"address"])},LT=t=>{const r=Gre(t),a=zo({});return Zre(t),Zne(t),ig(t)||oP(a,t),{get:r.get,has:r.has,register:r.register,unregister:r.unregister,apply:(u,f,y)=>{mre(t,u,f,y)},remove:(u,f,y,A)=>{aW(t,u,f,y,A)},toggle:(u,f,y)=>{lW(t,u,f,y)},match:(u,f,y,A)=>rW(t,u,f,y,A),closest:u=>pre(t,u),matchAll:(u,f)=>Kw(t,u,f),matchNode:(u,f,y,A)=>iW(t,u,f,y,A),canApply:u=>IF(t,u),formatChanged:(u,f,y,A)=>cW(t,a,u,f,y,A),getCssText:at(qre,t)}},eH=t=>{switch(t.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},KW=(t,r,a)=>{const u=zo(!1),f=H=>{cP(r,!1,a),r.add({},H)};t.on("init",()=>{r.add()}),t.on("BeforeExecCommand",H=>{const Y=H.command;eH(Y)||(Zw(r,a),r.beforeChange())}),t.on("ExecCommand",H=>{const Y=H.command;eH(Y)||f(H)}),t.on("ObjectResizeStart cut",()=>{r.beforeChange()}),t.on("SaveContent ObjectResized blur",f),t.on("dragend",f),t.on("keyup",H=>{const Y=H.keyCode;if(H.isDefaultPrevented())return;const ue=Tr.os.isMacOS()&&H.key==="Meta";(Y>=33&&Y<=36||Y>=37&&Y<=40||Y===45||H.ctrlKey||ue)&&(f(),t.nodeChanged()),(Y===46||Y===8)&&t.nodeChanged(),u.get()&&r.typing&&!CF(aP(t),r.data[0])&&(t.isDirty()||t.setDirty(!0),t.dispatch("TypingUndo"),u.set(!1),t.nodeChanged())}),t.on("keydown",H=>{const Y=H.keyCode;if(H.isDefaultPrevented())return;if(Y>=33&&Y<=36||Y>=37&&Y<=40||Y===45){r.typing&&f(H);return}const ue=H.ctrlKey&&!H.altKey||H.metaKey;if((Y<16||Y>20)&&Y!==224&&Y!==91&&!r.typing&&!ue){r.beforeChange(),cP(r,!0,a),r.add({},H),u.set(!0);return}(Tr.os.isMacOS()?H.metaKey:H.ctrlKey&&!H.altKey)&&r.beforeChange()}),t.on("mousedown",H=>{r.typing&&f(H)});const y=H=>H.inputType==="insertReplacementText",A=H=>H.inputType==="insertText"&&H.data===null,M=H=>H.inputType==="insertFromPaste"||H.inputType==="insertFromDrop";t.on("input",H=>{H.inputType&&(y(H)||A(H)||M(H))&&f(H)}),t.on("AddUndo Undo Redo ClearUndos",H=>{H.isDefaultPrevented()||t.nodeChanged()})},YW=t=>{t.addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo")},SR=t=>{const r=kc(),a=zo(0),u=zo(0),f={data:[],typing:!1,beforeChange:()=>{fP(t,a,r)},add:(y,A)=>_F(t,f,u,a,r,y,A),dispatchChange:()=>{t.setDirty(!0);const y=aP(t);y.bookmark=lw(t.selection),t.dispatch("change",{level:y,lastLevel:Vt(f.data,u.get()).getOrUndefined()})},undo:()=>AF(t,f,a,u),redo:()=>TF(t,u,f.data),clear:()=>{xF(t,f,u)},reset:()=>{pP(t,f)},hasUndo:()=>OF(t,f,u),hasRedo:()=>tW(t,f,u),transact:y=>nW(t,f,a,y),ignore:y=>{oW(t,a,y)},extra:(y,A)=>{sW(t,f,u,y,A)}};return ig(t)||KW(t,f,a),YW(t),f},XW=[9,27,_o.HOME,_o.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,_o.DOWN,_o.UP,_o.LEFT,_o.RIGHT].concat(Tr.browser.isFirefox()?[224]:[]),JW="data-mce-placeholder",tH=t=>t.type==="keydown"||t.type==="keyup",QW=t=>{const r=t.keyCode;return r===_o.BACKSPACE||r===_o.DELETE},Kre=t=>{if(tH(t)){const r=t.keyCode;return!QW(t)&&(_o.metaKeyPressed(t)||t.altKey||r>=112&&r<=123||zt(XW,r))}else return!1},LP=t=>tH(t)&&!(QW(t)||t.type==="keyup"&&t.keyCode===229),e9=(t,r,a)=>{if(t.isEmpty(r,void 0,{skipBogus:!1,includeZwsp:!0})){const u=r.firstElementChild;return u?t.getStyle(r.firstElementChild,"padding-left")||t.getStyle(r.firstElementChild,"padding-right")?!1:a===u.nodeName.toLowerCase():!0}else return!1},t9=t=>{var r;const a=t.dom,u=Wu(t),f=(r=ED(t))!==null&&r!==void 0?r:"",y=(A,M)=>{if(Kre(A))return;const H=t.getBody(),Y=LP(A)?!1:e9(a,H,u);(a.getAttrib(H,JW)!==""!==Y||M)&&(a.setAttrib(H,JW,Y?f:null),w4(t,Y),t.on(Y?"keydown":"keyup",y),t.off(Y?"keyup":"keydown",y))};wi(f)&&t.on("init",A=>{y(A,!0),t.on("change SetContent ExecCommand",y),t.on("paste",M=>lv.setEditorTimeout(t,()=>y(M)))})},BP=t=>r=>Ve(r)&&r.nodeName.toLowerCase()===t,VP=t=>r=>Ve(r)&&t.test(r.nodeName),Oy=t=>Ve(t)&&t.nodeType===3,n9=t=>Ve(t)&&t.nodeType===1,lg=VP(/^(OL|UL|DL)$/),nH=VP(/^(OL|UL)$/),FP=VP(/^(LI|DT|DD)$/),o9=VP(/^(DT|DD)$/),e_=BP("br"),Yre=t=>{var r;return((r=t.parentNode)===null||r===void 0?void 0:r.firstChild)===t},oH=(t,r)=>Ve(r)&&r.nodeName in t.schema.getTextBlockElements(),t_=(t,r)=>Ve(t)&&t.nodeName in r,O0=(t,r)=>Ve(r)&&r.nodeName in t.schema.getVoidElements(),Xre=(t,r)=>e_(r)?t.isBlock(r.nextSibling)&&!e_(r.previousSibling):!1,J1=(t,r,a)=>{const u=t.isEmpty(r);return a&&t.select("span[data-mce-type=bookmark]",r).length>0?!1:u},xl=(t,r)=>t.isChildOf(r,t.getRoot()),HP=Ai.DOM,$P=(t,r)=>{const a=r.parentElement;if(a&&a.nodeName==="LI"&&a.firstChild===r){const u=a.previousSibling;u&&u.nodeName==="LI"?(u.appendChild(r),J1(t,a)&&HP.remove(a)):HP.setStyle(a,"listStyleType","none")}if(lg(a)){const u=a.previousSibling;u&&u.nodeName==="LI"&&u.appendChild(r)}},I0=(t,r)=>{const a=Zn.grep(t.select("ol,ul",r));Zn.each(a,u=>{$P(t,u)})},sH=(t,r)=>{if(Oy(t))return{container:t,offset:r};const a=_0.getNode(t,r);return Oy(a)?{container:a,offset:r>=t.childNodes.length?a.data.length:0}:a.previousSibling&&Oy(a.previousSibling)?{container:a.previousSibling,offset:a.previousSibling.data.length}:a.nextSibling&&Oy(a.nextSibling)?{container:a.nextSibling,offset:0}:{container:t,offset:r}},CR=t=>{const r=t.cloneRange(),a=sH(t.startContainer,t.startOffset);r.setStart(a.container,a.offset);const u=sH(t.endContainer,t.endOffset);return r.setEnd(u.container,u.offset),r},s9=["OL","UL","DL"],n_=s9.join(","),ER=(t,r)=>{const a=t.selection.getStart(!0);return t.dom.getParent(a,n_,R0(t,a))},Jre=(t,r)=>Ve(t)&&r.length===1&&r[0]===t,BT=t=>Ge(t.querySelectorAll(n_),lg),Qre=t=>{const r=ER(t),a=t.selection.getSelectedBlocks();return Jre(r,a)?BT(r):Ge(a,u=>lg(u)&&r!==u)},o_=(t,r)=>{const a=Zn.map(r,u=>{const f=t.dom.getParent(u,"li,dd,dt",R0(t,u));return f||u});return To(a)},rH=t=>{const r=t.selection.getSelectedBlocks();return Ge(o_(t,r),FP)},$C=t=>Ge(rH(t),o9),iH=(t,r)=>{const a=t.dom.getParents(r,"TD,TH");return a.length>0?a[0]:t.getBody()},fv=(t,r)=>!lg(r)&&!FP(r)&&wn(s9,a=>t.isValidChild(r.nodeName,a)),R0=(t,r)=>{const a=t.dom.getParents(r,t.dom.isBlock),u=y=>y.nodeName.toLowerCase()!==Wu(t);return $t(a,y=>u(y)&&fv(t.schema,y)).getOr(t.getBody())},eie=t=>ku(t).exists(r=>FP(r.dom)&&Yl(r).exists(a=>!lg(a.dom))&&Wa(r).exists(a=>!lg(a.dom))),VT=(t,r)=>{const a=t.dom.getParents(r,"ol,ul",R0(t,r));return tn(a)},aH=t=>{const r=VT(t,t.selection.getStart()),a=Ge(t.selection.getSelectedBlocks(),nH);return r.toArray().concat(a)},tie=t=>{const r=t.selection.getStart();return t.dom.getParents(r,"ol,ul",R0(t,r))},FT=t=>{const r=aH(t),a=tie(t);return $t(a,u=>eie(et.fromDom(u))).fold(()=>nie(t,r),u=>[u])},nie=(t,r)=>{const a=fn(r,u=>VT(t,u).getOr(u));return To(a)},bm=t=>/\btox\-/.test(t.className),wR=(t,r)=>r!==null&&!t.dom.isEditable(r),r9=t=>{const r=ER(t);return wR(t,r)||!t.selection.isEditable()},_R=(t,r)=>{const a=t.dom.getParent(r,"ol,ul,dl");return wR(t,a)||!t.selection.isEditable()},Q1=(t,r,a)=>t.dispatch("ListMutation",{action:r,element:a}),UC=(t,r,a={})=>{const u=t.dom,f=t.schema.getBlockElements(),y=u.createFragment(),A=Wu(t),M=pC(t);let H,Y,ue=!1;for(Y=u.create(A,{...M,...a.style?{style:a.style}:{}}),t_(r.firstChild,f)||y.appendChild(Y);H=r.firstChild;){const me=H.nodeName;!ue&&(me!=="SPAN"||H.getAttribute("data-mce-type")!=="bookmark")&&(ue=!0),t_(H,f)?(y.appendChild(H),Y=null):(Y||(Y=u.create(A,M),y.appendChild(Y)),Y.appendChild(H))}return!ue&&Y&&Y.appendChild(u.create("br",{"data-mce-bogus":"1"})),y},s_=t=>Sl(t,"OL,UL"),oie=t=>Sl(t,"LI"),i9=t=>Yl(t).exists(s_),sie=t=>Wa(t).exists(s_),rie=(t,r)=>$D(t).map(a=>a>=r).getOr(!0),r_=t=>"listAttributes"in t,a9=t=>"isComment"in t,HT=t=>"isFragment"in t,bb=t=>t.depth>0,iie=t=>t.isSelected,aie=t=>{const r=mr(t),a=sie(t)?r.slice(0,-1):r;return fn(a,Sf)},lie=(t,r,a)=>ku(t).filter(sa).map(u=>({depth:r,dirty:!1,isSelected:a,content:aie(t),itemAttributes:Er(t),listAttributes:Er(u),listType:Ms(u),isInPreviousLi:!1})),l9=(t,r)=>{qr(t.item,r.list)},cie=t=>{for(let r=1;r<t.length;r++)l9(t[r-1],t[r])},uie=(t,r)=>{Ar(tn(t),en(r),l9)},die=(t,r)=>{const a={list:et.fromTag(r,t),item:et.fromTag("li",t)};return qr(a.list,a.item),a},hie=(t,r,a)=>{const u=[];for(let f=0;f<a;f++)u.push(die(t,r_(r)?r.listType:r.parentListType));return u},fie=(t,r)=>{for(let a=0;a<t.length-1;a++)Uc(t[a].item,"list-style-type","none");tn(t).each(a=>{r_(r)&&(Va(a.list,r.listAttributes),Va(a.item,r.itemAttributes)),gh(a.item,r.content)})},sSe=(t,r)=>{Ms(t.list)!==r.listType&&(t.list=Fp(t.list,r.listType)),Va(t.list,r.listAttributes)},pie=(t,r,a)=>{const u=et.fromTag("li",t);return Va(u,r),gh(u,a),u},mie=(t,r)=>{qr(t.list,r),t.item=r},c9=(t,r,a)=>{const u=r.slice(0,a.depth);return tn(u).each(f=>{if(r_(a)){const y=pie(t,a.itemAttributes,a.content);mie(f,y),sSe(f,a)}else if(HT(a))gh(f.item,a.content);else{const y=et.fromHtml(`<!--${a.content}-->`);qr(f.list,y)}}),u},gie=(t,r,a)=>{const u=hie(t,a,a.depth-r.length);return cie(u),fie(u,a),uie(r,u),r.concat(u)},vie=(t,r)=>{let a=_e.none();const u=On(r,(f,y,A)=>a9(y)?A===0?(a=_e.some(y),f):c9(t,f,y):y.depth>f.length?gie(t,f,y):c9(t,f,y),[]);return a.each(f=>{const y=et.fromHtml(`<!--${f.content}-->`);en(u).each(A=>{lp(A.list,y)})}),en(u).map(f=>f.list)},bie=(t,r,a)=>{switch(r){case"Indent":if(rie(t,a.depth))a.depth++;else return;break;case"Outdent":a.depth--;break;case"Flatten":a.depth=0}a.dirty=!0},zC=(t,r)=>{r_(t)&&r_(r)&&(t.listType=r.listType,t.listAttributes={...r.listAttributes})},yie=t=>{t.listAttributes=Nr(t.listAttributes,(r,a)=>a!=="start")},Sie=(t,r)=>{const a=t[r].depth,u=y=>y.depth===a&&!y.dirty,f=y=>y.depth<a;return Bt(Ks(t.slice(0,r)),u,f).orThunk(()=>Bt(t.slice(r+1),u,f))},UP=t=>(ct(t,(r,a)=>{Sie(t,a).fold(()=>{r.dirty&&r_(r)&&yie(r)},u=>zC(r,u))}),t),lH=(t,r,a,u)=>{var f;if(ja(u))return[{depth:t+1,content:(f=u.dom.nodeValue)!==null&&f!==void 0?f:"",dirty:!1,isSelected:!1,isComment:!0}];r.each(M=>{Do(M.start,u)&&a.set(!0)});const y=lie(u,t,a.get());r.each(M=>{Do(M.end,u)&&a.set(!1)});const A=Wa(u).filter(s_).map(M=>zP(t,r,a,M)).getOr([]);return y.toArray().concat(A)},cH=(t,r,a,u)=>Yl(u).filter(s_).fold(()=>lH(t,r,a,u),f=>{const y=On(mr(u),(A,M,H)=>{if(H===0)return A;if(oie(M))return A.concat(lH(t,r,a,M));{const Y={isFragment:!0,depth:t,content:[M],isSelected:!1,dirty:!1,parentListType:Ms(f)};return A.concat(Y)}},[]);return zP(t,r,a,f).concat(y)}),zP=(t,r,a,u)=>Ao(mr(u),f=>{const y=s_(f)?zP:cH,A=t+1;return y(A,r,a,f)}),Cie=(t,r)=>{const a=zo(!1),u=0;return fn(t,f=>({sourceList:f,entries:zP(u,r,a,f)}))},Eie=(t,r)=>{const a=UP(r);return fn(a,u=>{const f=a9(u)?wf([et.fromHtml(`<!--${u.content}-->`)]):wf(u.content),y=r_(u)?u.itemAttributes:{};return et.fromDom(UC(t,f.dom,y))})},wie=(t,r)=>{const a=UP(r);return vie(t.contentDocument,a).toArray()},_ie=(t,r)=>Ao(Lt(r,bb),a=>en(a).exists(bb)?wie(t,a):Eie(t,a)),Aie=(t,r,a)=>{ct(Ge(r,iie),u=>bie(t,a,u))},Tie=t=>{const r=fn(rH(t),et.fromDom);return Ar($t(r,Cn(i9)),$t(Ks(r),Cn(i9)),(a,u)=>({start:a,end:u}))},xie=(t,r,a)=>{const u=Cie(r,Tie(t));ct(u,f=>{Aie(t,f.entries,a);const y=_ie(t,f.entries);ct(y,A=>{Q1(t,a==="Indent"?"IndentList":"OutdentList",A.dom)}),r1(f.sourceList,y),Hi(f.sourceList)})},Oie=t=>$D(t).forall(r=>{const a=t.selection.getSelectedBlocks();return wn(a,u=>Pc(et.fromDom(u),"li").forall(f=>bt(f,"ol,ul").length<=r))}),jC=Ai.DOM,Iie=(t,r,a)=>{const u=Y=>{const ue=Y.parentNode;ue&&Zn.each(f,me=>{ue.insertBefore(me,a.parentNode)}),jC.remove(Y)},f=jC.select('span[data-mce-type="bookmark"]',r),y=UC(t,a),A=jC.createRng();A.setStartAfter(a),A.setEndAfter(r);const M=A.extractContents();for(let Y=M.firstChild;Y;Y=Y.firstChild)if(Y.nodeName==="LI"&&t.dom.isEmpty(Y)){jC.remove(Y);break}t.dom.isEmpty(M)||jC.insertAfter(M,r),jC.insertAfter(y,r);const H=a.parentElement;H&&J1(t.dom,H)&&u(H),jC.remove(a),J1(t.dom,r)&&jC.remove(r)},Rie=Cl("dd"),u9=Cl("dt"),kie=(t,r)=>{Rie(r)?Fp(r,"dt"):u9(r)&&Du(r).each(a=>Iie(t,a.dom,r.dom))},Die=t=>{u9(t)&&Fp(t,"dd")},Mie=(t,r,a)=>{r==="Indent"?ct(a,Die):ct(a,u=>kie(t,u))},Pie=(t,r)=>{const a=bh(FT(t)),u=bh($C(t));let f=!1;if(a.length||u.length){const y=t.selection.getBookmark();xie(t,a,r),Mie(t,r,u),t.selection.moveToBookmark(y),t.selection.setRng(CR(t.selection.getRng())),t.nodeChanged(),f=!0}return f},uH=(t,r)=>!r9(t)&&Pie(t,r),d9=t=>uH(t,"Indent"),dH=t=>uH(t,"Outdent"),AR=t=>uH(t,"Flatten"),$T=t=>{switch(t){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Nie=(t,r,a)=>{const u=a["list-style-type"]?a["list-style-type"]:null;t.setStyle(r,"list-style-type",u)},h9=(t,r)=>{Zn.each(r,(a,u)=>{t.setAttribute(u,a)})},Lie=(t,r,a)=>{h9(r,a["list-attributes"]),Zn.each(t.select("li",r),u=>{h9(u,a["list-item-attributes"])})},UT=(t,r,a)=>{Nie(t,r,a),Lie(t,r,a)},Bie=(t,r,a)=>{Zn.each(a,u=>t.setStyle(r,u,""))},jP=(t,r)=>Ve(r)&&!t_(r,t.schema.getBlockElements()),hH=(t,r,a,u)=>{let f=r[a?"startContainer":"endContainer"];const y=r[a?"startOffset":"endOffset"];n9(f)&&(f=f.childNodes[Math.min(y,f.childNodes.length-1)]||f),!a&&e_(f.nextSibling)&&(f=f.nextSibling);const A=H=>{for(;!t.dom.isBlock(H)&&H.parentNode&&u!==H;)H=H.parentNode;return H},M=(H,Y)=>{var ue;const me=new Ki(H,A(H)),Se=Y?"next":"prev";let Oe;for(;Oe=me[Se]();)if(!(O0(t,Oe)||Gl(Oe.textContent)||((ue=Oe.textContent)===null||ue===void 0?void 0:ue.length)===0))return _e.some(Oe);return _e.none()};if(a&&Oy(f))if(Gl(f.textContent))f=M(f,!1).getOr(f);else for(f.parentNode!==null&&jP(t,f.parentNode)&&(f=f.parentNode);f.previousSibling!==null&&(jP(t,f.previousSibling)||Oy(f.previousSibling));)f=f.previousSibling;if(!a&&Oy(f))if(Gl(f.textContent))f=M(f,!0).getOr(f);else for(f.parentNode!==null&&jP(t,f.parentNode)&&(f=f.parentNode);f.nextSibling!==null&&(jP(t,f.nextSibling)||Oy(f.nextSibling));)f=f.nextSibling;for(;f.parentNode!==u;){const H=f.parentNode;if(oH(t,f)||/^(TD|TH)$/.test(H.nodeName))return f;f=H}return f},f9=(t,r,a)=>{const u=[],f=t.dom,y=hH(t,r,!0,a),A=hH(t,r,!1,a);let M;const H=[];for(let Y=y;Y&&(H.push(Y),Y!==A);Y=Y.nextSibling);return Zn.each(H,Y=>{var ue;if(oH(t,Y)){u.push(Y),M=null;return}if(f.isBlock(Y)||e_(Y)){e_(Y)&&f.remove(Y),M=null;return}const me=Y.nextSibling;if(cb.isBookmarkNode(Y)&&(lg(me)||oH(t,me)||!me&&Y.parentNode===a)){M=null;return}M||(M=f.create("p"),(ue=Y.parentNode)===null||ue===void 0||ue.insertBefore(M,Y),u.push(M)),M.appendChild(Y)}),u},Vie=(t,r,a)=>{const u=t.getStyle(r,"list-style-type");let f=a?a["list-style-type"]:"";return f=f===null?"":f,u===f},Fie=(t,r)=>{const a=t.selection.getStart(!0),u=hH(t,r,!0,t.getBody());return ws(et.fromDom(u),et.fromDom(r.commonAncestorContainer))?r.commonAncestorContainer:a},fH=(t,r,a)=>{const u=t.selection.getRng();let f="LI";const y=R0(t,Fie(t,u)),A=t.dom;if(A.getContentEditable(t.selection.getNode())==="false")return;r=r.toUpperCase(),r==="DL"&&(f="DT");const M=kC(u),H=Ge(f9(t,u,y),t.dom.isEditable);Zn.each(H,Y=>{let ue;const me=Y.previousSibling,Se=Y.parentNode;FP(Se)||(me&&lg(me)&&me.nodeName===r&&Vie(A,me,a)?(ue=me,Y=A.rename(Y,f),me.appendChild(Y)):(ue=A.create(r),Se.insertBefore(ue,Y),ue.appendChild(Y),Y=A.rename(Y,f)),Bie(A,Y,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),UT(A,ue,a),pH(t.dom,ue))}),t.selection.setRng(DC(M))},Hie=(t,r)=>lg(t)&&t.nodeName===(r==null?void 0:r.nodeName),$ie=(t,r,a)=>{const u=t.getStyle(r,"list-style-type",!0),f=t.getStyle(a,"list-style-type",!0);return u===f},Uie=(t,r)=>t.className===r.className,p9=(t,r,a)=>Hie(r,a)&&$ie(t,r,a)&&Uie(r,a),pH=(t,r)=>{let a,u=r.nextSibling;if(p9(t,r,u)){const f=u;for(;a=f.firstChild;)r.appendChild(a);t.remove(f)}if(u=r.previousSibling,p9(t,r,u)){const f=u;for(;a=f.lastChild;)r.insertBefore(a,r.firstChild);t.remove(f)}},zie=(t,r,a,u)=>{if(r.nodeName!==a){const f=t.dom.rename(r,a);UT(t.dom,f,u),Q1(t,$T(a),f)}else UT(t.dom,r,u),Q1(t,$T(a),r)},m9=(t,r,a,u)=>{if(r.classList.forEach((f,y,A)=>{f.startsWith("tox-")&&(A.remove(f),A.length===0&&r.removeAttribute("class"))}),r.nodeName!==a){const f=t.dom.rename(r,a);UT(t.dom,f,u),Q1(t,$T(a),f)}else UT(t.dom,r,u),Q1(t,$T(a),r)},g9=(t,r,a,u,f)=>{const y=lg(r);if(y&&r.nodeName===u&&!mH(f)&&!bm(r))AR(t);else{fH(t,u,f);const A=kC(t.selection.getRng()),M=y?[r,...a]:a,H=y&&bm(r)?m9:zie;Zn.each(M,Y=>{H(t,Y,u,f)}),t.selection.setRng(DC(A))}},mH=t=>"list-style-type"in t,rSe=(t,r,a,u)=>{if(r!==t.getBody())if(r)if(r.nodeName===a&&!mH(u)&&!bm(r))AR(t);else{const f=kC(t.selection.getRng());bm(r)&&r.classList.forEach((A,M,H)=>{A.startsWith("tox-")&&(H.remove(A),H.length===0&&r.removeAttribute("class"))}),UT(t.dom,r,u);const y=t.dom.rename(r,a);pH(t.dom,y),t.selection.setRng(DC(f)),fH(t,a,u),Q1(t,$T(a),y)}else fH(t,a,u),Q1(t,$T(a),r)},WP=(t,r,a)=>{const u=ER(t);if(_R(t,u))return;const f=Qre(t),y=be(a)?a:{};f.length>0?g9(t,u,f,r,y):rSe(t,u,r,y)},v9=(t,r,a,u)=>{let f=r.startContainer;const y=r.startOffset;if(Oy(f)&&(a?y<f.data.length:y>0))return f;const A=t.schema.getNonEmptyElements();n9(f)&&(f=_0.getNode(f,y));const M=new Ki(f,u);a&&Xre(t.dom,f)&&M.next();const H=a?M.next.bind(M):M.prev2.bind(M);for(;f=H();)if(f.nodeName==="LI"&&!f.hasChildNodes()||A[f.nodeName]||Oy(f)&&f.data.length>0)return f;return null},gH=(t,r)=>{const a=r.childNodes;return a.length===1&&!lg(a[0])&&t.isBlock(a[0])},jie=t=>_e.from(t).map(et.fromDom).filter(Wh).exists(r=>Bu(r)&&!zt(["details"],Ms(r))),Wie=(t,r)=>{gH(t,r)&&jie(r.firstChild)&&t.remove(r.firstChild,!0)},b9=(t,r,a)=>{let u;const f=gH(t,a)?a.firstChild:a;if(Wie(t,r),!J1(t,r,!0))for(;u=r.firstChild;)f.appendChild(u)},vH=(t,r,a)=>{let u;const f=r.parentNode;if(!xl(t,r)||!xl(t,a))return;lg(a.lastChild)&&(u=a.lastChild),f===a.lastChild&&e_(f.previousSibling)&&t.remove(f.previousSibling);const y=a.lastChild;y&&e_(y)&&r.hasChildNodes()&&t.remove(y),J1(t,a,!0)&&cd(et.fromDom(a)),b9(t,r,a),u&&a.appendChild(u);const M=ei(et.fromDom(a),et.fromDom(r))?t.getParents(r,lg,a):[];t.remove(r),ct(M,H=>{J1(t,H)&&H!==t.getRoot()&&t.remove(H)})},Gie=(t,r,a)=>{cd(et.fromDom(a)),vH(t.dom,r,a),t.selection.setCursorLocation(a,0)},qie=(t,r,a,u)=>{const f=t.dom;if(f.isEmpty(u))Gie(t,a,u);else{const y=kC(r);vH(f,a,u),t.selection.setRng(DC(y))}},bH=(t,r,a,u)=>{const f=kC(r);vH(t.dom,a,u);const y=DC(f);t.selection.setRng(y)},yH=(t,r)=>{const a=t.dom,u=t.selection,f=u.getStart(),y=iH(t,f),A=a.getParent(u.getStart(),"LI",y);if(A){const M=A.parentElement;if(M===t.getBody()&&J1(a,M))return!0;const H=CR(u.getRng()),Y=a.getParent(v9(t,H,r,y),"LI",y),ue=Y&&(r?a.isChildOf(A,Y):a.isChildOf(Y,A));if(Y&&Y!==A&&!ue)return t.undoManager.transact(()=>{r?qie(t,H,Y,A):Yre(A)?dH(t):bH(t,H,A,Y)}),!0;if(ue&&!r&&Y!==A){const me=H.commonAncestorContainer.parentElement;return!me||a.isChildOf(Y,me)?!1:(t.undoManager.transact(()=>{const Se=kC(H);b9(a,me,Y),me.remove();const Oe=DC(Se);t.selection.setRng(Oe)}),!0)}else if(!Y&&!r&&H.startOffset===0&&H.endOffset===0)return t.undoManager.transact(()=>{AR(t)}),!0}return!1},Zie=(t,r,a)=>{const u=t.getParent(r.parentNode,t.isBlock,a);t.remove(r),u&&t.isEmpty(u)&&t.remove(u)},y9=(t,r)=>{const a=t.dom,u=t.selection.getStart(),f=iH(t,u),y=a.getParent(u,a.isBlock,f);if(y&&a.isEmpty(y,void 0,{checkRootAsContent:!0})){const A=CR(t.selection.getRng()),M=v9(t,A,r,f),H=a.getParent(M,"LI",f);if(M&&H){const Y=Oe=>zt(["td","th","caption"],Ms(Oe)),ue=Oe=>Oe.dom===f,me=Ii(et.fromDom(H),Y,ue),Se=Ii(et.fromDom(A.startContainer),Y,ue);return Fh(me,Se,Do)?(t.undoManager.transact(()=>{const Oe=H.parentNode;Zie(a,y,f),pH(a,Oe),t.selection.select(M,!0),t.selection.collapse(r)}),!0):!1}}return!1},Kie=(t,r)=>yH(t,r)||y9(t,r),SH=t=>{const r=t.selection.getStart(),a=iH(t,r),u=t.dom.getParent(r,"LI,DT,DD",a);return Ve(u)||rH(t).length>0},Yie=t=>SH(t)?(t.undoManager.transact(()=>{let r=!0;const a=()=>r=!1;t.on("input",a),t.execCommand("Delete"),t.off("input",a),r&&t.dispatch("input"),I0(t.dom,t.getBody())}),!0):!1,CH=(t,r)=>{const a=t.selection;return!_R(t,a.getNode())&&(a.isCollapsed()?Kie(t,r):Yie(t))},Xie=(t,r)=>({block:t,position:r}),Jie=(t,r)=>({from:t,to:r}),EH=(t,r)=>{const a=et.fromDom(t),u=et.fromDom(r.container());return BM(a,u).map(f=>Xie(f,r))},Qie=t=>!(ei(t.to.block,t.from.block)||ei(t.from.block,t.to.block)),eae=t=>!Do(t.from.block,t.to.block),S9=(t,r)=>Ii(r,f=>ee(f)||cu(f.dom),f=>Do(f,t)).filter(sa).getOr(t),wH=(t,r)=>{const a=et.fromDom(t);return Do(S9(a,r.from.block),S9(a,r.to.block))},tae=t=>di(t.from.block.dom)===!1&&di(t.to.block.dom)===!1,nae=t=>{const r=a=>gy(a)||Tc(a.dom)||eg(a);return r(t.from.block)&&r(t.to.block)},oae=(t,r,a,u)=>ba(u.position.getNode())&&!Hu(t,u.block)?Cy(!1,u.block.dom).bind(f=>f.isEqual(u.position)?qd(a,r,f).bind(y=>EH(r,y)):_e.some(u)).getOr(u):u,sae=(t,r,a,u)=>{const f=EH(r,an.fromRangeStart(u)),y=f.bind(A=>qd(a,r,A.position).bind(M=>EH(r,M).map(H=>oae(t,r,a,H))));return Ar(f,y,Jie).filter(A=>eae(A)&&wH(r,A)&&tae(A)&&nae(A)&&Qie(A))},rae=(t,r,a,u)=>u.collapsed?sae(t,r,a,u):_e.none(),C9=(t,r)=>{const a=mr(t);return ls(a,u=>r.isBlock(Ms(u))).fold(ot(a),u=>a.slice(0,u))},WC=(t,r)=>{const a=C9(t,r);return ct(a,Hi),a},_H=(t,r,a)=>{const u=Co(a,r);return $t(u.reverse(),f=>Hu(t,f)).each(Hi)},iae=(t,r)=>Ge(Kl(r),a=>!Hu(t,a)).length===0,aae=(t,r,a,u,f)=>{if(Hu(u,a))return D(a),Kd(a.dom);iae(u,f)&&Hu(u,r)&&Mc(f,et.fromTag("br"));const y=Ah(a.dom,an.before(f.dom));return ct(WC(r,u),A=>{Mc(f,A)}),_H(u,t,r),y},lae=(t,r)=>t.isInline(Ms(r)),cae=(t,r,a,u)=>{if(Hu(u,a)){if(Hu(u,r)){const A=ln((M=>{const H=(Y,ue)=>Yl(Y).fold(()=>ue,me=>lae(u,me)?H(me,ue.concat(wl(me))):ue);return H(M,[])})(a),(M,H)=>(Fd(M,H),H),I());cd(r),qr(r,A)}return Hi(a),Kd(r.dom)}const f=og(a.dom);return ct(WC(r,u),y=>{qr(a,y)}),_H(u,t,r),f},zT=(t,r)=>{const a=Co(r,t);return _e.from(a[a.length-1])},uae=(t,r)=>ei(r,t)?zT(r,t):_e.none(),GP=(t,r)=>{Cy(t,r.dom).bind(a=>_e.from(a.getNode())).map(et.fromDom).filter(Df).each(Hi)},qP=(t,r,a,u)=>(GP(!0,r),GP(!1,a),uae(r,a).fold(at(cae,t,r,a,u),at(aae,t,r,a,u))),E9=(t,r,a,u,f)=>r?qP(t,u,a,f):qP(t,a,u,f),ZP=(t,r)=>{const a=et.fromDom(t.getBody());return rae(t.schema,a.dom,r,t.selection.getRng()).map(f=>()=>{E9(a,r,f.from.block,f.to.block,t.schema).each(y=>{t.selection.setRng(y.toRange())})})},KP=(t,r,a)=>{const u=r.getRng();return Ar(BM(t,et.fromDom(u.startContainer)),BM(t,et.fromDom(u.endContainer)),(f,y)=>Do(f,y)?_e.none():_e.some(()=>{u.deleteContents(),E9(t,!0,f,y,a).each(A=>{r.setRng(A.toRange())})})).getOr(_e.none())},w9=(t,r)=>{const a=et.fromDom(r),u=at(Do,t);return Yh(a,ee,u).isSome()},dae=(t,r)=>w9(t,r.startContainer)||w9(t,r.endContainer),hae=(t,r)=>{const a=Ah(t.dom,an.fromRangeStart(r)).isNone(),u=Zd(t.dom,an.fromRangeEnd(r)).isNone();return!dae(t,r)&&a&&u},fae=t=>_e.some(()=>{t.setContent(""),t.selection.setCursorLocation()}),pae=t=>{const r=et.fromDom(t.getBody()),a=t.selection.getRng();return hae(r,a)?fae(t):KP(r,t.selection,t.schema)},TR=(t,r)=>t.selection.isCollapsed()?_e.none():pae(t),eS=(t,r,a,u,f)=>_e.from(r._selectionOverrides.showCaret(t,a,u,f)),mae=t=>{const r=t.ownerDocument.createRange();return r.selectNode(t),r},xR=(t,r)=>t.dispatch("BeforeObjectSelected",{target:r}).isDefaultPrevented()?_e.none():_e.some(mae(r)),gae=(t,r,a)=>{const u=pI(1,t.getBody(),r),f=an.fromRangeStart(u),y=f.getNode();if(ov(y))return eS(1,t,y,!f.isAtEnd(),!1);const A=f.getNode(!0);if(ov(A))return eS(1,t,A,!1,!1);const M=$w(t.dom.getRoot(),f.getNode());return ov(M)?eS(1,t,M,!1,a):_e.none()},AH=(t,r,a)=>r.collapsed?gae(t,r,a).getOr(r):r,vae=t=>OC(t)||FI(t),bae=t=>IC(t)||HI(t),yae=(t,r)=>{Un(r)&&r.data.length===0&&t.remove(r)},_9=(t,r,a,u,f,y)=>{eS(u,t,y.getNode(!f),f,!0).each(A=>{if(r.collapsed){const M=r.cloneRange();f?M.setEnd(A.startContainer,A.startOffset):M.setStart(A.endContainer,A.endOffset),M.deleteContents()}else r.deleteContents();t.selection.setRng(A)}),yae(t.dom,a)},Sae=(t,r)=>{const a=t.selection.getRng();if(!Un(a.commonAncestorContainer))return _e.none();const u=r?1:-1,f=av(t.getBody()),y=at(yy,r?f.next:f.prev),A=r?vae:bae,M=y0(u,t.getBody(),a),H=y(M),Y=H&&sg(r,H);if(!Y||!SC(M,Y))return _e.none();if(A(Y))return _e.some(()=>_9(t,a,M.getNode(),u,r,Y));const ue=y(Y);return ue&&A(ue)&&SC(Y,ue)?_e.some(()=>_9(t,a,M.getNode(),u,r,ue)):_e.none()},TH=(t,r)=>Sae(t,r),xH=(t,r)=>{const a=t.getBody();return r?Kd(a).filter(OC):og(a).filter(IC)},OH=t=>{const r=t.selection.getRng();return!r.collapsed&&(xH(t,!0).exists(a=>a.isEqual(an.fromRangeStart(r)))||xH(t,!1).exists(a=>a.isEqual(an.fromRangeEnd(r))))},Cae=t=>Ve(t)&&(ee(et.fromDom(t))||eg(et.fromDom(t))),ym=td.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Eae=(t,r)=>{const a=r.getNode(!t),u=t?"after":"before";return No(a)&&a.getAttribute("data-mce-caret")===u},wae=(t,r,a,u,f)=>{const y=A=>f.isInline(A.nodeName.toLowerCase())&&!sb(a,u,t);return uT(!r,a).fold(()=>uT(r,u).fold(qt,y),y)},A9=(t,r,a,u,f)=>{const y=f.getNode(!a);return BM(et.fromDom(r),et.fromDom(u.getNode())).map(A=>Hu(t,A)?ym.remove(A.dom):ym.moveToElement(y)).orThunk(()=>_e.some(ym.moveToElement(y)))},T9=(t,r,a,u)=>qd(r,t,a).bind(f=>Cae(f.getNode())||wae(t,r,a,f,u)?_e.none():r&&di(f.getNode())||!r&&di(f.getNode(!0))?A9(u,t,r,a,f):r&&IC(a)||!r&&OC(a)?_e.some(ym.moveToPosition(f)):_e.none()),_ae=(t,r)=>Xe(r)?_e.none():t&&di(r.nextSibling)?_e.some(ym.moveToElement(r.nextSibling)):!t&&di(r.previousSibling)?_e.some(ym.moveToElement(r.previousSibling)):_e.none(),IH=(t,r,a)=>a.fold(u=>_e.some(ym.remove(u)),u=>_e.some(ym.moveToElement(u)),u=>sb(r,u,t)?_e.none():_e.some(ym.moveToPosition(u))),Aae=(t,r,a,u)=>Eae(r,a)?_ae(r,a.getNode(!r)).orThunk(()=>T9(t,r,a,u)):T9(t,r,a,u).bind(f=>IH(t,a,f)),Tae=(t,r,a,u)=>{const f=pI(r?1:-1,t,a),y=an.fromRangeStart(f),A=et.fromDom(t);return!r&&IC(y)?_e.some(ym.remove(y.getNode(!0))):r&&OC(y)?_e.some(ym.remove(y.getNode())):!r&&OC(y)&&IM(A,y,u)?Cj(A,y,u).map(M=>ym.remove(M.getNode())):r&&IC(y)&&jB(A,y,u)?RM(A,y,u).map(M=>ym.remove(M.getNode())):Aae(t,r,y,u)},xae=(t,r)=>a=>(t._selectionOverrides.hideFakeCaret(),U1(t,r,et.fromDom(a)),!0),Oae=(t,r)=>a=>{const u=r?an.before(a):an.after(a);return t.selection.setRng(u.toRange()),!0},Iae=t=>r=>(t.selection.setRng(r.toRange()),!0),x9=(t,r)=>_e.from($w(t.getBody(),r)),Rae=(t,r)=>{const a=t.selection.getNode();return x9(t,a).filter(di).fold(()=>Tae(t.getBody(),r,t.selection.getRng(),t.schema).map(u=>()=>u.fold(xae(t,r),Oae(t,r),Iae(t))),()=>_e.some(gt))},kae=t=>{ct(un(t,".mce-offscreen-selection"),Hi)},Dae=(t,r)=>{const a=t.selection.getNode();return di(a)&&!Gp(a)?x9(t,a.parentNode).filter(di).fold(()=>_e.some(()=>{kae(et.fromDom(t.getBody())),U1(t,r,et.fromDom(t.selection.getNode())),tV(t)}),()=>_e.some(gt)):OH(t)?_e.some(()=>{qj(t,t.selection.getRng(),et.fromDom(t.getBody()))}):_e.none()},O9=t=>{const r=t.dom,a=t.selection,u=$w(t.getBody(),a.getNode());if(cu(u)&&r.isBlock(u)&&r.isEmpty(u)){const f=r.create("br",{"data-mce-bogus":"1"});r.setHTML(u,""),u.appendChild(f),a.setRng(an.before(f).toRange())}return!0},RH=(t,r)=>t.selection.isCollapsed()?Rae(t,r):Dae(t,r),kH=(t,r)=>{var a;const u=t.dom,f=u.getParent(t.selection.getStart(),u.isBlock),y=u.getParent(t.selection.getEnd(),u.isBlock),A=t.getBody();if(((a=f==null?void 0:f.nodeName)===null||a===void 0?void 0:a.toLowerCase())==="div"&&f&&y&&f===A.firstChild&&y===A.lastChild&&!u.isEmpty(A)){const H=f.cloneNode(!1),Y=()=>{if(r?jj(t):LM(t),A.firstChild!==f){const ue=kC(t.selection.getRng(),()=>document.createElement("span"));Array.from(A.childNodes).forEach(me=>H.appendChild(me)),A.appendChild(H),t.selection.setRng(DC(ue))}};return _e.some(Y)}return _e.none()},Mae=(t,r)=>{const a=an.fromRangeStart(t.selection.getRng());return qd(r,t.getBody(),a).filter(u=>r?Xte(u):Jte(u)).bind(u=>fI(r?0:-1,u)).map(u=>()=>t.selection.select(u))},DH=(t,r)=>t.selection.isCollapsed()?Mae(t,r):_e.none(),jT=Un,I9=t=>jT(t)&&t.data[0]===V,R9=t=>jT(t)&&t.data[t.data.length-1]===V,k9=t=>{var r;return((r=t.ownerDocument)!==null&&r!==void 0?r:document).createTextNode(V)},Pae=t=>{var r;if(jT(t.previousSibling))return R9(t.previousSibling)||t.previousSibling.appendData(V),t.previousSibling;if(jT(t))return I9(t)||t.insertData(0,V),t;{const a=k9(t);return(r=t.parentNode)===null||r===void 0||r.insertBefore(a,t),a}},Nae=t=>{var r,a;if(jT(t.nextSibling))return I9(t.nextSibling)||t.nextSibling.insertData(0,V),t.nextSibling;if(jT(t))return R9(t)||t.appendData(V),t;{const u=k9(t);return t.nextSibling?(r=t.parentNode)===null||r===void 0||r.insertBefore(u,t.nextSibling):(a=t.parentNode)===null||a===void 0||a.appendChild(u),u}},YP=(t,r)=>t?Pae(r):Nae(r),D9=at(YP,!0),Lae=at(YP,!1),M9=(t,r)=>Un(t.container())?YP(r,t.container()):YP(r,t.getNode()),MH=(t,r)=>{const a=r.get();return a&&t.container()===a&&Ee(a)},PH=(t,r)=>r.fold(a=>{tb(t.get());const u=D9(a);return t.set(u),_e.some(an(u,u.length-1))},a=>Kd(a).map(u=>{if(MH(u,t)){const f=t.get();return an(f,1)}else{tb(t.get());const f=M9(u,!0);return t.set(f),an(f,1)}}),a=>og(a).map(u=>{if(MH(u,t)){const f=t.get();return an(f,f.length-1)}else{tb(t.get());const f=M9(u,!1);return t.set(f),an(f,f.length-1)}}),a=>{tb(t.get());const u=Lae(a);return t.set(u),_e.some(an(u,1))}),P9=(t,r)=>{for(let a=0;a<t.length;a++){const u=t[a].apply(null,r);if(u.isSome())return u}return _e.none()},Bf=td.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),N9=(t,r)=>{const a=ob(r,t);return a||t},NH=(t,r,a)=>{const u=JB(a),f=N9(r,u.container());return z1(t,f,u).fold(()=>Zd(f,u).bind(at(z1,t,f)).map(y=>Bf.before(y)),_e.none)},L9=(t,r)=>ab(t,r)===null,Bae=(t,r,a)=>z1(t,r,a).filter(at(L9,r)),OR=(t,r,a)=>{const u=QB(a);return Bae(t,r,u).bind(f=>Ah(f,u).isNone()?_e.some(Bf.start(f)):_e.none())},iSe=(t,r,a)=>{const u=JB(a);return Bae(t,r,u).bind(f=>Zd(f,u).isNone()?_e.some(Bf.end(f)):_e.none())},aSe=(t,r,a)=>{const u=QB(a),f=N9(r,u.container());return z1(t,f,u).fold(()=>Ah(f,u).bind(at(z1,t,f)).map(y=>Bf.after(y)),_e.none)},Vae=t=>!XB(cg(t)),tS=(t,r,a)=>P9([NH,OR,iSe,aSe],[t,r,a]).filter(Vae),cg=t=>t.fold(Rt,Rt,Rt,Rt),WT=t=>t.fold(ot("before"),ot("start"),ot("end"),ot("after")),ug=t=>t.fold(Bf.before,Bf.before,Bf.after,Bf.after),nS=t=>t.fold(Bf.start,Bf.start,Bf.end,Bf.end),LH=(t,r)=>WT(t)===WT(r)&&cg(t)===cg(r),B9=(t,r,a,u,f,y)=>Ar(z1(r,a,u),z1(r,a,f),(A,M)=>A!==M&&$j(a,A,M)?Bf.after(t?A:M):y).getOr(y),IR=(t,r)=>t.fold(Tn,a=>!LH(a,r)),Fae=(t,r,a,u,f)=>{const y=sg(t,f);return qd(t,a,y).map(at(sg,t)).fold(()=>u.map(ug),H=>tS(r,a,H).map(at(B9,t,r,a,y,H)).filter(at(IR,u))).filter(Vae)},V9=(t,r)=>t?r.fold(te(_e.some,Bf.start),_e.none,te(_e.some,Bf.after),_e.none):r.fold(_e.none,te(_e.some,Bf.before),_e.none,te(_e.some,Bf.end)),lSe=(t,r,a,u)=>{const f=sg(t,u),y=tS(r,a,f);return tS(r,a,f).bind(at(V9,t)).orThunk(()=>Fae(t,r,a,y,u))},Hae=t=>Re(t.selection.getSel().modify),GT=(t,r,a)=>{const u=t?1:-1;return r.setRng(an(a.container(),a.offset()+u).toRange()),r.getSel().modify("move",t?"forward":"backward","word"),!0},F9=(t,r)=>{const a=r.selection.getRng(),u=t?an.fromRangeEnd(a):an.fromRangeStart(a);return Hae(r)?t&&ze(u)?GT(!0,r.selection,u):!t&&Ye(u)?GT(!1,r.selection,u):!1:!1};var Ma;(function(t){t[t.Br=0]="Br",t[t.Block=1]="Block",t[t.Wrap=2]="Wrap",t[t.Eol=3]="Eol"})(Ma||(Ma={}));const XP=(t,r)=>t===-1?Ks(r):r,$ae=(t,r,a)=>t===1?r.next(a):r.prev(a),qT=(t,r,a,u)=>ba(u.getNode(r===1))?Ma.Br:sb(a,u)===!1?Ma.Block:Ma.Wrap,GC=(t,r,a,u)=>{const f=av(a);let y=u;const A=[];for(;y;){const M=$ae(r,f,y);if(!M)break;if(ba(M.getNode(!1)))return r===1?{positions:XP(r,A).concat([M]),breakType:Ma.Br,breakAt:_e.some(M)}:{positions:XP(r,A),breakType:Ma.Br,breakAt:_e.some(M)};if(!M.isVisible()){y=M;continue}if(t(y,M)){const H=qT(a,r,y,M);return{positions:XP(r,A),breakType:H,breakAt:_e.some(M)}}A.push(M),y=M}return{positions:XP(r,A),breakType:Ma.Eol,breakAt:_e.none()}},qC=(t,r,a,u)=>r(a,u).breakAt.map(f=>{const y=r(a,f).positions;return t===-1?y.concat(f):[f].concat(y)}).getOr([]),BH=(t,r)=>On(t,(a,u)=>a.fold(()=>_e.some(u),f=>Ar(en(f.getClientRects()),en(u.getClientRects()),(y,A)=>{const M=Math.abs(r-y.left);return Math.abs(r-A.left)<=M?u:f}).or(a)),_e.none()),JP=(t,r)=>en(r.getClientRects()).bind(a=>BH(t,a.left)),i_=at(GC,an.isAbove,-1),a_=at(GC,an.isBelow,1),VH=at(qC,-1,i_),FH=at(qC,1,a_),HH=(t,r)=>i_(t,r).breakAt.isNone(),$H=(t,r)=>a_(t,r).breakAt.isNone(),UH=t=>Kd(t).map(r=>[r].concat(a_(t,r).positions)).getOr([]),Uae=t=>og(t).map(r=>i_(t,r).positions.concat(r)).getOr([]),H9=(t,r)=>JP(VH(t,r),r),$9=(t,r)=>JP(FH(t,r),r),zae=di,U9=(t,r)=>Math.abs(t.left-r),QP=(t,r)=>Math.abs(t.right-r),z9=t=>Vs(t,"node"),j9=(t,r)=>Ru(t,(a,u)=>{const f=Math.min(U9(a,r),QP(a,r)),y=Math.min(U9(u,r),QP(u,r));return y===f&&z9(u)&&zae(u.node)||y<f?u:a}),jae=t=>{const r=a=>fn(a,u=>{const f=ao(u);return f.node=t,f});if(No(t))return r(t.getClientRects());if(Un(t)){const a=t.ownerDocument.createRange();return a.setStart(t,0),a.setEnd(t,t.data.length),r(a.getClientRects())}else return[]},l_=t=>Ao(t,jae);var ZC;(function(t){t[t.Up=-1]="Up",t[t.Down=1]="Down"})(ZC||(ZC={}));const Wae=(t,r,a,u)=>{let f=u;for(;f=xw(f,t,C1,r);)if(a(f))return},zH=(t,r,a,u,f,y)=>{let A=0;const M=[],H=me=>{let Se=l_([me]);t===ZC.Up&&(Se=Se.reverse());for(let Oe=0;Oe<Se.length;Oe++){const Ke=Se[Oe];if(!a(Ke,Y)){if(M.length>0&&r(Ke,Be(M))&&A++,Ke.line=A,f(Ke))return!0;M.push(Ke)}}return!1},Y=Be(y.getClientRects());if(!Y)return M;const ue=y.getNode();return ue&&(H(ue),Wae(t,u,H,ue)),M},Gae=(t,r)=>r.line>t,W9=(t,r)=>r.line===t,qae=at(zH,ZC.Up,bs,zs),G9=at(zH,ZC.Down,zs,bs),jH=t=>Be(t.getClientRects()),q9=(t,r,a,u)=>{const f=av(r);let y,A,M,H;const Y=[];let ue=0;t===ZC.Down?(y=f.next,A=zs,M=bs,H=an.after(u)):(y=f.prev,A=bs,M=zs,H=an.before(u));const me=jH(H);do{if(!H.isVisible())continue;const Se=jH(H);if(M(Se,me))continue;Y.length>0&&A(Se,Be(Y))&&ue++;const Oe=ao(Se);if(Oe.position=H,Oe.line=ue,a(Oe))return Y;Y.push(Oe)}while(H=y(H));return Y},WH=t=>r=>Gae(t,r),eN=t=>r=>W9(t,r),k0=(t,r)=>{t.selection.setRng(r),BI(t,t.selection.getRng())},GH=(t,r,a)=>_e.some(AH(t,r,a)),Z9=(t,r,a,u,f,y)=>{const A=r===1,M=av(t.getBody()),H=at(yy,A?M.next:M.prev),Y=A?u:f;if(!a.collapsed){const Ke=hi(a);if(y(Ke))return eS(r,t,Ke,r===-1,!1);if(OH(t)){const Ze=a.cloneRange();return Ze.collapse(r===-1),_e.from(Ze)}}const ue=y0(r,t.getBody(),a);if(Y(ue))return xR(t,ue.getNode(!A));let me=H(ue);const Se=gn(a);if(me)me=sg(A,me);else return Se?_e.some(a):_e.none();if(Y(me))return eS(r,t,me.getNode(!A),A,!1);const Oe=H(me);return Oe&&Y(Oe)&&SC(me,Oe)?eS(r,t,Oe.getNode(!A),A,!1):Se?GH(t,me.toRange(),!1):_e.none()},K9=(t,r,a,u,f,y)=>{const A=y0(r,t.getBody(),a),M=Be(A.getClientRects()),H=r===ZC.Down,Y=t.getBody();if(!M)return _e.none();if(OH(t)){const We=H?an.fromRangeEnd(a):an.fromRangeStart(a);return(H?$9:H9)(Y,We).orThunk(()=>_e.from(We)).map(Et=>Et.toRange())}const me=(H?G9:qae)(Y,WH(1),A),Se=Ge(me,eN(1)),Oe=M.left,Ke=j9(Se,Oe);if(Ke&&y(Ke.node)){const We=Math.abs(Oe-Ke.left),Ct=Math.abs(Oe-Ke.right);return eS(r,t,Ke.node,We<Ct,!1)}let Ze;if(u(A)?Ze=A.getNode():f(A)?Ze=A.getNode(!0):Ze=hi(a),Ze){const We=q9(r,Y,WH(1),Ze);let Ct=j9(Ge(We,eN(1)),Oe);if(Ct||(Ct=Be(Ge(We,eN(0))),Ct))return GH(t,Ct.position.toRange(),!1)}return Se.length===0?RR(t,H).filter(H?f:u).map(We=>AH(t,We.toRange(),!1)):_e.none()},RR=(t,r)=>{const a=t.selection.getRng(),u=r?an.fromRangeEnd(a):an.fromRangeStart(a),f=YD(u.container(),t.getBody());if(r){const y=a_(f,u);return tn(y.positions)}else{const y=i_(f,u);return en(y.positions)}},ZT=(t,r,a)=>RR(t,r).filter(a).exists(u=>(t.selection.setRng(u.toRange()),!0)),KC=(t,r)=>{const a=t.dom.createRng();a.setStart(r.container(),r.offset()),a.setEnd(r.container(),r.offset()),t.selection.setRng(a)},tN=(t,r)=>{t?r.setAttribute("data-mce-selected","inline-boundary"):r.removeAttribute("data-mce-selected")},qH=(t,r,a)=>PH(r,a).map(u=>(KC(t,u),a)),Y9=(t,r,a)=>{const u=an.fromRangeStart(t);if(t.collapsed)return u;{const f=an.fromRangeEnd(t);return a?Ah(r,f).getOr(f):Zd(r,u).getOr(u)}},nN=(t,r,a)=>{const u=t.getBody(),f=Y9(t.selection.getRng(),u,a),y=at(Ay,t);return lSe(a,y,u,f).bind(M=>qH(t,r,M))},Zae=(t,r,a)=>{const u=fn(un(et.fromDom(r.getRoot()),'*[data-mce-selected="inline-boundary"]'),A=>A.dom),f=Ge(u,t),y=Ge(a,t);ct(Ls(f,y),at(tN,!1)),ct(Ls(y,f),at(tN,!0))},Kae=(t,r)=>{const a=r.get();if(t.selection.isCollapsed()&&!t.composing&&a){const u=an.fromRangeStart(t.selection.getRng());an.isTextPosition(u)&&!Uj(u)&&(KC(t,aT(a,u)),r.set(null))}},c_=(t,r,a,u)=>{if(r.selection.isCollapsed()){const f=Ge(u,t);ct(f,y=>{const A=an.fromRangeStart(r.selection.getRng());tS(t,r.getBody(),A).bind(M=>qH(r,a,M))})}},oN=(t,r,a)=>eb(t)?nN(t,r,a).isSome():!1,ZH=(t,r,a)=>eb(r)?F9(t,r):!1,kR=t=>{const r=zo(null),a=at(Ay,t);return t.on("NodeChange",u=>{eb(t)&&(Zae(a,t.dom,u.parents),Kae(t,r),c_(a,t,r,u.parents))}),r},X9=at(ZH,!0),KH=at(ZH,!1),DR=(t,r,a)=>{if(eb(t)){const u=RR(t,r).getOrThunk(()=>{const f=t.selection.getRng();return r?an.fromRangeEnd(f):an.fromRangeStart(f)});return tS(at(Ay,t),t.getBody(),u).exists(f=>{const y=ug(f);return PH(a,y).exists(A=>(KC(t,A),!0))})}else return!1},J9=(t,r)=>{const a=document.createRange();return a.setStart(t.container(),t.offset()),a.setEnd(r.container(),r.offset()),a},Yae=t=>Ar(Kd(t),og(t),(r,a)=>{const u=sg(!0,r),f=sg(!1,a);return Zd(t,u).forall(y=>y.isEqual(f))}).getOr(!0),YH=(t,r)=>a=>PH(r,a).map(u=>()=>KC(t,u)),Q9=(t,r,a,u)=>{const f=t.getBody(),y=at(Ay,t);t.undoManager.ignore(()=>{t.selection.setRng(J9(a,u)),LM(t),tS(y,f,an.fromRangeStart(t.selection.getRng())).map(nS).bind(YH(t,r)).each(wo)}),t.nodeChanged()},Xae=(t,r)=>{const a=ob(r,t);return a||t},Jae=(t,r,a,u)=>{const f=Xae(t.getBody(),u.container()),y=at(Ay,t),A=tS(y,f,u);return A.bind(H=>a?H.fold(ot(_e.some(nS(H))),_e.none,ot(_e.some(ug(H))),_e.none):H.fold(_e.none,ot(_e.some(ug(H))),_e.none,ot(_e.some(nS(H))))).map(YH(t,r)).getOrThunk(()=>{const H=B1(a,f,u),Y=H.bind(ue=>tS(y,f,ue));return Ar(A,Y,()=>z1(y,f,u).bind(ue=>Yae(ue)?_e.some(()=>{U1(t,a,et.fromDom(ue))}):_e.none())).getOrThunk(()=>Y.bind(()=>H.map(ue=>()=>{a?Q9(t,r,u,ue):Q9(t,r,ue,u)})))})},XH=(t,r,a)=>{if(t.selection.isCollapsed()&&eb(t)){const u=an.fromRangeStart(t.selection.getRng());return Jae(t,r,a,u)}return _e.none()},JH=t=>yf(t)>1,eG=(t,r)=>{const a=et.fromDom(t.getBody()),u=et.fromDom(t.selection.getStart()),f=Co(u,a);return ls(f,r).fold(ot(f),y=>f.slice(0,y))},tG=t=>yf(t)===1,Qae=t=>eG(t,r=>t.schema.isBlock(Ms(r))||JH(r)),ele=t=>eG(t,r=>t.schema.isBlock(Ms(r))),nG=(t,r)=>{const a=at(CV,t);return Ao(r,u=>a(u)?[u.dom]:[])},QH=t=>{const r=ele(t);return nG(t,r)},tle=(t,r,a,u)=>{const f=nG(r,u);if(f.length===0)U1(r,t,a);else{const y=g8(a.dom,f);r.selection.setRng(y.toRange())}},nle=(t,r)=>{const a=Ge(Qae(t),tG);return tn(a).bind(u=>{const f=an.fromRangeStart(t.selection.getRng());return Wj(r,f,u.dom)&&!Js(u)?_e.some(()=>tle(r,t,u,a)):_e.none()})},ole=(t,r)=>{const a=r.parentElement;return ba(r)&&!F(a)&&t.dom.isEmpty(a)},sle=t=>Js(et.fromDom(t)),oG=(t,r)=>{const a=t.selection.getStart(),u=ole(t,a)||sle(a)?g8(a,r):Pr(t.selection.getRng(),r);t.selection.setRng(u.toRange())},sG=(t,r)=>{const a=Ls(r,QH(t));a.length>0&&oG(t,a)},rG=t=>Un(t.startContainer),iG=t=>t.startOffset===0&&rG(t),rle=(t,r)=>{const a=r.startContainer.parentElement;return!F(a)&&CV(t,et.fromDom(a))},sN=t=>{const r=t.startContainer.parentNode,a=t.endContainer.parentNode;return!F(r)&&!F(a)&&r.isEqualNode(a)},sf=t=>{const r=t.endContainer;return t.endOffset===(Un(r)?r.length:r.childNodes.length)},ile=t=>sN(t)&&sf(t),rN=t=>!t.endContainer.isEqualNode(t.commonAncestorContainer),u_=t=>ile(t)||rN(t),aG=t=>{const r=t.selection.getRng();return iG(r)&&rle(t,r)&&u_(r)},Sm=t=>{if(aG(t)){const r=QH(t);return _e.some(()=>{LM(t),sG(t,r)})}else return _e.none()},oS=(t,r)=>t.selection.isCollapsed()?nle(t,r):Sm(t),lG=(t,r)=>mo(t,a=>tf(a.dom),a=>r.isBlock(Ms(a))),ale=t=>lG(et.fromDom(t.selection.getStart()),t.schema),cG=t=>{const r=t.selection.getRng();return r.collapsed&&(rG(r)||t.dom.isEmpty(r.startContainer))&&!ale(t)},MR=t=>(cG(t)&&oG(t,[]),!0),iN=(t,r,a)=>Ve(a)?_e.some(()=>{t._selectionOverrides.hideFakeCaret(),U1(t,r,et.fromDom(a))}):_e.none(),e$=(t,r)=>{const a=r?FI:HI,f=y0(r?1:-1,t.getBody(),t.selection.getRng());return a(f)?iN(t,r,f.getNode(!r)):_e.from(sg(r,f)).filter(y=>a(y)&&SC(f,y)).bind(y=>iN(t,r,y.getNode(!r)))},t$=(t,r)=>{const a=t.selection.getNode();return Jh(a)?iN(t,r,a):_e.none()},n$=(t,r)=>t.selection.isCollapsed()?e$(t,r):t$(t,r),lle=t=>Ii(t,r=>cu(r.dom)||di(r.dom)).exists(r=>cu(r.dom)),aN=t=>pf(t??"").getOr(0),yb=(t,r)=>{const a=t||MA(r)?"margin":"padding",u=Ga(r,"direction")==="rtl"?"-right":"-left";return a+u},o$=(t,r,a,u,f,y)=>{const A=yb(a,et.fromDom(y)),M=aN(t.getStyle(y,A));if(r==="outdent"){const H=Math.max(0,M-u);t.setStyle(y,A,H?H+f:"")}else{const H=M+u+f;t.setStyle(y,A,H)}},cle=(t,r)=>sr(r,a=>{const u=yb(pw(t),a),f=gl(a,u).map(aN).getOr(0);return t.dom.getContentEditable(a.dom)!=="false"&&f>0}),PR=t=>{const r=i$(t);return!t.mode.isReadOnly()&&(r.length>1||cle(t,r))},s$=t=>!t.mode.isReadOnly()&&Oie(t),r$=t=>lC(t)||eg(t),uG=t=>ku(t).exists(r$),i$=t=>Ge(bh(t.selection.getSelectedBlocks()),r=>!r$(r)&&!uG(r)&&lle(r)),dG=(t,r)=>{var a,u;if(t.mode.isReadOnly())return;const{dom:f}=t,y=JO(t),A=(u=(a=/[a-z%]+$/i.exec(y))===null||a===void 0?void 0:a[0])!==null&&u!==void 0?u:"px",M=aN(y),H=pw(t);ct(i$(t),Y=>{o$(f,r,H,M,A,Y.dom)}),r==="indent"?d9(t):dH(t)},ule=t=>dG(t,"indent"),hG=t=>dG(t,"outdent"),fG=t=>{if(t.selection.isCollapsed()&&PR(t)){const r=t.dom,a=t.selection.getRng(),u=an.fromRangeStart(a),f=r.getParent(a.startContainer,r.isBlock);if(f!==null&&TM(et.fromDom(f),u,t.schema))return _e.some(()=>hG(t))}return _e.none()},dle=(t,r)=>{const a=zM(t.selection.getRng());return cB(a)?_e.some(()=>U1(t,r,et.fromDom(t.selection.getNode()))):_e.none()},lN=(t,r)=>t.selection.isCollapsed()?_e.none():dle(t,r),pG=(t,r,a)=>go([fG,RH,TH,(u,f)=>XH(u,r,f),ZP,fV,DH,n$,TR,oS,kH,lN],u=>u(t,a)).filter(u=>t.selection.isEditable()),a$=(t,r)=>{pG(t,r,!1).fold(()=>{t.selection.isEditable()&&(LM(t),tV(t))},wo),SH(t)&&I0(t.dom,t.getBody())},hle=(t,r)=>{pG(t,r,!0).fold(()=>{t.selection.isEditable()&&jj(t)},wo),SH(t)&&I0(t.dom,t.getBody())},mG=(t,r)=>{t.addCommand("delete",()=>{a$(t,r)}),t.addCommand("forwardDelete",()=>{hle(t,r)})},cN=5,l$=400,c$=t=>t.touches===void 0||t.touches.length!==1?_e.none():_e.some(t.touches[0]),u$=(t,r)=>{const a=Math.abs(t.clientX-r.x),u=Math.abs(t.clientY-r.y);return a>cN||u>cN},gG=t=>{const r=kc(),a=zo(!1),u=Iu(f=>{t.dispatch("longpress",{...f,type:"longpress"}),a.set(!0)},l$);t.on("touchstart",f=>{c$(f).each(y=>{u.cancel();const A={x:y.clientX,y:y.clientY,target:f.target};u.throttle(f),a.set(!1),r.set(A)})},!0),t.on("touchmove",f=>{u.cancel(),c$(f).each(y=>{r.on(A=>{u$(y,A)&&(r.clear(),a.set(!1),t.dispatch("longpresscancel"))})})},!0),t.on("touchend touchcancel",f=>{u.cancel(),f.type!=="touchcancel"&&r.get().filter(y=>y.target.isEqualNode(f.target)).each(()=>{a.get()?f.preventDefault():t.dispatch("tap",{...f,type:"tap"})})},!0)},uN=(t,r)=>jo(t,r.nodeName),d$=(t,r)=>Un(r)?!0:No(r)?!uN(t.getBlockElements(),r)&&!Nf(r)&&!kn(t,r)&&!o0(r)&&!jS(r):!1,vG=(t,r,a)=>wn(bj(et.fromDom(a),et.fromDom(r)),u=>uN(t,u.dom)),bG=(t,r)=>{if(Un(r)){if(r.data.length===0)return!0;if(/^\s+$/.test(r.data))return!r.nextSibling||uN(t,r.nextSibling)||o0(r.nextSibling)}return!1},dN=t=>t.dom.create(Wu(t),pC(t)),fle=t=>{const r=t.dom,a=t.selection,u=t.schema,f=u.getBlockElements(),y=a.getStart(),A=t.getBody();let M,H,Y=null;const ue=Wu(t);if(!y||!No(y))return;const me=A.nodeName.toLowerCase();if(!u.isValidChild(me,ue.toLowerCase())||vG(f,A,y))return;if(A.firstChild===A.lastChild&&ba(A.firstChild)){M=dN(t),M.appendChild(I().dom),A.replaceChild(M,A.firstChild),t.selection.setCursorLocation(M,0),t.nodeChanged();return}let Se=A.firstChild;for(;Se;)if(No(Se)&&md(u,Se),d$(u,Se)){if(bG(f,Se)){H=Se,Se=Se.nextSibling,r.remove(H);continue}if(!M){if(!Y&&t.hasFocus()&&(Y=kC(t.selection.getRng(),()=>document.createElement("span"))),!Se.parentNode){Se=null;break}M=dN(t),A.insertBefore(M,Se)}H=Se,Se=Se.nextSibling,M.appendChild(H)}else M=null,Se=Se.nextSibling;Y&&(t.selection.setRng(DC(Y)),t.nodeChanged())},yG=(t,r,a)=>{const u=et.fromDom(dN(t)),f=I();qr(u,f),a(r,u);const y=document.createRange();return y.setStartBefore(f.dom),y.setEndBefore(f.dom),y},hN=t=>{t.on("NodeChange",()=>fle(t))},SG=t=>r=>(" "+r.attr("class")+" ").indexOf(t)!==-1,NR=(t,r,a)=>function(u){const f=arguments,y=f[f.length-2],A=y>0?r.charAt(y-1):"";if(A==='"')return u;if(A===">"){const M=r.lastIndexOf("<",y);if(M!==-1&&r.substring(M,y).indexOf('contenteditable="false"')!==-1)return u}return'<span class="'+a+'" data-mce-content="'+t.dom.encode(f[0])+'">'+t.dom.encode(typeof f[1]=="string"?f[1]:f[0])+"</span>"},ple=(t,r,a)=>{let u=r.length,f=a.content;if(a.format!=="raw"){for(;u--;)f=f.replace(r[u],NR(t,f,aI(t)));a.content=f}},mle=(t,r)=>sr(t,a=>{const u=r.match(a);return u!==null&&u[0].length===r.length}),gle=t=>{const r="contenteditable",a=" "+Zn.trim(LD(t))+" ",u=" "+Zn.trim(aI(t))+" ",f=SG(a),y=SG(u),A=BD(t);A.length>0&&t.on("BeforeSetContent",M=>{ple(t,A,M)}),t.parser.addAttributeFilter("class",M=>{let H=M.length;for(;H--;){const Y=M[H];f(Y)?Y.attr(r,"true"):y(Y)&&Y.attr(r,"false")}}),t.serializer.addAttributeFilter(r,M=>{let H=M.length;for(;H--;){const Y=M[H];if(!f(Y)&&!y(Y))continue;const ue=Y.attr("data-mce-content");A.length>0&&ue?mle(A,ue)?(Y.name="#text",Y.type=3,Y.raw=!0,Y.value=ue):Y.remove():Y.attr(r,null)}})},vle=t=>Xh(et.fromDom(t.getBody()),"*[data-mce-caret]").map(r=>r.dom).getOrNull(),h$=(t,r)=>{r.hasAttribute("data-mce-caret")&&(Ft(r),t.selection.setRng(t.selection.getRng()),t.selection.scrollIntoView(r))},CG=(t,r)=>{const a=vle(t);if(a){if(r.type==="compositionstart"){r.preventDefault(),r.stopPropagation(),h$(t,a);return}Le(a)&&(h$(t,a),t.undoManager.add())}},ble=t=>{t.on("keyup compositionstart",at(CG,t))},EG=di,yle=(t,r,a)=>Z9(r,t,a,OC,IC,EG),Sle=(t,r,a)=>K9(r,t,a,y=>OC(y)||vj(y),y=>IC(y)||UB(y),EG),Cle=t=>{const r=t.dom.create(Wu(t));return r.innerHTML='<br data-mce-bogus="1">',r},f$=(t,r,a)=>{const u=av(t.getBody()),f=at(yy,r===1?u.next:u.prev);if(a.collapsed){const y=t.dom.getParent(a.startContainer,"PRE");if(!y)return;if(!f(an.fromRangeStart(a))){const M=et.fromDom(Cle(t));r===1?mh(et.fromDom(y),M):Mc(et.fromDom(y),M),t.selection.select(M.dom,!0),t.selection.collapse()}}},cSe=(t,r)=>{const a=r?1:-1,u=t.selection.getRng();return yle(a,t,u).orThunk(()=>(f$(t,a,u),_e.none()))},Ele=(t,r)=>{const a=r?1:-1,u=t.selection.getRng();return Sle(a,t,u).orThunk(()=>(f$(t,a,u),_e.none()))},wle=(t,r)=>{const a=r?t.getEnd(!0):t.getStart(!0);return XB(a)?!r:r},wG=(t,r)=>cSe(t,wle(t.selection,r)).exists(a=>(k0(t,a),!0)),_G=(t,r)=>Ele(t,r).exists(a=>(k0(t,a),!0)),AG=(t,r)=>ZT(t,r,r?IC:OC),fN=(t,r)=>xH(t,!r).map(a=>{const u=a.toRange(),f=t.selection.getRng();return r?u.setStart(f.startContainer,f.startOffset):u.setEnd(f.endContainer,f.endOffset),u}).exists(a=>(k0(t,a),!0)),TG=(t,r)=>{const a=A=>Do(A,r),u=A=>cu(A.dom),f=et.fromDom(t.container());return Ii(f,u,a).filter(A=>!a(A))},xG=(t,r,a)=>(a?$9:H9)(t.getBody(),r).map(f=>f.toRange()),_le=(t,r)=>{const a=an.fromRangeStart(t.selection.getRng()),u=an.fromRangeEnd(t.selection.getRng()),f=et.fromDom(t.getBody());return dh(Ar(TG(a,f),TG(u,f),(A,M)=>Do(A,M)?_e.some(A):_e.none())).fold(qt,A=>r&&$H(A.dom,u)||!r&&HH(A.dom,a)?xG(t,r?u:a,r).exists(M=>(k0(t,M),!0)):!1)},OG=(t,r)=>_le(t,r),Ale=t=>zt(["figcaption"],Ms(t)),Tle=(t,r,a)=>{const u=at(Do,r);return Ii(et.fromDom(t.container()),f=>a.isBlock(Ms(f)),u).filter(Ale)},xle=(t,r,a)=>r?$H(t.dom,a):HH(t.dom,a),Ole=(t,r)=>{const a=et.fromDom(t.getBody()),u=an.fromRangeStart(t.selection.getRng());return Tle(u,a,t.schema).exists(()=>{if(xle(a,r,u)){const y=yG(t,a,r?qr:lp);return t.selection.setRng(y),!0}else return!1})},IG=(t,r)=>t.selection.isCollapsed()?Ole(t,r):!1,Ile=(t,r,a)=>{const u=t.selection.getRng(),f=an.fromRangeStart(u);return t.getBody().firstChild===r&&HH(a,f)?(t.execCommand("InsertNewBlockBefore"),!0):!1},Rle=(t,r)=>{const a=t.selection.getRng(),u=an.fromRangeStart(a);return t.getBody().lastChild===r&&$H(r,u)?(t.execCommand("InsertNewBlockAfter"),!0):!1},kle=(t,r)=>r?_e.from(t.dom.getParent(t.selection.getNode(),"details")).map(a=>Rle(t,a)).getOr(!1):_e.from(t.dom.getParent(t.selection.getNode(),"summary")).bind(a=>_e.from(t.dom.getParent(a,"details")).map(u=>Ile(t,u,a))).getOr(!1),p$=(t,r)=>kle(t,r),RG={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},Dle=t=>fn(t,r=>({...RG,...r})),Mle=t=>fn(t,r=>({...RG,...r})),LR=(t,r)=>r.keyCode===t.keyCode&&r.shiftKey===t.shiftKey&&r.altKey===t.altKey&&r.ctrlKey===t.ctrlKey&&r.metaKey===t.metaKey,Ple=(t,r)=>Ao(Dle(t),a=>LR(a,r)?[a]:[]),Nle=(t,r)=>Ao(Mle(t),a=>LR(a,r)?[a]:[]),Bs=(t,...r)=>()=>t.apply(null,r),d_=(t,r)=>$t(Ple(t,r),a=>a.action()),kG=(t,r)=>go(Nle(t,r),a=>a.action()),DG=(t,r)=>{const a=r?1:-1,u=t.selection.getRng();return Z9(t,a,u,FI,HI,Jh).exists(f=>(k0(t,f),!0))},Lle=(t,r)=>{const a=r?1:-1,u=t.selection.getRng();return K9(t,a,u,FI,HI,Jh).exists(f=>(k0(t,f),!0))},MG=(t,r)=>ZT(t,r,r?HI:FI),Ble=(t,r)=>PG(t,r,Tn),PG=(t,r,a)=>Ao(mr(t),u=>fr(u,r)?a(u)?[u]:[]:PG(u,r,a)),BR=(t,r,a=qt)=>{if(a(r))return _e.none();if(zt(t,Ms(r)))return _e.some(r);const u=f=>fr(f,"table")||a(f);return qa(r,t.join(","),u)},Vle=(t,r)=>BR(["td","th"],t,r),Fle=t=>Ble(t,"th,td"),NG=(t,r)=>Pc(t,"table",r),m$=td.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),nh={...m$,none:t=>m$.none(t)},pN=(t,r,a,u,f=Tn)=>{const y=u===1;if(!y&&a<=0)return nh.first(t[0]);if(y&&a>=t.length-1)return nh.last(t[t.length-1]);{const A=a+u,M=t[A];return f(M)?nh.middle(r,M):pN(t,r,A,u,f)}},KT=(t,r)=>NG(t,r).bind(a=>{const u=Fle(a);return ls(u,y=>Do(t,y)).map(y=>({index:y,all:u}))}),YC=(t,r,a)=>KT(t,a).fold(()=>nh.none(t),f=>pN(f.all,t,f.index,1,r)),Iy=(t,r,a)=>KT(t,a).fold(()=>nh.none(),f=>pN(f.all,t,f.index,-1,r));var VR=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],g$=()=>{const t=Y=>et.fromDom(Y.dom.cloneNode(!1)),r=Y=>iu(Y).dom,a=Y=>sa(Y)?Ms(Y)==="body"?!0:zt(VR,Ms(Y)):!1,u=Y=>sa(Y)?zt(["br","img","hr","input"],Ms(Y)):!1,f=Y=>sa(Y)&&aa(Y,"contenteditable")==="false",y=(Y,ue)=>Y.dom.compareDocumentPosition(ue.dom),A=(Y,ue)=>{const me=Er(Y);Va(ue,me)},M=Y=>{const ue=Ms(Y);return zt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],ue)},H=Y=>sa(Y)?vh(Y,"lang"):_e.none();return{up:ot({selector:qa,closest:Pc,predicate:Yh,all:$c}),down:ot({selector:un,predicate:qe}),styles:ot({get:Ga,getRaw:gl,set:Uc,remove:Q0}),attrs:ot({get:aa,set:pa,remove:ml,copyTo:A}),insert:ot({before:Mc,after:mh,afterAll:jb,append:qr,appendAll:gh,prepend:lp,wrap:Fd}),remove:ot({unwrap:Nu,remove:Hi}),create:ot({nu:et.fromTag,clone:t,text:et.fromText}),query:ot({comparePosition:y,prevSibling:Bd,nextSibling:Mu}),property:ot({children:mr,name:Ms,parent:ku,document:r,isText:ti,isComment:ja,isElement:sa,isSpecial:M,getLanguage:H,getText:vl,setText:ey,isBoundary:a,isEmptyTag:u,isNonEditable:f}),eq:Do,is:Sl}};const FR=(t,r)=>({element:t,offset:r}),v$=(t,r)=>{if(t.property().isText(r))return FR(r,t.property().getText(r).length);{const a=t.property().children(r);return a.length>0?v$(t,a[a.length-1]):FR(r,a.length)}},b$=(t,r,a)=>{const u=t.property().children(r);return u.length>0&&a<u.length?b$(t,u[a],0):u.length>0&&t.property().isElement(r)&&u.length===a?v$(t,u[u.length-1]):FR(r,a)},Hle=b$,$le=g$(),LG=(t,r)=>Hle($le,t,r),y$=dl("image"),BG=t=>{const r=t;return _e.from(r[y$])},Ule=(t,r)=>{const a=t;a[y$]=r},VG=dl("event"),uSe=t=>{const r=t;return _e.from(r[VG])},S$=t=>r=>{const a=r;a[VG]=t},Sb=(t,r)=>S$(r)(t),FG=S$(0),zle=S$(2),f_=S$(1),Wle=(t=>r=>{const a=r;return _e.from(a[VG]).exists(u=>u===t)})(0),mN=()=>Object.freeze({length:0,item:t=>null}),HR=dl("mode"),HG=t=>{const r=t;return _e.from(r[HR])},$R=t=>r=>{const a=r;a[HR]=t},$G=(t,r)=>$R(r)(t),C$=$R(0),gN=$R(2),UG=$R(1),vN=t=>r=>{const a=r;return _e.from(a[HR]).exists(u=>u===t)},YT=vN(0),zG=vN(1),Gle=(t,r)=>({...r,get length(){return r.length},add:(a,u)=>{if(YT(t))if(ie(a)){if(!tt(u))return r.add(a,u)}else return r.add(a);return null},remove:a=>{YT(t)&&r.remove(a)},clear:()=>{YT(t)&&r.clear()}}),qle=["none","copy","link","move"],Zle=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],E$=()=>{const t=new window.DataTransfer;let r="move",a="all";const u={get dropEffect(){return r},set dropEffect(f){zt(qle,f)&&(r=f)},get effectAllowed(){return a},set effectAllowed(f){Wle(u)&&zt(Zle,f)&&(a=f)},get items(){return Gle(u,t.items)},get files(){return zG(u)?mN():t.files},get types(){return t.types},setDragImage:(f,y,A)=>{YT(u)&&(Ule(u,{image:f,x:y,y:A}),t.setDragImage(f,y,A))},getData:f=>zG(u)?"":t.getData(f),setData:(f,y)=>{YT(u)&&t.setData(f,y)},clearData:f=>{YT(u)&&t.clearData(f)}};return C$(u),u},Kle=t=>{const r=E$(),a=HG(t);return gN(t),FG(r),r.dropEffect=t.dropEffect,r.effectAllowed=t.effectAllowed,BG(t).each(u=>r.setDragImage(u.image,u.x,u.y)),ct(t.types,u=>{u!=="Files"&&r.setData(u,t.getData(u))}),ct(t.files,u=>r.items.add(u)),uSe(t).each(u=>{Sb(r,u)}),a.each(u=>{$G(t,u),$G(r,u)}),r},Yle=t=>{const r=t.getData("text/html");return r===""?_e.none():_e.some(r)},w$=(t,r)=>t.setData("text/html",r),Xle=(t,r)=>({left:t.left-r,top:t.top-r,right:t.right+r*2,bottom:t.bottom+r*2,width:t.width+r,height:t.height+r}),sS=(t,r)=>Ao(r,a=>{const u=Xle(ao(a.getBoundingClientRect()),-1);return[{x:u.left,y:t(u),cell:a},{x:u.right,y:t(u),cell:a}]}),_$=(t,r,a)=>On(t,(u,f)=>u.fold(()=>_e.some(f),y=>{const A=Math.sqrt(Math.abs(y.x-r)+Math.abs(y.y-a)),M=Math.sqrt(Math.abs(f.x-r)+Math.abs(f.y-a));return _e.some(M<A?f:y)}),_e.none()),jG=(t,r,a,u,f)=>{const y=un(et.fromDom(a),"td,th,caption").map(M=>M.dom),A=Ge(sS(t,y),M=>r(M,f));return _$(A,u,f).map(M=>M.cell)},Jle=t=>t.bottom,Qle=t=>t.top,A$=(t,r)=>t.y<r,T$=(t,r)=>t.y>r,WG=at(jG,Jle,A$),GG=at(jG,Qle,T$),qG=(t,r)=>en(r.getClientRects()).bind(a=>WG(t,a.left,a.top)).bind(a=>JP(Uae(a),r)),ece=(t,r)=>tn(r.getClientRects()).bind(a=>GG(t,a.left,a.top)).bind(a=>JP(UH(a),r)),UR=(t,r,a)=>a.breakAt.exists(u=>t(r,u).breakAt.isSome()),bN=t=>t.breakType===Ma.Wrap&&t.positions.length===0,ZG=t=>t.breakType===Ma.Br&&t.positions.length===1,x$=(t,r,a)=>{const u=t(r,a);return bN(u)||!ba(a.getNode())&&ZG(u)?!UR(t,r,u):u.breakAt.isNone()},KG=at(x$,i_),YG=at(x$,a_),yN=(t,r,a)=>{const u=an.fromRangeStart(r);return Cy(!t,a).exists(f=>f.isEqual(u))},O$=(t,r,a,u)=>{const f=t.selection.getRng(),y=r?1:-1;return lT()&&yN(r,f,a)?(eS(y,t,a,!r,!1).each(A=>{k0(t,A)}),!0):!1},zR=(t,r,a)=>qG(r,a).orThunk(()=>en(a.getClientRects()).bind(u=>BH(VH(t,an.before(r)),u.left))).getOr(an.before(r)),tce=(t,r,a)=>ece(r,a).orThunk(()=>en(a.getClientRects()).bind(u=>BH(FH(t,an.after(r)),u.left))).getOr(an.after(r)),I$=(t,r)=>{const a=r.getNode(t);return fp(a)?_e.some(a):_e.none()},nce=(t,r,a)=>{r.undoManager.transact(()=>{const u=t?mh:Mc,f=yG(r,et.fromDom(a),u);k0(r,f)})},XG=(t,r,a)=>{const u=I$(!!r,a),f=r===!1;u.fold(()=>k0(t,a.toRange()),y=>Cy(f,t.getBody()).filter(A=>A.isEqual(a)).fold(()=>k0(t,a.toRange()),A=>nce(r,t,y)))},JG=(t,r,a,u)=>{const f=t.selection.getRng(),y=an.fromRangeStart(f),A=t.getBody();if(!r&&KG(u,y)){const M=zR(A,a,y);return XG(t,r,M),!0}else if(r&&YG(u,y)){const M=tce(A,a,y);return XG(t,r,M),!0}else return!1},QG=(t,r,a)=>_e.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(u=>_e.from(t.dom.getParent(u,"table")).map(f=>a(t,r,f,u))).getOr(!1),R$=(t,r)=>QG(t,r,O$),eq=(t,r)=>QG(t,r,JG),oce=t=>{const r=Um.exact(t,0,t,0);return VE(r)},sce=t=>SN(t)||li(t).some(r=>Wh(r)&&SN(r)),tq=(t,r,a)=>a.fold(_e.none,_e.none,(u,f)=>Hm(f).map(y=>oce(y)),u=>t.mode.isReadOnly()||!rce(u)||!sce(u)?_e.none():(t.execCommand("mceTableInsertRowAfter"),nq(t,r,u))),rce=t=>Ii(t,Cl("table")).exists(Bu),nq=(t,r,a)=>tq(t,r,YC(a,SN)),ice=(t,r,a)=>tq(t,r,Iy(a,SN)),SN=t=>Bu(t)||Zs(t,k$),k$=t=>Wh(t)&&Bu(t),oq=(t,r)=>{const a=["table","li","dl"],u=et.fromDom(t.getBody()),f=M=>{const H=Ms(M);return Do(M,u)||zt(a,H)},y=t.selection.getRng(),A=et.fromDom(r?y.endContainer:y.startContainer);return Vle(A,f).map(M=>(NG(M,f).each(ue=>{t.model.table.clearSelectedCells(ue.dom)}),t.selection.collapse(!r),(r?nq:ice)(t,f,M).each(ue=>{t.selection.setRng(ue)}),!0)).getOr(!1)},XC=(t,r,a)=>{const u=Tr.os.isMacOS()||Tr.os.isiOS(),f=Tr.browser.isFirefox();d_([{keyCode:_o.RIGHT,action:Bs(wG,t,!0)},{keyCode:_o.LEFT,action:Bs(wG,t,!1)},{keyCode:_o.UP,action:Bs(_G,t,!1)},{keyCode:_o.DOWN,action:Bs(_G,t,!0)},...u?[{keyCode:_o.UP,action:Bs(fN,t,!1),metaKey:!0,shiftKey:!0},{keyCode:_o.DOWN,action:Bs(fN,t,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:_o.RIGHT,action:Bs(R$,t,!0)},{keyCode:_o.LEFT,action:Bs(R$,t,!1)},{keyCode:_o.UP,action:Bs(eq,t,!1)},{keyCode:_o.DOWN,action:Bs(eq,t,!0)},{keyCode:_o.UP,action:Bs(eq,t,!1)},{keyCode:_o.UP,action:Bs(p$,t,!1)},{keyCode:_o.DOWN,action:Bs(p$,t,!0)},{keyCode:_o.RIGHT,action:Bs(DG,t,!0)},{keyCode:_o.LEFT,action:Bs(DG,t,!1)},{keyCode:_o.UP,action:Bs(Lle,t,!1)},{keyCode:_o.DOWN,action:Bs(Lle,t,!0)},{keyCode:_o.RIGHT,action:Bs(oN,t,r,!0)},{keyCode:_o.LEFT,action:Bs(oN,t,r,!1)},{keyCode:_o.RIGHT,ctrlKey:!u,altKey:u,action:Bs(X9,t,r)},{keyCode:_o.LEFT,ctrlKey:!u,altKey:u,action:Bs(KH,t,r)},{keyCode:_o.UP,action:Bs(IG,t,!1)},{keyCode:_o.DOWN,action:Bs(IG,t,!0)},...f?[{keyCode:_o.UP,action:Bs(OG,t,!1)},{keyCode:_o.DOWN,action:Bs(OG,t,!0)}]:[]],a).each(y=>{a.preventDefault()})},sq=(t,r)=>{t.on("keydown",a=>{a.isDefaultPrevented()||XC(t,r,a)})},pv=(t,r)=>({container:t,offset:r}),jR=Ai.DOM,XT=t=>r=>t===r?-1:0,JC=t=>r=>t.isBlock(r)||zt(["BR","IMG","HR","INPUT"],r.nodeName)||t.getContentEditable(r)==="false",CN=(t,r,a)=>{if(Un(t)&&r>=0)return _e.some(pv(t,r));{const u=tm(jR);return _e.from(u.backwards(t,r,XT(t),a)).map(f=>pv(f.container,f.container.data.length))}},mv=(t,r,a)=>{if(Un(t)&&r>=t.length)return _e.some(pv(t,r));{const u=tm(jR);return _e.from(u.forwards(t,r,XT(t),a)).map(f=>pv(f.container,0))}},rS=(t,r,a)=>{if(!Un(t))return _e.none();const u=t.data;if(r>=0&&r<=u.length)return _e.some(pv(t,r));{const f=tm(jR);return _e.from(f.backwards(t,r,XT(t),a)).bind(y=>{const A=y.container.data;return rS(y.container,r+A.length,a)})}},D$=(t,r,a)=>{if(!Un(t))return _e.none();const u=t.data;if(r<=u.length)return _e.some(pv(t,r));{const f=tm(jR);return _e.from(f.forwards(t,r,XT(t),a)).bind(y=>D$(y.container,r-u.length,a))}},WR=(t,r,a,u,f)=>{const y=tm(t,JC(t));return _e.from(y.backwards(r,a,u,f))},ace=t=>t.collapsed&&Un(t.startContainer),rq=t=>Q(t.toString().replace(/\u00A0/g," ")),iq=t=>t!==""&&`  \uFEFF\f
\r	\v`.indexOf(t)!==-1,lce=(t,r)=>t.substring(r.length),cce=(t,r,a,u=!1)=>{let f;const y=a.charAt(0);for(f=r-1;f>=0;f--){const A=t.charAt(f);if(!u&&iq(A))return _e.none();if(y===A&&na(t,a,f,r))break}return _e.some(f)},M$=(t,r,a,u=!1)=>{if(!ace(r))return _e.none();const f={text:"",offset:0},y=(M,H,Y)=>(f.text=Y+f.text,f.offset+=H,cce(f.text,f.offset,a,u).getOr(H)),A=t.getParent(r.startContainer,t.isBlock)||t.getRoot();return WR(t,r.startContainer,r.startOffset,y,A).bind(M=>{const H=r.cloneRange();if(H.setStart(M.container,M.offset),H.setEnd(r.endContainer,r.endOffset),H.collapsed)return _e.none();const Y=rq(H);return Y.lastIndexOf(a)!==0?_e.none():_e.some({text:lce(Y,a),range:H,trigger:a})})},uce=t=>t.nodeType===Cs,aq=t=>t.nodeType===Ys,lq=t=>{if(uce(t))return pv(t,t.data.length);{const r=t.childNodes;return r.length>0?lq(r[r.length-1]):pv(t,r.length)}},cq=(t,r)=>{const a=t.childNodes;return a.length>0&&r<a.length?cq(a[r],0):a.length>0&&aq(t)&&a.length===r?lq(a[a.length-1]):pv(t,r)},JT=(t,r)=>{var a;const u=(a=t.getParent(r.container,t.isBlock))!==null&&a!==void 0?a:t.getRoot();return WR(t,r.container,r.offset,(f,y)=>y===0?-1:y,u).filter(f=>{const y=f.container.data.charAt(f.offset-1);return!iq(y)}).isSome()},EN=t=>r=>{const a=cq(r.startContainer,r.startOffset);return!JT(t,a)},uq=(t,r,a)=>go(a.triggers,u=>M$(t,r,u)),dq=(t,r)=>{const a=r(),u=t.selection.getRng();return uq(t.dom,u,a).bind(f=>wN(t,r,f))},wN=(t,r,a,u={})=>{var f;const y=r(),M=(f=t.selection.getRng().startContainer.nodeValue)!==null&&f!==void 0?f:"",H=Ge(y.lookupByTrigger(a.trigger),ue=>a.text.length>=ue.minChars&&ue.matches.getOrThunk(()=>EN(t.dom))(a.range,M,a.text));if(H.length===0)return _e.none();const Y=Promise.all(fn(H,ue=>ue.fetch(a.text,ue.maxResults,u).then(Se=>({matchText:a.text,items:Se,columns:ue.columns,onAction:ue.onAction,highlightOn:ue.highlightOn}))));return _e.some({lookupData:Y,context:a})};var D0;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(D0||(D0={}));const P$=(t,r,a)=>t.stype===D0.Error?r(t.serror):a(t.svalue),dce=t=>{const r=[],a=[];return ct(t,u=>{P$(u,f=>a.push(f),f=>r.push(f))}),{values:r,errors:a}},hq=(t,r)=>t.stype===D0.Error?{stype:D0.Error,serror:r(t.serror)}:t,_N=(t,r)=>t.stype===D0.Value?{stype:D0.Value,svalue:r(t.svalue)}:t,fq=(t,r)=>t.stype===D0.Value?r(t.svalue):t,AN=(t,r)=>t.stype===D0.Error?r(t.serror):t,pq=t=>({stype:D0.Value,svalue:t}),N$=t=>({stype:D0.Error,serror:t}),Vf={fromResult:t=>t.fold(N$,pq),toResult:t=>P$(t,Wl.error,Wl.value),svalue:pq,partition:dce,serror:N$,bind:fq,bindError:AN,map:_N,mapError:hq,fold:P$},L$=t=>be(t)&&cn(t).length>100?" removed due to size":JSON.stringify(t,null,2),hce=t=>{const r=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:ot("... (only showing first ten failures)")}]):t;return fn(r,a=>"Failed path: ("+a.path.join(" > ")+`)
`+a.getErrorInfo())},mq=(t,r)=>Vf.serror([{path:t,getErrorInfo:r}]),gq=(t,r,a)=>mq(t,()=>'Could not find valid *required* value for "'+r+'" in '+L$(a)),GR=(t,r)=>mq(t,ot(r)),vq=t=>{const r=(u,f)=>Vf.bindError(t(f),y=>GR(u,y)),a=ot("val");return{extract:r,toString:a}},bq=vq(Vf.svalue),TN=ot(bq),xN=(t,r)=>vq(a=>{const u=typeof a;return t(a)?Vf.svalue(a):Vf.serror(`Expected type: ${r} but got: ${u}`)}),B$=xN(vt,"number"),ON=xN(ie,"string"),yq=xN(Re,"function"),V$=()=>({tag:"required",process:{}}),fce=t=>({tag:"defaultedThunk",process:t}),Sq=t=>fce(ot(t)),Cq=()=>({tag:"option",process:{}}),F$=(t,r,a,u)=>({tag:"field",key:t,newKey:r,presence:a,prop:u}),Eq=(t,r,a)=>{switch(t.tag){case"field":return r(t.key,t.newKey,t.presence,t.prop);case"custom":return a(t.newKey,t.instantiator)}},pce=(t,r)=>Vf.svalue(uh(r,Vh.apply(void 0,t))),qR=t=>te(Vf.serror,Rs)(t),_q={consolidateObj:(t,r)=>{const a=Vf.partition(t);return a.errors.length>0?qR(a.errors):pce(a.values,r)},consolidateArr:t=>{const r=Vf.partition(t);return r.errors.length>0?qR(r.errors):Vf.svalue(r.values)}},Aq=(t,r,a,u)=>dr(r,a).fold(()=>gq(t,a,r),u),H$=(t,r,a,u)=>{const f=dr(t,r).getOrThunk(()=>a(t));return u(f)},mce=(t,r,a)=>a(dr(t,r)),gce=(t,r,a,u)=>{const f=dr(t,r).map(y=>y===!0?a(t):y);return u(f)},vce=(t,r,a,u,f)=>{const y=M=>f.extract(r.concat([u]),M),A=M=>M.fold(()=>Vf.svalue(_e.none()),H=>{const Y=f.extract(r.concat([u]),H);return Vf.map(Y,_e.some)});switch(t.tag){case"required":return Aq(r,a,u,y);case"defaultedThunk":return H$(a,u,t.process,y);case"option":return mce(a,u,A);case"defaultedOptionThunk":return gce(a,u,t.process,A);case"mergeWithThunk":return H$(a,u,ot({}),M=>{const H=uh(t.process(a),M);return y(H)})}},bce=(t,r,a)=>{const u={},f=[];for(const y of a)Eq(y,(A,M,H,Y)=>{const ue=vce(H,t,r,A,Y);Vf.fold(ue,me=>{f.push(...me)},me=>{u[M]=me})},(A,M)=>{u[A]=M(r)});return f.length>0?Vf.serror(f):Vf.svalue(u)},ZR=t=>({extract:(u,f)=>bce(u,f,t),toString:()=>`obj{
`+fn(t,f=>Eq(f,(y,A,M,H)=>y+" -> "+H.toString(),(y,A)=>"state("+y+")")).join(`
`)+"}"}),yce=t=>({extract:(u,f)=>{const y=fn(f,(A,M)=>t.extract(u.concat(["["+M+"]"]),A));return _q.consolidateArr(y)},toString:()=>"array("+t.toString()+")"}),Sce=(t,r,a)=>{const u=r.extract([t],a);return Vf.mapError(u,f=>({input:a,errors:f}))},Tq=(t,r,a)=>Vf.toResult(Sce(t,r,a)),IN=t=>`Errors: 
`+hce(t.errors).join(`
`)+`

Input object: `+L$(t.input),QT=F$,Cce=t=>QT(t,t,V$(),TN()),$$=(t,r)=>QT(t,t,V$(),r),xq=t=>$$(t,ON),Oq=t=>$$(t,yq),Ece=t=>QT(t,t,Cq(),TN()),Iq=(t,r)=>QT(t,t,Cq(),r),Rq=t=>Iq(t,ON),wce=t=>Iq(t,yq),U$=(t,r)=>QT(t,t,Sq(r),TN()),kq=(t,r,a)=>QT(t,t,Sq(r),a),z$=(t,r)=>kq(t,r,B$),_ce=(t,r,a)=>kq(t,r,yce(a)),Ace=xq("type"),Tce=Oq("fetch"),xce=Oq("onAction"),Kc=t=>U$("columns",t),Oce=ZR([Ace,xq("trigger"),z$("minChars",1),Kc(1),z$("maxResults",10),wce("matches"),Tce,xce,_ce("highlightOn",[],ON)]),Ice=t=>Tq("Autocompleter",Oce,t),Rce=()=>{const t={},r={},a={},u={},f={},y={},A={},M={},H={},Y=(Oe,Ke)=>(Ze,We)=>{Oe[Ze.toLowerCase()]={...We,type:Ke}},ue=(Oe,Ke)=>(Ze,We)=>{Oe[Ze.toLowerCase()]={type:Ke,...We}},me=(Oe,Ke)=>u[Oe.toLowerCase()]=Ke,Se=(Oe,Ke)=>A[Oe.toLowerCase()]=Ke;return{addButton:Y(t,"button"),addGroupToolbarButton:Y(t,"grouptoolbarbutton"),addToggleButton:Y(t,"togglebutton"),addMenuButton:Y(t,"menubutton"),addSplitButton:Y(t,"splitbutton"),addMenuItem:Y(r,"menuitem"),addNestedMenuItem:Y(r,"nestedmenuitem"),addToggleMenuItem:Y(r,"togglemenuitem"),addAutocompleter:Y(a,"autocompleter"),addContextMenu:Y(f,"contextmenu"),addContextToolbar:Y(y,"contexttoolbar"),addContextForm:ue(y,"contextform"),addSidebar:Y(M,"sidebar"),addView:Y(H,"views"),addIcon:me,addContext:Se,getAll:()=>({buttons:t,menuItems:r,icons:u,popups:a,contextMenus:f,contextToolbars:y,sidebars:M,views:H,contexts:A})}},Dq=t=>{const r=t.ui.registry.getAll().popups,a=fs(r,A=>Ice(A).fold(M=>{throw new Error(IN(M))},Rt)),u=op(fa(a,A=>A.trigger)),f=ta(a);return{dataset:a,triggers:u,lookupByTrigger:A=>Ge(f,M=>M.trigger===A)}},j$=(t,r)=>{const a=Iu(r.load,50);t.on("input",u=>{u.inputType==="insertCompositionText"&&!t.composing||a.throttle()}),t.on("keydown",u=>{const f=u.which;f===8?a.throttle():f===27?(a.cancel(),r.cancelIfNecessary()):(f===38||f===40)&&a.cancel()},!0),t.on("remove",a.cancel)},Mq=t=>{const r=kc(),a=zo(!1),u=r.isSet,f=()=>{u()&&(pD(t),a.set(!1),r.clear())},y=me=>{u()||r.set({trigger:me.trigger,matchLength:me.text.length})},A=Dl(()=>Dq(t)),M=me=>r.get().map(Se=>M$(t.dom,t.selection.getRng(),Se.trigger,!0).bind(Oe=>wN(t,A,Oe,me))).getOrThunk(()=>dq(t,A)),H=me=>{M(me).fold(f,Se=>{y(Se.context),Se.lookupData.then(Oe=>{r.get().map(Ke=>{const Ze=Se.context;Ke.trigger===Ze.trigger&&(r.set({...Ke,matchLength:Ze.text.length}),a.get()?(ZO(t,{range:Ze.range}),$s(t,{lookupData:Oe})):(a.set(!0),ZO(t,{range:Ze.range}),_4(t,{lookupData:Oe})))})})})},Y=(me,Se)=>{const Oe=me.compareBoundaryPoints(window.Range.START_TO_START,Se),Ke=me.compareBoundaryPoints(window.Range.END_TO_END,Se);return Oe>=0&&Ke<=0},ue=()=>r.get().bind(({trigger:me})=>{const Se=t.selection.getRng();return M$(t.dom,Se,me,a.get()).filter(({range:Oe})=>Y(Se,Oe)).map(({range:Oe})=>Oe)});t.addCommand("mceAutocompleterReload",(me,Se)=>{const Oe=be(Se)?Se.fetchOptions:{};H(Oe)}),t.addCommand("mceAutocompleterClose",f),t.addCommand("mceAutocompleterRefreshActiveRange",()=>{ue().each(me=>{ZO(t,{range:me})})}),t.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>ue().isSome()),j$(t,{cancelIfNecessary:f,load:H})},kce=id().browser.isSafari(),Pq=t=>D(et.fromDom(t)),Nq=(t,r)=>{var a;return t.startOffset===0&&t.endOffset===((a=r.textContent)===null||a===void 0?void 0:a.length)},kN=(t,r)=>_e.from(t.getParent(r.container(),"details")),Lq=(t,r)=>kN(t,r).isSome(),Dce=(t,r)=>{const a=_e.from(t.getParent(r.startContainer,"details")),u=_e.from(t.getParent(r.endContainer,"details"));if(a.isSome()||u.isSome()){const f=a.bind(y=>_e.from(t.select("summary",y)[0]));return _e.some({startSummary:f,startDetails:a,endDetails:u})}else return _e.none()},Mce=(t,r)=>Kd(r).exists(a=>a.isEqual(t)),Pce=(t,r)=>og(r).exists(a=>ba(a.getNode())&&Ah(r,a).exists(u=>u.isEqual(t))||a.isEqual(t)),Nce=(t,r)=>r.startSummary.exists(a=>Mce(t,a)),Lce=(t,r)=>r.startSummary.exists(a=>Pce(t,a)),Bce=(t,r)=>r.startDetails.exists(a=>Ah(a,t).forall(u=>r.startSummary.exists(f=>!f.contains(t.container())&&f.contains(u.container())))),Vce=(t,r,a)=>a.startDetails.exists(u=>Zd(t,r).forall(f=>!u.contains(f.container()))),Bq=(t,r)=>{const a=r.getNode();tt(a)||t.selection.setCursorLocation(a,r.offset())},Vq=(t,r,a)=>{const u=t.dom.getParent(r.container(),"details");if(u&&!u.open){const f=t.dom.select("summary",u)[0];f&&(a?Kd(f):og(f)).each(A=>Bq(t,A))}else Bq(t,r)},Fq=(t,r)=>{const a=H=>H.contains(t.startContainer),u=H=>H.contains(t.endContainer),f=r.startSummary.exists(a),y=r.startSummary.exists(u),A=r.startDetails.forall(H=>r.endDetails.forall(Y=>H!==Y));return(f||y)&&!(f&&y)||A},W$=(t,r,a)=>{const{dom:u,selection:f}=t,y=t.getBody();if(a==="character"){const A=an.fromRangeStart(f.getRng()),M=u.getParent(A.container(),u.isBlock),H=kN(u,A),Y=M&&u.isEmpty(M),ue=F(M==null?void 0:M.previousSibling),me=F(M==null?void 0:M.nextSibling);return Y&&(r?me:ue)&&B1(!r,y,A).exists(Ke=>Lq(u,Ke)&&!Fh(H,kN(u,Ke)))?!0:B1(r,y,A).fold(qt,Se=>{const Oe=kN(u,Se);if(Lq(u,Se)&&!Fh(H,Oe)){if(r||Vq(t,Se,!1),M&&Y){if(r&&ue)return!0;if(!r&&me)return!0;Vq(t,Se,r),t.dom.remove(M)}return!0}else return!1})}else return!1},Hq=(t,r,a,u)=>{const y=t.selection.getRng(),A=an.fromRangeStart(y),M=t.getBody();return u==="selection"?Fq(y,r):a?Lce(A,r)||Vce(M,A,r):Nce(A,r)||Bce(A,r)},Fce=(t,r,a)=>Dce(t.dom,t.selection.getRng()).fold(()=>W$(t,r,a),u=>Hq(t,u,r,a)||W$(t,r,a)),Hce=(t,r,a)=>{const u=t.selection,f=u.getNode(),y=u.getRng(),A=an.fromRangeStart(y);return Ui(f)?(a==="selection"&&Nq(y,f)||Wj(r,A,f)?Pq(f):t.undoManager.transact(()=>{const M=u.getSel();let{anchorNode:H,anchorOffset:Y,focusNode:ue,focusOffset:me}=M??{};const Se=()=>{Ve(H)&&Ve(Y)&&Ve(ue)&&Ve(me)&&(M==null||M.setBaseAndExtent(H,Y,ue,me))},Oe=()=>{H=M==null?void 0:M.anchorNode,Y=M==null?void 0:M.anchorOffset,ue=M==null?void 0:M.focusNode,me=M==null?void 0:M.focusOffset},Ke=(We,Ct)=>{ct(We.childNodes,Et=>{Mw(Et)&&Ct.appendChild(Et)})},Ze=t.dom.create("span",{"data-mce-bogus":"1"});Ke(f,Ze),f.appendChild(Ze),Se(),(a==="word"||a==="line")&&(M==null||M.modify("extend",r?"right":"left",a)),!u.isCollapsed()&&Nq(u.getRng(),Ze)?Pq(f):(t.execCommand(r?"ForwardDelete":"Delete"),Oe(),Ke(Ze,f),Se()),t.dom.remove(Ze)}),!0):!1},p_=(t,r,a)=>Fce(t,r,a)||kce&&Hce(t,r,a)?_e.some(gt):_e.none(),$q=t=>(r,a,u={})=>{const f=r.getBody(),y={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:f,currentTarget:f,eventPhase:Event.AT_TARGET,originalTarget:f,explicitOriginalTarget:f,isTrusted:!1,srcElement:f,cancelable:!1,preventDefault:gt,inputType:a},A=dy(new InputEvent(t));return r.dispatch(t,{...A,...y,...u})},ex=$q("input"),DN=$q("beforeinput"),G$=id(),Uq=G$.os,q$=Uq.isMacOS()||Uq.isiOS(),Uce=G$.browser.isFirefox(),zce=(t,r,a)=>{const u=a.keyCode===_o.BACKSPACE?"deleteContentBackward":"deleteContentForward",f=t.selection.isCollapsed(),y=f?"character":"selection",A=M=>f?M?"word":"line":"selection";kG([{keyCode:_o.BACKSPACE,action:Bs(fG,t)},{keyCode:_o.BACKSPACE,action:Bs(RH,t,!1)},{keyCode:_o.DELETE,action:Bs(RH,t,!0)},{keyCode:_o.BACKSPACE,action:Bs(TH,t,!1)},{keyCode:_o.DELETE,action:Bs(TH,t,!0)},{keyCode:_o.BACKSPACE,action:Bs(XH,t,r,!1)},{keyCode:_o.DELETE,action:Bs(XH,t,r,!0)},{keyCode:_o.BACKSPACE,action:Bs(fV,t,!1)},{keyCode:_o.DELETE,action:Bs(fV,t,!0)},{keyCode:_o.BACKSPACE,action:Bs(p_,t,!1,y)},{keyCode:_o.DELETE,action:Bs(p_,t,!0,y)},...q$?[{keyCode:_o.BACKSPACE,altKey:!0,action:Bs(p_,t,!1,A(!0))},{keyCode:_o.DELETE,altKey:!0,action:Bs(p_,t,!0,A(!0))},{keyCode:_o.BACKSPACE,metaKey:!0,action:Bs(p_,t,!1,A(!1))}]:[{keyCode:_o.BACKSPACE,ctrlKey:!0,action:Bs(p_,t,!1,A(!0))},{keyCode:_o.DELETE,ctrlKey:!0,action:Bs(p_,t,!0,A(!0))}],{keyCode:_o.BACKSPACE,action:Bs(DH,t,!1)},{keyCode:_o.DELETE,action:Bs(DH,t,!0)},{keyCode:_o.BACKSPACE,action:Bs(n$,t,!1)},{keyCode:_o.DELETE,action:Bs(n$,t,!0)},{keyCode:_o.BACKSPACE,action:Bs(TR,t,!1)},{keyCode:_o.DELETE,action:Bs(TR,t,!0)},{keyCode:_o.BACKSPACE,action:Bs(ZP,t,!1)},{keyCode:_o.DELETE,action:Bs(ZP,t,!0)},{keyCode:_o.BACKSPACE,action:Bs(oS,t,!1)},{keyCode:_o.DELETE,action:Bs(oS,t,!0)},{keyCode:_o.BACKSPACE,action:Bs(kH,t,!1)},{keyCode:_o.DELETE,action:Bs(kH,t,!0)},{keyCode:_o.BACKSPACE,action:Bs(lN,t,!1)},{keyCode:_o.DELETE,action:Bs(lN,t,!0)}],a).filter(M=>t.selection.isEditable()).each(M=>{a.preventDefault(),DN(t,u).isDefaultPrevented()||(M(),ex(t,u))})},jce=(t,r,a,u)=>d_([{keyCode:_o.BACKSPACE,action:Bs(O9,t)},{keyCode:_o.DELETE,action:Bs(O9,t)},...q$?[{keyCode:_o.BACKSPACE,altKey:!0,action:Bs(MR,t)},{keyCode:_o.DELETE,altKey:!0,action:Bs(MR,t)},...a?[{keyCode:Uce?224:91,action:Bs(()=>(sG(t,u),MR(t)))}]:[]]:[{keyCode:_o.BACKSPACE,ctrlKey:!0,action:Bs(MR,t)},{keyCode:_o.DELETE,ctrlKey:!0,action:Bs(MR,t)}]],r),Wce=(t,r)=>{let a=!1,u=[];t.on("keydown",f=>{a=f.keyCode===_o.BACKSPACE,u=QH(t),f.isDefaultPrevented()||zce(t,r,f)}),t.on("keyup",f=>{f.isDefaultPrevented()||(jce(t,f,a,u),u.length=0),a=!1})},zq=(t,r)=>{const a=et.fromDom(t),u=et.fromDom(r),f=Cl("span"),y=at(Do,a),A=H=>sa(H)&&gl(H,"font-size").isSome(),M=[...A(u)?[u]:[],...ae(u,A,y)];ct(M.slice(1),H=>{Q0(H,"font-size"),ml(H,"data-mce-style"),f(H)&&Pv(H)&&Nu(H)})},Gce=t=>{for(;t;){if(No(t)||Un(t)&&t.data&&/[\r\n\s]/.test(t.data))return _e.from(et.fromDom(t));t=t.nextSibling}return _e.none()},tx=(t,r)=>{const a=t.dom,u=t.schema.getMoveCaretBeforeOnEnterElements();if(!r)return;if(/^(LI|DT|DD)$/.test(r.nodeName)){const y=H=>/^(ul|ol|dl)$/.test(Ms(H)),A=H=>y(H)?_e.from(H):Vv(H,y),M=H=>a.isEmpty(H.dom);Gce(r.firstChild).each(H=>{A(H).fold(()=>{if(M(H)){const Y=LG(H,0).element;sa(Y)&&!Df(Y)&&qr(Y,et.fromText(Bi))}},Y=>{Mc(Y,et.fromText(Bi))})})}const f=a.createRng();if(r.normalize(),r.hasChildNodes()){const y=new Ki(r,r);let A=r,M;for(;M=y.current();){if(Un(M)){f.setStart(M,0),f.setEnd(M,0);break}if(u[M.nodeName.toLowerCase()]){f.setStartBefore(M),f.setEndBefore(M);break}A=M,M=y.next()}M||(f.setStart(A,0),f.setEnd(A,0))}else ba(r)?r.nextSibling&&a.isBlock(r.nextSibling)?(f.setStartBefore(r),f.setEndBefore(r)):(f.setStartAfter(r),f.setEndAfter(r)):(f.setStart(r,0),f.setEnd(r,0));t.selection.setRng(f),BI(t,f)},nx=(t,r)=>{const a=t.getRoot();let u,f=r;for(;f!==a&&f&&t.getContentEditable(f)!=="false";){if(t.getContentEditable(f)==="true"){u=f;break}f=f.parentNode}return f!==a?u:a},Z$=t=>_e.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock)),qce=t=>Z$(t).fold(ot(""),r=>r.nodeName.toUpperCase()),jq=t=>Z$(t).filter(r=>eg(et.fromDom(r))).isSome(),K$=t=>{t.innerHTML='<br data-mce-bogus="1">'},Zce=(t,r,a)=>{const u=t.dom;_e.from(a.style).map(u.parseStyle).each(H=>{const ue={...Lm(et.fromDom(r)),...H};u.setStyles(r,ue)});const f=_e.from(a.class).map(H=>H.split(/\s+/)),y=_e.from(r.className).map(H=>Ge(H.split(/\s+/),Y=>Y!==""));Ar(f,y,(H,Y)=>{const ue=Ge(Y,Se=>!zt(H,Se)),me=[...H,...ue];u.setAttrib(r,"class",me.join(" "))});const A=["style","class"],M=Nr(a,(H,Y)=>!zt(A,Y));u.setAttribs(r,M)},KR=(t,r)=>{if(Wu(t).toLowerCase()===r.tagName.toLowerCase()){const u=pC(t);Zce(t,r,u)}},Y$=(t,r,a,u,f=!0,y,A)=>{const M=t.dom,H=t.schema,Y=Wu(t),ue=a?a.nodeName.toUpperCase():"";let me=r;const Se=H.getTextInlineElements();let Oe;y||ue==="TABLE"||ue==="HR"?Oe=M.create(y||Y,A||{}):Oe=a.cloneNode(!1);let Ke=Oe;if(!f)M.setAttrib(Oe,"style",null),M.setAttrib(Oe,"class",null);else{do if(Se[me.nodeName]){if(tf(me)||Nf(me))continue;const Ze=me.cloneNode(!1);M.setAttrib(Ze,"id",""),Oe.hasChildNodes()?(Ze.appendChild(Oe.firstChild),Oe.appendChild(Ze)):(Ke=Ze,Oe.appendChild(Ze))}while((me=me.parentNode)&&me!==u);zq(Oe,Ke)}return KR(t,Oe),K$(Ke),Oe},Wq=(t,r)=>t.dom.getParent(r,ry),Kce=(t,r,a)=>{let u=r;for(;u&&u!==t&&F(u.nextSibling);){const f=u.parentElement;if(!f||!a(f))return ry(f);u=f}return!1},Yce=(t,r,a)=>!r&&a.nodeName.toLowerCase()===Wu(t)&&t.dom.isEmpty(a)&&Kce(t.getBody(),a,u=>jo(t.schema.getTextBlockElements(),u.nodeName.toLowerCase())),Xce=(t,r,a)=>{var u,f,y;const A=r(Wu(t)),M=Wq(t,a);M&&(t.dom.insertAfter(A,M),tx(t,A),((y=(f=(u=a.parentElement)===null||u===void 0?void 0:u.childNodes)===null||f===void 0?void 0:f.length)!==null&&y!==void 0?y:0)>1&&t.dom.remove(a))},Jce=(t,r)=>t.firstChild&&t.firstChild.nodeName===r,Qce=t=>{var r;return((r=t.parentNode)===null||r===void 0?void 0:r.firstChild)===t},Gq=(t,r)=>{const a=t==null?void 0:t.parentNode;return Ve(a)&&a.nodeName===r},qq=t=>Ve(t)&&/^(OL|UL|LI)$/.test(t.nodeName),X$=t=>Ve(t)&&/^(LI|DT|DD)$/.test(t.nodeName),pSe=t=>qq(t)&&qq(t.parentNode),MN=t=>{const r=t.parentNode;return X$(r)?r:t},m_=(t,r,a)=>{let u=t[a?"firstChild":"lastChild"];for(;u&&!No(u);)u=u[a?"nextSibling":"previousSibling"];return u===r},J$=t=>On(fa(Lm(et.fromDom(t)),(r,a)=>`${a}: ${r};`),(r,a)=>r+a,""),Zq=(t,r,a,u,f)=>{const y=t.dom,A=t.selection.getRng(),M=a.parentNode;if(a===t.getBody()||!M)return;pSe(a)&&(f="LI");const H=X$(u)?J$(u):void 0;let Y=X$(u)&&H?r(f,{style:J$(u)}):r(f);if(m_(a,u,!0)&&m_(a,u,!1))if(Gq(a,"LI")){const ue=MN(a);y.insertAfter(Y,ue),Qce(a)?y.remove(ue):y.remove(a)}else y.replace(Y,a);else if(m_(a,u,!0))Gq(a,"LI")?(y.insertAfter(Y,MN(a)),Y.appendChild(y.doc.createTextNode(" ")),Y.appendChild(a)):M.insertBefore(Y,a),y.remove(u);else if(m_(a,u,!1))y.insertAfter(Y,MN(a)),y.remove(u);else{a=MN(a);const ue=A.cloneRange();ue.setStartAfter(u),ue.setEndAfter(a);const me=ue.extractContents();if(f==="LI"&&Jce(me,"LI")){const Se=Ge(fn(Y.children,et.fromDom),Cn(Cl("br")));Y=me.firstChild,y.insertAfter(me,a),ct(Se,Oe=>lp(et.fromDom(Y),Oe)),H&&Y.setAttribute("style",H)}else y.insertAfter(me,a),y.insertAfter(Y,a);y.remove(u)}tx(t,Y)},eue=t=>{ct(qe(et.fromDom(t),ti),r=>{const a=r.dom;a.nodeValue=Q(a.data)})},Kq=(t,r)=>{const a=t.dom.getParent(r,"ol,ul,dl");return a!==null&&t.dom.getContentEditableParent(a)==="false"},Yq=(t,r)=>r&&r.nodeName==="A"&&t.isEmpty(r),Q$=(t,r)=>t.nodeName===r||t.previousSibling&&t.previousSibling.nodeName===r,tue=(t,r)=>t.nodeName===r||t.nextSibling&&t.nextSibling.nodeName===r,eU=(t,r)=>Ve(r)&&t.isBlock(r)&&!/^(TD|TH|CAPTION|FORM)$/.test(r.nodeName)&&!/^(fixed|absolute)/i.test(r.style.position)&&t.isEditable(r.parentNode)&&t.getContentEditable(r)!=="false",Xq=(t,r,a)=>{var u;const f=[];if(!a)return;let y=a;for(;y=y.firstChild;){if(t.isBlock(y))return;No(y)&&!r[y.nodeName.toLowerCase()]&&f.push(y)}let A=f.length;for(;A--;)y=f[A],(!y.hasChildNodes()||y.firstChild===y.lastChild&&((u=y.firstChild)===null||u===void 0?void 0:u.nodeValue)===""||Yq(t,y))&&t.remove(y)},tU=(t,r,a)=>Un(r)?t?a===1&&r.data.charAt(a-1)===V?0:a:a===r.data.length-1&&r.data.charAt(a)===V?r.data.length:a:a,nU=t=>{const r=t.cloneRange();return r.setStart(t.startContainer,tU(!0,t.startContainer,t.startOffset)),r.setEnd(t.endContainer,tU(!1,t.endContainer,t.endOffset)),r},nue=t=>{let r=t;do Un(r)&&(r.data=r.data.replace(/^[\r\n]+/,"")),r=r.firstChild;while(r)},oue=(t,r,a,u,f)=>{var y,A;const M=t.dom,H=(y=nx(M,u))!==null&&y!==void 0?y:M.getRoot();let Y=M.getParent(u,M.isBlock);if(!Y||!eU(M,Y)){if(Y=Y||H,!Y.hasChildNodes()){const Oe=M.create(r);return KR(t,Oe),Y.appendChild(Oe),a.setStart(Oe,0),a.setEnd(Oe,0),Oe}let ue=u;for(;ue&&ue.parentNode!==Y;)ue=ue.parentNode;let me;for(;ue&&!M.isBlock(ue);)me=ue,ue=ue.previousSibling;const Se=(A=me==null?void 0:me.parentElement)===null||A===void 0?void 0:A.nodeName;if(me&&Se&&t.schema.isValidChild(Se,r.toLowerCase())){const Oe=me.parentNode,Ke=M.create(r);for(KR(t,Ke),Oe.insertBefore(Ke,me),ue=me;ue&&!M.isBlock(ue);){const Ze=ue.nextSibling;Ke.appendChild(ue),ue=Ze}a.setStart(u,f),a.setEnd(u,f)}}return u},sue=(t,r)=>{r.normalize();const a=r.lastChild;(!a||No(a)&&/^(left|right)$/gi.test(t.getStyle(a,"float",!0)))&&t.add(r,"br")},Jq=(t,r)=>{const a=Iz(t);return Xe(r)?!1:ie(a)?zt(Zn.explode(a),r.nodeName.toLowerCase()):a},Qq={insert:(t,r)=>{let a,u,f,y,A=!1;const M=t.dom,H=t.schema,Y=H.getNonEmptyElements(),ue=t.selection.getRng(),me=Wu(t),Se=et.fromDom(ue.startContainer),Oe=qh(Se,ue.startOffset),Ke=Oe.exists(Qe=>Wh(Qe)&&!Bu(Qe)),Ze=ue.collapsed&&Ke,We=(Qe,Xt)=>Y$(t,a,ho,In,I1(t),Qe,Xt),Ct=Qe=>{const Xt=tU(Qe,a,u);if(Un(a)&&(Qe?Xt>0:Xt<a.data.length))return!1;if((a.parentNode===ho||a===ho)&&A&&!Qe||Qe&&No(a)&&a===ho.firstChild)return!0;if(Q$(a,"TABLE")||Q$(a,"HR"))return tue(a,"BR")?!Qe:A&&!Qe||!A&&Qe;const qn=new Ki(a,ho);Un(a)&&(Qe&&Xt===0?qn.prev():!Qe&&Xt===a.data.length&&qn.next());let ss;for(;ss=qn.current();){if(No(ss)){if(!ss.getAttribute("data-mce-bogus")){const Gs=ss.nodeName.toLowerCase();if(Y[Gs]&&Gs!=="br")return!1}}else if(Un(ss)&&!Lg(ss.data))return!1;Qe?qn.prev():qn.next()}return!0},Et=()=>{let Qe;return/^(H[1-6]|PRE|FIGURE)$/.test(f)&&Kn!=="HGROUP"?Qe=We(me):Qe=We(),Jq(t,y)&&eU(M,y)&&M.isEmpty(ho,void 0,{includeZwsp:!0})?Qe=M.split(y,ho):M.insertAfter(Qe,ho),tx(t,Qe),Qe};pu(M,ue).each(Qe=>{ue.setStart(Qe.startContainer,Qe.startOffset),ue.setEnd(Qe.endContainer,Qe.endOffset)}),a=ue.startContainer,u=ue.startOffset;const Pt=!!(r&&r.shiftKey),Kt=!!(r&&r.ctrlKey);No(a)&&a.hasChildNodes()&&!Ze&&(A=u>a.childNodes.length-1,a=a.childNodes[Math.min(u,a.childNodes.length-1)]||a,A&&Un(a)?u=a.data.length:u=0);const In=nx(M,a);if(!In||Kq(t,a))return;Pt||(a=oue(t,me,ue,a,u));let ho=M.getParent(a,M.isBlock)||M.getRoot();y=Ve(ho==null?void 0:ho.parentNode)?M.getParent(ho.parentNode,M.isBlock):null,f=ho?ho.nodeName.toUpperCase():"";const Kn=y?y.nodeName.toUpperCase():"";if(Kn==="LI"&&!Kt){const Qe=y;ho=Qe,y=Qe.parentNode,f=Kn}if(No(y)&&Yce(t,Pt,ho))return Xce(t,We,ho);if(/^(LI|DT|DD)$/.test(f)&&No(y)&&M.isEmpty(ho)){Zq(t,We,y,ho,me);return}if(!Ze&&(ho===t.getBody()||!eU(M,ho)))return;const Sn=ho.parentNode;let Dt;if(Ze)Dt=We(me),Oe.fold(()=>{qr(Se,et.fromDom(Dt))},Qe=>{Mc(Qe,et.fromDom(Dt))}),t.selection.setCursorLocation(Dt,0);else if(ye(ho))Dt=Ft(ho),M.isEmpty(ho)&&K$(ho),KR(t,Dt),tx(t,Dt);else if(Ct(!1))Dt=Et();else if(Ct(!0)&&Sn){const Qe=an.fromRangeStart(ue),Xt=UB(Qe),qn=et.fromDom(ho),Gs=IM(qn,Qe,t.schema)?Cj(qn,Qe,t.schema).bind(Yr=>_e.from(Yr.getNode())):_e.none();Dt=Sn.insertBefore(We(),ho);const Or=Q$(ho,"HR")||Xt?Dt:Gs.getOr(ho);tx(t,Or)}else{const Qe=nU(ue).cloneRange();Qe.setEndAfter(ho);const Xt=Qe.extractContents();eue(Xt),nue(Xt),Dt=Xt.firstChild,ho===Dt?Ve(Sn)&&M.insertAfter(Xt,Sn):M.insertAfter(Xt,ho),Xq(M,Y,Dt),sue(M,ho),M.isEmpty(ho)&&K$(ho),Dt.normalize(),M.isEmpty(Dt)?(M.remove(Dt),Et()):(KR(t,Dt),tx(t,Dt))}M.setAttrib(Dt,"id",""),t.dispatch("NewBlock",{newBlock:Dt})},fakeEventName:"insertParagraph"},rue=(t,r,a)=>{const u=new Ki(r,a);let f;const y=t.getNonEmptyElements();for(;f=u.next();)if(y[f.nodeName.toLowerCase()]||Un(f)&&f.length>0)return!0;return!1},iue=(t,r,a)=>{const u=t.dom.createRng();a?(u.setStartBefore(r),u.setEndBefore(r)):(u.setStartAfter(r),u.setEndAfter(r)),t.selection.setRng(u),BI(t,u)},aue=(t,r)=>{const a=t.selection,u=t.dom,f=a.getRng();let y,A=!1;pu(u,f).each(Oe=>{f.setStart(Oe.startContainer,Oe.startOffset),f.setEnd(Oe.endContainer,Oe.endOffset)});let M=f.startOffset,H=f.startContainer;if(No(H)&&H.hasChildNodes()){const Oe=M>H.childNodes.length-1;H=H.childNodes[Math.min(M,H.childNodes.length-1)]||H,Oe&&Un(H)?M=H.data.length:M=0}let Y=u.getParent(H,u.isBlock);const ue=Y&&Y.parentNode?u.getParent(Y.parentNode,u.isBlock):null,me=ue?ue.nodeName.toUpperCase():"",Se=!!(r&&r.ctrlKey);me==="LI"&&!Se&&(Y=ue),Un(H)&&M>=H.data.length&&(rue(t.schema,H,Y||u.getRoot())||(y=u.create("br"),f.insertNode(y),f.setStartAfter(y),f.setEndAfter(y),A=!0)),y=u.create("br"),FA(u,f,y),iue(t,y,A),t.undoManager.add()},lue=(t,r)=>{const a=et.fromTag("br");Mc(et.fromDom(r),a),t.undoManager.add()},cue=(t,r)=>{due(t.getBody(),r)||mh(et.fromDom(r),et.fromTag("br"));const a=et.fromTag("br");mh(et.fromDom(r),a),iue(t,a.dom,!1),t.undoManager.add()},uue=t=>ba(t.getNode()),due=(t,r)=>uue(an.after(r))?!0:Zd(t,an.after(r)).map(a=>ba(a.getNode())).getOr(!1),oU=t=>t&&t.nodeName==="A"&&"href"in t,hue=t=>t.fold(qt,oU,oU,qt),sU=t=>{const r=at(Ay,t),a=an.fromRangeStart(t.selection.getRng());return tS(r,t.getBody(),a).filter(hue)},Ry=(t,r)=>{r.fold(gt,at(lue,t),at(cue,t),gt)},eZ={insert:(t,r)=>{const a=sU(t);a.isSome()?a.each(at(Ry,t)):aue(t,r)},fakeEventName:"insertLineBreak"},YR=(t,r)=>Z$(t).filter(a=>r.length>0&&fr(et.fromDom(a),r)).isSome(),rU=t=>YR(t,Wr(t)),tZ=t=>YR(t,nv(t)),Cm=td.generate([{br:[]},{block:[]},{none:[]}]),mue=(t,r)=>tZ(t),nZ=t=>(r,a)=>jq(r)===t,oZ=(t,r)=>(a,u)=>qce(a)===t.toUpperCase()===r,gue=t=>{const r=nx(t.dom,t.selection.getStart());return Xe(r)},XR=t=>oZ("pre",t),sZ=()=>oZ("summary",!0),PN=t=>(r,a)=>x4(r)===t,vue=(t,r)=>rU(t),iU=(t,r)=>r,aU=t=>{const r=Wu(t),a=nx(t.dom,t.selection.getStart());return Ve(a)&&t.schema.isValidChild(a.nodeName,r)},bue=t=>{const r=t.selection.getRng(),a=et.fromDom(r.startContainer),f=qh(a,r.startOffset).map(y=>Wh(y)&&!Bu(y));return r.collapsed&&f.getOr(!0)},gv=(t,r)=>(a,u)=>On(t,(y,A)=>y&&A(a,u),!0)?_e.some(r):_e.none(),yue=(t,r)=>P9([gv([mue],Cm.none()),gv([XR(!0),gue],Cm.none()),gv([sZ()],Cm.br()),gv([XR(!0),PN(!1),iU],Cm.br()),gv([XR(!0),PN(!1)],Cm.block()),gv([XR(!0),PN(!0),iU],Cm.block()),gv([XR(!0),PN(!0)],Cm.br()),gv([nZ(!0),iU],Cm.br()),gv([nZ(!0)],Cm.block()),gv([vue],Cm.br()),gv([iU],Cm.br()),gv([aU],Cm.block()),gv([bue],Cm.block())],[t,!!(r&&r.shiftKey)]).getOr(Cm.none()),NN=(t,r,a)=>{r.mode.isReadOnly()||(r.selection.isCollapsed()||zj(r),!(Ve(a)&&DN(r,t.fakeEventName).isDefaultPrevented())&&(t.insert(r,a),Ve(a)&&ex(r,t.fakeEventName)))},rZ=(t,r)=>{if(t.mode.isReadOnly())return;const a=()=>NN(eZ,t,r),u=()=>NN(Qq,t,r),f=yue(t,r);switch(O4(t)){case"linebreak":f.fold(a,a,gt);break;case"block":f.fold(u,u,gt);break;case"invert":f.fold(u,a,gt);break;default:f.fold(a,u,gt);break}},iZ=id(),Sue=iZ.os.isiOS()&&iZ.browser.isSafari(),aZ=(t,r)=>{r.isDefaultPrevented()||(r.preventDefault(),uP(t.undoManager),t.undoManager.transact(()=>{rZ(t,r)}))},LN=t=>{if(!t.collapsed)return!1;const r=t.startContainer;if(Un(r)){const a=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,u=r.data.charAt(t.startOffset-1);return a.test(u)}else return!1},Cue=t=>{let r=_e.none();const a=f=>{r=_e.some(f.selection.getBookmark()),f.undoManager.add()},u=(f,y)=>{f.undoManager.undo(),r.fold(gt,A=>f.selection.moveToBookmark(A)),aZ(f,y),r=_e.none()};t.on("keydown",f=>{f.keyCode===_o.ENTER&&(Sue&&LN(t.selection.getRng())?a(t):aZ(t,f))}),t.on("keyup",f=>{f.keyCode===_o.ENTER&&r.each(()=>u(t,f))})},Eue=(t,r,a)=>{const u=Tr.os.isMacOS()||Tr.os.isiOS();d_([{keyCode:_o.END,action:Bs(AG,t,!0)},{keyCode:_o.HOME,action:Bs(AG,t,!1)},...u?[]:[{keyCode:_o.HOME,action:Bs(fN,t,!1),ctrlKey:!0,shiftKey:!0},{keyCode:_o.END,action:Bs(fN,t,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:_o.END,action:Bs(MG,t,!0)},{keyCode:_o.HOME,action:Bs(MG,t,!1)},{keyCode:_o.END,action:Bs(DR,t,!0,r)},{keyCode:_o.HOME,action:Bs(DR,t,!1,r)}],a).each(f=>{a.preventDefault()})},lU=(t,r)=>{t.on("keydown",a=>{a.isDefaultPrevented()||Eue(t,r,a)})},cU=t=>{t.on("input",r=>{r.isComposing||MM(t)})},wue=id(),_ue=(t,r,a)=>{d_([{keyCode:_o.PAGE_UP,action:Bs(DR,t,!1,r)},{keyCode:_o.PAGE_DOWN,action:Bs(DR,t,!0,r)}],a)},uU=t=>t.stopImmediatePropagation(),lZ=t=>t.keyCode===_o.PAGE_UP||t.keyCode===_o.PAGE_DOWN,cZ=(t,r,a)=>{a&&!t.get()?r.on("NodeChange",uU,!0):!a&&t.get()&&r.off("NodeChange",uU),t.set(a)},Aue=(t,r)=>{if(wue.os.isMacOS())return;const a=zo(!1);t.on("keydown",u=>{lZ(u)&&cZ(a,t,!0)}),t.on("keyup",u=>{u.isDefaultPrevented()||_ue(t,r,u),lZ(u)&&a.get()&&(cZ(a,t,!1),t.nodeChanged())})},uZ=(t,r)=>t===r||t.contains(r),Tue=(t,r)=>!uZ(t.getBody(),r.startContainer)||!uZ(t.getBody(),r.endContainer)?!0:nj(t.dom,r),xue=t=>{t.on("beforeinput",r=>{(!t.selection.isEditable()||wn(r.getTargetRanges(),a=>!Tue(t,a)))&&r.preventDefault()})},dU=(t,r)=>{const a=r.container(),u=r.offset();return Un(a)?(a.insertData(u,t),_e.some(an(a,u+t.length))):yC(r).map(f=>{const y=et.fromText(t);return r.isAtEnd()?mh(f,y):Mc(f,y),an(y.dom,t.length)})},JR=at(dU,Bi),hU=at(dU," "),dZ=(t,r,a)=>xj(t,r,a)?JR(r):hU(r),Oue=t=>r=>r.fold(a=>Ah(t.dom,an.before(a)),a=>Kd(a),a=>og(a),a=>Zd(t.dom,an.after(a))),Iue=(t,r,a)=>u=>xj(t,u,a)?JR(r):hU(r),QR=t=>r=>{t.selection.setRng(r.toRange()),t.nodeChanged()},Rue=(t,r)=>t.isEditable(t.getParent(r,"summary")),hZ=t=>{const r=an.fromRangeStart(t.selection.getRng()),a=et.fromDom(t.getBody());if(t.selection.isCollapsed()){const u=at(Ay,t),f=an.fromRangeStart(t.selection.getRng());return tS(u,t.getBody(),f).bind(Oue(a)).map(y=>()=>Iue(a,r,t.schema)(y).each(QR(t)))}else return _e.none()},kue=t=>{const r=()=>{const a=et.fromDom(t.getBody());t.selection.isCollapsed()||t.getDoc().execCommand("Delete");const u=an.fromRangeStart(t.selection.getRng());dZ(a,u,t.schema).each(QR(t))};return Rc(Tr.browser.isFirefox()&&t.selection.isEditable()&&Rue(t.dom,t.selection.getRng().startContainer),r)},fZ=(t,r)=>{kG([{keyCode:_o.SPACEBAR,action:Bs(hZ,t)},{keyCode:_o.SPACEBAR,action:Bs(kue,t)}],r).each(a=>{r.preventDefault(),DN(t,"insertText",{data:" "}).isDefaultPrevented()||(a(),ex(t,"insertText",{data:" "}))})},Due=t=>{t.on("keydown",r=>{r.isDefaultPrevented()||fZ(t,r)})},Mue=t=>$4(t)?[{keyCode:_o.TAB,action:Bs(oq,t,!0)},{keyCode:_o.TAB,shiftKey:!0,action:Bs(oq,t,!1)}]:[],Pue=(t,r)=>{d_([...Mue(t)],r).each(a=>{r.preventDefault()})},Nue=t=>{t.on("keydown",r=>{r.isDefaultPrevented()||Pue(t,r)})},Lue=t=>{if(t.addShortcut("Meta+P","","mcePrint"),Mq(t),ig(t))return zo(null);{const r=kR(t);return xue(t),ble(t),sq(t,r),Wce(t,r),Cue(t),Due(t),cU(t),Nue(t),lU(t,r),Aue(t,r),r}},ox=(t,r)=>{const a=ER(t);a===null||_R(t,a)||t.undoManager.transact(()=>{be(r.styles)&&t.dom.setStyles(a,r.styles),be(r.attrs)&&Xn(r.attrs,(u,f)=>t.dom.setAttrib(a,f,u))})},fU=(t,r)=>()=>{const a=ER(t);return Ve(a)&&a.nodeName===r},Bue=t=>{t.addCommand("InsertUnorderedList",(r,a)=>{WP(t,"UL",a)}),t.addCommand("InsertOrderedList",(r,a)=>{WP(t,"OL",a)}),t.addCommand("InsertDefinitionList",(r,a)=>{WP(t,"DL",a)}),t.addCommand("RemoveList",()=>{AR(t)}),t.addCommand("mceListUpdate",(r,a)=>{be(a)&&ox(t,a)}),t.addCommand("mceListBackspaceDelete",(r,a)=>{CH(t,a)}),t.addQueryStateHandler("InsertUnorderedList",fU(t,"UL")),t.addQueryStateHandler("InsertOrderedList",fU(t,"OL")),t.addQueryStateHandler("InsertDefinitionList",fU(t,"DL"))},pZ=t=>{t.on("keydown",r=>{r.keyCode===_o.BACKSPACE?CH(t,!1)&&r.preventDefault():r.keyCode===_o.DELETE&&CH(t,!0)&&r.preventDefault()})},mZ=t=>t.type===3,gZ=t=>t.length===0,Vue=t=>{const r=(f,y)=>{const A=of.create("li");ct(f,M=>A.append(M)),y?t.insert(A,y,!0):t.append(A)},a=(f,y)=>mZ(y)?[...f,y]:!gZ(f)&&!mZ(y)?(r(f,y),[]):f,u=On(t.children(),a,[]);gZ(u)||r(u)},vZ=t=>{t.on("PreInit",()=>{const{parser:r}=t;r.addNodeFilter("ul,ol",a=>ct(a,Vue))})},Fue=t=>{t.on("keydown",r=>{r.keyCode!==_o.TAB||_o.metaKeyPressed(r)||t.undoManager.transact(()=>{(r.shiftKey?dH(t):d9(t))&&r.preventDefault()})})},Hue=t=>{W4(t)&&Fue(t)},vSe=t=>{pZ(t),Bue(t),vZ(t),Hue(t)};class BN{constructor(r){this.lastPath=[],this.editor=r;let a;const u=this;"onselectionchange"in r.getDoc()||r.on("NodeChange click mouseup keyup focus",f=>{const y=r.selection.getRng(),A={startContainer:y.startContainer,startOffset:y.startOffset,endContainer:y.endContainer,endOffset:y.endOffset};(f.type==="nodechange"||!wB(A,a))&&r.dispatch("SelectionChange"),a=A}),r.on("contextmenu",()=>{PI(r),r.dispatch("SelectionChange")}),r.on("SelectionChange",()=>{const f=r.selection.getStart(!0);f&&kw(r)&&!u.isSameElementPath(f)&&r.dom.isChildOf(f,r.getBody())&&r.nodeChanged({selectionChange:!0})}),r.on("mouseup",f=>{!f.isDefaultPrevented()&&kw(r)&&(r.selection.getNode().nodeName==="IMG"?lv.setEditorTimeout(r,()=>{r.nodeChanged()}):r.nodeChanged())})}nodeChanged(r={}){const a=this.editor,u=a.selection;let f;if(a.initialized&&u&&!xD(a)&&!Aw(a)){const y=a.getBody();f=u.getStart(!0)||y,(f.ownerDocument!==a.getDoc()||!a.dom.isChildOf(f,y))&&(f=y);const A=[];a.dom.getParent(f,M=>M===y?!0:(A.push(M),!1)),a.dispatch("NodeChange",{...r,element:f,parents:A})}}isSameElementPath(r){let a;const u=this.editor,f=Ks(u.dom.getParents(r,Tn,u.getBody()));if(f.length===this.lastPath.length){for(a=f.length;a>=0&&f[a]===this.lastPath[a];a--);if(a===-1)return this.lastPath=f,!0}return this.lastPath=f,!1}}const bZ="x-tinymce/html",VN=ot(bZ),pU="<!-- "+bZ+" -->",$ue=t=>pU+t,Uue=t=>t.replace(pU,""),yZ=t=>t.indexOf(pU)!==-1,zue=t=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(t),jue=(t,r)=>{let a="<"+t;const u=fa(r,(f,y)=>y+'="'+Gv.encodeAllRaw(f)+'"');return u.length&&(a+=" "+u.join(" ")),a+">"},Wue=(t,r,a)=>{const u=t.split(/\n\n/),f=jue(r,a),y="</"+r+">",A=fn(u,H=>H.split(/\n/).join("<br />")),M=H=>f+H+y;return A.length===1?A[0]:fn(A,M).join("")},SZ="%MCEPASTEBIN%",Gue=(t,r)=>{const{dom:a,selection:u}=t,f=t.getBody();r.set(u.getRng());const y=a.add(t.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},SZ);Tr.browser.isFirefox()&&a.setStyle(y,"left",a.getStyle(f,"direction",!0)==="rtl"?65535:-65535),a.bind(y,"beforedeactivate focusin focusout",A=>{A.stopPropagation()}),y.focus(),u.select(y,!0)},que=(t,r)=>{const a=t.dom;if(mU(t)){let u;const f=r.get();for(;u=mU(t);)a.remove(u),a.unbind(u);f&&t.selection.setRng(f)}r.set(null)},mU=t=>t.dom.get("mcepastebin"),Xi=t=>Ve(t)&&t.id==="mcepastebin",Zue=t=>{const r=t.dom,a=(A,M)=>{A.appendChild(M),r.remove(M,!0)},[u,...f]=Ge(t.getBody().childNodes,Xi);ct(f,A=>{a(u,A)});const y=r.select("div[id=mcepastebin]",u);for(let A=y.length-1;A>=0;A--){const M=r.create("div");u.insertBefore(M,y[A]),a(M,y[A])}return u?u.innerHTML:""},gU=t=>t===SZ,Kue=t=>{const r=zo(null);return{create:()=>Gue(t,r),remove:()=>que(t,r),getEl:()=>mU(t),getHtml:()=>Zue(t),getLastRng:r.get}},FN=(t,r)=>(Zn.each(r,a=>{le(a,RegExp)?t=t.replace(a,""):t=t.replace(a[0],a[1])}),t),CZ=t=>{const r=Rf(),a=Z1({},r);let u="";const f=r.getVoidElements(),y=Zn.makeMap("script noscript style textarea video audio iframe object"," "),A=r.getBlockElements(),M=H=>{const Y=H.name,ue=H;if(Y==="br"){u+=`
`;return}if(Y!=="wbr"){if(f[Y]&&(u+=" "),y[Y]){u+=" ";return}if(H.type===3&&(u+=H.value),!(H.name in r.getVoidElements())){let me=H.firstChild;if(me)do M(me);while(me=me.next)}A[Y]&&ue.next&&(u+=`
`,Y==="p"&&(u+=`
`))}};return t=FN(t,[/<!\[[^\]]+\]>/g]),M(a.parse(t)),u},EZ=t=>(t=FN(t,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(a,u,f)=>!u&&!f?" ":Bi],/<br class="Apple-interchange-newline">/g,/<br>$/i]),t),Yue=t=>{let r=0;return()=>t+r++},Xue=t=>{const r=t.toLowerCase(),a={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Zn.hasOwn(a,r)?"image/"+a[r]:"image/"+r},wZ=(t,r)=>{const a=Z1({sanitize:lI(t),sandbox_iframes:nT(t),sandbox_iframes_exclusions:ww(t),convert_unsafe_embeds:uI(t)},t.schema);a.addNodeFilter("meta",f=>{Zn.each(f,y=>{y.remove()})});const u=a.parse(r,{forced_root_block:!1,isRootContent:!0});return TC({validate:!0},t.schema).serialize(u)},e2=(t,r)=>({content:t,cancelled:r}),Jue=(t,r,a)=>{const u=t.dom.create("div",{style:"display:none"},r),f=A4(t,u,a);return e2(f.node.innerHTML,f.isDefaultPrevented())},Que=(t,r,a)=>{const u=xz(t,r,a),f=wZ(t,u.content);return t.hasEventListeners("PastePostProcess")&&!u.isDefaultPrevented()?Jue(t,f,a):e2(f,u.isDefaultPrevented())},vU=(t,r,a)=>Que(t,r,a),bU=(t,r)=>(t.insertContent(r,{merge:L4(t),paste:!0}),!0),yU=t=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(t),ede=(t,r)=>yU(r)&&wn(FD(t),a=>Wi(r.toLowerCase(),`.${a.toLowerCase()}`)),tde=(t,r,a)=>(t.undoManager.extra(()=>{a(t,r)},()=>{t.insertContent('<img src="'+r+'">')}),!0),_Z=(t,r,a)=>(t.undoManager.extra(()=>{a(t,r)},()=>{t.execCommand("mceInsertLink",!1,r)}),!0),nde=(t,r,a)=>!t.selection.isCollapsed()&&yU(r)?_Z(t,r,a):!1,ode=(t,r,a)=>ede(t,r)?tde(t,r,a):!1,AZ=(t,r)=>{Zn.each([nde,ode,bU],a=>!a(t,r,bU))},sde=(t,r,a)=>{a||!ND(t)?bU(t,r):AZ(t,r)},rde=Yue("mceclip"),ide=t=>{const r=E$();return w$(r,t),gN(r),r},t2=(t,r,a,u,f)=>{const y=vU(t,r,a);if(!y.cancelled){const A=y.content,M=()=>sde(t,A,u);f?DN(t,"insertFromPaste",{dataTransfer:ide(A)}).isDefaultPrevented()||(M(),ex(t,"insertFromPaste")):M()}},HN=(t,r,a,u)=>{const f=a||yZ(r);t2(t,Uue(r),f,!1,u)},$N=(t,r,a)=>{const u=t.dom.encode(r).replace(/\r\n/g,`
`),f=jp(u,rI(t)),y=Wue(f,Wu(t),pC(t));t2(t,y,!1,!0,a)},TZ=t=>{const r={};if(t&&t.types)for(let a=0;a<t.types.length;a++){const u=t.types[a];try{r[u]=t.getData(u)}catch{r[u]=""}}return r},ky=(t,r)=>r in t&&t[r].length>0,xZ=t=>ky(t,"text/html")||ky(t,"text/plain"),OZ=(t,r)=>{const a=r.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Ve(a)?t.dom.encode(a[1]):void 0},ade=(t,r,a,u)=>{const f=rde(),y=Kr(t)&&Ve(a.name),A=y?OZ(t,a.name):f,M=y?a.name:void 0,H=r.create(f,a,u,A,M);return r.add(H),H},lde=(t,r)=>{FV(r.uri).each(({data:a,type:u,base64Encoded:f})=>{const y=f?a:btoa(a),A=r.file,M=t.editorUpload.blobCache,H=M.getByData(y,u),Y=H??ade(t,M,A,y);HN(t,`<img src="${Y.blobUri()}">`,!1,!0)})},cde=t=>t.type==="paste",ude=t=>Promise.all(fn(t,r=>$V(r).then(a=>({file:r,uri:a})))),IZ=t=>{const r=FD(t);return a=>Ss(a.type,"image/")&&wn(r,u=>Xue(u)===a.type)},dde=(t,r)=>{const a=r.items?Ao(to(r.items),f=>f.kind==="file"?[f.getAsFile()]:[]):[],u=r.files?to(r.files):[];return Ge(a.length>0?a:u,IZ(t))},SU=(t,r,a)=>{const u=cde(r)?r.clipboardData:r.dataTransfer;if(M1(t)&&u){const f=dde(t,u);if(f.length>0)return r.preventDefault(),ude(f).then(y=>{a&&t.selection.setRng(a),ct(y,A=>{lde(t,A)})}),!0}return!1},UN=t=>{var r,a;return Tr.os.isAndroid()&&((a=(r=t.clipboardData)===null||r===void 0?void 0:r.items)===null||a===void 0?void 0:a.length)===0},CU=t=>_o.metaKeyPressed(t)&&t.keyCode===86||t.shiftKey&&t.keyCode===45,n2=(t,r,a,u,f)=>{let y=EZ(a);const A=ky(r,VN())||yZ(a),M=!A&&zue(y),H=yU(y);(gU(y)||!y.length||M&&!H)&&(u=!0),(u||H)&&(ky(r,"text/plain")&&M?y=r["text/plain"]:y=CZ(y)),!gU(y)&&(u?$N(t,y,f):HN(t,y,A,f))},hde=(t,r,a)=>{let u;const f=()=>r.getLastRng()||t.selection.getRng();t.on("keydown",y=>{CU(y)&&!y.isDefaultPrevented()&&(u=y.shiftKey&&y.keyCode===86)}),t.on("paste",y=>{if(y.isDefaultPrevented()||UN(y))return;const A=a.get()==="text"||u;u=!1;const M=TZ(y.clipboardData);!xZ(M)&&SU(t,y,f())||(ky(M,"text/html")?(y.preventDefault(),n2(t,M,M["text/html"],A,!0)):ky(M,"text/plain")&&ky(M,"text/uri-list")?(y.preventDefault(),n2(t,M,M["text/plain"],A,!0)):(r.create(),lv.setEditorTimeout(t,()=>{const H=r.getHtml();r.remove(),n2(t,M,H,A,!1)},0)))})},fde=t=>{const r=f=>Ss(f,"webkit-fake-url"),a=f=>Ss(f,"data:"),u=f=>{var y;return((y=f.data)===null||y===void 0?void 0:y.paste)===!0};t.parser.addNodeFilter("img",(f,y,A)=>{if(!M1(t)&&u(A))for(const M of f){const H=M.attr("src");ie(H)&&!M.attr("data-mce-object")&&H!==Tr.transparentSrc&&(r(H)||!tT(t)&&a(H))&&M.remove()}})},sx=(t,r,a)=>{hde(t,r,a),fde(t)},pde=(t,r)=>{r.get()==="text"?(r.set("html"),mD(t,!1)):(r.set("text"),mD(t,!0)),t.focus()},rx=(t,r)=>{t.addCommand("mceTogglePlainTextPaste",()=>{pde(t,r)}),t.addCommand("mceInsertClipboardContent",(a,u)=>{u.html&&HN(t,u.html,u.internal,!1),u.text&&$N(t,u.text,!1)})},o2=(t,r,a)=>{if(t)try{return t.clearData(),t.setData("text/html",r),t.setData("text/plain",a),t.setData(VN(),r),!0}catch{return!1}else return!1},RZ=(t,r,a,u)=>{o2(t.clipboardData,r.html,r.text)?(t.preventDefault(),u()):a(r.html,u)},kZ=t=>(r,a)=>{const{dom:u,selection:f}=t,y=u.create("div",{contenteditable:"false","data-mce-bogus":"all"}),A=u.create("div",{contenteditable:"true"},r);u.setStyles(y,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),y.appendChild(A),u.add(t.getBody(),y);const M=f.getRng();A.focus();const H=u.createRng();H.selectNodeContents(A),f.setRng(H),lv.setEditorTimeout(t,()=>{f.setRng(M),u.remove(y),a()},0)},g_=t=>({html:$ue(t.selection.getContent({contextual:!0})),text:t.selection.getContent({format:"text"})}),mde=t=>!!t.dom.getParent(t.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",t.getBody()),zN=t=>!t.selection.isCollapsed()||mde(t),gde=(t,r)=>a=>{!a.isDefaultPrevented()&&zN(t)&&t.selection.isEditable()&&RZ(a,g_(t),kZ(t),()=>{if(Tr.browser.isChromium()||Tr.browser.isFirefox()){const u=t.selection.getRng();lv.setEditorTimeout(t,()=>{t.selection.setRng(u),a$(t,r)},0)}else a$(t,r)})},DZ=t=>r=>{!r.isDefaultPrevented()&&zN(t)&&RZ(r,g_(t),kZ(t),gt)},MZ=(t,r)=>{t.on("cut",gde(t,r)),t.on("copy",DZ(t))},jN=(t,r)=>{var a,u;return _0.getCaretRangeFromPoint((a=r.clientX)!==null&&a!==void 0?a:0,(u=r.clientY)!==null&&u!==void 0?u:0,t.getDoc())},PZ=t=>{const r=t["text/plain"];return r?r.indexOf("file://")===0:!1},NZ=(t,r)=>{t.focus(),r&&t.selection.setRng(r)},vde=t=>wn(t.files,r=>/^image\//.test(r.type)),LZ=(t,r,a,u)=>{const f=t.getParent(a,A=>kn(r,A));if(!F(t.getParent(a,"summary")))return!0;if(f&&jo(u,"text/html")){const A=new DOMParser().parseFromString(u["text/html"],"text/html").body;return!F(A.querySelector(f.nodeName.toLowerCase()))}else return!1},bde=t=>{t.on("input",r=>{const a=u=>F(u.querySelector("summary"));if(r.inputType==="deleteByDrag"){const u=Ge(t.dom.select("details"),a);ct(u,f=>{ba(f.firstChild)&&f.firstChild.remove();const y=t.dom.create("summary");y.appendChild(I().dom),f.prepend(y)})}})},BZ=(t,r)=>{D1(t)&&t.on("dragend dragover draggesture dragdrop drop drag",a=>{a.preventDefault(),a.stopPropagation()}),M1(t)||t.on("drop",a=>{const u=a.dataTransfer;u&&vde(u)&&a.preventDefault()}),t.on("drop",a=>{if(a.isDefaultPrevented())return;const u=jN(t,a);if(Xe(u))return;const f=TZ(a.dataTransfer),y=ky(f,VN());if((!xZ(f)||PZ(f))&&SU(t,a,u))return;const A=f[VN()],M=A||f["text/html"]||f["text/plain"],H=LZ(t.dom,t.schema,u.startContainer,f),Y=r.get();Y&&!H||M&&(a.preventDefault(),lv.setEditorTimeout(t,()=>{t.undoManager.transact(()=>{(A||Y&&H)&&t.execCommand("Delete"),NZ(t,u);const ue=EZ(M);f["text/html"]?HN(t,ue,y,!0):$N(t,ue,!0)})}))}),t.on("dragstart",a=>{r.set(!0)}),t.on("dragover dragend",a=>{M1(t)&&!r.get()&&(a.preventDefault(),NZ(t,jN(t,a))),a.type==="dragend"&&r.set(!1)}),bde(t)},EU=t=>{const r=f=>y=>{f(t,y)},a=kD(t);Re(a)&&t.on("PastePreProcess",r(a));const u=DD(t);Re(u)&&t.on("PastePostProcess",r(u))},VZ=(t,r)=>{t.on("PastePreProcess",a=>{a.content=r(t,a.content,a.internal)})},yde=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,FZ=t=>Zn.trim(t).replace(yde,u0).toLowerCase(),Sde=(t,r,a)=>{const u=QA(t);if(a||u==="all"||!PD(t))return r;const f=u?u.split(/[, ]/):[];if(f&&u!=="none"){const y=t.dom,A=t.selection.getNode();r=r.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(M,H,Y,ue)=>{const me=y.parseStyle(y.decode(Y)),Se={};for(let Ke=0;Ke<f.length;Ke++){const Ze=me[f[Ke]];let We=Ze,Ct=y.getStyle(A,f[Ke],!0);/color/.test(f[Ke])&&(We=FZ(We),Ct=FZ(Ct)),Ct!==We&&(Se[f[Ke]]=Ze)}const Oe=y.serializeStyle(Se,"span");return Oe?H+' style="'+Oe+'"'+ue:H+ue})}else r=r.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return r=r.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(y,A,M,H)=>A+' style="'+M+'"'+H),r},HZ=t=>{(Tr.browser.isChromium()||Tr.browser.isSafari())&&VZ(t,Sde)},wU=(t,r)=>{const a=zo(!1),u=zo(eT(t)?"text":"html"),f=Kue(t);HZ(t),rx(t,u),EU(t),t.addQueryStateHandler("mceTogglePlainTextPaste",()=>u.get()==="text"),t.on("PreInit",()=>{MZ(t,r),BZ(t,a),sx(t,f,u)})},Cde=t=>{t.on("click",r=>{t.dom.getParent(r.target,"details")&&r.preventDefault()})},$Z=t=>{t.parser.addNodeFilter("details",r=>{const a=U4(t);ct(r,u=>{a==="expanded"?u.attr("open","open"):a==="collapsed"&&u.attr("open",null)})}),t.serializer.addNodeFilter("details",r=>{const a=z4(t);ct(r,u=>{a==="expanded"?u.attr("open","open"):a==="collapsed"&&u.attr("open",null)})})},UZ=t=>{Cde(t),$Z(t)},Ede=ba,_U=Un,wde=t=>di(t.dom),_de=t=>cu(t.dom),s2=t=>r=>Do(et.fromDom(t),r),Ade=(t,r,a)=>Ii(et.fromDom(t),u=>_de(u)||a.isBlock(Ms(u)),s2(r)).getOr(et.fromDom(r)).dom,zZ=(t,r)=>Ii(et.fromDom(t),wde,s2(r)),AU=(t,r,a)=>{const u=new Ki(t,r),f=a?u.next.bind(u):u.prev.bind(u);let y=t;for(let A=a?t:f();A&&!Ede(A);A=f())zi(A)&&(y=A);return y},jZ=(t,r,a)=>{const f=an.fromRangeStart(t).getNode(),y=Ade(f,r,a),A=AU(f,y,!1),M=AU(f,y,!0),H=document.createRange();return zZ(A,y).fold(()=>{_U(A)?H.setStart(A,0):H.setStartBefore(A)},Y=>H.setStartBefore(Y.dom)),zZ(M,y).fold(()=>{_U(M)?H.setEnd(M,M.data.length):H.setEndAfter(M)},Y=>H.setEndAfter(Y.dom)),H},Tde=t=>{const r=jZ(t.selection.getRng(),t.getBody(),t.schema);t.selection.setRng(zM(r))},xde=t=>{t.on("mousedown",r=>{r.detail>=3&&(r.preventDefault(),Tde(t))})};var ix;(function(t){t.Before="before",t.After="after"})(ix||(ix={}));const Ode=(t,r)=>Math.abs(t.left-r),Ide=(t,r)=>Math.abs(t.right-r),WZ=(t,r)=>t>=r.top&&t<=r.bottom,Rde=(t,r)=>t.top<r.bottom&&t.bottom>r.top,kde=(t,r)=>{const a=Di(t,r)/Math.min(t.height,r.height);return Rde(t,r)&&a>.5},Dde=(t,r)=>{const a=Ge(t,u=>WZ(r,u));return or(a).fold(()=>[[],t],u=>{const{pass:f,fail:y}=Yt(t,A=>kde(A,u));return[f,y]})},Mde=(t,r)=>({node:t.node,position:Ode(t,r)<Ide(t,r)?ix.Before:ix.After}),Pde=(t,r,a)=>r>t.left&&r<t.right?0:Math.min(Math.abs(t.left-r),Math.abs(t.right-r)),TU=(t,r,a,u)=>{const f=me=>zi(me.node)?_e.some(me):No(me.node)?TU(to(me.node.childNodes),r,a,!1):_e.none(),y=(me,Se,Oe)=>f(Se).filter(Ke=>Math.abs(Oe(me,r,a)-Oe(Ke,r,a))<2&&Un(Ke.node)),A=(me,Se)=>{const Oe=At(me,(Ke,Ze)=>Se(Ke,r,a)-Se(Ze,r,a));return go(Oe,f).map(Ke=>u&&!Un(Ke.node)&&Oe.length>1?y(Ke,Oe[1],Se).getOr(Ke):Ke)},[M,H]=Dde(l_(t),a),{pass:Y,fail:ue}=Yt(H,me=>me.top<a);return A(M,Pde).orThunk(()=>A(ue,jr)).orThunk(()=>A(Y,jr))},Nde=(t,r,a,u)=>{const f=(y,A)=>{const M=Y=>No(Y)&&Y.classList.contains("mce-drag-container"),H=Ge(y.dom.childNodes,Cn(M));return A.fold(()=>TU(H,a,u,!0),Y=>{const ue=Ge(H,me=>me!==Y.dom);return TU(ue,a,u,!0)}).orThunk(()=>(Do(y,t)?_e.none():Du(y)).bind(ue=>f(ue,_e.some(y))))};return f(r,_e.none())},Lde=(t,r,a)=>{const u=et.fromDom(t),f=iu(u),A=et.fromPoint(f,r,a).filter(M=>ei(u,M)).getOr(u);return Nde(u,A,r,a)},xU=(t,r,a)=>Lde(t,r,a).filter(u=>Tw(u.node)).map(u=>Mde(u,r)),OU=t=>{var r,a;const u=t.getBoundingClientRect(),f=t.ownerDocument,y=f.documentElement,A=f.defaultView;return{top:u.top+((r=A==null?void 0:A.scrollY)!==null&&r!==void 0?r:0)-y.clientTop,left:u.left+((a=A==null?void 0:A.scrollX)!==null&&a!==void 0?a:0)-y.clientLeft}},Bde=t=>t.inline?OU(t.getBody()):{left:0,top:0},Vde=t=>{const r=t.getBody();return t.inline?{left:r.scrollLeft,top:r.scrollTop}:{left:0,top:0}},Fde=t=>{const r=t.getBody(),a=t.getDoc().documentElement,u={left:r.scrollLeft,top:r.scrollTop},f={left:r.scrollLeft||a.scrollLeft,top:r.scrollTop||a.scrollTop};return t.inline?u:f},r2=(t,r)=>{if(r.target.ownerDocument!==t.getDoc()){const a=OU(t.getContentAreaContainer()),u=Fde(t);return{left:r.pageX-a.left+u.left,top:r.pageY-a.top+u.top}}return{left:r.pageX,top:r.pageY}},Hde=(t,r,a)=>({pageX:a.left-t.left+r.left,pageY:a.top-t.top+r.top}),$de=(t,r)=>Hde(Bde(t),Vde(t),r2(t,r)),IU=t=>({target:t,srcElement:t}),Ude=(t,r,a,u)=>({...r,dataTransfer:u,type:t,...IU(a)}),zde=(t,r,a)=>{const u=Ro("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:t,composedPath:u,initEvent:u,preventDefault:gt,stopImmediatePropagation:gt,stopPropagation:gt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,layerX:0,layerY:0,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:u,initMouseEvent:u,getModifierState:u,dataTransfer:a,...IU(r)}},jde=(t,r)=>{const a=Kle(t);return r==="dragstart"?(FG(a),C$(a)):r==="drop"?(zle(a),gN(a)):(f_(a),UG(a)),a},Wde=(t,r,a,u)=>{const f=jde(a,t);return tt(u)?zde(t,r,f):Ude(t,u,r,f)},WN=32,GN=100,i2=8,a2=16,GZ=di,Gde=ir(GZ,cu),qde=(t,r,a)=>GZ(a)&&a!==r&&t.isEditable(a.parentElement),bSe=(t,r,a)=>Xe(r)||r===a||t.dom.isChildOf(r,a)?!1:t.dom.isEditable(r),Zde=(t,r,a,u)=>{const f=t.dom,y=r.cloneNode(!0);f.setStyles(y,{width:a,height:u}),f.setAttrib(y,"data-mce-selected",null);const A=f.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return f.setStyles(A,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:a,height:u}),f.setStyles(y,{margin:0,boxSizing:"border-box"}),A.appendChild(y),A},Kde=(t,r)=>{t.parentNode!==r&&r.appendChild(t)},ax=(t,r)=>a=>()=>{const u=t==="left"?a.scrollX:a.scrollY;a.scroll({[t]:u+r,behavior:"smooth"})},l2=ax("left",-WN),qZ=ax("left",WN),ZZ=ax("top",-WN),KZ=ax("top",WN),YZ=(t,r,a,u,f,y,A,M,H,Y,ue,me)=>{let Se=0,Oe=0;t.style.left=r.pageX+"px",t.style.top=r.pageY+"px",r.pageX+a>f&&(Se=r.pageX+a-f),r.pageY+u>y&&(Oe=r.pageY+u-y),t.style.width=a-Se+"px",t.style.height=u-Oe+"px";const Ke=H.clientHeight,Ze=H.clientWidth,We=A+H.getBoundingClientRect().top,Ct=M+H.getBoundingClientRect().left;ue.on(Et=>{Et.intervalId.clear(),Et.dragging&&me&&(A+i2>=Ke?Et.intervalId.set(KZ(Y)):A-i2<=0?Et.intervalId.set(ZZ(Y)):M+i2>=Ze?Et.intervalId.set(qZ(Y)):M-i2<=0?Et.intervalId.set(l2(Y)):We+a2>=window.innerHeight?Et.intervalId.set(KZ(window)):We-a2<=0?Et.intervalId.set(ZZ(window)):Ct+a2>=window.innerWidth?Et.intervalId.set(qZ(window)):Ct-a2<=0&&Et.intervalId.set(l2(window)))})},XZ=t=>{t&&t.parentNode&&t.parentNode.removeChild(t)},RU=(t,r)=>{const a=t.getParent(r.parentNode,t.isBlock);XZ(r),a&&a!==t.getRoot()&&t.isEmpty(a)&&D(et.fromDom(a))},JZ=t=>t.button===0,Yde=(t,r)=>({pageX:r.pageX-t.relX,pageY:r.pageY+5}),Xde=(t,r)=>a=>{if(JZ(a)){const u=$t(r.dom.getParents(a.target),Gde).getOr(null);if(Ve(u)&&qde(r.dom,r.getBody(),u)){const f=r.dom.getPos(u),y=r.getBody(),A=r.getDoc().documentElement;t.set({element:u,dataTransfer:E$(),dragging:!1,screenX:a.screenX,screenY:a.screenY,maxX:(r.inline?y.scrollWidth:A.offsetWidth)-2,maxY:(r.inline?y.scrollHeight:A.offsetHeight)-2,relX:a.pageX-f.x,relY:a.pageY-f.y,width:u.offsetWidth,height:u.offsetHeight,ghost:Zde(r,u,u.offsetWidth,u.offsetHeight),intervalId:km(GN)})}}},QZ=(t,r,a)=>{t._selectionOverrides.hideFakeCaret(),xU(t.getBody(),r,a).fold(()=>t.selection.placeCaretAt(r,a),u=>{const f=t._selectionOverrides.showCaret(1,u.node,u.position===ix.Before,!1);f?t.selection.setRng(f):t.selection.placeCaretAt(r,a)})},c2=(t,r,a,u,f)=>{r==="dragstart"&&w$(u,t.dom.getOuterHTML(a));const y=Wde(r,a,u,f);return t.dispatch(r,y)},ySe=(t,r)=>{const a=vo((f,y)=>QZ(r,f,y),0);r.on("remove",a.cancel);const u=t;return f=>t.on(y=>{const A=Math.max(Math.abs(f.screenX-y.screenX),Math.abs(f.screenY-y.screenY));if(!y.dragging&&A>10){const M=c2(r,"dragstart",y.element,y.dataTransfer,f);if(Ve(M.dataTransfer)&&(y.dataTransfer=M.dataTransfer),M.isDefaultPrevented())return;y.dragging=!0,r.focus()}if(y.dragging){const M=f.currentTarget===r.getDoc().documentElement,H=Yde(y,$de(r,f));Kde(y.ghost,r.getBody()),YZ(y.ghost,H,y.width,y.height,y.maxX,y.maxY,f.clientY,f.clientX,r.getContentAreaContainer(),r.getWin(),u,M),a.throttle(f.clientX,f.clientY)}})},Jde=t=>{const r=t.getSel();if(Ve(r)){const u=r.getRangeAt(0).startContainer;return Un(u)?u.parentNode:u}else return null},Qde=(t,r)=>a=>{t.on(u=>{var f;if(u.intervalId.clear(),u.dragging){if(bSe(r,Jde(r.selection),u.element)){const y=(f=r.getDoc().elementFromPoint(a.clientX,a.clientY))!==null&&f!==void 0?f:r.getBody();c2(r,"drop",y,u.dataTransfer,a).isDefaultPrevented()||r.undoManager.transact(()=>{RU(r.dom,u.element),Yle(u.dataTransfer).each(M=>r.insertContent(M)),r._selectionOverrides.hideFakeCaret()})}c2(r,"dragend",r.getBody(),u.dataTransfer,a)}}),qN(t)},eK=(t,r,a)=>{t.on(u=>{u.intervalId.clear(),u.dragging&&a.fold(()=>c2(r,"dragend",u.element,u.dataTransfer),f=>c2(r,"dragend",u.element,u.dataTransfer,f))}),qN(t)},tK=(t,r)=>a=>eK(t,r,_e.some(a)),qN=t=>{t.on(r=>{r.intervalId.clear(),XZ(r.ghost)}),t.clear()},ZN=t=>{const r=kc(),a=Ai.DOM,u=document,f=Xde(r,t),y=ySe(r,t),A=Qde(r,t),M=tK(r,t);t.on("mousedown",f),t.on("mousemove",y),t.on("mouseup",A),a.bind(u,"mousemove",y),a.bind(u,"mouseup",M),t.on("remove",()=>{a.unbind(u,"mousemove",y),a.unbind(u,"mouseup",M)}),t.on("keydown",H=>{H.keyCode===_o.ESC&&eK(r,t,_e.none())})},nK=t=>{const r=f=>{if(!f.isDefaultPrevented()){const y=f.dataTransfer;y&&(zt(y.types,"Files")||y.files.length>0)&&(f.preventDefault(),f.type==="drop"&&VC(t,"Dropped file type is not supported"))}},a=f=>{SB(t,f.target)&&r(f)},u=()=>{const f=Ai.DOM,y=t.dom,A=document,M=t.inline?t.getBody():t.getDoc(),H=["drop","dragover"];ct(H,Y=>{f.bind(A,Y,a),y.bind(M,Y,r)}),t.on("remove",()=>{ct(H,Y=>{f.unbind(A,Y,a),y.unbind(M,Y,r)})})};t.on("init",()=>{lv.setEditorTimeout(t,u,0)})},ehe=t=>{ZN(t),Sw(t)&&nK(t)},the=t=>{const r=vo(()=>{if(!t.removed&&t.getBody().contains(document.activeElement)){const a=t.selection.getRng();if(a.collapsed){const u=AH(t,a,!1);t.selection.setRng(u)}}},0);t.on("focus",()=>{r.throttle()}),t.on("blur",()=>{r.cancel()})},nhe=t=>{t.on("init",()=>{t.on("focusin",r=>{const a=r.target;if(Jh(a)){const u=$w(t.getBody(),a),f=di(u)?u:a;t.selection.getNode()!==f&&xR(t,f).each(y=>t.selection.setRng(y))}})})},u2=di,kU=(t,r)=>$w(t.getBody(),r),ohe=t=>{const r=t.selection,a=t.dom,u=t.getBody(),f=dI(t,u,a.isBlock,()=>Bw(t)),y="sel-"+a.uniqueId(),A="data-mce-selected";let M;const H=Kn=>Ve(Kn)&&a.hasClass(Kn,"mce-offscreen-selection"),Y=Kn=>Kn!==u&&(u2(Kn)||Jh(Kn))&&a.isChildOf(Kn,u)&&a.isEditable(Kn.parentNode),ue=Kn=>{Kn&&r.setRng(Kn)},me=(Kn,Sn,Dt,Qe=!0)=>t.dispatch("ShowCaret",{target:Sn,direction:Kn,before:Dt}).isDefaultPrevented()?null:(Qe&&r.scrollIntoView(Sn,Kn===-1),f.show(Dt,Sn)),Se=Kn=>{Kn.hasAttribute("data-mce-caret")&&(Ft(Kn),r.scrollIntoView(Kn))},Oe=()=>{t.on("click",Sn=>{a.isEditable(Sn.target)||(Sn.preventDefault(),t.focus())}),t.on("blur NewBlock",Kt),t.on("ResizeWindow FullscreenStateChanged",f.reposition),t.on("tap",Sn=>{const Dt=Sn.target,Qe=kU(t,Dt);u2(Qe)?(Sn.preventDefault(),xR(t,Qe).each(Pt)):Y(Dt)&&xR(t,Dt).each(Pt)},!0),t.on("mousedown",Sn=>{const Dt=Sn.target;if(Dt!==u&&Dt.nodeName!=="HTML"&&!a.isChildOf(Dt,u)||!BF(t,Sn.clientX,Sn.clientY))return;Kt(),ho();const Qe=kU(t,Dt);u2(Qe)?(Sn.preventDefault(),xR(t,Qe).each(Pt)):xU(u,Sn.clientX,Sn.clientY).each(Xt=>{Sn.preventDefault();const qn=me(1,Xt.node,Xt.position===ix.Before,!1);ue(qn),va(Qe)?Qe.focus():t.getBody().focus()})}),t.on("keypress",Sn=>{_o.modifierPressed(Sn)||u2(r.getNode())&&Sn.preventDefault()}),t.on("GetSelectionRange",Sn=>{let Dt=Sn.range;if(M){if(!M.parentNode){M=null;return}Dt=Dt.cloneRange(),Dt.selectNode(M),Sn.range=Dt}}),t.on("focusin",Sn=>{if(!Jh(Sn.target)&&t.getBody().contains(Sn.target)&&Sn.target!==t.getBody()&&!t.dom.isEditable(Sn.target.parentNode)){f.isShowing()&&f.hide(),Sn.target.contains(t.selection.getNode())||(t.selection.select(Sn.target,!0),t.selection.collapse(!0));const Dt=Pt(t.selection.getRng(),!0);Dt&&t.selection.setRng(Dt)}}),t.on("SetSelectionRange",Sn=>{Sn.range=We(Sn.range);const Dt=Pt(Sn.range,Sn.forward);Dt&&(Sn.range=Dt)});const Kn=Sn=>No(Sn)&&Sn.id==="mcepastebin";t.on("AfterSetSelectionRange",Sn=>{const Dt=Sn.range,Qe=Dt.startContainer.parentElement;!Ze(Dt)&&!Kn(Qe)&&ho(),H(Qe)||Kt()}),ehe(t),the(t),nhe(t)},Ke=Kn=>Ne(Kn)||Tt(Kn)||It(Kn),Ze=Kn=>Ke(Kn.startContainer)||Ke(Kn.endContainer),We=Kn=>{const Sn=t.schema.getVoidElements(),Dt=a.createRng(),Qe=Kn.startContainer,Xt=Kn.startOffset,qn=Kn.endContainer,ss=Kn.endOffset;return jo(Sn,Qe.nodeName.toLowerCase())?Xt===0?Dt.setStartBefore(Qe):Dt.setStartAfter(Qe):Dt.setStart(Qe,Xt),jo(Sn,qn.nodeName.toLowerCase())?ss===0?Dt.setEndBefore(qn):Dt.setEndAfter(qn):Dt.setEnd(qn,ss),Dt},Ct=(Kn,Sn)=>{const Dt=et.fromDom(t.getBody()),Qe=t.getDoc(),Xt=Xh(Dt,"#"+y).getOrThunk(()=>{const Gs=et.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Qe);return pa(Gs,"id",y),qr(Dt,Gs),Gs}),qn=a.createRng();cd(Xt),gh(Xt,[et.fromText(Bi,Qe),et.fromDom(Sn),et.fromText(Bi,Qe)]),qn.setStart(Xt.dom.firstChild,1),qn.setEnd(Xt.dom.lastChild,0),au(Xt,{top:a.getPos(Kn,t.getBody()).y+"px"}),zb(Xt);const ss=r.getSel();return ss&&(ss.removeAllRanges(),ss.addRange(qn)),qn},Et=Kn=>{const Sn=Kn.cloneNode(!0),Dt=t.dispatch("ObjectSelected",{target:Kn,targetClone:Sn});if(Dt.isDefaultPrevented())return null;const Qe=Ct(Kn,Dt.targetClone),Xt=et.fromDom(Kn);return ct(un(et.fromDom(t.getBody()),`*[${A}]`),qn=>{Do(Xt,qn)||ml(qn,A)}),a.getAttrib(Kn,A)||Kn.setAttribute(A,"1"),M=Kn,ho(),Qe},Pt=(Kn,Sn)=>{if(!Kn)return null;if(Kn.collapsed){if(!Ze(Kn)){const qn=Sn?1:-1,ss=y0(qn,u,Kn),Gs=ss.getNode(!Sn);if(Ve(Gs)){if(Tw(Gs))return me(qn,Gs,Sn?!ss.isAtEnd():!1,!1);if(Ee(Gs)&&di(Gs.nextSibling)){const Yr=a.createRng();return Yr.setStart(Gs,0),Yr.setEnd(Gs,0),Yr}}const Or=ss.getNode(Sn);if(Ve(Or)){if(Tw(Or))return me(qn,Or,Sn?!1:!ss.isAtEnd(),!1);if(Ee(Or)&&di(Or.previousSibling)){const Yr=a.createRng();return Yr.setStart(Or,1),Yr.setEnd(Or,1),Yr}}}return null}let Dt=Kn.startContainer,Qe=Kn.startOffset;const Xt=Kn.endOffset;if(Un(Dt)&&Qe===0&&u2(Dt.parentNode)&&(Dt=Dt.parentNode,Qe=a.nodeIndex(Dt),Dt=Dt.parentNode),!No(Dt))return null;if(Xt===Qe+1&&Dt===Kn.endContainer){const qn=Dt.childNodes[Qe];if(Y(qn))return Et(qn)}return null},Kt=()=>{M&&M.removeAttribute(A),Xh(et.fromDom(t.getBody()),"#"+y).each(Hi),M=null},In=()=>{f.destroy(),M=null},ho=()=>{f.hide()};return ig(t)||Oe(),{showCaret:me,showBlockCaretContainer:Se,hideFakeCaret:ho,destroy:In}},oK=(t,r)=>{let a=r;for(let u=t.previousSibling;Un(u);u=u.previousSibling)a+=u.data.length;return a},sK=(t,r,a,u,f)=>{if(Un(a)&&(u<0||u>a.data.length))return[];const y=f&&Un(a)?[oK(a,u)]:[u];let A=a;for(;A!==r&&A.parentNode;)y.push(t.nodeIndex(A,f)),A=A.parentNode;return A===r?y.reverse():[]},DU=(t,r,a,u,f,y,A=!1)=>{const M=sK(t,r,a,u,A),H=sK(t,r,f,y,A);return{start:M,end:H}},KN=(t,r)=>{const a=r.slice(),u=a.pop();return vt(u)?On(a,(y,A)=>y.bind(M=>_e.from(M.childNodes[A])),_e.some(t)).bind(y=>Un(y)&&(u<0||u>y.data.length)?_e.none():_e.some({node:y,offset:u})):_e.none()},MU=(t,r)=>KN(t,r.start).bind(({node:a,offset:u})=>KN(t,r.end).map(({node:f,offset:y})=>{const A=document.createRange();return A.setStart(a,u),A.setEnd(f,y),A})),SSe=(t,r,a,u=!1)=>DU(t,r,a.startContainer,a.startOffset,a.endContainer,a.endOffset,u),lx=(t,r,a)=>{if(r&&t.isEmpty(r)&&!a(r)){const u=r.parentNode;t.remove(r,Un(r.firstChild)&&Lg(r.firstChild.data)),lx(t,u,a)}},d2=(t,r,a,u=!0)=>{const f=r.startContainer.parentNode,y=r.endContainer.parentNode;r.deleteContents(),u&&!a(r.startContainer)&&(Un(r.startContainer)&&r.startContainer.data.length===0&&t.remove(r.startContainer),Un(r.endContainer)&&r.endContainer.data.length===0&&t.remove(r.endContainer),lx(t,f,a),f!==y&&lx(t,y,a))},YN=(t,r)=>_e.from(t.dom.getParent(r.startContainer,t.dom.isBlock)),h2=(t,r,a)=>{const u=t.dynamicPatternsLookup({text:a,block:r});return{...t,blockPatterns:p0(u).concat(t.blockPatterns),inlinePatterns:T1(u).concat(t.inlinePatterns)}},PU=(t,r,a,u)=>{const f=t.createRng();return f.setStart(r,0),f.setEnd(a,u),f.toString()},rK=(t,r)=>t.create("span",{"data-mce-type":"bookmark",id:r}),XN=(t,r)=>{const a=t.createRng();return a.setStartAfter(r.start),a.setEndBefore(r.end),a},NU=(t,r,a)=>{const u=MU(t.getRoot(),a).getOrDie("Unable to resolve path range"),f=u.startContainer,y=u.endContainer,A=u.endOffset===0?y:y.splitText(u.endOffset),M=u.startOffset===0?f:f.splitText(u.startOffset),H=M.parentNode,Y=A.parentNode;return{prefix:r,end:Y.insertBefore(rK(t,r+"-end"),A),start:H.insertBefore(rK(t,r+"-start"),M)}},f2=(t,r,a)=>{lx(t,t.get(r.prefix+"-end"),a),lx(t,t.get(r.prefix+"-start"),a)},JN=t=>t.start.length===0,iK=t=>(r,a)=>{const f=r.data.substring(0,a),y=f.lastIndexOf(t.charAt(t.length-1)),A=f.lastIndexOf(t);return A!==-1?A+t.length:y!==-1?y+1:-1},aK=(t,r,a,u)=>{const f=r.start;return WR(t,u.container,u.offset,iK(f),a).bind(A=>{var M,H;const Y=(H=(M=a.textContent)===null||M===void 0?void 0:M.indexOf(f))!==null&&H!==void 0?H:-1;if(Y!==-1&&A.offset>=Y+f.length){const me=t.createRng();return me.setStart(A.container,A.offset-f.length),me.setEnd(A.container,A.offset),_e.some(me)}else{const me=A.offset-f.length;return rS(A.container,me,a).map(Se=>{const Oe=t.createRng();return Oe.setStart(Se.container,Se.offset),Oe.setEnd(A.container,A.offset),Oe}).filter(Se=>Se.toString()===f).orThunk(()=>aK(t,r,a,pv(A.container,0)))}})},she=(t,r,a,u,f,y=!1)=>{if(r.start.length===0&&!y){const A=t.createRng();return A.setStart(a,u),A.setEnd(a,u),_e.some(A)}return CN(a,u,f).bind(A=>aK(t,r,f,A).bind(H=>{var Y;if(y){if(H.endContainer===A.container&&H.endOffset===A.offset)return _e.none();if(A.offset===0&&((Y=H.endContainer.textContent)===null||Y===void 0?void 0:Y.length)===H.endOffset)return _e.none()}return _e.some(H)}))},lK=(t,r,a,u)=>{const f=t.dom,y=f.getRoot(),A=a.pattern,M=a.position.container,H=a.position.offset;return rS(M,H-a.pattern.end.length,r).bind(Y=>{const ue=DU(f,y,Y.container,Y.offset,M,H,u);if(JN(A))return _e.some({matches:[{pattern:A,startRng:ue,endRng:ue}],position:Y});{const me=QN(t,a.remainingPatterns,Y.container,Y.offset,r,u),Se=me.getOr({matches:[],position:Y}),Oe=Se.position;return she(f,A,Oe.container,Oe.offset,r,me.isNone()).map(Ze=>{const We=SSe(f,y,Ze,u);return{matches:Se.matches.concat([{pattern:A,startRng:We,endRng:ue}]),position:pv(Ze.startContainer,Ze.startOffset)}})}})},QN=(t,r,a,u,f,y)=>{const A=t.dom;return CN(a,u,A.getRoot()).bind(M=>{const H=PU(A,f,a,u);for(let Y=0;Y<r.length;Y++){const ue=r[Y];if(!Wi(H,ue.end))continue;const me=r.slice();me.splice(Y,1);const Se=lK(t,f,{pattern:ue,remainingPatterns:me,position:M},y);if(Se.isNone()&&u>0)return QN(t,r,a,u-1,f,y);if(Se.isSome())return Se}return _e.none()})},cK=(t,r,a)=>{t.selection.setRng(a),r.type==="inline-format"?ct(r.format,u=>{t.formatter.apply(u)}):t.execCommand(r.cmd,!1,r.value)},rhe=(t,r,a,u)=>{const f=XN(t.dom,a);d2(t.dom,f,u),cK(t,r,f)},LU=(t,r,a,u,f)=>{const y=t.dom,A=XN(y,u),M=XN(y,a);d2(y,M,f),d2(y,A,f);const H={prefix:a.prefix,start:a.end,end:u.start},Y=XN(y,H);cK(t,r,Y)},ihe=(t,r)=>{const a=dl("mce_textpattern"),u=ln(r,(f,y)=>{const A=NU(t,a+`_end${f.length}`,y.endRng);return f.concat([{...y,endMarker:A}])},[]);return ln(u,(f,y)=>{const A=u.length-f.length-1,M=JN(y.pattern)?y.endMarker:NU(t,a+`_start${A}`,y.startRng);return f.concat([{...y,startMarker:M}])},[])},ahe=t=>At(t,(r,a)=>a.end.length-r.end.length),lhe=(t,r)=>{const a=sr(t,u=>wn(r,f=>u.pattern.start===f.pattern.start&&u.pattern.end===f.pattern.end));return t.length===r.length?a?t:r:t.length>r.length?t:r},uK=(t,r,a,u,f,y)=>{const A=QN(t,f.inlinePatterns,a,u,r,y).fold(()=>[],H=>H.matches),M=QN(t,ahe(f.inlinePatterns),a,u,r,y).fold(()=>[],H=>H.matches);return lhe(A,M)},dK=(t,r)=>{if(r.length===0)return;const a=t.dom,u=t.selection.getBookmark(),f=ihe(a,r);ct(f,y=>{const A=a.getParent(y.startMarker.start,a.isBlock),M=H=>H===A;JN(y.pattern)?rhe(t,y.pattern,y.endMarker,M):LU(t,y.pattern,y.startMarker,y.endMarker,M),f2(a,y.endMarker,M),f2(a,y.startMarker,M)}),t.selection.moveToBookmark(u)},hK=(t,r,a)=>mv(r,0,r).map(u=>{const f=u.container;return D$(f,a.start.length,r).each(y=>{const A=t.createRng();A.setStart(f,0),A.setEnd(y.container,y.offset),d2(t,A,M=>M===r)}),f}),eL=t=>(r,a)=>{const u=r.dom,f=a.pattern,y=MU(u.getRoot(),a.range).getOrDie("Unable to resolve path range"),A=(M,H)=>{const Y=H.get(M);return Ae(Y)&&en(Y).exists(ue=>jo(ue,"block"))};return YN(r,y).each(M=>{f.type==="block-format"?A(f.format,r.formatter)&&r.undoManager.transact(()=>{t(r.dom,M,f),r.formatter.apply(f.format)}):f.type==="block-command"&&r.undoManager.transact(()=>{t(r.dom,M,f),r.execCommand(f.cmd,!1,f.value)})}),!0},che=t=>At(t,(r,a)=>a.start.length-r.start.length),fK=t=>(r,a)=>{const u=che(r),f=a.replace(Bi," ");return $t(u,y=>t(y,a,f))},pK=(t,r)=>(a,u,f,y,A)=>{var M;A===void 0&&(A=(M=u.textContent)!==null&&M!==void 0?M:"");const H=a.dom,Y=Wu(a);return H.is(u,Y)?t(f.blockPatterns,A).map(ue=>r&&Zn.trim(A).length===ue.start.length?[]:[{pattern:ue,range:DU(H,H.getRoot(),u,0,u,0,y)}]).getOr([]):[]},mK=t=>/^\s[^\s]/.test(t),uhe=eL((t,r,a)=>{hK(t,r,a).each(u=>{const f=et.fromDom(u),y=vl(f);mK(y)&&ey(f,y.slice(1))})}),dhe=fK((t,r,a)=>r.indexOf(t.start)===0||a.indexOf(t.start)===0),hhe=pK(dhe,!0),fhe=(t,r)=>{const a=t.selection.getRng();return YN(t,a).map(u=>{var f;const y=Math.max(0,a.startOffset),A=h2(r,u,(f=u.textContent)!==null&&f!==void 0?f:""),M=uK(t,u,a.startContainer,y,A,!0),H=hhe(t,u,A,!0);return{inlineMatches:M,blockMatches:H}}).filter(({inlineMatches:u,blockMatches:f})=>f.length>0||u.length>0)},phe=(t,r)=>{if(r.length===0)return;const a=t.selection.getBookmark();ct(r,u=>uhe(t,u)),t.selection.moveToBookmark(a)},mhe=eL(hK),ghe=fK((t,r,a)=>r===t.start||a===t.start),gK=pK(ghe,!1),vhe=(t,r)=>{const a=t.selection.getRng();return YN(t,a).map(u=>{const f=Math.max(0,a.startOffset),y=PU(t.dom,u,a.startContainer,f),A=h2(r,u,y);return gK(t,u,A,!1,y)}).filter(u=>u.length>0)},BU=(t,r)=>{ct(r,a=>mhe(t,a))},bhe=(t,r)=>fhe(t,r).fold(qt,({inlineMatches:a,blockMatches:u})=>(t.undoManager.add(),t.undoManager.extra(()=>{t.execCommand("mceInsertNewLine")},()=>{ce(t),dK(t,a),phe(t,u);const f=t.selection.getRng(),y=CN(f.startContainer,f.startOffset,t.dom.getRoot());t.execCommand("mceInsertNewLine"),y.each(A=>{const M=A.container;M.data.charAt(A.offset-1)===Cc&&(M.deleteData(A.offset-1,1),lx(t.dom,M.parentNode,H=>H===t.dom.getRoot()))})}),!0)),yhe=(t,r)=>{const a=t.selection.getRng();YN(t,a).map(u=>{const f=Math.max(0,a.startOffset-1),y=PU(t.dom,u,a.startContainer,f),A=h2(r,u,y),M=uK(t,u,a.startContainer,f,A,!1);M.length>0&&t.undoManager.transact(()=>{dK(t,M)})})},She=(t,r)=>vhe(t,r).fold(qt,a=>(t.undoManager.transact(()=>{BU(t,a)}),!0)),vK=(t,r,a)=>{for(let u=0;u<t.length;u++)if(a(t[u],r))return!0;return!1},Che=(t,r)=>vK(t,r,(a,u)=>a===u.keyCode&&!_o.modifierPressed(u)),Ehe=(t,r)=>vK(t,r,(a,u)=>a.charCodeAt(0)===u.charCode),tL=t=>{const r=[",",".",";",":","!","?"],a=[32],u=()=>x1(iI(t).filter(A=>A.type==="inline-command"||A.type==="block-command"?t.queryCommandSupported(A.cmd):!0),B4(t)),f=()=>F4(t);t.on("keydown",A=>{if(A.keyCode===13&&!_o.modifierPressed(A)&&t.selection.isCollapsed()&&t.selection.isEditable()){const M=WO(u(),"enter");(M.inlinePatterns.length>0||M.blockPatterns.length>0||f())&&bhe(t,M)&&A.preventDefault()}},!0),t.on("keydown",A=>{if(A.keyCode===32&&t.selection.isCollapsed()&&t.selection.isEditable()){const M=WO(u(),"space");(M.blockPatterns.length>0||f())&&She(t,M)&&A.preventDefault()}},!0);const y=()=>{if(t.selection.isCollapsed()&&t.selection.isEditable()){const A=WO(u(),"space");(A.inlinePatterns.length>0||f())&&yhe(t,A)}};t.on("keyup",A=>{Che(a,A)&&y()}),t.on("keypress",A=>{Ehe(r,A)&&lv.setEditorTimeout(t,y)})},whe=t=>{tL(t)},_he=t=>{const r=Zn.each,a=_o.BACKSPACE,u=_o.DELETE,f=t.dom,y=t.selection,A=t.parser,M=Tr.browser,H=M.isFirefox(),Y=M.isChromium()||M.isSafari(),ue=Tr.deviceType.isiPhone()||Tr.deviceType.isiPad(),me=Tr.os.isMacOS()||Tr.os.isiOS(),Se=(uo,Io)=>{try{t.getDoc().execCommand(uo,!1,String(Io))}catch{}},Oe=uo=>uo.isDefaultPrevented(),Ke=()=>{const uo=Ds=>{const qs=f.create("body"),qi=Ds.cloneContents();return qs.appendChild(qi),y.serializer.serialize(qs,{format:"html"})},Io=Ds=>{const qs=uo(Ds),qi=f.createRng();qi.selectNode(t.getBody());const Aa=uo(qi);return qs===Aa};t.on("keydown",Ds=>{const qs=Ds.keyCode;if(!Oe(Ds)&&(qs===u||qs===a)&&t.selection.isEditable()){const qi=t.selection.isCollapsed(),Aa=t.getBody();if(qi&&!Tf(t.schema,Aa)||!qi&&!Io(t.selection.getRng()))return;Ds.preventDefault(),t.setContent(""),Aa.firstChild&&f.isBlock(Aa.firstChild)?t.selection.setCursorLocation(Aa.firstChild,0):t.selection.setCursorLocation(Aa,0),t.nodeChanged()}})},Ze=()=>{t.shortcuts.add("meta+a",null,"SelectAll")},We=()=>{t.inline||f.bind(t.getDoc(),"mousedown mouseup",uo=>{var Io;let Ds;if(uo.target===t.getDoc().documentElement)if(Ds=y.getRng(),((Io=t.getDoc().getSelection())===null||Io===void 0?void 0:Io.anchorNode)!==null&&t.getBody().focus(),uo.type==="mousedown"){if(Ne(Ds.startContainer))return;y.placeCaretAt(uo.clientX,uo.clientY)}else y.setRng(Ds)})},Ct=()=>{t.on("keydown",uo=>{if(!Oe(uo)&&uo.keyCode===a){if(!t.getBody().getElementsByTagName("hr").length)return;if(y.isCollapsed()&&y.getRng().startOffset===0){const Io=y.getNode(),Ds=Io.previousSibling;if(Io.nodeName==="HR"){f.remove(Io),uo.preventDefault();return}Ds&&Ds.nodeName&&Ds.nodeName.toLowerCase()==="hr"&&(f.remove(Ds),uo.preventDefault())}}})},Et=()=>{Range.prototype.getClientRects||t.on("mousedown",uo=>{if(!Oe(uo)&&uo.target.nodeName==="HTML"){const Io=t.getBody();Io.blur(),lv.setEditorTimeout(t,()=>{Io.focus()})}})},Pt=()=>{const uo=sI(t);t.on("click",Io=>{const Ds=Io.target;/^(IMG|HR)$/.test(Ds.nodeName)&&f.isEditable(Ds)&&(Io.preventDefault(),t.selection.select(Ds),t.nodeChanged()),Ds.nodeName==="A"&&f.hasClass(Ds,uo)&&Ds.childNodes.length===0&&f.isEditable(Ds.parentNode)&&(Io.preventDefault(),y.select(Ds))})},Kt=()=>{const uo=Io=>Io.nodeName==="IMG"&&t.dom.isEditable(Io);t.on("mousedown",Io=>{Ar(_e.from(Io.clientX),_e.from(Io.clientY),(Ds,qs)=>{var qi;const Aa=t.getDoc().caretPositionFromPoint(Ds,qs),yv=((qi=Aa==null?void 0:Aa.offsetNode)===null||qi===void 0?void 0:qi.childNodes[Aa.offset-(Aa.offset>0?1:0)])||(Aa==null?void 0:Aa.offsetNode);if(Ve(yv)&&uo(yv)){const oh=yv.getBoundingClientRect();Io.preventDefault(),t.hasFocus()||t.focus(),t.selection.select(yv),Io.clientX<oh.left||Io.clientY<oh.top?t.selection.collapse(!0):(Io.clientX>oh.right||Io.clientY>oh.bottom)&&t.selection.collapse(!1)}})})},In=()=>{const uo=()=>{const Ds=f.getAttribs(y.getStart().cloneNode(!1));return()=>{const qs=y.getStart();qs!==t.getBody()&&(f.setAttrib(qs,"style",null),r(Ds,qi=>{qs.setAttributeNode(qi.cloneNode(!0))}))}},Io=()=>!y.isCollapsed()&&f.getParent(y.getStart(),f.isBlock)!==f.getParent(y.getEnd(),f.isBlock);t.on("keypress",Ds=>{let qs;return!Oe(Ds)&&(Ds.keyCode===8||Ds.keyCode===46)&&Io()?(qs=uo(),t.getDoc().execCommand("delete",!1),qs(),Ds.preventDefault(),!1):!0}),f.bind(t.getDoc(),"cut",Ds=>{if(!Oe(Ds)&&Io()){const qs=uo();lv.setEditorTimeout(t,()=>{qs()})}})},ho=()=>{t.on("keydown",uo=>{if(!Oe(uo)&&uo.keyCode===a&&y.isCollapsed()&&y.getRng().startOffset===0){const Io=y.getNode().previousSibling;if(Io&&Io.nodeName&&Io.nodeName.toLowerCase()==="table")return uo.preventDefault(),!1}return!0})},Kn=()=>{t.on("keydown",uo=>{if(Oe(uo)||uo.keyCode!==_o.BACKSPACE)return;let Io=y.getRng();const Ds=Io.startContainer,qs=Io.startOffset,qi=f.getRoot();let Aa=Ds;if(!(!Io.collapsed||qs!==0)){for(;Aa.parentNode&&Aa.parentNode.firstChild===Aa&&Aa.parentNode!==qi;)Aa=Aa.parentNode;Aa.nodeName==="BLOCKQUOTE"&&(t.formatter.toggle("blockquote",void 0,Aa),Io=f.createRng(),Io.setStart(Ds,0),Io.setEnd(Ds,0),y.setRng(Io))}})},Sn=()=>{const uo=Cl("figcaption");t.on("keydown",Io=>{if(Io.keyCode===_o.LEFT||Io.keyCode===_o.RIGHT){const Ds=et.fromDom(t.selection.getNode());uo(Ds)&&t.selection.isCollapsed()&&ku(Ds).bind(qs=>{var qi;return t.selection.getRng().startOffset===0&&Io.keyCode===_o.LEFT?Bd(qs):t.selection.getRng().endOffset===((qi=Ds.dom.textContent)===null||qi===void 0?void 0:qi.length)&&Io.keyCode===_o.RIGHT?Mu(qs):_e.none()}).each(qs=>{t.selection.setCursorLocation(qs.dom,0)})}})},Dt=()=>{const uo=()=>{Se("StyleWithCSS",!1),Se("enableInlineTableEditing",!1),tI(t)||Se("enableObjectResizing",!1)};vw(t)||t.on("BeforeExecCommand mousedown",uo)},Qe=()=>{const uo=()=>{r(f.select("a:not([data-mce-block])"),Io=>{var Ds;let qs=Io.parentNode;const qi=f.getRoot();if((qs==null?void 0:qs.lastChild)===Io){for(;qs&&!f.isBlock(qs);){if(((Ds=qs.parentNode)===null||Ds===void 0?void 0:Ds.lastChild)!==qs||qs===qi)return;qs=qs.parentNode}f.add(qs,"br",{"data-mce-bogus":1})}})};t.on("SetContent ExecCommand",Io=>{(Io.type==="setcontent"||Io.command==="mceInsertLink")&&uo()})},Xt=()=>{t.on("init",()=>{Se("DefaultParagraphSeparator",Wu(t))})},qn=uo=>{const Io=uo.getBody(),Ds=uo.selection.getRng();return Ds.startContainer===Ds.endContainer&&Ds.startContainer===Io&&Ds.startOffset===0&&Ds.endOffset===Io.childNodes.length},ss=()=>{t.on("keyup focusin mouseup",uo=>{!_o.modifierPressed(uo)&&!qn(t)&&y.normalize()},!0)},Gs=()=>{t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Or=()=>{t.inline||t.on("keydown",()=>{document.activeElement===document.body&&t.getWin().focus()})},Yr=()=>{t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",uo=>{let Io;uo.target.nodeName==="HTML"&&(Io=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(Io),t.selection.normalize(),t.nodeChanged())}))},tl=()=>{me&&t.on("keydown",uo=>{_o.metaKeyPressed(uo)&&!uo.shiftKey&&(uo.keyCode===37||uo.keyCode===39)&&(uo.preventDefault(),t.selection.getSel().modify("move",uo.keyCode===37?"backward":"forward","lineboundary"))})},nl=()=>{t.on("click",uo=>{let Io=uo.target;do if(Io.tagName==="A"){uo.preventDefault();return}while(Io=Io.parentNode)}),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Cd=()=>{t.on("init",()=>{t.dom.bind(t.getBody(),"submit",uo=>{uo.preventDefault()})})},lo=()=>{A.addNodeFilter("br",uo=>{let Io=uo.length;for(;Io--;)uo[Io].attr("class")==="Apple-interchange-newline"&&uo[Io].remove()})},as=gt,ri=()=>{if(!H||t.removed)return!1;const uo=t.selection.getSel();return!uo||!uo.rangeCount||uo.rangeCount===0},Ni=()=>{Y&&(We(),Pt(),Cd(),Ze(),ue&&(Or(),Yr(),nl())),H&&(Et(),Dt(),Gs(),tl())},es=()=>{Kn(),Ke(),Tr.windowsPhone||ss(),Y&&(We(),Pt(),Xt(),Cd(),ho(),lo(),ue?(Or(),Yr(),nl()):Ze()),H&&(Sn(),Kt(),Ct(),Et(),In(),Dt(),Qe(),Gs(),tl(),ho())};return ig(t)?Ni():es(),{refreshContentEditable:as,isHidden:ri}},VU=Ai.DOM,Ahe=(t,r)=>{const a=et.fromDom(t.getBody()),u=Y0(rc(a)),f=et.fromTag("style");pa(f,"type","text/css"),qr(f,et.fromText(r)),qr(u,f),t.on("remove",()=>{Hi(f)})},The=t=>t.inline?t.getElement().nodeName.toLowerCase():void 0,FU=t=>Nr(t,r=>tt(r)===!1),bK=t=>{const r=t.options.get,a=t.editorUpload.blobCache;return FU({allow_conditional_comments:r("allow_conditional_comments"),allow_html_data_urls:r("allow_html_data_urls"),allow_svg_data_urls:r("allow_svg_data_urls"),allow_html_in_named_anchor:r("allow_html_in_named_anchor"),allow_script_urls:r("allow_script_urls"),allow_html_in_comments:r("allow_html_in_comments"),allow_mathml_annotation_encodings:r("allow_mathml_annotation_encodings"),allow_unsafe_link_target:r("allow_unsafe_link_target"),convert_unsafe_embeds:r("convert_unsafe_embeds"),convert_fonts_to_spans:r("convert_fonts_to_spans"),extended_mathml_attributes:r("extended_mathml_attributes"),extended_mathml_elements:r("extended_mathml_elements"),fix_list_elements:r("fix_list_elements"),font_size_legacy_values:r("font_size_legacy_values"),forced_root_block:r("forced_root_block"),forced_root_block_attrs:r("forced_root_block_attrs"),preserve_cdata:r("preserve_cdata"),inline_styles:r("inline_styles"),root_name:The(t),sandbox_iframes:r("sandbox_iframes"),sandbox_iframes_exclusions:ww(t),sanitize:r("xss_sanitization"),validate:!0,blob_cache:a,document:t.getDoc()})},yK=t=>{const r=t.options.get;return FU({custom_elements:r("custom_elements"),extended_valid_elements:r("extended_valid_elements"),invalid_elements:r("invalid_elements"),invalid_styles:r("invalid_styles"),schema:r("schema"),valid_children:r("valid_children"),valid_classes:r("valid_classes"),valid_elements:r("valid_elements"),valid_styles:r("valid_styles"),verify_html:r("verify_html"),padd_empty_block_inline_children:r("format_empty_lines")})},xhe=t=>{const r=t.options.get;return{...bK(t),...yK(t),...FU({remove_trailing_brs:r("remove_trailing_brs"),pad_empty_with_br:r("pad_empty_with_br"),url_converter:r("url_converter"),url_converter_scope:r("url_converter_scope"),element_format:r("element_format"),entities:r("entities"),entity_encoding:r("entity_encoding"),indent:r("indent"),indent_after:r("indent_after"),indent_before:r("indent_before")})}},SK=t=>{const r=Z1(bK(t),t.schema);return r.addAttributeFilter("src,href,style,tabindex",(a,u)=>{const f=t.dom,y="data-mce-"+u;let A=a.length;for(;A--;){const M=a[A];let H=M.attr(u);if(H&&!M.attr(y)){if(H.indexOf("data:")===0||H.indexOf("blob:")===0)continue;u==="style"?(H=f.serializeStyle(f.parseStyle(H),M.name),H.length||(H=null),M.attr(y,H),M.attr(u,H)):u==="tabindex"?(M.attr(y,H),M.attr(u,null)):M.attr(y,t.convertURL(H,u,M.name))}}}),r.addNodeFilter("script",a=>{let u=a.length;for(;u--;){const f=a[u],y=f.attr("type")||"no/type";y.indexOf("mce-")!==0&&f.attr("type","mce-"+y)}}),Ew(t)&&r.addNodeFilter("#cdata",a=>{var u;let f=a.length;for(;f--;){const y=a[f];y.type=8,y.name="#comment",y.value="[CDATA["+t.dom.encode((u=y.value)!==null&&u!==void 0?u:"")+"]]"}}),r.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",a=>{let u=a.length;const f=t.schema.getNonEmptyElements();for(;u--;){const y=a[u];y.isEmpty(f)&&y.getAll("br").length===0&&y.append(new of("br",1))}}),r},Ohe=t=>{const r=N4(t);r&&lv.setEditorTimeout(t,()=>{let a;r===!0?a=t:a=t.editorManager.get(r),a&&!a.destroyed&&(a.focus(),a.selection.scrollIntoView())},100)},CK=t=>{const r=t.dom.getRoot();!t.inline&&(!kw(t)||t.selection.getStart(!0)===r)&&Kd(r).each(a=>{const u=a.getNode(),f=fp(u)?Kd(u).getOr(a):a;t.selection.setRng(f.toRange())})},Ihe=t=>{t.bindPendingEventDelegates(),t.initialized=!0,E4(t),t.focus(!0),CK(t),t.nodeChanged({initial:!0});const r=ID(t);Re(r)&&r.call(t,t),Ohe(t),hc(t)&&IP(t,!0)},HU=t=>t.inline?t.ui.styleSheetLoader:t.dom.styleSheetLoader,EK=(t,r,a)=>{const{pass:u,fail:f}=Yt(r,M=>tinymce.Resource.has(yR(M))),A=[...u.map(M=>{const H=tinymce.Resource.get(yR(M));return ie(H)?Promise.resolve(HU(t).loadRawCss(M,H)):Promise.resolve()}),HU(t).loadAll(f)];return t.inline?A:A.concat([t.ui.styleSheetLoader.loadAll(a)])},cx=t=>{const r=HU(t),a=SD(t),u=t.contentCSS,f=()=>{r.unloadAll(u),t.inline||t.ui.styleSheetLoader.unloadAll(a)},y=()=>{t.removed?f():t.on("remove",f)};if(t.contentStyles.length>0){let H="";Zn.each(t.contentStyles,Y=>{H+=Y+`\r
`}),t.dom.addStyle(H)}const A=Promise.all(EK(t,u,a)).then(y).catch(y),M=yD(t);return M&&Ahe(t,M),A},Rhe=t=>{const r=t.getDoc(),a=t.getBody();S4(t),JA(t)||(r.body.spellcheck=!1,VU.setAttrib(a,"spellcheck","false")),t.quirks=_he(t),C4(t);const u=CD(t);u!==void 0&&(a.dir=u);const f=mC(t);f&&t.on("BeforeSetContent",y=>{Zn.each(f,A=>{y.content=y.content.replace(A,M=>"<!--mce:protected "+escape(M)+"-->")})}),t.on("SetContent",()=>{t.addVisual(t.getBody())}),t.on("compositionstart compositionend",y=>{t.composing=y.type==="compositionstart"})},wK=t=>{ig(t)||t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"})},$U=t=>{t.removed!==!0&&(wK(t),Ihe(t))},khe=t=>{let r=!1;const a=setTimeout(()=>{r||t.setProgressState(!0)},500);return()=>{clearTimeout(a),r=!0,t.setProgressState(!1)}},_K=t=>{const r=t.getElement();let a=t.getDoc();t.inline&&(VU.addClass(r,"mce-content-body"),t.contentDocument=a=document,t.contentWindow=window,t.bodyElement=r,t.contentAreaContainer=r);const u=t.getBody();u.disabled=!0,t.readonly=vw(t),t._editableRoot=bw(t),!Aw(t)&&t.hasEditableRoot()&&(t.inline&&VU.getStyle(u,"position",!0)==="static"&&(u.style.position="relative"),u.contentEditable="true"),u.disabled=!1,t.editorUpload=Jw(t),t.schema=Rf(yK(t)),t.dom=Ai(a,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,update_styles:!0,root_element:t.inline?t.getBody():null,collect:t.inline,schema:t.schema,contentCssCors:qA(t),referrerPolicy:XO(t),crossOrigin:fw(t),onSetAttrib:A=>{t.dispatch("SetAttrib",A)}}),t.parser=SK(t),t.serializer=yP(xhe(t),t),t.selection=gP(t.dom,t.getWin(),t.serializer,t),t.annotator=dM(t),t.formatter=LT(t),t.undoManager=SR(t),t._nodeChangeDispatcher=new BN(t),t._selectionOverrides=ohe(t),vSe(t),gG(t),UZ(t),gle(t),ig(t)||(xde(t),whe(t));const f=Lue(t);mG(t,f),hN(t),t9(t),wU(t,f);const y=fR(t);Rhe(t),y.fold(()=>{const A=khe(t);cx(t).then(()=>{$U(t),A()})},A=>{t.setProgressState(!0),cx(t).then(()=>{A().then(M=>{t.setProgressState(!1),$U(t),RF(t)},M=>{t.notificationManager.open({type:"error",text:String(M)}),$U(t),RF(t)})})})},UU=Ai.DOM,AK=(t,r,a,u)=>{const f=et.fromTag("iframe");return u.each(y=>pa(f,"tabindex",y)),Va(f,a),Va(f,{id:t+"_ifr",frameBorder:"0",allowTransparency:"true",...Tr.browser.isFirefox()?{title:r}:{}}),_l(f,"tox-edit-area__iframe"),f},Dhe=t=>{let r=fC(t)+"<html><head>";dw(t)!==t.editorManager.documentBaseURL&&(r+='<base href="'+t.documentBaseURI.getURI()+'" />'),r+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const a=v0(t),u=yd(t),f=t.translate(XA(t)),y=Tr.browser.isFirefox()?"":`aria-label="${f}"`;return Qv(t)&&(r+='<meta http-equiv="Content-Security-Policy" content="'+Qv(t)+'" />'),r+=`</head><body id="${a}" class="mce-content-body ${u}" data-id="${t.id}" ${y}><br></body></html>`,r},TK=(t,r)=>{const a=XA(t),u=t.translate(a),f=vh(et.fromDom(t.getElement()),"tabindex").bind(pf),y=AK(t.id,u,GA(t),f).dom;y.onload=()=>{y.onload=null,t.dispatch("load")},t.contentAreaContainer=r.iframeContainer,t.iframeElement=y,t.iframeHTML=Dhe(t),UU.add(r.iframeContainer,y)},Mhe=t=>{const r=t.iframeElement,a=()=>{t.contentDocument=r.contentDocument,_K(t)};if(cI(t)||Tr.browser.isFirefox()){const u=t.getDoc();u.open(),u.write(t.iframeHTML),u.close(),a()}else{const u=o1(et.fromDom(r),"load",()=>{u.unbind(),a()});r.srcdoc=t.iframeHTML}},Phe=(t,r)=>{TK(t,r),r.editorContainer&&(r.editorContainer.style.display=t.orgDisplay,t.hidden=UU.isHidden(r.editorContainer)),t.getElement().style.display="none",UU.setAttrib(t.id,"aria-hidden","true"),t.getElement().style.visibility=t.orgVisibility,Mhe(t)},xK=Ai.DOM,Nhe=(t,r,a)=>{const u=xy.get(a),f=xy.urls[a]||t.editorManager.documentBaseURL.replace(/\/$/,"");if(a=Zn.trim(a),u&&Zn.inArray(r,a)===-1){if(t.plugins[a])return;try{const y=u(t,f)||{};t.plugins[a]=y,Re(y.init)&&(y.init(t,f),r.push(a))}catch(y){X1(t,a,y)}}},Lhe=t=>{const r=a=>{a.keyCode===_o.ESC&&!a.defaultPrevented&&gD(t).isDefaultPrevented()&&a.preventDefault()};document.addEventListener("keyup",r),t.inline||t.on("keyup",r),t.on("remove",()=>{document.removeEventListener("keyup",r),t.inline||t.off("keyup",r)})},Bhe=t=>t.replace(/^\-/,""),Vhe=t=>{const r=[];ct(k1(t),a=>{Nhe(t,r,Bhe(a))})},Fhe=t=>{const r=Zn.trim(vD(t)),a=t.ui.registry.getAll().icons,u={...SP.get("default").icons,...SP.get(r).icons};Xn(u,(f,y)=>{jo(a,y)||t.ui.registry.addIcon(y,f)})},Hhe=t=>{const r=om(t);if(ie(r)){const a=Yw.get(r);t.theme=a(t,Yw.urls[r])||{},Re(t.theme.init)&&t.theme.init(t,Yw.urls[r]||t.editorManager.documentBaseURL.replace(/\/$/,""))}else t.theme={}},OK=t=>{const r=oI(t),a=dv.get(r);t.model=a(t,dv.urls[r])},zU=t=>{OP.init(t)},IK=t=>{const r=t.theme.renderUI;return r?r():DK(t)},RK=t=>{const r=t.getElement(),u=om(t)(t,r);return u.editorContainer.nodeType&&(u.editorContainer.id=u.editorContainer.id||t.id+"_parent"),u.iframeContainer&&u.iframeContainer.nodeType&&(u.iframeContainer.id=u.iframeContainer.id||t.id+"_iframecontainer"),u.height=u.iframeHeight?u.iframeHeight:r.offsetHeight,u},kK=(t,r)=>({editorContainer:t,iframeContainer:r,api:{}}),$he=t=>{const r=xK.create("div");return xK.insertAfter(r,t),kK(r,r)},DK=t=>{const r=t.getElement();return t.inline?kK(null):$he(r)},MK=t=>{const r=t.getElement();return t.orgDisplay=r.style.display,ie(om(t))?IK(t):Re(om(t))?RK(t):DK(t)},PK=(t,r)=>{const a={show:_e.from(r.show).getOr(gt),hide:_e.from(r.hide).getOr(gt),isEnabled:_e.from(r.isEnabled).getOr(Tn),setEnabled:u=>{u&&(t.mode.get()==="readonly"||hc(t))||_e.from(r.setEnabled).each(y=>y(u))}};t.ui={...t.ui,...a}},Uhe=async t=>{t.dispatch("ScriptsLoaded"),Fhe(t),Lhe(t),Hhe(t),OK(t),zU(t),Vhe(t);const r=await MK(t);PK(t,_e.from(r.api).getOr({})),t.editorContainer=r.editorContainer,vb(t),t.inline?_K(t):Phe(t,{editorContainer:r.editorContainer,iframeContainer:r.iframeContainer})},v_=Ai.DOM,nL=t=>t.charAt(0)==="-",oL=(t,r)=>{const a=bD(r),u=R4(r);if(!yp.hasCode(a)&&a!=="en"){const f=wi(u)?u:`${r.editorManager.baseURL}/langs/${a}.js`;t.add(f).catch(()=>{vm(r,f,a)})}},NK=(t,r)=>{const a=om(t);if(ie(a)&&!nL(a)&&!jo(Yw.urls,a)){const u=wD(t),f=u?t.documentBaseURI.toAbsolute(u):`themes/${a}/theme${r}.js`;Yw.load(a,f).catch(()=>{Are(t,f,a)})}},LK=(t,r)=>{const a=oI(t);if(a!=="plugin"&&!jo(dv.urls,a)){const u=k4(t),f=ie(u)?t.documentBaseURI.toAbsolute(u):`models/${a}/model${r}.js`;dv.load(a,f).catch(()=>{wa(t,f,a)})}},BK=(t,r)=>{OP.load(t,r)},zhe=t=>_e.from(kz(t)).filter(wi).map(r=>({url:r,name:_e.none()})),VK=(t,r,a)=>_e.from(r).filter(u=>wi(u)&&!SP.has(u)).map(u=>({url:`${t.editorManager.baseURL}/icons/${u}/icons${a}.js`,name:_e.some(u)})),jhe=(t,r,a)=>{const u=VK(r,"default",a),f=zhe(r).orThunk(()=>VK(r,vD(r),""));ct(Fc([u,f]),y=>{t.add(y.url).catch(()=>{vR(r,y.url,y.name.getOrUndefined())})})},Whe=(t,r)=>{const a=(u,f)=>{u!=="licensekeymanager"&&xy.load(u,f).catch(()=>{gm(t,f,u)})};Xn(YA(t),(u,f)=>{a(f,u),t.options.set("plugins",k1(t).concat(f))}),ct(k1(t),u=>{u=Zn.trim(u),u&&!xy.urls[u]&&!nL(u)&&a(u,`plugins/${u}/plugin${r}.js`)})},Dy=t=>{const r=om(t);return!ie(r)||Ve(Yw.get(r))},FK=t=>{const r=oI(t);return Ve(dv.get(r))},Ghe=(t,r)=>{const a=Xl.ScriptLoader,u=()=>{!t.removed&&Dy(t)&&FK(t)&&Uhe(t)};NK(t,r),LK(t,r),BK(t,r),oL(a,t),jhe(a,t,r),Whe(t,r),a.loadQueue().then(u,u)},HK=(t,r)=>Uu.forElement(t,{contentCssCors:yw(r),referrerPolicy:XO(r)}),qhe=t=>{const r=t.id;yp.setCode(bD(t));const a=()=>{v_.unbind(window,"ready",a),t.render()};if(!bp.Event.domLoaded){v_.bind(window,"ready",a);return}if(!t.getElement())return;const u=et.fromDom(t.getElement()),f=Er(u);t.on("remove",()=>{Mt(u.dom.attributes,A=>ml(u,A.name)),Va(u,f)}),t.ui.styleSheetLoader=HK(u,t),KA(t)?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");const y=t.getElement().form||v_.getParent(r,"form");y&&(t.formElement=y,_D(t)&&!FE(t.getElement())&&(v_.insertAfter(v_.create("input",{type:"hidden",name:r}),r),t.hasHiddenInput=!0),t.formEventDelegate=A=>{t.dispatch(A.type,A)},v_.bind(y,"submit reset",t.formEventDelegate),t.on("reset",()=>{t.resetContent()}),P4(t)&&!y.submit.nodeType&&!y.submit.length&&!y._mceOldSubmit&&(y._mceOldSubmit=y.submit,y.submit=()=>(t.editorManager.triggerSave(),t.setDirty(!1),y._mceOldSubmit(y)))),t.windowManager=wP(t),t.notificationManager=FF(t),VD(t)&&t.on("GetContent",A=>{A.save&&(A.content=v_.encode(A.content))}),AD(t)&&t.on("submit",()=>{t.initialized&&t.save()}),Pz(t)&&(t._beforeUnload=()=>{t.initialized&&!t.destroyed&&!t.isHidden()&&t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),Ghe(t,t.suffix)},$K=["#E41B60","#AD1457","#1939EC","#001CB5","#648000","#465B00","#006CE7","#0054B4","#00838F","#006064","#00866F","#004D40","#51742F","#385021","#CF4900","#A84600","#CC0000","#6A1B9A","#9C27B0","#6A00AB","#3041BA","#0A1877","#774433","#452B24","#607D8B","#455A64"],jU=t=>{var r;return Intl.Segmenter?`${(r=new Intl.Segmenter().segment(t)[Symbol.iterator]().next().value)===null||r===void 0?void 0:r.segment}`:t.trim()[0]},sL=(t,r)=>{let a=5381;for(let u=0;u<t.length;u++)a=(a<<5)+a+t.charCodeAt(u);return(a>>>0)%(r+1)},Zhe=t=>{const r=sL(t??"",$K.length-1);return $K[r]},Khe=(t,r,a)=>{const u=a/2;return`<svg height="${a}" width="${a}" xmlns="http://www.w3.org/2000/svg"><circle cx="${u}" cy="${u}" r="${u}" fill="${r}"/><text x="50%" y="50%" text-anchor="middle" dominant-baseline="central" fill="#FFF" font-family="sans-serif" font-size="${u}">`+t+"</text></svg>"},Yhe=(t,r,a)=>"data:image/svg+xml,"+encodeURIComponent(Khe(t,r,a)),rL=(t,r={size:36})=>Yhe(jU(t.name),Zhe(t.id),r.size),Xhe=ZR([Cce("id"),Rq("name"),Rq("avatar"),Ece("custom")]),UK=t=>{const r={};return Xn(t,(a,u)=>{a.each(f=>{r[u]=f})}),r},Jhe=t=>{if(!Array.isArray(t))throw new Error("fetch_users must return an array");const r=fn(t,f=>Tq("Invalid user object",Xhe,f)),{errors:a,values:u}=rl(r);if(a.length>0){const f=fn(a,(y,A)=>`User at index ${A}: ${IN(y)}`);console.warn(`User validation errors:
`+f.join(`
`))}return fn(u,f=>{const{id:y,name:A,avatar:M,...H}=f;return{id:y,name:A.getOr(y),avatar:M.getOr(rL({id:y,name:A.getOr(y)})),...UK(H)}})},Qhe=t=>{const r=new Map,a=new Map,u=Y=>_e.from(r.get(Y)),f=(Y,ue)=>{r.set(ue,Y)},y=(Y,ue)=>_e.from(a.get(Y)).each(({reject:me})=>{me(ue),a.delete(Y)}),A=(Y,ue)=>_e.from(a.get(Y)).each(({resolve:me})=>{me(ue),a.delete(Y)}),M=Y=>{const ue=oT(t);if(Array.isArray(Y)){if(!ue)return Xo(Y,Se=>Promise.resolve({id:Se,name:Se,avatar:rL({id:Se,name:Se})}))}else return{};const me=To(Ge(Y,Se=>!u(Se).isSome()));return ct(me,Se=>{const Oe=new Promise((Ke,Ze)=>{a.set(Se,{resolve:Ke,reject:Ze})});f(Oe,Se)}),me.length>0&&ue(me).then(Jhe).then(Se=>{const Oe=new Set(fn(Se,Ke=>Ke.id));ct(Se,Ke=>A(Ke.id,Ke)),ct(me,Ke=>{Oe.has(Ke)||y(Ke,new Error(`User ${Ke} not found`))})}).catch(Se=>{ct(me,Oe=>y(Oe,Se instanceof Error?Se:new Error("Network error")))}),On(Y,(Se,Oe)=>(Se[Oe]=u(Oe).getOr(Promise.resolve({id:Oe,name:Oe,avatar:rL({id:Oe,name:Oe})})),Se),{})},H=j4(t);return Object.freeze({userId:H,fetchUsers:M})},efe=t=>Qhe(t),tfe=(t,r)=>{t._editableRoot!==r&&(t._editableRoot=r,hc(t)||(t.getBody().contentEditable=String(t.hasEditableRoot()),t.nodeChanged()),Oz(t,r))},nfe=t=>t._editableRoot,zK=(t,r)=>({sections:ot(t),options:ot(r)}),p2=id().deviceType,iL=p2.isPhone(),ofe=p2.isTablet(),ux=t=>{if(Xe(t))return[];{const r=Ae(t)?t:t.split(/[ ,]/),a=fn(r,Lr);return Ge(a,wi)}},jK=(t,r)=>{const a=ur(r,(u,f)=>zt(t,f));return zK(a.t,a.f)},sfe=(t,r,a={})=>{const u=t.sections(),f=dr(u,r).getOr({});return Zn.extend({},a,f)},aL=(t,r)=>jo(t.sections(),r),rfe=(t,r)=>aL(t,r)?t.sections()[r]:{},ife=(t,r)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:dr(t,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...r?{menubar:!1}:{}}),afe=(t,r)=>{var a;const u=(a=r.external_plugins)!==null&&a!==void 0?a:{};return t&&t.external_plugins?Zn.extend({},t.external_plugins,u):u},lfe=(t,r)=>[...ux(t),...ux(r)],WK=(t,r,a,u)=>t&&aL(r,"mobile")?u:a,GK=(t,r,a,u)=>{const f=ux(a.forced_plugins),y=ux(u.plugins),A=rfe(r,"mobile"),M=A.plugins?ux(A.plugins):y,H=WK(t,r,y,M),Y=lfe(f,H);return Zn.extend(u,{forced_plugins:f,plugins:Y})},qK=(t,r)=>t&&aL(r,"mobile"),ZK=(t,r,a,u,f)=>{var y;const A=t?{mobile:ife((y=f.mobile)!==null&&y!==void 0?y:{},r)}:{},M=jK(["mobile"],uh(A,f)),H=Zn.extend(a,u,M.options(),qK(t,M)?sfe(M,"mobile"):{},{external_plugins:afe(u,M.options())});return GK(t,M,u,H)},KK=(t,r)=>{const a=Vh(r);return ZK(iL||ofe,iL,a,t,a)},YK=(t,r)=>fW(t,r),WU=t=>{const r=(u,f)=>{t.formatter.toggle(u,f),t.nodeChanged()},a=u=>()=>{ct("left,center,right,justify".split(","),f=>{u!==f&&t.formatter.remove("align"+f)}),u!=="none"&&r("align"+u)};t.editorCommands.addCommands({JustifyLeft:a("left"),JustifyCenter:a("center"),JustifyRight:a("right"),JustifyFull:a("justify"),JustifyNone:a("none")})},XK=t=>{const r=a=>()=>{const u=t.selection,f=u.isCollapsed()?[t.dom.getParent(u.getNode(),t.dom.isBlock)]:u.getSelectedBlocks();return wn(f,y=>Ve(t.formatter.matchNode(y,a)))};t.editorCommands.addCommands({JustifyLeft:r("alignleft"),JustifyCenter:r("aligncenter"),JustifyRight:r("alignright"),JustifyFull:r("alignjustify")},"state")},JK=t=>{WU(t),XK(t)},QK=t=>{t.editorCommands.addCommands({"Cut,Copy,Paste":r=>{const a=t.getDoc();let u;try{a.execCommand(r)}catch{u=!0}if(r==="paste"&&!a.queryCommandEnabled(r)&&(u=!0),u||!a.queryCommandSupported(r)){let f=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Tr.os.isMacOS()||Tr.os.isiOS())&&(f=f.replace(/Ctrl\+/g,"⌘+")),t.notificationManager.open({text:f,type:"error"})}}})},cfe=(t,r,a,u)=>{const f=et.fromDom(t.getRoot());return $I(f,an.fromRangeStart(r),u)?a=a.replace(/^ /,"&nbsp;"):a=a.replace(/^&nbsp;/," "),UI(f,an.fromRangeEnd(r),u)?a=a.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):a=a.replace(/&nbsp;(<br( \/)?>)?$/," "),a},ufe=t=>{if(typeof t!="string"){const r=Zn.extend({paste:t.paste,data:{paste:t.paste}},t);return{content:t.content,details:r}}return{content:t,details:{}}},eY=(t,r)=>{const a=t.selection,u=t.dom;return/^ | $/.test(r)?cfe(u,a.getRng(),r,t.schema):r},m2=(t,r)=>{if(t.selection.isEditable()){const{content:a,details:u}=ufe(r);iR(t,{...u,content:eY(t,a),format:"html",set:!1,selection:!0}).each(f=>{const y=dW(t,f.content,u);JM(t,y,f),t.addVisual()})}},tY=t=>{t.editorCommands.addCommands({mceCleanup:()=>{const r=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(r)},insertImage:(r,a,u)=>{m2(t,t.dom.createHTML("img",{src:u}))},insertHorizontalRule:()=>{t.execCommand("mceInsertContent",!1,"<hr>")},insertText:(r,a,u)=>{m2(t,t.dom.encode(u))},insertHTML:(r,a,u)=>{m2(t,u)},mceInsertContent:(r,a,u)=>{m2(t,u)},mceSetContent:(r,a,u)=>{t.setContent(u)},mceReplaceContent:(r,a,u)=>{t.execCommand("mceInsertContent",!1,u.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceNewDocument:()=>{t.setContent(MD(t))}})},nY={"font-size":"size","font-family":"face"},GU=Cl("font"),qU=(t,r,a)=>{const u=y=>gl(y,t).orThunk(()=>GU(y)?dr(nY,t).bind(A=>vh(y,A)):_e.none()),f=y=>Do(et.fromDom(r),y);return Vu(et.fromDom(a),y=>u(y),f)},lL=t=>t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),oY=(t,r)=>_e.from(Ai.DOM.getStyle(r,t,!0)),ZU=t=>(r,a)=>_e.from(a).map(et.fromDom).filter(sa).bind(u=>qU(t,r,u.dom).or(oY(t,u.dom))).getOr(""),sY=ZU("font-size"),KU=te(lL,ZU("font-family")),rY=t=>Kd(t.getBody()).bind(r=>{const a=r.container();return _e.from(Un(a)?a.parentNode:a)}),iY=t=>_e.from(t.selection.getRng()).bind(r=>{const a=t.getBody();return r.startContainer===a&&r.startOffset===0?_e.none():_e.from(t.selection.getStart(!0))}),dfe=(t,r)=>iY(t).orThunk(at(rY,t)).map(et.fromDom).filter(sa).bind(r),cL=(t,r)=>dfe(t,hn(_e.some,r)),aY=(t,r)=>{if(/^[0-9.]+$/.test(r)){const a=parseInt(r,10);if(a>=1&&a<=7){const u=H4(t),f=P1(t);return f.length>0?f[a-1]||r:u[a-1]||r}else return r}else return r},hfe=t=>{const r=t.split(/\s*,\s*/);return fn(r,a=>a.indexOf(" ")!==-1&&!(Ss(a,'"')||Ss(a,"'"))?`'${a}'`:a).join(",")},ffe=(t,r)=>{const a=aY(t,r);t.formatter.toggle("fontname",{value:hfe(a)}),t.nodeChanged()},lY=t=>cL(t,r=>KU(t.getBody(),r.dom)).getOr(""),pfe=(t,r)=>{t.formatter.toggle("fontsize",{value:aY(t,r)}),t.nodeChanged()},cY=t=>cL(t,r=>sY(t.getBody(),r.dom)).getOr(""),uL=t=>cL(t,r=>{const a=et.fromDom(t.getBody()),u=Vu(r,y=>gl(y,"line-height"),at(Do,a)),f=()=>{const y=parseFloat(Ga(r,"line-height")),A=parseFloat(Ga(r,"font-size"));return String(y/A)};return u.getOrThunk(f)}).getOr(""),mfe=(t,r)=>{t.formatter.toggle("lineheight",{value:String(r)}),t.nodeChanged()},uY=t=>{const r=(a,u)=>{t.formatter.toggle(a,u),t.nodeChanged()};t.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":a=>{r(a)},"ForeColor,HiliteColor":(a,u,f)=>{r(a,{value:f})},BackColor:(a,u,f)=>{r("hilitecolor",{value:f})},FontName:(a,u,f)=>{ffe(t,f)},FontSize:(a,u,f)=>{pfe(t,f)},LineHeight:(a,u,f)=>{mfe(t,f)},Lang:(a,u,f)=>{var y;r(a,{value:f.code,customValue:(y=f.customCode)!==null&&y!==void 0?y:null})},RemoveFormat:a=>{t.formatter.remove(a)},mceBlockQuote:()=>{r("blockquote")},FormatBlock:(a,u,f)=>{r(ie(f)?f:"p")},mceToggleFormat:(a,u,f)=>{r(f)}})},gfe=t=>{const r=a=>t.formatter.match(a);t.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":a=>r(a),mceBlockQuote:()=>r("blockquote")},"state"),t.editorCommands.addQueryValueHandler("FontName",()=>lY(t)),t.editorCommands.addQueryValueHandler("FontSize",()=>cY(t)),t.editorCommands.addQueryValueHandler("LineHeight",()=>uL(t))},dY=t=>{uY(t),gfe(t)},YU=t=>{t.editorCommands.addCommands({mceAddUndoLevel:()=>{t.undoManager.add()},mceEndUndoLevel:()=>{t.undoManager.add()},Undo:()=>{t.undoManager.undo()},Redo:()=>{t.undoManager.redo()}})},vfe=t=>{t.editorCommands.addCommands({Indent:()=>{ule(t)},Outdent:()=>{hG(t)}}),t.editorCommands.addCommands({Outdent:()=>PR(t),Indent:()=>s$(t)},"state")},bfe=t=>{const r=(a,u,f)=>{if(t.mode.isReadOnly())return;const y=ie(f)?{href:f}:f,A=t.dom.getParent(t.selection.getNode(),"a");be(y)&&ie(y.href)&&(y.href=y.href.replace(/ /g,"%20").replace(/&amp;/g,"&"),(!A||!y.href)&&t.formatter.remove("link"),y.href&&t.formatter.apply("link",y,A))};t.editorCommands.addCommands({unlink:()=>{if(t.selection.isEditable()){if(t.selection.isCollapsed()){const a=t.dom.getParent(t.selection.getStart(),"a");a&&t.dom.remove(a,!0);return}t.formatter.remove("link")}},mceInsertLink:r,createLink:r})},hY=(t,r,a,u)=>{const f=t.dom,y=M=>f.isBlock(M)&&M.parentElement===a,A=y(r)?r:f.getParent(u,y,a);return _e.from(A).map(et.fromDom)},fY=(t,r)=>{if(t.mode.isReadOnly())return;const a=t.dom,u=t.selection.getRng(),f=r?t.selection.getStart():t.selection.getEnd(),y=r?u.startContainer:u.endContainer,A=nx(a,y);if(!A||!A.isContentEditable)return;const M=r?Mc:mh,H=Wu(t);hY(t,f,A,y).each(Y=>{const ue=Y$(t,y,Y.dom,A,!1,H);M(Y,et.fromDom(ue)),t.selection.setCursorLocation(ue,0),t.dispatch("NewBlock",{newBlock:ue}),ex(t,"insertParagraph")})},yfe=t=>fY(t,!0),Sfe=t=>fY(t,!1),Cfe=t=>{t.editorCommands.addCommands({InsertNewBlockBefore:()=>{yfe(t)},InsertNewBlockAfter:()=>{Sfe(t)}})},Efe=t=>{t.editorCommands.addCommands({insertParagraph:()=>{NN(Qq,t)},mceInsertNewLine:(r,a,u)=>{rZ(t,u)},InsertLineBreak:(r,a,u)=>{NN(eZ,t)}})},pY=t=>{t.editorCommands.addCommands({mceSelectNodeDepth:(r,a,u)=>{let f=0;t.dom.getParent(t.selection.getNode(),y=>No(y)&&f++===u?(t.selection.select(y),!1):!0,t.getBody())},mceSelectNode:(r,a,u)=>{t.selection.select(u)},selectAll:()=>{const r=t.dom.getParent(t.selection.getStart(),cu);if(r){const a=t.dom.createRng();a.selectNodeContents(r),t.selection.setRng(a)}}})},mY=t=>{t.editorCommands.addCommands({mceRemoveNode:(r,a,u)=>{const f=u??t.selection.getNode();if(f!==t.getBody()){const y=t.selection.getBookmark();t.dom.remove(f,!0),t.selection.moveToBookmark(y)}},mcePrint:()=>{t.getWin().print()},mceFocus:(r,a,u)=>{Ote(t,u===!0)},mceToggleVisualAid:()=>{t.hasVisual=!t.hasVisual,t.addVisual()}})},wfe=t=>{JK(t),QK(t),YU(t),pY(t),tY(t),bfe(t),vfe(t),Cfe(t),Efe(t),dY(t),mY(t)},_fe=["toggleview"],gY=t=>zt(_fe,t.toLowerCase());class vY{constructor(r){this.commands={state:{},exec:{},value:{}},this.editor=r}execCommand(r,a=!1,u,f){const y=this.editor,A=r.toLowerCase(),M=f==null?void 0:f.skip_focus;if(y.removed||(A!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(A)&&!M?y.focus():$z(y)),y.dispatch("BeforeExecCommand",{command:r,ui:a,value:u}).isDefaultPrevented()))return!1;const Y=this.commands.exec[A];return Re(Y)?(Y(A,a,u,f),y.dispatch("ExecCommand",{command:r,ui:a,value:u,args:f}),!0):!1}queryCommandState(r){if(!gY(r)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const a=r.toLowerCase(),u=this.commands.state[a];return Re(u)?u(a):!1}queryCommandValue(r){if(!gY(r)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const a=r.toLowerCase(),u=this.commands.value[a];return Re(u)?u(a):""}addCommands(r,a="exec"){const u=this.commands;Xn(r,(f,y)=>{ct(y.toLowerCase().split(","),A=>{u[a][A]=f})})}addCommand(r,a,u){const f=r.toLowerCase();this.commands.exec[f]=(y,A,M,H)=>a.call(u??this.editor,A,M,H)}queryCommandSupported(r){const a=r.toLowerCase();return!!this.commands.exec[a]}addQueryStateHandler(r,a,u){this.commands.state[r.toLowerCase()]=()=>a.call(u??this.editor)}addQueryValueHandler(r,a,u){this.commands.value[r.toLowerCase()]=()=>a.call(u??this.editor)}}const s=Zn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class l{static isNative(r){return!!s[r.toLowerCase()]}constructor(r){this.bindings={},this.settings=r||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||qt}fire(r,a){return this.dispatch(r,a)}dispatch(r,a){const u=r.toLowerCase(),f=m1(u,a??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(f);const y=this.bindings[u];if(y)for(let A=0,M=y.length;A<M;A++){const H=y[A];if(!H.removed){if(H.once&&this.off(u,H.func),f.isImmediatePropagationStopped())return f;if(H.func.call(this.scope,f)===!1)return f.preventDefault(),f}}return f}on(r,a,u,f){if(a===!1&&(a=qt),a){const y={func:a,removed:!1};f&&Zn.extend(y,f);const A=r.toLowerCase().split(" ");let M=A.length;for(;M--;){const H=A[M];let Y=this.bindings[H];Y||(Y=[],this.toggleEvent(H,!0)),u?Y=[y,...Y]:Y=[...Y,y],this.bindings[H]=Y}}return this}off(r,a){if(r){const u=r.toLowerCase().split(" ");let f=u.length;for(;f--;){const y=u[f];let A=this.bindings[y];if(!y)return Xn(this.bindings,(M,H)=>{this.toggleEvent(H,!1),delete this.bindings[H]}),this;if(A){if(!a)A.length=0;else{const M=Yt(A,H=>H.func===a);A=M.fail,this.bindings[y]=A,ct(M.pass,H=>{H.removed=!0})}A.length||(this.toggleEvent(r,!1),delete this.bindings[y])}}}else Xn(this.bindings,(u,f)=>{this.toggleEvent(f,!1)}),this.bindings={};return this}once(r,a,u){return this.on(r,a,u,{once:!0})}has(r){r=r.toLowerCase();const a=this.bindings[r];return!(!a||a.length===0)}}const h=t=>(t._eventDispatcher||(t._eventDispatcher=new l({scope:t,toggleEvent:(r,a)=>{l.isNative(r)&&t.toggleNativeEvent&&t.toggleNativeEvent(r,a)}})),t._eventDispatcher),g={fire(t,r,a){return g7("fire"),this.dispatch(t,r,a)},dispatch(t,r,a){const u=this;if(u.removed&&t!=="remove"&&t!=="detach")return m1(t.toLowerCase(),r??{},u);const f=h(u).dispatch(t,r);if(a!==!1&&u.parent){let y=u.parent();for(;y&&!f.isPropagationStopped();)y.dispatch(t,f,!1),y=y.parent?y.parent():void 0}return f},on(t,r,a){return h(this).on(t,r,a)},off(t,r){return h(this).off(t,r)},once(t,r){return h(this).once(t,r)},hasEventListeners(t){return h(this).has(t)}},E=Ai.DOM;let O;const R=(t,r)=>{if(r==="selectionchange")return t.getDoc();if(!t.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(r))return t.getDoc().documentElement;const a=ZA(t);return a?(t.eventRoot||(t.eventRoot=E.select(a)[0]),t.eventRoot):t.getBody()},G=t=>!t.hidden&&!hc(t),K=(t,r,a)=>{G(t)?t.dispatch(r,a):hc(t)&&ag(t,a)},oe=(t,r)=>{if(t.delegates||(t.delegates={}),t.delegates[r]||t.removed)return;const a=R(t,r);if(ZA(t)){if(O||(O={},t.editorManager.on("removeEditor",()=>{t.editorManager.activeEditor||O&&(Xn(O,(f,y)=>{t.dom.unbind(R(t,y))}),O=null)})),O[r])return;const u=f=>{const y=f.target,A=t.editorManager.get();let M=A.length;for(;M--;){const H=A[M].getBody();(H===y||E.isChildOf(y,H))&&K(A[M],r,f)}};O[r]=u,E.bind(a,r,u)}else{const u=f=>{K(t,r,f)};E.bind(a,r,u),t.delegates[r]=u}},fe={...g,bindPendingEventDelegates(){const t=this;Zn.each(t._pendingNativeEvents,r=>{oe(t,r)})},toggleNativeEvent(t,r){const a=this;t==="focus"||t==="blur"||a.removed||(r?a.initialized?oe(a,t):a._pendingNativeEvents?a._pendingNativeEvents.push(t):a._pendingNativeEvents=[t]:a.initialized&&a.delegates&&(a.dom.unbind(R(a,t),t,a.delegates[t]),delete a.delegates[t]))},unbindAllNativeEvents(){const t=this,r=t.getBody(),a=t.dom;t.delegates&&(Xn(t.delegates,(u,f)=>{t.dom.unbind(R(t,f),f,u)}),delete t.delegates),!t.inline&&r&&a&&(r.onload=null,a.unbind(t.getWin()),a.unbind(t.getDoc())),a&&(a.unbind(r),a.unbind(t.getContainer()))}},ve=t=>ie(t)?{value:t.split(/[ ,]/),valid:!0}:mt(t,ie)?{value:t,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},De=t=>{const r=(()=>{switch(t){case"array":return Ae;case"boolean":return Ie;case"function":return Re;case"number":return vt;case"object":return be;case"string":return ie;case"string[]":return ve;case"object[]":return a=>mt(a,be);case"regexp":return a=>le(a,RegExp);default:return Tn}})();return a=>pt(a,r,`The value must be a ${t}.`)},Ue=t=>ie(t.processor),He=(t,r)=>{const a=Sc(r.message)?"":`. ${r.message}`;return t+a},nt=t=>t.valid,pt=(t,r,a="")=>{const u=r(t);return Ie(u)?u?{value:t,valid:!0}:{valid:!1,message:a}:u},st=(t,r,a)=>{if(!tt(r)){const u=pt(r,a);if(nt(u))return u.value;console.error(He(`Invalid default value passed for the "${t}" option`,u))}},yt=(t,r,a=r)=>{const u={},f={},y=(Oe,Ke,Ze)=>{const We=pt(Ke,Ze);return nt(We)?(f[Oe]=We.value,!0):(console.warn(He(`Invalid value passed for the ${Oe} option`,We)),!1)},A=(Oe,Ke)=>{const Ze=Ue(Ke)?De(Ke.processor):Ke.processor,We=st(Oe,Ke.default,Ze);u[Oe]={...Ke,default:We,processor:Ze},dr(f,Oe).orThunk(()=>dr(r,Oe)).each(Et=>y(Oe,Et,Ze))},M=Oe=>jo(u,Oe);return{register:A,isRegistered:M,get:Oe=>dr(f,Oe).orThunk(()=>dr(u,Oe).map(Ke=>Ke.default)).getOrUndefined(),set:(Oe,Ke)=>{if(M(Oe)){const Ze=u[Oe];return Ze.immutable?(console.error(`"${Oe}" is an immutable option and cannot be updated`),!1):y(Oe,Ke,Ze.processor)}else return console.warn(`"${Oe}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:Oe=>{const Ke=M(Oe);return Ke&&delete f[Oe],Ke},isSet:Oe=>jo(f,Oe),debug:()=>{try{console.log(JSON.parse(JSON.stringify(a,(Oe,Ke)=>Ie(Ke)||vt(Ke)||ie(Ke)||F(Ke)||Ae(Ke)||Ce(Ke)?Ke:Object.prototype.toString.call(Ke))))}catch(Oe){console.error(Oe)}}}},_t=(t,r)=>{t.dom.contentEditable="true"},Qt=(t,r)=>{const a=et.fromDom(t.getBody());r?(t.readonly=!0,t.hasEditableRoot()&&_t(a),VW(t)):(t.readonly=!1,ZF(t))},nn=t=>t.readonly,So=t=>{const r=t.undoManager.add();Ve(r)&&(t.undoManager.undo(),t.undoManager.reset())},Hn=t=>wn(t,r=>r.type==="characterData"||r.type==="childList"),Wn=t=>{const r=u=>{nn(t)&&Hn(u)&&So(t)},a=new MutationObserver(r);t.on("beforeinput paste cut dragend dragover draggesture dragdrop drop drag",u=>{nn(t)&&u.preventDefault()}),t.on("BeforeExecCommand",u=>{(u.command==="Undo"||u.command==="Redo")&&nn(t)&&u.preventDefault()}),t.on("compositionstart",()=>{nn(t)&&a.observe(t.getBody(),{characterData:!0,childList:!0,subtree:!0})}),t.on("compositionend",()=>{if(nn(t)){const u=a.takeRecords();r(u)}a.disconnect()})},Bn=["design","readonly"],ds=(t,r,a,u)=>{const f=a[r.get()],y=a[u];try{y.activate()}catch(A){console.error(`problem while activating editor mode ${u}:`,A);return}f.deactivate(),f.editorReadOnly!==y.editorReadOnly&&Qt(t,y.editorReadOnly),r.set(u),b4(t,u)},Zo=(t,r,a,u)=>{if(!(u===a.get()||t.initialized&&hc(t))){if(!jo(r,u))throw new Error(`Editor mode '${u}' is invalid`);t.initialized?ds(t,a,r,u):t.on("init",()=>ds(t,a,r,u))}},kr=(t,r,a)=>{if(zt(Bn,r))throw new Error(`Cannot override default mode ${r}`);return{...t,[r]:{...a,deactivate:()=>{try{a.deactivate()}catch(u){console.error(`problem while deactivating editor mode ${r}:`,u)}}}}},As=t=>{const r=zo("design"),a=zo({design:{activate:gt,deactivate:gt,editorReadOnly:!1},readonly:{activate:gt,deactivate:gt,editorReadOnly:!0}});return Wn(t),Lre(t),{isReadOnly:()=>nn(t),set:u=>Zo(t,a.get(),r,u),get:()=>r.get(),register:(u,f)=>{a.set(kr(a.get(),u,f))}}},Xs=Zn.each,Wo=Zn.explode,Nn={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},fo=Zn.makeMap("alt,ctrl,shift,meta,access"),Is=t=>t in fo,er=t=>{const r={},a=Tr.os.isMacOS()||Tr.os.isiOS();Xs(Wo(t.toLowerCase(),"+"),y=>{Is(y)?r[y]=!0:/^[0-9]{2,}$/.test(y)?r.keyCode=parseInt(y,10):(r.charCode=y.charCodeAt(0),r.keyCode=Nn[y]||y.toUpperCase().charCodeAt(0))});const u=[r.keyCode];let f;for(f in fo)r[f]?u.push(f):r[f]=!1;return r.id=u.join(","),r.access&&(r.alt=!0,a?r.ctrl=!0:r.shift=!0),r.meta&&(a?r.meta=!0:(r.ctrl=!0,r.meta=!1)),r};class Qo{constructor(r){this.shortcuts={},this.pendingPatterns=[],this.editor=r;const a=this;r.on("keyup keypress keydown",u=>{(a.hasModifier(u)||a.isFunctionKey(u))&&!u.isDefaultPrevented()&&(Xs(a.shortcuts,f=>{a.matchShortcut(u,f)&&(a.pendingPatterns=f.subpatterns.slice(0),u.type==="keydown"&&a.executeShortcutAction(f))}),a.matchShortcut(u,a.pendingPatterns[0])&&(a.pendingPatterns.length===1&&u.type==="keydown"&&a.executeShortcutAction(a.pendingPatterns[0]),a.pendingPatterns.shift()))})}add(r,a,u,f){const y=this,A=y.normalizeCommandFunc(u);return Xs(Wo(Zn.trim(r)),M=>{const H=y.createShortcut(M,a,A,f);y.shortcuts[H.id]=H}),!0}remove(r){const a=this.createShortcut(r);return this.shortcuts[a.id]?(delete this.shortcuts[a.id],!0):!1}normalizeCommandFunc(r){const a=this,u=r;return typeof u=="string"?()=>{a.editor.execCommand(u,!1,null)}:Zn.isArray(u)?()=>{a.editor.execCommand(u[0],u[1],u[2])}:u}createShortcut(r,a,u,f){const y=Zn.map(Wo(r,">"),er);return y[y.length-1]=Zn.extend(y[y.length-1],{func:u,scope:f||this.editor}),Zn.extend(y[0],{desc:this.editor.translate(a),subpatterns:y.slice(1)})}hasModifier(r){return r.altKey||r.ctrlKey||r.metaKey}isFunctionKey(r){return r.type==="keydown"&&r.keyCode>=112&&r.keyCode<=123}matchShortcut(r,a){return!a||a.ctrl!==r.ctrlKey||a.meta!==r.metaKey||a.alt!==r.altKey||a.shift!==r.shiftKey?!1:r.keyCode===a.keyCode||r.charCode&&r.charCode===a.charCode?(r.preventDefault(),!0):!1}executeShortcutAction(r){return r.func?r.func.call(r.scope):null}}const Qs=()=>{const t=Rce();return{addAutocompleter:t.addAutocompleter,addButton:t.addButton,addContextForm:t.addContextForm,addContextMenu:t.addContextMenu,addContextToolbar:t.addContextToolbar,addIcon:t.addIcon,addMenuButton:t.addMenuButton,addMenuItem:t.addMenuItem,addNestedMenuItem:t.addNestedMenuItem,addSidebar:t.addSidebar,addSplitButton:t.addSplitButton,addToggleButton:t.addToggleButton,addGroupToolbarButton:t.addGroupToolbarButton,addToggleMenuItem:t.addToggleMenuItem,addView:t.addView,addContext:t.addContext,getAll:t.getAll}},pi=Ai.DOM,si=Zn.extend,rf=Zn.each;class _a{constructor(r,a,u){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=u,si(this,fe);const f=this;this.id=r,this.editorUid=od(),this.hidden=!1;const y=KK(u.defaultOptions,a);this.options=yt(f,y,a),uw(f),this.userLookup=efe(this);const A=this.options.get;A("deprecation_warnings")&&Qoe(a,y);const M=A("suffix");M&&(u.suffix=M),this.suffix=u.suffix;const H=A("base_url");H&&u._setBaseUrl(H),this.baseUri=u.baseURI;const Y=XO(f);Y&&(Xl.ScriptLoader._setReferrerPolicy(Y),Ai.DOM.styleSheetLoader._setReferrerPolicy(Y)),Xl.ScriptLoader._setCrossOrigin(Oe=>fw(f)(Oe,"script")),Ai.DOM.styleSheetLoader._setCrossOrigin(Oe=>fw(f)(Oe,"stylesheet"));const ue=yw(f);Ve(ue)&&Ai.DOM.styleSheetLoader._setContentCssCors(ue),Gc.languageLoad=A("language_load"),Gc.baseURL=u.baseURL,this.setDirty(!1),this.documentBaseURI=new xh(dw(f),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=KA(f),this.hasVisual=b0(f),this.shortcuts=new Qo(this),this.editorCommands=new vY(this),wfe(this);const me=A("cache_suffix");me&&(Tr.cacheSuffix=me.replace(/^[\?\&]+/,"")),this.ui={registry:Qs(),styleSheetLoader:void 0,show:gt,hide:gt,setEnabled:gt,isEnabled:Tn},this.mode=As(f),Object.defineProperty(this,"editorUid",{writable:!1,configurable:!1,enumerable:!0}),u.dispatch("SetupEditor",{editor:this});const Se=OD(f);Re(Se)&&Se.call(f,f)}render(){qhe(this)}focus(r){this.execCommand("mceFocus",!1,r)}hasFocus(){return Bw(this)}translate(r){return yp.translate(r)}getParam(r,a,u){const f=this.options;return f.isRegistered(r)||(Ve(u)?f.register(r,{processor:u,default:a}):f.register(r,{processor:Tn,default:a})),!f.isSet(r)&&!tt(a)?a:f.get(r)}hasPlugin(r,a){return zt(k1(this),r)?a?xy.get(r)!==void 0:!0:!1}nodeChanged(r){this._nodeChangeDispatcher.nodeChanged(r)}addCommand(r,a,u){this.editorCommands.addCommand(r,a,u)}addQueryStateHandler(r,a,u){this.editorCommands.addQueryStateHandler(r,a,u)}addQueryValueHandler(r,a,u){this.editorCommands.addQueryValueHandler(r,a,u)}addShortcut(r,a,u,f){this.shortcuts.add(r,a,u,f)}execCommand(r,a,u,f){return this.editorCommands.execCommand(r,a,u,f)}queryCommandState(r){return this.editorCommands.queryCommandState(r)}queryCommandValue(r){return this.editorCommands.queryCommandValue(r)}queryCommandSupported(r){return this.editorCommands.queryCommandSupported(r)}show(){const r=this;r.hidden&&(r.hidden=!1,r.inline?r.getBody().contentEditable="true":(pi.show(r.getContainer()),pi.hide(r.id)),r.load(),r.dispatch("show"))}hide(){const r=this;r.hidden||(r.save(),r.inline?(r.getBody().contentEditable="false",r===r.editorManager.focusedEditor&&(r.editorManager.focusedEditor=null)):(pi.hide(r.getContainer()),pi.setStyle(r.id,"display",r.orgDisplay)),r.hidden=!0,r.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(r,a){this.dispatch("ProgressState",{state:r,time:a})}load(r={}){const a=this,u=a.getElement();if(!a.removed&&u){const f={...r,load:!0},y=FE(u)?u.value:u.innerHTML;a.setContent(y,f),f.no_events||a.dispatch("LoadContent",{...f,element:u})}}save(r={}){const a=this;let u=a.getElement();if(!u||!a.initialized||a.removed)return"";const f={...r,save:!0,element:u};let y=a.getContent(f);const A={...f,content:y};if(A.no_events||a.dispatch("SaveContent",A),A.format==="raw"&&a.dispatch("RawSaveContent",A),y=A.content,FE(u))u.value=y;else{(r.is_removing||!a.inline)&&(u.innerHTML=y);const M=pi.getParent(a.id,"form");M&&rf(M.elements,H=>H.name===a.id?(H.value=y,!1):!0)}return A.element=f.element=u=null,A.set_dirty!==!1&&a.setDirty(!1),y}setContent(r,a){mR(this,r,a)}getContent(r){return TW(this,r)}insertContent(r,a){a&&(r=si({content:r},a)),this.execCommand("mceInsertContent",!1,r)}resetContent(r){r===void 0?mR(this,this.startContent,{initial:!0,format:"raw"}):mR(this,r,{initial:!0}),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(r){const a=!this.isNotDirty;this.isNotDirty=!r,r&&r!==a&&this.dispatch("dirty")}getContainer(){const r=this;return r.container||(r.container=r.editorContainer||pi.get(r.id+"_parent")),r.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=pi.get(this.id)),this.targetElm}getWin(){const r=this;if(!r.contentWindow){const a=r.iframeElement;a&&(r.contentWindow=a.contentWindow)}return r.contentWindow}getDoc(){const r=this;if(!r.contentDocument){const a=r.getWin();a&&(r.contentDocument=a.document)}return r.contentDocument}getBody(){var r,a;const u=this.getDoc();return(a=(r=this.bodyElement)!==null&&r!==void 0?r:u==null?void 0:u.body)!==null&&a!==void 0?a:null}convertURL(r,a,u){const f=this,y=f.options.get,A=RD(f);if(Re(A))return A.call(f,r,u,!0,a);if(!y("convert_urls")||u==="link"||be(u)&&u.nodeName==="LINK"||r.indexOf("file:")===0||r.length===0)return r;const M=new xh(r);return M.protocol!=="http"&&M.protocol!=="https"&&M.protocol!==""?r:y("relative_urls")?f.documentBaseURI.toRelative(r):(r=f.documentBaseURI.toAbsolute(r,y("remove_script_host")),r)}addVisual(r){YK(this,r)}setEditableRoot(r){tfe(this,r)}hasEditableRoot(){return nfe(this)}remove(){xW(this)}destroy(r){OW(this,r)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Sd=Ai.DOM,Lc=Zn.each;let Ff=!1,Ih,$l=[];const My=t=>{const r=t.type;Lc(Py.get(),a=>{switch(r){case"scroll":a.dispatch("ScrollWindow",t);break;case"resize":a.dispatch("ResizeWindow",t);break}})},vv=t=>{if(t!==Ff){const r=Ai.DOM;t?(r.bind(window,"resize",My),r.bind(window,"scroll",My)):(r.unbind(window,"resize",My),r.unbind(window,"scroll",My)),Ff=t}},b_=t=>{const r=$l;return $l=Ge($l,a=>t!==a),Py.activeEditor===t&&(Py.activeEditor=$l.length>0?$l[0]:null),Py.focusedEditor===t&&(Py.focusedEditor=null),r.length!==$l.length},iS=t=>{t&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(b_(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0)},g2=document.compatMode!=="CSS1Compat",Py={...g,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,pageUid:od(),majorVersion:"8",minorVersion:"1.2",releaseDate:"TBD",i18n:yp,activeEditor:null,focusedEditor:null,setup(){const t=this;let r="",a="",u=xh.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(u)&&(u=u.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(u)||(u+="/"));const f=window.tinymce||window.tinyMCEPreInit;if(f)r=f.base||f.baseURL,a=f.suffix;else{const y=document.getElementsByTagName("script");for(let A=0;A<y.length;A++){const M=y[A].src||"";if(M==="")continue;const H=M.substring(M.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(M)){H.indexOf(".min")!==-1&&(a=".min"),r=M.substring(0,M.lastIndexOf("/"));break}}if(!r&&document.currentScript){const A=document.currentScript.src;A.indexOf(".min")!==-1&&(a=".min"),r=A.substring(0,A.lastIndexOf("/"))}}t.baseURL=new xh(u).toAbsolute(r),t.documentBaseURL=u,t.baseURI=new xh(t.baseURL),t.suffix=a,_te(t),ct(["majorVersion","minorVersion","releaseDate","pageUid","_addLicenseKeyManager"],y=>Object.defineProperty(t,y,{writable:!1,configurable:!1,enumerable:!0}))},overrideDefaults(t){const r=t.base_url;r&&this._setBaseUrl(r);const a=t.suffix;a&&(this.suffix=a),this.defaultOptions=t;const u=t.plugin_base_urls;u!==void 0&&Xn(u,(f,y)=>{Gc.PluginManager.urls[y]=f})},init(t){const r=this;let a;const u=Zn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),f=(ue,me)=>ue.inline&&me.tagName.toLowerCase()in u,y=ue=>{let me=ue.id;return me||(me=dr(ue,"name").filter(Se=>!Sd.get(Se)).getOrThunk(Sd.uniqueId),ue.setAttribute("id",me)),me},A=ue=>{const me=t[ue];if(me)return me.apply(r,[])},M=ue=>Tr.browser.isIE()||Tr.browser.isEdge()?(FC("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/8/support/#supportedwebbrowsers"),[]):g2?(FC("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):ie(ue.selector)?Sd.select(ue.selector):Ve(ue.target)?[ue.target]:[];let H=ue=>{a=ue};const Y=()=>{let ue=0;const me=[];let Se;const Oe=(Ke,Ze,We)=>{const Ct=new _a(Ke,Ze,r);me.push(Ct),Ct.on("init",()=>{++ue===Se.length&&H(me)}),Ct.targetElm=Ct.targetElm||We,Ct.render()};Sd.unbind(window,"ready",Y),A("onpageload"),Se=To(M(t)),Zn.each(Se,Ke=>{iS(r.get(Ke.id))}),Se=Zn.grep(Se,Ke=>!r.get(Ke.id)),Se.length===0?H([]):Lc(Se,Ke=>{f(t,Ke)?FC("Could not initialize inline editor on invalid inline target element",Ke):Oe(y(Ke),t,Ke)})};return Sd.bind(window,"ready",Y),new Promise(ue=>{a?ue(a):H=me=>{ue(me)}})},get(t){return arguments.length===0?$l.slice(0):ie(t)?$t($l,r=>r.id===t).getOr(null):vt(t)&&$l[t]?$l[t]:null},add(t){const r=this,a=r.get(t.id);return a===t||(a===null&&$l.push(t),vv(!0),r.activeEditor=t,r.dispatch("AddEditor",{editor:t}),Ih||(Ih=u=>{const f=r.dispatch("BeforeUnload");if(f.returnValue)return u.preventDefault(),u.returnValue=f.returnValue,f.returnValue},window.addEventListener("beforeunload",Ih))),t},createEditor(t,r){return this.add(new _a(t,r,this))},remove(t){const r=this;let a;if(!t){for(let u=$l.length-1;u>=0;u--)r.remove($l[u]);return}if(ie(t)){Lc(Sd.select(t),u=>{a=r.get(u.id),a&&r.remove(a)});return}return a=t,F(r.get(a.id))?null:(b_(a)&&r.dispatch("RemoveEditor",{editor:a}),$l.length===0&&window.removeEventListener("beforeunload",Ih),a.remove(),vv($l.length>0),a)},execCommand(t,r,a){var u;const f=this,y=be(a)?(u=a.id)!==null&&u!==void 0?u:a.index:a;switch(t){case"mceAddEditor":{if(!f.get(y)){const A=a.options;new _a(y,A,f).render()}return!0}case"mceRemoveEditor":{const A=f.get(y);return A&&A.remove(),!0}case"mceToggleEditor":{const A=f.get(y);return A?(A.isHidden()?A.show():A.hide(),!0):(f.execCommand("mceAddEditor",!1,a),!0)}}return f.activeEditor?f.activeEditor.execCommand(t,r,a):!1},triggerSave:()=>{Lc($l,t=>{t.save()})},addI18n:(t,r)=>{yp.add(t,r)},translate:t=>yp.translate(t),setActive(t){const r=this.activeEditor;this.activeEditor!==t&&(r&&r.dispatch("deactivate",{relatedTarget:t}),t.dispatch("activate",{relatedTarget:r})),this.activeEditor=t},_setBaseUrl(t){this.baseURL=new xh(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new xh(this.baseURL)},_addLicenseKeyManager:t=>OP.add(t)};Py.setup();const dL=(()=>{const t=kc(),r=y=>({items:y,types:cn(y),getType:A=>dr(y,A).getOrUndefined()}),a=y=>{t.set(y)},u=()=>t.get().getOrUndefined(),f=t.clear;return{FakeClipboardItem:r,write:a,read:u,clear:f}})(),b2=Math.min,y_=Math.max,y2=Math.round,bY=(t,r,a)=>{let u=r.x,f=r.y;const y=t.w,A=t.h,M=r.w,H=r.h,Y=(a||"").split("");return Y[0]==="b"&&(f+=H),Y[1]==="r"&&(u+=M),Y[0]==="c"&&(f+=y2(H/2)),Y[1]==="c"&&(u+=y2(M/2)),Y[3]==="b"&&(f-=A),Y[4]==="r"&&(u-=y),Y[3]==="c"&&(f-=y2(A/2)),Y[4]==="c"&&(u-=y2(y/2)),S_(u,f,y,A)},XU=(t,r,a,u)=>{for(let f=0;f<u.length;f++){const y=bY(t,r,u[f]);if(y.x>=a.x&&y.x+y.w<=a.w+a.x&&y.y>=a.y&&y.y+y.h<=a.h+a.y)return u[f]}return null},S2=(t,r,a)=>S_(t.x-r,t.y-a,t.w+r*2,t.h+a*2),dx=(t,r)=>{const a=y_(t.x,r.x),u=y_(t.y,r.y),f=b2(t.x+t.w,r.x+r.w),y=b2(t.y+t.h,r.y+r.h);return f-a<0||y-u<0?null:S_(a,u,f-a,y-u)},hx=(t,r,a)=>{let u=t.x,f=t.y,y=t.x+t.w,A=t.y+t.h;const M=r.x+r.w,H=r.y+r.h,Y=y_(0,r.x-u),ue=y_(0,r.y-f),me=y_(0,y-M),Se=y_(0,A-H);return u+=Y,f+=ue,a&&(y+=Y,A+=ue,u-=me,f-=Se),y-=me,A-=Se,S_(u,f,y-u,A-f)},S_=(t,r,a,u)=>({x:t,y:r,w:a,h:u}),yY={inflate:S2,relativePosition:bY,findBestRelativePosition:XU,intersect:dx,clamp:hx,create:S_,fromClientRect:t=>S_(t.left,t.top,t.width,t.height)},JU=(t,r,a=1e3)=>{let u=!1,f=null;const y=Y=>(...ue)=>{u||(u=!0,f!==null&&(window.clearTimeout(f),f=null),Y.apply(null,ue))},A=y(t),M=y(r);return{start:(...Y)=>{!u&&f===null&&(f=window.setTimeout(()=>M.apply(null,Y),a))},resolve:A,reject:M}},hL=(()=>{const t={},r={},a={};return{load:(H,Y)=>{const ue=`Script at URL "${Y}" failed to load`,me=`Script at URL "${Y}" did not call \`tinymce.Resource.add('${H}', data)\` within 1 second`;if(t[H]!==void 0)return t[H];{const Se=new Promise((Oe,Ke)=>{const Ze=JU(Oe,Ke);r[H]=Ze.resolve,Xl.ScriptLoader.loadScript(Y).then(()=>Ze.start(me),()=>Ze.reject(ue))});return t[H]=Se,Se}},add:(H,Y)=>{r[H]!==void 0&&(r[H](Y),delete r[H]),t[H]=Promise.resolve(Y),a[H]=Y},has:H=>H in a,get:H=>a[H],unload:H=>{delete t[H],delete a[H]}}})(),fL=()=>(()=>{let t={},r=[];const a={getItem:u=>{const f=t[u];return f||null},setItem:(u,f)=>{r.push(u),t[u]=String(f)},key:u=>r[u],removeItem:u=>{r=r.filter(f=>f===u),delete t[u]},clear:()=>{r=[],t={}},length:0};return Object.defineProperty(a,"length",{get:()=>r.length,configurable:!1,enumerable:!1}),a})();let bv;try{const t="__storage_test__";bv=window.localStorage,bv.setItem(t,t),bv.removeItem(t)}catch{bv=fL()}var fx=bv;const QU={geom:{Rect:yY},util:{Delay:lv,Tools:Zn,VK:_o,URI:xh,EventDispatcher:l,Observable:g,I18n:yp,LocalStorage:fx,ImageUploader:Ure},dom:{EventUtils:bp,TreeWalker:Ki,TextSeeker:tm,DOMUtils:Ai,ScriptLoader:Xl,RangeUtils:_0,Serializer:yP,StyleSheetLoader:zd,ControlSelection:Zz,BookmarkManager:cb,Selection:gP,Event:bp.Event},html:{Styles:d0,Entities:Gv,Node:of,Schema:Rf,DomParser:Z1,Writer:Gte,Serializer:TC},Env:Tr,AddOnManager:Gc,Annotator:dM,Formatter:LT,UndoManager:SR,EditorCommands:vY,WindowManager:wP,NotificationManager:FF,EditorObservable:fe,Shortcuts:Qo,Editor:_a,FocusManager:pM,EditorManager:Py,DOM:Ai.DOM,ScriptLoader:Xl.ScriptLoader,PluginManager:xy,ThemeManager:Yw,ModelManager:dv,IconManager:SP,Resource:hL,FakeClipboard:dL,trim:Zn.trim,isArray:Zn.isArray,is:Zn.is,toArray:Zn.toArray,makeMap:Zn.makeMap,each:Zn.each,map:Zn.map,grep:Zn.grep,inArray:Zn.inArray,extend:Zn.extend,walk:Zn.walk,resolve:Zn.resolve,explode:Zn.explode,_addCacheSuffix:Zn._addCacheSuffix},pL=Zn.extend(Py,QU),xfe=t=>{try{e.exports=t}catch{}};(t=>{window.tinymce=t,window.tinyMCE=t})(pL),xfe(pL)})()})(wme)),wme.exports}var $Ye=HYe();const UYe=o0e($Ye);var KOe={},YOe={},XOe;function zYe(){return XOe||(XOe=1,tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12.7 18.3a1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7 1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7v-1a1 1 0 0 0-.3-.7ZM11.3 5.7a1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3A1 1 0 0 0 13 5V4a1 1 0 0 0-.3-.7A1 1 0 0 0 12 3a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7Zm9.4 5.6a1 1 0 0 0-.7-.3h-1a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7Zm-15 1.4A1 1 0 0 0 6 12a1 1 0 0 0-.3-.7A1 1 0 0 0 5 11H4a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3Zm13 4.6-.7-.8a1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.8l.7.7a1 1 0 0 0 .7.3 1 1 0 0 0 .8-.3 1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7ZM5.3 6.7l.7.8a1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.8l-.7-.7A1 1 0 0 0 6 5a1 1 0 0 0-.8.3 1 1 0 0 0-.3.8 1 1 0 0 0 .3.6Zm12 1a1 1 0 0 0 .7-.2l.7-.7A1 1 0 0 0 19 6a1 1 0 0 0-.3-.8 1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3l-.7.7a1 1 0 0 0-.3.8 1 1 0 0 0 .3.7 1 1 0 0 0 .7.2ZM6.7 16.4a1 1 0 0 0-.8.2l-.7.7a1 1 0 0 0-.3.7 1 1 0 0 0 .3.8 1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3l.7-.7a1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3Z"/><path fill-rule="evenodd" d="M13.6 8.3A4 4 0 0 0 12 8a4 4 0 0 0-1.6.3A4 4 0 0 0 9 9.5a4 4 0 0 0-.6 1A4 4 0 0 0 8 12c0 .6.1 1 .3 1.6a4 4 0 0 0 2.1 2 4 4 0 0 0 1.6.4 4 4 0 0 0 1.6-.3 4 4 0 0 0 2-2.1A4 4 0 0 0 16 12a4 4 0 0 0-.3-1.6 4 4 0 0 0-2.1-2ZM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',"checkmark-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.8 5a1 1 0 0 0-1.4.3l-5.4 8-2-2.1a1 1 0 1 0-1.5 1.4l3 3a1 1 0 0 0 1.5-.2l6-9a1 1 0 0 0-.2-1.4Z"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',"close-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.7 5.3a1 1 0 0 0-1.3 0L12 10.6 8.6 7.3a1 1 0 0 0-1.3 1.3l3.3 3.4-3.3 3.4a1 1 0 0 0 1.3 1.3l3.4-3.3 3.4 3.3a1 1 0 0 0 1.3-1.3L13.4 12l3.3-3.4a1 1 0 0 0 0-1.3Z"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24" class="color-swatch-remove-color"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 0 1 19.4 9c.4 1 .6 2 .6 3.1s-.2 2.1-.6 3.1a8 8 0 0 1-1.7 2.6 8 8 0 0 1-2.6 1.7 7.8 7.8 0 0 1-3.1.6 7.8 7.8 0 0 1-3.1-.6 8 8 0 0 1-2.6-1.7A8 8 0 0 1 4.6 15 7.8 7.8 0 0 1 4 12c0-1.1.2-2.1.6-3.1a8 8 0 0 1 1.7-2.6A8 8 0 0 1 9 4.6 7.8 7.8 0 0 1 12 4Zm-6 8a6 6 0 0 0 1.8 4.2 6 6 0 0 0 1.9 1.3 5.8 5.8 0 0 0 2.3.5V6c-.8 0-1.6.2-2.3.5a6 6 0 0 0-2 1.3 6 6 0 0 0-1.2 1.9A5.8 5.8 0 0 0 6 12Z"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-gear-properties":'<svg height="24" width="24"><path d="M17.3 14.5a7.1 7.1 0 0 1 1.2.6l1.5-.5 1 1.8-1.2 1V18.7l1.2 1-1 1.6-1.5-.4a4.5 4.5 0 0 1-.6.3 7.1 7.1 0 0 1-.6.3L17 23h-2l-.3-1.5a7.4 7.4 0 0 1-.6-.3 4.5 4.5 0 0 1-.6-.3l-1.5.5-1-1.8 1.2-1a3.9 3.9 0 0 1 0-.6v-.7l-1.2-1 1-1.6 1.5.4a4.5 4.5 0 0 1 1.2-.6L15 13h2zM16 16a2 2 0 0 0-1.5.6A1.9 1.9 0 0 0 14 18c0 .6.2 1 .6 1.4s1 .6 1.5.6 1-.2 1.5-.6.6-.8.6-1.4-.2-1-.6-1.4A2 2 0 0 0 16 16z" fill-rule="evenodd"/><path d="M19 7.6V12h-2V9h-4V5H7v14h3v2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h7.4z"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',feedback:'<svg width="24" height="24"><path fill-rule="evenodd" d="M16 6c1 0 2 1 2 2v5c0 1-1 2-2 2h-3l-4 3v-3H8c-1 0-2-1-2-2V8c0-1 1-2 2-2h8Zm-7 5v1h4v-1H9Zm0-2v1h6V9H9Z"/></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg height="24" width="24"><path d="M11.5 16.3a.7.7 0 1 0 1.4 0V14l2.7-6a.7.7 0 1 0-1.2-.6l-2.2 5-2.3-4.9C9.6 7 8.7 7 8 7.2v1.1c.8-.2.9 0 1.2 1l2.3 4.7z"/><path d="M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2h14v14H5z" fill-rule="evenodd"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg height="24" width="24"><path d="M5 4 3.6 5.4l3.9 4C6.6 10.7 6 12.3 6 14a6 6 0 0 0 10.3 4.2l1.9 1.8 1.4-1.4z" fill-rule="evenodd"/><path d="M13.4 8.4c.9 1 1.6 2.1 2 3.2l2.6 2.6V14c0-5-6-10-6-10s-1 .8-2.1 2l1.4 1.5.7-.7 1.4 1.6z"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg height="48" width="48"><path d="M8 14a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 34a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-default":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M12 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M16 31h6v6h-6z"/><path d="M16 31h6v6h-6z"/><path d="M18 12h22v4H18zm4 10h18v4H22zm4 10h14v4H26z" opacity=".2"/></svg>',"list-bull-disc":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-square":'<svg height="48" width="48"><path d="M8 21h6v6H8zm0 10h6v6H8zm0-20h6v6H8z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path fill-rule="evenodd" d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',"suggestededits-badge":'<svg height="24" width="24"><path d="M11 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9.7a6 6 0 0 1-2 .3v9H7V5h4a6 6 0 0 1 0-2z"/><path d="M15 13v-2h-4v2zm-3 2H9v2h3zm-1-8H9v2h2zm4 10v-2h-2v2z"/><path d="M21 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0z" class="tox-icon--badge"/></svg>',suggestededits:'<svg width="24" height="24"><path d="M7 3h7.4L19 7.6V19a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2Zm0 16h10V9h-3V5H7v14Z" clip-rule="evenodd"/><path d="M9 7h2v2H9V7Zm2 4h4v2h-4v-2Zm-2 4h3v2H9v-2Z"/><path d="M9 7h2v2H9V7Zm4 8h2v2h-2v-2Z"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',"add-file":'<svg height="24" width="24"><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/></svg>',adjustments:'<svg width="24" height="24"><path d="M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z"/></svg>',"alt-text":'<svg width="24" height="24"><path d="M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z"/><path d="M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z"/></svg>',"auto-image-enhancement":'<svg width="24" height="24"><path d="M7.7 10.6a5.8 5.8 0 0 0 5.7 5.7A5.8 5.8 0 0 0 7.7 22 5.8 5.8 0 0 0 2 16.3a5.8 5.8 0 0 0 5.7-5.7ZM15.5 2c.3 3 3.3 6 6.5 6.4-3.2.5-6.2 3.4-6.5 6.5-.3-3.4-3-6-6.4-6.5 3.3-.5 6.1-3 6.4-6.4Z"/></svg>',blur:'<svg width="24" height="24"><path d="M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z"/></svg>',box:'<svg width="24" height="24"><path d="M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z"/></svg>',camera:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z"/><path d="M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/></g></svg>',caption:'<svg height="24" width="24"><path d="M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z"/></svg>',dropbox:'<svg height="24" width="24"><path clip-rule="evenodd" d="m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z" fill-rule="evenodd"/></svg>',evernote:'<svg width="24" height="24"><path fill-rule="evenodd" d="m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z" clip-rule="evenodd"/></svg>',exposure:'<svg width="24" height="24"><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z"/></svg>',fb:'<svg width="24" height="24"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z" clip-rule="evenodd"/></svg>',flickr:'<svg width="24" height="24"><path d="M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z"/></svg>',folder:'<svg width="24" height="24"><path fill-rule="evenodd" d="M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z" clip-rule="evenodd"/></svg>',"google-drive":'<svg height="24" width="24"><path clip-rule="evenodd" d="M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z" fill-rule="evenodd"/></svg>',"google-photos":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z" clip-rule="evenodd"/></svg>',grayscale:'<svg height="24" width="24"><path d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm12.4 0H19v3.6zm-2.8 0h-2.2l8.6 8.6v-2.2zm-5 0H5l14 14v-2.6z" fill-rule="evenodd"/></svg>',huddle:'<svg height="24" width="24"><path d="M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z"/></svg>',"image-decorative":'<svg width="24" height="24"><path d="M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z"/></svg>',"image-enhancements":'<svg height="24" width="24"><path d="M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z"/><path d="M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z"/></svg>',instagram:'<svg height="24" width="24"><path clip-rule="evenodd" d="M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill-rule="evenodd"/><path d="M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"/><path clip-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z" fill-rule="evenodd"/></svg>',onedrive:'<svg height="24" width="24"><path d="M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z"/></svg>',"photo-filter":'<svg height="24" width="24"><path d="M4.4 21c-.3 0-.6-.2-.9-.5-.3-.3-.4-.6-.5-.9L19.6 3c.3 0 .6.3.9.5l.5.9zM3 14.7v-2.8L11.9 3h2.8zM3 7V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h2zm14 14 4-4v2c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm-7.7 0L21 9.3v2.8L12 21z"/></svg>',"revert-changes":'<svg height="24" width="24"><path d="m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z"/><path d="m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',saturation:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z"/></svg>',"transform-image":'<svg height="24" width="24"><path d="M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z"/></svg>',vibrance:'<svg height="24" width="24"><path d="M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z" fill-rule="evenodd"/></svg>',vk:'<svg width="24" height="24"><path fill-rule="evenodd" d="M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z" clip-rule="evenodd"/></svg>',warmth:'<svg height="24" width="24"><path d="M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}})),YOe}var JOe;function jYe(){return JOe||(JOe=1,zYe()),KOe}jYe();var QOe={},eIe={},tIe;function WYe(){return tIe||(tIe=1,(function(){const e=Object.getPrototypeOf,n=(s,l,h)=>{var g;return h(s,l.prototype)?!0:((g=s.constructor)===null||g===void 0?void 0:g.name)===l.name},o=s=>{const l=typeof s;return s===null?"null":l==="object"&&Array.isArray(s)?"array":l==="object"&&n(s,String,(h,g)=>g.isPrototypeOf(h))?"string":l},i=s=>l=>o(l)===s,c=s=>l=>typeof l===s,d=s=>l=>s===l,p=(s,l)=>S(s)&&n(s,l,(h,g)=>e(h)===g),v=i("string"),S=i("object"),T=s=>p(s,Object),x=i("array"),P=d(null),B=c("boolean"),U=d(void 0),j=s=>s==null,W=s=>!j(s),Z=c("function"),re=c("number"),le=(s,l)=>{if(x(s)){for(let h=0,g=s.length;h<g;++h)if(!l(s[h]))return!1;return!0}return!1},ie=()=>{},be=s=>()=>s(),Ce=(s,l)=>(...h)=>s(l.apply(null,h)),Ae=(s,l)=>h=>s(l(h)),F=s=>()=>s,Ie=s=>s,tt=(s,l)=>s===l;function Xe(s,...l){return(...h)=>{const g=l.concat(h);return s.apply(null,g)}}const Ve=s=>l=>!s(l),Re=s=>()=>{throw new Error(s)},vt=s=>s(),mt=F(!1),gt=F(!0);class te{constructor(l,h){this.tag=l,this.value=h}static some(l){return new te(!0,l)}static none(){return te.singletonNone}fold(l,h){return this.tag?h(this.value):l()}isSome(){return this.tag}isNone(){return!this.tag}map(l){return this.tag?te.some(l(this.value)):te.none()}bind(l){return this.tag?l(this.value):te.none()}exists(l){return this.tag&&l(this.value)}forall(l){return!this.tag||l(this.value)}filter(l){return!this.tag||l(this.value)?this:te.none()}getOr(l){return this.tag?this.value:l}or(l){return this.tag?this:l}getOrThunk(l){return this.tag?this.value:l()}orThunk(l){return this.tag?this:l()}getOrDie(l){if(this.tag)return this.value;throw new Error(l??"Called getOrDie on None")}static from(l){return W(l)?te.some(l):te.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(l){this.tag&&l(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}te.singletonNone=new te(!1);const hn=Array.prototype.slice,ot=Array.prototype.indexOf,Rt=Array.prototype.push,kt=(s,l)=>ot.call(s,l),at=(s,l)=>{const h=kt(s,l);return h===-1?te.none():te.some(h)},Cn=(s,l)=>kt(s,l)>-1,Ro=(s,l)=>{for(let h=0,g=s.length;h<g;h++){const E=s[h];if(l(E,h))return!0}return!1},jn=(s,l)=>{const h=[];for(let g=0;g<s;g++)h.push(l(g));return h},wo=(s,l)=>{const h=[];for(let g=0;g<s.length;g+=l){const E=hn.call(s,g,g+l);h.push(E)}return h},qt=(s,l)=>{const h=s.length,g=new Array(h);for(let E=0;E<h;E++){const O=s[E];g[E]=l(O,E)}return g},Tn=(s,l)=>{for(let h=0,g=s.length;h<g;h++){const E=s[h];l(E,h)}},_e=(s,l)=>{for(let h=s.length-1;h>=0;h--){const g=s[h];l(g,h)}},vr=(s,l)=>{const h=[],g=[];for(let E=0,O=s.length;E<O;E++){const R=s[E];(l(R,E)?h:g).push(R)}return{pass:h,fail:g}},vs=(s,l)=>{const h=[];for(let g=0,E=s.length;g<E;g++){const O=s[g];l(O,g)&&h.push(O)}return h},Ut=(s,l,h)=>(_e(s,(g,E)=>{h=l(h,g,E)}),h),xn=(s,l,h)=>(Tn(s,(g,E)=>{h=l(h,g,E)}),h),vn=(s,l,h)=>{for(let g=0,E=s.length;g<E;g++){const O=s[g];if(l(O,g))return te.some(O);if(h(O,g))break}return te.none()},zt=(s,l)=>vn(s,l,mt),wn=(s,l)=>{for(let h=0,g=s.length;h<g;h++){const E=s[h];if(l(E,h))return te.some(h)}return te.none()},fn=s=>{const l=[];for(let h=0,g=s.length;h<g;++h){if(!x(s[h]))throw new Error("Arr.flatten item "+h+" was not an array, input: "+s);Rt.apply(l,s[h])}return l},ct=(s,l)=>fn(qt(s,l)),Mt=(s,l)=>{for(let h=0,g=s.length;h<g;++h){const E=s[h];if(l(E,h)!==!0)return!1}return!0},Yt=s=>{const l=hn.call(s,0);return l.reverse(),l},Ge=(s,l)=>vs(s,h=>!Cn(l,h)),Lt=(s,l)=>{const h={};for(let g=0,E=s.length;g<E;g++){const O=s[g];h[String(O)]=l(O,g)}return h},ln=s=>[s],On=(s,l)=>{const h=hn.call(s,0);return h.sort(l),h},Bt=(s,l)=>l>=0&&l<s.length?te.some(s[l]):te.none(),$t=s=>Bt(s,0),ls=s=>Bt(s,s.length-1),ks=Z(Array.from)?Array.from:s=>hn.call(s),Rs=(s,l)=>{for(let h=0;h<s.length;h++){const g=l(s[h],h);if(g.isSome())return g}return te.none()},Ao=Object.keys,sr=Object.hasOwnProperty,Ks=(s,l)=>{const h=Ao(s);for(let g=0,E=h.length;g<E;g++){const O=h[g],R=s[O];l(R,O)}},Ls=(s,l)=>Xo(s,(h,g)=>({k:g,v:l(h,g)})),Xo=(s,l)=>{const h={};return Ks(s,(g,E)=>{const O=l(g,E);h[O.k]=O.v}),h},At=s=>(l,h)=>{s[h]=l},Vt=(s,l,h,g)=>{Ks(s,(E,O)=>{(l(E,O)?h:g)(E,O)})},en=(s,l)=>{const h={},g={};return Vt(s,l,At(h),At(g)),{t:h,f:g}},tn=(s,l)=>{const h={};return Vt(s,l,At(h),ie),h},to=(s,l)=>{const h=[];return Ks(s,(g,E)=>{h.push(l(g,E))}),h},go=(s,l)=>{const h=Ao(s);for(let g=0,E=h.length;g<E;g++){const O=h[g],R=s[O];if(l(R,O,s))return te.some(R)}return te.none()},To=s=>to(s,Ie),cn=(s,l)=>ro(s,l)?te.from(s[l]):te.none(),ro=(s,l)=>sr.call(s,l),Xn=(s,l)=>ro(s,l)&&s[l]!==void 0&&s[l]!==null,rs={generate:s=>{if(!x(s))throw new Error("cases must be an array");if(s.length===0)throw new Error("there must be at least one case");const l=[],h={};return Tn(s,(g,E)=>{const O=Ao(g);if(O.length!==1)throw new Error("one and only one name per case");const R=O[0],G=g[R];if(h[R]!==void 0)throw new Error("duplicate key detected:"+R);if(R==="cata")throw new Error("cannot have a case named cata (sorry)");if(!x(G))throw new Error("case arguments must be an array");l.push(R),h[R]=(...K)=>{const oe=K.length;if(oe!==G.length)throw new Error("Wrong number of arguments to case "+R+". Expected "+G.length+" ("+G+"), got "+oe);return{fold:(...ve)=>{if(ve.length!==s.length)throw new Error("Wrong number of arguments to fold. Expected "+s.length+", got "+ve.length);return ve[E].apply(null,K)},match:ve=>{const De=Ao(ve);if(l.length!==De.length)throw new Error("Wrong number of arguments to match. Expected: "+l.join(",")+`
Actual: `+De.join(","));if(!Mt(l,He=>Cn(De,He)))throw new Error("Not all branches were specified when using match. Specified: "+De.join(", ")+`
Required: `+l.join(", "));return ve[R].apply(null,K)},log:ve=>{console.log(ve,{constructors:l,constructor:R,params:K})}}}}),h}},$n=s=>{let l=s;return{get:()=>l,set:E=>{l=E}}},gi=s=>{let l=te.none(),h=[];const g=oe=>gi(fe=>{E(ve=>{fe(oe(ve))})}),E=oe=>{R()?K(oe):h.push(oe)},O=oe=>{R()||(l=te.some(oe),G(h),h=[])},R=()=>l.isSome(),G=oe=>{Tn(oe,K)},K=oe=>{l.each(fe=>{setTimeout(()=>{oe(fe)},0)})};return s(O),{get:E,map:g,isReady:R}},Nr={nu:gi,pure:s=>gi(l=>{l(s)})},fa=s=>{setTimeout(()=>{throw s},0)},ta=s=>{const l=K=>{s().then(K,fa)};return{map:K=>ta(()=>s().then(K)),bind:K=>ta(()=>s().then(oe=>K(oe).toPromise())),anonBind:K=>ta(()=>s().then(()=>K.toPromise())),toLazy:()=>Nr.nu(l),toCached:()=>{let K=null;return ta(()=>(K===null&&(K=s()),K))},toPromise:s,get:l}},Vs={nu:s=>ta(()=>new Promise(s)),pure:s=>ta(()=>Promise.resolve(s))},bc=s=>{const l=O=>O(s),h=F(s),g=()=>E,E={tag:!0,inner:s,fold:(O,R)=>R(s),isValue:gt,isError:mt,map:O=>zo.value(O(s)),mapError:g,bind:l,exists:l,forall:l,getOr:h,or:g,getOrThunk:h,orThunk:g,getOrDie:h,each:O=>{O(s)},toOptional:()=>te.some(s)};return E},Vc=s=>{const l=()=>h,h={tag:!1,inner:s,fold:(g,E)=>g(s),isValue:mt,isError:gt,map:l,mapError:g=>zo.error(g(s)),bind:l,exists:mt,forall:gt,getOr:Ie,or:Ie,getOrThunk:vt,orThunk:vt,getOrDie:Re(String(s)),each:ie,toOptional:te.none};return h},zo={value:bc,error:Vc,fromOption:(s,l)=>s.fold(()=>Vc(l),bc)},tc=s=>({...s,toCached:()=>tc(s.toCached()),bindFuture:K=>tc(s.bind(oe=>oe.fold(fe=>Vs.pure(zo.error(fe)),fe=>K(fe)))),bindResult:K=>tc(s.map(oe=>oe.bind(K))),mapResult:K=>tc(s.map(oe=>oe.map(K))),mapError:K=>tc(s.map(oe=>oe.mapError(K))),foldResult:(K,oe)=>s.map(fe=>fe.fold(K,oe)),withTimeout:(K,oe)=>tc(Vs.nu(fe=>{let ve=!1;const De=setTimeout(()=>{ve=!0,fe(zo.error(oe()))},K);s.get(Ue=>{ve||(clearTimeout(De),fe(Ue))})}))}),sl=s=>tc(Vs.nu(s)),ep=s=>tc(Vs.pure(zo.value(s))),Dd={nu:sl,wrap:tc,pure:ep,value:ep,error:s=>tc(Vs.pure(zo.error(s))),fromResult:s=>tc(Vs.pure(s)),fromFuture:s=>tc(s.map(zo.value)),fromPromise:s=>sl(l=>{s.then(h=>{l(zo.value(h))},h=>{l(zo.error(h))})})},nd=typeof window<"u"?window:Function("return this;")(),Qc=(s,l,h,g)=>{const E=s+l;return E>g?h:E<h?g:E},dl=(s,l,h)=>Math.min(Math.max(s,l),h),od=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Md=0;const yo=s=>{const h=new Date().getTime(),g=Math.floor(od()*1e9);return Md++,s+"_"+g+Md+String(h)},tp=(s,l)=>l,uh=(s,l)=>T(s)&&T(l)?Jr(s,l):l,Vh=s=>(...l)=>{if(l.length===0)throw new Error("Can't merge zero objects");const h={};for(let g=0;g<l.length;g++){const E=l[g];for(const O in E)ro(E,O)&&(h[O]=s(h[O],E[O]))}return h},Jr=Vh(uh),Fh=Vh(tp),Fc=(s,l,h=tt)=>s.exists(g=>h(g,l)),Ar=(s,l,h=tt)=>Rc(s,l,h).getOr(s.isNone()&&l.isNone()),xu=s=>{const l=[],h=g=>{l.push(g)};for(let g=0;g<s.length;g++)s[g].each(h);return l},dh=s=>{const l=[];for(let h=0;h<s.length;h++){const g=s[h];if(g.isSome())l.push(g.getOrDie());else return te.none()}return te.some(l)},Rc=(s,l,h)=>s.isSome()&&l.isSome()?te.some(h(s.getOrDie(),l.getOrDie())):te.none(),Vi=(s,l,h,g)=>s.isSome()&&l.isSome()&&h.isSome()?te.some(g(s.getOrDie(),l.getOrDie(),h.getOrDie())):te.none(),yc=(s,l)=>s!=null?te.some(l(s)):te.none(),rl=(s,l)=>s?te.some(l):te.none(),Lp=s=>s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),km=(s,l)=>{let h=l??nd;for(let g=0;g<s.length&&h!==void 0&&h!==null;++g)h=h[s[g]];return h},kc=(s,l)=>{const h=s.split(".");return km(h,l)};rs.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const eu=s=>{const l=[],h=[];return Tn(s,g=>{g.fold(E=>{l.push(E)},E=>{h.push(E)})}),{errors:l,values:h}},Ou=s=>{const l=$n(te.none()),h=()=>l.get().each(s);return{clear:()=>{h(),l.set(te.none())},isSet:()=>l.get().isSome(),get:()=>l.get(),set:G=>{h(),l.set(te.some(G))}}},Hh=()=>Ou(s=>s.destroy()),na=()=>Ou(s=>s.unbind()),Ss=()=>{const s=Ou(ie);return{...s,on:h=>s.get().each(h)}},Wi=(s,l)=>s+l,kl=(s,l)=>s.substring(l),Lr=(s,l,h)=>l===""||s.length>=l.length&&s.substr(h,h+l.length)===l,hh=(s,l)=>Sc(s,l)?kl(s,l.length):s,np=(s,l)=>Hc(s,l)?s:Wi(s,l),wi=(s,l,h=0,g)=>{const E=s.indexOf(l,h);return E!==-1?U(g)?!0:E+l.length<=g:!1},Sc=(s,l)=>Lr(s,l,0),Hc=(s,l)=>Lr(s,l,s.length-l.length),vo=(s=>l=>l.replace(s,""))(/^\s+|\s+$/g),Iu=s=>s.length>0,Dl=s=>!Iu(s),Cc=s=>{const l=parseFloat(s);return isNaN(l)?te.none():te.some(l)},Bi=(s,l)=>{let h=null,g=null;return{cancel:()=>{P(h)||(clearTimeout(h),h=null,g=null)},throttle:(...R)=>{g=R,P(h)&&(h=setTimeout(()=>{const G=g;h=null,g=null,s.apply(null,G)},l))}}},Dm=(s,l)=>{let h=null;return{cancel:()=>{P(h)||(clearTimeout(h),h=null)},throttle:(...O)=>{P(h)&&(h=setTimeout(()=>{h=null,s.apply(null,O)},l))}}},Gl=(s,l)=>{let h=null;const g=()=>{P(h)||(clearTimeout(h),h=null)};return{cancel:g,throttle:(...O)=>{g(),h=setTimeout(()=>{h=null,s.apply(null,O)},l)}}},tu=s=>{let l=!1,h;return(...g)=>(l||(l=!0,h=s.apply(null,g)),h)},op="\uFEFF",mf=" ",sd=(s,l)=>{const g=(l||document).createElement("div");if(g.innerHTML=s,!g.hasChildNodes()||g.childNodes.length>1){const E="HTML does not have a single root node";throw console.error(E,s),new Error(E)}return Nd(g.childNodes[0])},sp=(s,l)=>{const g=(l||document).createElement(s);return Nd(g)},Pd=(s,l)=>{const g=(l||document).createTextNode(s);return Nd(g)},Nd=s=>{if(s==null)throw new Error("Node cannot be null or undefined");return{dom:s}},co={fromHtml:sd,fromTag:sp,fromText:Pd,fromDom:Nd,fromPoint:(s,l,h)=>te.from(s.dom.elementFromPoint(l,h)).map(Nd)},Ru=(s,l)=>{l.fold(h=>{s.setStartBefore(h.dom)},(h,g)=>{s.setStart(h.dom,g)},h=>{s.setStartAfter(h.dom)})},$h=(s,l)=>{l.fold(h=>{s.setEndBefore(h.dom)},(h,g)=>{s.setEnd(h.dom,g)},h=>{s.setEndAfter(h.dom)})},Be=(s,l,h)=>{const g=s.document.createRange();return Ru(g,l),$h(g,h),g},rt=(s,l,h,g,E)=>{const O=s.document.createRange();return O.setStart(l.dom,h),O.setEnd(g.dom,E),O},Ot=s=>({left:s.left,top:s.top,right:s.right,bottom:s.bottom,width:s.width,height:s.height}),mn=s=>{const l=s.getClientRects(),h=l.length>0?l[0]:s.getBoundingClientRect();return h.width>0||h.height>0?te.some(h).map(Ot):te.none()},io=s=>{const l=s.getBoundingClientRect();return l.width>0||l.height>0?te.some(l).map(Ot):te.none()},Mo=rs.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),hr=(s,l,h)=>l(co.fromDom(h.startContainer),h.startOffset,co.fromDom(h.endContainer),h.endOffset),Fs=(s,l)=>l.match({domRange:h=>({ltr:F(h),rtl:te.none}),relative:(h,g)=>({ltr:tu(()=>Be(s,h,g)),rtl:tu(()=>te.some(Be(s,g,h)))}),exact:(h,g,E,O)=>({ltr:tu(()=>rt(s,h,g,E,O)),rtl:tu(()=>te.some(rt(s,E,O,h,g)))})}),_r=(s,l)=>{const h=l.ltr();return h.collapsed?l.rtl().filter(E=>E.collapsed===!1).map(E=>Mo.rtl(co.fromDom(E.endContainer),E.endOffset,co.fromDom(E.startContainer),E.startOffset)).getOrThunk(()=>hr(s,Mo.ltr,h)):hr(s,Mo.ltr,h)},we=(s,l)=>{const h=Fs(s,l);return _r(s,h)},$e=(s,l)=>we(s,l).match({ltr:(g,E,O,R)=>{const G=s.document.createRange();return G.setStart(g.dom,E),G.setEnd(O.dom,R),G},rtl:(g,E,O,R)=>{const G=s.document.createRange();return G.setStart(O.dom,R),G.setEnd(g.dom,E),G}});Mo.ltr,Mo.rtl;const ut=9,Zt=11,ko=1,Hs=3,L=(s,l)=>{const h=s.dom;if(h.nodeType!==ko)return!1;{const g=h;if(g.matches!==void 0)return g.matches(l);if(g.msMatchesSelector!==void 0)return g.msMatchesSelector(l);if(g.webkitMatchesSelector!==void 0)return g.webkitMatchesSelector(l);if(g.mozMatchesSelector!==void 0)return g.mozMatchesSelector(l);throw new Error("Browser lacks native selectors")}},X=s=>s.nodeType!==ko&&s.nodeType!==ut&&s.nodeType!==Zt||s.childElementCount===0,de=(s,l)=>{const h=l===void 0?document:l.dom;return X(h)?[]:qt(h.querySelectorAll(s),co.fromDom)},ge=(s,l)=>{const h=l===void 0?document:l.dom;return X(h)?te.none():te.from(h.querySelector(s)).map(co.fromDom)},xe=(s,l)=>s.dom===l.dom,Pe=(s,l)=>{const h=s.dom,g=l.dom;return h===g?!1:h.contains(g)},je=(s,l,h,g)=>{const E=s.isiOS()&&/ipad/i.test(h)===!0,O=s.isiOS()&&!E,R=s.isiOS()||s.isAndroid(),G=R||g("(pointer:coarse)"),K=E||!O&&R&&g("(min-device-width:768px)"),oe=O||R&&!K,fe=l.isSafari()&&s.isiOS()&&/safari/i.test(h)===!1,ve=!oe&&!K&&!fe;return{isiPad:F(E),isiPhone:F(O),isTablet:F(K),isPhone:F(oe),isTouch:F(G),isAndroid:s.isAndroid,isiOS:s.isiOS,isWebView:F(fe),isDesktop:F(ve)}},xt=(s,l)=>{for(let h=0;h<s.length;h++){const g=s[h];if(g.test(l))return g}},St=(s,l)=>{const h=xt(s,l);if(!h)return{major:0,minor:0};const g=E=>Number(l.replace(h,"$"+E));return no(g(1),g(2))},Jt=(s,l)=>{const h=String(l).toLowerCase();return s.length===0?Ln():St(s,h)},Ln=()=>no(0,0),no=(s,l)=>({major:s,minor:l}),_n={nu:no,detect:Jt,unknown:Ln},Ho=(s,l)=>Rs(l.brands,h=>{const g=h.brand.toLowerCase();return zt(s,E=>{var O;return g===((O=E.brand)===null||O===void 0?void 0:O.toLowerCase())}).map(E=>({current:E.name,version:_n.nu(parseInt(h.version,10),0)}))}),Rr=(s,l)=>{const h=String(l).toLowerCase();return zt(s,g=>g.search(h))},xi=(s,l)=>Rr(s,l).map(h=>{const g=_n.detect(h.versionRegexes,l);return{current:h.name,version:g}}),Gr=(s,l)=>Rr(s,l).map(h=>{const g=_n.detect(h.versionRegexes,l);return{current:h.name,version:g}}),ql=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Sa=s=>l=>wi(l,s),rd=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:s=>wi(s,"edge/")&&wi(s,"chrome")&&wi(s,"safari")&&wi(s,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ql],search:s=>wi(s,"chrome")&&!wi(s,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:s=>wi(s,"msie")||wi(s,"trident")},{name:"Opera",versionRegexes:[ql,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Sa("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Sa("firefox")},{name:"Safari",versionRegexes:[ql,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:s=>(wi(s,"safari")||wi(s,"mobile/"))&&wi(s,"applewebkit")}],fh=[{name:"Windows",search:Sa("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:s=>wi(s,"iphone")||wi(s,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Sa("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Sa("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Sa("linux"),versionRegexes:[]},{name:"Solaris",search:Sa("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Sa("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Sa("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],_i={browsers:F(rd),oses:F(fh)},wc="Edge",Fi="Chromium",hl="IE",Bp="Opera",id="Firefox",Uh="Safari",Og=()=>ad({current:void 0,version:_n.unknown()}),ad=s=>{const l=s.current,h=s.version,g=E=>()=>l===E;return{current:l,version:h,isEdge:g(wc),isChromium:g(Fi),isIE:g(hl),isOpera:g(Bp),isFirefox:g(id),isSafari:g(Uh)}},nu={unknown:Og,nu:ad},rp="Windows",ld="iOS",Ig="Android",_c="Linux",Ml="macOS",gf="Solaris",Fb="FreeBSD",Tr="ChromeOS",Zi=()=>Vp({current:void 0,version:_n.unknown()}),Vp=s=>{const l=s.current,h=s.version,g=E=>()=>l===E;return{current:l,version:h,isWindows:g(rp),isiOS:g(ld),isAndroid:g(Ig),isMacOS:g(Ml),isLinux:g(_c),isSolaris:g(gf),isFreeBSD:g(Fb),isChromeOS:g(Tr)}},Oi={unknown:Zi,nu:Vp},vf={detect:(s,l,h)=>{const g=_i.browsers(),E=_i.oses(),O=l.bind(K=>Ho(g,K)).orThunk(()=>xi(g,s)).fold(nu.unknown,nu.nu),R=Gr(E,s).fold(Oi.unknown,Oi.nu),G=je(R,O,s,h);return{browser:O,os:R,deviceType:G}}},LS=s=>window.matchMedia(s).matches;let bf=tu(()=>vf.detect(window.navigator.userAgent,te.from(window.navigator.userAgentData),LS));const Gi=()=>bf(),ou=(s,l)=>kc(s,l),Ld=(s,l)=>{const h=ou(s,l);if(h==null)throw new Error(s+" not available on this browser");return h},Zn=Object.getPrototypeOf,Zl=s=>Ld("HTMLElement",s),zh=s=>{const l=kc("ownerDocument.defaultView",s);return S(s)&&(Zl(l).prototype.isPrototypeOf(s)||/^HTML\w*Element$/.test(Zn(s).constructor.name))},su=s=>s.dom.nodeName.toLowerCase(),ap=s=>s.dom.nodeType,Hb=s=>l=>ap(l)===s,et=s=>Dc(s)&&zh(s.dom),Dc=Hb(ko),jh=Hb(Hs),$b=Hb(ut),ru=Hb(Zt),nc=s=>l=>Dc(l)&&su(l)===s,dt=s=>co.fromDom(s.dom.ownerDocument),Ht=s=>$b(s)?s:dt(s),An=s=>co.fromDom(Ht(s).dom.documentElement),Dn=s=>co.fromDom(Ht(s).dom.defaultView),Yn=s=>te.from(s.dom.parentNode).map(co.fromDom),ns=s=>Yn(s),ps=s=>te.from(s.dom.parentElement).map(co.fromDom),Ys=(s,l)=>{const h=Z(l)?l:mt;let g=s.dom;const E=[];for(;g.parentNode!==null&&g.parentNode!==void 0;){const O=g.parentNode,R=co.fromDom(O);if(E.push(R),h(R)===!0)break;g=O}return E},Cs=s=>te.from(s.dom.offsetParent).map(co.fromDom),fr=s=>te.from(s.dom.previousSibling).map(co.fromDom),xr=s=>te.from(s.dom.nextSibling).map(co.fromDom),pr=s=>qt(s.dom.childNodes,co.fromDom),zr=(s,l)=>{const h=s.dom.childNodes;return te.from(h[l]).map(co.fromDom)},Do=s=>zr(s,0),ei=(s,l)=>({element:s,offset:l}),Sl=(s,l)=>{const h=pr(s);return h.length>0&&l<h.length?ei(h[l],0):ei(s,l)},oc=(s,l,h,g)=>{const O=dt(s).dom.createRange();return O.setStart(s.dom,l),O.setEnd(h.dom,g),O},Ms=(s,l,h,g)=>{const E=oc(s,l,h,g),O=xe(s,h)&&l===g;return E.collapsed&&!O},Pl=s=>ru(s)&&W(s.dom.host),oa=s=>co.fromDom(s.dom.getRootNode()),ja=s=>Pl(s)?s:co.fromDom(Ht(s).dom.body),Wh=s=>sa(s).isSome(),sa=s=>{const l=oa(s);return Pl(l)?te.some(l):te.none()},ti=s=>co.fromDom(s.dom.host),K0=s=>{if(W(s.target)){const l=co.fromDom(s.target);if(Dc(l)&&IE(l)&&s.composed&&s.composedPath){const h=s.composedPath();if(h)return $t(h)}}return te.from(s.target)},IE=s=>W(s.dom.shadowRoot),Cl=(s,l,h,g,E,O,R)=>({target:s,x:l,y:h,stop:g,prevent:E,kill:O,raw:R}),sc=s=>{const l=co.fromDom(K0(s).getOr(s.target)),h=()=>s.stopPropagation(),g=()=>s.preventDefault(),E=Ce(g,h);return Cl(l,s.clientX,s.clientY,h,g,E,s)},iu=(s,l)=>h=>{s(h)&&l(sc(h))},Nl=(s,l,h,g,E)=>{const O=iu(h,g);return s.dom.addEventListener(l,O,E),{unbind:Xe(Du,s,l,O,E)}},Gh=(s,l,h,g)=>Nl(s,l,h,g,!1),ku=(s,l,h,g)=>Nl(s,l,h,g,!0),Du=(s,l,h,g)=>{s.dom.removeEventListener(l,h,g)},$c=gt,li=(s,l,h)=>Gh(s,l,$c,h),Bd=(s,l,h)=>ku(s,l,$c,h),Mu=sc,Kl=()=>co.fromDom(document),ra=(s,l=!1)=>s.dom.focus({preventScroll:l}),mr=s=>s.dom.blur(),qh=s=>{const l=oa(s).dom;return s.dom===l.activeElement},Yl=(s=Kl())=>te.from(s.dom.activeElement).map(co.fromDom),Wa=s=>Yl(oa(s)).filter(l=>s.dom.contains(l.dom)),yf=(s,l)=>{Yn(s).each(g=>{g.dom.insertBefore(l.dom,s.dom)})},fl=(s,l)=>{xr(s).fold(()=>{Yn(s).each(E=>{rc(E,l)})},g=>{yf(g,l)})},Ub=(s,l)=>{Do(s).fold(()=>{rc(s,l)},g=>{s.dom.insertBefore(l.dom,g.dom)})},rc=(s,l)=>{s.dom.appendChild(l.dom)},Y0=(s,l,h)=>{zr(s,h).fold(()=>{rc(s,l)},g=>{yf(g,l)})},br=(s,l)=>{Tn(l,h=>{rc(s,h)})},Mm=(s,l,h)=>{if(v(h)||B(h)||re(h))s.setAttribute(l,h+"");else throw console.error("Invalid call to Attribute.set. Key ",l,":: Value ",h,":: Element ",s),new Error("Attribute value was not simple")},cs=(s,l,h)=>{Mm(s.dom,l,h)},n1=(s,l)=>{const h=s.dom;Ks(l,(g,E)=>{Mm(h,E,g)})},pl=(s,l)=>{const h=s.dom.getAttribute(l);return h===null?void 0:h},rr=(s,l)=>te.from(pl(s,l)),Ll=(s,l)=>{const h=s.dom;return h&&h.hasAttribute?h.hasAttribute(l):!1},ia=(s,l)=>{s.dom.removeAttribute(l)},Pm=s=>xn(s.dom.attributes,(l,h)=>(l[h.name]=h.value,l),{}),X0=s=>{s.dom.textContent="",Tn(pr(s),l=>{Vd(l)})},Vd=s=>{const l=s.dom;l.parentNode!==null&&l.parentNode.removeChild(l)},Pu=(s,l)=>co.fromDom(s.dom.cloneNode(l)),o1=s=>Pu(s,!1),s1=s=>Pu(s,!0),zb=(s,l)=>{const g=(l||document).createElement("div");return g.innerHTML=s,pr(co.fromDom(g))},ph=s=>s.dom.innerHTML,Zh=(s,l)=>{const g=dt(s).dom,E=co.fromDom(g.createDocumentFragment()),O=zb(l,g);br(E,O),X0(s),rc(s,E)},J0=s=>{const l=co.fromTag("div"),h=co.fromDom(s.dom.cloneNode(!0));return rc(l,h),ph(l)},Mc=s=>{if(Pl(s))return"#shadow-root";{const l=o1(s);return J0(l)}},mh=s=>new Promise((l,h)=>{const g=()=>{O(),l(s)},E=[li(s,"load",g),li(s,"error",()=>{O(),h("Unable to load data from image: "+s.dom.src)})],O=()=>Tn(E,R=>R.unbind());s.dom.complete&&g()}),lp=s=>s.style!==void 0&&Z(s.style.getPropertyValue),qr=s=>{const l=jh(s)?s.dom.parentNode:s.dom;if(l==null||l.ownerDocument===null)return!1;const h=l.ownerDocument;return sa(co.fromDom(l)).fold(()=>h.body.contains(l),Ae(qr,ti))},Fd=()=>r1(co.fromDom(document)),r1=s=>{const l=s.dom.body;if(l==null)throw new Error("Body is not available yet");return co.fromDom(l)},jb=(s,l,h)=>{if(!v(h))throw console.error("Invalid call to CSS.set. Property ",l,":: Value ",h,":: Element ",s),new Error("CSS value must be a string: "+h);lp(s)&&s.style.setProperty(l,h)},gh=(s,l)=>{lp(s)&&s.style.removeProperty(l)},xs=(s,l,h)=>{const g=s.dom;jb(g,l,h)},pa=(s,l)=>{const h=s.dom;Ks(l,(g,E)=>{jb(h,E,g)})},Va=(s,l)=>{const h=s.dom;Ks(l,(g,E)=>{g.fold(()=>{gh(h,E)},O=>{jb(h,E,O)})})},aa=(s,l)=>{const h=s.dom,E=window.getComputedStyle(h).getPropertyValue(l);return E===""&&!qr(s)?vh(h,l):E},vh=(s,l)=>lp(s)?s.style.getPropertyValue(l):"",ma=(s,l)=>{const h=s.dom,g=vh(h,l);return te.from(g).filter(E=>E.length>0)},ml=s=>{const l={},h=s.dom;if(lp(h))for(let g=0;g<h.style.length;g++){const E=h.style.item(g);l[E]=h.style[E]}return l},Pv=(s,l,h)=>{const g=co.fromTag(s);return xs(g,l,h),ma(g,l).isSome()},Er=(s,l)=>{const h=s.dom;gh(h,l),Fc(rr(s,"style").map(vo),"")&&ia(s,"style")},cd=s=>s.dom.offsetWidth,Hi=(s,l)=>{const h=(G,K)=>{if(!re(K)&&!K.match(/^[0-9]+$/))throw new Error(s+".set accepts only positive integer values. Value was "+K);const oe=G.dom;lp(oe)&&(oe.style[s]=K+"px")},g=G=>{const K=l(G);if(K<=0||K===null){const oe=aa(G,s);return parseFloat(oe)||0}return K},E=g,O=(G,K)=>xn(K,(oe,fe)=>{const ve=aa(G,fe),De=ve===void 0?0:parseInt(ve,10);return isNaN(De)?oe:oe+De},0);return{set:h,get:g,getOuter:E,aggregate:O,max:(G,K,oe)=>{const fe=O(G,oe);return K>fe?K-fe:0}}},Nu=Hi("height",s=>{const l=s.dom;return qr(s)?l.getBoundingClientRect().height:l.offsetHeight}),El=s=>Nu.get(s),wl=s=>Nu.getOuter(s),Sf=(s,l)=>{const h=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],g=Nu.max(s,l,h);xs(s,"max-height",g+"px")},Nv=s=>s.offsetWidth<=0&&s.offsetHeight<=0,Fp=s=>!Nv(s.dom),Nm=Hi("width",s=>{const l=s.dom;return qr(s)?l.getBoundingClientRect().width:l.offsetWidth}),bh=(s,l)=>Nm.set(s,l),Ac=s=>Nm.get(s),Hp=s=>Nm.getOuter(s),RE=(s,l)=>{const h=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],g=Nm.max(s,l,h);xs(s,"max-width",g+"px")},cp=(s,l)=>({left:s,top:l,translate:(g,E)=>cp(s+g,l+E)}),ci=cp,i1=s=>{const l=s.getBoundingClientRect();return ci(l.left,l.top)},Lv=(s,l)=>s!==void 0?s:l!==void 0?l:0,Uc=s=>{const l=s.dom.ownerDocument,h=l.body,g=l.defaultView,E=l.documentElement;if(h===s.dom)return ci(h.offsetLeft,h.offsetTop);const O=Lv(g==null?void 0:g.pageYOffset,E.scrollTop),R=Lv(g==null?void 0:g.pageXOffset,E.scrollLeft),G=Lv(E.clientTop,h.clientTop),K=Lv(E.clientLeft,h.clientLeft);return au(s).translate(R-K,O-G)},au=s=>{const l=s.dom,g=l.ownerDocument.body;return g===l?ci(g.offsetLeft,g.offsetTop):qr(s)?i1(l):ci(0,0)},Ga=s=>{const l=s!==void 0?s.dom:document,h=l.body.scrollLeft||l.documentElement.scrollLeft,g=l.body.scrollTop||l.documentElement.scrollTop;return ci(h,g)},Hd=(s,l,h)=>{const E=(h!==void 0?h.dom:document).defaultView;E&&E.scrollTo(s,l)},Lm=((s,l)=>{const h=O=>{if(!s(O))throw new Error("Can only get "+l+" value of a "+l+" node");return g(O).getOr("")},g=O=>s(O)?te.from(O.dom.nodeValue):te.none();return{get:h,getOption:g,set:(O,R)=>{if(!s(O))throw new Error("Can only set raw "+l+" value of a "+l+" node");O.dom.nodeValue=R}}})(jh,"text"),Q0=s=>Lm.get(s),Wb=(s,l)=>h=>kE(h)==="rtl"?l:s,kE=s=>aa(s,"direction")==="rtl"?"rtl":"ltr",Cf=(s,l)=>{const h=pl(s,l);return h===void 0||h===""?[]:h.split(" ")},DE=(s,l,h)=>{const E=Cf(s,l).concat([h]);return cs(s,l,E.join(" ")),!0},a1=(s,l,h)=>{const g=vs(Cf(s,l),E=>E!==h);return g.length>0?cs(s,l,g.join(" ")):ia(s,l),!1};var Ef=(s,l,h,g,E)=>s(h,g)?te.some(h):Z(E)&&E(h)?te.none():l(h,g,E);const BS=(s,l,h)=>{let g=s.dom;const E=Z(h)?h:mt;for(;g.parentNode;){g=g.parentNode;const O=co.fromDom(g);if(l(O))return te.some(O);if(E(O))break}return te.none()},Bv=(s,l,h)=>Ef((E,O)=>O(E),BS,s,l,h),Bm=(s,l)=>{const h=s.dom;return h.parentNode?Rg(co.fromDom(h.parentNode),g=>!xe(s,g)&&l(g)):te.none()},Rg=(s,l)=>{const h=E=>l(co.fromDom(E));return zt(s.dom.childNodes,h).map(co.fromDom)},l1=(s,l)=>{const h=g=>{for(let E=0;E<g.childNodes.length;E++){const O=co.fromDom(g.childNodes[E]);if(l(O))return te.some(O);const R=h(g.childNodes[E]);if(R.isSome())return R}return te.none()};return h(s.dom)},VS=s=>ge(s),Kh=(s,l,h)=>BS(s,g=>L(g,l),h),Vm=(s,l)=>Bm(s,h=>L(h,l)),wf=(s,l)=>Rg(s,h=>L(h,l)),ui=(s,l)=>ge(l,s),vl=(s,l,h)=>Ef((E,O)=>L(E,O),Kh,s,l,h),up=(s,l)=>{s.dom.checked=l},ey=s=>s.dom.checked,Fm=s=>s.dom.classList!==void 0,kg=s=>Cf(s,"class"),$p=(s,l)=>DE(s,"class",l),dp=(s,l)=>a1(s,"class",l),Yh=(s,l)=>Cn(kg(s),l)?dp(s,l):$p(s,l),Ii=(s,l)=>{Fm(s)?s.dom.classList.add(l):$p(s,l)},FS=s=>{(Fm(s)?s.dom.classList:kg(s)).length===0&&ia(s,"class")},vi=(s,l)=>{Fm(s)?s.dom.classList.remove(l):dp(s,l),FS(s)},Vv=(s,l)=>{const h=Fm(s)?s.dom.classList.toggle(l):Yh(s,l);return FS(s),h},qa=(s,l)=>Fm(s)&&s.dom.classList.contains(l),Xh=(s,l)=>{Tn(l,h=>{Ii(s,h)})},Pc=(s,l)=>{Tn(l,h=>{vi(s,h)})},Lu=(s,l)=>{Tn(l,h=>{Vv(s,h)})},Dg=(s,l)=>Mt(l,h=>qa(s,h)),Fv=s=>{const l=s.dom.classList,h=new Array(l.length);for(let g=0;g<l.length;g++){const E=l.item(g);E!==null&&(h[g]=E)}return h},c1=s=>Fm(s)?Fv(s):kg(s),ME=s=>s.dom.textContent,_l=s=>s.dom.value,_f=(s,l)=>{if(l===void 0)throw new Error("Value.set was undefined");s.dom.value=l},il=(s,l,h)=>vs(Ys(s,h),l),Ri=(s,l)=>de(l,s),Gb=(s,l,h)=>Bv(s,l,h).isSome(),qb=(s,l,h)=>vl(s,l,h).isSome(),Zb=s=>Z(s)?s:mt,ty=(s,l,h)=>{let g=s.dom;const E=Zb(h);for(;g.parentNode;){g=g.parentNode;const O=co.fromDom(g),R=l(O);if(R.isSome())return R;if(E(O))break}return te.none()},Bu=(s,l,h)=>{const g=l(s),E=Zb(h);return g.orThunk(()=>E(s)?te.none():ty(s,l,E))},J={create:(s,l,h,g)=>({start:s,soffset:l,finish:h,foffset:g})},ae=rs.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),ke=(s,l,h,g)=>s.fold(l,h,g),qe=s=>s.fold(Ie,Ie,Ie),bt=ae.before,un=ae.on,mo=ae.after,Go={before:bt,on:un,after:mo,cata:ke,getStart:qe},Zs=rs.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ws=s=>Zs.exact(s.start,s.soffset,s.finish,s.foffset),$i=s=>s.match({domRange:l=>co.fromDom(l.startContainer),relative:(l,h)=>Go.getStart(l),exact:(l,h,g,E)=>l}),ga=Zs.domRange,Za=Zs.relative,Vu=Zs.exact,Up=s=>{const l=$i(s);return Dn(l)},zp=J.create,lu={domRange:ga,relative:Za,exact:Vu,exactFromRange:ws,getWin:Up,range:zp},u1=s=>te.from(s.getSelection()),Hm=s=>{if(s.rangeCount>0){const l=s.getRangeAt(0),h=s.getRangeAt(s.rangeCount-1);return te.some(J.create(co.fromDom(l.startContainer),l.startOffset,co.fromDom(h.endContainer),h.endOffset))}else return te.none()},Kb=s=>{if(s.anchorNode===null||s.focusNode===null)return Hm(s);{const l=co.fromDom(s.anchorNode),h=co.fromDom(s.focusNode);return Ms(l,s.anchorOffset,h,s.focusOffset)?te.some(J.create(l,s.anchorOffset,h,s.focusOffset)):Hm(s)}},$m=s=>u1(s).filter(l=>l.rangeCount>0).bind(Kb),Mg=(s,l)=>{const h=$e(s,l);return mn(h)},oy=(s,l)=>{const h=$e(s,l);return io(h)},Bl={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},PE=(()=>{const s="[0-9]+",h="[eE]"+("[+-]?"+s),g="\\.",E=G=>`(?:${G})?`,R=`[+-]?(?:${["Infinity",s+g+E(s)+E(h),g+s+E(h),s+E(h)].join("|")})`;return new RegExp(`^(${R})(.*)$`)})(),NE=(s,l)=>Ro(l,h=>Ro(Bl[h],g=>s===g)),Br=(s,l)=>te.from(PE.exec(s)).bind(g=>{const E=Number(g[1]),O=g[2];return NE(O,l)?te.some({value:E,unit:O}):te.none()}),ki=(s,l)=>Br(s,l).map(({value:h,unit:g})=>h+g),Ka=s=>{const l=s===void 0?window:s;return Gi().browser.isFirefox()?te.none():te.from(l.visualViewport)},ud=(s,l,h,g)=>({x:s,y:l,width:h,height:g,right:s+h,bottom:l+g}),Ya=s=>{const l=s===void 0?window:s,h=l.document,g=Ga(co.fromDom(h));return Ka(l).fold(()=>{const E=l.document.documentElement,O=E.clientWidth,R=E.clientHeight;return ud(g.left,g.top,O,R)},E=>ud(Math.max(E.pageLeft,g.left),Math.max(E.pageTop,g.top),E.width,E.height))},Yb=(s,l)=>s.view(l).fold(F([]),g=>{const E=s.owner(g),O=Yb(s,E);return[g].concat(O)}),Xb=(s,l)=>{const h=l.owner(s),g=Yb(l,h);return te.some(g)};var bl=Object.freeze({__proto__:null,view:s=>{var l;return(s.dom===document?te.none():te.from((l=s.dom.defaultView)===null||l===void 0?void 0:l.frameElement)).map(co.fromDom)},owner:s=>dt(s)});const Um=s=>{const l=Kl(),h=Ga(l);return Xb(s,bl).fold(Xe(Uc,s),E=>{const O=au(s),R=Ut(E,(G,K)=>{const oe=au(K);return{left:G.left+oe.left,top:G.top+oe.top}},{left:0,top:0});return ci(R.left+O.left+h.left,R.top+O.top+h.top)})},Qb=(s,l,h)=>({point:s,width:l,height:h}),BE=(s,l,h,g)=>({x:s,y:l,width:h,height:g}),Zr=(s,l,h,g)=>({x:s,y:l,width:h,height:g,right:s+h,bottom:l+g}),Vl=s=>{const l=Uc(s),h=Hp(s),g=wl(s);return Zr(l.left,l.top,h,g)},hp=s=>{const l=Um(s),h=Hp(s),g=wl(s);return Zr(l.left,l.top,h,g)},$d=(s,l)=>{const h=Math.max(s.x,l.x),g=Math.max(s.y,l.y),E=Math.min(s.right,l.right),O=Math.min(s.bottom,l.bottom),R=E-h,G=O-g;return Zr(h,g,R,G)},dd=(s,l)=>xn(l,(h,g)=>$d(h,g),s),Fu=()=>Ya(window),VE=(s,l)=>xe(s.element,l.event.target),Pg=s=>(Fc(ma(s,"position"),"fixed")?te.none():Cs(s)).orThunk(()=>{const g=co.fromTag("span");return Yn(s).bind(E=>{rc(E,g);const O=Cs(g);return Vd(g),O})}),HS=s=>Pg(s).map(Uc).getOrThunk(()=>ci(0,0)),Ud=(s,l)=>{const h=te.from(pl(s,"id")).getOrThunk(()=>{const g=yo("aria");return cs(l,"id",g),g});cs(s,"aria-describedby",h)},$S=s=>{ia(s,"aria-describedby")};var Ki;(function(s){s[s.Error=0]="Error",s[s.Value=1]="Value"})(Ki||(Ki={}));const Ng=(s,l,h)=>s.stype===Ki.Error?l(s.serror):h(s.svalue),Lg=s=>{const l=[],h=[];return Tn(s,g=>{Ng(g,E=>h.push(E),E=>l.push(E))}),{values:l,errors:h}},OO=(s,l)=>s.stype===Ki.Error?{stype:Ki.Error,serror:l(s.serror)}:s,US=(s,l)=>s.stype===Ki.Value?{stype:Ki.Value,svalue:l(s.svalue)}:s,zS=(s,l)=>s.stype===Ki.Value?l(s.svalue):s,IO=(s,l)=>s.stype===Ki.Error?l(s.serror):s,jp=s=>({stype:Ki.Value,svalue:s}),zm=s=>({stype:Ki.Error,serror:s}),va={fromResult:s=>s.fold(zm,jp),toResult:s=>Ng(s,zo.error,zo.value),svalue:jp,partition:Lg,serror:zm,bind:zS,bindError:IO,map:US,mapError:OO,fold:Ng},sy=s=>S(s)&&Ao(s).length>100?" removed due to size":JSON.stringify(s,null,2),e0=s=>{const l=s.length>10?s.slice(0,10).concat([{path:[],getErrorInfo:F("... (only showing first ten failures)")}]):s;return qt(l,h=>"Failed path: ("+h.path.join(" > ")+`)
`+h.getErrorInfo())},Nc=(s,l)=>va.serror([{path:s,getErrorInfo:l}]),Hv=(s,l,h)=>Nc(s,()=>'Could not find valid *required* value for "'+l+'" in '+sy(h)),dA=(s,l)=>Nc(s,()=>'Choice schema did not contain choice key: "'+l+'"'),Vg=(s,l,h)=>Nc(s,()=>'The chosen schema: "'+h+'" did not exist in branches: '+sy(l)),hA=(s,l)=>Nc(s,()=>"There are unsupported fields: ["+l.join(", ")+"] specified"),fp=(s,l)=>Nc(s,F(l)),jm=s=>{const l=(g,E)=>va.bindError(s(E),O=>fp(g,O)),h=F("val");return{extract:l,toString:h}},FE=jm(va.svalue),Un=F(FE),Fg=(s,l)=>jm(h=>{const g=typeof h;return s(h)?va.svalue(h):va.serror(`Expected type: ${l} but got: ${g}`)}),t0=Fg(re,"number"),Fa=Fg(v,"string"),Sr=Fg(B,"boolean"),$v=Fg(Z,"function"),ba=s=>{if(Object(s)!==s)return!0;switch({}.toString.call(s).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(s).every(l=>ba(s[l]));default:return!1}},d1=jm(s=>ba(s)?va.svalue(s):va.serror("Expected value to be acceptable for sending via postMessage")),Af=()=>({tag:"required",process:{}}),cu=s=>({tag:"defaultedThunk",process:s}),di=s=>cu(F(s)),Wp=()=>({tag:"option",process:{}}),Gp=s=>({tag:"mergeWithThunk",process:s}),HE=s=>Gp(F(s)),jS=(s,l,h,g)=>({tag:"field",key:s,newKey:l,presence:h,prop:g}),Jh=(s,l)=>({tag:"custom",newKey:s,instantiator:l}),Wm=(s,l,h)=>{switch(s.tag){case"field":return l(s.key,s.newKey,s.presence,s.prop);case"custom":return h(s.newKey,s.instantiator)}},ry=(s,l)=>va.svalue(Jr(l,Fh.apply(void 0,s))),Ui=s=>Ce(va.serror,fn)(s),UE={consolidateObj:(s,l)=>{const h=va.partition(s);return h.errors.length>0?Ui(h.errors):ry(h.values,l)},consolidateArr:s=>{const l=va.partition(s);return l.errors.length>0?Ui(l.errors):va.svalue(l.values)}},n0=(s,l,h,g)=>cn(l,h).fold(()=>Hv(s,h,l),g),WS=(s,l,h,g)=>{const E=cn(s,l).getOrThunk(()=>h(s));return g(E)},GS=(s,l,h)=>h(cn(s,l)),Gm=(s,l,h,g)=>{const E=cn(s,l).map(O=>O===!0?h(s):O);return g(E)},h1=(s,l,h,g,E)=>{const O=G=>E.extract(l.concat([g]),G),R=G=>G.fold(()=>va.svalue(te.none()),K=>{const oe=E.extract(l.concat([g]),K);return va.map(oe,te.some)});switch(s.tag){case"required":return n0(l,h,g,O);case"defaultedThunk":return WS(h,g,s.process,O);case"option":return GS(h,g,R);case"defaultedOptionThunk":return Gm(h,g,s.process,R);case"mergeWithThunk":return WS(h,g,F({}),G=>{const K=Jr(s.process(h),G);return O(K)})}},hd=(s,l,h)=>{const g={},E=[];for(const O of h)Wm(O,(R,G,K,oe)=>{const fe=h1(K,s,l,R,oe);va.fold(fe,ve=>{E.push(...ve)},ve=>{g[G]=ve})},(R,G)=>{g[R]=G(l)});return E.length>0?va.serror(E):va.svalue(g)},Tf=s=>({extract:(g,E)=>s().extract(g,E),toString:()=>s().toString()}),Hu=s=>Ao(tn(s,W)),yh=s=>{const l=Es(s),h=Ut(s,(E,O)=>Wm(O,R=>Jr(E,{[R]:!0}),F(E)),{});return{extract:(E,O)=>{const R=B(O)?[]:Hu(O),G=vs(R,K=>!Xn(h,K));return G.length===0?l.extract(E,O):hA(E,G)},toString:l.toString}},Es=s=>({extract:(g,E)=>hd(g,E,s),toString:()=>`obj{
`+qt(s,E=>Wm(E,(O,R,G,K)=>O+" -> "+K.toString(),(O,R)=>"state("+O+")")).join(`
`)+"}"}),fd=s=>({extract:(g,E)=>{const O=qt(E,(R,G)=>s.extract(g.concat(["["+G+"]"]),R));return UE.consolidateArr(O)},toString:()=>"array("+s.toString()+")"}),o0=(s,l)=>{const h=l!==void 0?l:Ie;return{extract:(O,R)=>{const G=[];for(const K of s){const oe=K.extract(O,R);if(oe.stype===Ki.Value)return{stype:Ki.Value,svalue:h(oe.svalue)};G.push(oe)}return UE.consolidateArr(G)},toString:()=>"oneOf("+qt(s,O=>O.toString()).join(", ")+")"}},Hg=(s,l)=>{const h=(O,R)=>fd(jm(s)).extract(O,R);return{extract:(O,R)=>{const G=Ao(R),K=h(O,G);return va.bind(K,oe=>{const fe=qt(oe,ve=>jS(ve,ve,Af(),l));return Es(fe).extract(O,R)})},toString:()=>"setOf("+l.toString()+")"}},RO=(s,l)=>{const h=tu(l);return{extract:(O,R)=>h().extract(O,R),toString:()=>h().toString()}},qS=Ce(fd,Es),pp=(s,l,h,g)=>cn(h,g).fold(()=>Vg(s,h,g),O=>O.extract(s.concat(["branch: "+g]),l)),qm=(s,l)=>({extract:(E,O)=>cn(O,s).fold(()=>dA(E,s),G=>pp(E,O,l,G)),toString:()=>"chooseOn("+s+"). Possible values: "+Ao(l)}),iy=()=>fd(FE),Zm=s=>jm(l=>s(l).fold(va.serror,va.svalue)),zE=(s,l)=>Hg(h=>va.fromResult(s(h)),l),jE=(s,l,h)=>{const g=l.extract([s],h);return va.mapError(g,E=>({input:h,errors:E}))},Na=(s,l,h)=>va.toResult(jE(s,l,h)),mp=s=>s.fold(l=>{throw new Error(gp(l))},Ie),pd=(s,l,h)=>mp(Na(s,l,h)),gp=s=>`Errors: 
`+e0(s.errors).join(`
`)+`

Input object: `+sy(s.input),md=(s,l)=>qm(s,Ls(l,Es)),s0=(s,l)=>RO(s,l),Tc=jS,zc=Jh,Uv=s=>Zm(l=>Cn(s,l)?zo.value(l):zo.error(`Unsupported value: "${l}", choose one of "${s.join(", ")}".`)),kn=s=>Tc(s,s,Af(),Un()),$u=(s,l)=>Tc(s,s,Af(),l),ay=s=>$u(s,t0),ic=s=>$u(s,Fa),xf=(s,l)=>Tc(s,s,Af(),Uv(l)),Qh=s=>$u(s,$v),ly=(s,l)=>Tc(s,s,Wp(),jm(h=>va.serror("The field: "+s+" is forbidden. "+l))),Km=(s,l)=>Tc(s,s,Af(),Es(l)),pA=(s,l)=>Tc(s,s,Af(),qS(l)),zd=(s,l)=>Tc(s,s,Af(),fd(l)),bi=s=>Tc(s,s,Wp(),Un()),Uu=(s,l)=>Tc(s,s,Wp(),l),r0=s=>Uu(s,t0),al=s=>Uu(s,Fa),mA=(s,l)=>Uu(s,Uv(l)),ZS=s=>Uu(s,Sr),qp=s=>Uu(s,$v),WE=(s,l)=>Uu(s,fd(l)),Sh=(s,l)=>Uu(s,Es(l)),GE=(s,l)=>Uu(s,yh(l)),Wt=(s,l)=>Tc(s,s,di(l),Un()),gd=(s,l,h)=>Tc(s,s,di(l),h),cy=(s,l)=>gd(s,l,t0),Ha=(s,l)=>gd(s,l,Fa),Ch=(s,l,h)=>gd(s,l,Uv(h)),jc=(s,l)=>gd(s,l,Sr),yi=(s,l)=>gd(s,l,$v),KS=(s,l)=>gd(s,l,d1),zv=(s,l,h)=>gd(s,l,fd(h)),qE=(s,l,h)=>gd(s,l,Es(h)),jv=(s,l)=>{const h={};return Ks(s,(g,E)=>{Cn(l,E)||(h[E]=g)}),h},$g=(s,l)=>({[s]:l}),YS=s=>{const l={};return Tn(s,h=>{l[h.key]=h.value}),l},ZE=(s,l)=>jv(s,l),Ug=(s,l)=>$g(s,l),Wv=s=>YS(s),gA=(s,l)=>s.length===0?zo.value(l):zo.value(Jr(l,Fh.apply(void 0,s))),Gv=s=>zo.error(fn(s)),Wc=(s,l)=>{const h=eu(s);return h.errors.length>0?Gv(h.errors):gA(h.values,l)},ac=F,zg=ac("touchstart"),jg=ac("touchmove"),Wg=ac("touchend"),uy=ac("touchcancel"),vd=ac("mousedown"),qv=ac("mousemove"),Al=ac("mouseout"),i0=ac("mouseup"),Of=ac("mouseover"),If=ac("focusin"),f1=ac("focusout"),lc=ac("keydown"),Gg=ac("keyup"),Zp=ac("input"),Kp=ac("change"),Ym=ac("click"),Zv=ac("transitioncancel"),bd=ac("transitionend"),a0=ac("transitionstart"),vA=ac("selectstart"),Ca=s=>F("alloy."+s),KE={tap:Ca("tap")},vp=Ca("focus"),Rf=Ca("blur.post"),Xm=Ca("paste.post"),Yp=Ca("receive"),uu=Ca("execute"),l0=Ca("focus.item"),Xp=KE.tap,YE=Ca("longpress"),p1=Ca("sandbox.close"),c0=Ca("typeahead.cancel"),XS=Ca("system.init"),JS=Ca("system.touchmove"),bA=Ca("system.touchend"),u0=Ca("system.scroll"),d0=Ca("system.resize"),Jp=Ca("system.attached"),qg=Ca("system.detached"),Zg=Ca("system.dismissRequested"),yA=Ca("system.repositionRequested"),dy=Ca("focusmanager.shifted"),m1=Ca("slotcontainer.visibility"),SA=Ca("system.external.element.scroll"),CA=Ca("change.tab"),h0=Ca("dismiss.tab"),Kv=Ca("highlight"),QS=Ca("dehighlight"),Eh=s=>Mc(s),g1="unknown";var bp;(function(s){s[s.STOP=0]="STOP",s[s.NORMAL=1]="NORMAL",s[s.LOGGING=2]="LOGGING"})(bp||(bp={}));const hy=$n({}),EA=(s,l)=>{const h=[],g=new Date().getTime();return{logEventCut:(E,O,R)=>{h.push({outcome:"cut",target:O,purpose:R})},logEventStopped:(E,O,R)=>{h.push({outcome:"stopped",target:O,purpose:R})},logNoParent:(E,O,R)=>{h.push({outcome:"no-parent",target:O,purpose:R})},logEventNoHandlers:(E,O)=>{h.push({outcome:"no-handlers-left",target:O})},logEventResponse:(E,O,R)=>{h.push({outcome:"response",purpose:R,target:O})},write:()=>{const E=new Date().getTime();Cn(["mousemove","mouseover","mouseout",XS()],s)||console.log(s,{event:s,time:E-g,target:l.dom,sequence:qt(h,O=>Cn(["cut","stopped","response"],O.outcome)?"{"+O.purpose+"} "+O.outcome+" at ("+Eh(O.target)+")":O.outcome)})}}},XE=(s,l,h)=>{switch(cn(hy.get(),s).orThunk(()=>{const E=Ao(hy.get());return Rs(E,O=>s.indexOf(O)>-1?te.some(hy.get()[O]):te.none())}).getOr(bp.NORMAL)){case bp.NORMAL:return h(kO());case bp.LOGGING:{const E=EA(s,l),O=h(E);return E.write(),O}case bp.STOP:return!0}},wh=["alloy/data/Fields","alloy/debugging/Debugging"],v1=()=>{const s=new Error;if(s.stack!==void 0){const l=s.stack.split(`
`);return zt(l,h=>h.indexOf("alloy")>0&&!Ro(wh,g=>h.indexOf(g)>-1)).getOr(g1)}else return g1},wA={logEventCut:ie,logEventStopped:ie,logNoParent:ie,logEventNoHandlers:ie,logEventResponse:ie,write:ie},Yv=(s,l,h)=>XE(s,l,h),kO=F(wA),_A=F([kn("menu"),kn("selectedMenu")]),JE=F([kn("item"),kn("selectedItem")]);F(Es(JE().concat(_A())));const AA=F(Es(JE())),Ai=Km("initSize",[kn("numColumns"),kn("numRows")]),TA=()=>$u("markers",AA()),QE=()=>Km("markers",[kn("backgroundMenu")].concat(_A()).concat(JE())),_h=s=>Km("markers",qt(s,kn)),f0=(s,l,h)=>(v1(),Tc(l,l,h,Zm(g=>zo.value((...E)=>g.apply(void 0,E))))),Dr=s=>f0("onHandler",s,di(ie)),Xl=s=>f0("onKeyboardHandler",s,di(te.none)),b1=s=>f0("onHandler",s,Af()),eC=s=>f0("onKeyboardHandler",s,Af()),la=(s,l)=>zc(s,F(l)),fy=s=>zc(s,Ie),y1=F(Ai),ew=(s,l,h)=>{const g=h.toString(),E=g.indexOf(")")+1,O=g.indexOf("("),R=g.substring(O+1,E-1).split(/,\s*/);return s.toFunctionAnnotation=()=>({name:l,parameters:xA(R.slice(0,1).concat(R.slice(3)))}),s},xA=s=>qt(s,l=>Hc(l,"/*")?l.substring(0,l.length-2):l),OA=(s,l)=>{const h=s.toString(),g=h.indexOf(")")+1,E=h.indexOf("("),O=h.substring(E+1,g-1).split(/,\s*/);return s.toFunctionAnnotation=()=>({name:l,parameters:xA(O)}),s},Qk=(s,l)=>{const h=l.toString(),g=h.indexOf(")")+1,E=h.indexOf("("),O=h.substring(E+1,g-1).split(/,\s*/);return s.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:xA(O.slice(1))}),s},IA=(s,l)=>{let h=null;return{cancel:()=>{h!==null&&(clearTimeout(h),h=null)},schedule:(...O)=>{h=setTimeout(()=>{s.apply(null,O),h=null},l)}}},DO=5,RA=400,kA=s=>{const l=s.raw;return l.touches===void 0||l.touches.length!==1?te.none():te.some(l.touches[0])},yp=(s,l)=>{const h=Math.abs(s.clientX-l.x),g=Math.abs(s.clientY-l.y);return h>DO||g>DO},Gc=s=>{const l=Ss(),h=$n(!1),g=IA(oe=>{s.triggerEvent(YE(),oe),h.set(!0)},RA),E=oe=>(kA(oe).each(fe=>{g.cancel();const ve={x:fe.clientX,y:fe.clientY,target:oe.target};g.schedule(oe),h.set(!1),l.set(ve)}),te.none()),O=oe=>(g.cancel(),kA(oe).each(fe=>{l.on(ve=>{yp(fe,ve)&&l.clear()})}),te.none()),R=oe=>{g.cancel();const fe=ve=>xe(ve.target,oe.target);return l.get().filter(fe).map(ve=>h.get()?(oe.prevent(),!1):s.triggerEvent(Xp(),oe))},G=Wv([{key:zg(),value:E},{key:jg(),value:O},{key:Wg(),value:R}]);return{fireIfReady:(oe,fe)=>cn(G,fe).bind(ve=>ve(oe))}};var kf;(function(s){s.OnFocusMode="onFocus",s.OnEnterOrSpaceMode="onEnterOrSpace",s.OnApiMode="onApi"})(kf||(kf={}));const Qp="placeholder",em=rs.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Kg=s=>ro(s,"uiType"),Jm=(s,l,h,g)=>s.exists(E=>E!==h.owner)?em.single(!0,F(h)):cn(g,h.name).fold(()=>{throw new Error("Unknown placeholder component: "+h.name+`
Known: [`+Ao(g)+`]
Namespace: `+s.getOr("none")+`
Spec: `+JSON.stringify(h,null,2))},E=>E.replace()),Qm=(s,l,h,g)=>Kg(h)&&h.uiType===Qp?Jm(s,l,h,g):em.single(!1,F(h)),tw=(s,l,h,g)=>Qm(s,l,h,g).fold((O,R)=>{const G=Kg(h)?R(l,h.config,h.validated):R(l),K=cn(G,"components").getOr([]),oe=ct(K,fe=>tw(s,l,fe,g));return[{...G,components:oe}]},(O,R)=>{if(Kg(h)){const G=R(l,h.config,h.validated);return h.validated.preprocess.getOr(Ie)(G)}else return R(l)}),tC=(s,l,h,g)=>ct(h,E=>tw(s,l,E,g)),MO=(s,l)=>{let h=!1;const g=()=>h,E=()=>{if(h)throw new Error("Trying to use the same placeholder more than once: "+s);return h=!0,l},O=()=>l.fold((R,G)=>R,(R,G)=>R);return{name:F(s),required:O,used:g,replace:E}},PO=(s,l,h,g)=>{const E=Ls(g,(R,G)=>MO(G,R)),O=tC(s,l,h,E);return Ks(E,R=>{if(R.used()===!1&&R.required())throw new Error("Placeholder: "+R.name()+` was not found in components list
Namespace: `+s.getOr("none")+`
Components: `+JSON.stringify(l.components,null,2))}),O},S1=em.single,nC=em.multiple,oC=F(Qp),sC=rs.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Yg=Wt("factory",{sketch:Ie}),py=Wt("schema",[]),tm=kn("name"),rC=Tc("pname","pname",cu(s=>"<alloy."+yo(s.name)+">"),Un()),nw=zc("schema",()=>[bi("preprocess")]),iC=Wt("defaults",F({})),aC=Wt("overrides",F({})),DA=Es([Yg,py,tm,rC,iC,aC]),NO=Es([Yg,py,tm,iC,aC]),my=Es([Yg,py,tm,rC,iC,aC]),MA=Es([Yg,nw,tm,kn("unit"),rC,iC,aC]),Df=s=>s.fold(te.some,te.none,te.some,te.some),gy=s=>{const l=h=>h.name;return s.fold(l,l,l,l)},lC=s=>s.fold(Ie,Ie,Ie,Ie),eg=(s,l)=>h=>{const g=pd("Converting part type",l,h);return s(g)},zu=eg(sC.required,DA),ee=eg(sC.external,NO),m=eg(sC.optional,my),C=eg(sC.group,MA),_=F("entirety");var I=Object.freeze({__proto__:null,required:zu,external:ee,optional:m,group:C,asNamedPart:Df,name:gy,asCommon:lC,original:_});const D=(s,l,h,g)=>Jr(l.defaults(s,h,g),h,{uid:s.partUids[l.name]},l.overrides(s,h,g)),N=(s,l,h)=>{const g={},E={};return Tn(h,O=>{O.fold(R=>{g[R.pname]=S1(!0,(G,K,oe)=>R.factory.sketch(D(G,R,K,oe)))},R=>{const G=l.parts[R.name];E[R.name]=F(R.factory.sketch(D(l,R,G[_()]),G))},R=>{g[R.pname]=S1(!1,(G,K,oe)=>R.factory.sketch(D(G,R,K,oe)))},R=>{g[R.pname]=nC(!0,(G,K,oe)=>{const fe=G[R.name];return qt(fe,ve=>R.factory.sketch(Jr(R.defaults(G,ve,oe),ve,R.overrides(G,ve))))})})}),{internals:F(g),externals:F(E)}},V=(s,l)=>{const h={};return Tn(l,g=>{Df(g).each(E=>{const O=q(s,E.pname);h[E.name]=R=>{const G=pd("Part: "+E.name+" in "+s,Es(E.schema),R);return{...O,config:R,validated:G}}})}),h},q=(s,l)=>({uiType:oC(),owner:s,name:l}),Q=(s,l,h)=>({uiType:oC(),owner:s,name:l,config:h,validated:{}}),ce=s=>ct(s,l=>l.fold(te.none,te.some,te.none,te.none).map(h=>Km(h.name,h.schema.concat([fy(_())]))).toArray()),ne=s=>qt(s,gy),he=(s,l,h)=>N(s,l,h),ye=(s,l,h)=>PO(te.some(s),l,l.components,h),Ee=(s,l,h)=>{const g=l.partUids[h];return s.getSystem().getByUid(g).toOptional()},Ne=(s,l,h)=>Ee(s,l,h).getOrDie("Could not find part: "+h),Le=(s,l,h)=>{const g={},E=l.partUids,O=s.getSystem();return Tn(h,R=>{g[R]=F(O.getByUid(E[R]))}),g},Me=(s,l)=>{const h=s.getSystem();return Ls(l.partUids,(g,E)=>F(h.getByUid(g)))},ze=s=>Ao(s.partUids),Ye=(s,l,h)=>{const g={},E=l.partUids,O=s.getSystem();return Tn(h,R=>{g[R]=F(O.getByUid(E[R]).getOrDie())}),g},Nt=(s,l)=>{const h=ne(l);return Wv(qt(h,g=>({key:g,value:s+"-"+g})))},Tt=s=>Tc("partUids","partUids",Gp(l=>Nt(l.uid,s)),Un());var It=Object.freeze({__proto__:null,generate:V,generateOne:Q,schemas:ce,names:ne,substitutes:he,components:ye,defaultUids:Nt,defaultUidsSchema:Tt,getAllParts:Me,getAllPartNames:ze,getPart:Ee,getPartOrDie:Ne,getParts:Le,getPartsOrDie:Ye});const bn=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Ft=(s,l,h,g=1)=>{const E=s*g,O=l*g,R=K=>cn(h,K).getOr([]),G=(K,oe,fe)=>{const ve=Ge(bn,fe);return{offset:ci(K,oe),classesOn:ct(fe,R),classesOff:ct(ve,R)}};return{southeast:()=>G(-s,l,["top","alignLeft"]),southwest:()=>G(s,l,["top","alignRight"]),south:()=>G(-s/2,l,["top","alignCentre"]),northeast:()=>G(-s,-l,["bottom","alignLeft"]),northwest:()=>G(s,-l,["bottom","alignRight"]),north:()=>G(-s/2,-l,["bottom","alignCentre"]),east:()=>G(s,-l/2,["valignCentre","left"]),west:()=>G(-s,-l/2,["valignCentre","right"]),insetNortheast:()=>G(E,O,["top","alignLeft","inset"]),insetNorthwest:()=>G(-E,O,["top","alignRight","inset"]),insetNorth:()=>G(-E/2,O,["top","alignCentre","inset"]),insetSoutheast:()=>G(E,-O,["bottom","alignLeft","inset"]),insetSouthwest:()=>G(-E,-O,["bottom","alignRight","inset"]),insetSouth:()=>G(-E/2,-O,["bottom","alignCentre","inset"]),insetEast:()=>G(-E,-O/2,["valignCentre","right","inset"]),insetWest:()=>G(E,-O/2,["valignCentre","left","inset"])}},gn=()=>Ft(0,0,{}),Pn=(s,l,h,g,E,O,R,G=!1)=>({x:s,y:l,bubble:h,direction:g,placement:E,restriction:O,label:`${R}-${E}`,alwaysFit:G}),ao=rs.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Vo=(s,l,h,g,E,O,R,G,K)=>s.fold(l,h,g,E,O,R,G,K),qo=(s,l,h,g)=>s.fold(l,l,g,g,l,g,h,h),Us=(s,l,h,g)=>s.fold(l,g,l,g,h,h,l,g),bs=ao.southeast,zs=ao.southwest,us=ao.northeast,or=ao.northwest,jr=ao.south,Di=ao.north,hi=ao.east,Fl=ao.west,Ti=(s,l)=>{switch(l){case 1:return s.x;case 0:return s.x+s.width;case 2:return s.y;case 3:return s.y+s.height}},Mr=(s,l)=>Lt(["left","right","top","bottom"],h=>cn(l,h).map(g=>Ti(s,g))),Vr=(s,l,h)=>{const g=(K,oe)=>l[K].map(fe=>{const ve=K==="top"||K==="bottom",De=ve?h.top:h.left,He=(K==="left"||K==="top"?Math.max:Math.min)(fe,oe)+De;return ve?dl(He,s.y,s.bottom):dl(He,s.x,s.right)}).getOr(oe),E=g("left",s.x),O=g("top",s.y),R=g("right",s.right),G=g("bottom",s.bottom);return Zr(E,O,R-E,G-O)},ir="layout",cc=s=>s.x,ca=(s,l)=>s.x+s.width/2-l.width/2,Xa=(s,l)=>s.x+s.width-l.width,uc=(s,l)=>s.y-l.height,nm=s=>s.y+s.height,Mf=(s,l)=>s.y+s.height/2-l.height/2,ju=s=>s.x+s.width,xc=(s,l)=>s.x-l.width,Fr=(s,l,h)=>Pn(cc(s),nm(s),h.southeast(),bs(),"southeast",Mr(s,{left:1,top:3}),ir),zi=(s,l,h)=>Pn(Xa(s,l),nm(s),h.southwest(),zs(),"southwest",Mr(s,{right:0,top:3}),ir),yl=(s,l,h)=>Pn(cc(s),uc(s,l),h.northeast(),us(),"northeast",Mr(s,{left:1,bottom:2}),ir),Ja=(s,l,h)=>Pn(Xa(s,l),uc(s,l),h.northwest(),or(),"northwest",Mr(s,{right:0,bottom:2}),ir),Tl=(s,l,h)=>Pn(ca(s,l),uc(s,l),h.north(),Di(),"north",Mr(s,{bottom:2}),ir),ua=(s,l,h)=>Pn(ca(s,l),nm(s),h.south(),jr(),"south",Mr(s,{top:3}),ir),Xg=(s,l,h)=>Pn(ju(s),Mf(s,l),h.east(),hi(),"east",Mr(s,{left:0}),ir),C1=(s,l,h)=>Pn(xc(s,l),Mf(s,l),h.west(),Fl(),"west",Mr(s,{right:1}),ir),PA=()=>[Fr,zi,yl,Ja,ua,Tl,Xg,C1],eD=()=>[zi,Fr,Ja,yl,ua,Tl,Xg,C1],NA=()=>[yl,Ja,Fr,zi,Tl,ua],tD=()=>[Ja,yl,zi,Fr,Tl,ua],E1=()=>[Fr,zi,yl,Ja,ua,Tl],LO=()=>[zi,Fr,Ja,yl,ua,Tl],w1="data-alloy-placement",LA=(s,l)=>{cs(s,w1,l)},BO=s=>rr(s,w1),BA=s=>ia(s,w1),Jg="layout-inset",ow=s=>s.x,VO=(s,l)=>s.x+s.width/2-l.width/2,cC=(s,l)=>s.x+s.width-l.width,sw=s=>s.y,VA=(s,l)=>s.y+s.height-l.height,FO=(s,l)=>s.y+s.height/2-l.height/2,tg=(s,l,h)=>Pn(cC(s,l),VA(s,l),h.insetSouthwest(),or(),"southwest",Mr(s,{right:0,bottom:3}),Jg),Xv=(s,l,h)=>Pn(ow(s),VA(s,l),h.insetSoutheast(),us(),"southeast",Mr(s,{left:1,bottom:3}),Jg),uC=(s,l,h)=>Pn(cC(s,l),sw(s),h.insetNorthwest(),zs(),"northwest",Mr(s,{right:0,top:2}),Jg),an=(s,l,h)=>Pn(ow(s),sw(s),h.insetNortheast(),bs(),"northeast",Mr(s,{left:1,top:2}),Jg),ef=(s,l,h)=>Pn(VO(s,l),sw(s),h.insetNorth(),jr(),"north",Mr(s,{top:2}),Jg),dC=(s,l,h)=>Pn(VO(s,l),VA(s,l),h.insetSouth(),Di(),"south",Mr(s,{bottom:3}),Jg),rw=(s,l,h)=>Pn(cC(s,l),FO(s,l),h.insetEast(),Fl(),"east",Mr(s,{right:0}),Jg),FA=(s,l,h)=>Pn(ow(s),FO(s,l),h.insetWest(),hi(),"west",Mr(s,{left:1}),Jg),Qg=s=>{switch(s){case"north":return ef;case"northeast":return an;case"northwest":return uC;case"south":return dC;case"southeast":return Xv;case"southwest":return tg;case"east":return rw;case"west":return FA}},jd=(s,l,h,g,E)=>BO(g).map(Qg).getOr(ef)(s,l,h,g,E),iw=s=>{switch(s){case"north":return dC;case"northeast":return Xv;case"northwest":return tg;case"south":return ef;case"southeast":return an;case"southwest":return uC;case"east":return FA;case"west":return rw}},nD=(s,l,h,g,E)=>BO(g).map(iw).getOr(ef)(s,l,h,g,E),HA=(s,l)=>{Sf(s,Math.floor(l))},oD=F((s,l)=>{HA(s,l),pa(s,{"overflow-x":"hidden","overflow-y":"auto"})}),_1=F((s,l)=>{HA(s,l)}),HO=F((s,l)=>{RE(s,Math.floor(l))});var Jv;(function(s){s.TopToBottom="toptobottom",s.BottomToTop="bottomtotop"})(Jv||(Jv={}));const $O="data-alloy-vertical-dir",sD=s=>Gb(s,l=>Dc(l)&&pl(l,"data-alloy-vertical-dir")===Jv.BottomToTop);var Wd;(function(s){s[s.HighlightMenuAndItem=0]="HighlightMenuAndItem",s[s.HighlightJustMenu=1]="HighlightJustMenu",s[s.HighlightNone=2]="HighlightNone"})(Wd||(Wd={}));const ev={init:()=>Pf({readState:F("No State required")})},Pf=s=>s,$A={can:gt,abort:mt,run:ie},hC=s=>{if(!Xn(s,"can")&&!Xn(s,"abort")&&!Xn(s,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(s,null,2)+" does not have can, abort, or run!");return{...$A,...s}},rD=(s,l)=>(...h)=>xn(s,(g,E)=>g&&l(E).apply(void 0,h),!0),g4=(s,l)=>(...h)=>xn(s,(g,E)=>g||l(E).apply(void 0,h),!1),UO=s=>Z(s)?{can:gt,abort:mt,run:s}:s,iD=s=>{const l=rD(s,E=>E.can),h=g4(s,E=>E.abort);return{can:l,abort:h,run:(...E)=>{Tn(s,O=>{O.run.apply(void 0,E)})}}},wr=(s,l)=>{zO(s,s.element,l,{})},ms=(s,l,h)=>{zO(s,s.element,l,h)},aw=s=>{wr(s,uu())},UA=(s,l,h)=>{zO(s,l,h,{})},zO=(s,l,h,g)=>{const E={target:l,...g};s.getSystem().triggerEvent(h,l,E)},v4=(s,l,h,g)=>{const E={...g,target:l};s.getSystem().triggerEvent(h,l,E)},jO=(s,l,h,g)=>{s.getSystem().triggerEvent(h,l,g.event)},Ra=s=>Wv(s),zA=(s,l)=>({key:s,value:hC({abort:l})}),lw=(s,l)=>({key:s,value:hC({can:l})}),A1=s=>({key:s,value:hC({run:(l,h)=>{h.event.prevent()}})}),pn=(s,l)=>({key:s,value:hC({run:l})}),jA=(s,l,h)=>({key:s,value:hC({run:(g,E)=>{l.apply(void 0,[g,E].concat(h))}})}),aD=s=>l=>pn(s,l),WA=s=>l=>({key:s,value:hC({run:(h,g)=>{VE(h,g)&&l(h,g)}})}),lD=(s,l)=>pn(s,(h,g)=>{h.getSystem().getByUid(l).each(E=>{jO(E,E.element,s,g)})}),p0=(s,l,h)=>{const g=l.partUids[h];return lD(s,g)},T1=(s,l)=>pn(s,(h,g)=>{const E=g.event,O=h.getSystem().getByDom(E.target).getOrThunk(()=>Bu(E.target,G=>h.getSystem().getByDom(G).toOptional(),mt).getOr(h));l(h,O,g)}),x1=s=>pn(s,(l,h)=>{h.cut()}),WO=s=>pn(s,(l,h)=>{h.stop()}),O1=(s,l)=>WA(s)(l),Ea=WA(Jp()),tv=WA(qg()),cD=WA(XS()),m0=aD(uu()),ng=s=>({classes:U(s.classes)?[]:s.classes,attributes:U(s.attributes)?{}:s.attributes,styles:U(s.styles)?{}:s.styles}),b4=(s,l)=>({...s,attributes:{...s.attributes,...l.attributes},styles:{...s.styles,...l.styles},classes:s.classes.concat(l.classes)}),y4=(s,l,h)=>m0(g=>{h(g,s,l)}),GO=(s,l,h)=>cD((g,E)=>{h(g,s,l)}),S4=(s,l,h,g,E,O)=>{const R=yh(s),G=Sh(l,[GE("config",s)]);return qO(R,G,l,h,g,E,O)},C4=(s,l,h,g,E,O)=>{const R=s,G=Sh(l,[Uu("config",s)]);return qO(R,G,l,h,g,E,O)},E4=(s,l,h)=>ew((E,...O)=>{const R=[E].concat(O);return E.config({name:F(s)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+s+". Using API: "+h)},G=>{const K=Array.prototype.slice.call(R,1);return l.apply(void 0,[E,G.config,G.state].concat(K))})},h,l),w4=s=>({key:s,value:void 0}),qO=(s,l,h,g,E,O,R)=>{const G=ve=>Xn(ve,h)?ve[h]():te.none(),K=Ls(E,(ve,De)=>E4(h,ve,De)),fe={...Ls(O,(ve,De)=>OA(ve,De)),...K,revoke:Xe(w4,h),config:ve=>{const De=pd(h+"-config",s,ve);return{key:h,value:{config:De,me:fe,configAsRaw:tu(()=>pd(h+"-config",s,ve)),initialConfig:ve,state:R}}},schema:F(l),exhibit:(ve,De)=>Rc(G(ve),cn(g,"exhibit"),(Ue,He)=>He(De,Ue.config,Ue.state)).getOrThunk(()=>ng({})),name:F(h),handlers:ve=>G(ve).map(De=>cn(g,"events").getOr(()=>({}))(De.config,De.state)).getOr({})};return fe},oo=s=>Wv(s),uD=yh([kn("fields"),kn("name"),Wt("active",{}),Wt("apis",{}),Wt("state",ev),Wt("extra",{})]),du=s=>{const l=pd("Creating behaviour: "+s.name,uD,s);return S4(l.fields,l.name,l.active,l.apis,l.extra,l.state)},dD=yh([kn("branchKey"),kn("branches"),kn("name"),Wt("active",{}),Wt("apis",{}),Wt("state",ev),Wt("extra",{})]),hD=s=>{const l=pd("Creating behaviour: "+s.name,dD,s);return C4(md(l.branchKey,l.branches),l.name,l.active,l.apis,l.extra,l.state)},fD=F(void 0),_4=(s,l)=>{const h=Ra(l);return du({fields:[kn("enabled")],name:s,active:{events:F(h)}})},$s=(s,l)=>{const h=_4(s,l);return{key:s,value:{config:{},me:h,configAsRaw:F({}),initialConfig:{},state:ev}}},ZO=s=>({init:()=>{const h=$n(s);return{get:()=>h.get(),set:G=>h.set(G),clear:()=>h.set(s),readState:()=>h.get()}}}),pD=(s,l)=>{l.ignore||(ra(s.element),l.onFocus(s))};var mD=Object.freeze({__proto__:null,focus:pD,blur:(s,l)=>{l.ignore||mr(s.element)},isFocused:s=>qh(s.element)}),gD=Object.freeze({__proto__:null,exhibit:(s,l)=>{const h=l.ignore?{}:{attributes:{tabindex:"-1"}};return ng(h)},events:s=>Ra([pn(vp(),(l,h)=>{pD(l,s),h.stop()})].concat(s.stopMousedown?[pn(vd(),(l,h)=>{h.event.prevent()})]:[]))}),KO=[Dr("onFocus"),Wt("stopMousedown",!1),Wt("ignore",!1)];const js=du({fields:KO,name:"focusing",active:gD,apis:mD}),YO=[8],g0=[9],Sp=[13],Po=[27],Gd=[32],cw=[37],uw=[38],GA=[39],fC=[40],dw=F("tooltipping.close.all"),v0=F("dismiss.popups"),yd=F("reposition.popups"),Qv=F("mouse.released"),x4=(s,l,h)=>{const g=Yt(s.slice(0,l)),E=Yt(s.slice(l+1));return zt(g.concat(E),h)},Wu=(s,l,h)=>{const g=Yt(s.slice(0,l));return zt(g,h)},pC=(s,l,h)=>{const g=s.slice(0,l),E=s.slice(l+1);return zt(E.concat(g),h)},O4=(s,l,h)=>{const g=s.slice(l+1);return zt(g,h)},Wr=s=>l=>{const h=l.raw;return Cn(s,h.which)},nv=s=>l=>Mt(s,h=>h(l)),I1=s=>s.raw.shiftKey===!0,Iz=s=>s.raw.ctrlKey===!0,R1=Ve(I1),Kr=(s,l)=>({matches:s,classification:l}),Rz=(s,l)=>zt(s,g=>g.matches(l)).map(g=>g.classification),vD=(s,l,h,g)=>{const E=Ri(s.element,"."+l.highlightClass);Tn(E,O=>{Ro(g,G=>xe(G.element,O))||(vi(O,l.highlightClass),s.getSystem().getByDom(O).each(G=>{l.onDehighlight(s,G),wr(G,QS())}))})},kz=(s,l,h)=>vD(s,l,h,[]),Dz=(s,l,h,g)=>{fw(s,l,h,g)&&(vi(g.element,l.highlightClass),l.onDehighlight(s,g),wr(g,QS()))},hw=(s,l,h,g)=>{vD(s,l,h,[g]),fw(s,l,h,g)||(Ii(g.element,l.highlightClass),l.onHighlight(s,g),wr(g,Kv()))},I4=(s,l,h)=>{pw(s,l).each(g=>{hw(s,l,h,g)})},Mz=(s,l,h)=>{JO(s,l).each(g=>{hw(s,l,h,g)})},qA=(s,l,h,g)=>{R4(s,l,h,g).fold(E=>{throw E},E=>{hw(s,l,h,E)})},XO=(s,l,h,g)=>{const E=CD(s,l);zt(E,g).each(R=>{hw(s,l,h,R)})},fw=(s,l,h,g)=>qa(g.element,l.highlightClass),bD=(s,l,h)=>ui(s.element,"."+l.highlightClass).bind(g=>s.getSystem().getByDom(g).toOptional()),R4=(s,l,h,g)=>{const E=Ri(s.element,"."+l.itemClass);return te.from(E[g]).fold(()=>zo.error(new Error("No element found with index "+g)),s.getSystem().getByDom)},pw=(s,l,h)=>ui(s.element,"."+l.itemClass).bind(g=>s.getSystem().getByDom(g).toOptional()),JO=(s,l,h)=>{const g=Ri(s.element,"."+l.itemClass);return(g.length>0?te.some(g[g.length-1]):te.none()).bind(O=>s.getSystem().getByDom(O).toOptional())},QO=(s,l,h,g)=>{const E=Ri(s.element,"."+l.itemClass);return wn(E,R=>qa(R,l.highlightClass)).bind(R=>{const G=Qc(R,g,0,E.length-1);return s.getSystem().getByDom(E[G]).toOptional()})},yD=(s,l,h)=>QO(s,l,h,-1),SD=(s,l,h)=>QO(s,l,h,1),CD=(s,l,h)=>{const g=Ri(s.element,"."+l.itemClass);return xu(qt(g,E=>s.getSystem().getByDom(E).toOptional()))};var eI=Object.freeze({__proto__:null,dehighlightAll:kz,dehighlight:Dz,highlight:hw,highlightFirst:I4,highlightLast:Mz,highlightAt:qA,highlightBy:XO,isHighlighted:fw,getHighlighted:bD,getFirst:pw,getLast:JO,getPrevious:yD,getNext:SD,getCandidates:CD}),tI=[kn("highlightClass"),kn("itemClass"),Dr("onHighlight"),Dr("onDehighlight")];const fi=du({fields:tI,name:"highlighting",apis:eI}),ED=(s,l,h)=>{l.exists(E=>h.exists(O=>xe(O,E)))||ms(s,dy(),{prevFocus:l,newFocus:h})},ZA=()=>{const s=h=>Wa(h.element);return{get:s,set:(h,g)=>{const E=s(h);h.getSystem().triggerFocus(g,h.element);const O=s(h);ED(h,E,O)}}},nI=()=>{const s=h=>fi.getHighlighted(h).map(g=>g.element);return{get:s,set:(h,g)=>{const E=s(h);h.getSystem().getByDom(g).fold(ie,R=>{fi.highlight(h,R)});const O=s(h);ED(h,E,O)}}},om=(s,l,h,g,E)=>{const O=()=>s.concat([Wt("focusManager",ZA()),gd("focusInside","onFocus",Zm(oe=>Cn(["onFocus","onEnterOrSpace","onApi"],oe)?zo.value(oe):zo.error("Invalid value for focusInside"))),la("handler",K),la("state",l),la("sendFocusIn",E)]),R=(oe,fe,ve,De,Ue)=>{const He=ve(oe,fe,De,Ue);return Rz(He,fe.event).bind(nt=>nt(oe,fe,De,Ue))},K={schema:O,processKey:R,toEvents:(oe,fe)=>{const ve=oe.focusInside!==kf.OnFocusMode?te.none():E(oe).map(He=>pn(vp(),(nt,pt)=>{He(nt,oe,fe),pt.stop()})),De=(He,nt)=>{const pt=Wr(Gd.concat(Sp))(nt.event);oe.focusInside===kf.OnEnterOrSpaceMode&&pt&&VE(He,nt)&&E(oe).each(st=>{st(He,oe,fe),nt.stop()})},Ue=[pn(lc(),(He,nt)=>{R(He,nt,h,oe,fe).fold(()=>{De(He,nt)},pt=>{nt.stop()})}),pn(Gg(),(He,nt)=>{R(He,nt,g,oe,fe).each(pt=>{nt.stop()})})];return Ra(ve.toArray().concat(Ue))}};return K},wD=s=>{const l=[bi("onEscape"),bi("onEnter"),Wt("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Wt("firstTabstop",0),Wt("useTabstopAt",gt),bi("visibilitySelector")].concat([s]),h=(st,yt)=>{const _t=st.visibilitySelector.bind(Qt=>vl(yt,Qt)).getOr(yt);return El(_t)>0},g=(st,yt)=>{const _t=Ri(st.element,yt.selector),Qt=vs(_t,nn=>h(yt,nn));return te.from(Qt[yt.firstTabstop])},E=(st,yt)=>yt.focusManager.get(st).bind(_t=>vl(_t,yt.selector)),O=(st,yt)=>h(st,yt)&&st.useTabstopAt(yt),R=(st,yt,_t)=>{g(st,yt).each(Qt=>{yt.focusManager.set(st,Qt)})},G=(st,yt,_t,Qt,nn)=>nn(yt,_t,So=>O(Qt,So)).fold(()=>Qt.cyclic?te.some(!0):te.none(),So=>(Qt.focusManager.set(st,So),te.some(!0))),K=(st,yt,_t,Qt)=>{const nn=vs(Ri(st.element,_t.selector),So=>h(_t,So));return E(st,_t).bind(So=>wn(nn,Xe(xe,So)).bind(Wn=>G(st,nn,Wn,_t,Qt)))},oe=(st,yt,_t)=>{const Qt=_t.cyclic?x4:Wu;return K(st,yt,_t,Qt)},fe=(st,yt,_t)=>{const Qt=_t.cyclic?pC:O4;return K(st,yt,_t,Qt)},ve=st=>ns(st).bind(Do).exists(yt=>xe(yt,st)),De=(st,yt,_t)=>E(st,_t).filter(Qt=>!_t.useTabstopAt(Qt)).bind(Qt=>(ve(Qt)?oe:fe)(st,yt,_t)),Ue=(st,yt,_t)=>_t.onEnter.bind(Qt=>Qt(st,yt)),He=(st,yt,_t)=>(st.getSystem().broadcastOn([dw()],{closedTooltip:()=>{yt.stop()}}),yt.isStopped()?te.none():_t.onEscape.bind(Qt=>Qt(st,yt))),nt=F([Kr(nv([I1,Wr(g0)]),oe),Kr(Wr(g0),fe),Kr(nv([R1,Wr(Sp)]),Ue)]),pt=F([Kr(Wr(Po),He),Kr(Wr(g0),De)]);return om(l,ev.init,nt,pt,()=>te.some(R))};var oI=wD(zc("cyclic",mt)),k4=wD(zc("cyclic",gt));const eb=s=>nc("input")(s)&&pl(s,"type")!=="radio"||nc("textarea")(s),D4=(s,l,h)=>(UA(s,h,uu()),te.some(!0)),mw=(s,l,h)=>eb(h)&&Wr(Gd)(l.event)?te.none():D4(s,l,h),gw=(s,l)=>te.some(!0),M4=[Wt("execute",mw),Wt("useSpace",!1),Wt("useEnter",!0),Wt("useControlEnter",!1),Wt("useDown",!1)],vy=(s,l,h)=>h.execute(s,l,s.element),KA=(s,l,h,g)=>{const E=h.useSpace&&!eb(s.element)?Gd:[],O=h.useEnter?Sp:[],R=h.useDown?fC:[],G=E.concat(O).concat(R);return[Kr(Wr(G),vy)].concat(h.useControlEnter?[Kr(nv([Iz,Wr(Sp)]),vy)]:[])},_D=(s,l,h,g)=>h.useSpace&&!eb(s.element)?[Kr(Wr(Gd),gw)]:[];var P4=om(M4,ev.init,KA,_D,()=>te.none());const AD=()=>{const s=Ss();return Pf({readState:()=>s.get().map(E=>({numRows:String(E.numRows),numColumns:String(E.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(E,O)=>{s.set({numRows:E,numColumns:O})},getNumRows:()=>s.get().map(E=>E.numRows),getNumColumns:()=>s.get().map(E=>E.numColumns)})};var TD=Object.freeze({__proto__:null,flatgrid:AD,init:s=>s.state(s)});const xD=s=>(l,h,g,E)=>{const O=s(l.element);return k1(O,l,h,g,E)},vw=(s,l)=>{const h=Wb(s,l);return xD(h)},bw=(s,l)=>{const h=Wb(l,s);return xD(h)},yw=s=>(l,h,g,E)=>k1(s,l,h,g,E),k1=(s,l,h,g,E)=>g.focusManager.get(l).bind(R=>s(l.element,R,g,E)).map(R=>(g.focusManager.set(l,R),!0)),YA=yw,Sw=yw,b0=yw,Cw=(s,l)=>wn(s,l).map(h=>({index:h,candidates:s})),sI=(s,l,h)=>{const g=R=>xe(R,l),E=Ri(s,h),O=vs(E,Fp);return Cw(O,g)},XA=(s,l)=>wn(s,h=>xe(l,h)),OD=(s,l,h,g)=>{const E=Math.floor(l/h),O=l%h;return g(E,O).bind(R=>{const G=R.row*h+R.column;return G>=0&&G<s.length?te.some(s[G]):te.none()})},ID=(s,l,h,g,E)=>OD(s,l,g,(O,R)=>{const K=O===h-1?s.length-O*g:g,oe=Qc(R,E,0,K-1);return te.some({row:O,column:oe})}),RD=(s,l,h,g,E)=>OD(s,l,g,(O,R)=>{const G=Qc(O,E,0,h-1),oe=G===h-1?s.length-G*g:g,fe=dl(R,0,oe-1);return te.some({row:G,column:fe})}),N4=(s,l,h,g)=>ID(s,l,h,g,1),JA=(s,l,h,g)=>ID(s,l,h,g,-1),mC=(s,l,h,g)=>RD(s,l,h,g,-1),D1=(s,l,h,g)=>RD(s,l,h,g,1),M1=[kn("selector"),Wt("execute",mw),Xl("onEscape"),Wt("captureTab",!1),y1()],kD=(s,l,h)=>{ui(s.element,l.selector).each(g=>{l.focusManager.set(s,g)})},DD=(s,l)=>l.focusManager.get(s).bind(h=>vl(h,l.selector)),MD=(s,l,h,g)=>DD(s,h).bind(E=>h.execute(s,l,E)),QA=s=>(l,h,g,E)=>sI(l,h,g.selector).bind(O=>s(O.candidates,O.index,E.getNumRows().getOr(g.initSize.numRows),E.getNumColumns().getOr(g.initSize.numColumns))),PD=(s,l,h)=>h.captureTab?te.some(!0):te.none(),L4=(s,l,h)=>h.onEscape(s,l),ND=QA(JA),eT=QA(N4),rI=QA(mC),tT=QA(D1),iI=F([Kr(Wr(cw),vw(ND,eT)),Kr(Wr(GA),bw(ND,eT)),Kr(Wr(uw),YA(rI)),Kr(Wr(fC),Sw(tT)),Kr(nv([I1,Wr(g0)]),PD),Kr(nv([R1,Wr(g0)]),PD),Kr(Wr(Gd.concat(Sp)),MD)]),B4=F([Kr(Wr(Po),L4),Kr(Wr(Gd),gw)]);var aI=om(M1,AD,iI,B4,()=>te.some(kD));const LD=(s,l,h,g,E)=>{const O=G=>su(G)==="button"&&pl(G,"disabled")==="disabled",R=(G,K,oe)=>E(G,K,g,0,oe.length-1,oe[K],fe=>O(oe[fe])?R(G,fe,oe):te.from(oe[fe]));return sI(s,h,l).bind(G=>{const K=G.index,oe=G.candidates;return R(K,K,oe)})},BD=(s,l,h,g)=>LD(s,l,h,g,(E,O,R,G,K,oe,fe)=>{const ve=dl(O+R,G,K);return ve===E?te.from(oe):fe(ve)}),Ew=(s,l,h,g)=>LD(s,l,h,g,(E,O,R,G,K,oe,fe)=>{const ve=Qc(O,R,G,K);return ve===E?te.none():fe(ve)}),V4=[kn("selector"),Wt("getInitial",te.none),Wt("execute",mw),Xl("onEscape"),Wt("executeOnMove",!1),Wt("allowVertical",!0),Wt("allowHorizontal",!0),Wt("cycles",!0)],lI=(s,l)=>l.focusManager.get(s).bind(h=>vl(h,l.selector)),cI=(s,l,h)=>lI(s,h).bind(g=>h.execute(s,l,g)),F4=(s,l,h)=>{l.getInitial(s).orThunk(()=>ui(s.element,l.selector)).each(g=>{l.focusManager.set(s,g)})},H4=(s,l,h)=>(h.cycles?Ew:BD)(s,h.selector,l,-1),P1=(s,l,h)=>(h.cycles?Ew:BD)(s,h.selector,l,1),VD=s=>(l,h,g,E)=>s(l,h,g,E).bind(()=>g.executeOnMove?cI(l,h,g):te.some(!0)),FD=(s,l,h)=>h.onEscape(s,l),$4=(s,l,h,g)=>{const E=[...h.allowHorizontal?cw:[]].concat(h.allowVertical?uw:[]),O=[...h.allowHorizontal?GA:[]].concat(h.allowVertical?fC:[]);return[Kr(Wr(E),VD(vw(H4,P1))),Kr(Wr(O),VD(bw(H4,P1))),Kr(Wr(Sp),cI),Kr(Wr(Gd),cI)]},U4=F([Kr(Wr(Gd),gw),Kr(Wr(Po),FD)]);var z4=om(V4,ev.init,$4,U4,()=>te.some(F4));const nT=(s,l,h)=>te.from(s[l]).bind(g=>te.from(g[h]).map(E=>({rowIndex:l,columnIndex:h,cell:E}))),ww=(s,l,h,g)=>{const O=s[l].length,R=Qc(h,g,0,O-1);return nT(s,l,R)},uI=(s,l,h,g)=>{const E=Qc(h,g,0,s.length-1),O=s[E].length,R=dl(l,0,O-1);return nT(s,E,R)},_w=(s,l,h,g)=>{const O=s[l].length,R=dl(h+g,0,O-1);return nT(s,l,R)},HD=(s,l,h,g)=>{const E=dl(h+g,0,s.length-1),O=s[E].length,R=dl(l,0,O-1);return nT(s,E,R)},Aw=(s,l,h)=>ww(s,l,h,1),j4=(s,l,h)=>ww(s,l,h,-1),oT=(s,l,h)=>uI(s,h,l,-1),W4=(s,l,h)=>uI(s,h,l,1),$D=(s,l,h)=>_w(s,l,h,-1),Nz=(s,l,h)=>_w(s,l,h,1),G4=(s,l,h)=>HD(s,h,l,-1),N1=(s,l,h)=>HD(s,h,l,1),sT=[Km("selectors",[kn("row"),kn("cell")]),Wt("cycles",!0),Wt("previousSelector",te.none),Wt("execute",mw)],rT=(s,l,h)=>{l.previousSelector(s).orThunk(()=>{const E=l.selectors;return ui(s.element,E.cell)}).each(E=>{l.focusManager.set(s,E)})},UD=(s,l,h)=>Wa(s.element).bind(g=>h.execute(s,l,g)),q4=(s,l)=>qt(s,h=>Ri(h,l.selectors.cell)),iT=(s,l)=>(h,g,E)=>{const O=E.cycles?s:l;return vl(g,E.selectors.row).bind(R=>{const G=Ri(R,E.selectors.cell);return XA(G,g).bind(K=>{const oe=Ri(h,E.selectors.row);return XA(oe,R).bind(fe=>{const ve=q4(oe,E);return O(ve,fe,K).map(De=>De.cell)})})})},zD=iT(j4,$D),jD=iT(Aw,Nz),aT=iT(oT,G4),tb=iT(W4,N1),WD=F([Kr(Wr(cw),vw(zD,jD)),Kr(Wr(GA),bw(zD,jD)),Kr(Wr(uw),YA(aT)),Kr(Wr(fC),Sw(tb)),Kr(Wr(Gd.concat(Sp)),UD)]),Z4=F([Kr(Wr(Gd),gw)]);var K4=om(sT,ev.init,WD,Z4,()=>te.some(rT));const Y4=[kn("selector"),Wt("execute",mw),Wt("moveOnTab",!1)],gC=(s,l,h)=>h.focusManager.get(s).bind(g=>h.execute(s,l,g)),GD=(s,l,h)=>{ui(s.element,l.selector).each(g=>{l.focusManager.set(s,g)})},dI=(s,l,h)=>Ew(s,h.selector,l,-1),lT=(s,l,h)=>Ew(s,h.selector,l,1),ov=(s,l,h,g)=>h.moveOnTab?b0(dI)(s,l,h,g):te.none(),Tw=(s,l,h,g)=>h.moveOnTab?b0(lT)(s,l,h,g):te.none(),nb=F([Kr(Wr(uw),b0(dI)),Kr(Wr(fC),b0(lT)),Kr(nv([I1,Wr(g0)]),ov),Kr(nv([R1,Wr(g0)]),Tw),Kr(Wr(Sp),gC),Kr(Wr(Gd),gC)]),hI=F([Kr(Wr(Gd),gw)]);var qD=om(Y4,ev.init,nb,hI,()=>te.some(GD));const ZD=[Xl("onSpace"),Xl("onEnter"),Xl("onShiftEnter"),Xl("onLeft"),Xl("onRight"),Xl("onTab"),Xl("onShiftTab"),Xl("onUp"),Xl("onDown"),Xl("onEscape"),Wt("stopSpaceKeyup",!1),bi("focusIn")],X4=(s,l,h)=>[Kr(Wr(Gd),h.onSpace),Kr(nv([R1,Wr(Sp)]),h.onEnter),Kr(nv([I1,Wr(Sp)]),h.onShiftEnter),Kr(nv([I1,Wr(g0)]),h.onShiftTab),Kr(nv([R1,Wr(g0)]),h.onTab),Kr(Wr(uw),h.onUp),Kr(Wr(fC),h.onDown),Kr(Wr(cw),h.onLeft),Kr(Wr(GA),h.onRight),Kr(Wr(Gd),h.onSpace)],KD=(s,l,h)=>[...h.stopSpaceKeyup?[Kr(Wr(Gd),gw)]:[],Kr(Wr(Po),h.onEscape)];var J4=om(ZD,ev.init,X4,KD,s=>s.focusIn);const Q4=oI.schema(),eB=k4.schema(),vC=z4.schema(),xw=aI.schema(),YD=K4.schema(),ob=P4.schema(),sb=qD.schema(),fI=J4.schema();var cT=Object.freeze({__proto__:null,acyclic:Q4,cyclic:eB,flow:vC,flatgrid:xw,matrix:YD,execution:ob,menu:sb,special:fI});const XD=s=>Xn(s,"setGridSize"),os=hD({branchKey:"mode",branches:cT,name:"keying",active:{events:(s,l)=>s.handler.toEvents(s,l)},apis:{focusIn:(s,l,h)=>{l.sendFocusIn(l).fold(()=>{s.getSystem().triggerFocus(s.element,s.element)},g=>{g(s,l,h)})},setGridSize:(s,l,h,g,E)=>{XD(h)?h.setGridSize(g,E):console.error("Layout does not support setGridSize")}},state:TD}),by=yo("alloy-premade"),bC=s=>(Object.defineProperty(s.element.dom,by,{value:s.uid,writable:!0}),Ug(by,s)),pI=s=>ro(s.dom,by),uT=s=>cn(s,by),y0=s=>Qk((l,...h)=>s(l.getApis(),l,...h),s),yC=s=>s.getSystem().isConnected(),Ow=s=>{wr(s,qg());const l=s.components();Tn(l,Ow)},yy=s=>{const l=s.components();Tn(l,yy),wr(s,Jp())},SC=(s,l)=>{s.getSystem().addToWorld(l),qr(s.element)&&yy(l)},mI=s=>{Ow(s),s.getSystem().removeFromWorld(s)},sv=(s,l)=>{rc(s.element,l.element)},gI=s=>{Tn(s.components(),l=>Vd(l.element)),X0(s.element),s.syncComponents()},dT=(s,l,h)=>{const g=s.components();gI(s);const E=h(l),O=Ge(g,E);Tn(O,R=>{Ow(R),s.getSystem().removeFromWorld(R)}),Tn(E,R=>{yC(R)?sv(s,R):(s.getSystem().addToWorld(R),sv(s,R),qr(s.element)&&yy(R))}),s.syncComponents()},rv=(s,l,h)=>{const g=s.components(),E=ct(l,G=>uT(G).toArray());Tn(g,G=>{Cn(E,G)||mI(G)});const O=h(l),R=Ge(g,O);Tn(R,G=>{yC(G)&&mI(G)}),Tn(O,G=>{yC(G)||SC(s,G)}),s.syncComponents()},rb=(s,l)=>{Sy(s,l,rc)},Sy=(s,l,h)=>{s.getSystem().addToWorld(l),h(s.element,l.element),qr(s.element)&&yy(l),s.syncComponents()},L1=s=>{Ow(s),Vd(s.element),s.getSystem().removeFromWorld(s)},ib=s=>{const l=Yn(s.element).bind(h=>s.getSystem().getByDom(h).toOptional());L1(s),l.each(h=>{h.syncComponents()})},vI=s=>{const l=s.components();Tn(l,L1),X0(s.element),s.syncComponents()},Iw=(s,l)=>{av(s,l,rc)},iv=(s,l)=>{av(s,l,fl)},av=(s,l,h)=>{h(s,l.element);const g=pr(l.element);Tn(g,E=>{l.getByDom(E).each(yy)})},JD=s=>{const l=pr(s.element);Tn(l,h=>{s.getByDom(h).each(Ow)}),Vd(s.element)},bI=(s,l,h)=>zr(s,l).map(E=>{if(h.exists(R=>!xe(R,E))){const R=h.map(su).getOr("span"),G=co.fromTag(R);return yf(E,G),G}else return E}),yI=(s,l,h)=>{h.fold(()=>rc(s,l),g=>{xe(g,l)||(yf(g,l),Vd(g))})},SI=(s,l,h)=>{const g=qt(l,h),E=pr(s);return Tn(E.slice(g.length),Vd),g},QD=(s,l,h,g)=>{const E=zr(s,l),O=g(h,E),R=bI(s,l,E);return yI(s,O.element,R),O},Lz=(s,l,h)=>SI(s,l,(g,E)=>QD(s,E,g,h)),tB=(s,l)=>SI(s,l,(h,g)=>{const E=zr(s,g);return yI(s,h,E),h}),qd=(s,l)=>{const h=oa(l),g=Yl(h).bind(O=>{const R=G=>xe(O,G);return R(l)?te.some(l):l1(l,R)}),E=s(l);return g.each(O=>{Yl(h).filter(R=>xe(R,O)).fold(()=>{ra(O)},ie)}),E},B1=(s,l)=>{qd(()=>{dT(s,l,()=>qt(l,s.getSystem().build))},s.element)},CI=(s,l)=>{qd(()=>{rv(s,l,()=>Lz(s.element,l,s.getSystem().buildOrPatch))},s.element)},Cy=(s,l,h,g)=>{mI(l);const E=QD(s.element,h,g,s.getSystem().buildOrPatch);SC(s,E),s.syncComponents()},Zd=(s,l,h)=>{const g=s.getSystem().build(h);Sy(s,g,l)},Ah=(s,l,h,g)=>{ib(l),Zd(s,(E,O)=>Y0(E,O,h),g)},Kd=(s,l,h,g)=>(l.reuseDom?CI:B1)(s,g),og=(s,l,h,g)=>{Zd(s,rc,g)},S0=(s,l,h,g)=>{Zd(s,Ub,g)},tf=(s,l,h,g)=>{const E=ab(s);zt(E,R=>xe(g.element,R.element)).each(ib)},ab=(s,l)=>s.components(),eM=(s,l,h,g,E)=>{const O=ab(s);return te.from(O[g]).map(R=>(E.fold(()=>ib(R),G=>{(l.reuseDom?Cy:Ah)(s,R,g,G)}),R))};var tM=Object.freeze({__proto__:null,append:og,prepend:S0,remove:tf,replaceAt:eM,replaceBy:(s,l,h,g,E)=>{const O=ab(s);return wn(O,g).bind(R=>eM(s,l,h,R,E))},set:Kd,contents:ab});const Ws=du({fields:[jc("reuseDom",!0)],name:"replacing",apis:tM}),hT=(s,l,h)=>xe(l,s.element)&&!xe(l,h),sm=Ra([lw(vp(),(s,l)=>{const h=l.event,g=h.originator,E=h.target;return hT(s,g,E)?(console.warn(vp()+` did not get interpreted by the desired target. 
Originator: `+Eh(g)+`
Target: `+Eh(E)+`
Check the `+vp()+" event handlers"),!1):!0})]);var nM=Object.freeze({__proto__:null,events:sm});const nB=F("alloy-id-"),oB=F("data-alloy-id"),sB=nB(),oM=oB(),EI=(s,l)=>{const h=yo(sB+s);return Rw(l,h),h},Rw=(s,l)=>{Object.defineProperty(s.dom,oM,{value:l,writable:!0})},rm=s=>{const l=Dc(s)?s.dom[oM]:null;return te.from(l)},V1=s=>yo(s),rB=Ie,fT=s=>{const l=E=>`The component must be in a context to execute: ${E}`+(s?`
`+Eh(s().element)+" is not in context.":""),h=E=>()=>{throw new Error(l(E))},g=E=>()=>{console.warn(l(E))};return{debugInfo:F("fake"),triggerEvent:g("triggerEvent"),triggerFocus:g("triggerFocus"),triggerEscape:g("triggerEscape"),broadcast:g("broadcast"),broadcastOn:g("broadcastOn"),broadcastEvent:g("broadcastEvent"),build:h("build"),buildOrPatch:h("buildOrPatch"),addToWorld:h("addToWorld"),removeFromWorld:h("removeFromWorld"),addToGui:h("addToGui"),removeFromGui:h("removeFromGui"),getByUid:h("getByUid"),getByDom:h("getByDom"),isConnected:mt}},iB=fT(),pT=(s,l)=>{const h=qt(l,E=>Sh(E.name(),[kn("config"),Wt("state",ev)])),g=Na("component.behaviours",Es(h),s.behaviours).fold(E=>{throw new Error(gp(E)+`
Complete spec:
`+JSON.stringify(s,null,2))},Ie);return{list:l,data:Ls(g,E=>{const O=E.map(R=>({config:R.config,state:R.state.init(R.config)}));return F(O)})}},hu=s=>s.list,aB=s=>s.data,Nf=(s,l)=>{const h={};return Ks(s,(g,E)=>{Ks(g,(O,R)=>{const G=cn(h,R).getOr([]);h[R]=G.concat([l(E,O)])})}),h},Vz=(s,l,h,g)=>{const E={...l};Tn(h,fe=>{E[fe.name()]=fe.exhibit(s,g)});const O=Nf(E,(fe,ve)=>({name:fe,modification:ve})),R=fe=>Ut(fe,(ve,De)=>({...De.modification,...ve}),{}),G=Ut(O.classes,(fe,ve)=>ve.modification.concat(fe),[]),K=R(O.attributes),oe=R(O.styles);return ng({classes:G,attributes:K,styles:oe})},mT=(s,l,h,g)=>{try{const E=On(h,(O,R)=>{const G=O[l],K=R[l],oe=g.indexOf(G),fe=g.indexOf(K);if(oe===-1)throw new Error("The ordering for "+s+" does not have an entry for "+G+`.
Order specified: `+JSON.stringify(g,null,2));if(fe===-1)throw new Error("The ordering for "+s+" does not have an entry for "+K+`.
Order specified: `+JSON.stringify(g,null,2));return oe<fe?-1:fe<oe?1:0});return zo.value(E)}catch(E){return zo.error([E])}},F1=(s,l)=>({handler:s,purpose:l}),wI=(s,l)=>({cHandler:s,purpose:l}),_I=(s,l)=>wI(Xe.apply(void 0,[s.handler].concat(l)),s.purpose),AI=s=>s.cHandler,lB=(s,l)=>({name:s,handler:l}),gT=(s,l)=>{const h={};return Tn(s,g=>{h[g.name()]=g.handlers(l)}),h},sM=(s,l,h)=>{const g={...h,...gT(l,s)};return Nf(g,lB)},vT=(s,l,h,g)=>{const E=sM(s,h,g);return rM(E,l)},Ey=s=>{const l=UO(s);return(h,g,...E)=>{const O=[h,g].concat(E);l.abort.apply(void 0,O)?g.stop():l.can.apply(void 0,O)&&l.run.apply(void 0,O)}},CC=(s,l)=>zo.error(["The event ("+s+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(qt(l,h=>h.name),null,2)]),TI=(s,l,h)=>{const g=l[h];return g?mT("Event: "+h,"name",s,g).map(E=>{const O=qt(E,R=>R.handler);return iD(O)}):CC(h,s)},rM=(s,l)=>{const h=to(s,(g,E)=>(g.length===1?zo.value(g[0].handler):TI(g,l,E)).map(R=>{const G=Ey(R),K=g.length>1?vs(l[E],oe=>Ro(g,fe=>fe.name===oe)).join(" > "):g[0].name;return Ug(E,F1(G,K))}));return Wc(h,{})},C0="alloy.base.behaviour",bT=Es([Tc("dom","dom",Af(),Es([kn("tag"),Wt("styles",{}),Wt("classes",[]),Wt("attributes",{}),bi("value"),bi("innerHtml")])),kn("components"),kn("uid"),Wt("events",{}),Wt("apis",{}),Tc("eventOrder","eventOrder",HE({[uu()]:["disabling",C0,"toggling","typeaheadevents"],[vp()]:[C0,"focusing","keying"],[XS()]:[C0,"disabling","toggling","representing","tooltipping"],[Zp()]:[C0,"representing","streaming","invalidating"],[qg()]:[C0,"representing","item-events","toolbar-button-events","tooltipping"],[vd()]:["focusing",C0,"item-type-events"],[zg()]:["focusing",C0,"item-type-events"],[Of()]:["item-type-events","tooltipping"],[Yp()]:["receiving","reflecting","tooltipping"]}),Un()),bi("domModification")]),xI=s=>Na("custom.definition",bT,s),yT=s=>({...s.dom,uid:s.uid,domChildren:qt(s.components,l=>l.element)}),kw=s=>s.domModification.fold(()=>ng({}),ng),OI=s=>s.events,Dw=(s,l)=>{const h=Ao(s),g=Ao(l),E=Ge(g,h),O=en(s,(R,G)=>!ro(l,G)||R!==l[G]).t;return{toRemove:E,toSet:O}},II=(s,l)=>{const{class:h,style:g,...E}=Pm(l),{toSet:O,toRemove:R}=Dw(s.attributes,E),G=()=>{Tn(R,_t=>ia(l,_t)),n1(l,O)},K=ml(l),{toSet:oe,toRemove:fe}=Dw(s.styles,K),ve=()=>{Tn(fe,_t=>Er(l,_t)),pa(l,oe)},De=c1(l),Ue=Ge(De,s.classes),He=Ge(s.classes,De),nt=()=>{Xh(l,He),Pc(l,Ue)},pt=_t=>{Zh(l,_t)},st=()=>{const _t=s.domChildren;tB(l,_t)},yt=()=>{const _t=l,Qt=s.value.getOrUndefined();Qt!==_l(_t)&&_f(_t,Qt??"")};return G(),nt(),ve(),s.innerHtml.fold(st,pt),yt(),l},cB=s=>{const l=co.fromTag(s.tag);n1(l,s.attributes),Xh(l,s.classes),pa(l,s.styles),s.innerHtml.each(g=>Zh(l,g));const h=s.domChildren;return br(l,h),s.value.each(g=>{_f(l,g)}),l},uB=(s,l)=>{try{const h=II(s,l);return te.some(h)}catch{return te.none()}},RI=s=>s.innerHtml.isSome()&&s.domChildren.length>0,Mw=(s,l)=>{const h=E=>su(E)===s.tag&&!RI(s)&&!pI(E),g=l.filter(h).bind(E=>uB(s,E)).getOrThunk(()=>cB(s));return Rw(g,s.uid),g},kI=s=>{const l=cn(s,"behaviours").getOr({});return ct(Ao(l),h=>{const g=l[h];return W(g)?[g.me]:[]})},iM=(s,l)=>pT(s,l),ST=s=>{const l=kI(s);return iM(s,l)},dB=(s,l,h)=>{const g=yT(s),E=kw(s),O={"alloy.base.modification":E},R=l.length>0?Vz(h,O,l,g):E;return b4(g,R)},aM=(s,l,h)=>{const g={"alloy.base.behaviour":OI(s)};return vT(h,s.eventOrder,l,g).getOrDie()},DI=(s,l)=>{const h=()=>_t,g=$n(iB),E=mp(xI(s)),O=ST(s),R=hu(O),G=aB(O),K=dB(E,R,G),oe=Mw(K,l),fe=aM(E,R,G),ve=$n(E.components),De=Qt=>{g.set(Qt)},Ue=()=>{g.set(fT(h))},He=()=>{const Qt=pr(oe),nn=ct(Qt,So=>g.get().getByDom(So).fold(()=>[],ln));ve.set(nn)},nt=Qt=>{const nn=G;return(Z(nn[Qt.name()])?nn[Qt.name()]:()=>{throw new Error("Could not find "+Qt.name()+" in "+JSON.stringify(s,null,2))})()},pt=Qt=>Z(G[Qt.name()]),st=()=>E.apis,yt=Qt=>G[Qt]().map(nn=>nn.state.readState()).getOr("not enabled"),_t={uid:s.uid,getSystem:g.get,config:nt,hasConfigured:pt,spec:s,readState:yt,getApis:st,connect:De,disconnect:Ue,element:oe,syncComponents:He,components:ve.get,events:fe};return _t},EC=(s,l)=>{const h=cn(s,"components").getOr([]);return l.fold(()=>qt(h,k),g=>qt(h,(E,O)=>w(E,zr(g,O))))},MI=(s,l)=>{const{events:h,...g}=rB(s),E=EC(g,l),O={...g,events:{...nM,...h},components:E};return zo.value(DI(O,l))},ka=s=>{const l=co.fromText(s);return lM({element:l})},lM=s=>{const l=pd("external.component",yh([kn("element"),bi("uid")]),s),h=$n(fT()),g=G=>{h.set(G)},E=()=>{h.set(fT(()=>R))},O=l.uid.getOrThunk(()=>V1("external"));Rw(l.element,O);const R={uid:O,getSystem:h.get,config:te.none,hasConfigured:mt,connect:g,disconnect:E,getApis:()=>({}),element:l.element,spec:s,readState:F("No state"),syncComponents:ie,components:F([]),events:{}};return bC(R)},cM=V1,b=s=>ro(s,"uid"),w=(s,l)=>uT(s).getOrThunk(()=>{const h=b(s)?s:{uid:cM(""),...s};return MI(h,l).getOrDie()}),k=s=>w(s,te.none()),z=bC;var Fe=Object.freeze({__proto__:null,block:(s,l,h,g)=>{cs(s.element,"aria-busy",!0);const E=l.getRoot(s).getOr(s),O=oo([os.config({mode:"special",onTab:()=>te.some(!0),onShiftTab:()=>te.some(!0)}),js.config({})]),R=g(E,O),G=E.getSystem().build(R);Ws.append(E,z(G)),G.hasConfigured(os)&&l.focus&&os.focusIn(G),h.isBlocked()||l.onBlock(s),h.blockWith(()=>Ws.remove(E,G))},unblock:(s,l,h)=>{ia(s.element,"aria-busy"),h.isBlocked()&&l.onUnblock(s),h.clear()},isBlocked:(s,l,h)=>h.isBlocked()}),Je=[yi("getRoot",te.none),jc("focus",!0),Dr("onBlock"),Dr("onUnblock")],jt=Object.freeze({__proto__:null,init:()=>{const s=Hh(),l=h=>{s.set({destroy:h})};return Pf({readState:s.isSet,blockWith:l,clear:s.clear,isBlocked:s.isSet})}});const Vn=du({fields:Je,name:"blocking",apis:Fe,state:jt});var so=Object.freeze({__proto__:null,getCurrent:(s,l,h)=>l.find(s)});const is=[kn("find")],yn=du({fields:is,name:"composing",apis:so});var Js=Object.freeze({__proto__:null,getCoupled:(s,l,h,g)=>h.getOrCreate(s,l,g),getExistingCoupled:(s,l,h,g)=>h.getExisting(s,l,g)}),Lo=[$u("others",zE(zo.value,Un()))],Pi=Object.freeze({__proto__:null,init:()=>{const s={},l=(O,R)=>{if(Ao(O.others).length===0)throw new Error("Cannot find any known coupled components");return cn(s,R)},h=(O,R,G)=>l(R,G).getOrThunk(()=>{const oe=cn(R.others,G).getOrDie("No information found for coupled component: "+G)(O),fe=O.getSystem().build(oe);return s[G]=fe,fe}),g=(O,R,G)=>l(R,G).orThunk(()=>(cn(R.others,G).getOrDie("No information found for coupled component: "+G),te.none())),E=F({});return Pf({readState:E,getExisting:g,getOrCreate:h})}});const tr=du({fields:Lo,name:"coupling",apis:Js,state:Pi}),dc=["input","button","textarea","select"],Cp=(s,l,h)=>{(l.disabled()?Jd:E0)(s,l)},lb=(s,l)=>l.useNative===!0&&Cn(dc,su(s.element)),wy=s=>Ll(s.element,"disabled"),H1=s=>{cs(s.element,"disabled","disabled")},ji=s=>{ia(s.element,"disabled")},Yd=s=>pl(s.element,"aria-disabled")==="true",Xd=s=>{cs(s.element,"aria-disabled","true")},im=s=>{cs(s.element,"aria-disabled","false")},Jd=(s,l,h)=>{l.disableClass.each(E=>{Ii(s.element,E)}),(lb(s,l)?H1:Xd)(s),l.onDisabled(s)},E0=(s,l,h)=>{l.disableClass.each(E=>{vi(s.element,E)}),(lb(s,l)?ji:im)(s),l.onEnabled(s)},Oc=(s,l)=>lb(s,l)?wy(s):Yd(s);var Pw=Object.freeze({__proto__:null,enable:E0,disable:Jd,isDisabled:Oc,onLoad:Cp,set:(s,l,h,g)=>{(g?Jd:E0)(s,l)}}),hB=Object.freeze({__proto__:null,exhibit:(s,l)=>ng({classes:l.disabled()?l.disableClass.toArray():[]}),events:(s,l)=>Ra([zA(uu(),(h,g)=>Oc(h,s)),GO(s,l,Cp)])}),uM=[yi("disabled",mt),Wt("useNative",!0),bi("disableClass"),Dr("onDisabled"),Dr("onEnabled")];const Jo=du({fields:uM,name:"disabling",active:hB,apis:Pw}),am=(s,l,h,g,E)=>{const O=R=>R+"px";return{position:s,left:l.map(O),top:h.map(O),right:g.map(O),bottom:E.map(O)}},fB=s=>({...s,position:te.some(s.position)}),CT=(s,l)=>{Va(s,fB(l))},dM=(s,l)=>{const h=s.element;Ii(h,l.transitionClass),vi(h,l.fadeOutClass),Ii(h,l.fadeInClass),l.onShow(s)},cb=(s,l)=>{const h=s.element;Ii(h,l.transitionClass),vi(h,l.fadeInClass),Ii(h,l.fadeOutClass),l.onHide(s)},Fz=(s,l)=>s.y<l.bottom&&s.bottom>l.y,pB=(s,l)=>s.y>=l.y,Hz=(s,l)=>s.bottom<=l.bottom,hM=(s,l,h)=>({location:"top",leftX:l,topY:h.bounds.y-s.y}),fM=(s,l,h)=>({location:"bottom",leftX:l,bottomY:s.bottom-h.bounds.bottom}),mB=s=>s.box.x-s.win.x,dte=(s,l,h)=>{const g=l.win,E=l.box,O=mB(l);return Rs(s,R=>{switch(R){case"bottom":return Hz(E,h.bounds)?te.none():te.some(fM(g,O,h));case"top":return pB(E,h.bounds)?te.none():te.some(hM(g,O,h));default:return te.none()}}).getOr({location:"no-dock"})},hte=(s,l,h)=>Mt(s,g=>{switch(g){case"bottom":return Hz(l,h.bounds);case"top":return pB(l,h.bounds)}}),fte=(s,l)=>{const h=l.optScrollEnv.fold(F(s.bounds.y),g=>g.scrollElmTop+(s.bounds.y-g.currentScrollTop));return ci(s.bounds.x,h)},pte=(s,l)=>{const h=l.optScrollEnv.fold(F(s.y),g=>s.y+g.currentScrollTop-g.scrollElmTop);return ci(s.x,h)},gB=(s,l,h)=>h.getInitialPos().map(g=>{const E=fte(g,l);return{box:Zr(E.left,E.top,Ac(s),El(s)),location:g.location}}),PI=(s,l,h,g,E)=>{const O=pte(l,h),R=Zr(O.left,O.top,l.width,l.height);g.setInitialPos({style:ml(s),position:aa(s,"position")||"static",bounds:R,location:E.location})},vB=(s,l,h,g,E)=>{g.getInitialPos().fold(()=>PI(s,l,h,g,E),()=>ie)},$z=(s,l,h)=>h.getInitialPos().bind(g=>{var E;switch(h.clearInitialPos(),g.position){case"static":return te.some({morph:"static"});case"absolute":const O=Pg(s).getOr(Fd()),R=Vl(O),G=(E=O.dom.scrollTop)!==null&&E!==void 0?E:0;return te.some({morph:"absolute",positionCss:am("absolute",cn(g.style,"left").map(K=>l.x-R.x),cn(g.style,"top").map(K=>l.y-R.y+G),cn(g.style,"right").map(K=>R.right-l.right),cn(g.style,"bottom").map(K=>R.bottom-l.bottom))});default:return te.none()}}),S1e=(s,l,h)=>gB(s,l,h).filter(({box:g})=>hte(h.getModes(),g,l)).bind(({box:g})=>$z(s,g,h)),pM=s=>{switch(s.location){case"top":return te.some({morph:"fixed",positionCss:am("fixed",te.some(s.leftX),te.some(s.topY),te.none(),te.none())});case"bottom":return te.some({morph:"fixed",positionCss:am("fixed",te.some(s.leftX),te.none(),te.none(),te.some(s.bottomY))});default:return te.none()}},mte=(s,l,h)=>{const g=Vl(s),E=Fu(),O=dte(h.getModes(),{win:E,box:g},l);return O.location==="top"||O.location==="bottom"?(PI(s,g,l,h,O),pM(O)):te.none()},gte=(s,l,h)=>S1e(s,l,h).orThunk(()=>l.optScrollEnv.bind(g=>gB(s,l,h)).bind(({box:g,location:E})=>{const O=Fu(),R=mB({win:O,box:g}),G=E==="top"?hM(O,R,l):fM(O,R,l);return pM(G)})),lv=(s,l,h)=>{const g=s.element;return Fc(ma(g,"position"),"fixed")?gte(g,l,h):mte(g,l,h)},Uz=(s,l,h)=>{const g=s.element;return gB(g,l,h).bind(({box:E})=>$z(g,E,h))},vte=(s,l,h,g)=>{const E=Vl(s),O=Fu(),R=mB({win:O,box:E}),G=g(O,R,l);return G.location==="bottom"||G.location==="top"?(vB(s,E,l,h,G),pM(G)):te.none()},bte=(s,l,h)=>{h.setDocked(!1),Tn(["left","right","top","bottom","position"],g=>Er(s.element,g)),l.onUndocked(s)},zz=(s,l,h,g)=>{const E=g.position==="fixed";h.setDocked(E),CT(s.element,g),(E?l.onDocked:l.onUndocked)(s)},jz=(s,l,h,g,E=!1)=>{l.contextual.each(O=>{O.lazyContext(s).each(R=>{const G=Fz(R,g.bounds);G!==h.isVisible()&&(h.setVisible(G),E&&!G?(Xh(s.element,[O.fadeOutClass]),O.onHide(s)):(G?dM:cb)(s,O))})})},bB=(s,l,h,g,E)=>{jz(s,l,h,g,!0),zz(s,l,h,E.positionCss)},yte=(s,l,h,g,E)=>{switch(E.morph){case"static":return bte(s,l,h);case"absolute":return zz(s,l,h,E.positionCss);case"fixed":return bB(s,l,h,g,E)}},Ste=(s,l,h)=>{const g=l.lazyViewport(s);jz(s,l,h,g),lv(s,g,h).each(E=>{yte(s,l,h,g,E)})},Cte=(s,l,h)=>{const g=s.element;h.setDocked(!1);const E=l.lazyViewport(s);Uz(s,E,h).each(O=>{switch(O.morph){case"static":{bte(s,l,h);break}case"absolute":{zz(s,l,h,O.positionCss);break}}}),h.setVisible(!0),l.contextual.each(O=>{Pc(g,[O.fadeInClass,O.fadeOutClass,O.transitionClass]),O.onShow(s)}),mM(s,l,h)},mM=(s,l,h)=>{s.getSystem().isConnected()&&Ste(s,l,h)},Wz=(s,l,h)=>{h.isDocked()&&Cte(s,l,h)},Nw=s=>(l,h,g)=>{const E=h.lazyViewport(l);vte(l.element,E,g,s).each(R=>{bB(l,h,g,E,R)})},yB=Nw(hM),Ete=Nw(fM);var wte=Object.freeze({__proto__:null,refresh:mM,reset:Wz,isDocked:(s,l,h)=>h.isDocked(),getModes:(s,l,h)=>h.getModes(),setModes:(s,l,h,g)=>h.setModes(g),forceDockToTop:yB,forceDockToBottom:Ete}),_te=Object.freeze({__proto__:null,events:(s,l)=>Ra([O1(bd(),(h,g)=>{s.contextual.each(E=>{qa(h.element,E.transitionClass)&&(Pc(h.element,[E.transitionClass,E.fadeInClass]),(l.isVisible()?E.onShown:E.onHidden)(h)),g.stop()})}),pn(u0(),(h,g)=>{mM(h,s,l)}),pn(SA(),(h,g)=>{mM(h,s,l)}),pn(d0(),(h,g)=>{Wz(h,s,l)})])}),Ate=[Sh("contextual",[ic("fadeInClass"),ic("fadeOutClass"),ic("transitionClass"),Qh("lazyContext"),Dr("onShow"),Dr("onShown"),Dr("onHide"),Dr("onHidden")]),yi("lazyViewport",()=>({bounds:Fu(),optScrollEnv:te.none()})),zv("modes",["top","bottom"],Fa),Dr("onDocked"),Dr("onUndocked")],Tte=Object.freeze({__proto__:null,init:s=>{const l=$n(!1),h=$n(!0),g=Ss(),E=$n(s.modes),O=()=>`docked:  ${l.get()}, visible: ${h.get()}, modes: ${E.get().join(",")}`;return Pf({isDocked:l.get,setDocked:l.set,getInitialPos:g.get,setInitialPos:g.set,clearInitialPos:g.clear,isVisible:h.get,setVisible:h.set,getModes:E.get,setModes:E.set,readState:O})}});const Qa=du({fields:Ate,name:"docking",active:_te,apis:wte,state:Tte}),gM=rs.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),Lw=s=>l=>l.translate(-s.left,-s.top),vM=s=>l=>l.translate(s.left,s.top),$1=s=>(l,h)=>xn(s,(g,E)=>E(g),ci(l,h)),bM=(s,l,h)=>s.fold($1([vM(h),Lw(l)]),$1([Lw(l)]),$1([])),ET=(s,l,h)=>s.fold($1([vM(h)]),$1([]),$1([vM(l)])),Bw=(s,l,h)=>s.fold($1([]),$1([Lw(h)]),$1([vM(l),Lw(h)])),CB=(s,l,h,g,E,O)=>{const R=ET(s,E,O),G=ET(l,E,O);return Math.abs(R.left-G.left)<=h&&Math.abs(R.top-G.top)<=g},xte=(s,l,h,g,E,O)=>{const R=ET(s,E,O),G=ET(l,E,O),K=Math.abs(R.left-G.left),oe=Math.abs(R.top-G.top);return ci(K,oe)},yM=(s,l,h)=>{const g=s.fold((E,O)=>({position:te.some("absolute"),left:te.some(E+"px"),top:te.some(O+"px")}),(E,O)=>({position:te.some("absolute"),left:te.some(E-h.left+"px"),top:te.some(O-h.top+"px")}),(E,O)=>({position:te.some("fixed"),left:te.some(E+"px"),top:te.some(O+"px")}));return{right:te.none(),bottom:te.none(),...g}},Ote=(s,l,h)=>s.fold((g,E)=>_y(g+l,E+h),(g,E)=>_C(g+l,E+h),(g,E)=>AC(g+l,E+h)),_o=(s,l,h,g)=>{const E=(O,R)=>(G,K)=>{const oe=O(l,h,g);return R(G.getOr(oe.left),K.getOr(oe.top))};return s.fold(E(Bw,_y),E(ET,_C),E(bM,AC))},_y=gM.offset,_C=gM.absolute,AC=gM.fixed,NI=(s,l)=>{const h=pl(s,l);return U(h)?NaN:parseInt(h,10)},EB=(s,l)=>{const h=s.element,g=NI(h,l.leftAttr),E=NI(h,l.topAttr);return isNaN(g)||isNaN(E)?te.none():te.some(ci(g,E))},Ite=(s,l,h)=>{const g=s.element;cs(g,l.leftAttr,h.left+"px"),cs(g,l.topAttr,h.top+"px")},Zz=(s,l)=>{const h=s.element;ia(h,l.leftAttr),ia(h,l.topAttr)},Kz=(s,l,h,g)=>EB(s,l).fold(()=>h,E=>AC(E.left+g.left,E.top+g.top)),wB=(s,l,h,g,E,O)=>{const R=Kz(s,l,h,g),G=l.mustSnap?kte(s,l,R,E,O):Dte(s,l,R,E,O),K=bM(R,E,O);return Ite(s,l,K),G.fold(()=>({coord:AC(K.left,K.top),extra:te.none()}),oe=>({coord:oe.output,extra:oe.extra}))},Rte=(s,l)=>{Zz(s,l)},_B=(s,l,h,g)=>Rs(s,E=>{const O=E.sensor;return CB(l,O,E.range.left,E.range.top,h,g)?te.some({output:_o(E.output,l,h,g),extra:E.extra}):te.none()}),kte=(s,l,h,g,E)=>{const O=l.getSnapPoints(s);return _B(O,h,g,E).orThunk(()=>xn(O,(K,oe)=>{const fe=oe.sensor,ve=xte(h,fe,oe.range.left,oe.range.top,g,E);return K.deltas.fold(()=>({deltas:te.some(ve),snap:te.some(oe)}),De=>{const Ue=(ve.left+ve.top)/2,He=(De.left+De.top)/2;return Ue<=He?{deltas:te.some(ve),snap:te.some(oe)}:K})},{deltas:te.none(),snap:te.none()}).snap.map(K=>({output:_o(K.output,h,g,E),extra:K.extra})))},Dte=(s,l,h,g,E)=>{const O=l.getSnapPoints(s);return _B(O,h,g,E)},Yz=(s,l,h)=>({coord:_o(s.output,s.output,l,h),extra:s.extra});var Mte=Object.freeze({__proto__:null,snapTo:(s,l,h,g)=>{const E=l.getTarget(s.element);if(l.repositionTarget){const O=dt(s.element),R=Ga(O),G=HS(E),K=Yz(g,R,G),oe=yM(K.coord,R,G);Va(E,oe)}}});const fu=(s,l)=>qE(s,{},qt(l,h=>ly(h.name(),"Cannot configure "+h.name()+" for "+s)).concat([zc("dump",Ie)])),LI=s=>s.dump,pu=(s,l)=>({...oo(l),...s.dump}),lm={field:fu,augment:pu,get:LI},SM=(s,l)=>(s.length>0?[Km("parts",s)]:[]).concat([kn("uid"),Wt("dom",{}),Wt("components",[]),fy("originalSpec"),Wt("debug.sketcher",{})]).concat(l),_0=(s,l,h,g,E)=>{const O=SM(g,E);return pd(s+" [SpecSchema]",yh(O.concat(l)),h)},AB=(s,l,h,g)=>{const E=Xz(g),O=_0(s,l,E,[],[]);return h(O,E)},TB=(s,l,h,g,E)=>{const O=Xz(E),R=ce(h),G=Tt(h),K=_0(s,l,O,R,[G]),oe=he(s,K,h),fe=ye(s,K,oe.internals());return g(K,fe,O,oe.externals())},Pte=s=>ro(s,"uid"),Xz=s=>Pte(s)?s:{...s,uid:V1("uid")},Jz=s=>s.uid!==void 0,Nte=yh([kn("name"),kn("factory"),kn("configFields"),Wt("apis",{}),Wt("extraApis",{})]),Lte=yh([kn("name"),kn("factory"),kn("configFields"),kn("partFields"),Wt("apis",{}),Wt("extraApis",{})]),cm=s=>{const l=pd("Sketcher for "+s.name,Nte,s),h=O=>AB(l.name,l.configFields,l.factory,O),g=Ls(l.apis,y0),E=Ls(l.extraApis,(O,R)=>OA(O,R));return{name:l.name,configFields:l.configFields,sketch:h,...g,...E}},nf=s=>{const l=pd("Sketcher for "+s.name,Lte,s),h=R=>TB(l.name,l.configFields,l.partFields,l.factory,R),g=V(l.name,l.partFields),E=Ls(l.apis,y0),O=Ls(l.extraApis,(R,G)=>OA(R,G));return{name:l.name,partFields:l.partFields,configFields:l.configFields,sketch:h,parts:g,...E,...O}},ub=cm({name:"Container",factory:s=>{const{attributes:l,...h}=s.dom;return{uid:s.uid,dom:{tag:"div",attributes:{role:"presentation",...l},...h},components:s.components,behaviours:LI(s.containerBehaviours),events:s.events,domModification:s.domModification,eventOrder:s.eventOrder}},configFields:[Wt("components",[]),fu("containerBehaviours",[]),Wt("events",{}),Wt("domModification",{}),Wt("eventOrder",{})]}),xB="data-initial-z-index",OB=s=>{Yn(s.element).filter(Dc).each(l=>{rr(l,xB).fold(()=>Er(l,"z-index"),h=>xs(l,"z-index",h)),ia(l,xB)})},Qz=s=>{Yn(s.element).filter(Dc).each(l=>{ma(l,"z-index").each(h=>{cs(l,xB,h)}),xs(l,"z-index",aa(s.element,"z-index"))})},IB=(s,l)=>{s.getSystem().addToGui(l),Qz(l)},ej=s=>{OB(s),s.getSystem().removeFromGui(s)},tj=(s,l,h)=>s.getSystem().build(ub.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[l]},events:h}));var Bte=Sh("snaps",[kn("getSnapPoints"),Dr("onSensor"),kn("leftAttr"),kn("topAttr"),Wt("lazyViewport",Fu),Wt("mustSnap",!1)]);const RB=[Wt("useFixed",mt),kn("blockerClass"),Wt("getTarget",Ie),Wt("onDrag",ie),Wt("repositionTarget",!0),Wt("onDrop",ie),yi("getBounds",Fu),Bte],Vte=s=>Vi(ma(s,"left"),ma(s,"top"),ma(s,"position"),(l,h,g)=>(g==="fixed"?AC:_y)(parseInt(l,10),parseInt(h,10))).getOrThunk(()=>{const l=Uc(s);return _C(l.left,l.top)}),Fte=(s,l,h,g,E)=>{const O=E.bounds,R=ET(l,h,g),G=dl(R.left,O.x,O.x+O.width-E.width),K=dl(R.top,O.y,O.y+O.height-E.height),oe=_C(G,K);return l.fold(()=>{const fe=Bw(oe,h,g);return _y(fe.left,fe.top)},F(oe),()=>{const fe=bM(oe,h,g);return AC(fe.left,fe.top)})},BI=(s,l,h,g,E,O,R)=>{const G=l.fold(()=>{const K=Ote(h,O.left,O.top),oe=bM(K,g,E);return AC(oe.left,oe.top)},K=>{const oe=wB(s,K,h,O,g,E);return oe.extra.each(fe=>{K.onSensor(s,fe)}),oe.coord});return Fte(s,G,g,E,R)},nj=(s,l,h,g)=>{const E=l.getTarget(s.element);if(l.repositionTarget){const O=dt(s.element),R=Ga(O),G=HS(E),K=Vte(E),oe=BI(s,l.snaps,K,R,G,g,h),fe=yM(oe,R,G);Va(E,fe)}l.onDrag(s,E,g)},kB=(s,l)=>({bounds:s.getBounds(),height:wl(l.element),width:Hp(l.element)}),CM=(s,l,h,g,E)=>{const O=h.update(g,E),R=h.getStartData().getOrThunk(()=>kB(l,s));O.each(G=>{nj(s,l,R,G)})},DB=(s,l,h,g)=>{l.each(ej),h.snaps.each(O=>{Rte(s,O)});const E=h.getTarget(s.element);g.reset(),h.onDrop(s,E)},EM=s=>(l,h)=>{const g=E=>{h.setStartData(kB(l,E))};return Ra([pn(u0(),E=>{h.getStartData().each(()=>g(E))}),...s(l,h,g)])},Hte=s=>Ra([pn(vd(),s.forceDrop),pn(i0(),s.drop),pn(qv(),(l,h)=>{s.move(h.event)}),pn(Al(),s.delayDrop)]);var MB=Object.freeze({__proto__:null,getData:s=>te.from(ci(s.x,s.y)),getDelta:(s,l)=>ci(l.left-s.left,l.top-s.top)});const oj=(s,l,h)=>[pn(vd(),(g,E)=>{if(E.event.raw.button!==0)return;E.stop();const R=()=>DB(g,te.some(oe),s,l),G=IA(R,200),K={drop:R,delayDrop:G.schedule,forceDrop:R,move:ve=>{G.cancel(),CM(g,s,l,MB,ve)}},oe=tj(g,s.blockerClass,Hte(K));(()=>{h(g),IB(g,oe)})()})],wM=[...RB,la("dragger",{handlers:EM(oj)})],$te=s=>Ra([pn(zg(),s.forceDrop),pn(Wg(),s.drop),pn(uy(),s.drop),pn(jg(),(l,h)=>{s.move(h.event)})]),sj=s=>{const l=s[0];return te.some(ci(l.clientX,l.clientY))};var PB=Object.freeze({__proto__:null,getData:s=>{const h=s.raw.touches;return h.length===1?sj(h):te.none()},getDelta:(s,l)=>ci(l.left-s.left,l.top-s.top)});const NB=(s,l,h)=>{const g=Ss(),E=O=>{DB(O,g.get(),s,l),g.clear()};return[pn(zg(),(O,R)=>{R.stop();const G=()=>E(O),K={drop:G,delayDrop:ie,forceDrop:G,move:ve=>{CM(O,s,l,PB,ve)}},oe=tj(O,s.blockerClass,$te(K));g.set(oe),(()=>{h(O),IB(O,oe)})()}),pn(jg(),(O,R)=>{R.stop(),CM(O,s,l,PB,R.event)}),pn(Wg(),(O,R)=>{R.stop(),E(O)}),pn(uy(),E)]},Ute=[...RB,la("dragger",{handlers:EM(NB)})],rj=(s,l,h)=>[...oj(s,l,h),...NB(s,l,h)],ij=[...RB,la("dragger",{handlers:EM(rj)})];var zte=Object.freeze({__proto__:null,mouse:wM,touch:Ute,mouseOrTouch:ij}),Wte=Object.freeze({__proto__:null,init:()=>{let s=te.none(),l=te.none();const h=()=>{s=te.none(),l=te.none()},g=(K,oe)=>{const fe=s.map(ve=>K.getDelta(ve,oe));return s=te.some(oe),fe},E=(K,oe)=>K.getData(oe).bind(fe=>g(K,fe)),O=K=>{l=te.some(K)},R=()=>l,G=F({});return Pf({readState:G,reset:h,update:E,getStartData:R,setStartData:O})}});const Vw=hD({branchKey:"mode",branches:zte,name:"dragging",active:{events:(s,l)=>s.dragger.handlers(s,l)},extra:{snap:s=>({sensor:s.sensor,range:s.range,output:s.output,extra:te.from(s.extra)})},state:Wte,apis:Mte}),aj=["input","textarea"],LB=s=>{const l=su(s);return Cn(aj,l)},BB=(s,l)=>{const h=l.getRoot(s).getOr(s.element);vi(h,l.invalidClass),l.notify.each(g=>{LB(s.element)&&cs(s.element,"aria-invalid",!1),g.getContainer(s).each(E=>{Zh(E,g.validHtml)}),g.onValid(s)})},lj=(s,l,h,g)=>{const E=l.getRoot(s).getOr(s.element);Ii(E,l.invalidClass),l.notify.each(O=>{LB(s.element)&&cs(s.element,"aria-invalid",!0),O.getContainer(s).each(R=>{Zh(R,g)}),O.onInvalid(s,g)})},cj=(s,l,h)=>l.validator.fold(()=>Vs.pure(zo.value(!0)),g=>g.validate(s)),VB=(s,l,h)=>(l.notify.each(g=>{g.onValidate(s)}),cj(s,l).map(g=>s.getSystem().isConnected()?g.fold(E=>(lj(s,l,h,E),zo.error(E)),E=>(BB(s,l),zo.value(E))):zo.error("No longer in system")));var uj=Object.freeze({__proto__:null,markValid:BB,markInvalid:lj,query:cj,run:VB,isInvalid:(s,l)=>{const h=l.getRoot(s).getOr(s.element);return qa(h,l.invalidClass)}}),TC=Object.freeze({__proto__:null,events:(s,l)=>s.validator.map(h=>Ra([pn(h.onEvent,g=>{VB(g,s,l).get(Ie)})].concat(h.validateOnLoad?[Ea(g=>{VB(g,s,l).get(ie)})]:[]))).getOr({})}),dj=[kn("invalidClass"),Wt("getRoot",te.none),Sh("notify",[Wt("aria","alert"),Wt("getContainer",te.none),Wt("validHtml",""),Dr("onValid"),Dr("onInvalid"),Dr("onValidate")]),Sh("validator",[kn("validate"),Wt("onEvent","input"),Wt("validateOnLoad",!0)])];const _M=(s,l,h)=>{l.store.manager.onLoad(s,l,h)},FB=(s,l,h)=>{l.store.manager.onUnload(s,l,h)};var qte=Object.freeze({__proto__:null,onLoad:_M,onUnload:FB,setValue:(s,l,h,g)=>{l.store.manager.setValue(s,l,h,g)},getValue:(s,l,h)=>l.store.manager.getValue(s,l,h),getState:(s,l,h)=>h}),Kte=Object.freeze({__proto__:null,events:(s,l)=>{const h=s.resetOnDom?[Ea((g,E)=>{_M(g,s,l)}),tv((g,E)=>{FB(g,s,l)})]:[GO(s,l,_M)];return Ra(h)}});const hj=()=>{const s=$n(null),l=()=>({mode:"memory",value:s.get()}),h=()=>s.get()===null,g=()=>{s.set(null)};return Pf({set:s.set,get:s.get,isNotSet:h,clear:g,readState:l})},Yte=()=>Pf({readState:ie}),HB=()=>{const s=$n({}),l=$n({});return Pf({readState:()=>({mode:"dataset",dataByValue:s.get(),dataByText:l.get()}),lookup:R=>cn(s.get(),R).orThunk(()=>cn(l.get(),R)),update:R=>{const G=s.get(),K=l.get(),oe={},fe={};Tn(R,ve=>{oe[ve.value]=ve,cn(ve,"meta").each(De=>{cn(De,"text").each(Ue=>{fe[Ue]=ve})})}),s.set({...G,...oe}),l.set({...K,...fe})},clear:()=>{s.set({}),l.set({})}})};var $B=Object.freeze({__proto__:null,memory:hj,dataset:HB,manual:Yte,init:s=>s.store.manager.state(s)});const pj=(s,l,h,g)=>{const E=l.store;h.update([g]),E.setValue(s,g),l.onSetValue(s,g)},xC=(s,l,h)=>{const g=l.store,E=g.getDataKey(s);return h.lookup(E).getOrThunk(()=>g.getFallbackEntry(E))},mj=(s,l,h)=>{l.store.initialValue.each(E=>{pj(s,l,h,E)})},gj=(s,l,h)=>{h.clear()};var Xte=[bi("initialValue"),kn("getFallbackEntry"),kn("getDataKey"),kn("setValue"),la("manager",{setValue:pj,getValue:xC,onLoad:mj,onUnload:gj,state:HB})];const Jte=(s,l,h)=>l.store.getValue(s),FI=(s,l,h,g)=>{l.store.setValue(s,g),l.onSetValue(s,g)},HI=(s,l,h)=>{l.store.initialValue.each(g=>{l.store.setValue(s,g)})};var vj=[kn("getValue"),Wt("setValue",ie),bi("initialValue"),la("manager",{setValue:FI,getValue:Jte,onLoad:HI,onUnload:ie,state:ev.init})];const UB=(s,l,h,g)=>{h.set(g),l.onSetValue(s,g)},OC=(s,l,h)=>h.get(),IC=(s,l,h)=>{l.store.initialValue.each(g=>{h.isNotSet()&&h.set(g)})},Qte=(s,l,h)=>{h.clear()};var ene=[bi("initialValue"),la("manager",{setValue:UB,getValue:OC,onLoad:IC,onUnload:Qte,state:hj})],bj=[gd("store",{mode:"memory"},md("mode",{memory:ene,manual:vj,dataset:Xte})),Dr("onSetValue"),Wt("resetOnDom",!1)];const Co=du({fields:bj,name:"representing",active:Kte,apis:qte,extra:{setValueFrom:(s,l)=>{const h=Co.getValue(l);Co.setValue(s,h)}},state:$B}),db=du({fields:dj,name:"invalidating",active:TC,apis:uj,extra:{validation:s=>l=>{const h=Co.getValue(l);return Vs.pure(s(h))}}});var yj=Object.freeze({__proto__:null,exhibit:(s,l)=>ng({classes:[],styles:l.useFixed()?{}:{position:"relative"}})});const AM=rs.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),zB=(s,l,h,g,E,O)=>{const R=l.rect,G=R.x-h,K=R.y-g,oe=R.width,fe=R.height,ve=E-(G+oe),De=O-(K+fe),Ue=te.some(G),He=te.some(K),nt=te.some(ve),pt=te.some(De),st=te.none();return Vo(l.direction,()=>am(s,Ue,He,st,st),()=>am(s,st,He,nt,st),()=>am(s,Ue,st,st,pt),()=>am(s,st,st,nt,pt),()=>am(s,Ue,He,st,st),()=>am(s,Ue,st,st,pt),()=>am(s,Ue,He,st,st),()=>am(s,st,He,nt,st))},TM=(s,l)=>s.fold(()=>{const h=l.rect;return am("absolute",te.some(h.x),te.some(h.y),te.none(),te.none())},(h,g,E,O)=>zB("absolute",l,h,g,E,O),(h,g,E,O)=>zB("fixed",l,h,g,E,O)),xM=(s,l)=>{const h=Xe(Um,l),g=s.fold(h,h,()=>{const R=Ga();return Um(l).translate(-R.left,-R.top)}),E=Hp(l),O=wl(l);return Zr(g.left,g.top,E,O)},tne=(s,l)=>l.fold(()=>s.fold(Fu,Fu,Zr),h=>s.fold(F(h),F(h),()=>{const g=Sj(s,h.x,h.y);return Zr(g.left,g.top,h.width,h.height)})),Sj=(s,l,h)=>{const g=ci(l,h),E=()=>{const O=Ga();return g.translate(-O.left,-O.top)};return s.fold(F(g),F(g),E)},nne=(s,l,h,g)=>s.fold(l,h,g);AM.none;const OM=AM.relative,jB=AM.fixed,IM=(s,l)=>({anchorBox:s,origin:l}),Cj=(s,l)=>IM(s,l),RM=rs.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Ej=(s,l)=>{const{x:h,y:g,right:E,bottom:O}=l,{x:R,y:G,right:K,bottom:oe,width:fe,height:ve}=s,De=R>=h&&R<=E,Ue=G>=g&&G<=O,He=De&&Ue,nt=K<=E&&K>=h,pt=oe<=O&&oe>=g,st=nt&&pt,yt=Math.min(fe,R>=h?E-R:K-h),_t=Math.min(ve,G>=g?O-G:oe-g);return{originInBounds:He,sizeInBounds:st,visibleW:yt,visibleH:_t}},wj=(s,l)=>{const{x:h,y:g,right:E,bottom:O}=l,{x:R,y:G,width:K,height:oe}=s,fe=Math.max(h,E-K),ve=Math.max(g,O-oe),De=dl(R,h,fe),Ue=dl(G,g,ve),He=Math.min(De+K,E)-De,nt=Math.min(Ue+oe,O)-Ue;return Zr(De,Ue,He,nt)},_j=(s,l,h)=>{const g=F(l.bottom-h.y),E=F(h.bottom-l.y),O=qo(s,E,E,g),R=F(l.right-h.x),G=F(h.right-l.x);return{maxWidth:Us(s,G,G,R),maxHeight:O}},Aj=(s,l,h,g)=>{const E=s.bubble,O=E.offset,R=Vr(g,s.restriction,O),G=s.x+O.left,K=s.y+O.top,oe=Zr(G,K,l,h),{originInBounds:fe,sizeInBounds:ve,visibleW:De,visibleH:Ue}=Ej(oe,R),He=fe&&ve,nt=He?oe:wj(oe,R),pt=nt.width>0&&nt.height>0,{maxWidth:st,maxHeight:yt}=_j(s.direction,nt,g),_t={rect:nt,maxHeight:yt,maxWidth:st,direction:s.direction,placement:s.placement,classes:{on:E.classesOn,off:E.classesOff},layout:s.label,testY:K};return He||s.alwaysFit?RM.fit(_t):RM.nofit(_t,De,Ue,pt)},one=(s,l,h,g,E,O)=>{const R=g.width,G=g.height,K=(fe,ve,De,Ue,He)=>{const nt=fe(h,g,E,s,O),pt=Aj(nt,R,G,O);return pt.fold(F(pt),(st,yt,_t,Qt)=>(He===Qt?_t>Ue||yt>De:!He&&Qt)?pt:RM.nofit(ve,De,Ue,He))};return xn(l,(fe,ve)=>{const De=Xe(K,ve);return fe.fold(F(fe),De)},RM.nofit({rect:h,maxHeight:g.height,maxWidth:g.width,direction:bs(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:h.y},-1,-1,!1)).fold(Ie,Ie)},kM=["top","bottom","right","left"],DM="data-alloy-transition-timer",sne=(s,l)=>Dg(s,l.classes),rne=(s,l,h)=>h.exists(g=>{const E=s.mode;return E==="all"?!0:g[E]!==l[E]}),ine=(s,l)=>{const h=g=>parseFloat(g).toFixed(3);return go(l,(g,E)=>{const O=s[E].map(h),R=g.map(h);return!Ar(O,R)}).isSome()},Tj=s=>{const l=O=>{const G=aa(s,O).split(/\s*,\s*/);return vs(G,Iu)},h=O=>{if(v(O)&&/^[\d.]+/.test(O)){const R=parseFloat(O);return Hc(O,"ms")?R:R*1e3}else return 0},g=l("transition-delay"),E=l("transition-duration");return xn(E,(O,R,G)=>{const K=h(g[G])+h(R);return Math.max(O,K)},0)},ane=(s,l)=>{const h=na(),g=na();let E;const O=oe=>{var fe;const ve=(fe=oe.raw.pseudoElement)!==null&&fe!==void 0?fe:"";return xe(oe.target,s)&&Dl(ve)&&Cn(kM,oe.raw.propertyName)},R=oe=>{if(j(oe)||O(oe)){h.clear(),g.clear();const fe=oe==null?void 0:oe.raw.type;(j(fe)||fe===bd())&&(clearTimeout(E),ia(s,DM),Pc(s,l.classes))}},G=li(s,a0(),oe=>{O(oe)&&(G.unbind(),h.set(li(s,bd(),R)),g.set(li(s,Zv(),R)))}),K=Tj(s);window.requestAnimationFrame(()=>{E=setTimeout(R,K+17),cs(s,DM,E)})},lne=(s,l)=>{Xh(s,l.classes),rr(s,DM).each(h=>{clearTimeout(parseInt(h,10)),ia(s,DM)}),ane(s,l)},xj=(s,l,h,g,E,O)=>{const R=rne(g,E,O);if(R||sne(s,g)){xs(s,"position",h.position);const G=xM(l,s),K=TM(l,{...E,rect:G}),oe=Lt(kM,fe=>K[fe]);ine(h,oe)&&(Va(s,oe),R&&lne(s,g),cd(s))}else Pc(s,g.classes)},$I=s=>({width:Math.ceil(Hp(s)),height:wl(s)}),cne=(s,l,h,g)=>{Er(l,"max-height"),Er(l,"max-width");const E=$I(l);return one(l,g.preference,s,E,h,g.bounds)},UI=(s,l)=>{const h=l.classes;Pc(s,h.off),Xh(s,h.on)},WB=(s,l,h)=>{const g=h.maxHeightFunction;g(s,l.maxHeight)},Oj=(s,l,h)=>{const g=h.maxWidthFunction;g(s,l.maxWidth)},Ij=(s,l,h)=>{const g=TM(h.origin,l);h.transition.each(E=>{xj(s,h.origin,g,E,l,h.lastPlacement)}),CT(s,g)},une=(s,l)=>{LA(s,l.placement)},Rj=(s,l,h)=>s[l]===void 0?h:s[l],kj=(s,l,h,g,E,O,R,G)=>{const K=Rj(R,"maxHeightFunction",oD()),oe=Rj(R,"maxWidthFunction",ie),fe=s.anchorBox,ve=s.origin,De={bounds:tne(ve,O),origin:ve,preference:g,maxHeightFunction:K,maxWidthFunction:oe,lastPlacement:E,transition:G};return dne(fe,l,h,De)},dne=(s,l,h,g)=>{const E=cne(s,l,h,g);return Ij(l,E,g),une(l,E),UI(l,E),WB(l,E,g),Oj(l,E,g),{layout:E.layout,placement:E.placement}},zI=Ie,Fw=()=>Sh("layouts",[kn("onLtr"),kn("onRtl"),bi("onBottomLtr"),bi("onBottomRtl")]),MM=(s,l,h,g,E,O,R)=>{const G=R.map(sD).getOr(!1),K=l.layouts.map(Ue=>Ue.onLtr(s)),oe=l.layouts.map(Ue=>Ue.onRtl(s)),fe=G?l.layouts.bind(Ue=>Ue.onBottomLtr.map(He=>He(s))).or(K).getOr(E):K.getOr(h),ve=G?l.layouts.bind(Ue=>Ue.onBottomRtl.map(He=>He(s))).or(oe).getOr(O):oe.getOr(g);return Wb(fe,ve)(s)},Dj=(s,l,h)=>{const g=l.hotspot,E=xM(h,g.element),O=MM(s.element,l,E1(),LO(),NA(),tD(),te.some(l.hotspot.element));return te.some(zI({anchorBox:E,bubble:l.bubble.getOr(gn()),overrides:l.overrides,layouts:O}))};var PM=[kn("hotspot"),bi("bubble"),Wt("overrides",{}),Fw(),la("placement",Dj)];const GB=(s,l,h)=>{const g=Sj(h,l.x,l.y),E=Zr(g.left,g.top,l.width,l.height),O=MM(s.element,l,PA(),eD(),PA(),eD(),te.none());return te.some(zI({anchorBox:E,bubble:l.bubble,overrides:l.overrides,layouts:O}))};var qB=[kn("x"),kn("y"),Wt("height",0),Wt("width",0),Wt("bubble",gn()),Wt("overrides",{}),Fw(),la("placement",GB)];const Mj=rs.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),hne=s=>s.fold(Ie,(l,h,g)=>l.translate(-h,-g)),fne=s=>s.fold(Ie,Ie),Pj=s=>xn(s,(l,h)=>l.translate(h.left,h.top),ci(0,0)),Nj=s=>{const l=qt(s,hne);return Pj(l)},ZB=s=>{const l=qt(s,fne);return Pj(l)},pne=Mj.screen,mne=Mj.absolute,gne=(s,l,h)=>{const g=Dn(h.root).dom,E=O=>{const R=dt(O),G=dt(s.element);return xe(R,G)};return te.from(g.frameElement).map(co.fromDom).filter(E).map(Uc)},Lj=(s,l,h)=>{const g=dt(s.element),E=Ga(g),O=gne(s,l,h).getOr(E);return mne(O,E.left,E.top)},KB=(s,l,h,g)=>{const E=pne(ci(s,l));return te.some(Qb(E,h,g))},Bj=(s,l,h,g,E)=>s.map(O=>{const R=[l,O.point],G=nne(g,()=>ZB(R),()=>ZB(R),()=>Nj(R)),K=BE(G.left,G.top,O.width,O.height),oe=h.showAbove?NA():E1(),fe=h.showAbove?tD():LO(),ve=MM(E,h,oe,fe,oe,fe,te.none());return zI({anchorBox:K,bubble:h.bubble.getOr(gn()),overrides:h.overrides,layouts:ve})}),Vj=(s,l,h)=>{const g=Lj(s,h,l);return l.node.filter(qr).bind(E=>{const O=E.dom.getBoundingClientRect(),R=KB(O.left,O.top,O.width,O.height),G=l.node.getOr(s.element);return Bj(R,g,l,h,G)})};var vne=[kn("node"),kn("root"),bi("bubble"),Fw(),Wt("overrides",{}),Wt("showAbove",!1),la("placement",Vj)];const NM=(s,l)=>({element:s,offset:l}),bne=(s,l)=>{const h=pr(s);if(h.length===0)return NM(s,l);if(l<h.length)return NM(h[l],0);{const g=h[h.length-1],E=jh(g)?Q0(g).length:pr(g).length;return NM(g,E)}},Fj=(s,l)=>jh(s)?NM(s,l):bne(s,l),YB=s=>s.foffset!==void 0,U1=(s,l)=>l.getSelection.getOrThunk(()=>()=>$m(s))().map(g=>{if(YB(g)){const E=Fj(g.start,g.soffset),O=Fj(g.finish,g.foffset);return lu.range(E.element,E.offset,O.element,O.offset)}else return g}),yne=(s,l,h)=>{const g=Dn(l.root).dom,E=Lj(s,h,l),O=U1(g,l).bind(K=>{if(YB(K))return oy(g,lu.exactFromRange(K)).orThunk(()=>{const fe=co.fromText(op);yf(K.start,fe);const ve=Mg(g,lu.exact(fe,0,fe,1));return Vd(fe),ve}).bind(fe=>KB(fe.left,fe.top,fe.width,fe.height));{const oe=Ls(K,ve=>ve.dom.getBoundingClientRect()),fe={left:Math.min(oe.firstCell.left,oe.lastCell.left),right:Math.max(oe.firstCell.right,oe.lastCell.right),top:Math.min(oe.firstCell.top,oe.lastCell.top),bottom:Math.max(oe.firstCell.bottom,oe.lastCell.bottom)};return KB(fe.left,fe.top,fe.right-fe.left,fe.bottom-fe.top)}}),G=U1(g,l).bind(K=>YB(K)?Dc(K.start)?te.some(K.start):ps(K.start):te.some(K.firstCell)).getOr(s.element);return Bj(O,E,l,h,G)};var Sne=[bi("getSelection"),kn("root"),bi("bubble"),Fw(),Wt("overrides",{}),Wt("showAbove",!1),la("placement",yne)];const Ay="link-layout",XB=s=>s.x+s.width,Hj=(s,l)=>s.x-l.width,z1=(s,l)=>s.y-l.height+s.height,$j=s=>s.y,Uj=(s,l,h)=>Pn(XB(s),$j(s),h.southeast(),bs(),"southeast",Mr(s,{left:0,top:2}),Ay),sg=(s,l,h)=>Pn(Hj(s,l),$j(s),h.southwest(),zs(),"southwest",Mr(s,{right:1,top:2}),Ay),JB=(s,l,h)=>Pn(XB(s),z1(s,l),h.northeast(),us(),"northeast",Mr(s,{left:0,bottom:3}),Ay),QB=(s,l,h)=>Pn(Hj(s,l),z1(s,l),h.northwest(),or(),"northwest",Mr(s,{right:1,bottom:3}),Ay),eV=()=>[Uj,sg,JB,QB],zj=()=>[sg,Uj,QB,JB],LM=(s,l,h)=>{const g=xM(h,l.item.element),E=MM(s.element,l,eV(),zj(),eV(),zj(),te.none());return te.some(zI({anchorBox:g,bubble:gn(),overrides:l.overrides,layouts:E}))};var jj=[kn("item"),Fw(),Wt("overrides",{}),la("placement",LM)],Cne=md("type",{selection:Sne,node:vne,hotspot:PM,submenu:jj,makeshift:qB});const Ene=[zd("classes",Fa),Ch("mode","all",["all","layout","placement"])],BM=[Wt("useFixed",mt),bi("getBounds")],tV=[$u("anchor",Cne),Sh("transition",Ene)],Wj=()=>{const s=document.documentElement;return jB(0,0,s.clientWidth,s.clientHeight)},Gj=s=>{const l=Uc(s.element),h=s.element.dom.getBoundingClientRect();return OM(l.left,l.top,h.width,h.height)},qj=(s,l,h,g,E,O)=>{const R=Cj(l.anchorBox,s);return kj(R,g.element,l.bubble,l.layouts,E,h,l.overrides,O)},wne=(s,l,h,g,E)=>{const O=te.none();VM(s,l,h,g,E,O)},VM=(s,l,h,g,E,O)=>{const R=pd("placement.info",Es(tV),E),G=R.anchor,K=g.element,oe=h.get(g.uid);qd(()=>{xs(K,"position","fixed");const fe=ma(K,"visibility");xs(K,"visibility","hidden");const ve=l.useFixed()?Wj():Gj(s);G.placement(s,G,ve).each(De=>{const Ue=O.orThunk(()=>l.getBounds.map(vt)),He=qj(ve,De,Ue,g,oe,R.transition);h.set(g.uid,He)}),fe.fold(()=>{Er(K,"visibility")},De=>{xs(K,"visibility",De)}),ma(K,"left").isNone()&&ma(K,"top").isNone()&&ma(K,"right").isNone()&&ma(K,"bottom").isNone()&&Fc(ma(K,"position"),"fixed")&&Er(K,"position")},K)};var Ane=Object.freeze({__proto__:null,position:wne,positionWithinBounds:VM,getMode:(s,l,h)=>l.useFixed()?"fixed":"absolute",reset:(s,l,h,g)=>{const E=g.element;Tn(["position","left","right","top","bottom"],O=>Er(E,O)),BA(E),h.clear(g.uid)}}),nV=Object.freeze({__proto__:null,init:()=>{let s={};return Pf({readState:()=>s,clear:E=>{W(E)?delete s[E]:s={}},set:(E,O)=>{s[E]=O},get:E=>cn(s,E)})}});const Th=du({fields:BM,name:"positioning",active:yj,apis:Ane,state:nV}),jI=(s,l)=>l.universal?s:vs(s,h=>Cn(l.channels,h));var Zj=Object.freeze({__proto__:null,events:s=>Ra([pn(Yp(),(l,h)=>{const g=s.channels,E=Ao(g),O=h,R=jI(E,O);Tn(R,G=>{const K=g[G],oe=K.schema,fe=pd("channel["+G+`] data
Receiver: `+Eh(l.element),oe,O.data);K.onReceive(l,fe)})})])}),Kj=[$u("channels",zE(zo.value,yh([b1("onReceive"),Wt("schema",Un())])))];const um=du({fields:Kj,name:"receiving",active:Zj});var Tne=Object.freeze({__proto__:null,events:(s,l)=>{const h=(g,E)=>{s.updateState.each(O=>{const R=O(g,E);l.set(R)}),s.renderComponents.each(O=>{const R=O(E,l.get());(s.reuseDom?CI:B1)(g,R)})};return Ra([pn(Yp(),(g,E)=>{const O=E;if(!O.universal){const R=s.channel;Cn(O.channels,R)&&h(g,O.data)}}),Ea((g,E)=>{s.initialData.each(O=>{h(g,O)})})])}}),sV=Object.freeze({__proto__:null,getState:(s,l,h)=>h}),Yj=[kn("channel"),bi("renderComponents"),bi("updateState"),bi("initialData"),jc("reuseDom",!0)],rV=Object.freeze({__proto__:null,init:()=>{const s=$n(te.none()),l=()=>s.set(te.none());return{readState:()=>s.get().getOr("none"),get:s.get,set:s.set,clear:l}}});const dm=du({fields:Yj,name:"reflecting",active:Tne,apis:sV,state:rV}),iV=(s,l,h,g)=>{h.get().each(R=>{vI(s)});const E=l.getAttachPoint(s);rb(E,s);const O=s.getSystem().build(g);return rb(s,O),h.set(O),O},Xj=(s,l,h,g)=>{const E=iV(s,l,h,g);return l.onOpen(s,E),E},One=(s,l,h,g)=>h.get().map(()=>iV(s,l,h,g)),Ine=(s,l,h,g,E)=>{t8(s,l),Xj(s,l,h,g),E(),n8(s,l)},aV=(s,l,h)=>{h.get().each(g=>{vI(s),ib(s),l.onClose(s,g),h.clear()})},Jj=(s,l,h)=>h.isOpen(),Rne=(s,l,h,g)=>Jj(s,l,h)&&h.get().exists(E=>l.isPartOf(s,E,g)),lV=(s,l,h)=>h.get(),Qj=(s,l,h,g)=>{ma(s.element,l).fold(()=>{ia(s.element,h)},E=>{cs(s.element,h,E)}),xs(s.element,l,g)},e8=(s,l,h)=>{rr(s.element,h).fold(()=>Er(s.element,l),g=>xs(s.element,l,g))},t8=(s,l,h)=>{const g=l.getAttachPoint(s);xs(s.element,"position",Th.getMode(g)),Qj(s,"visibility",l.cloakVisibilityAttr,"hidden")},cV=s=>Ro(["top","left","right","bottom"],l=>ma(s,l).isSome()),n8=(s,l,h)=>{cV(s.element)||Er(s.element,"position"),e8(s,"visibility",l.cloakVisibilityAttr)};var kne=Object.freeze({__proto__:null,cloak:t8,decloak:n8,open:Xj,openWhileCloaked:Ine,close:aV,isOpen:Jj,isPartOf:Rne,getState:lV,setContent:One}),Dne=Object.freeze({__proto__:null,events:(s,l)=>Ra([pn(p1(),(h,g)=>{aV(h,s,l)})])}),Mne=[Dr("onOpen"),Dr("onClose"),kn("isPartOf"),kn("getAttachPoint"),Wt("cloakVisibilityAttr","data-precloak-visibility")],uV=Object.freeze({__proto__:null,init:()=>{const s=Ss(),l=F("not-implemented");return Pf({readState:l,isOpen:s.isSet,clear:s.clear,set:s.set,get:s.get})}});const ni=du({fields:Mne,name:"sandboxing",active:Dne,apis:kne,state:uV}),RC=(s,l)=>l.getAnimationRoot.fold(()=>s.element,h=>h(s)),j1=s=>s.dimension.property,Hw=(s,l)=>s.dimension.getDimension(l),FM=(s,l)=>{const h=RC(s,l);Pc(h,[l.shrinkingClass,l.growingClass])},dV=(s,l)=>{vi(s.element,l.openClass),Ii(s.element,l.closedClass),xs(s.element,j1(l),"0px"),cd(s.element)},hV=(s,l)=>{vi(s.element,l.closedClass),Ii(s.element,l.openClass),Er(s.element,j1(l))},o8=(s,l,h,g)=>{h.setCollapsed(),xs(s.element,j1(l),Hw(l,s.element)),FM(s,l),dV(s,l),l.onStartShrink(s),l.onShrunk(s)},s8=(s,l,h,g)=>{const E=g.getOrThunk(()=>Hw(l,s.element));h.setCollapsed(),xs(s.element,j1(l),E),cd(s.element);const O=RC(s,l);vi(O,l.growingClass),Ii(O,l.shrinkingClass),dV(s,l),l.onStartShrink(s)},r8=(s,l,h)=>{const g=Hw(l,s.element);(g==="0px"?o8:s8)(s,l,h,te.some(g))},i8=(s,l,h)=>{const g=RC(s,l),E=qa(g,l.shrinkingClass),O=Hw(l,s.element);hV(s,l);const R=Hw(l,s.element);(E?()=>{xs(s.element,j1(l),O),cd(s.element)}:()=>{dV(s,l)})(),vi(g,l.shrinkingClass),Ii(g,l.growingClass),hV(s,l),xs(s.element,j1(l),R),h.setExpanded(),l.onStartGrow(s)},fV=(s,l,h)=>{if(h.isExpanded()){Er(s.element,j1(l));const g=Hw(l,s.element);xs(s.element,j1(l),g)}},$w=(s,l,h)=>{h.isExpanded()||i8(s,l,h)},Nne=(s,l,h)=>{h.isExpanded()&&r8(s,l,h)},Lne=(s,l,h)=>{h.isExpanded()&&o8(s,l,h)},pV=(s,l,h)=>h.isExpanded(),a8=(s,l,h)=>h.isCollapsed(),l8=(s,l,h)=>{const g=RC(s,l);return qa(g,l.growingClass)===!0},wT=(s,l,h)=>{const g=RC(s,l);return qa(g,l.shrinkingClass)===!0};var c8=Object.freeze({__proto__:null,refresh:fV,grow:$w,shrink:Nne,immediateShrink:Lne,hasGrown:pV,hasShrunk:a8,isGrowing:l8,isShrinking:wT,isTransitioning:(s,l,h)=>l8(s,l)||wT(s,l),toggleGrow:(s,l,h)=>{(h.isExpanded()?r8:i8)(s,l,h)},disableTransitions:FM,immediateGrow:(s,l,h)=>{h.isExpanded()||(hV(s,l),xs(s.element,j1(l),Hw(l,s.element)),FM(s,l),h.setExpanded(),l.onStartGrow(s),l.onGrown(s))}}),u8=Object.freeze({__proto__:null,exhibit:(s,l,h)=>{const g=l.expanded;return ng(g?{classes:[l.openClass],styles:{}}:{classes:[l.closedClass],styles:Ug(l.dimension.property,"0px")})},events:(s,l)=>Ra([O1(bd(),(h,g)=>{g.event.raw.propertyName===s.dimension.property&&(FM(h,s),l.isExpanded()&&Er(h.element,s.dimension.property),(l.isExpanded()?s.onGrown:s.onShrunk)(h))})])}),_T=[kn("closedClass"),kn("openClass"),kn("shrinkingClass"),kn("growingClass"),bi("getAnimationRoot"),Dr("onShrunk"),Dr("onStartShrink"),Dr("onGrown"),Dr("onStartGrow"),Wt("expanded",!1),$u("dimension",md("property",{width:[la("property","width"),la("getDimension",s=>Ac(s)+"px")],height:[la("property","height"),la("getDimension",s=>El(s)+"px")]}))],mV=Object.freeze({__proto__:null,init:s=>{const l=$n(s.expanded),h=()=>"expanded: "+l.get();return Pf({isExpanded:()=>l.get()===!0,isCollapsed:()=>l.get()===!1,setCollapsed:Xe(l.set,!1),setExpanded:Xe(l.set,!0),readState:h})}});const Lf=du({fields:_T,name:"sliding",active:u8,apis:c8,state:mV});var HM=Object.freeze({__proto__:null,events:(s,l)=>{const g=s.stream.streams.setup(s,l);return Ra([pn(s.event,g),tv(()=>l.cancel())].concat(s.cancelEvent.map(E=>[pn(E,()=>l.cancel())]).getOr([])))}});const gV=s=>{const l=$n(null);return Pf({readState:()=>({timer:l.get()!==null?"set":"unset"}),setTimer:O=>{l.set(O)},cancel:()=>{const O=l.get();O!==null&&O.cancel()}})};var vV=Object.freeze({__proto__:null,throttle:gV,init:s=>s.stream.streams.state(s)});const Fne=(s,l)=>{const h=s.stream,g=Gl(s.onStream,h.delay);return l.setTimer(g),(E,O)=>{g.throttle(E,O),h.stopEvent&&O.stop()}};var Hne=[$u("stream",md("mode",{throttle:[kn("delay"),Wt("stopEvent",!0),la("streams",{setup:Fne,state:gV})]})),Wt("event","input"),bi("cancelEvent"),b1("onStream")];const bV=du({fields:Hne,name:"streaming",active:HM,state:vV});var WI=Object.freeze({__proto__:null,exhibit:(s,l)=>ng({attributes:Wv([{key:l.tabAttr,value:"true"}])})}),$ne=[Wt("tabAttr","data-alloy-tabstop")];const da=du({fields:$ne,name:"tabstopping",active:WI}),yV=(s,l,h)=>{const g=l.aria;g.update(s,g,h.get())},Une=(s,l,h)=>{l.toggleClass.each(g=>{h.get()?Ii(s.element,g):vi(s.element,g)})},Uw=(s,l,h,g)=>{const E=h.get();h.set(g),Une(s,l,h),yV(s,l,h),E!==g&&l.onToggled(s,g)},$M=(s,l,h)=>{Uw(s,l,h,!h.get())},zne=(s,l,h)=>{Uw(s,l,h,!0)},h8=(s,l,h)=>{Uw(s,l,h,!1)},f8=(s,l,h)=>h.get(),p8=(s,l,h)=>{Uw(s,l,h,l.selected)};var m8=Object.freeze({__proto__:null,onLoad:p8,toggle:$M,isOn:f8,on:zne,off:h8,set:Uw}),Wne=Object.freeze({__proto__:null,exhibit:()=>ng({}),events:(s,l)=>{const h=y4(s,l,$M),g=GO(s,l,p8);return Ra(fn([s.toggleOnExecute?[h]:[],[g]]))}});const Gne=(s,l,h)=>{cs(s.element,"aria-pressed",h),l.syncWithExpanded&&SV(s,l,h)},qne=(s,l,h)=>{cs(s.element,"aria-selected",h)},Zne=(s,l,h)=>{cs(s.element,"aria-checked",h)},SV=(s,l,h)=>{cs(s.element,"aria-expanded",h)};var g8=[Wt("selected",!1),bi("toggleClass"),Wt("toggleOnExecute",!0),Dr("onToggled"),gd("aria",{mode:"none"},md("mode",{pressed:[Wt("syncWithExpanded",!1),la("update",Gne)],checked:[la("update",Zne)],expanded:[la("update",SV)],selected:[la("update",qne)],none:[la("update",ie)]}))];const Pr=du({fields:g8,name:"toggling",active:Wne,apis:m8,state:ZO(!1)}),CV=yo("tooltip.exclusive"),AT=yo("tooltip.show"),GI=yo("tooltip.hide"),qI=yo("tooltip.immediateHide"),TT=yo("tooltip.immediateShow"),EV=(s,l,h)=>{s.getSystem().broadcastOn([CV],{})};var v8=Object.freeze({__proto__:null,hideAllExclusive:EV,immediateOpenClose:(s,l,h,g)=>wr(s,g?TT:qI),isEnabled:(s,l,h)=>h.isEnabled(),setComponents:(s,l,h,g)=>{h.getTooltip().each(E=>{E.getSystem().isConnected()&&Ws.set(E,g)})},setEnabled:(s,l,h,g)=>h.setEnabled(g)}),wV=Object.freeze({__proto__:null,events:(s,l)=>{const h=R=>{l.getTooltip().each(G=>{G.getSystem().isConnected()&&(ib(G),s.onHide(R,G),l.clearTooltip())}),l.clearTimer()},g=R=>{if(!l.isShowing()&&l.isEnabled()){EV(R);const G=s.lazySink(R).getOrDie(),K=R.getSystem().build({dom:s.tooltipDom,components:s.tooltipComponents,events:Ra(s.mode==="normal"?[pn(Of(),oe=>{wr(R,AT)}),pn(Al(),oe=>{wr(R,GI)})]:[]),behaviours:oo([Ws.config({})])});l.setTooltip(K),rb(G,K),s.onShow(R,K),Th.position(G,K,{anchor:s.anchor(R)})}},E=R=>{l.getTooltip().each(G=>{const K=s.lazySink(R).getOrDie();Th.position(K,G,{anchor:s.anchor(R)})})},O=()=>{switch(s.mode){case"normal":return[pn(If(),R=>{wr(R,TT)}),pn(Rf(),R=>{wr(R,qI)}),pn(Of(),R=>{wr(R,AT)}),pn(Al(),R=>{wr(R,GI)})];case"follow-highlight":return[pn(Kv(),(R,G)=>{wr(R,AT)}),pn(QS(),R=>{wr(R,GI)})];case"children-normal":return[pn(If(),(R,G)=>{Wa(R.element).each(K=>{L(G.event.target,"[data-mce-tooltip]")&&l.getTooltip().fold(()=>{wr(R,TT)},oe=>{l.isShowing()&&(s.onShow(R,oe),E(R))})})}),pn(Rf(),R=>{Wa(R.element).fold(()=>{wr(R,qI)},ie)}),pn(Of(),R=>{ui(R.element,"[data-mce-tooltip]:hover").each(G=>{l.getTooltip().fold(()=>{wr(R,AT)},K=>{l.isShowing()&&(s.onShow(R,K),E(R))})})}),pn(Al(),R=>{ui(R.element,"[data-mce-tooltip]:hover").fold(()=>{wr(R,GI)},ie)})];default:return[pn(If(),(R,G)=>{Wa(R.element).each(K=>{L(G.event.target,"[data-mce-tooltip]")&&l.getTooltip().fold(()=>{wr(R,TT)},oe=>{l.isShowing()&&(s.onShow(R,oe),E(R))})})}),pn(Rf(),R=>{Wa(R.element).fold(()=>{wr(R,qI)},ie)})]}};return Ra(fn([[cD(R=>{s.onSetup(R)}),pn(AT,R=>{l.resetTimer(()=>{g(R)},s.delayForShow())}),pn(GI,R=>{l.resetTimer(()=>{h(R)},s.delayForHide())}),pn(TT,R=>{l.resetTimer(()=>{g(R)},0)}),pn(qI,R=>{l.resetTimer(()=>{h(R)},0)}),pn(Yp(),(R,G)=>{const K=G;K.universal||(Cn(K.channels,CV)||Cn(K.channels,dw()))&&(K.data.closedTooltip&&l.isShowing()&&K.data.closedTooltip(),h(R))}),tv(R=>{h(R)})],O()]))}}),y8=[kn("lazySink"),kn("tooltipDom"),Wt("exclusive",!0),Wt("tooltipComponents",[]),yi("delayForShow",F(300)),yi("delayForHide",F(100)),yi("onSetup",ie),Ch("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),Wt("anchor",s=>({type:"hotspot",hotspot:s,layouts:{onLtr:F([ua,Tl,Fr,yl,zi,Ja]),onRtl:F([ua,Tl,Fr,yl,zi,Ja])},bubble:Ft(0,-2,{})})),Dr("onHide"),Dr("onShow")],S8=Object.freeze({__proto__:null,init:()=>{const s=$n(!0),l=Ss(),h=Ss(),g=()=>{l.on(clearTimeout)},E=(R,G)=>{g(),l.set(setTimeout(R,G))},O=F("not-implemented");return Pf({getTooltip:h.get,isShowing:h.isSet,setTooltip:h.set,clearTooltip:h.clear,clearTimer:g,resetTimer:E,readState:O,isEnabled:()=>s.get(),setEnabled:R=>s.set(R)})}});const Da=du({fields:y8,name:"tooltipping",active:wV,state:S8,apis:v8});var E8=Object.freeze({__proto__:null,events:()=>Ra([zA(vA(),gt)]),exhibit:()=>ng({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const xT=du({fields:[],name:"unselecting",active:E8}),zw=s=>{const l=s.dom.attributes!==void 0?s.dom.attributes:[];return xn(l,(h,g)=>g.name==="class"?h:{...h,[g.name]:g.value},{})},Jne=s=>Array.prototype.slice.call(s.dom.classList,0),A0=s=>{const l=co.fromHtml(s),h=pr(l),g=zw(l),E=Jne(l),O=h.length===0?{}:{innerHtml:ph(l)};return{tag:su(l),classes:E,attributes:g,...O}},oi=s=>{const l=Jz(s)&&Xn(s,"uid")?s.uid:V1("memento");return{get:O=>O.getSystem().getByUid(l).getOrDie(),getOpt:O=>O.getSystem().getByUid(l).toOptional(),asSpec:()=>({...s,uid:l})}},mu=It,T0=I,w8=(s,l)=>{const h=$n(!1),g=$n(!1);return{stop:()=>{h.set(!0)},cut:()=>{g.set(!0)},isStopped:h.get,isCut:g.get,event:s,setSource:l.set,getSource:l.get}},_8=s=>{const l=$n(!1);return{stop:()=>{l.set(!0)},cut:ie,isStopped:l.get,isCut:mt,event:s,setSource:Re("Cannot set source of a broadcasted event"),getSource:Re("Cannot get source of a broadcasted event")}},_V=s=>s.raw.which===YO[0]&&!Cn(["input","textarea"],su(s.target))&&!qb(s.target,'[contenteditable="true"]'),A8=(s,l)=>{const h={stopBackspace:!0,...l},g=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],E=Gc(h),O=qt(g.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),Ue=>li(s,Ue,He=>{E.fireIfReady(He,Ue).each(pt=>{pt&&He.kill()}),h.triggerEvent(Ue,He)&&He.kill()})),R=Ss(),G=li(s,"paste",Ue=>{E.fireIfReady(Ue,"paste").each(nt=>{nt&&Ue.kill()}),h.triggerEvent("paste",Ue)&&Ue.kill(),R.set(setTimeout(()=>{h.triggerEvent(Xm(),Ue)},0))}),K=li(s,"keydown",Ue=>{h.triggerEvent("keydown",Ue)?Ue.kill():h.stopBackspace&&_V(Ue)&&Ue.prevent()}),oe=li(s,"focusin",Ue=>{h.triggerEvent("focusin",Ue)&&Ue.kill()}),fe=Ss(),ve=li(s,"focusout",Ue=>{h.triggerEvent("focusout",Ue)&&Ue.kill(),fe.set(setTimeout(()=>{h.triggerEvent(Rf(),Ue)},0))});return{unbind:()=>{Tn(O,Ue=>{Ue.unbind()}),K.unbind(),oe.unbind(),ve.unbind(),G.unbind(),R.on(clearTimeout),fe.on(clearTimeout)}}},T8=(s,l)=>{const h=cn(s,"target").getOr(l);return $n(h)},OT=rs.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),AV=(s,l,h,g,E,O)=>{const R=s(l,g),G=w8(h,E);return R.fold(()=>(O.logEventNoHandlers(l,g),OT.complete()),K=>{const oe=K.descHandler;return AI(oe)(G),G.isStopped()?(O.logEventStopped(l,K.element,oe.purpose),OT.stopped()):G.isCut()?(O.logEventCut(l,K.element,oe.purpose),OT.complete()):Yn(K.element).fold(()=>(O.logNoParent(l,K.element,oe.purpose),OT.complete()),ve=>(O.logEventResponse(l,K.element,oe.purpose),OT.resume(ve)))})},TV=(s,l,h,g,E,O)=>AV(s,l,h,g,E,O).fold(gt,R=>TV(s,l,h,R,E,O),mt),x8=(s,l,h,g,E)=>{const O=T8(h,g);return AV(s,l,h,g,O,E)},Qne=(s,l,h)=>{const g=_8(l);return Tn(s,E=>{const O=E.descHandler;AI(O)(g)}),g.isStopped()},xV=(s,l,h,g)=>O8(s,l,h,h.target,g),O8=(s,l,h,g,E)=>{const O=T8(h,g);return TV(s,l,h,g,O,E)},eoe=(s,l)=>({element:s,descHandler:l}),toe=(s,l)=>({id:s,descHandler:l}),noe=()=>{const s={},l=(R,G,K)=>{Ks(K,(oe,fe)=>{const ve=s[fe]!==void 0?s[fe]:{};ve[G]=_I(oe,R),s[fe]=ve})},h=(R,G)=>rm(G).bind(K=>cn(R,K)).map(K=>eoe(G,K));return{registerId:l,unregisterId:R=>{Ks(s,(G,K)=>{ro(G,R)&&delete G[R]})},filterByType:R=>cn(s,R).map(G=>to(G,(K,oe)=>toe(oe,K))).getOr([]),find:(R,G,K)=>cn(s,G).bind(oe=>Bu(K,fe=>h(oe,fe),R))}},I8=()=>{const s=noe(),l={},h=oe=>{const fe=oe.element;return rm(fe).getOrThunk(()=>EI("uid-",oe.element))},g=(oe,fe)=>{const ve=l[fe];if(ve===oe)O(oe);else throw new Error('The tagId "'+fe+'" is already used by: '+Eh(ve.element)+`
Cannot use it for: `+Eh(oe.element)+`
The conflicting element is`+(qr(ve.element)?" ":" not ")+"already in the DOM")},E=oe=>{const fe=h(oe);Xn(l,fe)&&g(oe,fe);const ve=[oe];s.registerId(ve,fe,oe.events),l[fe]=oe},O=oe=>{rm(oe.element).each(fe=>{delete l[fe],s.unregisterId(fe)})};return{find:(oe,fe,ve)=>s.find(oe,fe,ve),filter:oe=>s.filterByType(oe),register:E,unregister:O,getById:oe=>cn(l,oe)}},OV=s=>{const l=st=>Yn(s.element).fold(gt,yt=>xe(st,yt)),h=I8(),g=(st,yt)=>h.find(l,st,yt),E=A8(s.element,{triggerEvent:(st,yt)=>Yv(st,yt.target,_t=>xV(g,st,yt,_t))}),O={debugInfo:F("real"),triggerEvent:(st,yt,_t)=>{Yv(st,yt,Qt=>O8(g,st,_t,yt,Qt))},triggerFocus:(st,yt)=>{rm(st).fold(()=>{ra(st)},_t=>{Yv(vp(),st,Qt=>(x8(g,vp(),{originator:yt,kill:ie,prevent:ie,target:st},st,Qt),!1))})},triggerEscape:(st,yt)=>{O.triggerEvent("keydown",st.element,yt.event)},getByUid:st=>nt(st),getByDom:st=>pt(st),build:k,buildOrPatch:w,addToGui:st=>{K(st)},removeFromGui:st=>{oe(st)},addToWorld:st=>{R(st)},removeFromWorld:st=>{G(st)},broadcast:st=>{De(st)},broadcastOn:(st,yt)=>{Ue(st,yt)},broadcastEvent:(st,yt)=>{He(st,yt)},isConnected:gt},R=st=>{st.connect(O),jh(st.element)||(h.register(st),Tn(st.components(),R),O.triggerEvent(XS(),st.element,{target:st.element}))},G=st=>{jh(st.element)||(Tn(st.components(),G),h.unregister(st)),st.disconnect()},K=st=>{rb(s,st)},oe=st=>{ib(st)},fe=()=>{E.unbind(),Vd(s.element)},ve=st=>{const yt=h.filter(Yp());Tn(yt,_t=>{const Qt=_t.descHandler;AI(Qt)(st)})},De=st=>{ve({universal:!0,data:st})},Ue=(st,yt)=>{ve({universal:!1,channels:st,data:yt})},He=(st,yt)=>{const _t=h.filter(st);return Qne(_t,yt)},nt=st=>h.getById(st).fold(()=>zo.error(new Error('Could not find component with uid: "'+st+'" in system.')),zo.value),pt=st=>{const yt=rm(st).getOr("not found");return nt(yt)};return R(s),{root:s,element:s.element,destroy:fe,add:K,remove:oe,getByUid:nt,getByDom:pt,addToWorld:R,removeFromWorld:G,broadcast:De,broadcastOn:Ue,broadcastEvent:He}},IT=()=>{const s=(l,h)=>{h.stop(),aw(l)};return[pn(Ym(),s),pn(Xp(),s),x1(zg()),x1(vd())]},UM=s=>{const l=h=>m0((g,E)=>{h(g),E.stop()});return Ra(fn([s.map(l).toArray(),IT()]))},eh=cm({name:"Button",factory:s=>{const l=UM(s.action),h=s.dom.tag,g=O=>cn(s.dom,"attributes").bind(R=>cn(R,O)),E=()=>{if(h==="button"){const O=g("type").getOr("button"),R=g("role").map(G=>({role:G})).getOr({});return{type:O,...R}}else return{role:s.role.getOr(g("role").getOr("button"))}};return{uid:s.uid,dom:s.dom,components:s.components,events:l,behaviours:lm.augment(s.buttonBehaviours,[js.config({}),os.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:E()},eventOrder:s.eventOrder}},configFields:[Wt("uid",void 0),kn("dom"),Wt("components",[]),lm.field("buttonBehaviours",[js,os]),bi("action"),bi("role"),Wt("eventOrder",{})]}),IV=F([Wt("shell",!1),kn("makeItem"),Wt("setupItem",ie),lm.field("listBehaviours",[Ws])]),ooe=m({name:"items",overrides:()=>({behaviours:oo([Ws.config({})])})}),soe=F([ooe]),roe=F("CustomList"),ioe=(s,l,h,g)=>{const E=(G,K)=>{R(G).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},oe=>{const fe=Ws.contents(oe),ve=K.length,De=ve-fe.length,Ue=De>0?jn(De,()=>s.makeItem()):[],He=fe.slice(ve);Tn(He,pt=>Ws.remove(oe,pt)),Tn(Ue,pt=>Ws.append(oe,pt));const nt=Ws.contents(oe);Tn(nt,(pt,st)=>{s.setupItem(G,pt,K[st],st)})})},O=s.shell?{behaviours:[Ws.config({})],components:[]}:{behaviours:[],components:l},R=G=>s.shell?te.some(G):Ee(G,s,"items");return{uid:s.uid,dom:s.dom,components:O.components,behaviours:pu(s.listBehaviours,O.behaviours),apis:{setItems:E}}},RV=nf({name:roe(),configFields:IV(),partFields:soe(),factory:ioe,apis:{setItems:(s,l,h)=>{s.setItems(l,h)}}}),ZI="aria-controls",aoe=s=>Bv(s,h=>{if(!Dc(h))return!1;const g=pl(h,"id");return g!==void 0&&g.indexOf(ZI)>-1}).bind(h=>{const g=pl(h,"id"),E=oa(h);return ui(E,`[${ZI}="${g}"]`)}),R8=()=>{const s=yo(ZI);return{id:s,link:g=>{cs(g,ZI,s)},unlink:g=>{ia(g,ZI)}}},k8=(s,l)=>aoe(l).exists(h=>jw(s,h)),jw=(s,l)=>Gb(l,h=>xe(h,s.element),mt)||k8(s,l),D8="alloy.item-hover",kV="alloy.item-focus",M8="alloy.item-toggled",DV=s=>{(Wa(s.element).isNone()||js.isFocused(s))&&(js.isFocused(s)||js.focus(s),ms(s,D8,{item:s}))},MV=s=>{ms(s,kV,{item:s})},PV=(s,l)=>{ms(s,M8,{item:s,state:l})},P8=F(D8),N8=F(kV),loe=F(M8),KI=s=>s.role.fold(()=>s.toggling.map(l=>l.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),Ie),coe=(s,l)=>({aria:{mode:l?"selected":"checked"},...tn(s,(h,g)=>g!=="exclusive"),onToggled:(h,g)=>{Z(s.onToggled)&&s.onToggled(h,g),PV(h,g)}}),uoe=s=>({dom:s.dom,domModification:{...s.domModification,attributes:{role:KI(s),...s.domModification.attributes,"aria-haspopup":s.hasSubmenu,...s.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:lm.augment(s.itemBehaviours,[s.toggling.fold(Pr.revoke,l=>Pr.config(coe(l,s.role.exists(h=>h==="option")))),js.config({ignore:s.ignoreFocus,stopMousedown:s.ignoreFocus,onFocus:l=>{MV(l)}}),os.config({mode:"execution"}),Co.config({store:{mode:"memory",initialValue:s.data}}),$s("item-type-events",[...IT(),pn(Of(),DV),pn(l0(),js.focus)])]),components:s.components,eventOrder:s.eventOrder});var NV=[kn("data"),kn("components"),kn("dom"),Wt("hasSubmenu",!1),bi("toggling"),bi("role"),lm.field("itemBehaviours",[Pr,js,os,Co]),Wt("ignoreFocus",!1),Wt("domModification",{}),la("builder",uoe),Wt("eventOrder",{})];const L8=s=>({dom:s.dom,components:s.components,events:Ra([WO(l0())])});var LV=[kn("dom"),kn("components"),la("builder",L8)];const BV=F("item-widget"),VV=F([zu({name:"widget",overrides:s=>({behaviours:oo([Co.config({store:{mode:"manual",getValue:l=>s.data,setValue:ie}})])})})]),zM=s=>{const l=he(BV(),s,VV()),h=ye(BV(),s,l.internals()),g=O=>Ee(O,s,"widget").map(R=>(os.focusIn(R),R)),E=(O,R)=>eb(R.event.target)?te.none():(s.autofocus&&R.setSource(O.element),te.none());return{dom:s.dom,components:h,domModification:s.domModification,events:Ra([m0((O,R)=>{g(O).each(G=>{R.stop()})}),pn(Of(),DV),pn(l0(),(O,R)=>{s.autofocus?g(O):js.focus(O)})]),behaviours:lm.augment(s.widgetBehaviours,[Co.config({store:{mode:"memory",initialValue:s.data}}),js.config({ignore:s.ignoreFocus,onFocus:O=>{MV(O)}}),os.config({mode:"special",focusIn:s.autofocus?O=>{g(O)}:fD(),onLeft:E,onRight:E,onEscape:(O,R)=>!js.isFocused(O)&&!s.autofocus?(js.focus(O),te.some(!0)):(s.autofocus&&R.setSource(O.element),te.none())})])}};var B8=[kn("uid"),kn("data"),kn("components"),kn("dom"),Wt("autofocus",!1),Wt("ignoreFocus",!1),lm.field("widgetBehaviours",[Co,js,os]),Wt("domModification",{}),Tt(VV()),la("builder",zM)];const hoe=md("type",{widget:B8,item:NV,separator:LV}),foe=(s,l)=>({mode:"flatgrid",selector:"."+s.markers.item,initSize:{numColumns:l.initSize.numColumns,numRows:l.initSize.numRows},focusManager:s.focusManager}),poe=(s,l)=>({mode:"matrix",selectors:{row:l.rowSelector,cell:"."+s.markers.item},previousSelector:l.previousSelector,focusManager:s.focusManager}),moe=(s,l)=>({mode:"menu",selector:"."+s.markers.item,moveOnTab:l.moveOnTab,focusManager:s.focusManager}),goe=F([C({factory:{sketch:s=>{const l=pd("menu.spec item",hoe,s);return l.builder(l)}},name:"items",unit:"item",defaults:(s,l)=>ro(l,"uid")?l:{...l,uid:V1("item")},overrides:(s,l)=>({type:l.type,ignoreFocus:s.fakeFocus,domModification:{classes:[s.markers.item]}})})]),voe=F([al("role"),kn("value"),kn("items"),kn("dom"),kn("components"),Wt("eventOrder",{}),fu("menuBehaviours",[fi,Co,yn,os]),gd("movement",{mode:"menu",moveOnTab:!0},md("mode",{grid:[y1(),la("config",foe)],matrix:[la("config",poe),kn("rowSelector"),Wt("previousSelector",te.none)],menu:[Wt("moveOnTab",!0),la("config",moe)]})),TA(),Wt("fakeFocus",!1),Wt("focusManager",ZA()),Dr("onHighlight"),Dr("onDehighlight"),Wt("showMenuRole",!0)]),V8=F("alloy.menu-focus"),boe=(s,l)=>{const h=Ri(s.element,'[role="menuitemradio"][aria-checked="true"]');Tn(h,g=>{xe(g,l.element)||s.getSystem().getByDom(g).each(E=>{Pr.off(E)})})},yoe=(s,l,h,g)=>({uid:s.uid,dom:s.dom,markers:s.markers,behaviours:pu(s.menuBehaviours,[fi.config({highlightClass:s.markers.selectedItem,itemClass:s.markers.item,onHighlight:s.onHighlight,onDehighlight:s.onDehighlight}),Co.config({store:{mode:"memory",initialValue:s.value}}),yn.config({find:te.some}),os.config(s.movement.config(s,s.movement))]),events:Ra([pn(N8(),(E,O)=>{const R=O.event;E.getSystem().getByDom(R.target).each(G=>{fi.highlight(E,G),O.stop(),ms(E,V8(),{menu:E,item:G})})}),pn(P8(),(E,O)=>{const R=O.event.item;fi.highlight(E,R)}),pn(loe(),(E,O)=>{const{item:R,state:G}=O.event;G&&pl(R.element,"role")==="menuitemradio"&&boe(E,R)})]),components:l,eventOrder:s.eventOrder,...s.showMenuRole?{domModification:{attributes:{role:s.role.getOr("menu")}}}:{}}),W1=nf({name:"Menu",configFields:voe(),partFields:goe(),factory:yoe}),FV=s=>Xo(s,(l,h)=>({k:l,v:h})),HV=(s,l,h,g)=>cn(h,g).bind(E=>cn(s,E).bind(O=>{const R=HV(s,l,h,O);return te.some([O].concat(R))})).getOr([]),Soe=(s,l)=>{const h={};Ks(s,(R,G)=>{Tn(R,K=>{h[K]=G})});const g=l,E=FV(l),O=Ls(E,(R,G)=>[G].concat(HV(h,g,E,G)));return Ls(h,R=>cn(O,R).getOr([R]))},Coe=()=>{const s=$n({}),l=$n({}),h=$n({}),g=Ss(),E=$n({}),O=()=>{s.set({}),l.set({}),h.set({}),g.clear()},R=()=>g.get().isNone(),G=(nn,So)=>{l.set({...l.get(),[nn]:{type:"prepared",menu:So}})},K=(nn,So,Hn,Wn)=>{g.set(nn),s.set(Hn),l.set(So),E.set(Wn);const Bn=Soe(Wn,Hn);h.set(Bn)},oe=nn=>go(s.get(),(So,Hn)=>So===nn),fe=(nn,So,Hn)=>nt(nn).bind(Wn=>oe(nn).bind(Bn=>So(Bn).map(ds=>({triggeredMenu:Wn,triggeringItem:ds,triggeringPath:Hn})))),ve=(nn,So)=>{const Hn=vs(st(nn).toArray(),Wn=>nt(Wn).isSome());return cn(h.get(),nn).bind(Wn=>{const Bn=Yt(Hn.concat(Wn)),ds=ct(Bn,(Zo,kr)=>fe(Zo,So,Bn.slice(0,kr+1)).fold(()=>Fc(g.get(),Zo)?[]:[te.none()],As=>[te.some(As)]));return dh(ds)})},De=nn=>cn(s.get(),nn).map(So=>{const Hn=cn(h.get(),nn).getOr([]);return[So].concat(Hn)}),Ue=nn=>cn(h.get(),nn).bind(So=>So.length>1?te.some(So.slice(1)):te.none()),He=nn=>cn(h.get(),nn),nt=nn=>pt(nn).bind($V),pt=nn=>cn(l.get(),nn),st=nn=>cn(s.get(),nn);return{setMenuBuilt:G,setContents:K,expand:De,refresh:He,collapse:Ue,lookupMenu:pt,lookupItem:st,otherMenus:nn=>{const So=E.get();return Ge(Ao(So),nn)},getPrimary:()=>g.get().bind(nt),getMenus:()=>l.get(),clear:O,isClear:R,getTriggeringPath:ve}},$V=s=>s.type==="prepared"?te.some(s.menu):te.none(),F8={init:Coe,extractPreparedMenu:$V},H8=yo("tiered-menu-item-highlight"),UV=yo("tiered-menu-item-dehighlight"),$8=(s,l)=>{const h=Ss(),g=(Nn,fo,Is)=>Ls(Is,(er,Qo)=>{const Qs=()=>W1.sketch({...er,value:Qo,markers:s.markers,fakeFocus:s.fakeFocus,onHighlight:(pi,si)=>{ms(pi,H8,{menuComp:pi,itemComp:si})},onDehighlight:(pi,si)=>{ms(pi,UV,{menuComp:pi,itemComp:si})},focusManager:s.fakeFocus?nI():ZA()});return Qo===fo?{type:"prepared",menu:Nn.getSystem().build(Qs())}:{type:"notbuilt",nbMenu:Qs}}),E=F8.init(),O=Nn=>{const fo=g(Nn,s.data.primary,s.data.menus),Is=K();return E.setContents(s.data.primary,fo,s.data.expansions,Is),E.getPrimary()},R=Nn=>Co.getValue(Nn).value,G=(Nn,fo,Is)=>Rs(fo,er=>{if(!er.getSystem().isConnected())return te.none();const Qo=fi.getCandidates(er);return zt(Qo,Qs=>R(Qs)===Is)}),K=Nn=>Ls(s.data.menus,(fo,Is)=>ct(fo.items,er=>er.type==="separator"?[]:[er.data.value])),oe=fi.highlight,fe=(Nn,fo)=>{oe(Nn,fo),fi.getHighlighted(fo).orThunk(()=>fi.getFirst(fo)).each(Is=>{s.fakeFocus?fi.highlight(fo,Is):UA(Nn,Is.element,l0())})},ve=(Nn,fo)=>xu(qt(fo,Is=>Nn.lookupMenu(Is).bind(er=>er.type==="prepared"?te.some(er.menu):te.none()))),De=(Nn,fo,Is)=>{const er=ve(fo,fo.otherMenus(Is));Tn(er,Qo=>{Pc(Qo.element,[s.markers.backgroundMenu]),s.stayInDom||Ws.remove(Nn,Qo)})},Ue=Nn=>h.get().getOrThunk(()=>{const fo={},Is=Ri(Nn.element,`.${s.markers.item}`),er=vs(Is,Qo=>pl(Qo,"aria-haspopup")==="true");return Tn(er,Qo=>{Nn.getSystem().getByDom(Qo).each(Qs=>{const pi=R(Qs);fo[pi]=Qs})}),h.set(fo),fo}),He=(Nn,fo)=>{const Is=Ue(Nn);Ks(Is,(er,Qo)=>{const Qs=Cn(fo,Qo);cs(er.element,"aria-expanded",Qs)})},nt=(Nn,fo,Is)=>te.from(Is[0]).bind(er=>fo.lookupMenu(er).bind(Qo=>{if(Qo.type==="notbuilt")return te.none();{const Qs=Qo.menu,pi=ve(fo,Is.slice(1));return Tn(pi,si=>{Ii(si.element,s.markers.backgroundMenu)}),qr(Qs.element)||Ws.append(Nn,z(Qs)),Pc(Qs.element,[s.markers.backgroundMenu]),fe(Nn,Qs),De(Nn,fo,Is),te.some(Qs)}}));let pt;(function(Nn){Nn[Nn.HighlightSubmenu=0]="HighlightSubmenu",Nn[Nn.HighlightParent=1]="HighlightParent"})(pt||(pt={}));const st=(Nn,fo,Is)=>{if(Is.type==="notbuilt"){const er=Nn.getSystem().build(Is.nbMenu());return E.setMenuBuilt(fo,er),er}else return Is.menu},yt=(Nn,fo,Is=pt.HighlightSubmenu)=>{if(fo.hasConfigured(Jo)&&Jo.isDisabled(fo))return te.some(fo);{const er=R(fo);return E.expand(er).bind(Qo=>(He(Nn,Qo),te.from(Qo[0]).bind(Qs=>E.lookupMenu(Qs).bind(pi=>{const si=st(Nn,Qs,pi);return qr(si.element)||Ws.append(Nn,z(si)),s.onOpenSubmenu(Nn,fo,si,Yt(Qo)),Is===pt.HighlightSubmenu?(fi.highlightFirst(si),nt(Nn,E,Qo)):(fi.dehighlightAll(si),te.some(fo))}))))}},_t=(Nn,fo)=>{const Is=R(fo);return E.collapse(Is).bind(er=>(He(Nn,er),nt(Nn,E,er).map(Qo=>(s.onCollapseMenu(Nn,fo,Qo),Qo))))},Qt=(Nn,fo)=>{const Is=R(fo);return E.refresh(Is).bind(er=>(He(Nn,er),nt(Nn,E,er)))},nn=(Nn,fo)=>eb(fo.element)?te.none():yt(Nn,fo,pt.HighlightSubmenu),So=(Nn,fo)=>eb(fo.element)?te.none():_t(Nn,fo),Hn=(Nn,fo)=>_t(Nn,fo).orThunk(()=>s.onEscape(Nn,fo).map(()=>Nn)),Wn=Nn=>(fo,Is)=>vl(Is.getSource(),`.${s.markers.item}`).bind(er=>fo.getSystem().getByDom(er).toOptional().bind(Qo=>Nn(fo,Qo).map(gt))),Bn=Ra([pn(V8(),(Nn,fo)=>{const Is=fo.event.item;E.lookupItem(R(Is)).each(()=>{const er=fo.event.menu;fi.highlight(Nn,er);const Qo=R(fo.event.item);E.refresh(Qo).each(Qs=>De(Nn,E,Qs))})}),m0((Nn,fo)=>{const Is=fo.event.target;Nn.getSystem().getByDom(Is).each(er=>{R(er).indexOf("collapse-item")===0&&_t(Nn,er),yt(Nn,er,pt.HighlightSubmenu).fold(()=>{s.onExecute(Nn,er)},ie)})}),Ea((Nn,fo)=>{O(Nn).each(Is=>{Ws.append(Nn,z(Is)),s.onOpenMenu(Nn,Is),s.highlightOnOpen===Wd.HighlightMenuAndItem?fe(Nn,Is):s.highlightOnOpen===Wd.HighlightJustMenu&&oe(Nn,Is)})}),pn(H8,(Nn,fo)=>{s.onHighlightItem(Nn,fo.event.menuComp,fo.event.itemComp)}),pn(UV,(Nn,fo)=>{s.onDehighlightItem(Nn,fo.event.menuComp,fo.event.itemComp)}),...s.navigateOnHover?[pn(P8(),(Nn,fo)=>{const Is=fo.event.item;Qt(Nn,Is),yt(Nn,Is,pt.HighlightParent),s.onHover(Nn,Is)})]:[]]),ds=Nn=>fi.getHighlighted(Nn).bind(fi.getHighlighted),Zo=Nn=>{ds(Nn).each(fo=>{_t(Nn,fo)})},kr=Nn=>{E.getPrimary().each(fo=>{fe(Nn,fo)})},As=Nn=>te.from(Nn.components()[0]).filter(fo=>pl(fo.element,"role")==="menu"),Wo={collapseMenu:Zo,highlightPrimary:kr,repositionMenus:Nn=>{E.getPrimary().bind(Is=>ds(Nn).bind(er=>{const Qo=R(er),Qs=To(E.getMenus()),pi=xu(qt(Qs,F8.extractPreparedMenu));return E.getTriggeringPath(Qo,si=>G(Nn,pi,si))}).map(er=>({primary:Is,triggeringPath:er}))).fold(()=>{As(Nn).each(Is=>{s.onRepositionMenu(Nn,Is,[])})},({primary:Is,triggeringPath:er})=>{s.onRepositionMenu(Nn,Is,er)})}};return{uid:s.uid,dom:s.dom,markers:s.markers,behaviours:pu(s.tmenuBehaviours,[os.config({mode:"special",onRight:Wn(nn),onLeft:Wn(So),onEscape:Wn(Hn),focusIn:(Nn,fo)=>{E.getPrimary().each(Is=>{UA(Nn,Is.element,l0())})}}),fi.config({highlightClass:s.markers.selectedMenu,itemClass:s.markers.menu}),yn.config({find:Nn=>fi.getHighlighted(Nn)}),Ws.config({})]),eventOrder:s.eventOrder,apis:Wo,events:Bn}},U8=F("collapse-item"),Eoe=(s,l,h)=>({primary:s,menus:l,expansions:h}),woe=(s,l)=>({primary:s,menus:Ug(s,l),expansions:{}}),_oe=s=>({value:yo(U8()),meta:{text:s}}),MC=cm({name:"TieredMenu",configFields:[eC("onExecute"),eC("onEscape"),b1("onOpenMenu"),b1("onOpenSubmenu"),Dr("onRepositionMenu"),Dr("onCollapseMenu"),Wt("highlightOnOpen",Wd.HighlightMenuAndItem),Km("data",[kn("primary"),kn("menus"),kn("expansions")]),Wt("fakeFocus",!1),Dr("onHighlightItem"),Dr("onDehighlightItem"),Dr("onHover"),QE(),kn("dom"),Wt("navigateOnHover",!0),Wt("stayInDom",!1),fu("tmenuBehaviours",[os,fi,yn,Ws]),Wt("eventOrder",{})],apis:{collapseMenu:(s,l)=>{s.collapseMenu(l)},highlightPrimary:(s,l)=>{s.highlightPrimary(l)},repositionMenus:(s,l)=>{s.repositionMenus(l)}},factory:$8,extraApis:{tieredData:Eoe,singleData:woe,collapseItem:_oe}}),jM=F("sink"),Aoe=F(m({name:jM(),overrides:F({dom:{tag:"div"},behaviours:oo([Th.config({useFixed:gt})]),events:Ra([x1(lc()),x1(vd()),x1(Ym())])})})),Toe=yh([Wt("isExtraPart",mt),Sh("fireEventInstead",[Wt("event",Zg())])]),zV=s=>{const l=pd("Dismissal",Toe,s);return{[v0()]:{schema:yh([kn("target")]),onReceive:(h,g)=>{ni.isOpen(h)&&(ni.isPartOf(h,g.target)||l.isExtraPart(h,g.target)||l.fireEventInstead.fold(()=>ni.close(h),O=>wr(h,O.event)))}}}},xoe=yh([Sh("fireEventInstead",[Wt("event",yA())]),Qh("doReposition")]),jV=s=>{const l=pd("Reposition",xoe,s);return{[yd()]:{onReceive:h=>{ni.isOpen(h)&&l.fireEventInstead.fold(()=>l.doReposition(h),g=>wr(h,g.event))}}}},z8=(s,l)=>{const h=s.getHotspot(l).getOr(l),g="hotspot",E=s.getAnchorOverrides();return s.layouts.fold(()=>({type:g,hotspot:h,overrides:E}),O=>({type:g,hotspot:h,overrides:E,layouts:O}))},j8=(s,l,h)=>{const g=s.fetch;return g(h).map(l)},W8=(s,l,h,g,E,O,R)=>{const G=j8(s,l,g),K=cv(g,s);return G.map(oe=>oe.bind(fe=>{const ve=fe.menus[fe.primary];return te.from(ve).each(De=>{s.listRole.each(Ue=>{De.role=Ue})}),te.from(MC.sketch({...O.menu(),uid:V1(""),data:fe,highlightOnOpen:R,onOpenMenu:(De,Ue)=>{const He=K().getOrDie();Th.position(He,Ue,{anchor:h}),ni.decloak(E)},onOpenSubmenu:(De,Ue,He)=>{const nt=K().getOrDie();Th.position(nt,He,{anchor:{type:"submenu",item:Ue}}),ni.decloak(E)},onRepositionMenu:(De,Ue,He)=>{const nt=K().getOrDie();Th.position(nt,Ue,{anchor:h}),Tn(He,pt=>{Th.position(nt,pt.triggeredMenu,{anchor:{type:"submenu",item:pt.triggeringItem}})})},onEscape:()=>(js.focus(g),ni.close(E),te.some(!0))}))}))},WM=(s,l,h,g,E,O,R)=>{const G=z8(s,h);return W8(s,l,G,h,g,E,R).map(oe=>(oe.fold(()=>{ni.isOpen(g)&&ni.close(g)},fe=>{ni.cloak(g),ni.open(g,fe),O(g)}),g))},Ooe=(s,l,h,g,E,O,R)=>(ni.close(g),Vs.pure(g)),G8=(s,l,h,g,E,O)=>{const R=tr.getCoupled(h,"sandbox");return(ni.isOpen(R)?Ooe:WM)(s,l,h,R,g,E,O)},hm=(s,l,h)=>{const g=yn.getCurrent(l).getOr(l),E=Ac(s.element);h?xs(g.element,"min-width",E+"px"):bh(g.element,E)},cv=(s,l)=>s.getSystem().getByUid(l.uid+"-"+jM()).map(h=>()=>zo.value(h)).getOrThunk(()=>l.lazySink.fold(()=>()=>zo.error(new Error("No internal sink is specified, nor could an external sink be found")),h=>()=>h(s))),WV=s=>{ni.getState(s).each(l=>{MC.repositionMenus(l)})},GM=(s,l,h)=>{const g=R8(),E=(G,K)=>{const oe=z8(s,l);g.link(l.element),s.matchWidth&&hm(oe.hotspot,K,s.useMinWidth),s.onOpen(oe,G,K),h!==void 0&&h.onOpen!==void 0&&h.onOpen(G,K)},O=(G,K)=>{g.unlink(l.element),R().getOr(K).element.dom.dispatchEvent(new window.FocusEvent("focusout")),h!==void 0&&h.onClose!==void 0&&h.onClose(G,K)},R=cv(l,s);return{dom:{tag:"div",classes:s.sandboxClasses,attributes:{id:g.id}},behaviours:lm.augment(s.sandboxBehaviours,[Co.config({store:{mode:"memory",initialValue:l}}),ni.config({onOpen:E,onClose:O,isPartOf:(G,K,oe)=>jw(K,oe)||jw(l,oe),getAttachPoint:()=>R().getOrDie()}),yn.config({find:G=>ni.getState(G).bind(K=>yn.getCurrent(K))}),um.config({channels:{...zV({isExtraPart:mt}),...jV({doReposition:WV})}})])}},GV=s=>{const l=tr.getCoupled(s,"sandbox");WV(l)},YI=()=>[Wt("sandboxClasses",[]),lm.field("sandboxBehaviours",[yn,um,ni,Co])],Ioe=F([kn("dom"),kn("fetch"),Dr("onOpen"),Xl("onExecute"),Wt("getHotspot",te.some),Wt("getAnchorOverrides",F({})),Fw(),fu("dropdownBehaviours",[Pr,tr,os,js]),kn("toggleClass"),Wt("eventOrder",{}),bi("lazySink"),Wt("matchWidth",!1),Wt("useMinWidth",!1),bi("role"),bi("listRole")].concat(YI())),q8=F([ee({schema:[QE(),Wt("fakeFocus",!1)],name:"menu",defaults:s=>({onExecute:s.onExecute})}),Aoe()]),XI=(s,l,h,g)=>{const E=fe=>cn(s.dom,"attributes").bind(ve=>cn(ve,fe)),O=fe=>{ni.getState(fe).each(ve=>{MC.highlightPrimary(ve)})},R=(fe,ve,De)=>G8(s,Ie,fe,g,ve,De),G=fe=>{R(fe,O,Wd.HighlightMenuAndItem).get(ie)},K={expand:fe=>{Pr.isOn(fe)||R(fe,ie,Wd.HighlightNone).get(ie)},open:fe=>{Pr.isOn(fe)||R(fe,ie,Wd.HighlightMenuAndItem).get(ie)},refetch:fe=>tr.getExistingCoupled(fe,"sandbox").fold(()=>R(fe,ie,Wd.HighlightMenuAndItem).map(ie),De=>WM(s,Ie,fe,De,g,ie,Wd.HighlightMenuAndItem).map(ie)),isOpen:Pr.isOn,close:fe=>{Pr.isOn(fe)&&R(fe,ie,Wd.HighlightMenuAndItem).get(ie)},repositionMenus:fe=>{Pr.isOn(fe)&&GV(fe)}},oe=(fe,ve)=>(aw(fe),te.some(!0));return{uid:s.uid,dom:s.dom,components:l,behaviours:pu(s.dropdownBehaviours,[Pr.config({toggleClass:s.toggleClass,aria:{mode:"expanded"}}),tr.config({others:{sandbox:fe=>GM(s,fe,{onOpen:()=>Pr.on(fe),onClose:()=>Pr.off(fe)})}}),os.config({mode:"special",onSpace:oe,onEnter:oe,onDown:(fe,ve)=>{if(fm.isOpen(fe)){const De=tr.getCoupled(fe,"sandbox");O(De)}else fm.open(fe);return te.some(!0)},onEscape:(fe,ve)=>fm.isOpen(fe)?(fm.close(fe),te.some(!0)):te.none()}),js.config({})]),events:UM(te.some(G)),eventOrder:{...s.eventOrder,[uu()]:["disabling","toggling","alloy.base.behaviour"]},apis:K,domModification:{attributes:{"aria-haspopup":s.listRole.getOr("true"),...s.role.fold(()=>({}),fe=>({role:fe})),...s.dom.tag==="button"?{type:E("type").getOr("button")}:{}}}}},fm=nf({name:"Dropdown",configFields:Ioe(),partFields:q8(),factory:XI,apis:{open:(s,l)=>s.open(l),refetch:(s,l)=>s.refetch(l),expand:(s,l)=>s.expand(l),close:(s,l)=>s.close(l),isOpen:(s,l)=>s.isOpen(l),repositionMenus:(s,l)=>s.repositionMenus(l)}}),JI="form",qV=[fu("formBehaviours",[Co])],ZV=s=>"<alloy.field."+s+">",QI=s=>{const l=(()=>{const O=[];return{field:(G,K)=>(O.push(G),Q(JI,ZV(G),K)),record:F(O)}})(),h=s(l),g=l.record(),E=qt(g,O=>zu({name:O,pname:ZV(O)}));return TB(JI,qV,E,koe,h)},Roe=(s,l)=>s.fold(()=>zo.error(l),zo.value),koe=(s,l)=>({uid:s.uid,dom:s.dom,components:l,behaviours:pu(s.formBehaviours,[Co.config({store:{mode:"manual",getValue:h=>{const g=Me(h,s);return Ls(g,(E,O)=>E().bind(R=>{const G=yn.getCurrent(R);return Roe(G,new Error(`Cannot find a current component to extract the value from for form part '${O}': `+Eh(R.element)))}).map(Co.getValue))},setValue:(h,g)=>{Ks(g,(E,O)=>{Ee(h,s,O).each(R=>{yn.getCurrent(R).each(G=>{Co.setValue(G,E)})})})}}})]),apis:{getField:(h,g)=>Ee(h,s,g).bind(yn.getCurrent)}}),Ep={getField:y0((s,l,h)=>s.getField(l,h)),sketch:QI},th=F([kn("dom"),Wt("shell",!0),fu("toolbarBehaviours",[Ws])]),pm=F([m({name:"groups",overrides:()=>({behaviours:oo([Ws.config({})])})})]),Doe=(s,l,h,g)=>{const E=(G,K)=>{O(G).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},oe=>{Ws.set(oe,K)})},O=G=>s.shell?te.some(G):Ee(G,s,"groups"),R=s.shell?{behaviours:[Ws.config({})],components:[]}:{behaviours:[],components:l};return{uid:s.uid,dom:s.dom,components:R.components,behaviours:pu(s.toolbarBehaviours,R.behaviours),apis:{setGroups:E,refresh:ie},domModification:{attributes:{role:"group"}}}},Si=nf({name:"Toolbar",configFields:th(),partFields:pm(),factory:Doe,apis:{setGroups:(s,l,h)=>{s.setGroups(l,h)}}}),Moe=F([_h(["toggledClass"]),kn("lazySink"),Qh("fetch"),qp("getBounds"),Sh("fireDismissalEventInstead",[Wt("event",Zg())]),Fw(),Dr("onToggled")]),G1=F([ee({name:"button",overrides:s=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:oo([Pr.config({toggleClass:s.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:s.onToggled})])})}),ee({factory:Si,schema:th(),name:"toolbar",overrides:s=>({toolbarBehaviours:oo([os.config({mode:"cyclic",onEscape:l=>(Ee(l,s,"button").each(js.focus),te.none())})])})})]),PC=Ss(),Z8=(s,l)=>{PC.set(!0),eR(s,l),PC.clear()},eR=(s,l)=>{const h=tr.getCoupled(s,"toolbarSandbox");ni.isOpen(h)?ni.close(h):ni.open(h,l.toolbar())},tR=(s,l,h,g)=>{const E=h.getBounds.map(R=>R()),O=h.lazySink(s).getOrDie();Th.positionWithinBounds(O,l,{anchor:{type:"hotspot",hotspot:s,layouts:g,overrides:{maxWidthFunction:HO()}}},E)},K8=(s,l,h,g,E)=>{Si.setGroups(l,E),tR(s,l,h,g),Pr.on(s)},KV=(s,l,h)=>{const g=R8(),E=(R,G)=>{const K=PC.get().getOr(!1);h.fetch().get(oe=>{K8(s,G,h,l.layouts,oe),g.link(s.element),K||os.focusIn(G)})},O=()=>{Pr.off(s),PC.get().getOr(!1)||js.focus(s),g.unlink(s.element)};return{dom:{tag:"div",attributes:{id:g.id}},behaviours:oo([os.config({mode:"special",onEscape:R=>(ni.close(R),te.some(!0))}),ni.config({onOpen:E,onClose:O,isPartOf:(R,G,K)=>jw(G,K)||jw(s,K),getAttachPoint:()=>h.lazySink(s).getOrDie()}),um.config({channels:{...zV({isExtraPart:mt,...h.fireDismissalEventInstead.map(R=>({fireEventInstead:{event:R.event}})).getOr({})}),...jV({doReposition:()=>{ni.getState(tr.getCoupled(s,"toolbarSandbox")).each(R=>{tR(s,R,h,l.layouts)})}})}})])}},q1=nf({name:"FloatingToolbarButton",factory:(s,l,h,g)=>({...eh.sketch({...g.button(),action:E=>{eR(E,g)},buttonBehaviours:lm.augment({dump:g.button().buttonBehaviours},[tr.config({others:{toolbarSandbox:E=>KV(E,h,s)}})])}),apis:{setGroups:(E,O)=>{ni.getState(tr.getCoupled(E,"toolbarSandbox")).each(R=>{K8(E,R,s,h.layouts,O)})},reposition:E=>{ni.getState(tr.getCoupled(E,"toolbarSandbox")).each(O=>{tR(E,O,s,h.layouts)})},toggle:E=>{eR(E,g)},toggleWithoutFocusing:E=>{Z8(E,g)},getToolbar:E=>ni.getState(tr.getCoupled(E,"toolbarSandbox")),isOpen:E=>ni.isOpen(tr.getCoupled(E,"toolbarSandbox"))}}),configFields:Moe(),partFields:G1(),apis:{setGroups:(s,l,h)=>{s.setGroups(l,h)},reposition:(s,l)=>{s.reposition(l)},toggle:(s,l)=>{s.toggle(l)},toggleWithoutFocusing:(s,l)=>{s.toggleWithoutFocusing(l)},getToolbar:(s,l)=>s.getToolbar(l),isOpen:(s,l)=>s.isOpen(l)}}),Y8=F([Wt("prefix","form-field"),fu("fieldBehaviours",[yn,Co])]),YV=F([m({schema:[kn("dom")],name:"label"}),m({factory:{sketch:s=>({uid:s.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:s.text}})},schema:[kn("text")],name:"aria-descriptor"}),zu({factory:{sketch:s=>{const l=ZE(s,["factory"]);return s.factory.sketch(l)}},schema:[kn("factory")],name:"field"})]),X8=(s,l,h,g)=>{const E=pu(s.fieldBehaviours,[yn.config({find:G=>Ee(G,s,"field")}),Co.config({store:{mode:"manual",getValue:G=>yn.getCurrent(G).bind(Co.getValue),setValue:(G,K)=>{yn.getCurrent(G).each(oe=>{Co.setValue(oe,K)})}}})]),O=Ra([Ea((G,K)=>{const oe=Le(G,s,["label","field","aria-descriptor"]);oe.field().each(fe=>{const ve=yo(s.prefix);oe.label().each(De=>{cs(De.element,"for",ve),cs(fe.element,"id",ve)}),oe["aria-descriptor"]().each(De=>{const Ue=yo(s.prefix);cs(De.element,"id",Ue),cs(fe.element,"aria-describedby",Ue)})})})]),R={getField:G=>Ee(G,s,"field"),getLabel:G=>Ee(G,s,"label")};return{uid:s.uid,dom:s.dom,components:l,behaviours:E,events:O,apis:R}},Cr=nf({name:"FormField",configFields:Y8(),partFields:YV(),factory:X8,apis:{getField:(s,l)=>s.getField(l),getLabel:(s,l)=>s.getLabel(l)}}),Poe=F([Wt("field1Name","field1"),Wt("field2Name","field2"),b1("onLockedChange"),_h(["lockClass"]),Wt("locked",!1),lm.field("coupledFieldBehaviours",[yn,Co]),yi("onInput",ie)]),Noe=(s,l,h)=>Ee(s,l,h).bind(yn.getCurrent),J8=(s,l)=>zu({factory:Cr,name:s,overrides:h=>({fieldBehaviours:oo([$s("coupled-input-behaviour",[pn(Zp(),g=>{Noe(g,h,l).each(E=>{Ee(g,h,"lock").each(O=>{Pr.isOn(O)&&h.onLockedChange(g,E,O),h.onInput(g)})})})])])})}),Loe=F([J8("field1","field2"),J8("field2","field1"),zu({factory:eh,schema:[kn("dom")],name:"lock",overrides:s=>({buttonBehaviours:oo([Pr.config({selected:s.locked,toggleClass:s.markers.lockClass,aria:{mode:"pressed"}})])})})]),Boe=(s,l,h,g)=>({uid:s.uid,dom:s.dom,components:l,behaviours:lm.augment(s.coupledFieldBehaviours,[yn.config({find:te.some}),Co.config({store:{mode:"manual",getValue:E=>{const O=Ye(E,s,["field1","field2"]);return{[s.field1Name]:Co.getValue(O.field1()),[s.field2Name]:Co.getValue(O.field2())}},setValue:(E,O)=>{const R=Ye(E,s,["field1","field2"]);Xn(O,s.field1Name)&&Co.setValue(R.field1(),O[s.field1Name]),Xn(O,s.field2Name)&&Co.setValue(R.field2(),O[s.field2Name])}}})]),apis:{getField1:E=>Ee(E,s,"field1"),getField2:E=>Ee(E,s,"field2"),getLock:E=>Ee(E,s,"lock")}}),Hl=nf({name:"FormCoupledInputs",configFields:Poe(),partFields:Loe(),factory:Boe,apis:{getField1:(s,l)=>s.getField1(l),getField2:(s,l)=>s.getField2(l),getLock:(s,l)=>s.getLock(l)}}),Voe=(s,l)=>{const h=qt(s.options,E=>({dom:{tag:"option",value:E.value,innerHtml:E.text}})),g=s.data.map(E=>Ug("initialValue",E)).getOr({});return{uid:s.uid,dom:{tag:"select",classes:s.selectClasses,attributes:s.selectAttributes},components:h,behaviours:pu(s.selectBehaviours,[js.config({}),Co.config({store:{mode:"manual",getValue:E=>_l(E.element),setValue:(E,O)=>{const R=$t(s.options);zt(s.options,K=>K.value===O).isSome()?_f(E.element,O):E.element.dom.selectedIndex===-1&&O===""&&R.each(K=>_f(E.element,K.value))},...g}})])}},Foe=cm({name:"HtmlSelect",configFields:[kn("options"),fu("selectBehaviours",[js,Co]),Wt("selectClasses",[]),Wt("selectAttributes",{}),bi("data")],factory:Voe}),Q8=(s,l,h,g,E)=>{const O=()=>s.lazySink(l),R=g.type==="horizontal"?{layouts:{onLtr:()=>E1(),onRtl:()=>LO()}}:{},G=oe=>oe.length===2,K=oe=>G(oe)?R:{};return MC.sketch({dom:{tag:"div"},data:g.data,markers:g.menu.markers,highlightOnOpen:g.menu.highlightOnOpen,fakeFocus:g.menu.fakeFocus,onEscape:()=>(ni.close(l),s.onEscape.map(oe=>oe(l)),te.some(!0)),onExecute:()=>te.some(!0),onOpenMenu:(oe,fe)=>{Th.positionWithinBounds(O().getOrDie(),fe,h,E())},onOpenSubmenu:(oe,fe,ve,De)=>{const Ue=O().getOrDie();Th.position(Ue,ve,{anchor:{type:"submenu",item:fe,...K(De)}})},onRepositionMenu:(oe,fe,ve)=>{const De=O().getOrDie();Th.positionWithinBounds(De,fe,h,E()),Tn(ve,Ue=>{const He=K(Ue.triggeringPath);Th.position(De,Ue.triggeredMenu,{anchor:{type:"submenu",item:Ue.triggeringItem,...He}})})}})},Hoe=(s,l)=>{const h=(De,Ue)=>s.getRelated(De).exists(nt=>jw(nt,Ue)),g=(De,Ue)=>{ni.setContent(De,Ue)},E=(De,Ue,He)=>{const nt=te.none;O(De,Ue,He,nt)},O=(De,Ue,He,nt)=>{const pt=s.lazySink(De).getOrDie();ni.openWhileCloaked(De,Ue,()=>Th.positionWithinBounds(pt,De,He,nt())),Co.setValue(De,te.some({mode:"position",config:He,getBounds:nt}))},R=(De,Ue,He)=>{G(De,Ue,He,te.none)},G=(De,Ue,He,nt)=>{const pt=Q8(s,De,Ue,He,nt);ni.open(De,pt),Co.setValue(De,te.some({mode:"menu",menu:pt}))},K=De=>{ni.isOpen(De)&&(Co.setValue(De,te.none()),ni.close(De))},oe=De=>ni.getState(De),fe=De=>{ni.isOpen(De)&&Co.getValue(De).each(Ue=>{switch(Ue.mode){case"menu":ni.getState(De).each(MC.repositionMenus);break;case"position":const He=s.lazySink(De).getOrDie();Th.positionWithinBounds(He,De,Ue.config,Ue.getBounds());break}})},ve={setContent:g,showAt:E,showWithinBounds:O,showMenuAt:R,showMenuWithinBounds:G,hide:K,getContent:oe,reposition:fe,isOpen:ni.isOpen};return{uid:s.uid,dom:s.dom,behaviours:pu(s.inlineBehaviours,[ni.config({isPartOf:(De,Ue,He)=>jw(Ue,He)||h(De,He),getAttachPoint:De=>s.lazySink(De).getOrDie(),onOpen:De=>{s.onShow(De)},onClose:De=>{s.onHide(De)}}),Co.config({store:{mode:"memory",initialValue:te.none()}}),um.config({channels:{...zV({isExtraPart:l.isExtraPart,...s.fireDismissalEventInstead.map(De=>({fireEventInstead:{event:De.event}})).getOr({})}),...jV({...s.fireRepositionEventInstead.map(De=>({fireEventInstead:{event:De.event}})).getOr({}),doReposition:fe})}})]),eventOrder:s.eventOrder,apis:ve}},el=cm({name:"InlineView",configFields:[kn("lazySink"),Dr("onShow"),Dr("onHide"),qp("onEscape"),fu("inlineBehaviours",[ni,Co,um]),Sh("fireDismissalEventInstead",[Wt("event",Zg())]),Sh("fireRepositionEventInstead",[Wt("event",yA())]),Wt("getRelated",te.none),Wt("isExtraPart",mt),Wt("eventOrder",te.none)],factory:Hoe,apis:{showAt:(s,l,h,g)=>{s.showAt(l,h,g)},showWithinBounds:(s,l,h,g,E)=>{s.showWithinBounds(l,h,g,E)},showMenuAt:(s,l,h,g)=>{s.showMenuAt(l,h,g)},showMenuWithinBounds:(s,l,h,g,E)=>{s.showMenuWithinBounds(l,h,g,E)},hide:(s,l)=>{s.hide(l)},isOpen:(s,l)=>s.isOpen(l),getContent:(s,l)=>s.getContent(l),setContent:(s,l,h)=>{s.setContent(l,h)},reposition:(s,l)=>{s.reposition(l)}}}),RT=F([Ha("type","text"),bi("data"),Wt("inputAttributes",{}),Wt("inputStyles",{}),Wt("tag","input"),Wt("inputClasses",[]),Dr("onSetValue"),yi("fromInputValue",Ie),yi("toInputValue",Ie),Wt("styles",{}),Wt("eventOrder",{}),fu("inputBehaviours",[Co,js]),Wt("selectOnFocus",!0)]),e7=s=>oo([js.config({onFocus:s.selectOnFocus?l=>{const h=l.element,g=_l(h);s.type!=="range"&&h.dom.setSelectionRange(0,g.length)}:ie})]),$oe=s=>({...e7(s),...pu(s.inputBehaviours,[Co.config({store:{mode:"manual",...s.data.map(l=>({initialValue:l})).getOr({}),getValue:l=>s.fromInputValue(_l(l.element)),setValue:(l,h)=>{_l(l.element)!==h&&_f(l.element,s.toInputValue(h))}},onSetValue:s.onSetValue})])}),XV=s=>({tag:s.tag,attributes:{type:s.type,...s.inputAttributes},styles:s.inputStyles,classes:s.inputClasses}),t7=(s,l)=>({uid:s.uid,dom:XV(s),components:[],behaviours:$oe(s),eventOrder:s.eventOrder}),x0=cm({name:"Input",configFields:RT(),factory:t7}),ZM=V(BV(),VV()),Uoe=(s,l)=>{const h=rr(s,"id").fold(()=>{const g=yo("dialog-label");return cs(l,"id",g),g},Ie);cs(s,"aria-labelledby",h)},zoe=F([kn("lazySink"),bi("dragBlockClass"),yi("getBounds",Fu),Wt("useTabstopAt",gt),Wt("firstTabstop",0),Wt("eventOrder",{}),fu("modalBehaviours",[os]),Xl("onExecute"),eC("onEscape")]),JV={sketch:Ie},joe=F([m({name:"draghandle",overrides:(s,l)=>({behaviours:oo([Vw.config({mode:"mouse",getTarget:h=>Kh(h,'[role="dialog"]').getOr(h),blockerClass:s.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(l,null,2)).message),getBounds:s.getDragBounds})])})}),zu({schema:[kn("dom")],name:"title"}),zu({factory:JV,schema:[kn("dom")],name:"close"}),zu({factory:JV,schema:[kn("dom")],name:"body"}),m({factory:JV,schema:[kn("dom")],name:"footer"}),ee({factory:{sketch:(s,l)=>({...s,dom:l.dom,components:l.components})},schema:[Wt("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Wt("components",[])],name:"blocker"})]),Woe=(s,l,h,g)=>{const E=Ss(),O=He=>{E.set(He);const nt=s.lazySink(He).getOrDie(),pt=g.blocker(),st=nt.getSystem().build({...pt,components:pt.components.concat([z(He)]),behaviours:oo([js.config({}),$s("dialog-blocker-events",[O1(If(),()=>{Vn.isBlocked(He)?ie():os.focusIn(He)})])])});rb(nt,st),os.focusIn(He)},R=He=>{E.clear(),Yn(He.element).each(nt=>{He.getSystem().getByDom(nt).each(pt=>{ib(pt)})})},G=He=>Ne(He,s,"body"),K=He=>Ee(He,s,"footer"),oe=(He,nt)=>{Vn.block(He,nt)},fe=He=>{Vn.unblock(He)},ve=yo("modal-events"),De={...s.eventOrder,[Jp()]:[ve].concat(s.eventOrder["alloy.system.attached"]||[])},Ue=Gi();return{uid:s.uid,dom:s.dom,components:l,apis:{show:O,hide:R,getBody:G,getFooter:K,setIdle:fe,setBusy:oe},eventOrder:De,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:pu(s.modalBehaviours,[Ws.config({}),os.config({mode:"cyclic",onEnter:s.onExecute,onEscape:s.onEscape,useTabstopAt:s.useTabstopAt,firstTabstop:s.firstTabstop}),Vn.config({getRoot:E.get}),$s(ve,[Ea(He=>{const nt=Ne(He,s,"title").element,pt=ME(nt);Ue.os.isMacOS()&&W(pt)?cs(He.element,"aria-label",pt):Uoe(He.element,nt)})])])}},qc=nf({name:"ModalDialog",configFields:zoe(),partFields:joe(),factory:Woe,apis:{show:(s,l)=>{s.show(l)},hide:(s,l)=>{s.hide(l)},getBody:(s,l)=>s.getBody(l),getFooter:(s,l)=>s.getFooter(l),setBusy:(s,l,h)=>{s.setBusy(l,h)},setIdle:(s,l)=>{s.setIdle(l)}}}),n7=m({schema:[kn("dom")],name:"label"}),xh=s=>m({name:""+s+"-edge",overrides:l=>l.model.manager.edgeActions[s].fold(()=>({}),g=>({events:Ra([jA(zg(),(E,O,R)=>g(E,R),[l]),jA(vd(),(E,O,R)=>g(E,R),[l]),jA(qv(),(E,O,R)=>{R.mouseIsDown.get()&&g(E,R)},[l])])}))}),Goe=xh("top-left"),QV=xh("top"),o7=xh("top-right"),s7=xh("right"),qoe=xh("bottom-right"),r7=xh("bottom"),i7=xh("bottom-left"),a7=xh("left"),Zoe=zu({name:"thumb",defaults:F({dom:{styles:{position:"absolute"}}}),overrides:s=>({events:Ra([p0(zg(),s,"spectrum"),p0(jg(),s,"spectrum"),p0(Wg(),s,"spectrum"),p0(vd(),s,"spectrum"),p0(qv(),s,"spectrum"),p0(i0(),s,"spectrum")])})}),KM=s=>I1(s.event),Koe=zu({schema:[zc("mouseIsDown",()=>$n(!1))],name:"spectrum",overrides:s=>{const h=s.model.manager,g=(E,O)=>h.getValueFromEvent(O).map(R=>h.setValueFrom(E,s,R));return{behaviours:oo([os.config({mode:"special",onLeft:(E,O)=>h.onLeft(E,s,KM(O)),onRight:(E,O)=>h.onRight(E,s,KM(O)),onUp:(E,O)=>h.onUp(E,s,KM(O)),onDown:(E,O)=>h.onDown(E,s,KM(O))}),da.config({}),js.config({})]),events:Ra([pn(zg(),g),pn(jg(),g),pn(vd(),g),pn(qv(),(E,O)=>{s.mouseIsDown.get()&&g(E,O)})])}}});var Yoe=[n7,a7,s7,QV,r7,Goe,o7,i7,qoe,Zoe,Koe];const nR=F("slider.change.value"),Xoe=s=>s.type.indexOf("touch")!==-1,YM=s=>{const l=s.event.raw;if(Xoe(l)){const h=l;return h.touches!==void 0&&h.touches.length===1?te.some(h.touches[0]).map(g=>ci(g.clientX,g.clientY)):te.none()}else{const h=l;return h.clientX!==void 0?te.some(h).map(g=>ci(g.clientX,g.clientY)):te.none()}},l7="top",c7="right",u7="bottom",Joe="left",Ww=s=>s.model.minX,Gw=s=>s.model.minY,oR=s=>s.model.minX-1,Z1=s=>s.model.minY-1,Ty=s=>s.model.maxX,qw=s=>s.model.maxY,sR=s=>s.model.maxX+1,rR=s=>s.model.maxY+1,eF=(s,l,h)=>l(s)-h(s),XM=s=>eF(s,Ty,Ww),iR=s=>eF(s,qw,Gw),JM=s=>XM(s)/2,d7=s=>iR(s)/2,kT=(s,l)=>l?s.stepSize*s.speedMultiplier:s.stepSize,h7=s=>s.snapToGrid,tF=s=>s.snapStart,nF=s=>s.rounded,QM=(s,l)=>s[l+"-edge"]!==void 0,f7=s=>QM(s,Joe),oF=s=>QM(s,c7),p7=s=>QM(s,l7),m7=s=>QM(s,u7),K1=s=>s.model.value.get(),NC=(s,l)=>({x:s,y:l}),fb=(s,l)=>{ms(s,nR(),{value:l})},Qoe=(s,l)=>{fb(s,NC(oR(l),Z1(l)))},ese=(s,l)=>{fb(s,Z1(l))},g7=(s,l)=>{fb(s,NC(JM(l),Z1(l)))},v7=(s,l)=>{fb(s,NC(sR(l),Z1(l)))},tse=(s,l)=>{fb(s,sR(l))},nse=(s,l)=>{fb(s,NC(sR(l),d7(l)))},ose=(s,l)=>{fb(s,NC(sR(l),rR(l)))},b7=(s,l)=>{fb(s,rR(l))},sse=(s,l)=>{fb(s,NC(JM(l),rR(l)))},rse=(s,l)=>{fb(s,NC(oR(l),rR(l)))},ise=(s,l)=>{fb(s,oR(l))},eP=(s,l)=>{fb(s,NC(oR(l),d7(l)))},sF=(s,l,h,g)=>s<l?s:s>h?h:s===l?l-1:Math.max(l,s-g),rF=(s,l,h,g)=>s>h?s:s<l?l:s===h?h+1:Math.min(h,s+g),y7=(s,l,h)=>Math.max(l,Math.min(h,s)),ase=(s,l,h,g,E)=>E.fold(()=>{const O=s-l,R=Math.round(O/g)*g;return y7(l+R,l-1,h+1)},O=>{const R=(s-O)%g,G=Math.round(R/g),K=Math.floor((s-O)/g),oe=Math.floor((h-O)/g),fe=Math.min(oe,K+G),ve=O+fe*g;return Math.max(O,ve)}),lse=(s,l,h)=>Math.min(h,Math.max(s,l))-l,S7=s=>{const{min:l,max:h,range:g,value:E,step:O,snap:R,snapStart:G,rounded:K,hasMinEdge:oe,hasMaxEdge:fe,minBound:ve,maxBound:De,screenRange:Ue}=s,He=oe?l-1:l,nt=fe?h+1:h;if(E<ve)return He;if(E>De)return nt;{const pt=lse(E,ve,De),st=y7(pt/Ue*g+l,He,nt);return R&&st>=l&&st<=h?ase(st,l,h,O,G):K?Math.round(st):st}},C7=s=>{const{min:l,max:h,range:g,value:E,hasMinEdge:O,hasMaxEdge:R,maxBound:G,maxOffset:K,centerMinEdge:oe,centerMaxEdge:fe}=s;return E<l?O?0:oe:E>h?R?G:fe:(E-l)/g*K},iF="top",E7="right",w7="bottom",aF="left",cse="width",use="height",pb=s=>s.element.dom.getBoundingClientRect(),mb=(s,l)=>s[l],tP=s=>{const l=pb(s);return mb(l,aF)},_7=s=>{const l=pb(s);return mb(l,E7)},aR=s=>{const l=pb(s);return mb(l,iF)},A7=s=>{const l=pb(s);return mb(l,w7)},T7=s=>{const l=pb(s);return mb(l,cse)},x7=s=>{const l=pb(s);return mb(l,use)},O7=(s,l,h)=>(s+l)/2-h,I7=(s,l)=>{const h=pb(s),g=pb(l),E=mb(h,aF),O=mb(h,E7),R=mb(g,aF);return O7(E,O,R)},R7=(s,l)=>{const h=pb(s),g=pb(l),E=mb(h,iF),O=mb(h,w7),R=mb(g,iF);return O7(E,O,R)},DT=(s,l)=>{ms(s,nR(),{value:l})},lF=(s,l,h)=>{const g={min:Ww(l),max:Ty(l),range:XM(l),value:h,step:kT(l),snap:h7(l),snapStart:tF(l),rounded:nF(l),hasMinEdge:f7(l),hasMaxEdge:oF(l),minBound:tP(s),maxBound:_7(s),screenRange:T7(s)};return S7(g)},dse=(s,l,h)=>{const g=lF(s,l,h);return DT(s,g),g},hse=(s,l)=>{const h=Ww(l);DT(s,h)},fse=(s,l)=>{const h=Ty(l);DT(s,h)},pse=(s,l,h,g)=>{const O=(s>0?rF:sF)(K1(h),Ww(h),Ty(h),kT(h,g));return DT(l,O),te.some(O)},k7=s=>(l,h,g)=>pse(s,l,h,g).map(gt),mse=s=>YM(s).map(h=>h.left),gse=(s,l,h,g,E)=>{const R=T7(s),G=g.bind(fe=>te.some(I7(fe,s))).getOr(0),K=E.bind(fe=>te.some(I7(fe,s))).getOr(R),oe={min:Ww(l),max:Ty(l),range:XM(l),value:h,hasMinEdge:f7(l),hasMaxEdge:oF(l),minBound:tP(s),maxBound:_7(s),maxOffset:R,centerMinEdge:G,centerMaxEdge:K};return C7(oe)},cF=(s,l,h,g,E,O)=>{const R=gse(l,O,h,g,E);return tP(l)-tP(s)+R},vse=(s,l,h,g)=>{const E=K1(h),O=cF(s,g.getSpectrum(s),E,g.getLeftEdge(s),g.getRightEdge(s),h),R=Ac(l.element)/2;xs(l.element,"left",O-R+"px")},bse=k7(-1),yse=k7(1),Sse=te.none,Cse=te.none,Ese={"top-left":te.none(),top:te.none(),"top-right":te.none(),right:te.some(tse),"bottom-right":te.none(),bottom:te.none(),"bottom-left":te.none(),left:te.some(ise)};var uF=Object.freeze({__proto__:null,setValueFrom:dse,setToMin:hse,setToMax:fse,findValueOfOffset:lF,getValueFromEvent:mse,findPositionOfValue:cF,setPositionFromValue:vse,onLeft:bse,onRight:yse,onUp:Sse,onDown:Cse,edgeActions:Ese});const nP=(s,l)=>{ms(s,nR(),{value:l})},dF=(s,l,h)=>{const g={min:Gw(l),max:qw(l),range:iR(l),value:h,step:kT(l),snap:h7(l),snapStart:tF(l),rounded:nF(l),hasMinEdge:p7(l),hasMaxEdge:m7(l),minBound:aR(s),maxBound:A7(s),screenRange:x7(s)};return S7(g)},wse=(s,l,h)=>{const g=dF(s,l,h);return nP(s,g),g},lR=(s,l)=>{const h=Gw(l);nP(s,h)},D7=(s,l)=>{const h=qw(l);nP(s,h)},_se=(s,l,h,g)=>{const O=(s>0?rF:sF)(K1(h),Gw(h),qw(h),kT(h,g));return nP(l,O),te.some(O)},M7=s=>(l,h,g)=>_se(s,l,h,g).map(gt),P7=s=>YM(s).map(h=>h.top),Ase=(s,l,h,g,E)=>{const R=x7(s),G=g.bind(fe=>te.some(R7(fe,s))).getOr(0),K=E.bind(fe=>te.some(R7(fe,s))).getOr(R),oe={min:Gw(l),max:qw(l),range:iR(l),value:h,hasMinEdge:p7(l),hasMaxEdge:m7(l),minBound:aR(s),maxBound:A7(s),maxOffset:R,centerMinEdge:G,centerMaxEdge:K};return C7(oe)},hF=(s,l,h,g,E,O)=>{const R=Ase(l,O,h,g,E);return aR(l)-aR(s)+R},Tse=(s,l,h,g)=>{const E=K1(h),O=hF(s,g.getSpectrum(s),E,g.getTopEdge(s),g.getBottomEdge(s),h),R=El(l.element)/2;xs(l.element,"top",O-R+"px")},xse=te.none,Ose=te.none,Ise=M7(-1),Rse=M7(1),kse={"top-left":te.none(),top:te.some(ese),"top-right":te.none(),right:te.none(),"bottom-right":te.none(),bottom:te.some(b7),"bottom-left":te.none(),left:te.none()};var N7=Object.freeze({__proto__:null,setValueFrom:wse,setToMin:lR,setToMax:D7,findValueOfOffset:dF,getValueFromEvent:P7,findPositionOfValue:hF,setPositionFromValue:Tse,onLeft:xse,onRight:Ose,onUp:Ise,onDown:Rse,edgeActions:kse});const cR=(s,l)=>{ms(s,nR(),{value:l})},oP=(s,l)=>({x:s,y:l}),L7=(s,l,h)=>{const g=lF(s,l,h.left),E=dF(s,l,h.top),O=oP(g,E);return cR(s,O),O},B7=(s,l,h,g,E)=>{const O=s>0?rF:sF,R=l?K1(g).x:O(K1(g).x,Ww(g),Ty(g),kT(g,E)),G=l?O(K1(g).y,Gw(g),qw(g),kT(g,E)):K1(g).y;return cR(h,oP(R,G)),te.some(R)},uR=(s,l)=>(h,g,E)=>B7(s,l,h,g,E).map(gt),V7=(s,l)=>{const h=Ww(l),g=Gw(l);cR(s,oP(h,g))},Dse=(s,l)=>{const h=Ty(l),g=qw(l);cR(s,oP(h,g))},Mse=s=>YM(s),Pse=(s,l,h,g)=>{const E=K1(h),O=cF(s,g.getSpectrum(s),E.x,g.getLeftEdge(s),g.getRightEdge(s),h),R=hF(s,g.getSpectrum(s),E.y,g.getTopEdge(s),g.getBottomEdge(s),h),G=Ac(l.element)/2,K=El(l.element)/2;xs(l.element,"left",O-G+"px"),xs(l.element,"top",R-K+"px")},Nse=uR(-1,!1),fF=uR(1,!1),F7=uR(-1,!0),Lse=uR(1,!0),H7={"top-left":te.some(Qoe),top:te.some(g7),"top-right":te.some(v7),right:te.some(nse),"bottom-right":te.some(ose),bottom:te.some(sse),"bottom-left":te.some(rse),left:te.some(eP)};var Bse=Object.freeze({__proto__:null,setValueFrom:L7,setToMin:V7,setToMax:Dse,getValueFromEvent:Mse,setPositionFromValue:Pse,onLeft:Nse,onRight:fF,onUp:F7,onDown:Lse,edgeActions:H7});const Vse=[Wt("stepSize",1),Wt("speedMultiplier",10),Wt("onChange",ie),Wt("onChoose",ie),Wt("onInit",ie),Wt("onDragStart",ie),Wt("onDragEnd",ie),Wt("snapToGrid",!1),Wt("rounded",!0),bi("snapStart"),$u("model",md("mode",{x:[Wt("minX",0),Wt("maxX",100),zc("value",s=>$n(s.mode.minX)),kn("getInitialValue"),la("manager",uF)],y:[Wt("minY",0),Wt("maxY",100),zc("value",s=>$n(s.mode.minY)),kn("getInitialValue"),la("manager",N7)],xy:[Wt("minX",0),Wt("maxX",100),Wt("minY",0),Wt("maxY",100),zc("value",s=>$n({x:s.mode.minX,y:s.mode.minY})),kn("getInitialValue"),la("manager",Bse)]})),fu("sliderBehaviours",[os,Co]),zc("mouseIsDown",()=>$n(!1))],uv=nf({name:"Slider",configFields:Vse,partFields:Yoe,factory:(s,l,h,g)=>{const E=nn=>Ne(nn,s,"thumb"),O=nn=>Ne(nn,s,"spectrum"),R=nn=>Ee(nn,s,"left-edge"),G=nn=>Ee(nn,s,"right-edge"),K=nn=>Ee(nn,s,"top-edge"),oe=nn=>Ee(nn,s,"bottom-edge"),fe=s.model,ve=fe.manager,De=(nn,So)=>{ve.setPositionFromValue(nn,So,s,{getLeftEdge:R,getRightEdge:G,getTopEdge:K,getBottomEdge:oe,getSpectrum:O})},Ue=(nn,So)=>{fe.value.set(So);const Hn=E(nn);De(nn,Hn)},He=(nn,So)=>{Ue(nn,So);const Hn=E(nn);return s.onChange(nn,Hn,So),te.some(!0)},nt=nn=>{ve.setToMin(nn,s)},pt=nn=>{ve.setToMax(nn,s)},st=nn=>{const So=()=>{Ee(nn,s,"thumb").each(Wn=>{const Bn=fe.value.get();s.onChoose(nn,Wn,Bn)})},Hn=s.mouseIsDown.get();s.mouseIsDown.set(!1),Hn&&So()},yt=(nn,So)=>{So.stop(),s.mouseIsDown.set(!0),s.onDragStart(nn,E(nn))},_t=(nn,So)=>{So.stop(),s.onDragEnd(nn,E(nn)),st(nn)},Qt=nn=>{Ee(nn,s,"spectrum").map(os.focusIn)};return{uid:s.uid,dom:s.dom,components:l,behaviours:pu(s.sliderBehaviours,[os.config({mode:"special",focusIn:Qt}),Co.config({store:{mode:"manual",getValue:nn=>fe.value.get(),setValue:Ue}}),um.config({channels:{[Qv()]:{onReceive:st}}})]),events:Ra([pn(nR(),(nn,So)=>{He(nn,So.event.value)}),Ea((nn,So)=>{const Hn=fe.getInitialValue();fe.value.set(Hn);const Wn=E(nn);De(nn,Wn);const Bn=O(nn);s.onInit(nn,Wn,Bn,fe.value.get())}),pn(zg(),yt),pn(Wg(),_t),pn(vd(),(nn,So)=>{Qt(nn),yt(nn,So)}),pn(i0(),_t)]),apis:{resetToMin:nt,resetToMax:pt,setValue:Ue,refresh:De},domModification:{styles:{position:"relative"}}}},apis:{setValue:(s,l,h)=>{s.setValue(l,h)},resetToMin:(s,l)=>{s.resetToMin(l)},resetToMax:(s,l)=>{s.resetToMax(l)},refresh:(s,l)=>{s.refresh(l)}}}),pF="container",$7=[fu("slotBehaviours",[])],U7=s=>"<alloy.field."+s+">",Fse=s=>{const l=(()=>{const O=[];return{slot:(G,K)=>(O.push(G),Q(pF,U7(G),K)),record:F(O)}})(),h=s(l),g=l.record(),E=qt(g,O=>zu({name:O,pname:U7(O)}));return TB(pF,$7,E,Hse,h)},Hse=(s,l)=>{const h=nt=>ze(s),g=(nt,pt)=>Ee(nt,s,pt),E=(nt,pt)=>(st,yt)=>Ee(st,s,yt).map(_t=>nt(_t,yt)).getOr(pt),O=nt=>(pt,st)=>{Tn(st,yt=>nt(pt,yt))},R=(nt,pt)=>pl(nt.element,"aria-hidden")!=="true",G=(nt,pt)=>{if(!R(nt)){const st=nt.element;Er(st,"display"),ia(st,"aria-hidden"),ms(nt,m1(),{name:pt,visible:!0})}},K=(nt,pt)=>{if(R(nt)){const st=nt.element;xs(st,"display","none"),cs(st,"aria-hidden","true"),ms(nt,m1(),{name:pt,visible:!1})}},oe=E(R,!1),fe=E(K),ve=O(fe),De=nt=>ve(nt,h()),Ue=E(G),He={getSlotNames:h,getSlot:g,isShowing:oe,hideSlot:fe,hideAllSlots:De,showSlot:Ue};return{uid:s.uid,dom:s.dom,components:l,behaviours:LI(s.slotBehaviours),apis:He}},Oh={...Ls({getSlotNames:(s,l)=>s.getSlotNames(l),getSlot:(s,l,h)=>s.getSlot(l,h),isShowing:(s,l,h)=>s.isShowing(l,h),hideSlot:(s,l,h)=>s.hideSlot(l,h),hideAllSlots:(s,l)=>s.hideAllSlots(l),showSlot:(s,l,h)=>s.showSlot(l,h)},s=>y0(s)),sketch:Fse},$se=(s,l)=>xn(s,(E,O)=>l(O,E.len).fold(F(E),G=>({len:G.finish,list:E.list.concat([G])})),{len:0,list:[]}).list,mF=(s,l,h)=>({within:s,extra:l,withinWidth:h}),z7=(s,l,h)=>{const g=$se(s,(G,K)=>{const oe=h(G);return te.some({element:G,start:K,finish:K+oe,width:oe})}),E=vs(g,G=>G.finish<=l),O=Ut(E,(G,K)=>G+K.width,0),R=g.slice(E.length);return{within:E,extra:R,withinWidth:O}},sP=s=>qt(s,l=>l.element),Use=(s,l,h)=>{const g=sP(s.concat(l));return mF(g,[],h)},zse=(s,l,h,g)=>{const E=sP(s).concat([h]);return mF(E,sP(l),g)},j7=(s,l,h)=>mF(sP(s),[],h),jse=(s,l,h)=>{const g=z7(l,s,h);return g.extra.length===0?te.some(g):te.none()},Wse=(s,l,h,g)=>{const E=jse(s,l,h).getOrThunk(()=>z7(l,s-h(g),h)),O=E.within,R=E.extra,G=E.withinWidth;return R.length===1&&R[0].width<=h(g)?Use(O,R,G):R.length>=1?zse(O,R,g,G):j7(O,R,G)},W7=(s,l)=>{const h=qt(l,g=>z(g));Si.setGroups(s,h)},Gse=s=>Rs(s,l=>Wa(l.element).bind(h=>l.getSystem().getByDom(h).toOptional())),G7=(s,l,h)=>{const g=l.builtGroups.get();if(g.length===0)return;const E=Ne(s,l,"primary"),O=tr.getCoupled(s,"overflowGroup");xs(E.element,"visibility","hidden");const R=g.concat([O]),G=Gse(R);h([]),W7(E,R);const K=Ac(E.element),oe=Wse(K,l.builtGroups.get(),fe=>Math.ceil(fe.element.dom.getBoundingClientRect().width),O);oe.extra.length===0?(Ws.remove(E,O),h([])):(W7(E,oe.within),h(oe.extra)),Er(E.element,"visibility"),cd(E.element),G.each(js.focus)},dR=F([fu("splitToolbarBehaviours",[tr]),zc("builtGroups",()=>$n([]))]),q7=F([_h(["overflowToggledClass"]),qp("getOverflowBounds"),kn("lazySink"),zc("overflowGroups",()=>$n([])),Dr("onOpened"),Dr("onClosed")].concat(dR())),qse=F([zu({factory:Si,schema:th(),name:"primary"}),ee({schema:th(),name:"overflow"}),ee({name:"overflow-button"}),ee({name:"overflow-group"})]),Zse=F([kn("items"),_h(["itemSelector"]),fu("tgroupBehaviours",[os])]),Kse=F([C({name:"items",unit:"item"})]),Yse=(s,l,h,g)=>({uid:s.uid,dom:s.dom,components:l,behaviours:pu(s.tgroupBehaviours,[os.config({mode:"flow",selector:s.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),rP=nf({name:"ToolbarGroup",configFields:Zse(),partFields:Kse(),factory:Yse}),Z7=s=>qt(s,l=>z(l)),iP=(s,l,h)=>{G7(s,h,g=>{h.overflowGroups.set(g),l.getOpt(s).each(E=>{q1.setGroups(E,Z7(g))})})},K7=(s,l,h,g)=>{const E=oi(q1.sketch({fetch:()=>Vs.nu(O=>{O(Z7(s.overflowGroups.get()))}),layouts:{onLtr:()=>[zi,Fr],onRtl:()=>[Fr,zi],onBottomLtr:()=>[Ja,yl],onBottomRtl:()=>[yl,Ja]},getBounds:h.getOverflowBounds,lazySink:s.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:s.markers.overflowToggledClass},parts:{button:g["overflow-button"](),toolbar:g.overflow()},onToggled:(O,R)=>s[R?"onOpened":"onClosed"](O)}));return{uid:s.uid,dom:s.dom,components:l,behaviours:pu(s.splitToolbarBehaviours,[tr.config({others:{overflowGroup:()=>rP.sketch({...g["overflow-group"](),items:[E.asSpec()]})}})]),apis:{setGroups:(O,R)=>{s.builtGroups.set(qt(R,O.getSystem().build)),iP(O,E,s)},refresh:O=>iP(O,E,s),toggle:O=>{E.getOpt(O).each(R=>{q1.toggle(R)})},toggleWithoutFocusing:O=>{E.getOpt(O).each(q1.toggleWithoutFocusing)},isOpen:O=>E.getOpt(O).map(q1.isOpen).getOr(!1),reposition:O=>{E.getOpt(O).each(R=>{q1.reposition(R)})},getOverflow:O=>E.getOpt(O).bind(q1.getToolbar)},domModification:{attributes:{role:"group"}}}},gF=nf({name:"SplitFloatingToolbar",configFields:q7(),partFields:qse(),factory:K7,apis:{setGroups:(s,l,h)=>{s.setGroups(l,h)},refresh:(s,l)=>{s.refresh(l)},reposition:(s,l)=>{s.reposition(l)},toggle:(s,l)=>{s.toggle(l)},toggleWithoutFocusing:(s,l)=>{s.toggle(l)},isOpen:(s,l)=>s.isOpen(l),getOverflow:(s,l)=>s.getOverflow(l)}}),Xse=F([_h(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Dr("onOpened"),Dr("onClosed")].concat(dR())),Y7=F([zu({factory:Si,schema:th(),name:"primary"}),zu({factory:Si,schema:th(),name:"overflow",overrides:s=>({toolbarBehaviours:oo([Lf.config({dimension:{property:"height"},closedClass:s.markers.closedClass,openClass:s.markers.openClass,shrinkingClass:s.markers.shrinkingClass,growingClass:s.markers.growingClass,onShrunk:l=>{Ee(l,s,"overflow-button").each(h=>{Pr.off(h)}),s.onClosed(l)},onGrown:l=>{s.onOpened(l)},onStartGrow:l=>{Ee(l,s,"overflow-button").each(Pr.on)}}),os.config({mode:"acyclic",onEscape:l=>(Ee(l,s,"overflow-button").each(js.focus),te.some(!0))})])})}),ee({name:"overflow-button",overrides:s=>({buttonBehaviours:oo([Pr.config({toggleClass:s.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),ee({name:"overflow-group"})]),Jse=(s,l)=>Ee(s,l,"overflow").map(Lf.hasGrown).getOr(!1),vF=(s,l,h)=>{Ee(s,l,"overflow-button").each(g=>{Ee(s,l,"overflow").each(E=>{if(bF(s,l),Lf.hasShrunk(E)){const O=l.onOpened;l.onOpened=R=>{h||os.focusIn(E),O(R),l.onOpened=O}}else{const O=l.onClosed;l.onClosed=R=>{h||js.focus(g),O(R),l.onClosed=O}}Lf.toggleGrow(E)})})},bF=(s,l)=>{Ee(s,l,"overflow").each(h=>{G7(s,l,g=>{const E=qt(g,O=>z(O));Si.setGroups(h,E)}),Ee(s,l,"overflow-button").each(g=>{Lf.hasGrown(h)&&Pr.on(g)}),Lf.refresh(h)})},Qse=(s,l,h,g)=>{const E="alloy.toolbar.toggle",O=(R,G)=>{const K=qt(G,R.getSystem().build);s.builtGroups.set(K)};return{uid:s.uid,dom:s.dom,components:l,behaviours:pu(s.splitToolbarBehaviours,[tr.config({others:{overflowGroup:R=>rP.sketch({...g["overflow-group"](),items:[eh.sketch({...g["overflow-button"](),action:G=>{wr(R,E)}})]})}}),$s("toolbar-toggle-events",[pn(E,R=>{vF(R,s,!1)})])]),apis:{setGroups:(R,G)=>{O(R,G),bF(R,s)},refresh:R=>bF(R,s),toggle:R=>{vF(R,s,!1)},toggleWithoutFocusing:R=>{vF(R,s,!0)},isOpen:R=>Jse(R,s)},domModification:{attributes:{role:"group"}}}},yF=nf({name:"SplitSlidingToolbar",configFields:Xse(),partFields:Y7(),factory:Qse,apis:{setGroups:(s,l,h)=>{s.setGroups(l,h)},refresh:(s,l)=>{s.refresh(l)},toggle:(s,l)=>{s.toggle(l)},isOpen:(s,l)=>s.isOpen(l)}}),ere=(s,l)=>({uid:s.uid,dom:s.dom,components:s.components,events:UM(s.action),behaviours:pu(s.tabButtonBehaviours,[js.config({}),os.config({mode:"execution",useSpace:!0,useEnter:!0}),Co.config({store:{mode:"memory",initialValue:s.value}})]),domModification:s.domModification}),tre=cm({name:"TabButton",configFields:[Wt("uid",void 0),kn("value"),Tc("dom","dom",Gp(()=>({attributes:{role:"tab",id:yo("aria"),"aria-selected":"false"}})),Un()),bi("action"),Wt("domModification",{}),fu("tabButtonBehaviours",[js,os,Co]),kn("view")],factory:ere}),nre=F([kn("tabs"),kn("dom"),Wt("clickToDismiss",!1),fu("tabbarBehaviours",[fi,os]),_h(["tabClass","selectedClass"])]),ore=C({factory:tre,name:"tabs",unit:"tab",overrides:s=>{const l=(g,E)=>{fi.dehighlight(g,E),ms(g,h0(),{tabbar:g,button:E})},h=(g,E)=>{fi.highlight(g,E),ms(g,CA(),{tabbar:g,button:E})};return{action:g=>{const E=g.getSystem().getByUid(s.uid).getOrDie(),O=fi.isHighlighted(E,g);(O&&s.clickToDismiss?l:O?ie:h)(E,g)},domModification:{classes:[s.markers.tabClass]}}}}),sre=F([ore]),aP=(s,l,h,g)=>({uid:s.uid,dom:s.dom,components:l,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:pu(s.tabbarBehaviours,[fi.config({highlightClass:s.markers.selectedClass,itemClass:s.markers.tabClass,onHighlight:(E,O)=>{cs(O.element,"aria-selected","true")},onDehighlight:(E,O)=>{cs(O.element,"aria-selected","false")}}),os.config({mode:"flow",getInitial:E=>fi.getHighlighted(E).map(O=>O.element),selector:"."+s.markers.tabClass,executeOnMove:!0})])}),lP=nf({name:"Tabbar",configFields:nre(),partFields:sre(),factory:aP}),SF=(s,l)=>({uid:s.uid,dom:s.dom,behaviours:pu(s.tabviewBehaviours,[Ws.config({})]),domModification:{attributes:{role:"tabpanel"}}}),X7=cm({name:"Tabview",configFields:[fu("tabviewBehaviours",[Ws])],factory:SF}),rre=F([Wt("selectFirst",!0),Dr("onChangeTab"),Dr("onDismissTab"),Wt("tabs",[]),fu("tabSectionBehaviours",[])]),ire=zu({factory:lP,schema:[kn("dom"),Km("markers",[kn("tabClass"),kn("selectedClass")])],name:"tabbar",defaults:s=>({tabs:s.tabs})}),CF=zu({factory:X7,name:"tabview"}),EF=F([ire,CF]),cP=(s,l,h,g)=>{const E=R=>{const G=Co.getValue(R);Ee(R,s,"tabview").each(K=>{zt(s.tabs,fe=>fe.value===G).each(fe=>{const ve=fe.view();rr(R.element,"id").each(De=>{cs(K.element,"aria-labelledby",De)}),Ws.set(K,ve),s.onChangeTab(K,R,ve)})})},O=(R,G)=>{Ee(R,s,"tabbar").each(K=>{G(K).each(aw)})};return{uid:s.uid,dom:s.dom,components:l,behaviours:LI(s.tabSectionBehaviours),events:Ra(fn([s.selectFirst?[Ea((R,G)=>{O(R,fi.getFirst)})]:[],[pn(CA(),(R,G)=>{const K=G.event.button;E(K)}),pn(h0(),(R,G)=>{const K=G.event.button;s.onDismissTab(R,K)})]])),apis:{getViewItems:R=>Ee(R,s,"tabview").map(G=>Ws.contents(G)).getOr([]),showTab:(R,G)=>{O(R,oe=>{const fe=fi.getCandidates(oe);return zt(fe,De=>Co.getValue(De)===G).filter(De=>!fi.isHighlighted(oe,De))})}}}},Zw=nf({name:"TabSection",configFields:rre(),partFields:EF(),factory:cP,apis:{getViewItems:(s,l)=>s.getViewItems(l),showTab:(s,l,h)=>{s.showTab(l,h)}}}),uP=(s,l,h)=>{const g=Co.getValue(h);Co.setValue(l,g),Q7(l)},J7=(s,l)=>{const h=s.element,g=_l(h),E=h.dom;pl(h,"type")!=="number"&&l(E,g)},Q7=s=>{J7(s,(l,h)=>l.setSelectionRange(h.length,h.length))},are=(s,l)=>{J7(s,(h,g)=>h.setSelectionRange(l,g.length))},lre=(s,l,h)=>{if(s.selectsOver){const g=Co.getValue(l),E=s.getDisplayText(g),O=Co.getValue(h);return s.getDisplayText(O).indexOf(E)===0?te.some(()=>{uP(s,l,h),are(l,E.length)}):te.none()}else return te.none()},wF=F("alloy.typeahead.itemexecute"),cre=(s,l,h,g)=>{const E=(ve,De,Ue)=>{s.previewing.set(!1);const He=tr.getCoupled(ve,"sandbox");if(ni.isOpen(He))yn.getCurrent(He).each(nt=>{fi.getHighlighted(nt).fold(()=>{Ue(nt)},()=>{jO(He,nt.element,"keydown",De)})});else{const nt=pt=>{yn.getCurrent(pt).each(Ue)};WM(s,R(ve),ve,He,g,nt,Wd.HighlightMenuAndItem).get(ie)}},O=e7(s),R=ve=>De=>De.map(Ue=>{const He=To(Ue.menus),nt=ct(He,st=>vs(st.items,yt=>yt.type==="item"));return Co.getState(ve).update(qt(nt,st=>st.data)),Ue}),G=ve=>yn.getCurrent(ve),K="typeaheadevents",oe=[js.config({}),Co.config({onSetValue:s.onSetValue,store:{mode:"dataset",getDataKey:ve=>_l(ve.element),getFallbackEntry:ve=>({value:ve,meta:{}}),setValue:(ve,De)=>{_f(ve.element,s.model.getDisplayText(De))},...s.initialData.map(ve=>Ug("initialValue",ve)).getOr({})}}),bV.config({stream:{mode:"throttle",delay:s.responseTime,stopEvent:!1},onStream:(ve,De)=>{const Ue=tr.getCoupled(ve,"sandbox");if(js.isFocused(ve)&&_l(ve.element).length>=s.minChars){const nt=G(Ue).bind(st=>fi.getHighlighted(st).map(Co.getValue));s.previewing.set(!0);const pt=st=>{G(Ue).each(yt=>{nt.fold(()=>{s.model.selectsOver&&fi.highlightFirst(yt)},_t=>{fi.highlightBy(yt,Qt=>Co.getValue(Qt).value===_t.value),fi.getHighlighted(yt).orThunk(()=>(fi.highlightFirst(yt),te.none()))})})};WM(s,R(ve),ve,Ue,g,pt,Wd.HighlightJustMenu).get(ie)}},cancelEvent:c0()}),os.config({mode:"special",onDown:(ve,De)=>(E(ve,De,fi.highlightFirst),te.some(!0)),onEscape:ve=>{const De=tr.getCoupled(ve,"sandbox");return ni.isOpen(De)?(ni.close(De),te.some(!0)):te.none()},onUp:(ve,De)=>(E(ve,De,fi.highlightLast),te.some(!0)),onEnter:ve=>{const De=tr.getCoupled(ve,"sandbox"),Ue=ni.isOpen(De);if(Ue&&!s.previewing.get())return G(De).bind(He=>fi.getHighlighted(He)).map(He=>(ms(ve,wF(),{item:He}),!0));{const He=Co.getValue(ve);return wr(ve,c0()),s.onExecute(De,ve,He),Ue&&ni.close(De),te.some(!0)}}}),Pr.config({toggleClass:s.markers.openClass,aria:{mode:"expanded"}}),tr.config({others:{sandbox:ve=>GM(s,ve,{onOpen:()=>Pr.on(ve),onClose:()=>{s.lazyTypeaheadComp.get().each(De=>ia(De.element,"aria-activedescendant")),Pr.off(ve)}})}}),$s(K,[Ea(ve=>{s.lazyTypeaheadComp.set(te.some(ve))}),tv(ve=>{s.lazyTypeaheadComp.set(te.none())}),m0(ve=>{const De=ie;G8(s,R(ve),ve,g,De,Wd.HighlightMenuAndItem).get(ie)}),pn(wF(),(ve,De)=>{const Ue=tr.getCoupled(ve,"sandbox");uP(s.model,ve,De.event.item),wr(ve,c0()),s.onItemExecute(ve,Ue,De.event.item,Co.getValue(ve)),ni.close(Ue),Q7(ve)})].concat(s.dismissOnBlur?[pn(Rf(),ve=>{const De=tr.getCoupled(ve,"sandbox");Wa(De.element).isNone()&&ni.close(De)})]:[]))],fe={[qg()]:[Co.name(),bV.name(),K],...s.eventOrder};return{uid:s.uid,dom:XV(Jr(s,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...O,...pu(s.typeaheadBehaviours,oe)},eventOrder:fe}},ure=F([bi("lazySink"),kn("fetch"),Wt("minChars",5),Wt("responseTime",1e3),Dr("onOpen"),Wt("getHotspot",te.some),Wt("getAnchorOverrides",F({})),Wt("layouts",te.none()),Wt("eventOrder",{}),qE("model",{},[Wt("getDisplayText",s=>s.meta!==void 0&&s.meta.text!==void 0?s.meta.text:s.value),Wt("selectsOver",!0),Wt("populateFromBrowse",!0)]),Dr("onSetValue"),Xl("onExecute"),Dr("onItemExecute"),Wt("inputClasses",[]),Wt("inputAttributes",{}),Wt("inputStyles",{}),Wt("matchWidth",!0),Wt("useMinWidth",!1),Wt("dismissOnBlur",!0),_h(["openClass"]),bi("initialData"),bi("listRole"),fu("typeaheadBehaviours",[js,Co,bV,os,Pr,tr]),zc("lazyTypeaheadComp",()=>$n(te.none)),zc("previewing",()=>$n(!0))].concat(RT()).concat(YI())),dre=F([ee({schema:[QE()],name:"menu",overrides:s=>({fakeFocus:!0,onHighlightItem:(l,h,g)=>{s.previewing.get()?s.lazyTypeaheadComp.get().each(E=>{lre(s.model,E,g).fold(()=>{s.model.selectsOver?(fi.dehighlight(h,g),s.previewing.set(!0)):s.previewing.set(!1)},(O=>{O(),s.previewing.set(!1)}))}):s.lazyTypeaheadComp.get().each(E=>{s.model.populateFromBrowse&&uP(s.model,E,g),rr(g.element,"id").each(O=>cs(E.element,"aria-activedescendant",O))})},onExecute:(l,h)=>s.lazyTypeaheadComp.get().map(g=>(ms(g,wF(),{item:h}),!0)),onHover:(l,h)=>{s.previewing.set(!1),s.lazyTypeaheadComp.get().each(g=>{s.model.populateFromBrowse&&uP(s.model,g,h)})}})})]),hre=nf({name:"Typeahead",configFields:ure(),partFields:dre(),factory:cre});var fre=tinymce.util.Tools.resolve("tinymce.ThemeManager"),dP=tinymce.util.Tools.resolve("tinymce.util.Delay"),hR=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),eW=tinymce.util.Tools.resolve("tinymce.EditorManager"),MT=tinymce.util.Tools.resolve("tinymce.Env"),rg;(function(s){s.default="wrap",s.floating="floating",s.sliding="sliding",s.scrolling="scrolling"})(rg||(rg={}));var ig;(function(s){s.auto="auto",s.top="top",s.bottom="bottom"})(ig||(ig={}));const Yi=s=>l=>l.options.get(s),fR=s=>l=>te.from(s(l)),hP=s=>{const l=MT.deviceType.isPhone(),h=MT.deviceType.isTablet()||l,g=s.options.register,E=R=>v(R)||R===!1,O=R=>v(R)||re(R);g("skin",{processor:R=>v(R)||R===!1,default:"oxide"}),g("skin_url",{processor:"string"}),g("height",{processor:O,default:Math.max(s.getElement().offsetHeight,400)}),g("width",{processor:O,default:hR.DOM.getStyle(s.getElement(),"width")}),g("min_height",{processor:"number",default:100}),g("min_width",{processor:"number"}),g("max_height",{processor:"number"}),g("max_width",{processor:"number"}),g("style_formats",{processor:"object[]"}),g("style_formats_merge",{processor:"boolean",default:!1}),g("style_formats_autohide",{processor:"boolean",default:!1}),g("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),g("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),g("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),g("font_size_input_default_unit",{processor:"string",default:"pt"}),g("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),g("content_langs",{processor:"object[]"}),g("removed_menuitems",{processor:"string",default:""}),g("menubar",{processor:R=>v(R)||B(R),default:!l}),g("menu",{processor:"object",default:{}}),g("toolbar",{processor:R=>B(R)||v(R)||x(R)?{value:R,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),jn(9,R=>{g("toolbar"+(R+1),{processor:"string"})}),g("toolbar_mode",{processor:"string",default:h?"scrolling":"floating"}),g("toolbar_groups",{processor:"object",default:{}}),g("toolbar_location",{processor:"string",default:ig.auto}),g("toolbar_persist",{processor:"boolean",default:!1}),g("toolbar_sticky",{processor:"boolean",default:s.inline}),g("toolbar_sticky_offset",{processor:"number",default:0}),g("fixed_toolbar_container",{processor:"string",default:""}),g("fixed_toolbar_container_target",{processor:"object"}),g("ui_mode",{processor:"string",default:"combined"}),g("file_picker_callback",{processor:"function"}),g("file_picker_validator_handler",{processor:"function"}),g("file_picker_types",{processor:"string"}),g("typeahead_urls",{processor:"boolean",default:!0}),g("anchor_top",{processor:E,default:"#top"}),g("anchor_bottom",{processor:E,default:"#bottom"}),g("draggable_modal",{processor:"boolean",default:!1}),g("statusbar",{processor:"boolean",default:!0}),g("elementpath",{processor:"boolean",default:!0}),g("branding",{processor:"boolean",default:!0}),g("promotion",{processor:"boolean",default:!0}),g("resize",{processor:R=>R==="both"||B(R),default:!MT.deviceType.isTouch()}),g("sidebar_show",{processor:"string"}),g("help_accessibility",{processor:"boolean",default:s.hasPlugin("help")}),g("default_font_stack",{processor:"string[]",default:[]})},Zc=Yi("readonly"),fP=Yi("disabled"),_F=Yi("height"),AF=Yi("width"),TF=fR(Yi("min_width")),xF=fR(Yi("min_height")),pP=fR(Yi("max_width")),OF=fR(Yi("max_height")),tW=fR(Yi("style_formats")),nW=Yi("style_formats_merge"),oW=Yi("style_formats_autohide"),sW=Yi("content_langs"),rW=Yi("removed_menuitems"),Kw=Yi("toolbar_mode"),iW=Yi("toolbar_groups"),IF=Yi("toolbar_location"),pre=Yi("fixed_toolbar_container"),mre=Yi("fixed_toolbar_container_target"),aW=Yi("toolbar_persist"),lW=Yi("toolbar_sticky_offset"),cW=Yi("menubar"),mP=Yi("toolbar"),uW=Yi("file_picker_callback"),dW=Yi("file_picker_validator_handler"),hW=Yi("font_size_input_default_unit"),fW=Yi("file_picker_types"),RF=Yi("typeahead_urls"),pW=Yi("anchor_top"),kF=Yi("anchor_bottom"),mW=Yi("draggable_modal"),DF=Yi("statusbar"),gW=Yi("elementpath"),gP=Yi("branding"),vW=Yi("resize"),bW=Yi("paste_as_text"),yW=Yi("sidebar_show"),SW=Yi("promotion"),CW=Yi("help_accessibility"),EW=Yi("default_font_stack"),wW=Yi("skin"),MF=s=>s.options.get("skin")===!1,vP=s=>s.options.get("menubar")!==!1,_W=s=>{const l=s.options.get("skin_url");if(MF(s))return l;if(l)return s.documentBaseURI.toAbsolute(l);{const h=s.options.get("skin");return eW.baseURL+"/skins/ui/"+h}},gre=s=>te.from(s.options.get("skin_url")),AW=s=>s.options.get("line_height_formats").split(" "),bP=s=>{const l=mP(s),h=v(l),g=x(l)&&l.length>0;return!pR(s)&&(g||h||l===!0)},yP=s=>{const l=jn(9,g=>s.options.get("toolbar"+(g+1))),h=vs(l,v);return rl(h.length>0,h)},pR=s=>yP(s).fold(()=>{const l=mP(s);return le(l,v)&&l.length>0},gt),PF=s=>IF(s)===ig.bottom,TW=s=>{var l;if(!s.inline)return te.none();const h=(l=pre(s))!==null&&l!==void 0?l:"";if(h.length>0)return ui(Fd(),h);const g=mre(s);return W(g)?te.some(co.fromDom(g)):te.none()},PT=s=>s.inline&&TW(s).isSome(),NF=s=>TW(s).getOrThunk(()=>ja(oa(co.fromDom(s.getElement())))),mR=s=>s.inline&&!vP(s)&&!bP(s)&&!pR(s),Y1=s=>(s.options.get("toolbar_sticky")||s.inline)&&!PT(s)&&!mR(s),LC=s=>!PT(s)&&s.options.get("ui_mode")==="split",gR=s=>{const l=s.options.get("menu");return Ls(l,h=>({...h,items:h.items}))};var vre=Object.freeze({__proto__:null,get ToolbarMode(){return rg},get ToolbarLocation(){return ig},register:hP,getSkinUrl:_W,getSkinUrlOption:gre,isReadOnly:Zc,isDisabled:fP,getSkin:wW,isSkinDisabled:MF,getHeightOption:_F,getWidthOption:AF,getMinWidthOption:TF,getMinHeightOption:xF,getMaxWidthOption:pP,getMaxHeightOption:OF,getUserStyleFormats:tW,shouldMergeStyleFormats:nW,shouldAutoHideStyleFormats:oW,getLineHeightFormats:AW,getContentLanguages:sW,getRemovedMenuItems:rW,isMenubarEnabled:vP,isMultipleToolbars:pR,isToolbarEnabled:bP,isToolbarPersist:aW,getMultipleToolbarsOption:yP,getUiContainer:NF,useFixedContainer:PT,isSplitUiMode:LC,getToolbarMode:Kw,isDraggableModal:mW,isDistractionFree:mR,isStickyToolbar:Y1,getStickyToolbarOffset:lW,getToolbarLocation:IF,isToolbarLocationBottom:PF,getToolbarGroups:iW,getMenus:gR,getMenubar:cW,getToolbar:mP,getFilePickerCallback:uW,getFilePickerTypes:fW,useTypeaheadUrls:RF,getAnchorTop:pW,getAnchorBottom:kF,getFilePickerValidatorHandler:dW,getFontSizeInputDefaultUnit:hW,useStatusBar:DF,useElementPath:gW,promotionEnabled:SW,useBranding:gP,getResize:vW,getPasteAsText:bW,getSidebarShow:yW,useHelpAccessibility:CW,getDefaultFontStack:EW});const bre=["visible","hidden","clip"],xW=s=>vo(s).length>0&&!Cn(bre,s),OW=s=>{if(et(s)){const l=aa(s,"overflow-x"),h=aa(s,"overflow-y");return xW(l)||xW(h)}else return!1},yre=s=>s.plugins.fullscreen&&s.plugins.fullscreen.isFullscreen(),SP=(s,l)=>{const h=il(l,OW),g=h.length===0?sa(l).map(ti).map(E=>il(E,OW)).getOr([]):h;return $t(g).map(E=>({element:E,others:g.slice(1),isFullscreen:()=>yre(s)}))},dv=(s,l)=>LC(s)?SP(s,l):te.none(),BC=s=>{const l=[...qt(s.others,Vl),Fu()];return s.isFullscreen()?Fu():dd(Vl(s.element),l)};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:LF,setPrototypeOf:IW,isFrozen:Sre,getPrototypeOf:Cre,getOwnPropertyDescriptor:Ere}=Object;let{freeze:mm,seal:gb,create:RW}=Object,{apply:BF,construct:VF}=typeof Reflect<"u"&&Reflect;mm||(mm=function(l){return l}),gb||(gb=function(l){return l}),BF||(BF=function(l,h,g){return l.apply(h,g)}),VF||(VF=function(l,h){return new l(...h)});const CP=vm(Array.prototype.forEach),wre=vm(Array.prototype.lastIndexOf),FF=vm(Array.prototype.pop),xy=vm(Array.prototype.push),Yw=vm(Array.prototype.splice),EP=vm(String.prototype.toLowerCase),wP=vm(String.prototype.toString),HF=vm(String.prototype.match),VC=vm(String.prototype.replace),_re=vm(String.prototype.indexOf),NT=vm(String.prototype.trim),wp=vm(Object.prototype.hasOwnProperty),gm=vm(RegExp.prototype.test),vR=Are(TypeError);function vm(s){return function(l){l instanceof RegExp&&(l.lastIndex=0);for(var h=arguments.length,g=new Array(h>1?h-1:0),E=1;E<h;E++)g[E-1]=arguments[E];return BF(s,l,g)}}function Are(s){return function(){for(var l=arguments.length,h=new Array(l),g=0;g<l;g++)h[g]=arguments[g];return VF(s,h)}}function wa(s,l){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:EP;IW&&IW(s,null);let g=l.length;for(;g--;){let E=l[g];if(typeof E=="string"){const O=h(E);O!==E&&(Sre(l)||(l[g]=O),E=O)}s[E]=!0}return s}function Tre(s){for(let l=0;l<s.length;l++)wp(s,l)||(s[l]=null);return s}function X1(s){const l=RW(null);for(const[h,g]of LF(s))wp(s,h)&&(Array.isArray(g)?l[h]=Tre(g):g&&typeof g=="object"&&g.constructor===Object?l[h]=X1(g):l[h]=g);return l}function FC(s,l){for(;s!==null;){const g=Ere(s,l);if(g){if(g.get)return vm(g.get);if(typeof g.value=="function")return vm(g.value)}s=Cre(s)}function h(){return null}return h}const $F=mm(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),UF=mm(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),_P=mm(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),xre=mm(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),zF=mm(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),jF=mm(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ore=mm(["#text"]),AP=mm(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),WF=mm(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),kW=mm(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),TP=mm(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),DW=gb(/\{\{[\w\W]*|[\w\W]*\}\}/gm),MW=gb(/<%[\w\W]*|[\w\W]*%>/gm),Ire=gb(/\$\{[\w\W]*/gm),Rre=gb(/^data-[\-\w.\u00B7-\uFFFF]+$/),PW=gb(/^aria-[\-\w]+$/),NW=gb(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),kre=gb(/^(?:\w+script|data):/i),xP=gb(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),LW=gb(/^html$/i),tSe=gb(/^[a-z][.\w]*(-[.\w]+)+$/i);var OP=Object.freeze({__proto__:null,ARIA_ATTR:PW,ATTR_WHITESPACE:xP,CUSTOM_ELEMENT:tSe,DATA_ATTR:Rre,DOCTYPE_NAME:LW,ERB_EXPR:MW,IS_ALLOWED_URI:NW,IS_SCRIPT_OR_DATA:kre,MUSTACHE_EXPR:DW,TMPLIT_EXPR:Ire});const bR={element:1,text:3,progressingInstruction:7,comment:8,document:9},GF=function(){return typeof window>"u"?null:window},Dre=function(l,h){if(typeof l!="object"||typeof l.createPolicy!="function")return null;let g=null;const E="data-tt-policy-suffix";h&&h.hasAttribute(E)&&(g=h.getAttribute(E));const O="dompurify"+(g?"#"+g:"");try{return l.createPolicy(O,{createHTML(R){return R},createScriptURL(R){return R}})}catch{return console.warn("TrustedTypes policy "+O+" could not be created."),null}},BW=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function qF(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:GF();const l=Dt=>qF(Dt);if(l.version="3.2.6",l.removed=[],!s||!s.document||s.document.nodeType!==bR.document||!s.Element)return l.isSupported=!1,l;let{document:h}=s;const g=h,E=g.currentScript,{DocumentFragment:O,HTMLTemplateElement:R,Node:G,Element:K,NodeFilter:oe,NamedNodeMap:fe=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:ve,DOMParser:De,trustedTypes:Ue}=s,He=K.prototype,nt=FC(He,"cloneNode"),pt=FC(He,"remove"),st=FC(He,"nextSibling"),yt=FC(He,"childNodes"),_t=FC(He,"parentNode");if(typeof R=="function"){const Dt=h.createElement("template");Dt.content&&Dt.content.ownerDocument&&(h=Dt.content.ownerDocument)}let Qt,nn="";const{implementation:So,createNodeIterator:Hn,createDocumentFragment:Wn,getElementsByTagName:Bn}=h,{importNode:ds}=g;let Zo=BW();l.isSupported=typeof LF=="function"&&typeof _t=="function"&&So&&So.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:kr,ERB_EXPR:As,TMPLIT_EXPR:Xs,DATA_ATTR:Wo,ARIA_ATTR:Nn,IS_SCRIPT_OR_DATA:fo,ATTR_WHITESPACE:Is,CUSTOM_ELEMENT:er}=OP;let{IS_ALLOWED_URI:Qo}=OP,Qs=null;const pi=wa({},[...$F,...UF,..._P,...zF,...Ore]);let si=null;const rf=wa({},[...AP,...WF,...kW,...TP]);let _a=Object.seal(RW(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Sd=null,Lc=null,Ff=!0,Ih=!0,$l=!1,My=!0,vv=!1,b_=!0,iS=!1,g2=!1,Py=!1,v2=!1,dL=!1,b2=!1,y_=!0,y2=!1;const bY="user-content-";let XU=!0,S2=!1,dx={},hx=null;const S_=wa({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Afe=null;const yY=wa({},["audio","video","img","source","image","track"]);let JU=null;const Tfe=wa({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),hL="http://www.w3.org/1998/Math/MathML",fL="http://www.w3.org/2000/svg",bv="http://www.w3.org/1999/xhtml";let fx=bv,QU=!1,pL=null;const xfe=wa({},[hL,fL,bv],wP);let e5=wa({},["mi","mo","mn","ms","mtext"]),t=wa({},["annotation-xml"]);const r=wa({},["title","style","font","a","script"]);let a=null;const u=["application/xhtml+xml","text/html"],f="text/html";let y=null,A=null;const M=h.createElement("form"),H=function(Qe){return Qe instanceof RegExp||Qe instanceof Function},Y=function(){let Qe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(A&&A===Qe)){if((!Qe||typeof Qe!="object")&&(Qe={}),Qe=X1(Qe),a=u.indexOf(Qe.PARSER_MEDIA_TYPE)===-1?f:Qe.PARSER_MEDIA_TYPE,y=a==="application/xhtml+xml"?wP:EP,Qs=wp(Qe,"ALLOWED_TAGS")?wa({},Qe.ALLOWED_TAGS,y):pi,si=wp(Qe,"ALLOWED_ATTR")?wa({},Qe.ALLOWED_ATTR,y):rf,pL=wp(Qe,"ALLOWED_NAMESPACES")?wa({},Qe.ALLOWED_NAMESPACES,wP):xfe,JU=wp(Qe,"ADD_URI_SAFE_ATTR")?wa(X1(Tfe),Qe.ADD_URI_SAFE_ATTR,y):Tfe,Afe=wp(Qe,"ADD_DATA_URI_TAGS")?wa(X1(yY),Qe.ADD_DATA_URI_TAGS,y):yY,hx=wp(Qe,"FORBID_CONTENTS")?wa({},Qe.FORBID_CONTENTS,y):S_,Sd=wp(Qe,"FORBID_TAGS")?wa({},Qe.FORBID_TAGS,y):X1({}),Lc=wp(Qe,"FORBID_ATTR")?wa({},Qe.FORBID_ATTR,y):X1({}),dx=wp(Qe,"USE_PROFILES")?Qe.USE_PROFILES:!1,Ff=Qe.ALLOW_ARIA_ATTR!==!1,Ih=Qe.ALLOW_DATA_ATTR!==!1,$l=Qe.ALLOW_UNKNOWN_PROTOCOLS||!1,My=Qe.ALLOW_SELF_CLOSE_IN_ATTR!==!1,vv=Qe.SAFE_FOR_TEMPLATES||!1,b_=Qe.SAFE_FOR_XML!==!1,iS=Qe.WHOLE_DOCUMENT||!1,v2=Qe.RETURN_DOM||!1,dL=Qe.RETURN_DOM_FRAGMENT||!1,b2=Qe.RETURN_TRUSTED_TYPE||!1,Py=Qe.FORCE_BODY||!1,y_=Qe.SANITIZE_DOM!==!1,y2=Qe.SANITIZE_NAMED_PROPS||!1,XU=Qe.KEEP_CONTENT!==!1,S2=Qe.IN_PLACE||!1,Qo=Qe.ALLOWED_URI_REGEXP||NW,fx=Qe.NAMESPACE||bv,e5=Qe.MATHML_TEXT_INTEGRATION_POINTS||e5,t=Qe.HTML_INTEGRATION_POINTS||t,_a=Qe.CUSTOM_ELEMENT_HANDLING||{},Qe.CUSTOM_ELEMENT_HANDLING&&H(Qe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(_a.tagNameCheck=Qe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Qe.CUSTOM_ELEMENT_HANDLING&&H(Qe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(_a.attributeNameCheck=Qe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Qe.CUSTOM_ELEMENT_HANDLING&&typeof Qe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(_a.allowCustomizedBuiltInElements=Qe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),vv&&(Ih=!1),dL&&(v2=!0),dx&&(Qs=wa({},Ore),si=[],dx.html===!0&&(wa(Qs,$F),wa(si,AP)),dx.svg===!0&&(wa(Qs,UF),wa(si,WF),wa(si,TP)),dx.svgFilters===!0&&(wa(Qs,_P),wa(si,WF),wa(si,TP)),dx.mathMl===!0&&(wa(Qs,zF),wa(si,kW),wa(si,TP))),Qe.ADD_TAGS&&(Qs===pi&&(Qs=X1(Qs)),wa(Qs,Qe.ADD_TAGS,y)),Qe.ADD_ATTR&&(si===rf&&(si=X1(si)),wa(si,Qe.ADD_ATTR,y)),Qe.ADD_URI_SAFE_ATTR&&wa(JU,Qe.ADD_URI_SAFE_ATTR,y),Qe.FORBID_CONTENTS&&(hx===S_&&(hx=X1(hx)),wa(hx,Qe.FORBID_CONTENTS,y)),XU&&(Qs["#text"]=!0),iS&&wa(Qs,["html","head","body"]),Qs.table&&(wa(Qs,["tbody"]),delete Sd.tbody),Qe.TRUSTED_TYPES_POLICY){if(typeof Qe.TRUSTED_TYPES_POLICY.createHTML!="function")throw vR('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Qe.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw vR('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Qt=Qe.TRUSTED_TYPES_POLICY,nn=Qt.createHTML("")}else Qt===void 0&&(Qt=Dre(Ue,E)),Qt!==null&&typeof nn=="string"&&(nn=Qt.createHTML(""));mm&&mm(Qe),A=Qe}},ue=wa({},[...UF,..._P,...xre]),me=wa({},[...zF,...jF]),Se=function(Qe){let Xt=_t(Qe);(!Xt||!Xt.tagName)&&(Xt={namespaceURI:fx,tagName:"template"});const qn=EP(Qe.tagName),ss=EP(Xt.tagName);return pL[Qe.namespaceURI]?Qe.namespaceURI===fL?Xt.namespaceURI===bv?qn==="svg":Xt.namespaceURI===hL?qn==="svg"&&(ss==="annotation-xml"||e5[ss]):!!ue[qn]:Qe.namespaceURI===hL?Xt.namespaceURI===bv?qn==="math":Xt.namespaceURI===fL?qn==="math"&&t[ss]:!!me[qn]:Qe.namespaceURI===bv?Xt.namespaceURI===fL&&!t[ss]||Xt.namespaceURI===hL&&!e5[ss]?!1:!me[qn]&&(r[qn]||!ue[qn]):!!(a==="application/xhtml+xml"&&pL[Qe.namespaceURI]):!1},Oe=function(Qe){xy(l.removed,{element:Qe});try{_t(Qe).removeChild(Qe)}catch{pt(Qe)}},Ke=function(Qe,Xt){try{xy(l.removed,{attribute:Xt.getAttributeNode(Qe),from:Xt})}catch{xy(l.removed,{attribute:null,from:Xt})}if(Xt.removeAttribute(Qe),Qe==="is")if(v2||dL)try{Oe(Xt)}catch{}else try{Xt.setAttribute(Qe,"")}catch{}},Ze=function(Qe){let Xt=null,qn=null;if(Py)Qe="<remove></remove>"+Qe;else{const Or=HF(Qe,/^[\r\n\t ]+/);qn=Or&&Or[0]}a==="application/xhtml+xml"&&fx===bv&&(Qe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Qe+"</body></html>");const ss=Qt?Qt.createHTML(Qe):Qe;if(fx===bv)try{Xt=new De().parseFromString(ss,a)}catch{}if(!Xt||!Xt.documentElement){Xt=So.createDocument(fx,"template",null);try{Xt.documentElement.innerHTML=QU?nn:ss}catch{}}const Gs=Xt.body||Xt.documentElement;return Qe&&qn&&Gs.insertBefore(h.createTextNode(qn),Gs.childNodes[0]||null),fx===bv?Bn.call(Xt,iS?"html":"body")[0]:iS?Xt.documentElement:Gs},We=function(Qe){return Hn.call(Qe.ownerDocument||Qe,Qe,oe.SHOW_ELEMENT|oe.SHOW_COMMENT|oe.SHOW_TEXT|oe.SHOW_PROCESSING_INSTRUCTION|oe.SHOW_CDATA_SECTION,null)},Ct=function(Qe){return Qe instanceof ve&&(typeof Qe.nodeName!="string"||typeof Qe.textContent!="string"||typeof Qe.removeChild!="function"||!(Qe.attributes instanceof fe)||typeof Qe.removeAttribute!="function"||typeof Qe.setAttribute!="function"||typeof Qe.namespaceURI!="string"||typeof Qe.insertBefore!="function"||typeof Qe.hasChildNodes!="function")},Et=function(Qe){return typeof G=="function"&&Qe instanceof G};function Pt(Dt,Qe,Xt){CP(Dt,qn=>{qn.call(l,Qe,Xt,A)})}const Kt=function(Qe){let Xt=null;if(Pt(Zo.beforeSanitizeElements,Qe,null),Ct(Qe))return Oe(Qe),!0;const qn=y(Qe.nodeName);if(Pt(Zo.uponSanitizeElement,Qe,{tagName:qn,allowedTags:Qs}),b_&&Qe.hasChildNodes()&&!Et(Qe.firstElementChild)&&gm(/<[/\w!]/g,Qe.innerHTML)&&gm(/<[/\w!]/g,Qe.textContent)||Qe.nodeType===bR.progressingInstruction||b_&&Qe.nodeType===bR.comment&&gm(/<[/\w]/g,Qe.data))return Oe(Qe),!0;if(!Qs[qn]||Sd[qn]){if(!Sd[qn]&&ho(qn)&&(_a.tagNameCheck instanceof RegExp&&gm(_a.tagNameCheck,qn)||_a.tagNameCheck instanceof Function&&_a.tagNameCheck(qn)))return!1;if(XU&&!hx[qn]){const ss=_t(Qe)||Qe.parentNode,Gs=yt(Qe)||Qe.childNodes;if(Gs&&ss){const Or=Gs.length;for(let Yr=Or-1;Yr>=0;--Yr){const tl=nt(Gs[Yr],!0);tl.__removalCount=(Qe.__removalCount||0)+1,ss.insertBefore(tl,st(Qe))}}}return Oe(Qe),!0}return Qe instanceof K&&!Se(Qe)||(qn==="noscript"||qn==="noembed"||qn==="noframes")&&gm(/<\/no(script|embed|frames)/i,Qe.innerHTML)?(Oe(Qe),!0):(vv&&Qe.nodeType===bR.text&&(Xt=Qe.textContent,CP([kr,As,Xs],ss=>{Xt=VC(Xt,ss," ")}),Qe.textContent!==Xt&&(xy(l.removed,{element:Qe.cloneNode()}),Qe.textContent=Xt)),Pt(Zo.afterSanitizeElements,Qe,null),!1)},In=function(Qe,Xt,qn){if(y_&&(Xt==="id"||Xt==="name")&&(qn in h||qn in M))return!1;if(!(Ih&&!Lc[Xt]&&gm(Wo,Xt))){if(!(Ff&&gm(Nn,Xt))){if(!si[Xt]||Lc[Xt]){if(!(ho(Qe)&&(_a.tagNameCheck instanceof RegExp&&gm(_a.tagNameCheck,Qe)||_a.tagNameCheck instanceof Function&&_a.tagNameCheck(Qe))&&(_a.attributeNameCheck instanceof RegExp&&gm(_a.attributeNameCheck,Xt)||_a.attributeNameCheck instanceof Function&&_a.attributeNameCheck(Xt))||Xt==="is"&&_a.allowCustomizedBuiltInElements&&(_a.tagNameCheck instanceof RegExp&&gm(_a.tagNameCheck,qn)||_a.tagNameCheck instanceof Function&&_a.tagNameCheck(qn))))return!1}else if(!JU[Xt]){if(!gm(Qo,VC(qn,Is,""))){if(!((Xt==="src"||Xt==="xlink:href"||Xt==="href")&&Qe!=="script"&&_re(qn,"data:")===0&&Afe[Qe])){if(!($l&&!gm(fo,VC(qn,Is,"")))){if(qn)return!1}}}}}}return!0},ho=function(Qe){return Qe!=="annotation-xml"&&HF(Qe,er)},Kn=function(Qe){Pt(Zo.beforeSanitizeAttributes,Qe,null);const{attributes:Xt}=Qe;if(!Xt||Ct(Qe))return;const qn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:si,forceKeepAttr:void 0};let ss=Xt.length;for(;ss--;){const Gs=Xt[ss],{name:Or,namespaceURI:Yr,value:tl}=Gs,nl=y(Or),Cd=tl;let lo=Or==="value"?Cd:NT(Cd);if(qn.attrName=nl,qn.attrValue=lo,qn.keepAttr=!0,qn.forceKeepAttr=void 0,Pt(Zo.uponSanitizeAttribute,Qe,qn),lo=qn.attrValue,y2&&(nl==="id"||nl==="name")&&(Ke(Or,Qe),lo=bY+lo),b_&&gm(/((--!?|])>)|<\/(style|title)/i,lo)){Ke(Or,Qe);continue}if(qn.forceKeepAttr)continue;if(!qn.keepAttr){Ke(Or,Qe);continue}if(!My&&gm(/\/>/i,lo)){Ke(Or,Qe);continue}vv&&CP([kr,As,Xs],ri=>{lo=VC(lo,ri," ")});const as=y(Qe.nodeName);if(!In(as,nl,lo)){Ke(Or,Qe);continue}if(Qt&&typeof Ue=="object"&&typeof Ue.getAttributeType=="function"&&!Yr)switch(Ue.getAttributeType(as,nl)){case"TrustedHTML":{lo=Qt.createHTML(lo);break}case"TrustedScriptURL":{lo=Qt.createScriptURL(lo);break}}if(lo!==Cd)try{Yr?Qe.setAttributeNS(Yr,Or,lo):Qe.setAttribute(Or,lo),Ct(Qe)?Oe(Qe):FF(l.removed)}catch{Ke(Or,Qe)}}Pt(Zo.afterSanitizeAttributes,Qe,null)},Sn=function Dt(Qe){let Xt=null;const qn=We(Qe);for(Pt(Zo.beforeSanitizeShadowDOM,Qe,null);Xt=qn.nextNode();)Pt(Zo.uponSanitizeShadowNode,Xt,null),Kt(Xt),Kn(Xt),Xt.content instanceof O&&Dt(Xt.content);Pt(Zo.afterSanitizeShadowDOM,Qe,null)};return l.sanitize=function(Dt){let Qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Xt=null,qn=null,ss=null,Gs=null;if(QU=!Dt,QU&&(Dt="<!-->"),typeof Dt!="string"&&!Et(Dt))if(typeof Dt.toString=="function"){if(Dt=Dt.toString(),typeof Dt!="string")throw vR("dirty is not a string, aborting")}else throw vR("toString is not a function");if(!l.isSupported)return Dt;if(g2||Y(Qe),l.removed=[],typeof Dt=="string"&&(S2=!1),S2){if(Dt.nodeName){const tl=y(Dt.nodeName);if(!Qs[tl]||Sd[tl])throw vR("root node is forbidden and cannot be sanitized in-place")}}else if(Dt instanceof G)Xt=Ze("<!---->"),qn=Xt.ownerDocument.importNode(Dt,!0),qn.nodeType===bR.element&&qn.nodeName==="BODY"||qn.nodeName==="HTML"?Xt=qn:Xt.appendChild(qn);else{if(!v2&&!vv&&!iS&&Dt.indexOf("<")===-1)return Qt&&b2?Qt.createHTML(Dt):Dt;if(Xt=Ze(Dt),!Xt)return v2?null:b2?nn:""}Xt&&Py&&Oe(Xt.firstChild);const Or=We(S2?Dt:Xt);for(;ss=Or.nextNode();)Kt(ss),Kn(ss),ss.content instanceof O&&Sn(ss.content);if(S2)return Dt;if(v2){if(dL)for(Gs=Wn.call(Xt.ownerDocument);Xt.firstChild;)Gs.appendChild(Xt.firstChild);else Gs=Xt;return(si.shadowroot||si.shadowrootmode)&&(Gs=ds.call(g,Gs,!0)),Gs}let Yr=iS?Xt.outerHTML:Xt.innerHTML;return iS&&Qs["!doctype"]&&Xt.ownerDocument&&Xt.ownerDocument.doctype&&Xt.ownerDocument.doctype.name&&gm(LW,Xt.ownerDocument.doctype.name)&&(Yr="<!DOCTYPE "+Xt.ownerDocument.doctype.name+`>
`+Yr),vv&&CP([kr,As,Xs],tl=>{Yr=VC(Yr,tl," ")}),Qt&&b2?Qt.createHTML(Yr):Yr},l.setConfig=function(){let Dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Y(Dt),g2=!0},l.clearConfig=function(){A=null,g2=!1},l.isValidAttribute=function(Dt,Qe,Xt){A||Y({});const qn=y(Dt),ss=y(Qe);return In(qn,ss,Xt)},l.addHook=function(Dt,Qe){typeof Qe=="function"&&xy(Zo[Dt],Qe)},l.removeHook=function(Dt,Qe){if(Qe!==void 0){const Xt=wre(Zo[Dt],Qe);return Xt===-1?void 0:Yw(Zo[Dt],Xt,1)[0]}return FF(Zo[Dt])},l.removeHooks=function(Dt){Zo[Dt]=[]},l.removeAllHooks=function(){Zo=BW()},l}var VW=qF();const ZF=s=>VW().sanitize(s);var hc=tinymce.util.Tools.resolve("tinymce.util.I18n");const Xw={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-disc":!0,"list-bull-default":!0,"list-bull-square":!0},FW="temporary-placeholder",KF=s=>()=>cn(s,FW).getOr("!not found!"),IP=(s,l)=>{const h=s.toLowerCase();if(hc.isRtl()){const g=np(h,"-rtl");return ro(l,g)?g:h}else return h},HW=(s,l)=>cn(l,IP(s,l)),YF=(s,l)=>{const h=l();return HW(s,h).getOrThunk(KF(h))},Mre=(s,l,h)=>{const g=l();return HW(s,g).or(h).getOrThunk(KF(g))},Pre=s=>hc.isRtl()?ro(Xw,s):!1,$W=()=>$s("add-focusable",[Ea(s=>{wf(s.element,"svg").each(l=>cs(l,"focusable","false"))})]),UW=(s,l,h,g)=>{var E,O,R;const G=Pre(l)?["tox-icon--flip"]:[],K=cn(h,IP(l,h)).or(g).getOrThunk(KF(h));return{dom:{tag:s.tag,attributes:(E=s.attributes)!==null&&E!==void 0?E:{},classes:s.classes.concat(G),innerHtml:K},behaviours:oo([...(O=s.behaviours)!==null&&O!==void 0?O:[],$W()]),eventOrder:(R=s.eventOrder)!==null&&R!==void 0?R:{}}},ag=(s,l,h,g=te.none())=>UW(l,s,h(),g),Nre=(s,l,h)=>{const g=h(),E=zt(s,O=>ro(g,IP(O,g)));return UW(l,E.getOr(FW),g,te.none())},Lre={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},yR=cm({name:"Notification",factory:s=>{const l=yo("notification-text"),h=oi({dom:A0(`<p id=${l}>${ZF(s.backstageProvider.translate(s.text))}</p>`),behaviours:oo([Ws.config({})])}),g=He=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${He}%`}}}),E=He=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${He}%`}}),O=oi({dom:{tag:"div",classes:s.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[g(0)]},E(0)],behaviours:oo([Ws.config({})])}),K={updateProgress:(He,nt)=>{He.getSystem().isConnected()&&O.getOpt(He).each(pt=>{Ws.set(pt,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[g(nt)]},E(nt)])})},updateText:(He,nt)=>{if(He.getSystem().isConnected()){const pt=h.get(He);Ws.set(pt,[ka(nt)])}}},oe=fn([s.icon.toArray(),[s.level],te.from(Lre[s.level]).toArray()]),fe=oi(eh.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":s.backstageProvider.translate("Close")}},components:[ag("close",{tag:"span",classes:["tox-icon"]},s.iconProvider)],buttonBehaviours:oo([da.config({}),Da.config({...s.backstageProvider.tooltips.getConfig({tooltipText:s.backstageProvider.translate("Close")})})]),action:He=>{s.onAction(He)}})),ve=Nre(oe,{tag:"div",classes:["tox-notification__icon"]},s.iconProvider),De={dom:{tag:"div",classes:["tox-notification__body"]},components:[h.asSpec()],behaviours:oo([Ws.config({})])},Ue=[ve,De];return{uid:s.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":l},classes:["tox-notification","tox-notification--in",`tox-notification--${s.level}`]},behaviours:oo([da.config({}),js.config({}),os.config({mode:"special",onEscape:He=>(s.onAction(He),te.some(!0))})]),components:Ue.concat(s.progress?[O.asSpec()]:[]).concat([fe.asSpec()]),apis:K}},configFields:[Ch("level","info",["success","error","warning","warn","info"]),kn("progress"),bi("icon"),kn("onAction"),kn("text"),kn("iconProvider"),kn("backstageProvider")],apis:{updateProgress:(s,l,h)=>{s.updateProgress(l,h)},updateText:(s,l,h)=>{s.updateText(l,h)}}});var Bre=(s,l,h,g)=>{const E=l.backstage.shared,O=()=>co.fromDom(s.queryCommandValue("ToggleView")===""?s.getContentAreaContainer():s.getContainer()),R=()=>{const ve=Vl(O());return te.some(ve)},G=ve=>{R().each(De=>{Tn(ve,Ue=>{Er(Ue.element,"width"),Ac(Ue.element)>De.width&&xs(Ue.element,"width",De.width+"px")})})};return{open:(ve,De,Ue)=>{const He=()=>{const _t=Hn=>{Ws.remove(Hn,pt),st()},Qt=(Hn,Wn)=>{pr(Hn.element).length===0?nn(Hn,Wn):So(Hn,Wn)},nn=(Hn,Wn)=>{el.hide(Hn),g.clear(),Wn&&s.focus()},So=(Hn,Wn)=>{Wn&&os.focusIn(Hn)};g.on(Hn=>{De();const Wn=Ue();_t(Hn),Qt(Hn,Wn)})},nt=()=>!Y1(s)||!E.header.isPositionedAtTop(),pt=k(yR.sketch({text:ve.text,level:Cn(["success","error","warning","warn","info"],ve.type)?ve.type:void 0,progress:ve.progressBar===!0,icon:ve.icon,onAction:He,iconProvider:E.providers.icons,backstageProvider:E.providers}));if(g.isSet()){const _t=z(pt);g.on(Qt=>{Ws.append(Qt,_t),el.reposition(Qt),pt.hasConfigured(Qa)&&Qa.refresh(Qt),G(Qt.components())})}else{const _t=k(el.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:E.getSink,fireDismissalEventInstead:{},...E.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:oo([os.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),Ws.config({}),...nt()?[Qa.config({contextual:{lazyContext:()=>te.some(Vl(O())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:Hn=>dv(s,Hn.element).map(Bn=>({bounds:BC(Bn),optScrollEnv:te.some({currentScrollTop:Bn.element.dom.scrollTop,scrollElmTop:Uc(Bn.element).top})})).getOrThunk(()=>({bounds:Fu(),optScrollEnv:te.none()}))})]:[]])})),Qt=z(pt),nn={maxHeightFunction:_1()},So={...E.anchors.banner(),overrides:nn};g.set(_t),h.add(_t),el.showWithinBounds(_t,Qt,{anchor:So},R)}re(ve.timeout)&&ve.timeout>0&&dP.setEditorTimeout(s,()=>{He()},ve.timeout);const st=()=>{g.on(_t=>{el.reposition(_t),_t.hasConfigured(Qa)&&Qa.refresh(_t),G(_t.components())})};return{close:He,reposition:st,text:_t=>{yR.updateText(pt,_t)},settings:ve,getEl:()=>pt.element.dom,progressBar:{value:_t=>{yR.updateProgress(pt,_t)}}}},close:ve=>{ve.close()},getArgs:ve=>ve.settings}};const Vre={setup:(s,l)=>{const h=(E,O)=>{ms(E,lc(),{raw:O})},g=()=>s.getMenu().bind(fi.getHighlighted);l.on("keydown",E=>{const O=E.which;s.isActive()&&(s.isMenuOpen()?O===13?(g().each(aw),E.preventDefault()):O===40?(g().fold(()=>{s.getMenu().each(fi.highlightFirst)},R=>{h(R,E)}),E.preventDefault(),E.stopImmediatePropagation()):(O===37||O===38||O===39)&&g().each(R=>{h(R,E),E.preventDefault(),E.stopImmediatePropagation()}):(O===13||O===38||O===40)&&s.cancelIfNecessary())}),l.on("NodeChange",()=>{s.isActive()&&!s.isProcessingAction()&&!l.queryCommandState("mceAutoCompleterInRange")&&s.cancelIfNecessary()})}};var RP;(function(s){s[s.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",s[s.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(RP||(RP={}));var vb=RP;const XF="tox-menu-nav__js",kP="tox-collection__item",DP="tox-swatch",Fre={normal:XF,color:DP},JF="tox-collection__item--enabled",Hre="tox-collection__group-heading",zW="tox-collection__item-icon",$re="tox-collection__item-image",jW="tox-collection__item-image-selector",MP="tox-collection__item-label",Ure="tox-collection__item-accessory",WW="tox-collection__item-caret",zre="tox-collection__item-checkmark",Jw="tox-collection__item--active",GW="tox-collection__item-container",qW="tox-collection__item-container--column",Qw="tox-collection__item-container--row",jre="tox-collection__item-container--align-right",Wre="tox-collection__item-container--align-left",Gre="tox-collection__item-container--valign-top",PP="tox-collection__item-container--valign-middle",hv="tox-collection__item-container--valign-bottom",NP=s=>cn(Fre,s).getOr(XF),ZW=s=>s==="color"?"tox-swatches":"tox-menu",QF=s=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:ZW(s),tieredMenu:"tox-tiered-menu"}),HC=s=>{const l=QF(s);return{backgroundMenu:l.backgroundMenu,selectedMenu:l.selectedMenu,menu:l.menu,selectedItem:l.selectedItem,item:NP(s)}},qre=(s,l,h)=>{const g=QF(h);return{tag:"div",classes:fn([[g.menu,`tox-menu-${l}-column`],s?[g.hasIcons]:[]])}},Zre=[W1.parts.items({})],LT=(s,l,h)=>{const g=QF(h);return{dom:{tag:"div",classes:fn([[g.tieredMenu]])},markers:HC(h)}},eH=yo("refetch-trigger-event"),KW=yo("redirect-menu-item-interaction"),YW="tox-menu__searcher",SR=s=>ui(s.element,`.${YW}`).bind(l=>s.getSystem().getByDom(l).toOptional()),XW=SR,JW=(s,l)=>{Co.setValue(s,l.fetchPattern),s.element.dom.selectionStart=l.selectionStart,s.element.dom.selectionEnd=l.selectionEnd},tH=s=>{const l=Co.getValue(s),h=s.element.dom.selectionStart,g=s.element.dom.selectionEnd;return{fetchPattern:l,selectionStart:h,selectionEnd:g}},QW=(s,l)=>{rr(l.element,"id").each(h=>cs(s.element,"aria-activedescendant",h))},Kre=s=>{const l=(E,O)=>(O.cut(),te.none()),h=(E,O)=>{const R={interactionEvent:O.event,eventType:O.event.raw.type};return ms(E,KW,R),te.some(!0)},g="searcher-events";return{dom:{tag:"div",classes:[kP]},components:[x0.sketch({inputClasses:[YW,"tox-textfield"],inputAttributes:{...s.placeholder.map(E=>({placeholder:s.i18n(E)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:oo([$s(g,[pn(Zp(),E=>{wr(E,eH)}),pn(lc(),(E,O)=>{O.event.raw.key==="Escape"&&O.stop()})]),os.config({mode:"special",onLeft:l,onRight:l,onSpace:l,onEnter:h,onEscape:h,onUp:h,onDown:h})]),eventOrder:{keydown:[g,os.name()]}})]}},LP="tox-collection--results__js",e9=s=>{var l;return s.dom?{...s,dom:{...s.dom,attributes:{...(l=s.dom.attributes)!==null&&l!==void 0?l:{},id:yo("aria-item-search-result-id"),"aria-selected":"false"}}}:s},t9="Use arrow keys to navigate.",BP=(s,l)=>h=>{const g=wo(h,l);return qt(g,E=>({dom:s,components:E}))},VP=s=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"],attributes:{"aria-label":hc.translate(t9)}},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[W1.parts.items({preprocess:s!=="auto"?BP({tag:"div",classes:["tox-swatches__row"]},s):Ie})]}]}),Oy=s=>({dom:{tag:"div",classes:["tox-menu","tox-image-selector-menu"]},components:[{dom:{tag:"div",classes:["tox-image-selector"]},components:[W1.parts.items({preprocess:s!=="auto"?BP({tag:"div",classes:["tox-image-selector__row"]},s):Ie})]}]}),n9=s=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[W1.parts.items({preprocess:BP({tag:"div",classes:["tox-collection__group"]},s)})]}),lg=(s,l)=>{const h=[];let g=[];return Tn(s,(E,O)=>{l(E,O)?(g.length>0&&h.push(g),g=[],(ro(E.dom,"innerHtml")||E.components&&E.components.length>0)&&g.push(E)):g.push(E)}),g.length>0&&h.push(g),qt(h,E=>({dom:{tag:"div",classes:["tox-collection__group"]},components:E}))},nH=(s,l,h)=>W1.parts.items({preprocess:g=>{const E=qt(g,h);return s!=="auto"&&s>1?BP({tag:"div",classes:["tox-collection__group"]},s)(E):lg(E,(O,R)=>l[R].type==="separator")}}),FP=s=>Ro(s,l=>l.type==="widget"),o9=(s,l,h=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(s===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{...FP(l)?{"aria-label":hc.translate(t9)}:{}}},components:[nH(s,l,Ie)]}),e_=(s,l,h=!0)=>{const g=yo("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",LP].concat(s===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:g}},components:[nH(s,l,e9)]}},Yre=(s,l,h)=>{const g=yo("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(s===1?["tox-collection--list"]:["tox-collection--grid"])},components:[Kre({i18n:hc.translate,placeholder:h.placeholder}),{dom:{tag:"div",classes:[...s===1?["tox-collection--list"]:["tox-collection--grid"],LP],attributes:{id:g}},components:[nH(s,l,e9)]}]}},oH=(s,l=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[W1.parts.items({preprocess:h=>lg(h,(g,E)=>s[E].type==="separator")})]}),t_=s=>Ro(s,l=>"icon"in l&&l.icon!==void 0),O0=s=>(console.error(gp(s)),console.log(s),te.none()),Xre=(s,l,h,g,E)=>{const O=oH(h);return{value:s,dom:O.dom,components:O.components,items:h}},J1=(s,l,h,g,E)=>{const O=()=>E.menuType!=="searchable"?o9(g,h):E.searchMode.searchMode==="search-with-field"?Yre(g,h,E.searchMode):e_(g,h);if(E.menuType==="color"){const R=VP(g);return{value:s,dom:R.dom,components:R.components,items:h}}else if(E.menuType==="imageselector"&&g!=="auto"){const R=Oy(g);return{value:s,dom:R.dom,components:R.components,items:h}}else if(E.menuType==="normal"&&g==="auto"){const R=o9(g,h);return{value:s,dom:R.dom,components:R.components,items:h}}else if(E.menuType==="normal"||E.menuType==="searchable"){const R=O();return{value:s,dom:R.dom,components:R.components,items:h}}else if(E.menuType==="listpreview"&&g!=="auto"){const R=n9(g);return{value:s,dom:R.dom,components:R.components,items:h}}else return{value:s,dom:qre(l,g,E.menuType),components:Zre,items:h}},xl=ic("type"),HP=ic("name"),$P=ic("label"),I0=ic("text"),sH=ic("title"),CR=ic("icon"),s9=ic("url"),n_=ic("value"),ER=Qh("fetch"),Jre=Qh("getSubmenuItems"),BT=Qh("onAction"),Qre=Qh("onItemAction"),o_=yi("onSetup",()=>ie),rH=al("name"),$C=al("text"),iH=al("role"),fv=al("icon"),R0=al("tooltip"),eie=al("chevronTooltip"),VT=al("label"),aH=al("shortcut"),tie=qp("select"),FT=jc("active",!1),nie=jc("borderless",!1),bm=jc("enabled",!0),wR=jc("primary",!1),r9=s=>Wt("columns",s),_R=Wt("meta",{}),Q1=yi("onAction",ie),UC=s=>Ha("type",s),s_=s=>Tc("name","name",cu(()=>yo(`${s}-name`)),Fa),oie=s=>Tc("value","value",cu(()=>yo(`${s}-value`)),Un()),i9=[xl,I0,xf("level",["info","warn","error","success"]),CR,Wt("url","")],sie=Es(i9),rie=s=>[xl,s],r_=[xl,I0,bm,s_("button"),fv,nie,mA("buttonType",["primary","secondary","toolbar"]),wR,Ha("context","mode:design")],a9=Es(r_),HT=[xl,HP],bb=HT.concat([VT]),iie=HT.concat([$P,bm,Ha("context","mode:design")]),aie=Es(iie),lie=Sr,l9=bb.concat([r9("auto"),Ha("context","mode:design")]),cie=Es(l9),uie=qS([n_,I0,CR]),die=bb.concat([Ha("storageKey","default"),Ha("context","mode:design")]),hie=Es(die),fie=Fa,pie=Es(bb),mie=Fa,c9=HT.concat([Ha("tag","textarea"),ic("scriptId"),ic("scriptUrl"),qp("onFocus"),KS("settings",void 0)]),gie=HT.concat([Ha("tag","textarea"),Qh("init")]),vie=Zm(s=>Na("customeditor.old",yh(gie),s).orThunk(()=>Na("customeditor.new",yh(c9),s))),bie=Fa,zC=[bm,$C,iH,aH,oie("menuitem"),_R,Ha("context","mode:design")],yie=Es([xl,HP].concat(zC)),Sie=Sr,UP=[s_("button"),fv,Ch("align","end",["start","end"]),wR,bm,mA("buttonType",["primary","secondary"]),Ha("context","mode:design")],lH=[...UP,I0],cH=[xf("type",["submit","cancel","custom"]),...lH],zP=[xf("type",["menu"]),$C,R0,fv,zd("items",yie),...UP],Cie=[...UP,xf("type",["togglebutton"]),R0,fv,$C,jc("active",!1)],Eie=md("type",{submit:cH,cancel:cH,custom:cH,menu:zP,togglebutton:Cie}),wie=bb.concat([Ha("context","mode:design")]),_ie=Es(wie),Aie=iy(),Tie=s=>[xl,ay("columns"),s],xie=[xl,ic("html"),Ch("presets","presentation",["presentation","document"]),yi("onInit",ie),jc("stretched",!1)],Oie=Es(xie),jC=bb.concat([jc("border",!1),jc("sandboxed",!0),jc("streamContent",!1),jc("transparent",!0)]),Iie=Es(jC),Rie=Fa,u9=Es(HT.concat([al("height")])),kie=Es([ic("url"),r0("zoom"),r0("cachedWidth"),r0("cachedHeight")]),Die=bb.concat([al("inputMode"),al("placeholder"),jc("maximized",!1),bm,Ha("context","mode:design")]),Mie=Es(Die),Pie=Fa,uH=s=>[xl,$P,s,Ch("align","start",["start","center","end"]),al("for")],d9=[I0,n_],dH=[I0,zd("items",s0("items",()=>AR))],AR=o0([Es(d9),Es(dH)]),$T=bb.concat([zd("items",AR),bm,Ha("context","mode:design")]),Nie=Es($T),h9=Fa,Lie=bb.concat([pA("items",[I0,n_]),cy("size",1),bm,Ha("context","mode:design")]),UT=Es(Lie),Bie=Fa,jP=bb.concat([jc("constrain",!0),bm,Ha("context","mode:design")]),hH=Es(jP),f9=Es([ic("width"),ic("height")]),Vie=HT.concat([$P,cy("min",0),cy("max",0)]),Fie=Es(Vie),fH=t0,Hie=[xl,zd("header",Fa),zd("cells",fd(Fa))],$ie=Es(Hie),Uie=bb.concat([al("placeholder"),jc("maximized",!1),bm,Ha("context","mode:design"),ZS("spellcheck")]),p9=Es(Uie),pH=Fa,zie=[Ha("buttonType","default"),al("text"),al("tooltip"),al("icon"),gd("search",!1,o0([Sr,Es([al("placeholder")])],s=>B(s)?s?te.some({placeholder:te.none()}):te.none():te.some(s))),Qh("fetch"),yi("onSetup",()=>ie),Ha("context","mode:design")],m9=Es([xl,...zie]),g9=s=>Na("menubutton",m9,s),mH=[xf("type",["directory","leaf"]),sH,ic("id"),Uu("menu",m9),al("customStateIcon"),al("customStateIconTooltip")],WP=Es(mH),v9=mH.concat([zd("children",s0("children",()=>qm("type",{directory:gH,leaf:WP})))]),gH=Es(v9),jie=qm("type",{directory:gH,leaf:WP}),Wie=[xl,zd("items",jie),qp("onLeafAction"),qp("onToggleExpand"),zv("defaultExpandedIds",[],Fa),al("defaultSelectedId")],b9=Es(Wie),vH=bb.concat([Ch("filetype","file",["image","media","file"]),bm,al("picker_text"),Ha("context","mode:design")]),Gie=Es(vH),qie=Es([n_,_R]),bH=s=>Tc("items","items",Af(),fd(Zm(l=>Na(`Checking item of ${s}`,yH,l).fold(h=>zo.error(gp(h)),h=>zo.value(h))))),yH=Tf(()=>qm("type",{alertbanner:sie,bar:Es(rie(bH("bar"))),button:a9,checkbox:aie,colorinput:hie,colorpicker:pie,dropzone:_ie,grid:Es(Tie(bH("grid"))),iframe:Iie,input:Mie,listbox:Nie,selectbox:UT,sizeinput:hH,slider:Fie,textarea:p9,urlinput:Gie,customeditor:vie,htmlpanel:Oie,imagepreview:u9,collection:cie,label:Es(uH(bH("label"))),table:$ie,tree:b9,panel:y9})),Zie=[xl,Wt("classes",[]),zd("items",yH)],y9=Es(Zie),Kie=[s_("tab"),sH,zd("items",yH)],SH=[xl,pA("tabs",Kie)],Yie=Es(SH),CH=lH,Xie=Eie,Jie=Es([ic("title"),$u("body",qm("type",{panel:y9,tabpanel:Yie})),Ha("size","normal"),zv("buttons",[],Xie),Wt("initialData",{}),yi("onAction",ie),yi("onChange",ie),yi("onSubmit",ie),yi("onClose",ie),yi("onCancel",ie),yi("onTabChange",ie)]),EH=s=>Na("dialog",Jie,s),Qie=Es([xf("type",["cancel","custom"]),...CH]),eae=Es([ic("title"),ic("url"),r0("height"),r0("width"),WE("buttons",Qie),yi("onAction",ie),yi("onCancel",ie),yi("onClose",ie),yi("onMessage",ie)]),S9=s=>Na("dialog",eae,s),wH=s=>S(s)?[s].concat(ct(To(s),wH)):x(s)?ct(s,wH):[],tae=s=>v(s.type)&&v(s.name),nae={checkbox:lie,colorinput:fie,colorpicker:mie,dropzone:Aie,input:Pie,iframe:Rie,imagepreview:kie,selectbox:Bie,sizeinput:f9,slider:fH,listbox:h9,size:f9,textarea:pH,urlinput:qie,customeditor:bie,collection:uie,togglemenuitem:Sie},oae=s=>te.from(nae[s.type]),sae=s=>vs(wH(s),tae),rae=s=>{const l=sae(s),h=ct(l,g=>oae(g).fold(()=>[],E=>[$u(g.name,E)]));return Es(h)},C9=s=>{var l;const h=mp(EH(s)),g=rae(s),E=(l=s.initialData)!==null&&l!==void 0?l:{};return{internalDialog:h,dataValidator:g,initialData:E}},WC={open:(s,l)=>{const h=C9(l);return s(h.internalDialog,h.initialData,h.dataValidator)},openUrl:(s,l)=>{const h=mp(S9(l));return s(h)},redial:s=>C9(s)},_H=Es([xl,$C]),iae=s=>Na("separatormenuitem",_H,s),aae=Es([UC("autocompleteitem"),FT,bm,_R,n_,$C,fv]),lae=s=>Na("Autocompleter.Separator",_H,s),cae=s=>Na("Autocompleter.Item",aae,s),zT=[bm,R0,fv,$C,o_,Ha("context","mode:design")],uae=Es([xl,BT,aH].concat(zT)),GP=s=>Na("toolbarbutton",uae,s),qP=[FT].concat(zT),E9=Es(qP.concat([xl,BT,aH])),ZP=s=>Na("ToggleButton",E9,s),KP=[yi("predicate",mt),Ch("scope","node",["node","editor"]),Ch("position","selection",["node","selection","line"])],w9=zT.concat([UC("contextformbutton"),Ha("align","end"),wR,BT,zc("original",Ie)]),dae=qP.concat([UC("contextformbutton"),Ha("align","end"),wR,BT,zc("original",Ie)]),hae=zT.concat([UC("contextformbutton")]),fae=qP.concat([UC("contextformtogglebutton")]),pae=md("type",{contextformbutton:w9,contextformtogglebutton:dae}),TR=[VT,zd("commands",pae),Uu("launch",md("type",{contextformbutton:hae,contextformtogglebutton:fae})),yi("onInput",ie),yi("onSetup",ie)],eS=[...KP,...TR,xf("type",["contextform"]),yi("initValue",F("")),al("placeholder")],mae=[...KP,...TR,xf("type",["contextsliderform"]),yi("initValue",F(0)),yi("min",F(0)),yi("max",F(100))],xR=[...KP,...TR,xf("type",["contextsizeinputform"]),yi("initValue",F({width:"",height:""}))],gae=md("type",{contextform:eS,contextsliderform:mae,contextsizeinputform:xR}),AH=s=>Na("ContextForm",gae,s),vae=zT.concat([UC("contexttoolbarbutton")]),bae=Es([UC("contexttoolbar"),Sh("launch",vae),$u("items",o0([Fa,qS([al("name"),al("label"),zd("items",Fa)])]))].concat(KP)),yae=s=>({name:s.name.getOrUndefined(),label:s.label.getOrUndefined(),items:s.items}),_9=s=>({...s,launch:s.launch.getOrUndefined(),items:v(s.items)?s.items:qt(s.items,yae)}),Sae=s=>Na("ContextToolbar",bae,s),TH=[xl,ic("src"),al("alt"),zv("classes",[],Fa)],xH=Es(TH),OH=[xl,I0,rH,zv("classes",["tox-collection__item-label"],Fa)],Cae=Es(OH),ym=Tf(()=>qm("type",{cardimage:xH,cardtext:Cae,cardcontainer:Eae})),Eae=Es([xl,Ha("direction","horizontal"),Ha("align","left"),Ha("valign","middle"),zd("items",ym)]),wae=Es([xl,VT,zd("items",ym),o_,Q1].concat(zC)),A9=s=>Na("cardmenuitem",wae,s),T9=Es([xl,FT,fv,VT].concat(zC)),_ae=s=>Na("choicemenuitem",T9,s),IH=[xl,ic("fancytype"),Q1],Aae=[Wt("initData",{})].concat(IH),Tae=[qp("select"),qE("initData",{},[jc("allowCustomColors",!0),Ha("storageKey","default"),WE("colors",Un())])].concat(IH),xae=[qp("select"),Km("initData",[ay("columns"),zv("items",[],Un())])].concat(IH),Oae=md("fancytype",{inserttable:Aae,colorswatch:Tae,imageselect:xae}),Iae=s=>Na("fancymenuitem",Oae,s),x9=Es([xl,FT,s9,VT,R0].concat(zC)),Rae=Es([xl,FT,CR,$P,R0,n_].concat(zC)),kae=s=>Na("imagemenuitem",x9,s),Dae=s=>Na("resetimageitem",Rae,s),O9=Es([xl,o_,Q1,fv].concat(zC)),RH=s=>Na("menuitem",O9,s),kH=Es([xl,Jre,o_,fv].concat(zC)),Mae=s=>Na("nestedmenuitem",kH,s),DH=Es([xl,fv,FT,o_,BT].concat(zC)),jT=s=>Na("togglemenuitem",DH,s),I9=Es([fv,R0,yi("onShow",ie),yi("onHide",ie),o_]),R9=s=>Na("sidebar",I9,s),k9=Es([xl,$u("items",o0([qS([HP,zd("items",Fa)]),Fa]))].concat(zT)),Pae=s=>Na("GroupToolbarButton",k9,s),Nae=Es([xl,R0,eie,fv,$C,tie,ER,o_,Ch("presets","normal",["normal","color","listpreview"]),r9(1),BT,Qre,Ha("context","mode:design")]),YP=s=>Na("SplitButton",Nae,s),D9=[$C,fv,al("tooltip"),Ch("buttonType","secondary",["primary","secondary"]),jc("borderless",!1),Qh("onAction"),Ha("context","mode:design")],Lae=[...D9,I0,xf("type",["button"])],M9=[...D9,jc("active",!1),xf("type",["togglebutton"])],MH={button:Lae,togglebutton:M9},PH=[xf("type",["group"]),zv("buttons",[],md("type",MH))],P9=md("type",{...MH,group:PH}),Bf=Es([zv("buttons",[],P9),Qh("onShow"),Qh("onHide")]),N9=s=>Na("view",Bf,s),NH=(s,l,h)=>{const g=Ri(s.element,"."+h);if(g.length>0){const E=wn(g,O=>{const R=O.dom.getBoundingClientRect().top,G=g[0].dom.getBoundingClientRect().top;return Math.abs(R-G)>l}).getOr(g.length);return te.some({numColumns:E,numRows:Math.ceil(g.length/E)})}else return te.none()},L9=(s,l)=>oo([$s(s,l)]),OR={namedEvents:L9,unnamedEvents:s=>L9(yo("unnamed-events"),s)},cg={item:s=>Jo.config({disabled:s,disableClass:"tox-collection__item--state-disabled"}),button:s=>Jo.config({disabled:s}),splitButton:s=>Jo.config({disabled:s,disableClass:"tox-tbtn--disabled"}),toolbarButton:s=>Jo.config({disabled:s,disableClass:"tox-tbtn--disabled",useNative:!1})},WT=(s,l)=>{const h=s.getApi(l);return g=>{g(h)}},ug=(s,l)=>Ea(h=>{Z(s.onBeforeSetup)&&s.onBeforeSetup(h),WT(s,h)(E=>{const O=s.onSetup(E);Z(O)&&l.set(O)})}),nS=(s,l)=>tv(h=>WT(s,h)(l.get())),LH=(s,l,h)=>tv(g=>(h.set(Co.getValue(g)),WT(s,g)(l.get()))),B9="silver.uistate",IR="setDisabled",Fae="setEnabled",V9="init",Hae=["switchmode",V9],GT=(s,l)=>{const h=s.mainUi.outerContainer,g=[s.mainUi.mothership,...s.uiMotherships];l===IR&&Tn(g,E=>{E.broadcastOn([v0()],{target:h.element})}),Tn(g,E=>{E.broadcastOn([B9],l)})},F9=(s,l)=>{s.on("init SwitchMode",h=>{GT(l,h.type)}),s.on("DisabledStateChange",h=>{if(!h.isDefaultPrevented()){const g=h.state?IR:V9;GT(l,g),h.state||s.nodeChanged()}}),s.on("NodeChange",h=>{const g=s.ui.isEnabled()?h.type:IR;GT(l,g)}),Zc(s)&&s.mode.set("readonly")},Ma=s=>um.config({channels:{[B9]:{onReceive:(l,h)=>{if(h===IR||h===Fae){Jo.set(l,h===IR);return}const{contextType:g,shouldDisable:E}=s();g==="mode"&&!Cn(Hae,h)||Jo.set(l,E)}}}}),XP=(s,l)=>m0((h,g)=>{WT(s,h)(s.onAction),!s.triggersSubmenu&&l===vb.CLOSE_ON_EXECUTE&&(h.getSystem().isConnected()&&wr(h,p1()),g.stop())}),$ae={[uu()]:["disabling","alloy.base.behaviour","toggling","item-events"]},qT=xu,GC=(s,l,h,g)=>{const E=$n(ie);return{type:"item",dom:l.dom,components:qT(l.optComponents),data:s.data,eventOrder:$ae,hasSubmenu:s.triggersSubmenu,itemBehaviours:oo([$s("item-events",[XP(s,h),ug(s,E),nS(s,E)]),cg.item(()=>!s.enabled||g.checkUiComponentContext(s.context).shouldDisable),Ma(()=>g.checkUiComponentContext(s.context)),Ws.config({})].concat(s.itemBehaviours))}},qC=s=>({value:s.value,meta:{text:s.text.getOr(""),...s.meta}}),BH=(s,l)=>{var h,g;const E=co.fromTag("div");Ii(E,"tox-image-selector-loading-spinner");const O=G=>{Ii(G,"tox-image-selector-loading-spinner-wrapper"),rc(G,E)},R=G=>{vi(G,"tox-image-selector-loading-spinner-wrapper"),Vd(E)};return{dom:{tag:s.tag,attributes:(h=s.attributes)!==null&&h!==void 0?h:{},classes:s.classes},components:[{dom:{tag:"div",classes:["tox-image-selector-image-wrapper"]},components:[{dom:{tag:"img",attributes:{src:l},classes:["tox-image-selector-image-img"]}}]},...s.checkMark.toArray()],behaviours:oo([...(g=s.behaviours)!==null&&g!==void 0?g:[],$s("render-image-events",[Ea(G=>{O(G.element),ui(G.element,"img").each(K=>{mh(K).catch(oe=>{console.error(oe)}).finally(()=>{R(G.element)})})})])])}},JP=(s,l)=>BH(l,s),i_=s=>{const l=MT.os.isMacOS()||MT.os.isiOS(),E=l?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},O=s.split("+"),R=qt(O,G=>{const K=G.toLowerCase().trim();return ro(E,K)?E[K]:G});return l?R.join(""):R.join("+")},a_=(s,l,h=[zW])=>ag(s,{tag:"div",classes:h},l),VH=s=>({dom:{tag:"div",classes:[MP]},components:[ka(hc.translate(s))]}),FH=(s,l)=>({dom:{tag:"div",classes:l,innerHtml:s}}),HH=(s,l)=>({dom:{tag:"div",classes:[MP]},components:[{dom:{tag:s.tag,styles:s.styles},components:[ka(hc.translate(l))]}]}),$H=s=>({dom:{tag:"div",classes:[Ure]},components:[ka(i_(s))]}),UH=s=>a_("checkmark",s,[zre]),Uae=s=>a_("chevron-right",s,[WW]),H9=s=>a_("chevron-down",s,[WW]),$9=(s,l)=>{const h=s.direction==="vertical"?qW:Qw,g=s.align==="left"?Wre:jre;return{dom:{tag:"div",classes:[GW,h,g,(()=>{switch(s.valign){case"top":return Gre;case"middle":return PP;case"bottom":return hv}})()]},components:l}},zae=(s,l,h)=>({dom:{tag:"img",classes:l,attributes:{src:s,alt:h.getOr("")}}}),U9=(s,l,h)=>{const g="custom",E="remove",O=s.value,R=s.iconContent.map(oe=>Mre(oe,l.icons,h)),G=s.ariaLabel.map(oe=>({"aria-label":l.translate(oe),"data-mce-name":oe})).getOr({});return{dom:(()=>{const oe=DP,fe=R.getOr(""),ve={tag:"div",attributes:G,classes:[oe]};return O===g?{...ve,tag:"button",classes:[...ve.classes,"tox-swatches__picker-btn"],innerHtml:fe}:O===E?{...ve,classes:[...ve.classes,"tox-swatch--remove"],innerHtml:fe}:W(O)?{...ve,attributes:{...ve.attributes,"data-mce-color":O},styles:{"background-color":O},innerHtml:fe}:ve})(),optComponents:[]}},QP=(s,l)=>{const h=s.map(g=>({attributes:{id:yo("menu-item"),"aria-label":hc.translate(g)}})).getOr({});return{tag:"div",classes:[XF,kP].concat(l),...h}},z9=s=>({dom:{tag:"label"},components:[ka(s)]}),j9=(s,l,h,g)=>{const E={tag:"div",classes:[zW]},O=De=>ag(De,E,l.icons,g),R=()=>te.some({dom:E}),G=h?s.iconContent.map(O).orThunk(R):te.none(),K=s.checkMark,oe=te.from(s.meta).fold(()=>VH,De=>ro(De,"style")?Xe(HH,De.style):VH),fe=s.htmlContent.fold(()=>s.textContent.map(oe),De=>te.some(FH(De,[MP])));return{dom:QP(s.ariaLabel,[]),optComponents:[G,fe,s.shortcutContent.map($H),K,s.caret,s.labelContent.map(z9)]}},jae=s=>({dom:QP(s.ariaLabel,[jW]),optComponents:[te.some(JP(s.iconContent.getOrDie(),{tag:"div",classes:[$re],checkMark:s.checkMark})),s.labelContent.map(z9)]}),l_=(s,l,h,g=te.none())=>s.presets==="color"?U9(s,l,g):s.presets==="img"?jae(s):j9(s,l,h,g),ZC=(s,l,h)=>cn(s,"tooltipWorker").map(g=>[Da.config({lazySink:l.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:E=>({type:"submenu",item:E,overrides:{maxHeightFunction:_1}}),mode:"follow-highlight",onShow:(E,O)=>{g(R=>{Da.setComponents(E,[lM({element:co.fromDom(R)})])})}})]).getOrThunk(()=>h.map(g=>[Da.config({...l.providers.tooltips.getConfig({tooltipText:g}),mode:"follow-highlight"})]).getOr([])),Wae=s=>hR.DOM.encode(s),zH=(s,l)=>{const h=hc.translate(s),g=Wae(h);if(l.length>0){const E=new RegExp(Lp(l),"gi");return g.replace(E,O=>`<span class="tox-autocompleter-highlight">${O}</span>`)}else return g},Gae=(s,l,h,g,E,O,R,G=!0)=>{const K=l_({presets:g,textContent:te.none(),htmlContent:h?s.text.map(fe=>zH(fe,l)):te.none(),ariaLabel:s.text,labelContent:te.none(),iconContent:s.icon,shortcutContent:te.none(),checkMark:te.none(),caret:te.none(),value:s.value},R.providers,G,s.icon),oe=s.text.filter(fe=>!h&&fe!=="");return GC({context:"mode:design",data:qC(s),enabled:s.enabled,getApi:F({}),onAction:fe=>E(s.value,s.meta),onSetup:F(ie),triggersSubmenu:!1,itemBehaviours:ZC(s,R,oe)},K,O,R.providers)},W9=(s,l)=>qt(s,h=>{switch(h.type){case"cardcontainer":return $9(h,W9(h.items,l));case"cardimage":return zae(h.src,h.classes,h.alt);case"cardtext":const E=h.name.exists(O=>Cn(l.cardText.highlightOn,O))?te.from(l.cardText.matchText).getOr(""):"";return FH(zH(h.text,E),h.classes)}}),qae=(s,l,h,g)=>{const E=R=>({isEnabled:()=>!Jo.isDisabled(R),setEnabled:G=>{Jo.set(R,!G),Tn(Ri(R.element,"*"),K=>{R.getSystem().getByDom(K).each(oe=>{oe.hasConfigured(Jo)&&Jo.set(oe,!G)})})}}),O={dom:QP(s.label,[]),optComponents:[te.some({dom:{tag:"div",classes:[GW,Qw]},components:W9(s.items,g)})]};return GC({context:"mode:design",data:qC({text:te.none(),...s}),enabled:s.enabled,getApi:E,onAction:s.onAction,onSetup:s.onSetup,triggersSubmenu:!1,itemBehaviours:te.from(g.itemBehaviours).getOr([])},O,l,h.providers)},G9=(s,l,h,g,E,O,R,G=!0)=>{const K=ve=>({setActive:De=>{Pr.set(ve,De)},isActive:()=>Pr.isOn(ve),isEnabled:()=>!Jo.isDisabled(ve),setEnabled:De=>Jo.set(ve,!De)}),oe=l_({presets:h,textContent:l?s.text:te.none(),htmlContent:te.none(),labelContent:s.label,ariaLabel:s.text,iconContent:s.icon,shortcutContent:l?s.shortcut:te.none(),checkMark:l?te.some(UH(R.icons)):te.none(),caret:te.none(),value:s.value},R,G),fe=s.text.filter(F(!l)).map(ve=>Da.config(R.tooltips.getConfig({tooltipText:R.translate(ve)})));return Jr(GC({context:s.context,data:qC(s),enabled:s.enabled,getApi:K,onAction:ve=>g(s.value),onSetup:ve=>(ve.setActive(E),ie),triggersSubmenu:!1,itemBehaviours:[...fe.toArray()]},oe,O,R),{toggling:{toggleClass:JF,toggleOnExecute:!1,selected:s.active,exclusive:!0}})},jH=s=>({value:k0(s)}),q9=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,WH=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,eN=s=>q9.test(s)||WH.test(s),k0=s=>hh(s,"#").toUpperCase(),GH=s=>eN(s)?te.some({value:k0(s)}):te.none(),Z9=s=>({value:s.value.replace(q9,(h,g,E,O)=>g+g+E+E+O+O)}),K9=s=>{const l=Z9(s),h=WH.exec(l.value);return h===null?["FFFFFF","FF","FF","FF"]:h},RR=s=>{const l=s.toString(16);return(l.length===1?"0"+l:l).toUpperCase()},ZT=s=>{const l=RR(s.red)+RR(s.green)+RR(s.blue);return jH(l)},KC=(s,l,h)=>({hue:s,saturation:l,value:h}),tN=s=>{let l=0,h=0,g=0;const E=s.red/255,O=s.green/255,R=s.blue/255,G=Math.min(E,Math.min(O,R)),K=Math.max(E,Math.max(O,R));if(G===K)return g=G,KC(0,0,g*100);const oe=E===G?O-R:R===G?E-O:R-E;return l=E===G?3:R===G?1:5,l=60*(l-oe/(K-G)),h=(K-G)/K,g=K,KC(Math.round(l),Math.round(h*100),Math.round(g*100))},qH=Math.min,Y9=Math.max,nN=Math.round,Zae=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Kae=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,c_=(s,l,h,g)=>({red:s,green:l,blue:h,alpha:g}),oN=s=>{const l=parseInt(s,10);return l.toString()===s&&l>=0&&l<=255},ZH=s=>{let l,h,g;const E=(s.hue||0)%360;let O=s.saturation/100,R=s.value/100;if(O=Y9(0,qH(O,1)),R=Y9(0,qH(R,1)),O===0)return l=h=g=nN(255*R),c_(l,h,g,1);const G=E/60,K=R*O,oe=K*(1-Math.abs(G%2-1)),fe=R-K;switch(Math.floor(G)){case 0:l=K,h=oe,g=0;break;case 1:l=oe,h=K,g=0;break;case 2:l=0,h=K,g=oe;break;case 3:l=0,h=oe,g=K;break;case 4:l=oe,h=0,g=K;break;case 5:l=K,h=0,g=oe;break;default:l=h=g=0}return l=nN(255*(l+fe)),h=nN(255*(h+fe)),g=nN(255*(g+fe)),c_(l,h,g,1)},kR=s=>{const l=K9(s),h=parseInt(l[1],16),g=parseInt(l[2],16),E=parseInt(l[3],16);return c_(h,g,E,1)},X9=(s,l,h,g)=>{const E=parseInt(s,10),O=parseInt(l,10),R=parseInt(h,10),G=parseFloat(g);return c_(E,O,R,G)},KH=s=>{const l=Zae.exec(s);if(l!==null)return te.some(X9(l[1],l[2],l[3],"1"));const h=Kae.exec(s);return h!==null?te.some(X9(h[1],h[2],h[3],h[4])):te.none()},DR=s=>`rgba(${s.red},${s.green},${s.blue},${s.alpha})`,J9=c_(255,0,0,1),Yae=s=>tN(kR(s)),YH=s=>ZT(ZH(s)),Q9=s=>GH(s).orThunk(()=>KH(s).map(ZT)).getOrThunk(()=>{const l=document.createElement("canvas");l.height=1,l.width=1;const h=l.getContext("2d");h.clearRect(0,0,l.width,l.height),h.fillStyle="#FFFFFF",h.fillStyle=s,h.fillRect(0,0,1,1);const g=h.getImageData(0,0,1,1).data,E=g[0],O=g[1],R=g[2],G=g[3];return ZT(c_(E,O,R,G))}),Xae=s=>{s.dispatch("SkinLoaded")},Jae=(s,l)=>{s.dispatch("SkinLoadError",l)},XH=s=>{s.dispatch("ResizeEditor")},JH=(s,l)=>{s.dispatch("ResizeContent",l)},eG=(s,l)=>{s.dispatch("ScrollContent",l)},tG=(s,l)=>{s.dispatch("TextColorChange",l)},Qae=(s,l)=>{s.dispatch("AfterProgressState",{state:l})},ele=(s,l)=>s.dispatch("ResolveName",{name:l.nodeName.toLowerCase(),target:l}),nG=(s,l)=>{s.dispatch("ToggleToolbarDrawer",{state:l})},QH=(s,l)=>{s.dispatch("StylesTextUpdate",l)},tle=(s,l)=>{s.dispatch("AlignTextUpdate",l)},nle=(s,l)=>{s.dispatch("FontSizeTextUpdate",l)},ole=(s,l)=>{s.dispatch("FontSizeInputTextUpdate",l)},sle=(s,l)=>{s.dispatch("BlocksTextUpdate",l)},oG=(s,l)=>{s.dispatch("FontFamilyTextUpdate",l)},sG=s=>{s.dispatch("ToggleSidebar")},rG=s=>{s.dispatch("ToggleView")},iG=s=>{s.dispatch("ContextToolbarClose")},rle=s=>{s.dispatch("ContextFormSlideBack")},sN=(s,l)=>()=>{s(),l()},sf=(s,l=gt)=>u_(s,"NodeChange",h=>{h.setEnabled(s.selection.isEditable()&&l())}),ile=(s,l)=>h=>{const g=na(),E=()=>{h.setActive(s.formatter.match(l));const O=s.formatter.formatChanged(l,h.setActive);g.set(O)};return s.initialized?E():s.once("init",E),()=>{s.off("init",E),g.clear()}},rN=(s,l)=>h=>{const g=sf(s)(h),E=ile(s,l)(h);return()=>{g(),E()}},u_=(s,l,h)=>g=>{const E=()=>h(g),O=()=>{h(g),s.on(l,E)};return s.initialized?O():s.once("init",O),()=>{s.off("init",O),s.off(l,E)}},aG=s=>l=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("mceToggleFormat",!1,l.format)})},Sm=(s,l)=>()=>s.execCommand(l);var oS=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const lG={},ale=(s,l=10)=>{const h=oS.getItem(s),g=v(h)?JSON.parse(h):[],O=(oe=>l-oe.length<0?oe.slice(0,l):oe)(g),R=oe=>{at(O,oe).each(G),O.unshift(oe),O.length>l&&O.pop(),oS.setItem(s,JSON.stringify(O))},G=oe=>{O.splice(oe,1)};return{add:R,state:()=>O.slice(0)}},cG=s=>cn(lG,s).getOrThunk(()=>{const l=`tinymce-custom-colors-${s}`,h=oS.getItem(l);if(j(h)){const E=oS.getItem("tinymce-custom-colors");oS.setItem(l,W(E)?E:"[]")}const g=ale(l,10);return lG[s]=g,g}),MR=s=>qt(cG(s).state(),l=>({type:"choiceitem",text:l,icon:"checkmark",value:l})),iN=(s,l)=>{cG(s).add(l)},e$="forecolor",t$="hilitecolor",n$=5,lle=s=>aN(s.map((l,h)=>h%2===0?"#"+Q9(l).value:l)),aN=s=>{const l=[];for(let h=0;h<s.length;h+=2)l.push({text:s[h+1],value:s[h],icon:"checkmark",type:"choiceitem"});return l},yb=s=>l=>l.options.get(s),o$="#000000",cle=s=>{const l=s.options.register,h=O=>le(O,v)?{value:lle(O),valid:!0}:{valid:!1,message:"Must be an array of strings."},g=O=>le(O,v)?{value:aN(O),valid:!0}:{valid:!1,message:"Must be an array of strings."},E=O=>re(O)&&O>0?{value:O,valid:!0}:{valid:!1,message:"Must be a positive number."};l("color_map",{processor:h,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),l("color_map_raw",{processor:g}),l("color_map_background",{processor:h}),l("color_map_foreground",{processor:h}),l("color_cols",{processor:E,default:s$(s)}),l("color_cols_foreground",{processor:E,default:r$(s,e$)}),l("color_cols_background",{processor:E,default:r$(s,t$)}),l("custom_colors",{processor:"boolean",default:!0}),l("color_default_foreground",{processor:"string",default:o$}),l("color_default_background",{processor:"string",default:o$})},PR=(s,l)=>l===e$&&s.options.isSet("color_map_foreground")?yb("color_map_foreground")(s):l===t$&&s.options.isSet("color_map_background")?yb("color_map_background")(s):s.options.isSet("color_map_raw")?yb("color_map_raw")(s):yb("color_map")(s),s$=(s,l="default")=>Math.max(n$,Math.ceil(Math.sqrt(PR(s,l).length))),r$=(s,l)=>{const h=yb("color_cols")(s),g=s$(s,l);return h===s$(s)?g:h},uG=(s,l="default")=>Math.round(l===e$?yb("color_cols_foreground")(s):l===t$?yb("color_cols_background")(s):yb("color_cols")(s)),i$=yb("custom_colors"),dG=yb("color_default_foreground"),ule=yb("color_default_background"),hG="rgba(0, 0, 0, 0)",fG=s=>KH(s).exists(l=>l.alpha!==0),dle=s=>Bu(s,l=>{if(Dc(l)){const h=aa(l,"background-color");return rl(fG(h),h)}else return te.none()}).getOr(hG),lN=(s,l)=>{const h=co.fromDom(s.selection.getStart()),g=l==="hilitecolor"?dle(h):aa(h,"color");return KH(g).map(E=>"#"+ZT(E).value)},pG=(s,l,h)=>{s.undoManager.transact(()=>{s.focus(),s.formatter.apply(l,{value:h}),s.nodeChanged()})},a$=(s,l)=>{s.undoManager.transact(()=>{s.focus(),s.formatter.remove(l,{value:null},void 0,!0),s.nodeChanged()})},hle=s=>{s.addCommand("mceApplyTextcolor",(l,h)=>{pG(s,l,h)}),s.addCommand("mceRemoveTextcolor",l=>{a$(s,l)})},mG=s=>{const l="choiceitem",h={type:l,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return s?[h,{type:l,text:"Custom color",icon:"color-picker",value:"custom"}]:[h]},cN=(s,l,h,g)=>{h==="custom"?dN(s)(O=>{O.each(R=>{iN(l,R),s.execCommand("mceApplyTextcolor",l,R),g(R)})},lN(s,l).getOr(o$)):h==="remove"?(g(""),s.execCommand("mceRemoveTextcolor",l)):(g(h),s.execCommand("mceApplyTextcolor",l,h))},l$=(s,l,h)=>s.concat(MR(l).concat(mG(h))),c$=(s,l,h)=>g=>{g(l$(s,l,h))},u$=(s,l,h)=>{const g=l==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";s.setIconFill(g,h)},gG=(s,l)=>{s.setTooltip(l)},uN=(s,l)=>h=>{const g=lN(s,l);return Fc(g,h.toUpperCase())},d$=(s,l,h)=>{if(Dl(h))return l==="forecolor"?"Text color":"Background color";const g=l==="forecolor"?"Text color {0}":"Background color {0}",E=l$(PR(s,l),l,!1),O=zt(E,R=>R.value===h).getOr({text:""}).text;return s.translate([g,s.translate(O)])},vG=(s,l,h,g)=>{s.ui.registry.addSplitButton(l,{tooltip:d$(s,h,g.get()),chevronTooltip:l==="forecolor"?"Text color menu":"Background color menu",presets:"color",icon:l==="forecolor"?"text-color":"highlight-bg-color",select:uN(s,h),columns:uG(s,h),fetch:c$(PR(s,h),h,i$(s)),onAction:E=>{cN(s,h,g.get(),ie)},onItemAction:(E,O)=>{cN(s,h,O,R=>{g.set(R),tG(s,{name:l,color:R})})},onSetup:E=>{u$(E,l,g.get());const O=R=>{R.name===l&&(u$(E,R.name,R.color),gG(E,d$(s,h,R.color)))};return s.on("TextColorChange",O),sN(sf(s)(E),()=>{s.off("TextColorChange",O)})}})},bG=(s,l,h,g,E)=>{s.ui.registry.addNestedMenuItem(l,{text:g,icon:l==="forecolor"?"text-color":"highlight-bg-color",onSetup:O=>(gG(O,d$(s,h,E.get())),u$(O,l,E.get()),sf(s)(O)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:uN(s,h),initData:{storageKey:h},onAction:O=>{cN(s,h,O.value,R=>{E.set(R),tG(s,{name:l,color:R})})}}]})},dN=s=>(l,h)=>{let g=!1;const E=G=>{const oe=G.getData().colorpicker;g?(l(te.from(oe)),G.close()):s.windowManager.alert(s.translate(["Invalid hex color code: {0}",oe]))},O=(G,K)=>{K.name==="hex-valid"&&(g=K.value)},R={colorpicker:h};s.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:R,onAction:O,onSubmit:E,onClose:ie,onCancel:()=>{l(te.none())}})},fle=s=>{hle(s);const l=dG(s),h=ule(s),g=$n(l),E=$n(h);vG(s,"forecolor","forecolor",g),vG(s,"backcolor","hilitecolor",E),bG(s,"forecolor","forecolor","Text color",g),bG(s,"backcolor","hilitecolor","Background color",E)},yG=(s,l,h,g,E)=>{const O=K=>({setActive:oe=>{Pr.set(K,oe)},isActive:()=>Pr.isOn(K),isEnabled:()=>!Jo.isDisabled(K),setEnabled:oe=>Jo.set(K,!oe)}),R=l_({presets:"img",textContent:te.none(),htmlContent:te.none(),ariaLabel:s.tooltip,iconContent:te.some(s.url),labelContent:s.label,shortcutContent:te.none(),checkMark:te.some(UH(E.icons)),caret:te.none(),value:s.value},E,!0),G=s.tooltip.map(K=>Da.config(E.tooltips.getConfig({tooltipText:E.translate(K)})));return Jr(GC({context:s.context,data:qC(s),enabled:s.enabled,getApi:O,onAction:K=>{l(s.value),K.setActive(!0)},onSetup:K=>(K.setActive(h),ie),triggersSubmenu:!1,itemBehaviours:[...G.toArray()]},R,g,E),{toggling:{toggleClass:JF,toggleOnExecute:!1,selected:s.active,exclusive:!0}})},hN=(s,l,h,g,E,O,R,G)=>{const K=t_(l),fe=SG(l,h,g,E!=="color"?"normal":"color",O,R,G);return J1(s,K,fe,g,{menuType:E})},SG=(s,l,h,g,E,O,R)=>xu(qt(s,G=>G.type==="choiceitem"?_ae(G).fold(O0,K=>te.some(G9(K,h===1,g,l,O(K.value),E,R,t_(s)))):G.type==="imageitem"?kae(G).fold(O0,K=>te.some(yG(K,l,O(K.value),E,R))):G.type==="resetimage"?Dae(G).fold(O0,K=>te.some(G9({...K,text:K.tooltip,icon:te.some(K.icon),label:te.some(K.label)},h===1,g,l,O(K.value),E,R,t_(s)))):te.none())),NR=(s,l)=>{const h=HC(l);return s===1?{mode:"menu",moveOnTab:!0}:s==="auto"?{mode:"grid",selector:"."+h.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+{color:"tox-swatches__row",imageselector:"tox-image-selector__row",listpreview:"tox-collection__group",normal:"tox-collection__group"}[l],previousSelector:E=>l==="color"?ui(E.element,"[aria-checked=true]"):te.none()}},ple=(s,l)=>s===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:s==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:l==="color"?".tox-swatches__row":".tox-collection__group",cell:l==="color"?`.${DP}`:`.${kP}`}},mle=(s,l)=>{const h=gle(s,l),g=l.colorinput.getColorCols(s.initData.storageKey),E="color",R={...hN(yo("menu-value"),h,G=>{s.onAction({value:G})},g,E,vb.CLOSE_ON_EXECUTE,s.select.getOr(mt),l.shared.providers),markers:HC(E),movement:NR(g,E),showMenuRole:!1};return{type:"widget",data:{value:yo("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[ZM.widget(W1.sketch(R))]}},gle=(s,l)=>{const h=s.initData.allowCustomColors&&l.colorinput.hasCustomColors();return s.initData.colors.fold(()=>l$(l.colorinput.getColors(s.initData.storageKey),s.initData.storageKey,h),g=>g.concat(mG(h)))},vle=(s,l)=>{const h="imageselector",g=s.initData.columns,O={...hN(yo("menu-value"),s.initData.items,R=>{s.onAction({value:R})},g,h,vb.CLOSE_ON_EXECUTE,s.select.getOr(mt),l.shared.providers),markers:HC(h),movement:NR(g,h),showMenuRole:!1};return{type:"widget",data:{value:yo("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem","tox-collection--toolbar"]},autofocus:!0,components:[ZM.widget(W1.sketch(O))]}},h$=yo("cell-over"),CG=yo("cell-execute"),ble=s=>(l,h)=>s.shared.providers.translate(["{0} columns, {1} rows",h,l]),EG=(s,l,h)=>{const g=R=>ms(R,h$,{row:s,col:l}),E=R=>ms(R,CG,{row:s,col:l}),O=(R,G)=>{G.stop(),E(R)};return k({dom:{tag:"div",attributes:{role:"button","aria-label":h}},behaviours:oo([$s("insert-table-picker-cell",[pn(Of(),js.focus),pn(uu(),E),pn(Ym(),O),pn(Xp(),O)]),Pr.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),js.config({onFocus:g})])})},yle=(s,l,h)=>{const g=[];for(let E=0;E<l;E++){const O=[];for(let R=0;R<h;R++){const G=s(E+1,R+1);O.push(EG(E,R,G))}g.push(O)}return g},Sle=(s,l,h,g,E)=>{for(let O=0;O<g;O++)for(let R=0;R<E;R++)Pr.set(s[O][R],O<=l&&R<=h)},Cle=s=>ct(s,l=>qt(l,z)),f$=(s,l)=>ka(`${l}x${s}`),Ele={inserttable:(s,l)=>{const E=ble(l),O=yle(E,10,10),R=f$(0,0),G=oi({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[R],behaviours:oo([Ws.config({})])});return{type:"widget",data:{value:yo("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[ZM.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:Cle(O).concat(G.asSpec()),behaviours:oo([$s("insert-table-picker",[Ea(K=>{Ws.set(G.get(K),[R])}),T1(h$,(K,oe,fe)=>{const{row:ve,col:De}=fe.event;Sle(O,ve,De,10,10),Ws.set(G.get(K),[f$(ve+1,De+1)])}),T1(CG,(K,oe,fe)=>{const{row:ve,col:De}=fe.event;wr(K,p1()),s.onAction({numRows:ve+1,numColumns:De+1})})]),os.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:mle,imageselect:vle},wle=(s,l)=>cn(Ele,s.fancytype).map(h=>h(s,l)),wG=(s,l,h,g=!0,E=!1)=>{const O=E?H9(h.icons):Uae(h.icons),R=K=>({isEnabled:()=>!Jo.isDisabled(K),setEnabled:oe=>Jo.set(K,!oe),setIconFill:(oe,fe)=>{ui(K.element,`svg path[class="${oe}"], rect[class="${oe}"]`).each(ve=>{cs(ve,"fill",fe)})},setTooltip:oe=>{const fe=h.translate(oe);cs(K.element,"aria-label",fe)}}),G=l_({presets:"normal",iconContent:s.icon,textContent:s.text,htmlContent:te.none(),ariaLabel:s.text,labelContent:te.none(),caret:te.some(O),checkMark:te.none(),shortcutContent:s.shortcut},h,g);return GC({context:s.context,data:qC(s),getApi:R,enabled:s.enabled,onAction:ie,onSetup:s.onSetup,triggersSubmenu:!0,itemBehaviours:[]},G,l,h)},_G=(s,l,h,g=!0)=>{const E=R=>({isEnabled:()=>!Jo.isDisabled(R),setEnabled:G=>Jo.set(R,!G)}),O=l_({presets:"normal",iconContent:s.icon,textContent:s.text,htmlContent:te.none(),labelContent:te.none(),ariaLabel:s.text,caret:te.none(),checkMark:te.none(),shortcutContent:s.shortcut},h,g);return GC({context:s.context,data:qC(s),getApi:E,enabled:s.enabled,onAction:s.onAction,onSetup:s.onSetup,triggersSubmenu:!1,itemBehaviours:[]},O,l,h)},AG=s=>({type:"separator",dom:{tag:"div",classes:[kP,Hre]},components:s.text.map(ka).toArray()}),fN=(s,l,h,g=!0)=>{const E=R=>({setActive:G=>{Pr.set(R,G)},isActive:()=>Pr.isOn(R),isEnabled:()=>!Jo.isDisabled(R),setEnabled:G=>Jo.set(R,!G)}),O=l_({iconContent:s.icon,textContent:s.text,htmlContent:te.none(),labelContent:te.none(),ariaLabel:s.text,checkMark:te.some(UH(h.icons)),caret:te.none(),shortcutContent:s.shortcut,presets:"normal",meta:s.meta},h,g);return Jr(GC({context:s.context,data:qC(s),enabled:s.enabled,getApi:E,onAction:s.onAction,onSetup:s.onSetup,triggersSubmenu:!1,itemBehaviours:[]},O,l,h),{toggling:{toggleClass:JF,toggleOnExecute:!1,selected:s.active},role:s.role.getOrUndefined()})},TG=Gae,xG=AG,_le=_G,OG=wG,Ale=fN,Tle=wle,xle=qae,Ole=s=>{switch(s.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:s}}},IG=s=>{const l=Co.getValue(s),h=SR(s).map(tH);fm.refetch(l).get(()=>{const g=tr.getCoupled(l,"sandbox");h.each(E=>SR(g).each(O=>JW(O,E)))})},Ile=(s,l)=>{Rle(s).each(h=>{v4(s,h.element,l.event.eventType,l.event.interactionEvent)})},Rle=s=>ni.getState(s).bind(fi.getHighlighted).bind(fi.getHighlighted),kle=s=>qa(s.element,LP)?te.some(s.element):ui(s.element,"."+LP),p$=(s,l,h)=>{XW(s).each(g=>{QW(g,h),kle(l).each(O=>{rr(O,"id").each(R=>cs(g.element,"aria-controls",R))})}),cs(h.element,"aria-selected","true")},RG=(s,l,h)=>{cs(h.element,"aria-selected","false")},Dle=s=>{XW(s).each(l=>js.focus(l))},Mle=s=>tr.getExistingCoupled(s,"sandbox").bind(SR).map(tH).map(h=>h.fetchPattern).getOr("");var LR;(function(s){s[s.ContentFocus=0]="ContentFocus",s[s.UiFocus=1]="UiFocus"})(LR||(LR={}));const Ple=(s,l,h,g,E)=>{const O=h.shared.providers,R=G=>E?{...G,shortcut:te.none(),icon:G.text.isSome()?te.none():G.icon}:G;switch(s.type){case"menuitem":return RH(s).fold(O0,G=>te.some(_le(R(G),l,O,g)));case"nestedmenuitem":return Mae(s).fold(O0,G=>te.some(OG(R(G),l,O,g,E)));case"togglemenuitem":return jT(s).fold(O0,G=>te.some(Ale(R(G),l,O,g)));case"separator":return iae(s).fold(O0,G=>te.some(xG(G)));case"fancymenuitem":return Iae(s).fold(O0,G=>Tle(G,h));default:return console.error("Unknown item in general menu",s),te.none()}},Nle=(s,l,h,g,E,O,R)=>{const G=g===1,K=!G||t_(s);return xu(qt(s,oe=>{switch(oe.type){case"separator":return lae(oe).fold(O0,fe=>te.some(xG(fe)));case"cardmenuitem":return A9(oe).fold(O0,fe=>te.some(xle({...fe,onAction:ve=>{fe.onAction(ve),h(fe.value,fe.meta)}},E,O,{itemBehaviours:ZC(fe.meta,O,te.none()),cardText:{matchText:l,highlightOn:R}})));case"autocompleteitem":default:return cae(oe).fold(O0,fe=>te.some(TG(fe,l,G,"normal",h,E,O,K)))}}))},Bs=(s,l,h,g,E,O)=>{const R=t_(l),G=xu(qt(l,fe=>{const ve=Ue=>E?!ro(Ue,"text"):R,De=Ue=>Ple(Ue,h,g,ve(Ue),E);return fe.type==="nestedmenuitem"&&fe.getSubmenuItems().length<=0?De({...fe,enabled:!1}):De(fe)})),K=Ole(O);return(E?Xre:J1)(s,R,G,1,K)},d_=s=>MC.singleData(s.value,s),kG=(s,l,h,g)=>{const E=NR(l,g),O=HC(g);return{data:d_({...s,movement:E,menuBehaviours:OR.unnamedEvents(l!=="auto"?[]:[Ea((R,G)=>{NH(R,4,O.item).each(({numColumns:K,numRows:oe})=>{os.setGridSize(R,oe,K)})})])}),menu:{markers:HC(g),fakeFocus:h===LR.ContentFocus}}},DG=s=>J.create(co.fromDom(s.startContainer),s.startOffset,co.fromDom(s.endContainer),s.endOffset),MG={register:(s,l)=>{const h=yo("autocompleter"),g=$n(!1),E=$n(!1),O=Ss(),R=k(el.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:h}},components:[],fireDismissalEventInstead:{},inlineBehaviours:oo([$s("dismissAutocompleter",[pn(Zg(),()=>ve()),pn(Kv(),(st,yt)=>{rr(yt.event.target,"id").each(_t=>cs(co.fromDom(s.getBody()),"aria-activedescendant",_t))})])]),lazySink:l.getSink})),G=()=>el.isOpen(R),K=E.get,oe=()=>{if(G()){el.hide(R),s.dom.remove(h,!1);const st=co.fromDom(s.getBody());rr(st,"aria-owns").filter(yt=>yt===h).each(()=>{ia(st,"aria-owns"),ia(st,"aria-activedescendant")})}},fe=()=>el.getContent(R).bind(st=>Bt(st.components(),0)),ve=()=>s.execCommand("mceAutocompleterClose"),De=st=>{const yt=Rs(st,_t=>te.from(_t.columns)).getOr(1);return ct(st,_t=>{const Qt=_t.items;return Nle(Qt,_t.matchText,(nn,So)=>{const Hn={hide:()=>ve(),reload:Wn=>{oe(),s.execCommand("mceAutocompleterReload",!1,{fetchOptions:Wn})}};s.execCommand("mceAutocompleterRefreshActiveRange"),O.get().each(Wn=>{g.set(!0),_t.onAction(Hn,Wn,nn,So),g.set(!1)})},yt,vb.BUBBLE_TO_SANDBOX,l,_t.highlightOn)})},Ue=(st,yt)=>{const _t=Rs(st,Qt=>te.from(Qt.columns)).getOr(1);el.showMenuAt(R,{anchor:{type:"selection",getSelection:()=>O.get().map(DG),root:co.fromDom(s.getBody())}},kG(J1("autocompleter-value",!0,yt,_t,{menuType:"normal"}),_t,LR.ContentFocus,"normal")),fe().each(fi.highlightFirst)},He=st=>{const yt=De(st);yt.length>0?(Ue(st,yt),cs(co.fromDom(s.getBody()),"aria-owns",h),s.inline||nt()):oe()},nt=()=>{s.dom.get(h)&&s.dom.remove(h,!1);const st=s.getDoc().documentElement,yt=s.selection.getNode(),_t=s1(R.element);pa(_t,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${yt.offsetTop}px`,left:`${yt.offsetLeft}px`}),s.dom.add(st,_t.dom),ui(_t,'[role="menu"]').each(Qt=>{Er(Qt,"position"),Er(Qt,"max-height")})};s.on("AutocompleterStart",({lookupData:st})=>{E.set(!0),g.set(!1),He(st)}),s.on("AutocompleterUpdate",({lookupData:st})=>He(st)),s.on("AutocompleterUpdateActiveRange",({range:st})=>O.set(st)),s.on("AutocompleterEnd",()=>{oe(),E.set(!1),g.set(!1),O.clear()});const pt={cancelIfNecessary:ve,isMenuOpen:G,isActive:K,isProcessingAction:g.get,getMenu:fe};Vre.setup(pt,s)}},Ble=(s,l)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:qt(s.items,l.interpreter)});var PG=tinymce.util.Tools.resolve("tinymce.html.Entities");const BR=(s,l,h,g)=>{const E=Fle(s,l,h,g);return Cr.sketch(E)},Vle=(s,l)=>BR(s,l,[],[]),Fle=(s,l,h,g)=>({dom:m$(h),components:s.toArray().concat([l]),fieldBehaviours:oo(g)}),NG=()=>m$([]),m$=s=>({tag:"div",classes:["tox-form__group"].concat(s)}),h_=(s,l)=>Cr.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[ka(l.translate(s))]}),nh=yo("form-component-change"),pN=yo("form-component-input"),KT=yo("form-close"),YC=yo("form-cancel"),Iy=yo("form-action"),VR=yo("form-submit"),g$=yo("form-block"),FR=yo("form-unblock"),v$=yo("form-tabchange"),b$=yo("form-resize"),Hle=(s,l,h)=>{const g=s.label.map(Ue=>h_(Ue,l)),E=l.icons(),O=Ue=>{var He;return(He=E[Ue])!==null&&He!==void 0?He:Ue},R=Ue=>(He,nt)=>{vl(nt.event.target,"[data-collection-item-value]").each(pt=>{Ue(He,nt,pt,pl(pt,"data-collection-item-value"))})},G=(Ue,He)=>{const pt=l.checkUiComponentContext("mode:design").shouldDisable||l.isDisabled()?" tox-collection__item--state-disabled":"",st=qt(He,Qt=>{const nn=hc.translate(Qt.text),So=s.columns===1?`<div class="tox-collection__item-label">${nn}</div>`:"",Hn=`<div class="tox-collection__item-icon">${O(Qt.icon)}</div>`,Wn={_:" "," - ":" ","-":" "},Bn=nn.replace(/\_| \- |\-/g,ds=>Wn[ds]);return`<div data-mce-tooltip="${Bn}" class="tox-collection__item${pt}" tabindex="-1" data-collection-item-value="${PG.encodeAllRaw(Qt.value)}" aria-label="${Bn}">${Hn}${So}</div>`}),yt=s.columns!=="auto"&&s.columns>1?wo(st,s.columns):[st],_t=qt(yt,Qt=>`<div class="tox-collection__group">${Qt.join("")}</div>`);Zh(Ue.element,_t.join(""))},K=R((Ue,He,nt,pt)=>{He.stop(),l.checkUiComponentContext("mode:design").shouldDisable||l.isDisabled()||ms(Ue,Iy,{name:s.name,value:pt})}),oe=[pn(Of(),R((Ue,He,nt)=>{ra(nt,!0)})),pn(Ym(),K),pn(Xp(),K),pn(If(),R((Ue,He,nt)=>{ui(Ue.element,"."+Jw).each(pt=>{vi(pt,Jw)}),Ii(nt,Jw)})),pn(f1(),R(Ue=>{ui(Ue.element,"."+Jw).each(He=>{vi(He,Jw),mr(He)})})),m0(R((Ue,He,nt,pt)=>{ms(Ue,Iy,{name:s.name,value:pt})}))],fe=(Ue,He)=>qt(Ri(Ue.element,".tox-collection__item"),He),ve=Cr.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(s.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Ie},behaviours:oo([Jo.config({disabled:()=>l.checkUiComponentContext(s.context).shouldDisable,onDisabled:Ue=>{fe(Ue,He=>{Ii(He,"tox-collection__item--state-disabled"),cs(He,"aria-disabled",!0)})},onEnabled:Ue=>{fe(Ue,He=>{vi(He,"tox-collection__item--state-disabled"),ia(He,"aria-disabled")})}}),Ma(()=>l.checkUiComponentContext(s.context)),Ws.config({}),Da.config({...l.tooltips.getConfig({tooltipText:"",onShow:Ue=>{ui(Ue.element,"."+Jw+"[data-mce-tooltip]").each(He=>{rr(He,"data-mce-tooltip").each(nt=>{Da.setComponents(Ue,l.tooltips.getComponents({tooltipText:nt}))})})}}),mode:"children-keyboard-focus",anchor:Ue=>({type:"node",node:ui(Ue.element,"."+Jw).orThunk(()=>VS(".tox-collection__item")),root:Ue.element,layouts:{onLtr:F([ua,Tl,Fr,yl,zi,Ja]),onRtl:F([ua,Tl,Fr,yl,zi,Ja])},bubble:Ft(0,-2,{})})}),Co.config({store:{mode:"memory",initialValue:h.getOr([])},onSetValue:(Ue,He)=>{G(Ue,He),s.columns==="auto"&&NH(Ue,5,"tox-collection__item").each(({numRows:nt,numColumns:pt})=>{os.setGridSize(Ue,nt,pt)}),wr(Ue,b$)}}),da.config({}),os.config(ple(s.columns,"normal")),$s("collection-events",oe)]),eventOrder:{[uu()]:["disabling","alloy.base.behaviour","collection-events"],[If()]:["collection-events","tooltipping"]}});return BR(g,ve,["tox-form__group--collection"],[])},$le=(s,l)=>fm.sketch({dom:s.dom,components:s.components,toggleClass:"mce-active",dropdownBehaviours:oo([cg.button(()=>l.providers.isDisabled()||l.providers.checkUiComponentContext(s.context).shouldDisable),Ma(()=>l.providers.checkUiComponentContext(s.context)),xT.config({}),da.config({})]),layouts:s.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:l.getSink,fetch:h=>Vs.nu(g=>s.fetch(g)).map(g=>te.from(d_(Jr(hN(yo("menu-value"),g,E=>{s.onItemAction(h,E)},s.columns,s.presets,vb.CLOSE_ON_EXECUTE,mt,l.providers),{movement:NR(s.columns,s.presets)})))),parts:{menu:LT(!1,1,s.presets)}}),LG=yo("color-input-change"),y$=yo("color-swatch-change"),BG=yo("color-picker-cancel"),Ule=(s,l,h,g)=>{const E=Cr.parts.field({factory:x0,inputClasses:["tox-textfield"],data:g,onSetValue:oe=>db.run(oe).get(ie),inputBehaviours:oo([Jo.config({disabled:()=>l.providers.isDisabled()||l.providers.checkUiComponentContext(s.context).shouldDisable}),Ma(()=>l.providers.checkUiComponentContext(s.context)),da.config({}),db.config({invalidClass:"tox-textbox-field-invalid",getRoot:oe=>ps(oe.element),notify:{onValid:oe=>{const fe=Co.getValue(oe);ms(oe,LG,{color:fe})}},validator:{validateOnLoad:!1,validate:oe=>{const fe=Co.getValue(oe);if(fe.length===0)return Vs.pure(zo.value(!0));{const ve=co.fromTag("span");xs(ve,"background-color",fe);const De=ma(ve,"background-color").fold(()=>zo.error("blah"),Ue=>zo.value(fe));return Vs.pure(De)}}}})]),selectOnFocus:!1}),O=s.label.map(oe=>h_(oe,l.providers)),R=(oe,fe)=>{ms(oe,y$,{value:fe})},G=(oe,fe)=>{K.getOpt(oe).each(ve=>{fe==="custom"?h.colorPicker(De=>{De.fold(()=>wr(ve,BG),Ue=>{R(ve,Ue),iN(s.storageKey,Ue)})},"#ffffff"):fe==="remove"?R(ve,""):R(ve,fe)})},K=oi($le({dom:{tag:"span",attributes:{"aria-label":l.providers.translate("Color swatch")}},layouts:{onRtl:()=>[zi,Fr,ua],onLtr:()=>[Fr,zi,ua]},components:[],fetch:c$(h.getColors(s.storageKey),s.storageKey,h.hasCustomColors()),columns:h.getColorCols(s.storageKey),presets:"color",onItemAction:G,context:s.context},l));return Cr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:O.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[E,K.asSpec()]}]),fieldBehaviours:oo([$s("form-field-events",[pn(LG,(oe,fe)=>{K.getOpt(oe).each(ve=>{xs(ve.element,"background-color",fe.event.color)}),ms(oe,nh,{name:s.name})}),pn(y$,(oe,fe)=>{Cr.getField(oe).each(ve=>{Co.setValue(ve,fe.event.value),yn.getCurrent(oe).each(js.focus)})}),pn(BG,(oe,fe)=>{Cr.getField(oe).each(ve=>{yn.getCurrent(oe).each(js.focus)})})])])})},Sb={self:()=>yn.config({find:te.some}),memento:s=>yn.config({find:s.getOpt}),childAt:s=>yn.config({find:l=>zr(l.element,s).bind(h=>l.getSystem().getByDom(h).toOptional())})},FG=Es([Wt("preprocess",Ie),Wt("postprocess",Ie)]),zle=(s,l)=>{const h=pd("RepresentingConfigs.memento processors",FG,l);return Co.config({store:{mode:"manual",getValue:g=>{const E=s.get(g),O=Co.getValue(E);return h.postprocess(O)},setValue:(g,E)=>{const O=h.preprocess(E),R=s.get(g);Co.setValue(R,O)}}})},f_=(s,l,h)=>Co.config({store:{mode:"manual",...s.map(g=>({initialValue:g})).getOr({}),getValue:l,setValue:h}}),jle=(s,l,h)=>f_(s,g=>l(g.element),(g,E)=>h(g.element,E)),Wle=s=>jle(s,ph,Zh),mN=s=>Co.config({store:{mode:"memory",initialValue:s}}),HR=yo("rgb-hex-update"),HG=yo("slider-update"),$R=yo("palette-update"),$G=(s,l)=>{const h=uv.parts.spectrum({dom:{tag:"div",classes:[l("hue-slider-spectrum")],attributes:{role:"presentation"}}}),g=uv.parts.thumb({dom:{tag:"div",classes:[l("hue-slider-thumb")],attributes:{role:"presentation"}}});return uv.sketch({dom:{tag:"div",classes:[l("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:F(0)},components:[h,g],sliderBehaviours:oo([js.config({})]),onChange:(E,O,R)=>{cs(E.element,"aria-valuenow",Math.floor(360-R*3.6)),ms(E,HG,{value:R})}})},C$=yo("valid-input"),gN=yo("invalid-input"),UG=yo("validating-input"),vN="colorcustom.rgb.",YT={isEnabled:gt,setEnabled:ie,immediatelyShow:ie,immediatelyHide:ie},zG=(s,l,h,g,E,O)=>{const R=(nt,pt)=>{const st=pt.get();nt!==st.isEnabled()&&(st.setEnabled(nt),nt?st.immediatelyShow():st.immediatelyHide())},G=(nt,pt,st)=>db.config({invalidClass:l("invalid"),notify:{onValidate:yt=>{ms(yt,UG,{type:nt})},onValid:yt=>{R(!1,st),ms(yt,C$,{type:nt,value:Co.getValue(yt)})},onInvalid:yt=>{R(!0,st),ms(yt,gN,{type:nt,value:Co.getValue(yt)})}},validator:{validate:yt=>{const _t=Co.getValue(yt),Qt=pt(_t)?zo.value(!0):zo.error(s("aria.input.invalid"));return Vs.pure(Qt)},validateOnLoad:!1}}),K=(nt,pt,st,yt,_t)=>{const Qt=$n(YT),nn=s(vN+"range"),So=Cr.parts.label({dom:{tag:"label"},components:[ka(st)]}),Hn=Cr.parts.field({data:_t,factory:x0,inputAttributes:{type:"text","aria-label":yt,...pt==="hex"?{"aria-live":"polite"}:{}},inputClasses:[l("textfield")],inputBehaviours:oo([G(pt,nt,Qt),da.config({}),Da.config({...E({tooltipText:"",onSetup:Xs=>{Qt.set({isEnabled:()=>Da.isEnabled(Xs),setEnabled:Wo=>Da.setEnabled(Xs,Wo),immediatelyShow:()=>Da.immediateOpenClose(Xs,!0),immediatelyHide:()=>Da.immediateOpenClose(Xs,!1)}),Da.setEnabled(Xs,!1)},onShow:(Xs,Wo)=>{Da.setComponents(Xs,[{dom:{tag:"p",classes:[l("rgb-warning-note")]},components:[ka(s(pt==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:Xs=>{db.isInvalid(Xs)&&db.run(Xs).get(ie)}}),Wn=yo("aria-invalid"),Bn=oi(O("invalid",te.some(Wn),"warning")),ds=oi({dom:{tag:"div",classes:[l("invalid-icon")]},components:[Bn.asSpec()]}),Zo=[So,Hn,ds.asSpec()],kr=pt!=="hex"?[Cr.parts["aria-descriptor"]({text:nn})]:[],As=Zo.concat(kr);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[l("rgb-container")]},components:As}},oe=(nt,pt)=>{const st=ZT(pt);return Ep.getField(nt,"hex").each(yt=>{js.isFocused(yt)||Co.setValue(nt,{hex:st.value})}),st},fe=(nt,pt)=>{const st=pt.red,yt=pt.green,_t=pt.blue;Co.setValue(nt,{red:st,green:yt,blue:_t})},ve=oi({dom:{tag:"div",classes:[l("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),De=(nt,pt)=>{ve.getOpt(nt).each(st=>{xs(st.element,"background-color","#"+pt.value)})};return cm({factory:()=>{const nt={red:$n(te.some(255)),green:$n(te.some(255)),blue:$n(te.some(255)),hex:$n(te.some("ffffff"))},pt=(Wo,Nn)=>{const fo=kR(Nn);fe(Wo,fo),Qt(fo)},st=Wo=>nt[Wo].get(),yt=(Wo,Nn)=>{nt[Wo].set(Nn)},_t=()=>st("red").bind(Wo=>st("green").bind(Nn=>st("blue").map(fo=>c_(Wo,Nn,fo,1)))),Qt=Wo=>{const Nn=Wo.red,fo=Wo.green,Is=Wo.blue;yt("red",te.some(Nn)),yt("green",te.some(fo)),yt("blue",te.some(Is))},nn=(Wo,Nn)=>{const fo=Nn.event;fo.type!=="hex"?yt(fo.type,te.none()):g(Wo)},So=(Wo,Nn)=>{h(Wo);const fo=jH(Nn);yt("hex",te.some(fo.value));const Is=kR(fo);fe(Wo,Is),Qt(Is),ms(Wo,HR,{hex:fo}),De(Wo,fo)},Hn=(Wo,Nn,fo)=>{const Is=parseInt(fo,10);yt(Nn,te.some(Is)),_t().each(er=>{const Qo=oe(Wo,er);ms(Wo,HR,{hex:Qo}),De(Wo,Qo)})},Wn=Wo=>Wo.type==="hex",Bn=(Wo,Nn)=>{const fo=Nn.event;Wn(fo)?So(Wo,fo.value):Hn(Wo,fo.type,fo.value)},ds=Wo=>({label:s(vN+Wo+".label"),description:s(vN+Wo+".description")}),Zo=ds("red"),kr=ds("green"),As=ds("blue"),Xs=ds("hex");return Jr(Ep.sketch(Wo=>({dom:{tag:"form",classes:[l("rgb-form")],attributes:{"aria-label":s("aria.color.picker")}},components:[Wo.field("red",Cr.sketch(K(oN,"red",Zo.label,Zo.description,255))),Wo.field("green",Cr.sketch(K(oN,"green",kr.label,kr.description,255))),Wo.field("blue",Cr.sketch(K(oN,"blue",As.label,As.description,255))),Wo.field("hex",Cr.sketch(K(eN,"hex",Xs.label,Xs.description,"ffffff"))),ve.asSpec()],formBehaviours:oo([db.config({invalidClass:l("form-invalid")}),$s("rgb-form-events",[pn(C$,Bn),pn(gN,nn),pn(UG,nn)])])})),{apis:{updateHex:(Wo,Nn)=>{Co.setValue(Wo,{hex:Nn.value}),pt(Wo,Nn),De(Wo,Nn)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(nt,pt,st)=>{nt.updateHex(pt,st)}},extraApis:{}})},Gle=(s,l)=>{const h=uv.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[l("sv-palette-spectrum")]}}),g=uv.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[l("sv-palette-thumb")],innerHtml:`<div class=${l("sv-palette-inner-thumb")} role="presentation"></div>`}}),E=(oe,fe)=>{const{width:ve,height:De}=oe,Ue=oe.getContext("2d");if(Ue===null)return;Ue.fillStyle=fe,Ue.fillRect(0,0,ve,De);const He=Ue.createLinearGradient(0,0,ve,0);He.addColorStop(0,"rgba(255,255,255,1)"),He.addColorStop(1,"rgba(255,255,255,0)"),Ue.fillStyle=He,Ue.fillRect(0,0,ve,De);const nt=Ue.createLinearGradient(0,0,0,De);nt.addColorStop(0,"rgba(0,0,0,0)"),nt.addColorStop(1,"rgba(0,0,0,1)"),Ue.fillStyle=nt,Ue.fillRect(0,0,ve,De)},O=(oe,fe)=>{const ve=oe.components()[0].element.dom,De=KC(fe,100,100),Ue=ZH(De);E(ve,DR(Ue))},R=(oe,fe)=>{const ve=tN(kR(fe));uv.setValue(oe,{x:ve.saturation,y:100-ve.value}),cs(oe.element,"aria-valuetext",s(["Saturation {0}%, Brightness {1}%",ve.saturation,ve.value]))};return cm({factory:oe=>{const fe=F({x:0,y:0}),ve=(He,nt,pt)=>{re(pt)||cs(He.element,"aria-valuetext",s(["Saturation {0}%, Brightness {1}%",Math.floor(pt.x),Math.floor(100-pt.y)])),ms(He,$R,{value:pt})},De=(He,nt,pt,st)=>{E(pt.element.dom,DR(J9))},Ue=oo([yn.config({find:te.some}),js.config({})]);return uv.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":s(["Saturation {0}%, Brightness {1}%",0,0])},classes:[l("sv-palette")]},model:{mode:"xy",getInitialValue:fe},rounded:!1,components:[h,g],onChange:ve,onInit:De,sliderBehaviours:Ue})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(oe,fe,ve)=>{O(fe,ve)},setThumb:(oe,fe,ve)=>{R(fe,ve)}},extraApis:{}})},qle=(s,l,h,g)=>{const E=R=>{const G=zG(s,l,R.onValidHex,R.onInvalidHex,h,g),K=Gle(s,l),oe=Wn=>(100-Wn)/100*360,fe=Wn=>100-Wn/360*100,ve={paletteRgba:$n(J9),paletteHue:$n(0)},De=oi($G(s,l)),Ue=oi(K.sketch({})),He=oi(G.sketch({})),nt=(Wn,Bn,ds)=>{Ue.getOpt(Wn).each(Zo=>{K.setHue(Zo,ds)})},pt=(Wn,Bn)=>{He.getOpt(Wn).each(ds=>{G.updateHex(ds,Bn)})},st=(Wn,Bn,ds)=>{De.getOpt(Wn).each(Zo=>{uv.setValue(Zo,fe(ds))})},yt=(Wn,Bn)=>{Ue.getOpt(Wn).each(ds=>{K.setThumb(ds,Bn)})},_t=(Wn,Bn)=>{const ds=kR(Wn);ve.paletteRgba.set(ds),ve.paletteHue.set(Bn)},Qt=(Wn,Bn,ds,Zo)=>{_t(Bn,ds),Tn(Zo,kr=>{kr(Wn,Bn,ds)})},nn=()=>{const Wn=[pt];return(Bn,ds)=>{const Zo=ds.event.value,kr=ve.paletteHue.get(),As=KC(kr,Zo.x,100-Zo.y),Xs=YH(As);Qt(Bn,Xs,kr,Wn)}},So=()=>{const Wn=[nt,pt];return(Bn,ds)=>{const Zo=oe(ds.event.value),kr=ve.paletteRgba.get(),As=tN(kr),Xs=KC(Zo,As.saturation,As.value),Wo=YH(Xs);Qt(Bn,Wo,Zo,Wn)}},Hn=()=>{const Wn=[nt,st,yt];return(Bn,ds)=>{const Zo=ds.event.hex,kr=Yae(Zo);Qt(Bn,Zo,kr.hue,Wn)}};return{uid:R.uid,dom:R.dom,components:[Ue.asSpec(),De.asSpec(),He.asSpec()],behaviours:oo([$s("colour-picker-events",[pn(HR,Hn()),pn($R,nn()),pn(HG,So())]),yn.config({find:Wn=>He.getOpt(Wn)}),os.config({mode:"acyclic"})])}};return cm({name:"ColourPicker",configFields:[kn("dom"),Wt("onValidHex",ie),Wt("onInvalidHex",ie)],factory:E})},Zle={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red channel","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green channel","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue channel","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},E$=s=>l=>v(l)?s.translate(Zle[l]):s.translate(l),Kle=(s,l,h)=>{const g=oe=>"tox-"+oe,E=(oe,fe,ve=oe,De=oe)=>ag(ve,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+oe],attributes:{title:l.translate(De),"aria-live":"polite",...fe.fold(()=>({}),Ue=>({id:Ue}))}},l.icons),O=qle(E$(l),g,l.tooltips.getConfig,E),R=oe=>{ms(oe,Iy,{name:"hex-valid",value:!0})},G=oe=>{ms(oe,Iy,{name:"hex-valid",value:!1})},K=oi(O.sketch({dom:{tag:"div",classes:[g("color-picker-container")],attributes:{role:"presentation"}},onValidHex:R,onInvalidHex:G}));return{dom:{tag:"div"},components:[K.asSpec()],behaviours:oo([f_(h,oe=>{const fe=K.get(oe);return yn.getCurrent(fe).bind(Ue=>Co.getValue(Ue).hex).map(Ue=>"#"+hh(Ue,"#")).getOr("")},(oe,fe)=>{const ve=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,De=te.from(ve.exec(fe)).bind(nt=>Bt(nt,1)),Ue=K.get(oe);yn.getCurrent(Ue).fold(()=>{console.log("Can not find form")},nt=>{Co.setValue(nt,{hex:De.getOr("")}),Ep.getField(nt,"hex").each(pt=>{wr(pt,Zp())})})}),Sb.self()])}};var Yle=tinymce.util.Tools.resolve("tinymce.Resource");const w$=s=>ro(s,"init"),Xle=s=>{const l=Ss(),h=oi({dom:{tag:s.tag}}),g=Ss(),E=!w$(s)&&s.onFocus.isSome()?[js.config({onFocus:O=>{s.onFocus.each(R=>{R(O.element.dom)})}}),da.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:oo([$s("custom-editor-events",[Ea(O=>{h.getOpt(O).each(R=>{(w$(s)?s.init(R.element.dom):Yle.load(s.scriptId,s.scriptUrl).then(G=>G(R.element.dom,s.settings))).then(G=>{g.on(K=>{G.setValue(K)}),g.clear(),l.set(G)})})})]),f_(te.none(),()=>l.get().fold(()=>g.get().getOr(""),O=>O.getValue()),(O,R)=>{l.get().fold(()=>g.set(R),G=>G.setValue(R))}),Sb.self()].concat(E)),components:[h.asSpec()]}};var sS=tinymce.util.Tools.resolve("tinymce.util.Tools");const _$=yo("browse.files.event"),jG=(s,l)=>{const h=sS.explode(l.getOption("images_file_types")),g=E=>Ro(h,O=>Hc(E.name.toLowerCase(),`.${O.toLowerCase()}`));return vs(ks(s),g)},Jle=(s,l,h)=>{const g=(De,Ue)=>{Ue.stop()},E=De=>(Ue,He)=>{Tn(De,nt=>{nt(Ue,He)})},O=(De,Ue)=>{var He;if(!Jo.isDisabled(De)){const nt=Ue.event.raw;ms(De,_$,{files:(He=nt.dataTransfer)===null||He===void 0?void 0:He.files})}},R=(De,Ue)=>{const He=Ue.event.raw.target;ms(De,_$,{files:He.files})},G=(De,Ue)=>{Ue&&(Co.setValue(De,jG(Ue,l)),ms(De,nh,{name:s.name}))},K=oi({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:oo([$s("input-file-events",[x1(Ym()),x1(Xp())])])}),oe=s.label.map(De=>h_(De,l)),fe=Cr.parts.field({factory:eh,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[ka(l.translate("Browse for an image")),K.asSpec()],action:De=>{K.get(De).element.dom.click()},buttonBehaviours:oo([Sb.self(),mN(h.getOr([])),da.config({}),cg.button(()=>l.checkUiComponentContext(s.context).shouldDisable),Ma(()=>l.checkUiComponentContext(s.context))])}),ve={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:oo([Jo.config({disabled:()=>l.checkUiComponentContext(s.context).shouldDisable}),Ma(()=>l.checkUiComponentContext(s.context)),Pr.config({toggleClass:"dragenter",toggleOnExecute:!1}),$s("dropzone-events",[pn("dragenter",E([g,Pr.toggle])),pn("dragleave",E([g,Pr.toggle])),pn("dragover",g),pn("drop",E([g,O])),pn(Kp(),R)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[ka(l.translate("Drop an image here"))]},fe]}]};return BR(oe,ve,["tox-form__group--stretched"],[$s("handle-files",[pn(_$,(De,Ue)=>{Cr.getField(De).each(He=>{G(He,Ue.event.files)})})])])},Qle=(s,l)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${s.columns}col`]},components:qt(s.items,l.interpreter)}),A$=yo("alloy-fake-before-tabstop"),T$=yo("alloy-fake-after-tabstop"),WG=s=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:s},behaviours:oo([js.config({ignore:!0}),da.config({})])}),GG=(s,l)=>({dom:{tag:"div",classes:["tox-navobj",...s.getOr([])]},components:[WG([A$]),l,WG([T$])],behaviours:oo([Sb.childAt(1)])}),qG=(s,l)=>{ms(s,lc(),{raw:{which:9,shiftKey:l}})},ece=(s,l)=>{const h=l.element;qa(h,A$)?qG(s,!0):qa(h,T$)&&qG(s,!1)},UR=s=>qb(s,["."+A$,"."+T$].join(","),mt),bN=yo("update-dialog"),ZG=yo("update-title"),x$=yo("update-body"),KG=yo("update-footer"),YG=yo("body-send-message"),yN=yo("dialog-focus-shifted"),O$=Gi().browser,zR=O$.isSafari(),tce=O$.isFirefox(),I$=zR||tce,nce=O$.isChromium(),XG=({scrollTop:s,scrollHeight:l,clientHeight:h})=>Math.ceil(s)+h>=l,JG=(s,l)=>s.scrollTo(0,l==="bottom"?99999999:l),QG=(s,l)=>{const h=s.body;return te.from(!/^<!DOCTYPE (html|HTML)/.test(l)&&(!nce&&!zR||W(h)&&(h.scrollTop!==0||Math.abs(h.scrollHeight-h.clientHeight)>1))?h:s.documentElement)},R$=(s,l,h)=>{const g=s.dom;te.from(g.contentDocument).fold(h,E=>{let O=0;const R=QG(E,l).map(K=>(O=K.scrollTop,K)).forall(XG),G=()=>{const K=g.contentWindow;W(K)&&(R?JG(K,"bottom"):!R&&I$&&O!==0&&JG(K,O))};zR&&g.addEventListener("load",G,{once:!0}),E.open(),E.write(l),E.close(),zR||G()})},oce=rl(I$,zR?500:200).map(s=>Bi(R$,s)),sce=(s,l)=>{const h=$n(s.getOr(""));return{getValue:g=>h.get(),setValue:(g,E)=>{if(h.get()!==E){const O=g.element,R=()=>cs(O,"srcdoc",E);l?oce.fold(F(R$),G=>G.throttle)(O,E,R):R()}h.set(E)}}},tq=(s,l,h)=>{const g="tox-dialog__iframe",E=s.transparent?[]:[`${g}--opaque`],O=s.border?["tox-navobj-bordered"]:[],R={...s.label.map(ve=>({title:ve})).getOr({}),...h.map(ve=>({srcdoc:ve})).getOr({}),...s.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},G=sce(h,s.streamContent),K=s.label.map(ve=>h_(ve,l)),oe=ve=>GG(te.from(O),{uid:ve.uid,dom:{tag:"iframe",attributes:R,classes:[g,...E]},behaviours:oo([da.config({}),js.config({}),f_(h,G.getValue,G.setValue),um.config({channels:{[yN]:{onReceive:(De,Ue)=>{Ue.newFocus.each(He=>{ps(De.element).each(nt=>{(xe(De.element,He)?Ii:vi)(nt,"tox-navobj-bordered-focus")})})}}}})])}),fe=Cr.parts.field({factory:{sketch:oe}});return BR(K,fe,["tox-form__group--stretched"],[])},rce=(s,l,h,g,E)=>{const O=h*E,R=g*E,G=Math.max(0,s/2-O/2),K=Math.max(0,l/2-R/2);return{left:G.toString()+"px",top:K.toString()+"px",width:O.toString()+"px",height:R.toString()+"px"}},nq=(s,l,h)=>{const g=Ac(s),E=El(s);return Math.min(g/l,E/h,1)},ice=(s,l)=>{const h=$n(l.getOr({url:""})),g=oi({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:l.map(K=>({src:K.url})).getOr({})}}),E=oi({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[g.asSpec()]}),O=(K,oe)=>{const fe={url:oe.url};oe.zoom.each(De=>fe.zoom=De),oe.cachedWidth.each(De=>fe.cachedWidth=De),oe.cachedHeight.each(De=>fe.cachedHeight=De),h.set(fe);const ve=()=>{const{cachedWidth:De,cachedHeight:Ue,zoom:He}=fe;if(!U(De)&&!U(Ue)){if(U(He)){const pt=nq(K.element,De,Ue);fe.zoom=pt}const nt=rce(Ac(K.element),El(K.element),De,Ue,fe.zoom);E.getOpt(K).each(pt=>{pa(pt.element,nt)})}};g.getOpt(K).each(De=>{const Ue=De.element;oe.url!==pl(Ue,"src")&&(cs(Ue,"src",oe.url),vi(K.element,"tox-imagepreview__loaded")),ve(),mh(Ue).then(He=>{K.getSystem().isConnected()&&(Ii(K.element,"tox-imagepreview__loaded"),fe.cachedWidth=He.dom.naturalWidth,fe.cachedHeight=He.dom.naturalHeight,ve())})})},R={};s.height.each(K=>R.height=K);const G=l.map(K=>({url:K.url,zoom:te.from(K.zoom),cachedWidth:te.from(K.cachedWidth),cachedHeight:te.from(K.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:R,attributes:{role:"presentation"}},components:[E.asSpec()],behaviours:oo([Sb.self(),f_(G,()=>h.get(),O)])}},SN=(s,l,h)=>{const g="tox-label",E=s.align==="center"?[`${g}--center`]:[],O=s.align==="end"?[`${g}--end`]:[],R=oi({dom:{tag:"label",classes:[g,...E,...O]},components:[ka(l.providers.translate(s.label))]}),G=qt(s.items,l.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[R.asSpec(),...G],behaviours:oo([Sb.self(),Ws.config({}),Wle(te.none()),os.config({mode:"acyclic"}),$s("label",[Ea(K=>{s.for.each(oe=>{h(oe).each(fe=>{R.getOpt(K).each(ve=>{var De;const Ue=(De=pl(fe.element,"id"))!==null&&De!==void 0?De:yo("form-field");cs(fe.element,"id",Ue),cs(ve.element,"for",Ue)})})})})])])}},k$=yo("toolbar.button.execute"),oq=s=>m0((l,h)=>{WT(s,l)(g=>{ms(l,k$,{buttonApi:g}),s.onAction(g)})}),XC=yo("common-button-display-events"),sq={[uu()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[Jp()]:["toolbar-button-events",XC],[qg()]:["toolbar-button-events","dropdown-events","tooltipping"],[vd()]:["focusing","alloy.base.behaviour",XC]},pv=s=>xs(s.element,"width",aa(s.element,"width")),jR=(s,l,h)=>ag(s,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:h},l),XT=(s,l)=>jR(s,l,[]),JC=(s,l)=>jR(s,l,[Ws.config({})]),CN=(s,l,h)=>({dom:{tag:"span",classes:[`${l}__select-label`]},components:[ka(h.translate(s))],behaviours:oo([Ws.config({})])}),mv=yo("update-menu-text"),rS=yo("update-menu-icon"),D$=yo("update-tooltip-text"),WR=(s,l,h,g)=>{const E=$n(ie),O=$n(s.tooltip),R=s.text.map(pt=>oi(CN(pt,l,h.providers))),G=s.icon.map(pt=>oi(JC(pt,h.providers.icons))),K=(pt,st)=>{const yt=Co.getValue(pt);return js.focus(yt),ms(yt,"keydown",{raw:st.event.raw}),fm.close(yt),te.some(!0)},oe=s.role.fold(()=>({}),pt=>({role:pt})),fe=te.from(s.listRole).map(pt=>({listRole:pt})).getOr({}),ve=s.ariaLabel.fold(()=>({}),pt=>({"aria-label":h.providers.translate(pt)})),De=ag("chevron-down",{tag:"div",classes:[`${l}__select-chevron`]},h.providers.icons),Ue=yo("common-button-display-events"),He="dropdown-events";return oi(fm.sketch({...s.uid?{uid:s.uid}:{},...oe,...fe,dom:{tag:"button",classes:[l,`${l}--select`].concat(qt(s.classes,pt=>`${l}--${pt}`)),attributes:{...ve,...W(g)?{"data-mce-name":g}:{}}},components:qT([G.map(pt=>pt.asSpec()),R.map(pt=>pt.asSpec()),te.some(De)]),matchWidth:!0,useMinWidth:!0,onOpen:(pt,st,yt)=>{s.searchable&&Dle(yt)},dropdownBehaviours:oo([...s.dropdownBehaviours,cg.button(()=>s.disabled||h.providers.checkUiComponentContext(s.context).shouldDisable),Ma(()=>h.providers.checkUiComponentContext(s.context)),xT.config({}),Ws.config({}),...s.tooltip.map(pt=>Da.config(h.providers.tooltips.getConfig({tooltipText:h.providers.translate(pt),onShow:st=>{if(Rc(O.get(),s.tooltip,(yt,_t)=>_t!==yt).getOr(!1)){const yt=h.providers.translate(O.get().getOr(""));Da.setComponents(st,h.providers.tooltips.getComponents({tooltipText:yt}))}}}))).toArray(),$s(He,[ug(s,E),nS(s,E)]),$s(Ue,[Ea((pt,st)=>{s.listRole!=="listbox"&&pv(pt)})]),$s("update-dropdown-width-variable",[pn(d0(),(pt,st)=>fm.close(pt))]),$s("menubutton-update-display-text",[pn(mv,(pt,st)=>{R.bind(yt=>yt.getOpt(pt)).each(yt=>{Ws.set(yt,[ka(h.providers.translate(st.event.text))])})}),pn(rS,(pt,st)=>{G.bind(yt=>yt.getOpt(pt)).each(yt=>{Ws.set(yt,[JC(st.event.icon,h.providers.icons)])})}),pn(D$,(pt,st)=>{const yt=h.providers.translate(st.event.text);cs(pt.element,"aria-label",yt),O.set(te.some(st.event.text))})])]),eventOrder:Jr(sq,{[vd()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Jp()]:["toolbar-button-events",Da.name(),He,Ue]}),sandboxBehaviours:oo([os.config({mode:"special",onLeft:K,onRight:K}),$s("dropdown-sandbox-events",[pn(eH,(pt,st)=>{IG(pt),st.stop()}),pn(KW,(pt,st)=>{Ile(pt,st),st.stop()})])]),lazySink:h.getSink,toggleClass:`${l}--active`,parts:{menu:{...LT(!1,s.columns,s.presets),fakeFocus:s.searchable,...s.listRole==="listbox"?{}:{onHighlightItem:p$,onCollapseMenu:(pt,st,yt)=>{fi.getHighlighted(yt).each(_t=>{p$(pt,yt,_t)})},onDehighlightItem:RG}}},getAnchorOverrides:()=>({maxHeightFunction:(pt,st)=>{oD()(pt,st-10)}}),fetch:pt=>Vs.nu(Xe(s.fetch,pt))})).asSpec()},ace=s=>v(s),rq=s=>s.type==="separator",iq=s=>ro(s,"getSubmenuItems"),lce={type:"separator"},cce=(s,l)=>{const h=xn(s,(g,E)=>ace(E)?E===""?g:E==="|"?g.length>0&&!rq(g[g.length-1])?g.concat([lce]):g:ro(l,E.toLowerCase())?g.concat([l[E.toLowerCase()]]):g:g.concat([E]),[]);return h.length>0&&rq(h[h.length-1])&&h.pop(),h},M$=(s,l)=>{const h=s.getSubmenuItems(),g=aq(h,l),E=Jr(g.menus,{[s.value]:g.items}),O=Jr(g.expansions,{[s.value]:s.value});return{item:s,menus:E,expansions:O}},uce=s=>{const l=cn(s,"value").getOrThunk(()=>yo("generated-menu-item"));return Jr({value:l},s)},aq=(s,l)=>{const h=cce(v(s)?s.split(" "):s,l);return Ut(h,(g,E)=>{if(iq(E)){const O=uce(E),R=M$(O,l);return{menus:Jr(g.menus,R.menus),items:[R.item,...g.items],expansions:Jr(g.expansions,R.expansions)}}else return{...g,items:[E,...g.items]}},{menus:{},expansions:{},items:[]})},lq=s=>s.search.fold(()=>({searchMode:"no-search"}),l=>({searchMode:"search-with-field",placeholder:l.placeholder})),cq=s=>s.search.fold(()=>({searchMode:"no-search"}),l=>({searchMode:"search-with-results"})),JT=(s,l,h,g)=>{const E=yo("primary-menu"),O=aq(s,h.shared.providers.menuItems());if(O.items.length===0)return te.none();const R=lq(g),G=Bs(E,O.items,l,h,g.isHorizontalMenu,R),K=cq(g),oe=Ls(O.menus,(ve,De)=>Bs(De,ve,l,h,!1,K)),fe=Jr(oe,Ug(E,G));return te.from(MC.tieredData(E,fe,O.expansions))},EN=s=>!ro(s,"items"),uq="data-value",dq=(s,l,h,g,E)=>qt(h,O=>EN(O)?{type:"togglemenuitem",...E?{}:{role:"option"},text:O.text,value:O.value,active:O.value===g,onAction:()=>{Co.setValue(s,O.value),ms(s,nh,{name:l}),js.focus(s)}}:{type:"nestedmenuitem",text:O.text,getSubmenuItems:()=>dq(s,l,O.items,g,E)}),wN=(s,l)=>Rs(s,h=>EN(h)?rl(h.value===l,h):wN(h.items,l)),D0=(s,l,h)=>{const g=Ro(s.items,oe=>!EN(oe)),E=l.shared.providers,O=h.bind(oe=>wN(s.items,oe)).orThunk(()=>$t(s.items).filter(EN)),R=s.label.map(oe=>h_(oe,E)),G=Cr.parts.field({dom:{},factory:{sketch:oe=>WR({context:s.context,uid:oe.uid,text:O.map(fe=>fe.text),icon:te.none(),tooltip:te.none(),role:rl(!g,"combobox"),...g?{}:{listRole:"listbox"},ariaLabel:s.label,fetch:(fe,ve)=>{const De=dq(fe,s.name,s.items,Co.getValue(fe),g);ve(JT(De,vb.CLOSE_ON_EXECUTE,l,{isHorizontalMenu:!1,search:te.none()}))},onSetup:F(ie),getApi:F({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[da.config({}),f_(O.map(fe=>fe.value),fe=>pl(fe.element,uq),(fe,ve)=>{wN(s.items,ve).each(De=>{cs(fe.element,uq,De.value),ms(fe,mv,{text:De.text})})})]},"tox-listbox",l.shared)}}),K={dom:{tag:"div",classes:["tox-listboxfield"]},components:[G]};return Cr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:fn([R.toArray(),[K]]),fieldBehaviours:oo([Jo.config({disabled:()=>!s.enabled||E.checkUiComponentContext(s.context).shouldDisable,onDisabled:oe=>{Cr.getField(oe).each(Jo.disable)},onEnabled:oe=>{Cr.getField(oe).each(Jo.enable)}})])})},P$=(s,l)=>({dom:{tag:"div",classes:s.classes},components:qt(s.items,l.shared.interpreter)}),dce=(s,l,h)=>{const g=qt(s.items,K=>({text:l.translate(K.text),value:K.value})),E=s.label.map(K=>h_(K,l)),O=Cr.parts.field({dom:{},...h.map(K=>({data:K})).getOr({}),selectAttributes:{size:s.size},options:g,factory:Foe,selectBehaviours:oo([Jo.config({disabled:()=>!s.enabled||l.checkUiComponentContext(s.context).shouldDisable}),da.config({}),$s("selectbox-change",[pn(Kp(),(K,oe)=>{ms(K,nh,{name:s.name})})])])}),R=s.size>1?te.none():te.some(ag("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},l.icons)),G={dom:{tag:"div",classes:["tox-selectfield"]},components:fn([[O],R.toArray()])};return Cr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:fn([E.toArray(),[G]]),fieldBehaviours:oo([Jo.config({disabled:()=>!s.enabled||l.checkUiComponentContext(s.context).shouldDisable,onDisabled:K=>{Cr.getField(K).each(Jo.disable)},onEnabled:K=>{Cr.getField(K).each(Jo.enable)}}),Ma(()=>l.checkUiComponentContext(s.context))])})},hq=s=>{const l={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},h=E=>E in l?l[E]:1;let g=s.value.toFixed(h(s.unit));return g.indexOf(".")!==-1&&(g=g.replace(/\.?0*$/,"")),g+s.unit},_N=s=>{const h=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(s);if(h!==null){const g=parseFloat(h[1]),E=h[2];return zo.value({value:g,unit:E})}else return zo.error(s)},fq=(s,l)=>{const h={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},g=E=>ro(h,E);return s.unit===l?te.some(s.value):g(s.unit)&&g(l)?h[s.unit]===h[l]?te.some(s.value):te.some(s.value/h[s.unit]*h[l]):te.none()},AN=s=>te.none(),pq=(s,l)=>h=>fq(h,l).map(g=>({value:g*s,unit:l})),N$=(s,l)=>{const h=_N(s).toOptional(),g=_N(l).toOptional();return Rc(h,g,(E,O)=>fq(E,O.unit).map(R=>O.value/R).map(R=>pq(R,O.unit)).getOr(AN)).getOr(AN)},dSe=(s,l)=>{let h=AN;const g=yo("ratio-event"),E=nt=>ag(nt,{tag:"span",classes:["tox-icon","tox-lock-icon__"+nt]},l.icons),O=()=>!s.enabled||l.checkUiComponentContext(s.context).shouldDisable,R=Ma(()=>l.checkUiComponentContext(s.context)),G=s.label.getOr("Constrain proportions"),K=l.translate(G),oe=Hl.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":K,"data-mce-name":G}},components:[E("lock"),E("unlock")],buttonBehaviours:oo([Jo.config({disabled:O}),R,da.config({}),Da.config(l.tooltips.getConfig({tooltipText:K}))])}),fe=nt=>({dom:{tag:"div",classes:["tox-form__group"]},components:nt}),ve=nt=>Cr.parts.field({factory:x0,inputClasses:["tox-textfield"],inputBehaviours:oo([Jo.config({disabled:O}),R,da.config({}),$s("size-input-events",[pn(If(),(pt,st)=>{ms(pt,g,{isField1:nt})}),pn(Kp(),(pt,st)=>{ms(pt,nh,{name:s.name})})])]),selectOnFocus:!1}),De=nt=>({dom:{tag:"label",classes:["tox-label"]},components:[ka(l.translate(nt))]}),Ue=Hl.parts.field1(fe([Cr.parts.label(De("Width")),ve(!0)])),He=Hl.parts.field2(fe([Cr.parts.label(De("Height")),ve(!1)]));return Hl.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[Ue,He,fe([De(mf),oe])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(nt,pt,st)=>{_N(Co.getValue(nt)).each(yt=>{h(yt).each(_t=>{Co.setValue(pt,hq(_t))})})},coupledFieldBehaviours:oo([Jo.config({disabled:O,onDisabled:nt=>{Hl.getField1(nt).bind(Cr.getField).each(Jo.disable),Hl.getField2(nt).bind(Cr.getField).each(Jo.disable),Hl.getLock(nt).each(Jo.disable)},onEnabled:nt=>{Hl.getField1(nt).bind(Cr.getField).each(Jo.enable),Hl.getField2(nt).bind(Cr.getField).each(Jo.enable),Hl.getLock(nt).each(Jo.enable)}}),Ma(()=>l.checkUiComponentContext("mode:design")),$s("size-input-events2",[pn(g,(nt,pt)=>{const st=pt.event.isField1,yt=st?Hl.getField1(nt):Hl.getField2(nt),_t=st?Hl.getField2(nt):Hl.getField1(nt),Qt=yt.map(Co.getValue).getOr(""),nn=_t.map(Co.getValue).getOr("");h=N$(Qt,nn)})])])})},hSe=(s,l,h)=>{const g=uv.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[ka(l.translate(s.label))]}),E=uv.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),O=uv.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return uv.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:s.min,maxX:s.max,getInitialValue:F(h.getOrThunk(()=>(Math.abs(s.max)-Math.abs(s.min))/2))},components:[g,E,O],sliderBehaviours:oo([Sb.self(),js.config({})]),onChoose:(R,G,K)=>{ms(R,nh,{name:s.name,value:K})},onChange:(R,G,K)=>{ms(R,nh,{name:s.name,value:K})}})},Vf=(s,l)=>{const h=G=>({dom:{tag:"th",innerHtml:l.translate(G)}}),g=G=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:qt(G,h)}]}),E=G=>({dom:{tag:"td",innerHtml:l.translate(G)}}),O=G=>({dom:{tag:"tr"},components:qt(G,E)}),R=G=>({dom:{tag:"tbody"},components:qt(G,O)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[g(s.header),R(s.cells)],behaviours:oo([da.config({}),js.config({})])}},L$=(s,l)=>{const h=s.label.map(He=>h_(He,l)),g=[Jo.config({disabled:()=>s.disabled||l.checkUiComponentContext(s.context).shouldDisable}),Ma(()=>l.checkUiComponentContext(s.context)),os.config({mode:"execution",useEnter:s.multiline!==!0,useControlEnter:s.multiline===!0,execute:He=>(wr(He,VR),te.some(!0))}),$s("textfield-change",[pn(Zp(),(He,nt)=>{ms(He,nh,{name:s.name})}),pn(Xm(),(He,nt)=>{ms(He,nh,{name:s.name})})]),da.config({})],E=s.validation.map(He=>db.config({getRoot:nt=>ps(nt.element),invalidClass:"tox-invalid",validator:{validate:nt=>{const pt=Co.getValue(nt),st=He.validator(pt);return Vs.pure(st===!0?zo.value(pt):zo.error(st))},validateOnLoad:He.validateOnLoad}})).toArray(),O=s.placeholder.fold(F({}),He=>({placeholder:l.translate(He)})),R=s.inputMode.fold(F({}),He=>({inputmode:He})),K={...s.spellcheck.fold(F({}),He=>({spellcheck:He})),...O,...R,"data-mce-name":s.name},oe=Cr.parts.field({tag:s.multiline===!0?"textarea":"input",...s.data.map(He=>({data:He})).getOr({}),inputAttributes:K,inputClasses:[s.classname],inputBehaviours:oo(fn([g,E])),selectOnFocus:!1,factory:x0}),fe=s.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[oe]}:oe,De=(s.flex?["tox-form__group--stretched"]:[]).concat(s.maximized?["tox-form-group--maximize"]:[]),Ue=[Jo.config({disabled:()=>s.disabled||l.checkUiComponentContext(s.context).shouldDisable,onDisabled:He=>{Cr.getField(He).each(Jo.disable)},onEnabled:He=>{Cr.getField(He).each(Jo.enable)}}),Ma(()=>l.checkUiComponentContext(s.context))];return BR(h,fe,De,Ue)},hce=(s,l,h)=>L$({name:s.name,multiline:!1,label:s.label,inputMode:s.inputMode,placeholder:s.placeholder,flex:!1,disabled:!s.enabled,classname:"tox-textfield",validation:te.none(),maximized:s.maximized,data:h,context:s.context,spellcheck:te.none()},l),mq=(s,l,h)=>L$({name:s.name,multiline:!0,label:s.label,inputMode:te.none(),placeholder:s.placeholder,flex:!0,disabled:!s.enabled,classname:"tox-textarea",validation:te.none(),maximized:s.maximized,data:h,context:s.context,spellcheck:s.spellcheck},l),gq=s=>({isEnabled:()=>!Jo.isDisabled(s),setEnabled:l=>Jo.set(s,!l),setActive:l=>{const h=s.element;l?(Ii(h,"tox-tbtn--enabled"),cs(h,"aria-pressed",!0)):(vi(h,"tox-tbtn--enabled"),ia(h,"aria-pressed"))},isActive:()=>qa(s.element,"tox-tbtn--enabled"),setTooltip:l=>{ms(s,D$,{text:l})},setText:l=>{ms(s,mv,{text:l})},setIcon:l=>ms(s,rS,{icon:l})}),GR=(s,l,h,g,E=!0,O)=>{const R=s.buttonType==="bordered"?["bordered"]:[];return WR({text:s.text,icon:s.icon,tooltip:s.tooltip,ariaLabel:s.tooltip,searchable:s.search.isSome(),role:g,fetch:(G,K)=>{const oe={pattern:s.search.isSome()?Mle(G):""};s.fetch(fe=>{K(JT(fe,vb.CLOSE_ON_EXECUTE,h,{isHorizontalMenu:!1,search:s.search}))},oe,gq(G))},onSetup:s.onSetup,getApi:G=>gq(G),columns:1,presets:"normal",classes:R,dropdownBehaviours:[...E?[da.config({})]:[]],context:s.context},l,h.shared,O)},vq=(s,l,h)=>{const g=O=>R=>{const G=!R.isActive();R.setActive(G),O.storage.set(G),h.shared.getSink().each(K=>{l().getOpt(K).each(oe=>{ra(oe.element),ms(oe,Iy,{name:O.name,value:O.storage.get()})})})},E=O=>R=>{R.setActive(O.storage.get())};return O=>{O(qt(s,R=>{const G=R.text.fold(()=>({}),K=>({text:K}));return{type:R.type,active:!1,...G,context:R.context,onAction:g(R),onSetup:E(R)}}))}},bq=s=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":s}},components:[ka(s)]}),TN=(s,l,h)=>{s.customStateIcon.each(g=>l.push(ON(g,h.shared.providers.icons,s.customStateIconTooltip.fold(()=>[],E=>[Da.config(h.shared.providers.tooltips.getConfig({tooltipText:E}))]),["tox-icon-custom-state"])))},xN=yo("leaf-label-event-id"),B$=({leaf:s,onLeafAction:l,visible:h,treeId:g,selectedId:E,backstage:O})=>{const R=s.menu.map(K=>GR(K,"tox-mbtn",O,te.none(),h)),G=[bq(s.title)];return TN(s,G,O),R.each(K=>G.push(K)),eh.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(h?["tox-tree--leaf__label--visible"]:[])},components:G,role:"treeitem",action:K=>{l(s.id),K.getSystem().broadcastOn([`update-active-item-${g}`],{value:s.id})},eventOrder:{[lc()]:[xN,"keying"]},buttonBehaviours:oo([...h?[da.config({})]:[],Pr.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),um.config({channels:{[`update-active-item-${g}`]:{onReceive:(K,oe)=>{(oe.value===s.id?Pr.on:Pr.off)(K)}}}}),$s(xN,[Ea((K,oe)=>{E.each(fe=>{(fe===s.id?Pr.on:Pr.off)(K)})}),pn(lc(),(K,oe)=>{const fe=oe.event.raw.code==="ArrowLeft",ve=oe.event.raw.code==="ArrowRight";fe?(Kh(K.element,".tox-tree--directory").each(De=>{K.getSystem().getByDom(De).each(Ue=>{wf(De,".tox-tree--directory__label").each(He=>{Ue.getSystem().getByDom(He).each(js.focus)})})}),oe.stop()):ve&&oe.stop()})])])})},ON=(s,l,h,g,E)=>ag(s,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(g||[]),behaviours:h,attributes:E},l),yq=(s,l)=>ON(s,l,[]),V$=yo("directory-label-event-id"),fce=({directory:s,visible:l,noChildren:h,backstage:g})=>{const E=s.menu.map(G=>GR(G,"tox-mbtn",g,te.none())),O=[{dom:{tag:"div",classes:["tox-chevron"]},components:[yq("chevron-right",g.shared.providers.icons)]},bq(s.title)];TN(s,O,g),E.each(G=>{O.push(G)});const R=G=>{Kh(G.element,".tox-tree--directory").each(K=>{G.getSystem().getByDom(K).each(oe=>{const fe=!Pr.isOn(oe);Pr.toggle(oe),ms(G,"expand-tree-node",{expanded:fe,node:s.id})})})};return eh.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(l?["tox-tree--directory__label--visible"]:[])},components:O,action:R,eventOrder:{[lc()]:[V$,"keying"]},buttonBehaviours:oo([...l?[da.config({})]:[],$s(V$,[pn(lc(),(G,K)=>{const oe=K.event.raw.code==="ArrowRight",fe=K.event.raw.code==="ArrowLeft";oe&&h&&K.stop(),(oe||fe)&&Kh(G.element,".tox-tree--directory").each(ve=>{G.getSystem().getByDom(ve).each(De=>{!Pr.isOn(De)&&oe||Pr.isOn(De)&&fe?(R(G),K.stop()):fe&&!Pr.isOn(De)&&(Kh(De.element,".tox-tree--directory").each(Ue=>{wf(Ue,".tox-tree--directory__label").each(He=>{De.getSystem().getByDom(He).each(js.focus)})}),K.stop())})})})])])})},Sq=({children:s,onLeafAction:l,visible:h,treeId:g,expandedIds:E,selectedId:O,backstage:R})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:s.map(G=>G.type==="leaf"?B$({leaf:G,selectedId:O,onLeafAction:l,visible:h,treeId:g,backstage:R}):F$({directory:G,expandedIds:E,selectedId:O,onLeafAction:l,labelTabstopping:h,treeId:g,backstage:R})),behaviours:oo([Lf.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:h}),Ws.config({})])}),Cq=yo("directory-event-id"),F$=({directory:s,onLeafAction:l,labelTabstopping:h,treeId:g,backstage:E,expandedIds:O,selectedId:R})=>{const{children:G}=s,K=$n(O),oe=ve=>G.map(De=>De.type==="leaf"?B$({leaf:De,selectedId:R,onLeafAction:l,visible:ve,treeId:g,backstage:E}):F$({directory:De,expandedIds:K.get(),selectedId:R,onLeafAction:l,labelTabstopping:ve,treeId:g,backstage:E})),fe=O.includes(s.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[fce({directory:s,visible:h,noChildren:s.children.length===0,backstage:E}),Sq({children:G,expandedIds:O,selectedId:R,onLeafAction:l,visible:fe,treeId:g,backstage:E})],behaviours:oo([$s(Cq,[Ea((ve,De)=>{Pr.set(ve,fe)}),pn("expand-tree-node",(ve,De)=>{const{expanded:Ue,node:He}=De.event;K.set(Ue?[...K.get(),He]:K.get().filter(nt=>nt!==He))})]),Pr.config({...s.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(ve,De)=>{const Ue=ve.components()[1],He=oe(De);De?Lf.grow(Ue):Lf.shrink(Ue),Ws.set(Ue,He)}})])}},Eq=yo("tree-event-id"),pce=(s,l)=>{const h=s.onLeafAction.getOr(ie),g=s.onToggleExpand.getOr(ie),E=s.defaultExpandedIds,O=$n(E),R=$n(s.defaultSelectedId),G=yo("tree-id"),K=(oe,fe)=>s.items.map(ve=>ve.type==="leaf"?B$({leaf:ve,selectedId:oe,onLeafAction:h,visible:!0,treeId:G,backstage:l}):F$({directory:ve,selectedId:oe,onLeafAction:h,expandedIds:fe,labelTabstopping:!0,treeId:G,backstage:l}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:K(R.get(),O.get()),behaviours:oo([os.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),$s(Eq,[pn("expand-tree-node",(oe,fe)=>{const{expanded:ve,node:De}=fe.event;O.set(ve?[...O.get(),De]:O.get().filter(Ue=>Ue!==De)),g(O.get(),{expanded:ve,node:De})})]),um.config({channels:{[`update-active-item-${G}`]:{onReceive:(oe,fe)=>{R.set(te.some(fe.value)),Ws.set(oe,K(te.some(fe.value),O.get()))}}}}),Ws.config({})])}},qR=(s,l,h=[],g,E,O,R)=>{const G=l.fold(()=>({}),fe=>({action:fe})),K={buttonBehaviours:oo([cg.item(()=>!s.enabled||R.checkUiComponentContext(s.context).shouldDisable),Ma(()=>R.checkUiComponentContext(s.context)),da.config({}),...O.map(fe=>Da.config(R.tooltips.getConfig({tooltipText:R.translate(fe)}))).toArray(),$s("button press",[A1("click")])].concat(h)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...G},oe=Jr(K,{dom:g});return Jr(oe,{components:E})},fSe=(s,l,h,g=[],E)=>{const O=s.tooltip.map(oe=>({"aria-label":h.translate(oe)})).getOr({}),R={tag:"button",classes:["tox-tbtn"],attributes:{...O,"data-mce-name":E}},G=s.icon.map(oe=>XT(oe,h.icons)),K=qT([G]);return qR(s,l,g,R,K,s.tooltip,h)},wq=s=>{switch(s){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},_q=(s,l,h,g=[],E=[])=>{const O=h.translate(s.text),R=s.icon.map(Ue=>XT(Ue,h.icons)),G=[R.getOrThunk(()=>ka(O))],K=s.buttonType.getOr(!s.primary&&!s.borderless?"secondary":"primary"),ve={tag:"button",classes:[...wq(K),...R.isSome()?["tox-button--icon"]:[],...s.borderless?["tox-button--naked"]:[],...E],attributes:{"aria-label":O,"data-mce-name":s.text}},De=s.icon.map(F(O));return qR(s,l,g,ve,G,De,h)},Aq=(s,l,h,g=[],E=[])=>{const O=_q(s,te.some(l),h,g,E);return eh.sketch(O)},H$=(s,l)=>h=>{l==="custom"?ms(h,Iy,{name:s,value:{}}):l==="submit"?wr(h,VR):l==="cancel"?wr(h,YC):console.error("Unknown button type: ",l)},mce=(s,l)=>l==="menu",gce=(s,l)=>l==="custom"||l==="cancel"||l==="submit",vce=(s,l)=>l==="togglebutton",bce=(s,l,h)=>{var g,E;const O=s.icon.map(_t=>JC(_t,l.icons)).map(oi),R=_t=>{ms(_t,Iy,{name:s.name,value:{setIcon:Qt=>{O.map(nn=>nn.getOpt(_t).each(So=>{Ws.set(So,[JC(Qt,l.icons)])}))}}})},G=s.buttonType.getOr(s.primary?"primary":"secondary"),K={...s,name:(g=s.name)!==null&&g!==void 0?g:"",tooltip:s.tooltip,enabled:(E=s.enabled)!==null&&E!==void 0?E:!1},oe=K.tooltip.or(s.text).map(_t=>({"aria-label":l.translate(_t)})).getOr({}),fe=wq(G??"secondary"),ve=s.icon.isSome()&&s.text.isSome(),De={tag:"button",classes:[...fe.concat(s.icon.isSome()?["tox-button--icon"]:[]),...s.active?["tox-button--enabled"]:[],...ve?["tox-button--icon-and-text"]:[]],attributes:{...oe,...W(h)?{"data-mce-name":h}:{}}},Ue=[],He=l.translate(s.text.getOr("")),nt=ka(He),st=[...qT([O.map(_t=>_t.asSpec())]),...s.text.isSome()?[nt]:[]],yt=qR(K,te.some(R),Ue,De,st,s.tooltip,l);return eh.sketch(yt)},ZR=(s,l,h)=>{if(mce(s,l)){const g=()=>R,E=s,O={...s,buttonType:"default",type:"menubutton",search:te.none(),onSetup:G=>(G.setEnabled(s.enabled),ie),fetch:vq(E.items,g,h)},R=oi(GR(O,"tox-tbtn",h,te.none(),!0,s.text.or(s.tooltip).getOrUndefined()));return R.asSpec()}else if(gce(s,l)){const g=H$(s.name,l),E={...s,context:l==="cancel"?"any":s.context,borderless:!1};return Aq(E,g,h.shared.providers,[])}else{if(vce(s,l))return bce(s,h.shared.providers,s.text.or(s.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",l),new Error("Unknown footer button type")}},yce=(s,l)=>{const h=H$(s.name,"custom");return Vle(te.none(),Cr.parts.field({factory:eh,..._q(s,te.some(h),l,[mN(""),Sb.self()])}))},Sce={type:"separator"},Tq=s=>({type:"menuitem",value:s.url,text:s.title,meta:{attach:s.attach},onAction:ie}),IN=(s,l)=>({type:"menuitem",value:l,text:s,meta:{attach:void 0},onAction:ie}),QT=s=>qt(s,Tq),Cce=(s,l)=>vs(l,h=>h.type===s),$$=(s,l)=>QT(Cce(s,l)),xq=s=>$$("header",s.targets),Oq=s=>$$("anchor",s.targets),Ece=s=>te.from(s.anchorTop).map(l=>IN("<top>",l)).toArray(),Iq=s=>te.from(s.anchorBottom).map(l=>IN("<bottom>",l)).toArray(),Rq=s=>qt(s,l=>IN(l,l)),wce=s=>xn(s,(l,h)=>l.length===0||h.length===0?l.concat(h):l.concat(Sce,h),[]),U$=(s,l)=>{const h=s.toLowerCase();return vs(l,g=>{var E;const O=g.meta!==void 0&&g.meta.text!==void 0?g.meta.text:g.text,R=(E=g.value)!==null&&E!==void 0?E:"";return wi(O.toLowerCase(),h)||wi(R.toLowerCase(),h)})},kq=(s,l,h)=>{var g,E;const O=Co.getValue(l),R=(E=(g=O==null?void 0:O.meta)===null||g===void 0?void 0:g.text)!==null&&E!==void 0?E:O.value;return h.getLinkInformation().fold(()=>[],K=>{const oe=U$(R,Rq(h.getHistory(s)));return s==="file"?wce([oe,U$(R,xq(K)),U$(R,fn([Ece(K),Oq(K),Iq(K)]))]):oe})},z$=yo("aria-invalid"),_ce=(s,l,h,g)=>{const E=l.shared.providers,O=yt=>{const _t=Co.getValue(yt);h.addToHistory(_t.value,s.filetype)},R={...g.map(yt=>({initialData:yt})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{type:"url"},minChars:0,responseTime:0,fetch:yt=>{const _t=kq(s.filetype,yt,h),Qt=JT(_t,vb.BUBBLE_TO_SANDBOX,l,{isHorizontalMenu:!1,search:te.none()});return Vs.pure(Qt)},getHotspot:yt=>He.getOpt(yt),onSetValue:(yt,_t)=>{yt.hasConfigured(db)&&db.run(yt).get(ie)},typeaheadBehaviours:oo([...h.getValidationHandler().map(yt=>db.config({getRoot:_t=>ps(_t.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(_t,Qt)=>{fe.getOpt(_t).each(nn=>{cs(nn.element,"title",E.translate(Qt))})}},validator:{validate:_t=>{const Qt=Co.getValue(_t);return Dd.nu(nn=>{yt({type:s.filetype,url:Qt.value},So=>{if(So.status==="invalid"){cs(_t.element,"aria-errormessage",z$);const Hn=zo.error(So.message);nn(Hn)}else{ia(_t.element,"aria-errormessage");const Hn=zo.value(So.message);nn(Hn)}})})},validateOnLoad:!1}})).toArray(),Jo.config({disabled:()=>!s.enabled||E.checkUiComponentContext(s.context).shouldDisable}),da.config({}),$s("urlinput-events",[pn(Zp(),yt=>{const _t=_l(yt.element),Qt=_t.trim();Qt!==_t&&_f(yt.element,Qt),s.filetype==="file"&&ms(yt,nh,{name:s.name})}),pn(Kp(),yt=>{ms(yt,nh,{name:s.name}),O(yt)}),pn(Xm(),yt=>{ms(yt,nh,{name:s.name}),O(yt)})])]),eventOrder:{[Zp()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:yt=>yt.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:l.shared.getSink,parts:{menu:LT(!1,1,"normal")},onExecute:(yt,_t,Qt)=>{ms(_t,VR,{})},onItemExecute:(yt,_t,Qt,nn)=>{O(yt),ms(yt,nh,{name:s.name})}},G=Cr.parts.field({...R,factory:hre}),K=s.label.map(yt=>h_(yt,E)),fe=oi(((yt,_t,Qt=yt,nn=yt)=>ag(Qt,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+yt],attributes:{title:E.translate(nn),"aria-live":"polite",..._t.fold(()=>({}),So=>({id:So}))}},E.icons))("invalid",te.some(z$),"warning")),ve=oi({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[fe.asSpec()]}),De=h.getUrlPicker(s.filetype),Ue=yo("browser.url.event"),He=oi({dom:{tag:"div",classes:["tox-control-wrap"]},components:[G,ve.asSpec()],behaviours:oo([Jo.config({disabled:()=>!s.enabled||E.checkUiComponentContext(s.context).shouldDisable})])}),nt=oi(Aq({context:s.context,name:s.name,icon:te.some("browse"),text:s.picker_text.or(s.label).getOr(""),enabled:s.enabled,primary:!1,buttonType:te.none(),borderless:!0},yt=>wr(yt,Ue),E,[],["tox-browse-url"])),pt=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:fn([[He.asSpec()],De.map(()=>nt.asSpec()).toArray()])}),st=yt=>{yn.getCurrent(yt).each(_t=>{const Qt=Co.getValue(_t),nn={fieldname:s.name,...Qt};De.each(So=>{So(nn).get(Hn=>{Co.setValue(_t,Hn),ms(yt,nh,{name:s.name})})})})};return Cr.sketch({dom:NG(),components:K.toArray().concat([pt()]),fieldBehaviours:oo([Jo.config({disabled:()=>!s.enabled||E.checkUiComponentContext(s.context).shouldDisable,onDisabled:yt=>{Cr.getField(yt).each(Jo.disable),nt.getOpt(yt).each(Jo.disable)},onEnabled:yt=>{Cr.getField(yt).each(Jo.enable),nt.getOpt(yt).each(Jo.enable)}}),Ma(()=>E.checkUiComponentContext(s.context)),$s("url-input-events",[pn(Ue,st)])])})},Ace=(s,l)=>{const h=YF(s.icon,l.icons);return ub.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${s.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:s.url?void 0:h},components:s.url?[eh.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:h,attributes:{title:l.translate(s.iconTooltip)}},action:g=>ms(g,Iy,{name:"alert-banner",value:s.url}),buttonBehaviours:oo([$W()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:l.translate(s.text)}}]})},Tce=(s,l,h)=>{const g=K=>(K.element.dom.click(),te.some(!0)),E=Cr.parts.field({factory:{sketch:Ie},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:oo([Sb.self(),Jo.config({disabled:()=>!s.enabled||l.checkUiComponentContext(s.context).shouldDisable,onDisabled:K=>{ps(K.element).each(oe=>Ii(oe,"tox-checkbox--disabled"))},onEnabled:K=>{ps(K.element).each(oe=>vi(oe,"tox-checkbox--disabled"))}}),da.config({}),js.config({}),jle(h,ey,up),os.config({mode:"special",onEnter:g,onSpace:g,stopSpaceKeyup:!0}),$s("checkbox-events",[pn(Kp(),(K,oe)=>{ms(K,nh,{name:s.name})})])])}),O=Cr.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[ka(l.translate(s.label))],behaviours:oo([xT.config({})])}),R=K=>ag(K==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+K]},l.icons),G=oi({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[R("checked"),R("unchecked")]});return Cr.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[E,G.asSpec(),O],fieldBehaviours:oo([Jo.config({disabled:()=>!s.enabled||l.checkUiComponentContext(s.context).shouldDisable}),Ma(()=>l.checkUiComponentContext(s.context))])})},xce=(s,l)=>{const h=["tox-form__group",...s.stretched?["tox-form__group--stretched"]:[]],g=$s("htmlpanel",[Ea(E=>{s.onInit(E.element.dom)})]);return s.presets==="presentation"?ub.sketch({dom:{tag:"div",classes:h,innerHtml:s.html},containerBehaviours:oo([Da.config({...l.tooltips.getConfig({tooltipText:"",onShow:E=>{ui(E.element,"[data-mce-tooltip]:hover").orThunk(()=>Wa(E.element)).each(O=>{rr(O,"data-mce-tooltip").each(R=>{Da.setComponents(E,l.tooltips.getComponents({tooltipText:R}))})})}}),mode:"children-normal",anchor:E=>({type:"node",node:ui(E.element,"[data-mce-tooltip]:hover").orThunk(()=>Wa(E.element).filter(O=>rr(O,"data-mce-tooltip").isSome())),root:E.element,layouts:{onLtr:F([ua,Tl,Fr,yl,zi,Ja]),onRtl:F([ua,Tl,Fr,yl,zi,Ja])},bubble:Ft(0,-2,{})})}),g])}):ub.sketch({dom:{tag:"div",classes:h,innerHtml:s.html,attributes:{role:"document"}},containerBehaviours:oo([da.config({}),js.config({}),g])})},Kc=s=>(l,h,g,E,O)=>cn(h,"name").fold(()=>s(h,E,te.none(),O),R=>l.field(R,s(h,E,cn(g,R),O))),Oce=s=>(l,h,g,E,O)=>{const R=Jr(h,{source:"dynamic"});return Kc(s)(l,R,g,E,O)},Ice={bar:Kc((s,l)=>Ble(s,l.shared)),collection:Kc((s,l,h)=>Hle(s,l.shared.providers,h)),alertbanner:Kc((s,l)=>Ace(s,l.shared.providers)),input:Kc((s,l,h)=>hce(s,l.shared.providers,h)),textarea:Kc((s,l,h)=>mq(s,l.shared.providers,h)),label:Kc((s,l,h,g)=>SN(s,l.shared,g)),iframe:Oce((s,l,h)=>tq(s,l.shared.providers,h)),button:Kc((s,l)=>yce(s,l.shared.providers)),checkbox:Kc((s,l,h)=>Tce(s,l.shared.providers,h)),colorinput:Kc((s,l,h)=>Ule(s,l.shared,l.colorinput,h)),colorpicker:Kc((s,l,h)=>Kle(s,l.shared.providers,h)),dropzone:Kc((s,l,h)=>Jle(s,l.shared.providers,h)),grid:Kc((s,l)=>Qle(s,l.shared)),listbox:Kc((s,l,h)=>D0(s,l,h)),selectbox:Kc((s,l,h)=>dce(s,l.shared.providers,h)),sizeinput:Kc((s,l)=>dSe(s,l.shared.providers)),slider:Kc((s,l,h)=>hSe(s,l.shared.providers,h)),urlinput:Kc((s,l,h)=>_ce(s,l,l.urlinput,h)),customeditor:Kc(Xle),htmlpanel:Kc((s,l)=>xce(s,l.shared.providers)),imagepreview:Kc((s,l,h)=>ice(s,h)),table:Kc((s,l)=>Vf(s,l.shared.providers)),tree:Kc((s,l)=>pce(s,l)),panel:Kc((s,l)=>P$(s,l))},Rce={field:(s,l)=>l,record:F([])},Dq=(s,l,h,g,E)=>{const O=Jr(g,{shared:{interpreter:R=>j$(s,R,h,O,E)}});return j$(s,l,h,O,E)},j$=(s,l,h,g,E)=>cn(Ice,l.type).fold(()=>(console.error(`Unknown factory type "${l.type}", defaulting to container: `,l),l),O=>O(s,l,h,g,E)),Mq=(s,l,h,g)=>j$(Rce,s,l,h,g),RN={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},kce=(s,l,h)=>{const E={maxHeightFunction:_1()},O=()=>({type:"node",root:ja(oa(s())),node:te.from(s()),bubble:Ft(12,12,RN),layouts:{onRtl:()=>[an],onLtr:()=>[uC]},overrides:E}),R=()=>({type:"hotspot",hotspot:l(),bubble:Ft(-12,12,RN),layouts:{onRtl:()=>[Fr,zi,ua],onLtr:()=>[zi,Fr,ua]},overrides:E});return()=>h()?O():R()},Pq=(s,l,h,g)=>{const O={maxHeightFunction:_1()},R=()=>({type:"node",root:ja(oa(l())),node:te.from(l()),bubble:Ft(12,12,RN),layouts:{onRtl:()=>[ef],onLtr:()=>[ef]},overrides:O}),G=()=>s?{type:"node",root:ja(oa(l())),node:te.from(l()),bubble:Ft(0,-wl(l()),RN),layouts:{onRtl:()=>[Tl],onLtr:()=>[Tl]},overrides:O}:{type:"hotspot",hotspot:h(),bubble:Ft(0,0,RN),layouts:{onRtl:()=>[Tl],onLtr:()=>[Tl]},overrides:O};return()=>g()?R():G()},Nq=(s,l,h)=>{const g=()=>({type:"node",root:ja(oa(s())),node:te.from(s()),layouts:{onRtl:()=>[ef],onLtr:()=>[ef]}}),E=()=>({type:"hotspot",hotspot:l(),layouts:{onRtl:()=>[ua],onLtr:()=>[ua]}});return()=>h()?g():E()},kN=(s,l)=>()=>({type:"selection",root:l(),getSelection:()=>{const h=s.selection.getRng(),g=s.model.table.getSelectedCells();if(g.length>1){const E=g[0],O=g[g.length-1],R={firstCell:co.fromDom(E),lastCell:co.fromDom(O)};return te.some(R)}return te.some(lu.range(co.fromDom(h.startContainer),h.startOffset,co.fromDom(h.endContainer),h.endOffset))}}),Lq=s=>l=>({type:"node",root:s(),node:l}),Dce=(s,l,h,g)=>{const E=PT(s),O=()=>co.fromDom(s.getBody()),R=()=>co.fromDom(s.getContentAreaContainer()),G=()=>E||!g();return{inlineDialog:kce(R,l,G),inlineBottomDialog:Pq(s.inline,R,h,G),banner:Nq(R,l,G),cursor:kN(s,O),node:Lq(O)}},Mce=s=>(l,h)=>{dN(s)(l,h)},Pce=s=>()=>i$(s),Nce=s=>l=>PR(s,l),Lce=s=>l=>uG(s,l),Bce=s=>({colorPicker:Mce(s),hasCustomColors:Pce(s),getColors:Nce(s),getColorCols:Lce(s)}),Vce=s=>()=>mW(s),Bq=s=>({isDraggableModal:Vce(s)}),Vq=s=>{const l=$n(PF(s)?"bottom":"top");return{isPositionedAtTop:()=>l.get()==="top",getDockingMode:l.get,setDockingMode:l.set}},Fq=s=>Xn(s,"items"),W$=s=>Xn(s,"format"),Hq=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],Fce=s=>ro(s,"items"),Hce=s=>ro(s,"block"),p_=s=>ro(s,"inline"),$q=s=>ro(s,"selector"),ex=s=>xn(s,(l,h)=>{if(Fce(h)){const g=ex(h.items);return{customFormats:l.customFormats.concat(g.customFormats),formats:l.formats.concat([{title:h.title,items:g.formats}])}}else if(p_(h)||Hce(h)||$q(h)){const E=`custom-${v(h.name)?h.name:h.title.toLowerCase()}`;return{customFormats:l.customFormats.concat([{name:E,format:h}]),formats:l.formats.concat([{title:h.title,format:E,icon:h.icon}])}}else return{...l,formats:l.formats.concat(h)}},{customFormats:[],formats:[]}),DN=(s,l)=>{const h=ex(l),g=E=>{Tn(E,O=>{s.formatter.has(O.name)||s.formatter.register(O.name,O.format)})};return s.formatter?g(h.customFormats):s.on("init",()=>{g(h.customFormats)}),h.formats},G$=s=>tW(s).map(l=>{const h=DN(s,l);return nW(s)?Hq.concat(h):h}).getOr(Hq),Uq=s=>{const l=Ao(s);return l.length===1&&Cn(l,"title")},q$=(s,l,h)=>({...s,type:"formatter",isSelected:l(s.format),getStylePreview:h(s.format)}),$ce=(s,l,h,g)=>{const E=K=>q$(K,h,g),O=K=>{const oe=G(K.items);return{...K,type:"submenu",getStyleItems:F(oe)}},R=K=>{const oe=v(K.name)?K.name:yo(K.title),fe=`custom-${oe}`,ve={...K,type:"formatter",format:fe,isSelected:h(fe),getStylePreview:g(fe)};return s.formatter.register(oe,ve),ve},G=K=>qt(K,oe=>Fq(oe)?O(oe):W$(oe)?E(oe):Uq(oe)?{...oe,type:"separator"}:R(oe));return G(l)},Uce=s=>{const l=G=>()=>s.formatter.match(G),h=G=>()=>{const K=s.formatter.get(G);return K!==void 0?te.some({tag:K.length>0&&(K[0].inline||K[0].block)||"div",styles:s.dom.parseStyle(s.formatter.getCssText(G))}):te.none()},g=$n([]),E=$n([]),O=$n(!1);return s.on("PreInit",G=>{const K=G$(s),oe=$ce(s,K,l,h);g.set(oe)}),s.on("addStyleModifications",G=>{const K=$ce(s,G.items,l,h);E.set(K),O.set(G.replace)}),{getData:()=>{const G=O.get()?[]:g.get(),K=E.get();return G.concat(K)}}},zce=s=>{let g=0;const E=()=>g>0,O=G=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[ka(G.tooltipText)]}];return{getConfig:G=>({delayForShow:()=>E()?60:300,delayForHide:F(300),exclusive:!0,lazySink:s,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:O(G),onShow:(K,oe)=>{g++,G.onShow&&G.onShow(K,oe)},onHide:(K,oe)=>{g--,G.onHide&&G.onHide(K,oe)},onSetup:G.onSetup}),getComponents:O}},jce=s=>W(s)&&s.nodeType===1,Wce=sS.trim,zq=s=>l=>!!(jce(l)&&(l.contentEditable===s||l.getAttribute("data-mce-contenteditable")===s)),Gce=zq("true"),tx=zq("false"),nx=(s,l,h,g,E)=>({type:s,title:l,url:h,level:g,attach:E}),Z$=s=>{let l=s;for(;l=l.parentNode;){const h=l.contentEditable;if(h&&h!=="inherit")return Gce(l)}return!1},qce=(s,l)=>qt(Ri(co.fromDom(l),s),h=>h.dom),jq=s=>s.innerText||s.textContent,K$=s=>s.id?s.id:yo("h"),Zce=s=>s&&s.nodeName==="A"&&(s.id||s.name)!==void 0,KR=s=>Zce(s)&&Wq(s),Y$=s=>s&&/^(H[1-6])$/.test(s.nodeName),Wq=s=>Z$(s)&&!tx(s),Kce=s=>Y$(s)&&Wq(s),Yce=s=>Y$(s)?parseInt(s.nodeName.substr(1),10):0,Xce=s=>{var l;const h=K$(s),g=()=>{s.id=h};return nx("header",(l=jq(s))!==null&&l!==void 0?l:"","#"+h,Yce(s),g)},Jce=s=>{const l=s.id||s.name,h=jq(s);return nx("anchor",h||"#"+l,"#"+l,0,ie)},Qce=s=>qt(vs(s,Kce),Xce),Gq=s=>qt(vs(s,KR),Jce),qq=s=>qce("h1,h2,h3,h4,h5,h6,a:not([href])",s),X$=s=>Wce(s.title).length>0,MN={find:s=>{const l=qq(s);return vs(Qce(l).concat(Gq(l)),X$)}},m_="tinymce-url-history",J$=5,Zq=s=>v(s)&&/^https?/.test(s),eue=s=>x(s)&&s.length<=J$&&Mt(s,Zq),Kq=s=>S(s)&&go(s,l=>!eue(l)).isNone(),Yq=()=>{const s=oS.getItem(m_);if(s===null)return{};let l;try{l=JSON.parse(s)}catch(h){if(h instanceof SyntaxError)return console.log("Local storage "+m_+" was not valid JSON",h),{};throw h}return Kq(l)?l:(console.log("Local storage "+m_+" was not valid format",l),{})},Q$=s=>{if(!Kq(s))throw new Error(`Bad format for history:
`+JSON.stringify(s));oS.setItem(m_,JSON.stringify(s))},tue=s=>{const l=Yq();return cn(l,s).getOr([])},eU=(s,l)=>{if(!Zq(s))return;const h=Yq(),g=cn(h,l).getOr([]),E=vs(g,O=>O!==s);h[l]=[s].concat(E).slice(0,J$),Q$(h)},Xq=s=>!!s,tU=s=>Ls(sS.makeMap(s,/[, ]/),Xq),nU=s=>te.from(uW(s)),nue=s=>{const l=te.from(fW(s)).filter(Xq).map(tU);return nU(s).fold(mt,h=>l.fold(gt,g=>Ao(g).length>0?g:!1))},oue=(s,l)=>{const h=nue(s);return B(h)?h?nU(s):te.none():h[l]?nU(s):te.none()},sue=(s,l)=>oue(s,l).map(h=>g=>Vs.nu(E=>{const O=(G,K)=>{if(!v(G))throw new Error("Expected value to be string");if(K!==void 0&&!S(K))throw new Error("Expected meta to be a object");E({value:G,meta:K})},R={filetype:l,fieldname:g.fieldname,...te.from(g.meta).getOr({})};h.call(s,O,g.value,R)})),Jq=s=>te.from(s).filter(v).getOrUndefined(),mSe=s=>RF(s)?te.some({targets:MN.find(s.getBody()),anchorTop:Jq(pW(s)),anchorBottom:Jq(kF(s))}):te.none(),gSe=s=>te.from(dW(s)),Qq=s=>({getHistory:tue,addToHistory:eU,getLinkInformation:()=>mSe(s),getValidationHandler:()=>gSe(s),getUrlPicker:l=>sue(s,l)}),rue=(s,l,h,g)=>{const E=$n(!1),O=Vq(l),R={icons:()=>l.ui.registry.getAll().icons,menuItems:()=>l.ui.registry.getAll().menuItems,translate:hc.translate,isDisabled:()=>!l.ui.isEnabled(),getOption:l.options.get,tooltips:zce(s.dialog),checkUiComponentContext:st=>{if(fP(l))return{contextType:"disabled",shouldDisable:!0};const[yt,_t=""]=st.split(":"),Qt=l.ui.registry.getAll().contexts,nn=cn(Qt,yt).fold(()=>cn(Qt,"mode").map(So=>So("design")).getOr(!1),So=>_t.charAt(0)==="!"?!So(_t.slice(1)):So(_t));return{contextType:yt,shouldDisable:!nn}}},G=Qq(l),K=Uce(l),oe=Bce(l),fe=Bq(l),ve=()=>E.get(),De=st=>E.set(st),Ue={shared:{providers:R,anchors:Dce(l,h,g,O.isPositionedAtTop),header:O},urlinput:G,styles:K,colorinput:oe,dialog:fe,isContextMenuOpen:ve,setContextMenuState:De},He=st=>te.none(),nt={...Ue,shared:{...Ue.shared,interpreter:st=>Mq(st,{},nt,He),getSink:s.popup}},pt={...Ue,shared:{...Ue.shared,interpreter:st=>Mq(st,{},pt,He),getSink:s.dialog}};return{popup:nt,dialog:pt}},aue={skipFocus:"ToggleToolbarDrawer skipFocus is deprecated see migration guide: https://www.tiny.cloud/docs/tinymce/latest/migration-from-7x/"},lue=s=>{console.warn(aue[s],new Error().stack)},cue=(s,l,h)=>{const g=(Bn,ds)=>{Tn([l,...h],Zo=>{Zo.broadcastEvent(Bn,ds)})},E=(Bn,ds)=>{Tn([l,...h],Zo=>{Zo.broadcastOn([Bn],ds)})},O=Bn=>E(v0(),{target:Bn.target}),R=Bn=>{E(dw(),{closedTooltip:()=>{Bn.preventDefault()}})},G=Kl(),K=li(G,"touchstart",O),oe=li(G,"touchmove",Bn=>g(JS(),Bn)),fe=li(G,"touchend",Bn=>g(bA(),Bn)),ve=li(G,"mousedown",O),De=li(G,"mouseup",Bn=>{Bn.raw.button===0&&E(Qv(),{target:Bn.target})}),Ue=Bn=>E(v0(),{target:co.fromDom(Bn.target)}),He=Bn=>{Bn.button===0&&E(Qv(),{target:co.fromDom(Bn.target)})},nt=()=>{Tn(s.editorManager.get(),Bn=>{s!==Bn&&Bn.dispatch("DismissPopups",{relatedTarget:s})})},pt=Bn=>g(u0(),Mu(Bn)),st=Bn=>{E(yd(),{}),g(d0(),Mu(Bn))},yt=oa(co.fromDom(s.getElement())),_t=Bd(yt,"scroll",Bn=>{requestAnimationFrame(()=>{const ds=s.getContainer();if(ds!=null){const kr=dv(s,l.element).map(As=>[As.element,...As.others]).getOr([]);Ro(kr,As=>xe(As,Bn.target))&&(s.dispatch("ElementScroll",{target:Bn.target.dom}),g(SA(),Bn))}})}),Qt=()=>E(yd(),{}),nn=Bn=>{Bn.state&&E(v0(),{target:co.fromDom(s.getContainer())})},So=Bn=>{E(v0(),{target:co.fromDom(Bn.relatedTarget.getContainer())})},Hn=Bn=>s.dispatch("focusin",Bn),Wn=Bn=>s.dispatch("focusout",Bn);s.on("PostRender",()=>{s.on("click",Ue),s.on("tap",Ue),s.on("mouseup",He),s.on("mousedown",nt),s.on("ScrollWindow",pt),s.on("ResizeWindow",st),s.on("ResizeEditor",Qt),s.on("AfterProgressState",nn),s.on("DismissPopups",So),s.on("CloseActiveTooltips",R),Tn([l,...h],Bn=>{Bn.element.dom.addEventListener("focusin",Hn),Bn.element.dom.addEventListener("focusout",Wn)})}),s.on("remove",()=>{s.off("click",Ue),s.off("tap",Ue),s.off("mouseup",He),s.off("mousedown",nt),s.off("ScrollWindow",pt),s.off("ResizeWindow",st),s.off("ResizeEditor",Qt),s.off("AfterProgressState",nn),s.off("DismissPopups",So),s.off("CloseActiveTooltips",R),Tn([l,...h],Bn=>{Bn.element.dom.removeEventListener("focusin",Hn),Bn.element.dom.removeEventListener("focusout",Wn)}),ve.unbind(),K.unbind(),oe.unbind(),fe.unbind(),De.unbind(),_t.unbind()}),s.on("detach",()=>{Tn([l,...h],JD),Tn([l,...h],Bn=>Bn.destroy())})},uue=ie,due=mt,oU=F([]);var hue=Object.freeze({__proto__:null,setup:uue,isDocked:due,getBehaviours:oU});const sU=F(yo("toolbar-height-change")),Ry={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},fue="tox-tinymce--toolbar-sticky-on",pue="tox-tinymce--toolbar-sticky-off",eZ=(s,l)=>{const h=dt(l),E=Dn(l).dom.innerHeight,O=Ga(h),R=co.fromDom(s.elm),G=hp(R),K=El(R),oe=G.y,fe=oe+K,ve=Uc(l),De=El(l),Ue=ve.top,He=Ue+De,nt=Math.abs(Ue-O.top)<2,pt=Math.abs(He-(O.top+E))<2;if(nt&&oe<He)Hd(O.left,oe-De,h);else if(pt&&fe>Ue){const st=oe-E+K+De;Hd(O.left,st,h)}},YR=(s,l)=>Cn(Qa.getModes(s),l),rU=s=>{const l=g=>wl(g)+(parseInt(aa(g,"margin-top"),10)||0)+(parseInt(aa(g,"margin-bottom"),10)||0),h=s.element;ps(h).each(g=>{const E="padding-"+Qa.getModes(s)[0];if(Qa.isDocked(s)){const O=Ac(g);xs(h,"width",O+"px"),xs(g,E,l(h)+"px")}else Er(h,"width"),Er(g,E)})},tZ=(s,l)=>{l?(vi(s,Ry.fadeOutClass),Xh(s,[Ry.transitionClass,Ry.fadeInClass])):(vi(s,Ry.fadeInClass),Xh(s,[Ry.fadeOutClass,Ry.transitionClass]))},Cm=(s,l)=>{const h=co.fromDom(s.getContainer());l?(Ii(h,fue),vi(h,pue)):(Ii(h,pue),vi(h,fue))},mue=(s,l)=>{const h=dt(l);Yl(h).filter(g=>!xe(l,g)).filter(g=>xe(g,co.fromDom(h.dom.body))||Pe(s,g)).each(()=>ra(l))},nZ=(s,l)=>Wa(s).orThunk(()=>l().toOptional().bind(h=>Wa(h.element))),oZ=(s,l,h)=>{s.inline||(l.header.isPositionedAtTop()||s.on("ResizeEditor",()=>{h().each(Qa.reset)}),s.on("ResizeWindow ResizeEditor",()=>{h().each(rU)}),s.on("SkinLoaded",()=>{h().each(g=>{Qa.isDocked(g)?Qa.reset(g):Qa.refresh(g)})}),s.on("FullscreenStateChanged",()=>{h().each(Qa.reset)})),s.on("AfterScrollIntoView",g=>{h().each(E=>{Qa.refresh(E);const O=E.element;Fp(O)&&eZ(g,O)})}),s.on("PostRender",()=>{Cm(s,!1)})},gue=s=>s().map(Qa.isDocked).getOr(!1),XR=()=>[um.config({channels:{[sU()]:{onReceive:rU}}})],sZ=(s,l)=>{const h=Ss(),g=l.getSink,E=G=>{g().each(K=>G(K.element))},O=G=>{s.inline||rU(G),Cm(s,Qa.isDocked(G)),G.getSystem().broadcastOn([yd()],{}),g().each(K=>K.getSystem().broadcastOn([yd()],{}))},R=s.inline?[]:XR();return[js.config({}),Qa.config({contextual:{lazyContext:G=>{const K=wl(G.element),oe=s.inline?s.getContentAreaContainer():s.getContainer();return te.from(oe).map(fe=>{const ve=Vl(co.fromDom(fe));return dv(s,G.element).fold(()=>{const Ue=ve.height-K,He=ve.y+(YR(G,"top")?0:K);return Zr(ve.x,He,ve.width,Ue)},Ue=>{const He=$d(ve,BC(Ue)),nt=YR(G,"top")?He.y:He.y+K;return Zr(He.x,nt,He.width,He.height-K)})})},onShow:()=>{E(G=>tZ(G,!0))},onShown:G=>{E(K=>Pc(K,[Ry.transitionClass,Ry.fadeInClass])),h.get().each(K=>{mue(G.element,K),h.clear()})},onHide:G=>{nZ(G.element,g).fold(h.clear,h.set),E(K=>tZ(K,!1))},onHidden:()=>{E(G=>Pc(G,[Ry.transitionClass]))},...Ry},lazyViewport:G=>dv(s,G.element).fold(()=>{const oe=Fu(),fe=lW(s),ve=oe.y+(YR(G,"top")&&!yre(s)?fe:0),De=oe.height-(YR(G,"bottom")?fe:0);return{bounds:Zr(oe.x,ve,oe.width,De),optScrollEnv:te.none()}},oe=>({bounds:BC(oe),optScrollEnv:te.some({currentScrollTop:oe.element.dom.scrollTop,scrollElmTop:Uc(oe.element).top})})),modes:[l.header.getDockingMode()],onDocked:O,onUndocked:O}),...R]};var PN=Object.freeze({__proto__:null,setup:oZ,isDocked:gue,getBehaviours:sZ});const vue=s=>{const l=s.editor,h=s.sticky?sZ:oU;return{uid:s.uid,dom:s.dom,components:s.components,behaviours:oo(h(l,s.sharedBackstage))}};var aU=cm({factory:(s,l)=>{const h=(E,O)=>{const R=qt(O,G=>{const K={type:"menubutton",text:G.text,fetch:fe=>{fe(G.getItems())},context:"any"},oe=g9(K).mapError(fe=>gp(fe)).getOrDie();return GR(oe,"tox-mbtn",l.backstage,te.some("menuitem"))});Ws.set(E,R)},g={focus:os.focusIn,setMenus:h};return{uid:s.uid,dom:s.dom,components:[],behaviours:oo([Ws.config({}),$s("menubar-events",[Ea(E=>{s.onSetup(E)}),pn(Of(),(E,O)=>{ui(E.element,".tox-mbtn--active").each(R=>{vl(O.event.target,".tox-mbtn").each(G=>{xe(R,G)||E.getSystem().getByDom(R).each(K=>{E.getSystem().getByDom(G).each(oe=>{fm.expand(oe),fm.close(K),js.focus(oe)})})})})}),pn(dy(),(E,O)=>{O.event.prevFocus.bind(R=>E.getSystem().getByDom(R).toOptional()).each(R=>{O.event.newFocus.bind(G=>E.getSystem().getByDom(G).toOptional()).each(G=>{fm.isOpen(R)&&(fm.expand(G),fm.close(R))})})})]),os.config({mode:"flow",selector:".tox-mbtn",onEscape:E=>(s.onEscape(E),te.some(!0))}),da.config({})]),apis:g,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[kn("dom"),kn("uid"),kn("onEscape"),kn("backstage"),Wt("onSetup",ie)],apis:{focus:(s,l)=>{s.focus(l)},setMenus:(s,l,h)=>{s.setMenus(l,h)}}});const bue="💝 Get all features",gv="https://www.tiny.cloud/tinymce-upgrade-to-cloud/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",yue=s=>{const l=s.promotionLink?[{dom:{tag:"a",attributes:{href:gv,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:bue}}]:[];return{uid:s.uid,dom:s.dom,components:l}},NN=s=>{const{sidebars:l}=s.ui.registry.getAll();Tn(Ao(l),h=>{const g=l[h],E=()=>Fc(te.from(s.queryCommandValue("ToggleSidebar")),h);s.ui.registry.addToggleButton(h,{icon:g.icon,tooltip:g.tooltip,onAction:O=>{s.execCommand("ToggleSidebar",!1,h),O.setActive(E())},onSetup:O=>{O.setActive(E());const R=()=>O.setActive(E());return s.on("ToggleSidebar",R),()=>{s.off("ToggleSidebar",R)}},context:"any"})})},rZ=s=>({element:()=>s.element.dom}),iZ=(s,l)=>{const h=qt(Ao(l),g=>{const E=l[g],O=mp(R9(E));return{name:g,getApi:rZ,onSetup:O.onSetup,onShow:O.onShow,onHide:O.onHide}});return qt(h,g=>{const E=$n(ie);return s.slot(g.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:OR.unnamedEvents([ug(g,E),nS(g,E),pn(m1(),(O,R)=>{const G=R.event;zt(h,oe=>oe.name===G.name).each(oe=>{(G.visible?oe.onShow:oe.onHide)(oe.getApi(O))})})])})})},Sue=s=>Oh.sketch(l=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:iZ(l,s),slotBehaviours:OR.unnamedEvents([Ea(h=>Oh.hideAllSlots(h))])})),aZ=(s,l,h)=>{yn.getCurrent(s).each(E=>{Ws.set(E,[Sue(l)]);const O=h==null?void 0:h.toLowerCase();v(O)&&ro(l,O)&&yn.getCurrent(E).each(R=>{Oh.showSlot(R,O),Lf.immediateGrow(E),Er(E.element,"width"),LN(s.element,"region")})})},LN=(s,l)=>{cs(s,"role",l)},Cue=(s,l)=>{yn.getCurrent(s).each(g=>{yn.getCurrent(g).each(O=>{Lf.hasGrown(g)?Oh.isShowing(O,l)?(Lf.shrink(g),LN(s.element,"presentation")):(Oh.hideAllSlots(O),Oh.showSlot(O,l),LN(s.element,"region")):(Oh.hideAllSlots(O),Oh.showSlot(O,l),Lf.grow(g),LN(s.element,"region"))})})},Eue=s=>yn.getCurrent(s).bind(h=>Lf.isGrowing(h)||Lf.hasGrown(h)?yn.getCurrent(h).bind(O=>zt(Oh.getSlotNames(O),R=>Oh.isShowing(O,R))):te.none()),lU=yo("FixSizeEvent"),cU=yo("AutoSizeEvent"),wue=s=>({uid:s.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:oo([da.config({}),js.config({}),Lf.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:l=>{yn.getCurrent(l).each(Oh.hideAllSlots),wr(l,cU)},onGrown:l=>{wr(l,cU)},onStartGrow:l=>{ms(l,lU,{width:ma(l.element,"width").getOr("")})},onStartShrink:l=>{ms(l,lU,{width:Ac(l.element)+"px"})}}),Ws.config({}),yn.config({find:l=>{const h=Ws.contents(l);return $t(h)}})])}],behaviours:oo([Sb.childAt(0),$s("sidebar-sliding-events",[pn(lU,(l,h)=>{xs(l.element,"width",h.event.width)}),pn(cU,(l,h)=>{Er(l.element,"width")})])])}),_ue=s=>(l,h)=>({dom:{tag:"div",attributes:{"aria-label":s.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:A0('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),uU=s=>yn.getCurrent(s).each(l=>ra(l.element,!0)),lZ=(s,l)=>{const h="tabindex",g=`data-mce-${h}`;te.from(s.iframeElement).map(co.fromDom).each(E=>{l?(rr(E,h).each(O=>cs(E,g,O)),cs(E,h,-1)):(ia(E,h),rr(E,g).each(O=>{cs(E,h,O),ia(E,g)}))})},cZ=(s,l,h,g)=>{const E=l.element;if(lZ(s,h),h)Vn.block(l,_ue(g)),Er(E,"display"),ia(E,"aria-hidden"),s.hasFocus()&&uU(l);else{const O=yn.getCurrent(l).exists(R=>qh(R.element));Vn.unblock(l),xs(E,"display","none"),cs(E,"aria-hidden","true"),O&&s.focus()}},Aue=s=>({uid:s.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:oo([Ws.config({}),Vn.config({focus:!1}),yn.config({find:l=>$t(l.components())})]),components:[]}),uZ=s=>s.type==="focusin",Tue=s=>uZ(s)?(s.composed?$t(s.composedPath()):te.from(s.target)).map(co.fromDom).filter(Dc).exists(h=>qa(h,"mce-pastebin")):!1,xue=(s,l,h)=>{const g=$n(!1),E=Ss(),O=G=>{g.get()&&!Tue(G)&&(G.preventDefault(),uU(l()),s.editorManager.setActive(s))};s.inline||s.on("PreInit",()=>{s.dom.bind(s.getWin(),"focusin",O),s.on("BeforeExecCommand",G=>{G.command.toLowerCase()==="mcefocus"&&G.value!==!0&&O(G)})});const R=G=>{G!==g.get()&&(g.set(G),cZ(s,l(),G,h.providers),Qae(s,G))};s.on("ProgressState",G=>{if(E.on(clearTimeout),re(G.time)){const K=dP.setEditorTimeout(s,()=>R(G.state),G.time);E.set(K)}else R(G.state),E.clear()})},dU=s=>{const l=s.label.isNone()?s.title.fold(()=>({}),h=>({attributes:{"aria-label":h}})):s.label.fold(()=>({}),h=>({attributes:{"aria-label":h}}));return{dom:{tag:"div",classes:["tox-toolbar__group"].concat(s.label.isSome()?["tox-toolbar__group_with_label"]:[]),...l},components:[...s.label.map(h=>({dom:{tag:"span",classes:["tox-label","tox-label--context-toolbar"]},components:[ka(h)]})).toArray(),rP.parts.items({})],items:s.items,markers:{itemSelector:".tox-tbtn:not([disabled]), .tox-toolbar-nav-item:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:oo([da.config({}),js.config({ignore:!0})])}},JR=s=>rP.sketch(dU(s)),hU=(s,l)=>{const h=Ea(g=>{const E=qt(s.initGroups,JR);Si.setGroups(g,E)});return oo([cg.toolbarButton(()=>s.providers.checkUiComponentContext("any").shouldDisable),Ma(()=>s.providers.checkUiComponentContext("any")),os.config({mode:l,onEscape:s.onEscape,visibilitySelector:".tox-toolbar__overflow",selector:".tox-toolbar__group"}),$s("toolbar-events",[h])])},dZ=s=>{const l=s.cyclicKeying?"cyclic":"acyclic";return{uid:s.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":dU({title:te.none(),label:te.none(),items:[]}),"overflow-button":fSe({context:"any",icon:te.some("more-drawer"),enabled:!0,tooltip:te.some("Reveal or hide additional toolbar items")},te.none(),s.providers,[],"overflow-button")},splitToolbarBehaviours:hU(s,l)}},Oue=s=>{const l=dZ(s),h=4,g=gF.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return gF.sketch({...l,lazySink:s.getSink,getOverflowBounds:()=>{const E=s.moreDrawerData.lazyHeader().element,O=hp(E),R=An(E),G=hp(R),K=Math.max(R.dom.scrollHeight,G.height);return Zr(O.x+h,G.y,O.width-h*2,K)},parts:{...l.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:s.attributes}}},components:[g],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:E=>s.onToggled(E,!0),onClosed:E=>s.onToggled(E,!1)})},Iue=s=>{const l=yF.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),h=yF.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),g=dZ(s);return yF.sketch({...g,components:[l,h],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:E=>{E.getSystem().broadcastOn([sU()],{type:"opened"}),s.onToggled(E,!0)},onClosed:E=>{E.getSystem().broadcastOn([sU()],{type:"closed"}),s.onToggled(E,!1)}})},QR=s=>{const l=s.cyclicKeying?"cyclic":"acyclic";return Si.sketch({uid:s.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(s.type===rg.scrolling?["tox-toolbar--scrolling"]:[])},components:[Si.parts.groups({})],toolbarBehaviours:hU(s,l)})},Rue=(s,l)=>{var h,g;const E=s.type==="togglebutton",O=s.icon.map(_t=>JC(_t,l.icons)).map(oi),G=_t=>{const Qt=Wn=>{O.map(Bn=>Bn.getOpt(_t).each(ds=>{Ws.set(ds,[JC(Wn,l.icons)])}))},nn=Wn=>{const Bn=_t.element;Wn?(Ii(Bn,"tox-button--enabled"),cs(Bn,"aria-pressed",!0)):(vi(Bn,"tox-button--enabled"),ia(Bn,"aria-pressed"))},So=()=>qa(_t.element,"tox-button--enabled"),Hn=()=>ra(_t.element);if(E)return s.onAction({setIcon:Qt,setActive:nn,isActive:So,focus:Hn});if(s.type==="button")return s.onAction({setIcon:Qt})},K={...s,name:E?s.text.getOr(s.icon.getOr("")):(h=s.text)!==null&&h!==void 0?h:s.icon.getOr(""),primary:s.buttonType==="primary",buttonType:te.from(s.buttonType),tooltip:s.tooltip,icon:s.icon,enabled:!0,borderless:s.borderless},oe=wq((g=s.buttonType)!==null&&g!==void 0?g:"secondary"),fe=E?s.text.map(l.translate):te.some(l.translate(s.text)),ve=fe.map(ka),De=K.tooltip.or(fe).map(_t=>({"aria-label":l.translate(_t)})).getOr({}),Ue=O.map(_t=>_t.asSpec()),He=qT([Ue,ve]),nt=s.icon.isSome()&&ve.isSome(),pt={tag:"button",classes:oe.concat(...s.icon.isSome()&&!nt?["tox-button--icon"]:[]).concat(...nt?["tox-button--icon-and-text"]:[]).concat(...s.borderless?["tox-button--naked"]:[]).concat(...s.type==="togglebutton"&&s.active?["tox-button--enabled"]:[]),attributes:De},st=[],yt=qR(K,te.some(G),st,pt,He,s.tooltip,l);return eh.sketch(yt)},hZ=(s,l)=>Rue(s,l),kue=(s,l)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:qt(s.buttons,h=>hZ(h,l))}),fZ=Gi().deviceType,Due=fZ.isPhone(),Mue=fZ.isTablet(),Pue=s=>{let l=!1;const h=qt(s.buttons,g=>g.type==="group"?(l=!0,kue(g,s.providers)):hZ(g,s.providers));return{uid:s.uid,dom:{tag:"div",classes:[l?"tox-view__toolbar":"tox-view__header",...Due||Mue?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:oo([js.config({}),os.config({mode:"flow",selector:"button, .tox-button",focusInside:kf.OnEnterOrSpaceMode})]),components:l?h:[ub.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),ub.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:h})]}},Nue=s=>({uid:s.uid,behaviours:oo([js.config({}),da.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}}),Lue=(s,l,h,g)=>{const E={getPane:O=>mu.getPart(O,s,"pane"),getOnShow:O=>s.viewConfig.onShow,getOnHide:O=>s.viewConfig.onHide};return{uid:s.uid,dom:s.dom,components:l,behaviours:oo([js.config({}),os.config({mode:"cyclic",focusInside:kf.OnEnterOrSpaceMode})]),apis:E}};var ox=nf({name:"silver.View",configFields:[kn("viewConfig")],partFields:[m({factory:{sketch:Pue},schema:[kn("buttons"),kn("providers")],name:"header"}),m({factory:{sketch:Nue},schema:[],name:"pane"})],factory:Lue,apis:{getPane:(s,l)=>s.getPane(l),getOnShow:(s,l)=>s.getOnShow(l),getOnHide:(s,l)=>s.getOnHide(l)}});const fU=(s,l,h)=>to(l,(g,E)=>{const O=mp(N9(g));return s.slot(E,ox.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:O,components:[...O.buttons.length>0?[ox.parts.header({buttons:O.buttons,providers:h})]:[],ox.parts.pane({})]}))}),Bue=(s,l)=>Oh.sketch(h=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:fU(h,s,l),slotBehaviours:OR.unnamedEvents([Ea(g=>Oh.hideAllSlots(g))])})),pZ=s=>zt(Oh.getSlotNames(s),l=>Oh.isShowing(s,l)),mZ=s=>{const l=s.element;xs(l,"display","none"),cs(l,"aria-hidden","true")},gZ=s=>{const l=s.element;Er(l,"display"),ia(l,"aria-hidden")},Vue=s=>({getContainer:F(s)}),vZ=(s,l,h)=>{Oh.getSlot(s,l).each(g=>{ox.getPane(g).each(E=>{h(g)(Vue(E.element.dom))})})},Fue=(s,l)=>vZ(s,l,ox.getOnShow),Hue=(s,l)=>vZ(s,l,ox.getOnHide);var BN=cm({factory:(s,l)=>{const O={setViews:(R,G)=>{Ws.set(R,[Bue(G,l.backstage.shared.providers)])},whichView:R=>yn.getCurrent(R).bind(pZ),toggleView:(R,G,K,oe)=>yn.getCurrent(R).exists(fe=>{const ve=pZ(fe),De=ve.exists(He=>oe===He),Ue=Oh.getSlot(fe,oe).isSome();return Ue&&(Oh.hideAllSlots(fe),De?(mZ(R),G()):(K(),gZ(R),Oh.showSlot(fe,oe),Fue(fe,oe)),ve.each(He=>Hue(fe,He))),Ue})};return{uid:s.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:oo([Ws.config({}),yn.config({find:R=>{const G=Ws.contents(R);return $t(G)}})]),apis:O}},name:"silver.ViewWrapper",configFields:[kn("backstage")],apis:{setViews:(s,l,h)=>s.setViews(l,h),toggleView:(s,l,h,g,E)=>s.toggleView(l,h,g,E),whichView:(s,l)=>s.whichView(l)}});const bZ=(s,l,h)=>{let g=!1;const E=R=>{Vm(R,".tox-statusbar").each(G=>{aa(G,"display")==="none"&&pl(G,"aria-hidden")==="true"?(Er(G,"display"),ia(G,"aria-hidden")):(xs(G,"display","none"),cs(G,"aria-hidden","true"))})},O={getSocket:R=>mu.getPart(R,s,"socket"),setSidebar:(R,G,K)=>{mu.getPart(R,s,"sidebar").each(oe=>aZ(oe,G,K))},toggleSidebar:(R,G)=>{mu.getPart(R,s,"sidebar").each(K=>Cue(K,G))},whichSidebar:R=>mu.getPart(R,s,"sidebar").bind(Eue).getOrNull(),getHeader:R=>mu.getPart(R,s,"header"),getToolbar:R=>mu.getPart(R,s,"toolbar"),setToolbar:(R,G)=>{mu.getPart(R,s,"toolbar").each(K=>{const oe=qt(G,JR);K.getApis().setGroups(K,oe)})},setToolbars:(R,G)=>{mu.getPart(R,s,"multiple-toolbar").each(K=>{const oe=qt(G,fe=>qt(fe,JR));RV.setItems(K,oe)})},refreshToolbar:R=>{mu.getPart(R,s,"toolbar").each(K=>K.getApis().refresh(K))},toggleToolbarDrawer:R=>{mu.getPart(R,s,"toolbar").each(G=>{yc(G.getApis().toggle,K=>K(G))})},toggleToolbarDrawerWithoutFocusing:R=>{mu.getPart(R,s,"toolbar").each(G=>{yc(G.getApis().toggleWithoutFocusing,K=>K(G))})},isToolbarDrawerToggled:R=>mu.getPart(R,s,"toolbar").bind(G=>te.from(G.getApis().isOpen).map(K=>K(G))).getOr(!1),getThrobber:R=>mu.getPart(R,s,"throbber"),focusToolbar:R=>{mu.getPart(R,s,"toolbar").orThunk(()=>mu.getPart(R,s,"multiple-toolbar")).each(K=>{os.focusIn(K)})},setMenubar:(R,G)=>{mu.getPart(R,s,"menubar").each(K=>{aU.setMenus(K,G)})},focusMenubar:R=>{mu.getPart(R,s,"menubar").each(G=>{aU.focus(G)})},setViews:(R,G)=>{mu.getPart(R,s,"viewWrapper").each(K=>{BN.setViews(K,G)})},toggleView:(R,G)=>mu.getPart(R,s,"viewWrapper").exists(K=>BN.toggleView(K,()=>O.showMainView(R),()=>O.hideMainView(R),G)),whichView:R=>mu.getPart(R,s,"viewWrapper").bind(BN.whichView).getOrNull(),hideMainView:R=>{g=O.isToolbarDrawerToggled(R),g&&O.toggleToolbarDrawer(R),mu.getPart(R,s,"editorContainer").each(G=>{const K=G.element;E(K),xs(K,"display","none"),cs(K,"aria-hidden","true")})},showMainView:R=>{g&&O.toggleToolbarDrawer(R),mu.getPart(R,s,"editorContainer").each(G=>{const K=G.element;E(K),Er(K,"display"),ia(K,"aria-hidden")})}};return{uid:s.uid,dom:s.dom,components:l,apis:O,behaviours:s.behaviours}},VN=T0.optional({factory:aU,name:"menubar",schema:[kn("backstage")]}),pU=s=>s.type===rg.sliding?Iue:s.type===rg.floating?Oue:QR,$ue=T0.optional({factory:{sketch:s=>RV.sketch({uid:s.uid,dom:s.dom,listBehaviours:oo([os.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>QR({type:s.type,uid:yo("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:s.providers,onEscape:()=>(s.onEscape(),te.some(!0))}),setupItem:(l,h,g,E)=>{Si.setGroups(h,g)},shell:!0})},name:"multiple-toolbar",schema:[kn("dom"),kn("onEscape")]}),Uue=T0.optional({factory:{sketch:s=>{const l=pU(s),h={type:s.type,uid:s.uid,onEscape:()=>(s.onEscape(),te.some(!0)),onToggled:(g,E)=>s.onToolbarToggled(E),cyclicKeying:!1,initGroups:[],getSink:s.getSink,providers:s.providers,moreDrawerData:{lazyToolbar:s.lazyToolbar,lazyMoreButton:s.lazyMoreButton,lazyHeader:s.lazyHeader},attributes:s.attributes};return l(h)}},name:"toolbar",schema:[kn("dom"),kn("onEscape"),kn("getSink")]}),yZ=T0.optional({factory:{sketch:vue},name:"header",schema:[kn("dom")]}),zue=T0.optional({factory:{sketch:yue},name:"promotion",schema:[kn("dom"),kn("promotionLink")]}),jue=T0.optional({name:"socket",schema:[kn("dom")]}),Wue=T0.optional({factory:{sketch:wue},name:"sidebar",schema:[kn("dom")]}),SZ=T0.optional({factory:{sketch:Aue},name:"throbber",schema:[kn("dom")]}),Gue=T0.optional({factory:BN,name:"viewWrapper",schema:[kn("backstage")]}),que=s=>({uid:s.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:s.components}),mU=T0.optional({factory:{sketch:que},name:"editorContainer",schema:[]});var Xi=nf({name:"OuterContainer",factory:bZ,configFields:[kn("dom"),kn("behaviours")],partFields:[yZ,VN,Uue,$ue,jue,Wue,zue,SZ,Gue,mU],apis:{getSocket:(s,l)=>s.getSocket(l),setSidebar:(s,l,h,g)=>{s.setSidebar(l,h,g)},toggleSidebar:(s,l,h)=>{s.toggleSidebar(l,h)},whichSidebar:(s,l)=>s.whichSidebar(l),getHeader:(s,l)=>s.getHeader(l),getToolbar:(s,l)=>s.getToolbar(l),setToolbar:(s,l,h)=>{s.setToolbar(l,h)},setToolbars:(s,l,h)=>{s.setToolbars(l,h)},refreshToolbar:(s,l)=>s.refreshToolbar(l),toggleToolbarDrawer:(s,l)=>{s.toggleToolbarDrawer(l)},toggleToolbarDrawerWithoutFocusing:(s,l)=>{s.toggleToolbarDrawerWithoutFocusing(l)},isToolbarDrawerToggled:(s,l)=>s.isToolbarDrawerToggled(l),getThrobber:(s,l)=>s.getThrobber(l),setMenubar:(s,l,h)=>{s.setMenubar(l,h)},focusMenubar:(s,l)=>{s.focusMenubar(l)},focusToolbar:(s,l)=>{s.focusToolbar(l)},setViews:(s,l,h)=>{s.setViews(l,h)},toggleView:(s,l,h)=>s.toggleView(l,h),whichView:(s,l)=>s.whichView(l)}});const Zue="file edit view insert format tools table help",gU={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code suggestededits revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},Kue=(s,l,h)=>{const g=rW(h).split(/[ ,]/);return{text:s.title,getItems:()=>ct(s.items,E=>{const O=E.toLowerCase();return O.trim().length===0?[]:Ro(g,R=>R===O)?[]:O==="separator"||O==="|"?[{type:"separator"}]:l.menuItems[O]?[l.menuItems[O]]:[]})}},FN=s=>s.split(" "),CZ=(s,l)=>{const h={...gU,...l.menus},g=Ao(l.menus).length>0,E=l.menubar===void 0||l.menubar===!0?FN(Zue):FN(l.menubar===!1?"":l.menubar),O=vs(E,G=>{const K=ro(gU,G);return g?K||cn(l.menus,G).exists(oe=>ro(oe,"items")):K}),R=qt(O,G=>{const K=h[G];return Kue({title:K.title,items:FN(K.items)},l,s)});return vs(R,G=>{const K=oe=>v(oe)||oe.type!=="separator";return G.getItems().length>0&&Ro(G.getItems(),K)})},EZ=s=>{const l=()=>{s._skinLoaded=!0,Xae(s)};return()=>{s.initialized?l():s.on("init",l)}},Yue=(s,l)=>()=>Jae(s,{message:l}),Xue=s=>{const l=wW(s);return l?te.from(l):te.none()},wZ=(s,l,h)=>(s.on("remove",()=>h.unload(l)),h.load(l)),e2=(s,l,h,g)=>(s.on("remove",()=>g.unloadRawCss(l)),g.loadRawCss(l,h)),Jue=(s,l)=>"ui/"+s+"/"+l,Que=s=>te.from(tinymce.Resource.get(s)).filter(v),vU=(s,l,h="")=>{const g=Xue(s).map(O=>Jue(O,`${l}.css`)),E=g.bind(Que);return Rc(g,E,(O,R)=>({_kind:"load-raw",key:O,css:R})).getOrThunk(()=>{const O=s.editorManager.suffix;return{_kind:"load-stylesheet",url:h+`/${l}${O}.css`}})},bU=(s,l)=>{const h=s.ui.styleSheetLoader,g=vU(s,"skin",l);switch(g._kind){case"load-raw":const{key:E,css:O}=g;return e2(s,E,O,h),Promise.resolve();case"load-stylesheet":const{url:R}=g;return wZ(s,R,h);default:return Promise.resolve()}},yU=(s,l)=>{if(Wh(co.fromDom(s.getElement()))){const g=hR.DOM.styleSheetLoader,E=vU(s,"skin.shadowdom",l);switch(E._kind){case"load-raw":const{key:O,css:R}=E;return e2(s,O,R,g),Promise.resolve();case"load-stylesheet":const{url:G}=E;return wZ(s,G,g);default:return Promise.resolve()}}else return Promise.resolve()},ede=(s,l,h)=>{const E=vU(s,l?"content.inline":"content",h);switch(E._kind){case"load-raw":const{key:O,css:R}=E;return l?e2(s,O,R,s.ui.styleSheetLoader):s.on("PostRender",()=>{e2(s,O,R,s.dom.styleSheetLoader)}),Promise.resolve();case"load-stylesheet":const{url:G}=E;return h&&s.contentCSS.push(G),Promise.resolve();default:return Promise.resolve()}},tde=async(s,l)=>{const h=_W(l);if(await ede(l,s,h),!MF(l)&&v(h))return Promise.all([bU(l,h),yU(l,h)]).then()},_Z=(s,l)=>tde(s,l).then(EZ(l),Yue(l,"Skin could not be loaded")),nde=Xe(_Z,!1),ode=Xe(_Z,!0),AZ=s=>({isEnabled:()=>!Jo.isDisabled(s),setEnabled:l=>Jo.set(s,!l),setText:l=>ms(s,mv,{text:l}),setIcon:l=>ms(s,rS,{icon:l})}),sde=s=>({setActive:l=>{Pr.set(s,l)},isActive:()=>Pr.isOn(s),isEnabled:()=>!Jo.isDisabled(s),setEnabled:l=>Jo.set(s,!l),setText:l=>ms(s,mv,{text:l}),setIcon:l=>ms(s,rS,{icon:l})}),rde=(s,l)=>s.map(h=>({"aria-label":l.translate(h)})).getOr({}),ide=yo("focus-button"),t2=(s,l,h,g,E,O,R)=>{const G=l.map(oe=>oi(CN(oe,"tox-tbtn",E))),K=s.map(oe=>oi(JC(oe,E.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(l.isSome()?["tox-tbtn--select"]:[]),attributes:{...rde(h,E),...W(R)?{"data-mce-name":R}:{}}},components:qT([K.map(oe=>oe.asSpec()),G.map(oe=>oe.asSpec())]),eventOrder:{[vd()]:["focusing","alloy.base.behaviour",XC],[Jp()]:[XC,"toolbar-group-button-events"],[qg()]:[XC,"toolbar-group-button-events","tooltipping"]},buttonBehaviours:oo([cg.toolbarButton(()=>E.checkUiComponentContext(O).shouldDisable),Ma(()=>E.checkUiComponentContext(O)),$s(XC,[Ea((oe,fe)=>pv(oe)),pn(mv,(oe,fe)=>{G.bind(ve=>ve.getOpt(oe)).each(ve=>{Ws.set(ve,[ka(E.translate(fe.event.text))])})}),pn(rS,(oe,fe)=>{K.bind(ve=>ve.getOpt(oe)).each(ve=>{Ws.set(ve,[JC(fe.event.icon,E.icons)])})}),pn(vd(),(oe,fe)=>{fe.event.prevent(),wr(oe,ide)})])].concat(g.getOr([])))}},HN=(s,l,h,g,E)=>{const O=l.shared,R=$n(ie),G={toolbarButtonBehaviours:[],getApi:AZ,onSetup:s.onSetup},K=[$s("toolbar-group-button-events",[ug(G,R),nS(G,R)]),...s.tooltip.map(oe=>Da.config(l.shared.providers.tooltips.getConfig({tooltipText:l.shared.providers.translate(oe)}))).toArray()];return q1.sketch({lazySink:O.getSink,fetch:()=>Vs.nu(oe=>{oe(qt(h(s.items),JR))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:t2(s.icon,s.text,s.tooltip,te.some(K),O.providers,s.context,E),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:g}}}})},$N=(s,l,h,g)=>{var E;const O=$n(ie),R=t2(s.icon,s.text,s.tooltip,te.none(),h,s.context,g);return eh.sketch({dom:R.dom,components:R.components,eventOrder:sq,buttonBehaviours:{...oo([$s("toolbar-button-events",[oq({onAction:s.onAction,getApi:l.getApi}),ug(l,O),nS(l,O)]),...s.tooltip.map(G=>Da.config(h.tooltips.getConfig({tooltipText:h.translate(G)+s.shortcut.map(K=>` (${i_(K)})`).getOr("")}))).toArray(),cg.toolbarButton(()=>!s.enabled||h.checkUiComponentContext(s.context).shouldDisable),Ma(()=>h.checkUiComponentContext(s.context))].concat(l.toolbarButtonBehaviours)),[XC]:(E=R.buttonBehaviours)===null||E===void 0?void 0:E[XC]}})},TZ=(s,l,h)=>ky(s,l,[],h),ky=(s,l,h,g)=>$N(s,{toolbarButtonBehaviours:h.length>0?[$s("toolbarButtonWith",h)]:[],getApi:AZ,onSetup:s.onSetup},l,g),xZ=(s,l,h)=>OZ(s,l,[],h),OZ=(s,l,h,g)=>$N(s,{toolbarButtonBehaviours:[Ws.config({}),Pr.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(h.length>0?[$s("toolbarToggleButtonWith",h)]:[]),getApi:sde,onSetup:s.onSetup},l,g),ade=(s,l,h)=>g=>Vs.nu(E=>l.fetch(E)).map(E=>te.from(d_(Jr(hN(yo("menu-value"),E,O=>{l.onItemAction(s(g),O)},l.columns,l.presets,vb.CLOSE_ON_EXECUTE,l.select.getOr(mt),h),{movement:NR(l.columns,l.presets),menuBehaviours:OR.unnamedEvents(l.columns!=="auto"?[]:[Ea((O,R)=>{NH(O,4,NP(l.presets)).each(({numRows:G,numColumns:K})=>{os.setGridSize(O,G,K)})})])})))),lde=(s,l,h)=>g=>{const E=g.getSystem(),O=g.element,R=()=>{const K=qa(O,"tox-split-button__chevron"),oe=K?fr(O).bind(ve=>E.getByDom(ve).toOptional()):te.some(g),fe=K?te.some(g):xr(O).bind(ve=>E.getByDom(ve).toOptional().filter(De=>qa(De.element,"tox-split-button__chevron")));return{mainOpt:oe,chevronOpt:fe}},G=K=>{const{mainOpt:oe,chevronOpt:fe}=R();oe.each(K),fe.each(K)};return{isEnabled:()=>{const{mainOpt:K}=R();return K.exists(oe=>!Jo.isDisabled(oe))},setEnabled:K=>G(oe=>Jo.set(oe,!K)),setText:K=>{const{mainOpt:oe}=R();oe.each(fe=>ms(fe,mv,{text:K}))},setIcon:K=>{const{mainOpt:oe}=R();oe.each(fe=>ms(fe,rS,{icon:K}))},setIconFill:(K,oe)=>G(fe=>{ui(fe.element,`svg path[class="${K}"], rect[class="${K}"]`).each(ve=>{cs(ve,"fill",oe)})}),isActive:()=>{const{mainOpt:K}=R();return K.exists(oe=>Pr.isOn(oe))},setActive:K=>{const{mainOpt:oe}=R();oe.each(fe=>Pr.set(fe,K))},setTooltip:K=>{s.set(K);const{mainOpt:oe,chevronOpt:fe}=R();oe.each(De=>cs(De.element,"aria-label",l.providers.translate(K)));const ve=h.chevronTooltip.map(De=>l.providers.translate(De)).getOr(l.providers.translate(`${K} menu`));fe.each(De=>cs(De.element,"aria-label",ve))}}},cde=(s,l,h)=>{const g=$n(ie),E=$n(s.tooltip.getOr("")),O=lde(E,l,s),R=yo("tox-split-menu"),G=$n(!1),K=()=>({"aria-haspopup":"menu","aria-expanded":String(G.get()),"aria-controls":R}),oe=()=>s.tooltip.map(He=>l.providers.translate(He)).getOr(l.providers.translate("Text color")),fe=()=>s.chevronTooltip.map(He=>l.providers.translate(He)).getOrThunk(()=>{const He=oe();return l.providers.translate(["{0} menu",He])}),ve=(He,nt)=>{G.set(He),cs(nt.element,"aria-expanded",String(He))},De=fm.sketch({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:YF("chevron-down",l.providers.icons),attributes:{"aria-label":fe(),...W(h)?{"data-mce-name":h+"-chevron"}:{},...K()}},components:[],toggleClass:"tox-tbtn--enabled",dropdownBehaviours:oo([$s("split-dropdown-events",[Ea((He,nt)=>pv(He)),ug({getApi:O,onSetup:s.onSetup},g),pn("alloy-dropdown-open",He=>ve(!0,He)),pn("alloy-dropdown-close",He=>ve(!1,He))]),cg.toolbarButton(()=>l.providers.checkUiComponentContext(s.context).shouldDisable),Ma(()=>l.providers.checkUiComponentContext(s.context)),xT.config({}),Da.config(l.providers.tooltips.getConfig({tooltipText:fe(),onShow:He=>{if(E.get()!==s.tooltip.getOr("")){const nt=s.chevronTooltip.map(pt=>l.providers.translate(pt)).getOr(`${l.providers.translate(E.get())} menu`);Da.setComponents(He,l.providers.tooltips.getComponents({tooltipText:nt}))}}}))]),lazySink:l.getSink,fetch:ade(O,s,l.providers),getHotspot:He=>fr(He.element).bind(nt=>He.getSystem().getByDom(nt).toOptional()),onOpen:(He,nt,pt)=>{fi.highlightBy(pt,st=>qa(st.element,"tox-collection__item--active")),fi.getHighlighted(pt).each(os.focusIn)},parts:{menu:{...LT(!1,s.columns,s.presets),dom:{...LT(!1,s.columns,s.presets).dom,tag:"div",attributes:{id:R}}}}});return[eh.sketch({...t2(s.icon,s.text,te.none(),te.some([Pr.config({toggleClass:"tox-tbtn--enabled",aria:s.presets==="color"?{mode:"none"}:{mode:"pressed"},toggleOnExecute:!1}),cg.toolbarButton(()=>l.providers.checkUiComponentContext(s.context).shouldDisable),Ma(()=>l.providers.checkUiComponentContext(s.context)),$s("split-main-aria-events",[]),...s.tooltip.isSome()?[Da.config(l.providers.tooltips.getConfig({tooltipText:l.providers.translate(s.tooltip.getOr("")),onShow:He=>{if(E.get()!==s.tooltip.getOr("")){const nt=l.providers.translate(E.get());Da.setComponents(He,l.providers.tooltips.getComponents({tooltipText:nt}))}}}))]:[]]),l.providers,s.context,h),dom:{...t2(s.icon,s.text,te.none(),te.none(),l.providers,s.context,h).dom,classes:["tox-tbtn","tox-split-button__main"],attributes:{"aria-label":oe(),...W(h)?{"data-mce-name":h}:{}}},action:He=>{if(s.onAction){const nt=O(He);nt.isEnabled()&&s.onAction(nt)}}}),De]},ude=".tox-toolbar-slider__input,.tox-toolbar-textfield",IZ=s=>{el.getContent(s).each(l=>{ui(l.element,ude).fold(()=>os.focusIn(l),ra)})},dde=s=>Wa(s.element).each(l=>{Kh(l,'[tabindex="-1"]').each(h=>{ra(h)})}),SU=yo("forward-slide"),UN=yo("backward-slide"),CU=yo("change-slide-event"),n2="tox-pop--resizing",hde=s=>{const l=$n([]);return{sketch:el.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:g=>{l.set([]),el.getContent(g).each(E=>{Er(E.element,"visibility")}),vi(g.element,n2),Er(g.element,"width")},onHide:()=>{l.set([]),s.onHide()},inlineBehaviours:oo([$s("context-toolbar-events",[O1(bd(),(g,E)=>{E.event.raw.propertyName==="width"&&(vi(g.element,n2),Er(g.element,"width"))}),pn(CU,(g,E)=>{const O=g.element;Er(O,"width");const R=Ac(O),G=Wa(g.element).isSome();Er(O,"left"),Er(O,"right"),Er(O,"max-width"),el.setContent(g,E.event.contents),Ii(O,n2);const K=Ac(O);xs(O,"transition","none"),el.reposition(g),Er(O,"transition"),xs(O,"width",R+"px"),E.event.focus.fold(()=>{G&&IZ(g)},oe=>{Yl(oa(g.element)).fold(()=>ra(oe),fe=>{xe(fe,oe)||s.focusElement(oe)})}),setTimeout(()=>{xs(g.element,"width",K+"px")},0)}),pn(SU,(g,E)=>{el.getContent(g).each(O=>{l.set(l.get().concat([{bar:O,focus:Yl(oa(g.element))}]))}),ms(g,CU,{contents:E.event.forwardContents,focus:te.none()})}),pn(UN,(g,E)=>{s.onBack(),ls(l.get()).each(O=>{l.set(l.get().slice(0,l.get().length-1)),ms(g,CU,{contents:z(O.bar),focus:O.focus})})})]),os.config({mode:"special",onEscape:g=>ls(l.get()).fold(()=>s.onEscape(),E=>(wr(g,UN),te.some(!0)))})]),lazySink:()=>zo.value(s.sink)}),inSubtoolbar:()=>l.get().length>0}},fde=(s,l)=>{const h=mp(GP({type:"button",icon:"chevron-left",tooltip:"Back",onAction:ie}));return ky(h,l.shared.providers,[pn(k$,g=>{wr(g,UN)})])},sx=(s,l,h)=>Dl(h)?s.translate(l):s.translate([l,s.translate(h)]),pde=(s,l)=>{const h=(R,G,K,oe)=>{const fe=s.shared.providers.translate(R.title);if(R.type==="separator")return te.some({type:"separator",text:fe});if(R.type==="submenu"){const ve=ct(R.getStyleItems(),De=>g(De,G,oe));return G===0&&ve.length<=0?te.none():te.some({type:"nestedmenuitem",text:fe,enabled:ve.length>0,getSubmenuItems:()=>ct(R.getStyleItems(),De=>g(De,G,oe))})}else return te.some({type:"togglemenuitem",text:fe,icon:R.icon,active:R.isSelected(oe),enabled:!K,onAction:l.onAction(R),...R.getStylePreview().fold(()=>({}),ve=>({meta:{style:ve}}))})},g=(R,G,K)=>{const oe=R.type==="formatter"&&l.isInvalid(R);return G===0?oe?[]:h(R,G,!1,K).toArray():h(R,G,oe,K).toArray()},E=R=>{const G=l.getCurrentValue(),K=l.shouldHide?0:1;return ct(R,oe=>g(oe,K,G))};return{validateItems:E,getFetch:(R,G)=>(K,oe)=>{const fe=G(),ve=E(fe),De=JT(ve,vb.CLOSE_ON_EXECUTE,R,{isHorizontalMenu:!1,search:te.none()});oe(De)}}},rx=(s,l)=>{const h=l.dataset,g=h.type==="basic"?()=>qt(h.data,E=>q$(E,l.isSelectedFor,l.getPreviewFor)):h.getData;return{items:pde(s,l),getStyleItems:g}},o2=(s,l,h,g,E,O)=>{const{items:R,getStyleItems:G}=rx(l,h),K=$n(h.tooltip),oe=ve=>({getComponent:F(ve),setTooltip:De=>{const Ue=l.shared.providers.translate(De);cs(ve.element,"aria-label",Ue),K.set(De)}}),fe=ve=>{const De=Ue=>ve.setTooltip(sx(s,g(Ue.value),Ue.value));return s.on(E,De),sN(u_(s,"NodeChange",Ue=>{const He=Ue.getComponent();h.updateText(He),Jo.set(Ue.getComponent(),!s.selection.isEditable()||G().length===0)})(ve),()=>s.off(E,De))};return WR({context:"mode:design",text:h.icon.isSome()?te.none():h.text,icon:h.icon,ariaLabel:te.some(h.tooltip),tooltip:te.none(),role:te.none(),fetch:R.getFetch(l,G),onSetup:fe,getApi:oe,columns:1,presets:"normal",classes:h.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[Da.config({...l.shared.providers.tooltips.getConfig({tooltipText:l.shared.providers.translate(h.tooltip),onShow:ve=>{if(h.tooltip!==K.get()){const De=l.shared.providers.translate(K.get());Da.setComponents(ve,l.shared.providers.tooltips.getComponents({tooltipText:De}))}}})})]},"tox-tbtn",l.shared,O)},RZ=s=>qt(s,l=>{let h=l,g=l;const E=l.split("=");return E.length>1&&(h=E[0],g=E[1]),{title:h,format:g}}),kZ=s=>({type:"basic",data:s});var g_;(function(s){s[s.SemiColon=0]="SemiColon",s[s.Space=1]="Space"})(g_||(g_={}));const mde=(s,l)=>l===g_.SemiColon?s.replace(/;$/,"").split(";"):s.split(" "),zN=(s,l,h)=>{const g=s.options.get(l);return{type:"basic",data:RZ(mde(g,h))}},gde="Align",DZ=F("Alignment {0}"),MZ="left",jN=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],PZ=s=>{const l=()=>zt(jN,G=>s.formatter.match(G.format)),h=G=>()=>s.formatter.match(G),g=G=>te.none,E=G=>{const oe=l().fold(F(MZ),fe=>fe.title.toLowerCase());ms(G,rS,{icon:`align-${oe}`}),tle(s,{value:oe})},O=kZ(jN),R=G=>()=>zt(jN,K=>K.format===G.format).each(K=>s.execCommand(K.command));return{tooltip:sx(s,DZ(),MZ),text:te.none(),icon:te.some("align-left"),isSelectedFor:h,getCurrentValue:te.none,getPreviewFor:g,onAction:R,updateText:E,dataset:O,shouldHide:!1,isInvalid:G=>!s.formatter.canApply(G.format)}},NZ=(s,l)=>o2(s,l,PZ(s),DZ,"AlignTextUpdate","align"),vde=(s,l)=>{const h=rx(l,PZ(s));s.ui.registry.addNestedMenuItem("align",{text:l.shared.providers.translate(gde),onSetup:sf(s),getSubmenuItems:()=>h.items.validateItems(h.getStyleItems())})},LZ=(s,l)=>{const h=l(),g=qt(h,E=>E.format);return te.from(s.formatter.closest(g)).bind(E=>zt(h,O=>O.format===E))},bde="Blocks",BZ=F("Block {0}"),EU="Paragraph",VZ=s=>{const l=O=>()=>s.formatter.match(O),h=O=>()=>{const R=s.formatter.get(O);return R?te.some({tag:R.length>0&&(R[0].inline||R[0].block)||"div",styles:s.dom.parseStyle(s.formatter.getCssText(O))}):te.none()},g=O=>{const G=LZ(s,()=>E.data).fold(F(EU),K=>K.title);ms(O,mv,{text:G}),sle(s,{value:G})},E=zN(s,"block_formats",g_.SemiColon);return{tooltip:sx(s,BZ(),EU),text:te.some(EU),icon:te.none(),isSelectedFor:l,getCurrentValue:te.none,getPreviewFor:h,onAction:aG(s),updateText:g,dataset:E,shouldHide:!1,isInvalid:O=>!s.formatter.canApply(O.format)}},yde=(s,l)=>o2(s,l,VZ(s),BZ,"BlocksTextUpdate","blocks"),FZ=(s,l)=>{const h=rx(l,VZ(s));s.ui.registry.addNestedMenuItem("blocks",{text:bde,onSetup:sf(s),getSubmenuItems:()=>h.items.validateItems(h.getStyleItems())})},Sde="Fonts",HZ=F("Font {0}"),wU="System Font",Cde=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],$Z=s=>{const l=s.split(/\s*,\s*/);return qt(l,h=>h.replace(/^['"]+|['"]+$/g,""))},UZ=(s,l)=>l.length>0&&Mt(l,h=>s.indexOf(h.toLowerCase())>-1),Ede=(s,l)=>{if(s.indexOf("-apple-system")===0||l.length>0){const h=$Z(s.toLowerCase());return UZ(h,Cde)||UZ(h,l)}else return!1},_U=s=>{const l=()=>{const K=He=>He?$Z(He)[0]:"",oe=s.queryCommandValue("FontName"),fe=G.data,ve=oe?oe.toLowerCase():"",De=EW(s);return{matchOpt:zt(fe,He=>{const nt=He.format;return nt.toLowerCase()===ve||K(nt).toLowerCase()===K(ve).toLowerCase()}).orThunk(()=>rl(Ede(ve,De),{title:wU,format:ve})),font:oe}},h=K=>oe=>oe.exists(fe=>fe.format===K),g=()=>{const{matchOpt:K}=l();return K},E=K=>()=>te.some({tag:"div",styles:K.indexOf("dings")===-1?{"font-family":K}:{}}),O=K=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("FontName",!1,K.format)})},R=K=>{const{matchOpt:oe,font:fe}=l(),ve=oe.fold(F(fe),De=>De.title);ms(K,mv,{text:ve}),oG(s,{value:ve})},G=zN(s,"font_family_formats",g_.SemiColon);return{tooltip:sx(s,HZ(),wU),text:te.some(wU),icon:te.none(),isSelectedFor:h,getCurrentValue:g,getPreviewFor:E,onAction:O,updateText:R,dataset:G,shouldHide:!1,isInvalid:mt}},wde=(s,l)=>o2(s,l,_U(s),HZ,"FontFamilyTextUpdate","fontfamily"),_de=(s,l)=>{const h=rx(l,_U(s));s.ui.registry.addNestedMenuItem("fontfamily",{text:l.shared.providers.translate(Sde),onSetup:sf(s),getSubmenuItems:()=>h.items.validateItems(h.getStyleItems())})};var s2=tinymce.util.Tools.resolve("tinymce.util.VK");const Ade=(s,l,h,g)=>{let E=te.none();const O=_t=>_t.map(Qt=>Co.getValue(Qt)).getOr(""),R=u_(s,"NodeChange SwitchMode DisabledStateChange",_t=>{const Qt=_t.getComponent();E=te.some(Qt),h.updateInputValue(Qt),Jo.set(Qt,!s.selection.isEditable()||fP(s))}),G=_t=>({getComponent:F(_t)}),K=$n(ie),oe=yo("custom-number-input-events"),fe=(_t,Qt,nn)=>{const So=O(E),Hn=h.getNewValue(So,_t),Wn=So.length-`${Hn}`.length,Bn=E.map(Zo=>Zo.element.dom.selectionStart-Wn),ds=E.map(Zo=>Zo.element.dom.selectionEnd-Wn);h.onAction(Hn,nn),E.each(Zo=>{Co.setValue(Zo,Hn),Qt&&(Bn.each(kr=>Zo.element.dom.selectionStart=kr),ds.each(kr=>Zo.element.dom.selectionEnd=kr))})},ve=(_t,Qt)=>fe((nn,So)=>nn-So,_t,Qt),De=(_t,Qt)=>fe((nn,So)=>nn+So,_t,Qt),Ue=_t=>ps(_t.element).fold(te.none,Qt=>(ra(Qt),te.some(!0))),He=_t=>qh(_t.element)?(Do(_t.element).each(Qt=>ra(Qt)),te.some(!0)):te.none(),nt=(_t,Qt,nn,So)=>{const Hn=$n(ie),Wn=l.shared.providers.translate(nn),Bn=yo("altExecuting"),ds=u_(s,"NodeChange SwitchMode DisabledStateChange",kr=>{Jo.set(kr.getComponent(),!s.selection.isEditable()||fP(s))}),Zo=kr=>{Jo.isDisabled(kr)||_t(!0)};return eh.sketch({dom:{tag:"button",attributes:{"aria-label":Wn,"data-mce-name":Qt},classes:So.concat(Qt)},components:[XT(Qt,l.shared.providers.icons)],buttonBehaviours:oo([Jo.config({}),Da.config(l.shared.providers.tooltips.getConfig({tooltipText:Wn})),$s(Bn,[ug({onSetup:ds,getApi:G},Hn),nS({getApi:G},Hn),pn(lc(),(kr,As)=>{(As.event.raw.keyCode===s2.SPACEBAR||As.event.raw.keyCode===s2.ENTER)&&(Jo.isDisabled(kr)||_t(!1))}),pn(Ym(),Zo),pn(Wg(),Zo)])]),eventOrder:{[lc()]:[Bn,"keying"],[Ym()]:[Bn,"alloy.base.behaviour"],[Wg()]:[Bn,"alloy.base.behaviour"],[Jp()]:["alloy.base.behaviour",Bn,"tooltipping"],[qg()]:[Bn,"tooltipping"]}})},pt=oi(nt(_t=>ve(!1,_t),"minus","Decrease font size",[])),st=oi(nt(_t=>De(!1,_t),"plus","Increase font size",[])),yt=oi({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[x0.sketch({inputBehaviours:oo([Jo.config({}),$s(oe,[ug({onSetup:R,getApi:G},K),nS({getApi:G},K)]),$s("input-update-display-text",[pn(mv,(_t,Qt)=>{Co.setValue(_t,Qt.event.text)}),pn(f1(),_t=>{h.onAction(Co.getValue(_t))}),pn(Kp(),_t=>{h.onAction(Co.getValue(_t))})]),os.config({mode:"special",onEnter:_t=>(fe(Ie,!0,!0),te.some(!0)),onEscape:Ue,onUp:_t=>(De(!0,!1),te.some(!0)),onDown:_t=>(ve(!0,!1),te.some(!0)),onLeft:(_t,Qt)=>(Qt.cut(),te.none()),onRight:(_t,Qt)=>(Qt.cut(),te.none())})])})],behaviours:oo([js.config({}),os.config({mode:"special",onEnter:He,onSpace:He,onEscape:Ue}),$s("input-wrapper-events",[pn(Of(),_t=>{Tn([pt,st],Qt=>{const nn=co.fromDom(Qt.get(_t).element.dom);qh(nn)&&mr(nn)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...W(g)?{"data-mce-name":g}:{}}},components:[pt.asSpec(),yt.asSpec(),st.asSpec()],behaviours:oo([js.config({}),os.config({mode:"flow",focusInside:kf.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:_t=>qh(_t.element)?te.none():(ra(_t.element),te.some(!0))})])}},zZ="Font sizes",AU=F("Font size {0}"),jZ="12pt",Tde={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},xde={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},ix=(s,l)=>{const h=Math.pow(10,l);return Math.round(s*h)/h},Ode=(s,l)=>/[0-9.]+px$/.test(s)?ix(parseInt(s,10)*72/96,l||0)+"pt":cn(xde,s).getOr(s),Ide=s=>cn(Tde,s).getOr(""),WZ=s=>{const l=()=>{let K=te.none();const oe=G.data,fe=s.queryCommandValue("FontSize");if(fe)for(let ve=3;K.isNone()&&ve>=0;ve--){const De=Ode(fe,ve),Ue=Ide(De);K=zt(oe,He=>He.format===fe||He.format===De||He.format===Ue)}return{matchOpt:K,size:fe}},h=K=>oe=>oe.exists(fe=>fe.format===K),g=()=>{const{matchOpt:K}=l();return K},E=F(te.none),O=K=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("FontSize",!1,K.format)})},R=K=>{const{matchOpt:oe,size:fe}=l(),ve=oe.fold(F(fe),De=>De.title);ms(K,mv,{text:ve}),nle(s,{value:ve})},G=zN(s,"font_size_formats",g_.Space);return{tooltip:sx(s,AU(),jZ),text:te.some(jZ),icon:te.none(),isSelectedFor:h,getPreviewFor:E,getCurrentValue:g,onAction:O,updateText:R,dataset:G,shouldHide:!1,isInvalid:mt}},Rde=(s,l)=>o2(s,l,WZ(s),AU,"FontSizeTextUpdate","fontsize"),kde=s=>{var l;const h={step:1};return(l={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[s])!==null&&l!==void 0?l:h},Dde=16,Mde=s=>s>=0,Pde=s=>{const l=()=>s.queryCommandValue("FontSize");return{updateInputValue:g=>ms(g,mv,{text:l()}),onAction:(g,E)=>s.execCommand("FontSize",!1,g,{skip_focus:!E}),getNewValue:(g,E)=>{Br(g,["unsupportedLength","empty"]);const O=l(),R=Br(g,["unsupportedLength","empty"]).or(Br(O,["unsupportedLength","empty"])),G=R.map(De=>De.value).getOr(Dde),K=hW(s),oe=R.map(De=>De.unit).filter(De=>De!=="").getOr(K),fe=E(G,kde(oe).step),ve=`${Mde(fe)?fe:G}${oe}`;return ve!==O&&ole(s,{value:ve}),ve}}},TU=(s,l)=>Ade(s,l,Pde(s),"fontsizeinput"),Nde=(s,l)=>{const h=rx(l,WZ(s));s.ui.registry.addNestedMenuItem("fontsize",{text:zZ,onSetup:sf(s),getSubmenuItems:()=>h.items.validateItems(h.getStyleItems())})},Lde="Formats",xU=s=>Dl(s)?"Formats":"Format {0}",OU=(s,l)=>{const h="Formats",g=R=>()=>s.formatter.match(R),E=R=>()=>{const G=s.formatter.get(R);return G!==void 0?te.some({tag:G.length>0&&(G[0].inline||G[0].block)||"div",styles:s.dom.parseStyle(s.formatter.getCssText(R))}):te.none()},O=R=>{const G=ve=>Fq(ve)?ct(ve.items,G):W$(ve)?[{title:ve.title,format:ve.format}]:[],K=ct(G$(s),G),fe=LZ(s,F(K)).fold(F({title:h,tooltipLabel:""}),ve=>({title:ve.title,tooltipLabel:ve.title}));ms(R,mv,{text:fe.title}),QH(s,{value:fe.tooltipLabel})};return{tooltip:sx(s,xU(""),""),text:te.some(h),icon:te.none(),isSelectedFor:g,getCurrentValue:te.none,getPreviewFor:E,onAction:aG(s),updateText:O,shouldHide:oW(s),isInvalid:R=>!s.formatter.canApply(R.format),dataset:l}},Bde=(s,l)=>{const h={type:"advanced",...l.styles};return o2(s,l,OU(s,h),xU,"StylesTextUpdate","styles")},Vde=(s,l)=>{const h={type:"advanced",...l.styles},g=rx(l,OU(s,h));s.ui.registry.addNestedMenuItem("styles",{text:Lde,onSetup:sf(s,()=>g.getStyleItems().length>0),getSubmenuItems:()=>g.items.validateItems(g.getStyleItems())})},Fde=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],r2=(s,l)=>(h,g,E,O)=>{const R=s(h).mapError(G=>gp(G)).getOrDie();return l(R,g,E,O)},Hde={button:r2(GP,(s,l,h,g)=>TZ(s,l.shared.providers,g)),togglebutton:r2(ZP,(s,l,h,g)=>xZ(s,l.shared.providers,g)),menubutton:r2(g9,(s,l,h,g)=>GR(s,"tox-tbtn",l,te.none(),!1,g)),splitbutton:r2(YP,(s,l,h,g)=>cde(s,l.shared,g)),grouptoolbarbutton:r2(Pae,(s,l,h,g)=>{const E=h.ui.registry.getAll().buttons,O=G=>GN(h,{buttons:E,toolbar:G,allowToolbarGroups:!1},l,te.none()),R={[$O]:l.shared.header.isPositionedAtTop()?Jv.TopToBottom:Jv.BottomToTop};switch(Kw(h)){case rg.floating:return HN(s,l,O,R,g);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},$de=(s,l,h,g)=>cn(Hde,s.type).fold(()=>(console.error("skipping button defined by",s),te.none()),E=>te.some(E(s,l,h,g))),IU={styles:Bde,fontsize:Rde,fontsizeinput:TU,fontfamily:wde,blocks:yde,align:NZ,navigateback:fde},Ude=s=>{const l=qt(Fde,h=>{const g=vs(h.items,E=>ro(s,E)||ro(IU,E));return{name:h.name,items:g}});return vs(l,h=>h.items.length>0)},zde=s=>{const l=s.split("|");return qt(l,h=>({items:h.trim().split(" ")}))},jde=s=>le(s,l=>(ro(l,"name")||ro(l,"label"))&&ro(l,"items")),Wde=s=>{const l=s.toolbar,h=s.buttons;return l===!1?[]:l===void 0||l===!0?Ude(h):v(l)?zde(l):jde(l)?l:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},WN=(s,l,h,g,E,O)=>cn(l,h.toLowerCase()).orThunk(()=>O.bind(R=>Rs(R,G=>cn(l,G+h.toLowerCase())))).fold(()=>cn(IU,h.toLowerCase()).map(R=>R(s,E)),R=>R.type==="grouptoolbarbutton"&&!g?(console.warn(`Ignoring the '${h}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),te.none()):$de(R,E,s,h.toLowerCase())),GN=(s,l,h,g)=>{const E=Wde(l),O=qt(E,R=>{const G=ct(R.items,K=>K.trim().length===0?[]:WN(s,l.buttons,K,l.allowToolbarGroups,h,g).map(oe=>Array.isArray(oe)?oe:[oe]).getOr([]));return{title:te.from(s.translate(R.name)),label:rl(R.label!==void 0,s.translate(R.label)),items:G}});return vs(O,R=>R.items.length>0)},i2=(s,l,h,g)=>{const E=l.mainUi.outerContainer,O=h.toolbar,R=h.buttons;if(le(O,v)){const G=O.map(K=>{const oe={toolbar:K,buttons:R,allowToolbarGroups:h.allowToolbarGroups};return GN(s,oe,g,te.none())});Xi.setToolbars(E,G)}else Xi.setToolbar(E,GN(s,h,g,te.none()))},a2=Gi(),GZ=a2.os.isiOS()&&a2.os.version.major<=12,Gde=(s,l)=>{const{uiMotherships:h}=l,g=s.dom;let E=s.getWin();const O=s.getDoc().documentElement,R=$n(ci(E.innerWidth,E.innerHeight)),G=$n(ci(O.offsetWidth,O.offsetHeight)),K=()=>{const De=R.get();(De.left!==E.innerWidth||De.top!==E.innerHeight)&&(R.set(ci(E.innerWidth,E.innerHeight)),JH(s))},oe=()=>{const De=s.getDoc().documentElement,Ue=G.get();(Ue.left!==De.offsetWidth||Ue.top!==De.offsetHeight)&&(G.set(ci(De.offsetWidth,De.offsetHeight)),JH(s))},fe=De=>{eG(s,De)};g.bind(E,"resize",K),g.bind(E,"scroll",fe);const ve=Bd(co.fromDom(s.getBody()),"load",oe);s.on("hide",()=>{Tn(h,De=>{xs(De.element,"display","none")})}),s.on("show",()=>{Tn(h,De=>{Er(De.element,"display")})}),s.on("NodeChange",oe),s.on("remove",()=>{ve.unbind(),g.unbind(E,"resize",K),g.unbind(E,"scroll",fe),E=null})},qde=(s,l,h)=>{LC(s)&&iv(h.mainUi.mothership.element,h.popupUi.mothership),Iw(l,h.dialogUi.mothership)};var Zde=Object.freeze({__proto__:null,render:(s,l,h,g,E)=>{const{mainUi:O,uiMotherships:R}=l,G=$n(0),K=O.outerContainer;nde(s);const oe=co.fromDom(E.targetNode),fe=ja(oa(oe));iv(oe,O.mothership),qde(s,fe,l),s.on("PostRender",()=>{Xi.setSidebar(K,h.sidebar,yW(s))}),s.on("SkinLoaded",()=>{i2(s,l,h,g),G.set(s.getWin().innerWidth),Xi.setMenubar(K,CZ(s,h)),Xi.setViews(K,h.views),Gde(s,l)});const ve=Xi.getSocket(K).getOrDie("Could not find expected socket element");if(GZ){pa(ve.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const nt=Dm(()=>{s.dispatch("ScrollContent")},20),pt=li(ve.element,"scroll",nt.throttle);s.on("remove",pt.unbind)}F9(s,l),s.addCommand("ToggleSidebar",(nt,pt)=>{Xi.toggleSidebar(K,pt),sG(s)}),s.addQueryValueHandler("ToggleSidebar",()=>{var nt;return(nt=Xi.whichSidebar(K))!==null&&nt!==void 0?nt:""}),s.addCommand("ToggleView",(nt,pt)=>{if(Xi.toggleView(K,pt)){const st=K.element;O.mothership.broadcastOn([v0()],{target:st}),Tn(R,yt=>{yt.broadcastOn([v0()],{target:st})}),P(Xi.whichView(K))&&(s.focus(),s.nodeChanged(),Xi.refreshToolbar(K)),rG(s)}}),s.addQueryValueHandler("ToggleView",()=>{var nt;return(nt=Xi.whichView(K))!==null&&nt!==void 0?nt:""});const De=Kw(s),Ue=()=>{Xi.refreshToolbar(l.mainUi.outerContainer)};(De===rg.sliding||De===rg.floating)&&s.on("ResizeWindow ResizeEditor ResizeContent",()=>{const nt=s.getWin().innerWidth;nt!==G.get()&&(Ue(),G.set(nt))});const He={setEnabled:nt=>{GT(l,nt?"setEnabled":"setDisabled")},isEnabled:()=>!Jo.isDisabled(K)};return{iframeContainer:ve.element.dom,editorContainer:K.element.dom,api:He}}});const Kde=s=>/^[0-9\.]+(|px)$/i.test(""+s)?te.some(parseInt(""+s,10)):te.none(),ax=s=>re(s)?s+"px":s,l2=(s,l,h)=>{const g=l.filter(O=>s<O),E=h.filter(O=>s>O);return g.or(E).getOr(s)},qZ=(s,l)=>{if(typeof l=="number")return te.from(l);const h=/^([0-9.]+)(pt|em|px)$/.exec(l.trim());if(h){const g=h[2],E=Number.parseFloat(h[1]);if(Number.isNaN(E)||E<0)return te.none();if(g==="em")return te.from(E*Number.parseFloat(window.getComputedStyle(s.dom).fontSize));if(g==="pt")return te.from(E*(72/96));if(g==="px")return te.from(E)}return te.none()},ZZ=s=>{const l=qZ(co.fromDom(s.targetElm),_F(s)),h=xF(s),g=OF(s);return l.map(E=>l2(E,h,g))},KZ=s=>ZZ(s).getOr(_F(s)),YZ=s=>{const l=AF(s),h=TF(s),g=pP(s);return Kde(l).map(E=>l2(E,h,g))},XZ=s=>YZ(s).getOr(AF(s)),{ToolbarLocation:RU,ToolbarMode:JZ}=vre,Yde=40,Xde=(s,l,h,g,E)=>{const{mainUi:O,uiMotherships:R}=h,G=hR.DOM,K=PT(s),oe=Y1(s),fe=pP(s).or(YZ(s)),ve=g.shared.header,De=ve.isPositionedAtTop,Ue=150,He=Kw(s),nt=He===JZ.sliding||He===JZ.floating,pt=$n(!1),st=()=>pt.get()&&!s.removed,yt=Wo=>nt?Wo.fold(F(0),Nn=>Nn.components().length>1?El(Nn.components()[1].element):0):0,_t=Wo=>{switch(IF(s)){case RU.auto:const Nn=Xi.getToolbar(O.outerContainer),fo=yt(Nn),Is=El(Wo.element)-fo,er=Vl(l);if(er.y>Is)return"top";{const Qs=An(l),pi=Math.max(Qs.dom.scrollHeight,El(Qs));return er.bottom<pi-Is||Fu().bottom<er.bottom-Is?"bottom":"top"}case RU.bottom:return"bottom";case RU.top:default:return"top"}},Qt=Wo=>{E.on(Nn=>{Qa.setModes(Nn,[Wo]),ve.setDockingMode(Wo);const fo=De()?Jv.TopToBottom:Jv.BottomToTop;cs(Nn.element,$O,fo)})},nn=()=>{E.on(Wo=>{const Nn=fe.getOrThunk(()=>Ya().width-au(l).left-10);xs(Wo.element,"max-width",Nn+"px")})},So=(Wo,Nn)=>{E.on(fo=>{const Is=Xi.getToolbar(O.outerContainer),er=yt(Is),Qo=Vl(l),Qs=Hn(s,O.outerContainer.element),pi=()=>Qs.fold(()=>Qo.x,Lc=>{const Ff=Vl(Lc);return xe(Lc,Fd())?Qo.x:Qo.x-Ff.x}),si=()=>Qs.fold(()=>De()?Math.max(Qo.y-El(fo.element)+er,0):Qo.bottom,Lc=>{var Ff;const Ih=Vl(Lc),$l=(Ff=Lc.dom.scrollTop)!==null&&Ff!==void 0?Ff:0,vv=xe(Lc,Fd())?Math.max(Qo.y-El(fo.element)+er,0):Qo.y-Ih.y+$l-El(fo.element)+er;return De()?vv:Qo.bottom}),rf=pi(),_a=rl(Wo,Math.ceil(O.outerContainer.element.dom.getBoundingClientRect().width)).filter(Lc=>Lc>Ue).map(Lc=>{const Ff=Nn.getOr(Ga()),Ih=window.innerWidth-(rf-Ff.left),$l=Math.max(Math.min(Lc,Ih),Ue);return Ih<Lc&&xs(O.outerContainer.element,"width",$l+"px"),{width:$l+"px"}}).getOr({width:"max-content"}),Sd={position:"absolute",left:Math.round(rf)+"px",top:si()+"px"};pa(O.outerContainer.element,{...Sd,..._a})})},Hn=(Wo,Nn)=>LC(Wo)?Pg(Nn):te.none(),Wn=()=>{Tn(R,Wo=>{Wo.broadcastOn([yd()],{})})},Bn=()=>!K&&(Uc(O.outerContainer.element).left+Hp(O.outerContainer.element)>=window.innerWidth-Yde||ma(O.outerContainer.element,"width").isSome())?(xs(O.outerContainer.element,"position","absolute"),xs(O.outerContainer.element,"left","0px"),Er(O.outerContainer.element,"width"),!0):!1,ds=Wo=>{if(!st())return;K||nn();const Nn=Ga(),fo=K?!1:Bn();if(nt&&Xi.refreshToolbar(O.outerContainer),!K){const Is=Ga(),er=rl(Nn.left!==Is.left,Nn);So(fo,er),er.each(Qo=>{Hd(Qo.left,Is.top)})}oe&&E.on(Wo),Wn()},Zo=()=>K||!oe||!st()?!1:E.get().exists(Wo=>{const Nn=ve.getDockingMode(),fo=_t(Wo);return fo!==Nn?(Qt(fo),!0):!1});return{isVisible:st,isPositionedAtTop:De,show:()=>{pt.set(!0),xs(O.outerContainer.element,"display","flex"),G.addClass(s.getBody(),"mce-edit-focus"),Tn(R,Wo=>{Er(Wo.element,"display")}),Zo(),LC(s)?ds(Wo=>Qa.isDocked(Wo)?Qa.reset(Wo):Qa.refresh(Wo)):ds(Qa.refresh)},hide:()=>{pt.set(!1),xs(O.outerContainer.element,"display","none"),G.removeClass(s.getBody(),"mce-edit-focus"),Tn(R,Wo=>{xs(Wo.element,"display","none")})},update:ds,updateMode:()=>{Zo()&&ds(Qa.reset)},repositionPopups:Wn}},QZ=(s,l)=>{const h=Vl(s);return{pos:l?h.y:h.bottom,bounds:h}},c2=(s,l,h,g)=>{const E=$n(QZ(l,h.isPositionedAtTop())),O=oe=>{const{pos:fe,bounds:ve}=QZ(l,h.isPositionedAtTop()),{pos:De,bounds:Ue}=E.get(),He=ve.height!==Ue.height||ve.width!==Ue.width;E.set({pos:fe,bounds:ve}),He&&JH(s,oe),h.isVisible()&&(De!==fe?h.update(Qa.reset):He&&(h.updateMode(),h.repositionPopups()))};g||(s.on("activate",h.show),s.on("deactivate",h.hide)),s.on("SkinLoaded ResizeWindow",()=>h.update(Qa.reset)),s.on("NodeChange keydown",oe=>{requestAnimationFrame(()=>O(oe))});let R=0;const G=Gl(()=>h.update(Qa.refresh),33);s.on("ScrollWindow",()=>{const oe=Ga().left;oe!==R&&(R=oe,G.throttle()),h.updateMode()}),LC(s)&&s.on("ElementScroll",oe=>{h.update(Qa.refresh)});const K=na();K.set(Bd(co.fromDom(s.getBody()),"load",oe=>O(oe.raw))),s.on("remove",()=>{K.clear()})};var Jde=Object.freeze({__proto__:null,render:(s,l,h,g,E)=>{const{mainUi:O}=l,R=Ss(),G=co.fromDom(E.targetNode),K=Xde(s,G,l,g,R),oe=aW(s);ode(s);const fe=()=>{if(R.isSet()){K.show();return}R.set(Xi.getHeader(O.outerContainer).getOrDie());const De=NF(s);LC(s)?(iv(G,O.mothership),iv(G,l.popupUi.mothership)):Iw(De,O.mothership),Iw(De,l.dialogUi.mothership);const Ue=()=>{i2(s,l,h,g),Xi.setMenubar(O.outerContainer,CZ(s,h)),K.show(),c2(s,G,K,oe),s.nodeChanged()};oe?s.once("SkinLoaded",Ue):Ue()};s.on("show",fe),s.on("hide",K.hide),oe||(s.on("focus",fe),s.on("blur",K.hide)),s.on("init",()=>{(s.hasFocus()||oe)&&fe()}),F9(s,l);const ve={show:fe,hide:K.hide,setEnabled:De=>{GT(l,De?"setEnabled":"setDisabled")},isEnabled:()=>!Jo.isDisabled(O.outerContainer)};return{editorContainer:O.outerContainer.element.dom,api:ve}}});const Qde=()=>{const s=Ss(),l=Ss(),h=Ss();return{dialogUi:s,popupUi:l,mainUi:h,getUiMotherships:()=>{const O=s.get().map(G=>G.mothership),R=l.get().map(G=>G.mothership);return O.fold(()=>R.toArray(),G=>R.fold(()=>[G],K=>xe(G.element,K.element)?[G]:[G,K]))},lazyGetInOuterOrDie:(O,R)=>()=>h.get().bind(G=>R(G.outerContainer)).getOrDie(`Could not find ${O} element in OuterContainer`)}},eK="contexttoolbar-show",tK="contexttoolbar-hide",qN=(s,l,h)=>({setInputEnabled:g=>{!g&&h&&ra(h),Jo.set(s,!g)},isInputEnabled:()=>!Jo.isDisabled(s),hide:()=>{wr(s,p1())},back:()=>{wr(s,UN)},getValue:()=>l.get().getOrThunk(()=>Co.getValue(s)),setValue:g=>{s.getSystem().isConnected()?Co.setValue(s,g):l.set(g)}}),ZN=(s,l,h)=>{const E=Yn(s.element).bind(O=>s.getSystem().getByDom(O).toOptional());return qN(E.getOr(s),l,h)},nK=(s,l,h)=>pn(k$,(g,E)=>{const O=s.get(g),R=qN(O,h,g.element);l.onAction(R,E.event.buttonApi)}),ehe=(s,l,h,g)=>{const{primary:E,...O}=l.original,R=mp(GP({...O,type:"button",onAction:ie}));return ky(R,h,[nK(s,l,g)])},the=(s,l,h,g)=>{const{primary:E,...O}=l.original,R=mp(ZP({...O,type:"togglebutton",onAction:ie}));return OZ(R,h,[nK(s,l,g)])},nhe=s=>s.type==="contextformtogglebutton",u2=(s,l,h,g)=>nhe(l)?the(s,l,h,g):ehe(s,l,h,g),kU=(s,l,h,g)=>{const E=qt(l,G=>oi(u2(s,G,h,g)));return{asSpecs:()=>qt(E,G=>G.asSpec()),findPrimary:G=>Rs(l,(K,oe)=>K.primary?te.from(E[oe]).bind(fe=>fe.getOpt(G)).filter(Ve(Jo.isDisabled)):te.none())}},ohe=(s,l,h,g)=>{const{width:E,height:O}=s.initValue();let R=AN;const G=yo("ratio-event"),K=Hn=>qN(Hn,g),oe=Hn=>ag(Hn,{tag:"span",classes:["tox-icon","tox-lock-icon__"+Hn]},l.icons),fe=()=>!1,ve=s.label.getOr("Constrain proportions"),De=l.translate(ve),Ue=Hl.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-lock-context-form-size-input","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":De,"data-mce-name":ve}},components:[oe("lock"),oe("unlock")],buttonBehaviours:oo([Jo.config({disabled:fe}),da.config({}),Da.config(l.tooltips.getConfig({tooltipText:De}))])}),He=Hn=>({dom:{tag:"div",classes:["tox-context-form__group"]},components:Hn}),nt=Hn=>Kh(Hn.element,"div.tox-focusable-wrapper").fold(te.none,Bn=>(ra(Bn),te.some(!0))),pt=Hn=>Cr.parts.field({factory:x0,inputClasses:["tox-textfield","tox-toolbar-textfield","tox-textfield-size"],data:Hn?E:O,inputBehaviours:oo([Jo.config({disabled:fe}),da.config({}),$s("size-input-toolbar-events",[pn(If(),(Wn,Bn)=>{ms(Wn,G,{isField1:Hn})})]),os.config({mode:"special",onEnter:h,onEscape:nt})]),selectOnFocus:!1}),st=Hn=>({dom:{tag:"label",classes:["tox-label"]},components:[ka(l.translate(Hn))]}),yt=Hn=>({dom:{tag:"div",classes:["tox-focusable-wrapper","tox-toolbar-nav-item"]},components:[Hn],behaviours:oo([da.config({}),js.config({}),os.config({mode:"special",onEnter:Wn=>ui(Wn.element,"input").fold(te.none,ds=>(ra(ds),te.some(!0)))})])}),_t=yt(Hl.parts.field1(He([Cr.parts.label(st("Width:")),pt(!0)]))),Qt=yt(Hl.parts.field2(He([Cr.parts.label(st("Height:")),pt(!1)]))),nn=$n(ie),So=[ug({onBeforeSetup:Hn=>ui(Hn.element,"input").each(ra),onSetup:s.onSetup,getApi:K},nn),LH({getApi:K},nn,g)];return Hl.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[_t,He([Ue]),Qt],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(Hn,Wn,Bn)=>{_N(Co.getValue(Hn)).each(ds=>{R(ds).each(Zo=>{Co.setValue(Wn,hq(Zo))})})},onInput:Hn=>wr(Hn,pN),coupledFieldBehaviours:oo([js.config({}),os.config({mode:"flow",focusInside:kf.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-focusable-wrapper"}),Jo.config({disabled:fe,onDisabled:Hn=>{Hl.getField1(Hn).bind(Cr.getField).each(Jo.disable),Hl.getField2(Hn).bind(Cr.getField).each(Jo.disable),Hl.getLock(Hn).each(Jo.disable)},onEnabled:Hn=>{Hl.getField1(Hn).bind(Cr.getField).each(Jo.enable),Hl.getField2(Hn).bind(Cr.getField).each(Jo.enable),Hl.getLock(Hn).each(Jo.enable)}}),Ma(()=>l.checkUiComponentContext("mode:design")),$s("size-input-toolbar-events2",[pn(G,(Hn,Wn)=>{const Bn=Wn.event.isField1,ds=Bn?Hl.getField1(Hn):Hl.getField2(Hn),Zo=Bn?Hl.getField2(Hn):Hl.getField1(Hn),kr=ds.map(Co.getValue).getOr(""),As=Zo.map(Co.getValue).getOr("");R=N$(kr,As)}),pn(pN,Hn=>s.onInput(K(Hn))),...So])])})},oK=(s,l,h)=>Cr.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[...s.toArray(),l],fieldBehaviours:oo([Jo.config({disabled:()=>h.checkUiComponentContext("mode:design").shouldDisable,onDisabled:g=>{dde(g),Cr.getField(g).each(Jo.disable)},onEnabled:g=>{Cr.getField(g).each(Jo.enable)}})])}),sK=(s,l,h,g)=>{const E=$n(ie),O=K=>ZN(K,g),R=s.label.map(K=>Cr.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[ka(l.translate(K))]})),G=Cr.parts.field({factory:x0,type:"range",inputClasses:["tox-toolbar-slider__input","tox-toolbar-nav-item"],inputAttributes:{min:String(s.min()),max:String(s.max())},data:s.initValue().toString(),fromInputValue:K=>Cc(K).getOr(s.min()),toInputValue:K=>String(K),inputBehaviours:oo([Jo.config({disabled:()=>l.checkUiComponentContext("mode:design").shouldDisable}),Ma(()=>l.checkUiComponentContext("mode:design")),os.config({mode:"special",onEnter:h,onLeft:(K,oe)=>(oe.cut(),te.none()),onRight:(K,oe)=>(oe.cut(),te.none())}),$s("slider-events",[ug({onSetup:s.onSetup,getApi:O,onBeforeSetup:os.focusIn},E),LH({getApi:O},E,g),pn(Zp(),K=>{s.onInput(O(K))})])])});return oK(R,G,l)},DU=(s,l,h,g)=>{const E=$n(ie),O=fe=>ZN(fe,g),R=s.label.map(fe=>Cr.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[ka(l.translate(fe))]})),K={...s.placeholder.map(fe=>({placeholder:l.translate(fe)})).getOr({})},oe=Cr.parts.field({factory:x0,inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-item"],inputAttributes:K,data:s.initValue(),selectOnFocus:!0,inputBehaviours:oo([Jo.config({disabled:()=>l.checkUiComponentContext("mode:design").shouldDisable}),Ma(()=>l.checkUiComponentContext("mode:design")),os.config({mode:"special",onEnter:h,onLeft:(fe,ve)=>(ve.cut(),te.none()),onRight:(fe,ve)=>(ve.cut(),te.none())}),$s("input-events",[ug({onSetup:s.onSetup,getApi:fe=>Kh(fe.element,".tox-toolbar").bind(De=>ui(De,"button:enabled")).fold(()=>ZN(fe,g),De=>ZN(fe,g,De)),onBeforeSetup:os.focusIn},E),LH({getApi:O},E,g),pn(Zp(),fe=>{s.onInput(O(fe))})])])});return oK(R,oe,l)},KN=(s,l,h)=>{const g=Ss(),O=oi(s(h,oe=>G.findPrimary(oe).orThunk(()=>K.findPrimary(oe)).map(fe=>(aw(fe),!0)),g)),R=vr(l.commands,oe=>oe.align==="start"),G=kU(O,R.pass,h,g),K=kU(O,R.fail,h,g);return vs([{title:te.none(),label:te.none(),items:G.asSpecs()},{title:te.none(),label:te.none(),items:[O.asSpec()]},{title:te.none(),label:te.none(),items:K.asSpecs()}],oe=>oe.items.length>0)},MU=(s,l)=>{switch(s.type){case"contextform":return KN(Xe(DU,s),s,l);case"contextsliderform":return KN(Xe(sK,s),s,l);case"contextsizeinputform":return KN(Xe(ohe,s),s,l)}},lx={renderContextForm:(s,l,h)=>QR({type:s,uid:yo("context-toolbar"),initGroups:MU(l,h),onEscape:te.none,cyclicKeying:!0,providers:h}),buildInitGroups:MU},d2=(s,l,h)=>l.bottom-s.y>=h&&s.bottom-l.y>=h,YN=s=>{const l=s.getBoundingClientRect();if(l.height<=0&&l.width<=0){const h=Sl(co.fromDom(s.startContainer),s.startOffset).element;return(jh(h)?Yn(h):te.some(h)).filter(Dc).map(E=>E.dom.getBoundingClientRect()).getOr(l)}else return l},h2=s=>{const l=s.selection.getRng(),h=YN(l);if(s.inline){const g=Ga();return Zr(g.left+h.left,g.top+h.top,h.width,h.height)}else{const g=hp(co.fromDom(s.getBody()));return Zr(g.x+h.left,g.y+h.top,h.width,h.height)}},PU=(s,l)=>l.filter(h=>qr(h)&&et(h)).map(hp).getOrThunk(()=>h2(s)),rK=(s,l,h)=>{const g=Math.max(s.x+h,l.x),E=Math.min(s.right-h,l.right);return{x:g,width:E-g}},XN=(s,l,h,g,E,O)=>{const R=co.fromDom(s.getContainer()),G=ui(R,".tox-editor-header").getOr(R),K=Vl(G),oe=K.y>=l.bottom,fe=g&&!oe;if(s.inline&&fe)return{y:Math.max(K.bottom+O,h.y),bottom:h.bottom};if(s.inline&&!fe)return{y:h.y,bottom:Math.min(K.y-O,h.bottom)};const ve=E==="line"?Vl(R):l;return fe?{y:Math.max(K.bottom+O,h.y),bottom:Math.min(ve.bottom-O,h.bottom)}:{y:Math.max(ve.y+O,h.y),bottom:Math.min(K.y-O,h.bottom)}},NU=(s,l,h,g=0)=>{const E=Ya(window),O=Vl(co.fromDom(s.getContentAreaContainer())),R=vP(s)||bP(s)||pR(s),{x:G,width:K}=rK(O,E,g);if(s.inline&&!R)return Zr(G,E.y,K,E.height);{const oe=l.header.isPositionedAtTop(),{y:fe,bottom:ve}=XN(s,O,E,oe,h,g);return Zr(G,fe,K,ve-fe)}},f2=12,JN={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},iK={maxHeightFunction:_1(),maxWidthFunction:HO()},aK=(s,l)=>{const h=s.selection.getRng(),g=Sl(co.fromDom(h.startContainer),h.startOffset);return h.startContainer===h.endContainer&&h.startOffset===h.endOffset-1&&xe(g.element,l)},she=(s,l,h)=>{const g=ma(s,"position");xs(s,"position",l);const E=h(s);return g.each(O=>xs(s,"position",O)),E},lK=s=>s==="node",QN=(s,l,h,g,E)=>{const O=h2(s),R=g.lastElement().exists(G=>xe(h,G));if(aK(s,h))return R?jd:ef;if(R)return she(l,g.getMode(),()=>d2(O,Vl(l),-20)&&!g.isReposition()?nD:jd);{const G=g.getMode()==="fixed"?E.y+Ga().top:E.y,K=El(l)+f2;return G+K<=O.y?ef:dC}},cK=(s,l,h,g)=>{const E=K=>(oe,fe,ve,De,Ue)=>{const He=QN(s,De,K,h,Ue),nt={...oe,y:Ue.y,height:Ue.height};return{...He(nt,fe,ve,De,Ue),alwaysFit:!0}},O=K=>lK(g)?[E(K)]:[];return l?{onLtr:K=>[ua,Fr,zi,yl,Ja,Tl].concat(O(K)),onRtl:K=>[ua,zi,Fr,Ja,yl,Tl].concat(O(K))}:{onLtr:K=>[Tl,ua,yl,Fr,Ja,zi].concat(O(K)),onRtl:K=>[Tl,ua,Ja,zi,yl,Fr].concat(O(K))}},rhe=(s,l,h,g)=>l==="line"?{bubble:Ft(f2,0,JN),layouts:{onLtr:()=>[Xg],onRtl:()=>[C1]},overrides:iK}:{bubble:Ft(0,f2,JN,1/f2),layouts:cK(s,h,g,l),overrides:iK},LU=(s,l)=>{const h=vs(l,O=>O.predicate(s.dom)),{pass:g,fail:E}=vr(h,O=>O.type==="contexttoolbar");return{contextToolbars:g,contextForms:E}},ihe=s=>{if(s.length<=1)return s;{const l=O=>Ro(s,R=>R.position===O),h=O=>vs(s,R=>R.position===O),g=l("selection"),E=l("node");if(g||E)if(E&&g){const O=h("node"),R=qt(h("selection"),G=>({...G,position:"node"}));return O.concat(R)}else return h(g?"selection":"node");else return h("line")}},ahe=s=>{if(s.length<=1)return s;{const l=g=>zt(s,E=>E.position===g);return l("selection").orThunk(()=>l("node")).orThunk(()=>l("line")).map(g=>g.position).fold(()=>[],g=>vs(s,E=>E.position===g))}},lhe=(s,l,h)=>{const g=LU(s,l);if(g.contextForms.length>0)return te.some({elem:s,toolbars:[g.contextForms[0]]});{const E=LU(s,h);if(E.contextForms.length>0)return te.some({elem:s,toolbars:[E.contextForms[0]]});if(g.contextToolbars.length>0||E.contextToolbars.length>0){const O=ihe(g.contextToolbars.concat(E.contextToolbars));return te.some({elem:s,toolbars:O})}else return te.none()}},uK=(s,l,h)=>s(l)?te.none():ty(l,g=>{if(Dc(g)){const{contextToolbars:E,contextForms:O}=LU(g,h.inNodeScope),R=O.length>0?O:ahe(E);return R.length>0?te.some({elem:g,toolbars:R}):te.none()}else return te.none()},s),dK=(s,l)=>{const h=co.fromDom(l.getBody()),g=R=>xe(R,h),E=R=>!g(R)&&!Pe(h,R),O=co.fromDom(l.selection.getNode());return E(O)?te.none():lhe(O,s.inNodeScope,s.inEditorScope).orThunk(()=>uK(g,O,s))},hK=(s,l)=>{const h={},g=[],E=[],O={},R={},G=(fe,ve)=>{const De=mp(AH(ve));h[fe]=De,De.launch.map(Ue=>{O["form:"+fe]={...ve.launch,type:Ue.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{l(De)}}}),De.scope==="editor"?E.push(De):g.push(De),R[fe]=De},K=(fe,ve)=>{Sae(ve).each(De=>{De.launch.isSome()&&(O["toolbar:"+fe]={...ve.launch,type:"button",onAction:()=>{l(De)}}),ve.scope==="editor"?E.push(De):g.push(De),R[fe]=De})},oe=Ao(s);return Tn(oe,fe=>{const ve=s[fe];ve.type==="contextform"||ve.type==="contextsliderform"||ve.type==="contextsizeinputform"?G(fe,ve):ve.type==="contexttoolbar"&&K(fe,ve)}),{forms:h,inNodeScope:g,inEditorScope:E,lookupTable:R,formNavigators:O}},eL="tox-pop--transition",che=s=>s===s2.ENTER||s===s2.SPACEBAR,fK=(s,l,h,g)=>{const E=g.backstage,O=E.shared,R=Gi().deviceType.isTouch,G=Ss(),K=Ss(),oe=Ss(),fe=hde({sink:h,onEscape:()=>(s.focus(),iG(s),te.some(!0)),onHide:()=>{iG(s)},onBack:()=>{rle(s)},focusElement:As=>{s.getBody().contains(As.dom)?s.focus():ra(As)}}),ve=k(fe.sketch),De=()=>{const As=oe.get().getOr("node"),Xs=lK(As)?1:0;return NU(s,O,As,Xs)},Ue=()=>!s.removed&&!(R()&&E.isContextMenuOpen()),He=As=>Fc(Rc(As,G.get(),xe),!0),nt=()=>{if(Ue()){const As=De(),Xs=Fc(oe.get(),"node")?PU(s,G.get()):h2(s);return As.height<=0||!d2(Xs,As,.01)}else return!0},pt=()=>{G.clear(),K.clear(),oe.clear(),el.hide(ve)},st=()=>{if(el.isOpen(ve)){const As=ve.element;Er(As,"display"),nt()?xs(As,"display","none"):(K.set(0),el.reposition(ve))}},yt=As=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[As],behaviours:oo([os.config({mode:"acyclic"}),$s("pop-dialog-wrap-events",[Ea(Xs=>{s.shortcuts.add("ctrl+F9","focus statusbar",()=>os.focusIn(Xs))}),tv(Xs=>{s.shortcuts.remove("ctrl+F9")})])])}),_t=As=>{const Xs=Hn([As]);ms(ve,SU,{forwardContents:yt(Xs)})},Qt=tu(()=>hK(l,_t)),nn=(As,Xs)=>GN(s,{buttons:As,toolbar:Xs.items,allowToolbarGroups:!1},g.backstage,te.some(["form:","toolbar:"])),So=(As,Xs)=>lx.buildInitGroups(As,Xs),Hn=As=>{const{buttons:Xs}=s.ui.registry.getAll(),Wo=Qt(),Nn={...Xs,...Wo.formNavigators},fo=Kw(s)===rg.scrolling?rg.scrolling:rg.default,Is=fn(qt(As,er=>er.type==="contexttoolbar"?nn(Nn,_9(er)):So(er,O.providers)));return QR({type:fo,uid:yo("context-toolbar"),initGroups:Is,onEscape:te.none,cyclicKeying:!0,providers:O.providers})},Wn=(As,Xs)=>{const Wo=As==="node"?O.anchors.node(Xs):O.anchors.cursor(),Nn=rhe(s,As,R(),{lastElement:G.get,isReposition:()=>Fc(K.get(),0),getMode:()=>Th.getMode(h)});return Jr(Wo,Nn)},Bn=(As,Xs)=>{if(kr.cancel(),!Ue())return;const Wo=Hn(As),Nn=As[0].position,fo=Wn(Nn,Xs);oe.set(Nn),K.set(1);const Is=ve.element;Er(Is,"display"),He(Xs)||(vi(Is,eL),Th.reset(h,ve)),el.showWithinBounds(ve,yt(Wo),{anchor:fo,transition:{classes:[eL],mode:"placement"}},()=>te.some(De())),Xs.fold(G.clear,G.set),nt()&&xs(Is,"display","none")},ds=()=>{xs(ve.element,"transition","none"),st(),Er(ve.element,"transition")};let Zo=!1;const kr=Gl(()=>{if(!(!s.hasFocus()||s.removed||Zo))if(qa(ve.element,eL))kr.throttle();else{const As=Qt();dK(As,s).fold(pt,Xs=>{Bn(Xs.toolbars,te.some(Xs.elem))})}},17);s.on("init",()=>{s.on("remove",pt),s.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",st),s.on("click focus SetContent",kr.throttle),s.on("keyup",As=>{(!che(As.keyCode)||!fe.inSubtoolbar())&&kr.throttle()}),s.on(tK,pt),s.on(eK,As=>{const Xs=Qt();cn(Xs.lookupTable,As.toolbarKey).each(Wo=>{Bn([Wo],rl(As.target!==s,As.target)),IZ(ve)})}),s.on("focusout",As=>{dP.setEditorTimeout(s,()=>{Wa(h.element).isNone()&&Wa(ve.element).isNone()&&!s.hasFocus()&&pt()},0)}),s.on("SwitchMode",()=>{s.mode.isReadOnly()&&pt()}),s.on("DisabledStateChange",As=>{As.state&&pt()}),s.on("ExecCommand",({command:As})=>{As.toLowerCase()==="toggleview"&&pt()}),s.on("AfterProgressState",As=>{As.state?pt():s.hasFocus()&&kr.throttle()}),s.on("dragstart",()=>{Zo=!0}),s.on("dragend drop",()=>{Zo=!1}),s.on("NodeChange",As=>{fe.inSubtoolbar()?ds():Wa(ve.element).fold(kr.throttle,ie)})})},pK=s=>{Tn([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],h=>{s.ui.registry.addToggleButton(h.name,{tooltip:h.text,icon:h.icon,onAction:Sm(s,h.cmd),onSetup:rN(s,h.name)})}),s.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:sf(s),onAction:Sm(s,"JustifyNone")})},mK=(s,l)=>{const h=()=>{const g=l.getOptions(s),E=l.getCurrent(s).map(l.hash),O=Ss();return qt(g,R=>({type:"togglemenuitem",text:l.display(R),onSetup:G=>{const K=fe=>{fe&&(O.on(ve=>ve.setActive(!1)),O.set(G)),G.setActive(fe)};K(Fc(E,l.hash(R)));const oe=l.watcher(s,R,K);return()=>{O.clear(),oe()}},onAction:()=>l.setCurrent(s,R)}))};s.ui.registry.addMenuButton(l.name,{tooltip:l.text,icon:l.icon,fetch:g=>g(h()),onSetup:l.onToolbarSetup}),s.ui.registry.addNestedMenuItem(l.name,{type:"nestedmenuitem",text:l.text,getSubmenuItems:h,onSetup:l.onMenuSetup})},CSe=s=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:AW,hash:l=>ki(l,["fixed","relative","empty"]).getOr(l),display:Ie,watcher:(l,h,g)=>l.formatter.formatChanged("lineheight",g,!1,{value:h}).unbind,getCurrent:l=>te.from(l.queryCommandValue("LineHeight")),setCurrent:(l,h)=>l.execCommand("LineHeight",!1,h),onToolbarSetup:sf(s),onMenuSetup:sf(s)}),uhe=s=>te.from(sW(s)).map(h=>({name:"language",text:"Language",icon:"language",getOptions:F(h),hash:g=>U(g.customCode)?g.code:`${g.code}/${g.customCode}`,display:g=>g.title,watcher:(g,E,O)=>{var R;return g.formatter.formatChanged("lang",O,!1,{value:E.code,customValue:(R=E.customCode)!==null&&R!==void 0?R:null}).unbind},getCurrent:g=>{const E=co.fromDom(g.selection.getNode());return Bu(E,O=>te.some(O).filter(Dc).bind(R=>rr(R,"lang").map(K=>{const oe=rr(R,"data-mce-lang").getOrUndefined();return{code:K,customCode:oe,title:""}})))},setCurrent:(g,E)=>g.execCommand("Lang",!1,E),onToolbarSetup:g=>{const E=na();return g.setActive(s.formatter.match("lang",{},void 0,!0)),E.set(s.formatter.formatChanged("lang",g.setActive,!0)),sN(E.clear,sf(s)(g))},onMenuSetup:sf(s)})),dhe=s=>{mK(s,CSe(s)),uhe(s).each(l=>mK(s,l))},hhe=(s,l)=>{vde(s,l),_de(s,l),Vde(s,l),FZ(s,l),Nde(s,l)},fhe=s=>{s.ui.registry.addContext("editable",()=>s.selection.isEditable()),s.ui.registry.addContext("mode",l=>s.mode.get()===l),s.ui.registry.addContext("any",gt),s.ui.registry.addContext("formatting",l=>s.formatter.canApply(l)),s.ui.registry.addContext("insert",l=>s.schema.isValidChild(s.selection.getNode().tagName,l))},phe=s=>u_(s,"NodeChange",l=>{l.setEnabled(s.queryCommandState("outdent")&&s.selection.isEditable())}),mhe=s=>{s.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:phe(s),onAction:Sm(s,"outdent")}),s.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:sf(s,()=>s.queryCommandState("indent")),onAction:Sm(s,"indent")})},ghe=s=>{mhe(s)},gK=(s,l)=>h=>{h.setActive(l.get());const g=E=>{l.set(E.state),h.setActive(E.state)};return s.on("PastePlainTextToggle",g),sN(()=>s.off("PastePlainTextToggle",g),sf(s)(h))},vhe=s=>{const l=$n(bW(s)),h=()=>s.execCommand("mceTogglePlainTextPaste");s.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:h,onSetup:gK(s,l)}),s.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:h,onSetup:gK(s,l)})},BU=(s,l)=>()=>{s.execCommand("mceToggleFormat",!1,l)},bhe=s=>{sS.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(l,h)=>{s.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:rN(s,l.name),onAction:BU(s,l.name),shortcut:l.shortcut})});for(let l=1;l<=6;l++){const h="h"+l,g=`Access+${l}`;s.ui.registry.addToggleButton(h,{text:h.toUpperCase(),tooltip:"Heading "+l,onSetup:rN(s,h),onAction:BU(s,h),shortcut:g})}},yhe=s=>{sS.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],l=>{s.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onAction:Sm(s,l.action),shortcut:l.shortcut,context:l.context})}),sS.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],l=>{s.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:sf(s),onAction:Sm(s,l.action)})})},She=s=>{sS.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],l=>{s.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:Sm(s,l.action),onSetup:rN(s,l.name)})})},vK=s=>{bhe(s),yhe(s),She(s)},Che=s=>{sS.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],l=>{s.ui.registry.addMenuItem(l.name,{text:l.text,icon:l.icon,shortcut:l.shortcut,onAction:Sm(s,l.action),context:l.context})}),sS.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],l=>{s.ui.registry.addMenuItem(l.name,{text:l.text,icon:l.icon,shortcut:l.shortcut,onSetup:sf(s),onAction:Sm(s,l.action)})}),s.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:sf(s),onAction:BU(s,"code")})},Ehe=s=>{vK(s),Che(s)},tL=(s,l)=>u_(s,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",h=>{h.setEnabled(!s.mode.isReadOnly()&&s.undoManager[l]())}),whe=s=>{s.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:tL(s,"hasUndo"),onAction:Sm(s,"undo")}),s.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:tL(s,"hasRedo"),onAction:Sm(s,"redo")})},_he=s=>{s.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:tL(s,"hasUndo"),onAction:Sm(s,"undo"),shortcut:"Meta+Z"}),s.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:tL(s,"hasRedo"),onAction:Sm(s,"redo"),shortcut:"Meta+Y"})},VU=s=>{whe(s),_he(s)},Ahe=s=>u_(s,"VisualAid",l=>{l.setActive(s.hasVisual)}),The=s=>{s.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:Ahe(s),onAction:Sm(s,"mceToggleVisualAid"),context:"any"})},FU=s=>{s.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Sm(s,"mceToggleVisualAid"),context:"any"})},bK=s=>{FU(s),The(s)},yK=(s,l)=>{pK(s),Ehe(s),hhe(s,l),VU(s),fle(s),bK(s),ghe(s),dhe(s),vhe(s),fhe(s)},xhe=s=>v(s)?s.split(/[ ,]/):s,SK=s=>l=>l.options.get(s),Ohe=s=>{const l=s.options.register;l("contextmenu_avoid_overlap",{processor:"string",default:""}),l("contextmenu_never_use_native",{processor:"boolean",default:!1}),l("contextmenu",{processor:h=>h===!1?{value:[],valid:!0}:v(h)||le(h,v)?{value:xhe(h),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},CK=SK("contextmenu_never_use_native"),Ihe=SK("contextmenu_avoid_overlap"),HU=s=>EK(s).length===0,EK=s=>{const l=s.ui.registry.getAll().contextMenus,h=s.options.get("contextmenu");return s.options.isSet("contextmenu")?h:vs(h,g=>ro(l,g))},cx=(s,l)=>({type:"makeshift",x:s,y:l}),Rhe=(s,l,h)=>cx(s.x+l,s.y+h),wK=s=>s.type==="longpress"||s.type.indexOf("touch")===0,$U=s=>{if(wK(s)){const l=s.touches[0];return cx(l.pageX,l.pageY)}else return cx(s.pageX,s.pageY)},khe=s=>{if(wK(s)){const l=s.touches[0];return cx(l.clientX,l.clientY)}else return cx(s.clientX,s.clientY)},_K=(s,l)=>{const h=hR.DOM.getPos(s);return Rhe(l,h.x,h.y)},UU=(s,l)=>l.type==="contextmenu"||l.type==="longpress"?s.inline?$U(l):_K(s.getContentAreaContainer(),khe(l)):AK(s),AK=s=>({type:"selection",root:co.fromDom(s.selection.getNode())}),Dhe=s=>({type:"node",node:te.some(co.fromDom(s.selection.getNode())),root:co.fromDom(s.getBody())}),TK=(s,l,h)=>{switch(h){case"node":return Dhe(s);case"point":return UU(s,l);case"selection":return AK(s)}},Mhe=(s,l,h,g,E,O)=>{const R=h(),G=TK(s,l,O);JT(R,vb.CLOSE_ON_EXECUTE,g,{isHorizontalMenu:!1,search:te.none()}).map(K=>{l.preventDefault(),el.showMenuAt(E,{anchor:G},{menu:{markers:HC("normal")},data:K})})},Phe={onLtr:()=>[ua,Fr,zi,yl,Ja,Tl,ef,dC,an,Xv,uC,tg],onRtl:()=>[ua,zi,Fr,Ja,yl,Tl,ef,dC,uC,tg,an,Xv]},xK=12,Nhe={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},Lhe=(s,l)=>{const h=s.selection;if(h.isCollapsed()||l.touches.length<1)return!1;{const g=l.touches[0],E=h.getRng();return Mg(s.getWin(),lu.domRange(E)).exists(R=>R.left<=g.clientX&&R.right>=g.clientX&&R.top<=g.clientY&&R.bottom>=g.clientY)}},Bhe=s=>{const l=s.selection.getRng(),h=()=>{dP.setEditorTimeout(s,()=>{s.selection.setRng(l)},10),O()};s.once("touchend",h);const g=R=>{R.preventDefault(),R.stopImmediatePropagation()};s.on("mousedown",g,!0);const E=()=>O();s.once("longpresscancel",E);const O=()=>{s.off("touchend",h),s.off("longpresscancel",E),s.off("mousedown",g)}},Vhe=(s,l,h)=>{const g=TK(s,l,h);return{bubble:Ft(0,h==="point"?xK:0,Nhe),layouts:Phe,overrides:{maxWidthFunction:HO(),maxHeightFunction:_1()},...g}},Fhe=(s,l,h,g,E,O,R)=>{const G=Vhe(s,l,O);JT(h,vb.CLOSE_ON_EXECUTE,g,{isHorizontalMenu:!0,search:te.none()}).map(K=>{l.preventDefault();const oe=R?Wd.HighlightMenuAndItem:Wd.HighlightNone;el.showMenuWithinBounds(E,{anchor:G},{menu:{markers:HC("normal"),highlightOnOpen:oe},data:K,type:"horizontal"},()=>te.some(NU(s,g.shared,O==="node"?"node":"selection"))),s.dispatch(tK)})},Hhe=(s,l,h,g,E,O)=>{const R=Gi(),G=R.os.isiOS(),K=R.os.isMacOS(),oe=R.os.isAndroid(),fe=R.deviceType.isTouch(),ve=()=>!(oe||G||K&&fe),De=()=>{const Ue=h();Fhe(s,l,Ue,g,E,O,ve())};if((K||G)&&O!=="node"){const Ue=()=>{Bhe(s),De()};Lhe(s,l)?Ue():(s.once("selectionchange",Ue),s.once("touchend",()=>s.off("selectionchange",Ue)))}else De()},OK=s=>v(s)?s==="|":s.type==="separator",zU={type:"separator"},IK=s=>{const l=h=>({text:h.text,icon:h.icon,enabled:h.enabled,shortcut:h.shortcut});if(v(s))return s;switch(s.type){case"separator":return zU;case"submenu":return{type:"nestedmenuitem",...l(s),getSubmenuItems:()=>{const g=s.getSubmenuItems();return v(g)?g:qt(g,IK)}};default:const h=s;return{type:"menuitem",...l(h),onAction:be(h.onAction)}}},RK=(s,l)=>{if(l.length===0)return s;const g=ls(s).filter(E=>!OK(E)).fold(()=>[],E=>[zU]);return s.concat(g).concat(l).concat([zU])},kK=(s,l,h)=>{const g=xn(l,(E,O)=>cn(s,O.toLowerCase()).map(R=>{const G=R.update(h);if(v(G)&&Iu(vo(G)))return RK(E,G.split(" "));if(x(G)&&G.length>0){const K=qt(G,IK);return RK(E,K)}else return E}).getOrThunk(()=>E.concat([O])),[]);return g.length>0&&OK(g[g.length-1])&&g.pop(),g},$he=(s,l)=>l.ctrlKey&&!CK(s),DK=s=>s.type==="longpress"||ro(s,"touches"),MK=(s,l)=>!DK(l)&&(l.button!==2||l.target===s.getBody()&&l.pointerType===""),PK=(s,l)=>MK(s,l)?s.selection.getStart(!0):l.target,Uhe=(s,l)=>{const h=Ihe(s),g=MK(s,l)?"selection":"point";if(Iu(h)){const E=PK(s,l);return qb(co.fromDom(E),h)?"node":g}else return g},v_=(s,l,h)=>{const E=Gi().deviceType.isTouch,O=k(el.sketch({dom:{tag:"div"},lazySink:l,onEscape:()=>s.focus(),onShow:()=>h.setContextMenuState(!0),onHide:()=>h.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:oo([$s("dismissContextMenu",[pn(Zg(),(K,oe)=>{ni.close(K),s.focus()})])])})),R=()=>el.hide(O),G=K=>{if(CK(s)&&K.preventDefault(),$he(s,K)||HU(s))return;const oe=Uhe(s,K),fe=()=>{const De=PK(s,K),Ue=s.ui.registry.getAll(),He=EK(s);return kK(Ue.contextMenus,He,De)};(E()?Hhe:Mhe)(s,K,fe,h,O,oe)};s.on("init",()=>{const K="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(E()?"":" ResizeWindow");s.on(K,R),s.on("longpress contextmenu",G)})},nL=40,oL=nL/2,NK=(s,l,h,g,E,O)=>s.fold(()=>Vw.snap({sensor:_C(h-oL,g-oL),range:ci(E,O),output:_C(te.some(h),te.some(g)),extra:{td:l}}),R=>{const G=h-oL,K=g-oL,oe=nL,fe=nL,ve=R.element.dom.getBoundingClientRect();return Vw.snap({sensor:_C(G,K),range:ci(oe,fe),output:_C(te.some(h-ve.width/2),te.some(g-ve.height/2)),extra:{td:l}})}),LK=(s,l,h)=>{const g=(E,O)=>E.exists(R=>xe(R,O));return{getSnapPoints:s,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(E,O)=>{const R=O.td;g(l.get(),R)||(l.set(R),h(R))},mustSnap:!0}},BK=s=>oi(eh.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:oo([Vw.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:s}),xT.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),zhe=(s,l)=>{const h=$n([]),g=$n([]),E=$n(!1),O=Ss(),R=Ss(),G=Hn=>{const Wn=hp(Hn);return NK(Ue.getOpt(l),Hn,Wn.x,Wn.y,Wn.width,Wn.height)},K=()=>qt(h.get(),Hn=>G(Hn)),oe=Hn=>{const Wn=hp(Hn);return NK(He.getOpt(l),Hn,Wn.right,Wn.bottom,Wn.width,Wn.height)},fe=()=>qt(g.get(),Hn=>oe(Hn)),ve=LK(K,O,Hn=>{R.get().each(Wn=>{s.dispatch("TableSelectorChange",{start:Hn,finish:Wn})})}),De=LK(fe,R,Hn=>{O.get().each(Wn=>{s.dispatch("TableSelectorChange",{start:Wn,finish:Hn})})}),Ue=BK(ve),He=BK(De),nt=k(Ue.asSpec()),pt=k(He.asSpec()),st=(Hn,Wn,Bn,ds)=>{const Zo=Wn.dom.getBoundingClientRect();Er(Hn.element,"display");const kr=Dn(co.fromDom(s.getBody())).dom.innerHeight,As=Bn(Zo),Xs=ds(Zo,kr);(As||Xs)&&xs(Hn.element,"display","none")},yt=(Hn,Wn,Bn,ds)=>{const Zo=Bn(Wn);Vw.snapTo(Hn,Zo),st(Hn,Wn,Xs=>Xs[ds]<0,(Xs,Wo)=>Xs[ds]>Wo)},_t=Hn=>yt(nt,Hn,G,"top"),Qt=()=>O.get().each(_t),nn=Hn=>yt(pt,Hn,oe,"bottom"),So=()=>R.get().each(nn);if(Gi().deviceType.isTouch()){const Hn=Wn=>qt(Wn,co.fromDom);s.on("TableSelectionChange",Wn=>{E.get()||(rb(l,nt),rb(l,pt),E.set(!0));const Bn=co.fromDom(Wn.start),ds=co.fromDom(Wn.finish);O.set(Bn),R.set(ds),te.from(Wn.otherCells).each(Zo=>{h.set(Hn(Zo.upOrLeftCells)),g.set(Hn(Zo.downOrRightCells)),_t(Bn),nn(ds)})}),s.on("ResizeEditor ResizeWindow ScrollContent",()=>{Qt(),So()}),s.on("TableSelectionClear",()=>{E.get()&&(ib(nt),ib(pt),E.set(!1)),O.clear(),R.clear()})}};var VK=`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`;const jhe=s=>s.nodeName==="BR"||!!s.getAttribute("data-mce-bogus")||s.getAttribute("data-mce-type")==="bookmark",Whe=(s,l,h)=>{var g;const E=(g=l.delimiter)!==null&&g!==void 0?g:"›",O=(oe,fe,ve)=>eh.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":ve}},components:[ka(oe)],action:De=>{s.focus(),s.selection.select(fe),s.nodeChanged()},buttonBehaviours:oo([Da.config({...h.tooltips.getConfig({tooltipText:h.translate(["Select the {0} element",fe.nodeName.toLowerCase()]),onShow:(De,Ue)=>{Ud(De.element,Ue.element)},onHide:De=>{$S(De.element)}})}),cg.button(h.isDisabled),Ma(()=>h.checkUiComponentContext("any"))])}),R=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[ka(` ${E} `)]}),G=oe=>xn(oe,(fe,ve,De)=>{const Ue=O(ve.name,ve.element,De);return De===0?fe.concat([Ue]):fe.concat([R(),Ue])},[]),K=oe=>{const fe=[];let ve=oe.length;for(;ve-- >0;){const De=oe[ve];if(De.nodeType===1&&!jhe(De)){const Ue=ele(s,De);if(Ue.isDefaultPrevented()||fe.push({name:Ue.name,element:De}),Ue.isPropagationStopped())break}}return fe};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:oo([os.config({mode:"flow",selector:"div[role=button]"}),Jo.config({disabled:h.isDisabled}),Ma(()=>h.checkUiComponentContext("any")),da.config({}),Ws.config({}),$s("elementPathEvents",[Ea((oe,fe)=>{s.shortcuts.add("alt+F11","focus statusbar elementpath",()=>os.focusIn(oe)),s.on("NodeChange",ve=>{const De=K(ve.parents),Ue=De.length>0?G(De):[];Ws.set(oe,Ue)})})])]),components:[]}};var Dy;(function(s){s[s.None=0]="None",s[s.Both=1]="Both",s[s.Vertical=2]="Vertical"})(Dy||(Dy={}));const FK=s=>{const l=co.fromDom(s.getContainer()),h=El(l),g=Ac(l);return{height:h,width:g}},Ghe=(s,l,h,g)=>({height:l2(g.height+l.top,xF(s),OF(s)),width:h===Dy.Both?l2(g.width+l.left,TF(s),pP(s)):g.width}),HK=(s,l,h)=>{const g=co.fromDom(s.getContainer()),E=FK(s),O=Ghe(s,l,h,E);return Ks(O,(R,G)=>{re(R)&&xs(g,G,ax(R))}),XH(s),O},qhe=s=>{const l=vW(s);return l===!1?Dy.None:l==="both"?Dy.Both:Dy.Vertical},$K=(s,l)=>l===Dy.Both?hc.translate(["Editor's height: {0} pixels, Editor's width: {1} pixels",s.height,s.width]):hc.translate(["Editor's height: {0} pixels",s.height]),jU=(s,l,h)=>{cs(s.element,"aria-valuetext",$K(l,h))},sL=(s,l,h,g,E)=>{const R=ci(g*20,E*20),G=HK(s,R,h);return jU(l,G,h),te.some(!0)},Zhe=(s,l)=>{const h=qhe(s);if(h===Dy.None)return te.none();const g=h===Dy.Both?hc.translate("Press the arrow keys to resize the editor."):hc.translate("Press the Up and Down arrow keys to resize the editor."),E=h===Dy.Both?"tox-statusbar__resize-cursor-both":"tox-statusbar__resize-cursor-default";return te.some(ag("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle",E],attributes:{"aria-label":l.translate(g),"data-mce-name":"resize-handle",role:"separator"},behaviours:[Vw.config({mode:"mouse",repositionTarget:!1,onDrag:(O,R,G)=>{const K=HK(s,G,h);jU(O,K,h)},blockerClass:"tox-blocker"}),os.config({mode:"special",onLeft:O=>sL(s,O,h,-1,0),onRight:O=>sL(s,O,h,1,0),onUp:O=>sL(s,O,h,0,-1),onDown:O=>sL(s,O,h,0,1)}),da.config({}),js.config({}),Da.config(l.tooltips.getConfig({tooltipText:l.translate("Resize")})),$s("set-aria-valuetext",[Ea(O=>{const R=()=>{jU(O,FK(s),h)};s._skinLoaded?R():s.once("SkinLoaded",R)})])],eventOrder:{[Jp()]:["add-focusable","set-aria-valuetext"]}},l.icons))},Khe=(s,l)=>{const h=(g,E,O)=>Ws.set(g,[ka(l.translate(["{0} "+O,E[O]]))]);return eh.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:oo([cg.button(l.isDisabled),Ma(()=>l.checkUiComponentContext("any")),da.config({}),Ws.config({}),Co.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),$s("wordcount-events",[m0(g=>{const E=Co.getValue(g),O=E.mode==="words"?"characters":"words";Co.setValue(g,{mode:O,count:E.count}),h(g,E.count,O)}),Ea(g=>{s.on("wordCountUpdate",E=>{const{mode:O}=Co.getValue(g);Co.setValue(g,{mode:O,count:E.wordCount}),h(g,E.wordCount,O)})})])]),eventOrder:{[uu()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},Yhe=(s,l)=>{const h=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":s.translate(["Build with {0}","TinyMCE"])},innerHtml:s.translate(["Build with {0}",VK.trim()])},behaviours:oo([js.config({})])}]}),g=()=>{const G=i_("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[ka(hc.translate(["Press {0} for help",G]))]}},E=()=>{const G=[];return s.hasPlugin("wordcount")&&G.push(Khe(s,l)),gP(s)&&G.push(h()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:G}},O=()=>{const G=[],K=CW(s),oe=gW(s),fe=gP(s)||s.hasPlugin("wordcount"),ve=()=>{const De="tox-statusbar__text-container--flex-start",Ue="tox-statusbar__text-container--flex-end",He="tox-statusbar__text-container--space-around";if(K){const nt="tox-statusbar__text-container-3-cols";return!fe&&!oe?[nt,He]:fe&&!oe?[nt,Ue]:[nt,De]}return[fe&&!oe?Ue:De]};return oe&&G.push(Whe(s,{},l)),K&&G.push(g()),fe&&G.push(E()),G.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...ve()]},components:G}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const G=O(),K=Zhe(s,l);return G.concat(K.toArray())})()}},rL=(s,l)=>l.get().getOrDie(`UI for ${s} has not been rendered`),Xhe=(s,l)=>{const h=s.inline,g=h?Jde:Zde,E=Y1(s)?PN:hue,O=Qde(),R=Ss(),G=Ss(),K=Ss(),De=Gi().deviceType.isTouch()?["tox-platform-touch"]:[],Ue=PF(s),He=Kw(s),nt=oi({dom:{tag:"div",classes:["tox-anchorbar"]}}),pt=oi({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),st=()=>O.mainUi.get().map(Qo=>Qo.outerContainer).bind(Xi.getHeader),yt=()=>zo.fromOption(O.dialogUi.get().map(Qo=>Qo.sink),"UI has not been rendered"),_t=()=>zo.fromOption(O.popupUi.get().map(Qo=>Qo.sink),"(popup) UI has not been rendered"),Qt=O.lazyGetInOuterOrDie("anchor bar",nt.getOpt),nn=O.lazyGetInOuterOrDie("bottom anchor bar",pt.getOpt),So=O.lazyGetInOuterOrDie("toolbar",Xi.getToolbar),Hn=O.lazyGetInOuterOrDie("throbber",Xi.getThrobber),Wn=rue({popup:_t,dialog:yt},s,Qt,nn),Bn=()=>{const Qo={attributes:{[$O]:Ue?Jv.BottomToTop:Jv.TopToBottom}},Qs=Xi.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Wn.popup,onEscape:()=>{s.focus()}}),pi=Xi.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Wn.popup.shared.getSink,providers:Wn.popup.shared.providers,onEscape:()=>{s.focus()},onToolbarToggled:vv=>{nG(s,vv)},type:He,lazyToolbar:So,lazyHeader:()=>st().getOrDie("Could not find header element"),...Qo}),si=Xi.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Wn.popup.shared.providers,onEscape:()=>{s.focus()},type:He}),rf=pR(s),_a=bP(s),Sd=vP(s),Lc=SW(s),Ff=ds(Lc),Ih=rf||_a||Sd,$l=()=>rf?[si]:_a?[pi]:[],My=[Ff,Qs];return Xi.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Ih?[]:["tox-editor-header--empty"]),...Qo},components:fn([Sd?My:[],$l(),PT(s)?[]:[nt.asSpec()]]),sticky:Y1(s),editor:s,sharedBackstage:Wn.popup.shared})},ds=Qo=>Xi.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]},promotionLink:Qo}),Zo=()=>{const Qo=Xi.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Qs=Xi.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Qo,Qs]}},kr=()=>{const Qo=NF(s),Qs=xe(Fd(),Qo)&&aa(Qo,"display")==="grid",pi={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(De),attributes:{...hc.isRtl()?{dir:"rtl"}:{}}},behaviours:oo([Th.config({useFixed:()=>E.isDocked(st)})])},si={dom:{styles:{width:document.body.clientWidth+"px"}},events:Ra([pn(d0(),Sd=>{xs(Sd.element,"width",document.body.clientWidth+"px")})])},rf=k(Jr(pi,Qs?si:{})),_a=OV(rf);return G.set(_a),{sink:rf,mothership:_a}},As=()=>{const Qo={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(De),attributes:{...hc.isRtl()?{dir:"rtl"}:{}}},behaviours:oo([Th.config({useFixed:()=>E.isDocked(st),getBounds:()=>l.getPopupSinkBounds()})])},Qs=k(Qo),pi=OV(Qs);return K.set(pi),{sink:Qs,mothership:pi}},Xs=()=>{const Qo=Bn(),Qs=Zo(),pi=Xi.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Wn.popup}),si=Xi.parts.viewWrapper({backstage:Wn.popup}),rf=DF(s)&&!h?te.some(Yhe(s,Wn.popup.shared.providers)):te.none(),_a=fn([Ue?[]:[Qo],h?[]:[Qs],Ue?[Qo]:[]]),Sd=Xi.parts.editorContainer({components:fn([_a,h?[]:[pt.asSpec()]])}),Lc=mR(s),Ff={role:"application",...hc.isRtl()?{dir:"rtl"}:{},...Lc?{"aria-hidden":"true"}:{}},Ih=k(Xi.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(h?["tox-tinymce-inline"]:[]).concat(Ue?["tox-tinymce--toolbar-bottom"]:[]).concat(De),styles:{visibility:"hidden",...Lc?{opacity:"0",border:"0"}:{}},attributes:Ff},components:[Sd,...h?[]:[si,...rf.toArray()],pi],behaviours:oo([Ma(()=>Wn.popup.shared.providers.checkUiComponentContext("any")),Jo.config({disableClass:"tox-tinymce--disabled"}),os.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),$l=OV(Ih);return R.set($l),{mothership:$l,outerContainer:Ih}},Wo=Qo=>{const Qs=ax(KZ(s)),pi=ax(XZ(s));return s.inline||(Pv("div","width",pi)&&xs(Qo.element,"width",pi),Pv("div","height",Qs)?xs(Qo.element,"height",Qs):xs(Qo.element,"height","400px")),Qs},Nn=Qo=>{s.addShortcut("alt+F9","focus menubar",()=>{Xi.focusMenubar(Qo)}),s.addShortcut("alt+F10","focus toolbar",()=>{Xi.focusToolbar(Qo)}),s.addCommand("ToggleToolbarDrawer",(Qs,pi,si)=>{pi!=null&&pi.skipFocus?(lue("skipFocus"),Xi.toggleToolbarDrawerWithoutFocusing(Qo)):si!=null&&si.skip_focus?Xi.toggleToolbarDrawerWithoutFocusing(Qo):Xi.toggleToolbarDrawer(Qo)}),s.addQueryStateHandler("ToggleToolbarDrawer",()=>Xi.isToolbarDrawerToggled(Qo)),s.on("blur",()=>{Kw(s)===rg.floating&&Xi.isToolbarDrawerToggled(Qo)&&Xi.toggleToolbarDrawerWithoutFocusing(Qo)})},fo=Qo=>{const{mainUi:Qs,popupUi:pi,uiMotherships:si}=Qo;Ls(iW(s),(iS,g2)=>{s.ui.registry.addGroupToolbarButton(g2,iS)});const{buttons:rf,menuItems:_a,contextToolbars:Sd,sidebars:Lc,views:Ff}=s.ui.registry.getAll(),Ih=yP(s),$l={menuItems:_a,menus:gR(s),menubar:cW(s),toolbar:Ih.getOrThunk(()=>mP(s)),allowToolbarGroups:He===rg.floating,buttons:rf,sidebar:Lc,views:Ff};Nn(Qs.outerContainer),cue(s,Qs.mothership,si),E.setup(s,Wn.popup.shared,st),yK(s,Wn.popup),v_(s,Wn.popup.shared.getSink,Wn.popup),NN(s),xue(s,Hn,Wn.popup.shared),fK(s,Sd,pi.sink,{backstage:Wn.popup}),zhe(s,pi.sink);const My=s.getElement(),vv=Wo(Qs.outerContainer),b_={targetNode:My,height:vv};return g.render(s,Qo,$l,Wn.popup,b_)},Is=Qo=>(K.set(Qo.mothership),Qo),er=()=>{const Qo=Xs(),Qs=kr(),pi=LC(s)?As():Is(Qs);O.dialogUi.set(Qs),O.popupUi.set(pi),O.mainUi.set(Qo);const si={popupUi:pi,dialogUi:Qs,mainUi:Qo,uiMotherships:O.getUiMotherships()};return fo(si)};return{popups:{backstage:Wn.popup,getMothership:()=>rL("popups",K)},dialogs:{backstage:Wn.dialog,getMothership:()=>rL("dialogs",G)},renderUI:er}},UK=s=>{const l=[],h={};return Ks(s,(g,E)=>{g.fold(()=>{l.push(E)},O=>{h[E]=O})}),l.length>0?zo.error(l):zo.value(h)},Jhe=(s,l,h,g)=>{const E=oi(Ep.sketch(O=>({dom:{tag:"div",classes:["tox-form"].concat(s.classes)},components:qt(s.items,R=>Dq(O,R,l,h,g))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[E.asSpec()]}],behaviours:oo([os.config({mode:"acyclic",useTabstopAt:Ve(UR)}),Sb.memento(E),zle(E,{postprocess:O=>UK(O).fold(R=>(console.error(R),{}),Ie)}),$s("dialog-body-panel",[pn(If(),(O,R)=>{O.getSystem().broadcastOn([yN],{newFocus:te.some(R.event.target)})})])])}},Qhe=(s,l,h)=>qt(s,(g,E)=>{Ws.set(h,s[E].view());const O=l.dom.getBoundingClientRect();return Ws.set(h,[]),O.height}),efe=s=>$t(On(s,(l,h)=>l>h?-1:l<h?1:0)),tfe=(s,l,h)=>{const g=An(s).dom,E=Kh(s,".tox-dialog-wrap").getOr(s),O=aa(E,"position")==="fixed";let R;O?R=Math.max(g.clientHeight,window.innerHeight):R=Math.max(g.offsetHeight,g.scrollHeight);const G=El(l),oe=l.dom.offsetLeft>=h.dom.offsetLeft+Ac(h)?Math.max(El(h),G):G,fe=parseInt(aa(s,"margin-top"),10)||0,ve=parseInt(aa(s,"margin-bottom"),10)||0,Ue=El(s)+fe+ve-oe;return R-Ue},nfe=(s,l)=>{$t(s).each(h=>Zw.showTab(l,h.value))},zK=(s,l)=>{xs(s,"height",l+"px"),xs(s,"flex-basis",l+"px")},p2=(s,l,h)=>{Kh(s,'[role="dialog"]').each(g=>{ui(g,'[role="tablist"]').each(E=>{h.get().map(O=>(xs(l,"height","0"),xs(l,"flex-basis","0"),Math.min(O,tfe(g,l,E)))).each(O=>{zK(l,O)})})})},iL=s=>ui(s,'[role="tabpanel"]'),ofe=s=>{const l=Ss();return{extraEvents:[Ea(E=>{const O=E.element;iL(O).each(R=>{xs(R,"visibility","hidden"),E.getSystem().getByDom(R).toOptional().each(G=>{const K=Qhe(s,R,G);efe(K).fold(l.clear,l.set)}),p2(O,R,l),Er(R,"visibility"),nfe(s,E),requestAnimationFrame(()=>{p2(O,R,l)})})}),pn(d0(),E=>{const O=E.element;iL(O).each(R=>{p2(O,R,l)})}),pn(b$,(E,O)=>{const R=E.element;iL(R).each(G=>{const K=Yl(oa(G));xs(G,"visibility","hidden");const oe=ma(G,"height").map(De=>parseInt(De,10));Er(G,"height"),Er(G,"flex-basis");const fe=G.dom.getBoundingClientRect().height;oe.forall(De=>fe>De)?(l.set(fe),p2(R,G,l)):oe.each(De=>{zK(G,De)}),Er(G,"visibility"),K.each(ra)})})],selectFirst:!1}},ux="send-data-to-section",jK="send-data-to-view",sfe=(s,l,h,g)=>{const E=$n({}),O=fe=>{const ve=Co.getValue(fe),De=UK(ve).getOr({}),Ue=E.get(),He=Jr(Ue,De);E.set(He)},R=fe=>{const ve=E.get();Co.setValue(fe,ve)},G=$n(null),K=qt(s.tabs,fe=>({value:fe.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[ka(h.shared.providers.translate(fe.title))],view:()=>[Ep.sketch(ve=>({dom:{tag:"div",classes:["tox-form"]},components:qt(fe.items,De=>Dq(ve,De,l,h,g)),formBehaviours:oo([os.config({mode:"acyclic",useTabstopAt:Ve(UR)}),$s("TabView.form.events",[Ea(R),tv(O)]),um.config({channels:Wv([{key:ux,value:{onReceive:O}},{key:jK,value:{onReceive:R}}])})])}))]})),oe=ofe(K);return Zw.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(fe,ve,De)=>{const Ue=Co.getValue(ve);ms(fe,v$,{name:Ue,oldName:G.get()}),G.set(Ue)},tabs:K,components:[Zw.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[lP.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:oo([da.config({})])}),Zw.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:oe.selectFirst,tabSectionBehaviours:oo([$s("tabpanel",oe.extraEvents),os.config({mode:"acyclic"}),yn.config({find:fe=>$t(Zw.getViewItems(fe))}),f_(te.none(),fe=>(fe.getSystem().broadcastOn([ux],{}),E.get()),(fe,ve)=>{E.set(ve),fe.getSystem().broadcastOn([jK],{})})])})},aL=(s,l,h,g,E,O)=>{const R=oe=>{const fe=oe.body;switch(fe.type){case"tabpanel":return[sfe(fe,oe.initialData,g,O)];default:return[Jhe(fe,oe.initialData,g,O)]}},G=(oe,fe)=>te.some({isTabPanel:()=>fe.body.type==="tabpanel"}),K={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...h.map(oe=>({id:oe})).getOr({}),...E?K:{}}},components:[],behaviours:oo([Sb.childAt(0),dm.config({channel:`${x$}-${l}`,updateState:G,renderComponents:R,initialData:s})])}},rfe=(s,l,h,g,E,O)=>aL(s,l,te.some(h),g,E,O),ife=(s,l,h,g)=>{const E=aL(s,l,te.none(),h,!1,g);return qc.parts.body(E)},afe=s=>{const l={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[GG(te.none(),{dom:{tag:"iframe",attributes:{src:s.url}},behaviours:oo([da.config({}),js.config({})])})]}],behaviours:oo([os.config({mode:"acyclic",useTabstopAt:Ve(UR)})])};return qc.parts.body(l)},lfe=MT.deviceType.isTouch(),WK=(s,l)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[s,l]}),GK=(s,l)=>qc.parts.close(eh.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":l.translate("Close")}},action:s,buttonBehaviours:oo([da.config({})])})),qK=()=>qc.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),ZK=(s,l)=>qc.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:A0(`<p>${ZF(l.translate(s))}</p>`)}]}]}),KK=s=>qc.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:s}),YK=(s,l)=>[ub.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:s}),ub.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:l})],WU=s=>{const l="tox-dialog",h=l+"-wrap",g=h+"__backdrop",E=l+"__disable-scroll";return qc.sketch({lazySink:s.lazySink,onEscape:O=>(s.onEscape(O),te.some(!0)),useTabstopAt:O=>!UR(O),firstTabstop:s.firstTabstop,dom:{tag:"div",classes:[l].concat(s.extraClasses),styles:{position:"relative",...s.extraStyles}},components:[s.header,s.body,...s.footer.toArray()],parts:{blocker:{dom:A0(`<div class="${h}"></div>`),components:[{dom:{tag:"div",classes:lfe?[g,g+"--opaque"]:[g]}}]}},dragBlockClass:h,modalBehaviours:oo([js.config({}),$s("dialog-events",s.dialogEvents.concat([O1(If(),(O,R)=>{Vn.isBlocked(O)?ie():os.focusIn(O)}),pn(dy(),(O,R)=>{O.getSystem().broadcastOn([yN],{newFocus:R.event.newFocus})})])),$s("scroll-lock",[Ea(()=>{Ii(Fd(),E)}),tv(()=>{vi(Fd(),E)})]),...s.extraBehaviours]),eventOrder:{[uu()]:["dialog-events"],[Jp()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[qg()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...s.eventOrder}})},XK=s=>eh.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:oo([da.config({}),Da.config(s.tooltips.getConfig({tooltipText:s.translate("Close")}))]),components:[ag("close",{tag:"span",classes:["tox-icon"]},s.icons)],action:l=>{wr(l,YC)}}),JK=(s,l,h,g)=>{const E=O=>[ka(g.translate(O.title))];return{dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...h.map(O=>({id:O})).getOr({})}},components:[],behaviours:oo([dm.config({channel:`${ZG}-${l}`,initialData:s,renderComponents:E})])}},QK=()=>({dom:A0('<div class="tox-dialog__draghandle"></div>')}),cfe=(s,l,h,g)=>ub.sketch({dom:A0('<div class="tox-dialog__header"></div>'),components:[JK(s,l,te.some(h),g),QK(),XK(g)],containerBehaviours:oo([Vw.config({mode:"mouse",blockerClass:"blocker",getTarget:E=>vl(E,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"},onDrag:(E,O)=>{E.getSystem().broadcastOn([yd()],{target:O})}})])}),ufe=(s,l,h)=>{const g=qc.parts.title(JK(s,l,te.none(),h)),E=qc.parts.draghandle(QK()),O=qc.parts.close(XK(h)),R=[g].concat(s.draggable?[E]:[]).concat([O]);return ub.sketch({dom:A0('<div class="tox-dialog__header"></div>'),components:R})},eY=(s,l,h)=>ufe({title:h.shared.providers.translate(s),draggable:h.dialog.isDraggableModal()},l,h.shared.providers),m2=(s,l,h,g)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":h.translate(s)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${g.getOr(0)}px`,position:"absolute"}},behaviours:l,components:[{dom:A0('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),tY=(s,l,h)=>({onClose:()=>h.closeWindow(),onBlock:g=>{const E=ui(s().element,".tox-dialog__header").map(O=>El(O));qc.setBusy(s(),(O,R)=>m2(g.message,R,l,E))},onUnblock:()=>{qc.setIdle(s())}}),nY="tox-dialog--fullscreen",GU="tox-dialog--width-lg",qU="tox-dialog--width-md",lL=s=>{switch(s){case"large":return te.some(GU);case"medium":return te.some(qU);default:return te.none()}},oY=(s,l)=>{const h=co.fromDom(l.element.dom);qa(h,nY)||(Pc(h,[GU,qU]),lL(s).each(g=>Ii(h,g)))},ZU=(s,l)=>{const h=co.fromDom(s.element.dom),g=c1(h),E=zt(g,O=>O===GU||O===qU).or(lL(l));Lu(h,[nY,...E.toArray()])},sY=(s,l,h)=>k(WU({...s,firstTabstop:1,lazySink:h.shared.getSink,extraBehaviours:[mN({}),...s.extraBehaviours],onEscape:g=>{wr(g,YC)},dialogEvents:l,eventOrder:{[Yp()]:[dm.name(),um.name()],[Jp()]:["scroll-lock",dm.name(),"messages","dialog-events","alloy.base.behaviour"],[qg()]:["alloy.base.behaviour","dialog-events","messages",dm.name(),"scroll-lock"]}})),KU=(s,l={})=>{const h=g=>{const E=qt(g.items,O=>{const R=cn(l,O.name).getOr($n(!1));return{...O,storage:R}});return{...g,items:E}};return qt(s,g=>g.type==="menu"?h(g):g)},rY=s=>xn(s,(l,h)=>h.type==="menu"?xn(h.items,(E,O)=>(E[O.name]=O.storage,E),l):l,{}),iY=(s,l)=>[T1(If(),ece),s(KT,(h,g,E,O)=>{qh(O.element)&&Yl(oa(O.element)).each(mr),l.onClose(),g.onClose()}),s(YC,(h,g,E,O)=>{g.onCancel(h),wr(O,KT)}),pn(FR,(h,g)=>l.onUnblock()),pn(g$,(h,g)=>l.onBlock(g.event))],dfe=(s,l)=>{const h=(E,O)=>pn(E,(R,G)=>{g(R,(K,oe)=>{O(s(),K,G.event,R)})}),g=(E,O)=>{dm.getState(E).get().each(R=>{O(R,E)})};return[...iY(h,l),h(Iy,(E,O,R)=>{O.onAction(E,{name:R.name})})]},cL=(s,l,h)=>{const g=(O,R)=>pn(O,(G,K)=>{E(G,(oe,fe)=>{R(s(),oe,K.event,G)})}),E=(O,R)=>{dm.getState(O).get().each(G=>{R(G.internalDialog,O)})};return[...iY(g,l),g(VR,(O,R)=>R.onSubmit(O)),g(nh,(O,R,G)=>{R.onChange(O,{name:G.name})}),g(Iy,(O,R,G,K)=>{const oe=()=>K.getSystem().isConnected()?os.focusIn(K):void 0,fe=Ue=>Ll(Ue,"disabled")||rr(Ue,"aria-disabled").exists(He=>He==="true"),ve=oa(K.element),De=Yl(ve);R.onAction(O,{name:G.name,value:G.value}),Yl(ve).fold(oe,Ue=>{fe(Ue)||De.exists(He=>Pe(Ue,He)&&fe(He))?oe():h().toOptional().filter(He=>!Pe(He.element,Ue)).each(oe)})}),g(v$,(O,R,G)=>{R.onTabChange(O,{newTabName:G.name,oldTabName:G.oldName})}),tv(O=>{const R=s();Co.setValue(O,R.getData())})]},aY=(s,l)=>ZR(s,s.type,l),hfe=(s,l,h)=>zt(l,g=>g.name===h).bind(g=>g.memento.getOpt(s)),ffe=(s,l)=>{const h=l.map(G=>G.footerButtons).getOr([]),g=vr(h,G=>G.align==="start"),E=(G,K)=>ub.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${G}`]},components:qt(K,oe=>oe.memento.asSpec())}),O=E("start",g.pass),R=E("end",g.fail);return[O,R]},lY=(s,l,h)=>{const g=(E,O)=>{const R=qt(O.buttons,K=>{const oe=oi(aY(K,h));return{name:K.name,align:K.align,memento:oe}}),G=K=>hfe(E,R,K);return te.some({lookupByName:G,footerButtons:R})};return{dom:A0('<div class="tox-dialog__footer"></div>'),components:[],behaviours:oo([dm.config({channel:`${KG}-${l}`,initialData:s,updateState:g,renderComponents:ffe})])}},pfe=(s,l,h)=>lY(s,l,h),cY=(s,l,h)=>qc.parts.footer(lY(s,l,h)),uL=(s,l)=>{if(s.getRoot().getSystem().isConnected()){const g=yn.getCurrent(s.getFormWrapper()).getOr(s.getFormWrapper());return Ep.getField(g,l).orThunk(()=>s.getFooter().bind(R=>dm.getState(R).get()).bind(R=>R.lookupByName(l)))}else return te.none()},mfe=(s,l)=>{const h=s.getRoot();return dm.getState(h).get().map(g=>mp(Na("data",g.dataValidator,l))).getOr(l)},uY=(s,l,h)=>{const g=He=>{const nt=s.getRoot();nt.getSystem().isConnected()&&He(nt)},Ue={getData:()=>{const He=s.getRoot(),nt=He.getSystem().isConnected()?s.getFormWrapper():He,pt=Co.getValue(nt),st=Ls(h,yt=>yt.get());return{...pt,...st}},setData:He=>{g(nt=>{const pt=Ue.getData(),st=Jr(pt,He),yt=mfe(s,st),_t=s.getFormWrapper();Co.setValue(_t,yt),Ks(h,(Qt,nn)=>{ro(st,nn)&&Qt.set(st[nn])})})},setEnabled:(He,nt)=>{uL(s,He).each(nt?Jo.enable:Jo.disable)},focus:He=>{uL(s,He).each(js.focus)},block:He=>{if(!v(He))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");g(nt=>{ms(nt,g$,{message:He})})},unblock:()=>{g(He=>{wr(He,FR)})},showTab:He=>{g(nt=>{const pt=s.getBody();dm.getState(pt).get().exists(yt=>yt.isTabPanel())&&yn.getCurrent(pt).each(yt=>{Zw.showTab(yt,He)})})},redial:He=>{g(nt=>{const pt=s.getId(),st=l(He),yt=KU(st.internalDialog.buttons,h);nt.getSystem().broadcastOn([`${bN}-${pt}`],st),nt.getSystem().broadcastOn([`${ZG}-${pt}`],st.internalDialog),nt.getSystem().broadcastOn([`${x$}-${pt}`],st.internalDialog),nt.getSystem().broadcastOn([`${KG}-${pt}`],{...st.internalDialog,buttons:yt}),Ue.setData(st.initialData)})},close:()=>{g(He=>{wr(He,KT)})},toggleFullscreen:s.toggleFullscreen};return Ue},gfe=(s,l,h)=>{const g=yo("dialog"),E=s.internalDialog,O=eY(E.title,g,h),R=$n(E.size),G=_t=>uL(st,_t),K=lL(R.get()).toArray(),oe=(_t,Qt)=>(R.set(Qt.internalDialog.size),oY(Qt.internalDialog.size,_t),te.some(Qt)),fe=ife({body:E.body,initialData:E.initialData},g,h,G),ve=KU(E.buttons),De=rY(ve),Ue=rl(ve.length!==0,cY({buttons:ve},g,h)),He=cL(()=>yt,tY(()=>pt,h.shared.providers,l),h.shared.getSink),nt={id:g,header:O,body:fe,footer:Ue,extraClasses:K,extraBehaviours:[dm.config({channel:`${bN}-${g}`,updateState:oe,initialData:s})],extraStyles:{}},pt=sY(nt,He,h),st=(()=>{const _t=()=>{const nn=qc.getBody(pt);return yn.getCurrent(nn).getOr(nn)},Qt=()=>{ZU(pt,R.get())};return{getId:F(g),getRoot:F(pt),getBody:()=>qc.getBody(pt),getFooter:()=>qc.getFooter(pt),getFormWrapper:_t,toggleFullscreen:Qt}})(),yt=uY(st,l.redial,De);return{dialog:pt,instanceApi:yt}},dY=(s,l,h,g=!1,E)=>{const O=yo("dialog"),R=yo("dialog-label"),G=yo("dialog-content"),K=s.internalDialog,oe=Bn=>uL(Hn,Bn),fe=$n(K.size),ve=lL(fe.get()).toArray(),De=(Bn,ds)=>(fe.set(ds.internalDialog.size),oY(ds.internalDialog.size,Bn),E(),te.some(ds)),Ue=oi(cfe({title:K.title,draggable:!0},O,R,h.shared.providers)),He=oi(rfe({body:K.body,initialData:K.initialData},O,G,h,g,oe)),nt=KU(K.buttons),pt=rY(nt),st=rl(nt.length!==0,oi(pfe({buttons:nt},O,h))),yt=cL(()=>Wn,{onBlock:Bn=>{Vn.block(nn,(ds,Zo)=>{const kr=Ue.getOpt(nn).map(As=>El(As.element));return m2(Bn.message,Zo,h.shared.providers,kr)})},onUnblock:()=>{Vn.unblock(nn)},onClose:()=>l.closeWindow()},h.shared.getSink),_t="tox-dialog-inline",Qt=Gi().os,nn=k({dom:{tag:"div",classes:["tox-dialog",_t,...ve],attributes:{role:"dialog",...Qt.isMacOS()?{"aria-label":K.title}:{"aria-labelledby":R}}},eventOrder:{[Yp()]:[dm.name(),um.name()],[uu()]:["execute-on-form"],[Jp()]:["reflecting","execute-on-form"]},behaviours:oo([os.config({mode:"cyclic",onEscape:Bn=>(wr(Bn,KT),te.some(!0)),useTabstopAt:Bn=>!UR(Bn)&&(su(Bn)!=="button"||pl(Bn,"disabled")!=="disabled"),firstTabstop:1}),dm.config({channel:`${bN}-${O}`,updateState:De,initialData:s}),js.config({}),$s("execute-on-form",yt.concat([O1(If(),(Bn,ds)=>{os.focusIn(Bn)}),pn(dy(),(Bn,ds)=>{Bn.getSystem().broadcastOn([yN],{newFocus:ds.event.newFocus})})])),Vn.config({getRoot:()=>te.some(nn)}),Ws.config({}),mN({})]),components:[Ue.asSpec(),He.asSpec(),...st.map(Bn=>Bn.asSpec()).toArray()]}),So=()=>{ZU(nn,fe.get())},Hn={getId:F(O),getRoot:F(nn),getFooter:()=>st.map(Bn=>Bn.get(nn)),getBody:()=>He.get(nn),getFormWrapper:()=>{const Bn=He.get(nn);return yn.getCurrent(Bn).getOr(Bn)},toggleFullscreen:So},Wn=uY(Hn,l.redial,pt);return{dialog:nn,instanceApi:Wn}};var YU=tinymce.util.Tools.resolve("tinymce.util.URI");const vfe=s=>{const l=R=>{s.getSystem().isConnected()&&R(s)};return{block:R=>{if(!v(R))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");l(G=>{ms(G,g$,{message:R})})},unblock:()=>{l(R=>{wr(R,FR)})},close:()=>{l(R=>{wr(R,KT)})},sendMessage:R=>{l(G=>{G.getSystem().broadcastOn([YG],R)})}}},bfe=["insertContent","setContent","execCommand","close","block","unblock"],hY=s=>S(s)&&bfe.indexOf(s.mceAction)!==-1,fY=s=>!hY(s)&&S(s)&&ro(s,"mceAction"),yfe=(s,l,h)=>{switch(h.mceAction){case"insertContent":s.insertContent(h.content);break;case"setContent":s.setContent(h.content);break;case"execCommand":const g=B(h.ui)?h.ui:!1;s.execCommand(h.cmd,g,h.value);break;case"close":l.close();break;case"block":l.block(h.message);break;case"unblock":l.unblock();break}},Sfe=(s,l,h,g)=>{const E=yo("dialog"),O=eY(s.title,E,g),R=afe(s),G=s.buttons.bind(_t=>_t.length===0?te.none():te.some(cY({buttons:_t},E,g))),K=dfe(()=>yt,tY(()=>st,g.shared.providers,l)),oe={...s.height.fold(()=>({}),_t=>({height:_t+"px","max-height":_t+"px"})),...s.width.fold(()=>({}),_t=>({width:_t+"px","max-width":_t+"px"}))},fe=s.width.isNone()&&s.height.isNone()?["tox-dialog--width-lg"]:[],ve=new YU(s.url,{base_uri:new YU(window.location.href)}),De=`${ve.protocol}://${ve.host}${ve.port?":"+ve.port:""}`,Ue=na(),He=(_t,Qt)=>te.some(Qt),nt=[dm.config({channel:`${bN}-${E}`,updateState:He,initialData:s}),$s("messages",[Ea(()=>{const _t=li(co.fromDom(window),"message",Qt=>{if(ve.isSameOrigin(new YU(Qt.raw.origin))){const nn=Qt.raw.data;hY(nn)?yfe(h,yt,nn):fY(nn)&&s.onMessage(yt,nn)}});Ue.set(_t)}),tv(Ue.clear)]),um.config({channels:{[YG]:{onReceive:(_t,Qt)=>{ui(_t.element,"iframe").each(nn=>{const So=nn.dom.contentWindow;W(So)&&So.postMessage(Qt,De)})}}}})],st=sY({id:E,header:O,body:R,footer:G,extraClasses:fe,extraBehaviours:nt,extraStyles:oe},K,g),yt=vfe(st);return{dialog:st,instanceApi:yt}},Cfe=s=>{const l=s.shared;return{open:(g,E)=>{const O=()=>{qc.hide(oe),E()},R=oi(ZR({context:"any",name:"close-alert",text:"OK",primary:!0,buttonType:te.some("primary"),align:"end",enabled:!0,icon:te.none()},"cancel",s)),G=qK(),K=GK(O,l.providers),oe=k(WU({lazySink:()=>l.getSink(),header:WK(G,K),body:ZK(g,l.providers),footer:te.some(KK(YK([],[R.asSpec()]))),onEscape:O,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[pn(YC,O)],eventOrder:{}}));qc.show(oe);const fe=R.get(oe);js.focus(fe)}}},Efe=s=>{const l=s.shared;return{open:(g,E)=>{const O=De=>{qc.hide(fe),E(De)},R=oi(ZR({context:"any",name:"yes",text:"Yes",primary:!0,buttonType:te.some("primary"),align:"end",enabled:!0,icon:te.none()},"submit",s)),G=ZR({context:"any",name:"no",text:"No",primary:!1,buttonType:te.some("secondary"),align:"end",enabled:!0,icon:te.none()},"cancel",s),K=qK(),oe=GK(()=>O(!1),l.providers),fe=k(WU({lazySink:()=>l.getSink(),header:WK(K,oe),body:ZK(g,l.providers),footer:te.some(KK(YK([],[G,R.asSpec()]))),onEscape:()=>O(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[pn(YC,()=>O(!1)),pn(VR,()=>O(!0))],eventOrder:{}}));qc.show(fe);const ve=R.get(fe);js.focus(ve)}}},pY=(s,l)=>mp(Na("data",l,s)),mY=s=>qb(s,".tox-alert-dialog")||qb(s,".tox-confirm-dialog"),wfe=(s,l,h,g)=>l&&h?[]:[Qa.config({contextual:{lazyContext:()=>te.some(Vl(co.fromDom(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition",onHide:g},modes:["top"],lazyViewport:E=>dv(s,E.element).map(R=>({bounds:BC(R),optScrollEnv:te.some({currentScrollTop:R.element.dom.scrollTop,scrollElmTop:Uc(R.element).top})})).getOrThunk(()=>({bounds:Fu(),optScrollEnv:te.none()}))})],_fe=s=>{const l=s.editor,h=Y1(l),g=Cfe(s.backstages.dialog),E=Efe(s.backstages.dialog),O=(He,nt,pt)=>{if(!U(nt)){if(nt.inline==="toolbar")return oe(He,s.backstages.popup.shared.anchors.inlineDialog(),pt,nt);if(nt.inline==="bottom")return fe(He,s.backstages.popup.shared.anchors.inlineBottomDialog(),pt,nt);if(nt.inline==="cursor")return oe(He,s.backstages.popup.shared.anchors.cursor(),pt,nt)}return K(He,pt)},R=(He,nt)=>G(He,nt),G=(He,nt)=>{const pt=st=>{const yt=Sfe(st,{closeWindow:()=>{qc.hide(yt.dialog),nt(yt.instanceApi)}},l,s.backstages.dialog);return qc.show(yt.dialog),yt.instanceApi};return WC.openUrl(pt,He)},K=(He,nt)=>{const pt=(st,yt,_t)=>{const Qt=yt,So=gfe({dataValidator:_t,initialData:Qt,internalDialog:st},{redial:WC.redial,closeWindow:()=>{qc.hide(So.dialog),nt(So.instanceApi)}},s.backstages.dialog);return qc.show(So.dialog),So.instanceApi.setData(Qt),So.instanceApi};return WC.open(pt,He)},oe=(He,nt,pt,st)=>{const yt=(_t,Qt,nn)=>{const So=pY(Qt,nn),Hn=Ss(),Wn=s.backstages.popup.shared.header.isPositionedAtTop(),Bn={dataValidator:nn,initialData:So,internalDialog:_t},ds=()=>Hn.on(Nn=>{el.reposition(Nn),(!h||!Wn)&&Qa.refresh(Nn)}),Zo=dY(Bn,{redial:WC.redial,closeWindow:()=>{Hn.on(el.hide),l.off("ResizeEditor",ds),l.off("ScrollWindow",kr),Hn.clear(),pt(Zo.instanceApi)}},s.backstages.popup,st.ariaAttrs,ds),kr=()=>Zo.dialog.getSystem().broadcastOn([yd()],{target:Zo.dialog.element}),As=()=>Zo.dialog.getSystem().broadcastOn([v0()],{target:Zo.dialog.element}),Xs=k(el.sketch({lazySink:s.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:st.persistent?{event:"doNotDismissYet"}:{},...Wn?{}:{fireRepositionEventInstead:{}},inlineBehaviours:oo([$s("window-manager-inline-events",[pn(Zg(),(Nn,fo)=>{wr(Zo.dialog,YC)})]),...wfe(l,h,Wn,As)]),isExtraPart:(Nn,fo)=>mY(fo)}));Hn.set(Xs);const Wo=()=>{const Nn=l.inline?Fd():co.fromDom(l.getContainer()),fo=Vl(Nn);return te.some(fo)};return el.showWithinBounds(Xs,z(Zo.dialog),{anchor:nt},Wo),(!h||!Wn)&&(Qa.refresh(Xs),l.on("ResizeEditor",ds)),l.on("ScrollWindow",kr),Zo.instanceApi.setData(So),os.focusIn(Zo.dialog),Zo.instanceApi};return WC.open(yt,He)},fe=(He,nt,pt,st)=>{const yt=(_t,Qt,nn)=>{const So=pY(Qt,nn),Hn=Ss(),Wn=s.backstages.popup.shared.header.isPositionedAtTop(),Bn={dataValidator:nn,initialData:So,internalDialog:_t},ds=()=>Hn.on(Xs=>{el.reposition(Xs),Qa.refresh(Xs)}),Zo=dY(Bn,{redial:WC.redial,closeWindow:()=>{Hn.on(el.hide),l.off("ResizeEditor ScrollWindow ElementScroll",ds),Hn.clear(),pt(Zo.instanceApi)}},s.backstages.popup,st.ariaAttrs,ds),kr=k(el.sketch({lazySink:s.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:st.persistent?{event:"doNotDismissYet"}:{},...Wn?{}:{fireRepositionEventInstead:{}},inlineBehaviours:oo([$s("window-manager-inline-events",[pn(Zg(),(Xs,Wo)=>{wr(Zo.dialog,YC)})]),Qa.config({contextual:{lazyContext:()=>te.some(Vl(co.fromDom(l.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:Xs=>dv(l,Xs.element).map(Nn=>({bounds:BC(Nn),optScrollEnv:te.some({currentScrollTop:Nn.element.dom.scrollTop,scrollElmTop:Uc(Nn.element).top})})).getOrThunk(()=>({bounds:Fu(),optScrollEnv:te.none()}))})]),isExtraPart:(Xs,Wo)=>mY(Wo)}));Hn.set(kr);const As=()=>s.backstages.popup.shared.getSink().toOptional().bind(Xs=>{const Wo=dv(l,Xs.element),Nn=15,fo=Wo.map(Qo=>BC(Qo)).getOr(Fu()),Is=Vl(co.fromDom(l.getContentAreaContainer())),er=$d(Is,fo);return te.some(Zr(er.x,er.y,er.width,er.height-Nn))});return el.showWithinBounds(kr,z(Zo.dialog),{anchor:nt},As),Qa.refresh(kr),l.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",ds),Zo.instanceApi.setData(So),os.focusIn(Zo.dialog),Zo.instanceApi};return WC.open(yt,He)};return{open:O,openUrl:R,alert:(He,nt)=>{g.open(He,nt)},close:He=>{He.close()},confirm:(He,nt)=>{E.open(He,nt)}}},gY=s=>{hP(s),cle(s),Ohe(s)};var vY=()=>{fre.add("silver",s=>{gY(s);let l=()=>Fu();const{dialogs:h,popups:g,renderUI:E}=Xhe(s,{getPopupSinkBounds:()=>l()}),O=()=>{const fe=E();return dv(s,g.getMothership().element).each(De=>{l=()=>BC(De)}),fe};MG.register(s,g.backstage.shared);const R=_fe({editor:s,backstages:{popup:g.backstage,dialog:h.backstage}}),G=Ss(),K=()=>Bre(s,{backstage:g.backstage},g.getMothership(),G),oe=()=>ui(co.fromDom(s.getContainer()),".tox-promotion").map(fe=>fe.dom).getOrNull();return{renderUI:O,getWindowManagerImpl:F(R),getNotificationManagerImpl:K,getPromotionElement:oe}})};vY()})()),eIe}var nIe;function GYe(){return nIe||(nIe=1,WYe()),QOe}GYe();var oIe={},sIe;function qYe(){return sIe||(sIe=1,(function(){var e=tinymce.util.Tools.resolve("tinymce.ModelManager");const n=(b,w,k)=>{var z;return k(b,w.prototype)?!0:((z=b.constructor)===null||z===void 0?void 0:z.name)===w.name},o=b=>{const w=typeof b;return b===null?"null":w==="object"&&Array.isArray(b)?"array":w==="object"&&n(b,String,(k,z)=>z.isPrototypeOf(k))?"string":w},i=b=>w=>o(w)===b,c=b=>w=>typeof w===b,d=b=>w=>b===w,p=i("string"),v=i("object"),S=i("array"),T=d(null),x=c("boolean"),P=d(void 0),B=b=>b==null,U=b=>!B(b),j=c("function"),W=c("number"),Z=()=>{},re=(b,w)=>(...k)=>b(w.apply(null,k)),le=(b,w)=>k=>b(w(k)),ie=b=>()=>b,be=b=>b,Ce=(b,w)=>b===w;function Ae(b,...w){return(...k)=>{const z=w.concat(k);return b.apply(null,z)}}const F=b=>w=>!b(w),Ie=b=>()=>{throw new Error(b)},tt=b=>b(),Xe=ie(!1),Ve=ie(!0);class Re{constructor(w,k){this.tag=w,this.value=k}static some(w){return new Re(!0,w)}static none(){return Re.singletonNone}fold(w,k){return this.tag?k(this.value):w()}isSome(){return this.tag}isNone(){return!this.tag}map(w){return this.tag?Re.some(w(this.value)):Re.none()}bind(w){return this.tag?w(this.value):Re.none()}exists(w){return this.tag&&w(this.value)}forall(w){return!this.tag||w(this.value)}filter(w){return!this.tag||w(this.value)?this:Re.none()}getOr(w){return this.tag?this.value:w}or(w){return this.tag?this:w}getOrThunk(w){return this.tag?this.value:w()}orThunk(w){return this.tag?this:w()}getOrDie(w){if(this.tag)return this.value;throw new Error(w??"Called getOrDie on None")}static from(w){return U(w)?Re.some(w):Re.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(w){this.tag&&w(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Re.singletonNone=new Re(!1);const vt=Array.prototype.slice,mt=Array.prototype.indexOf,gt=Array.prototype.push,te=(b,w)=>mt.call(b,w),hn=(b,w)=>te(b,w)>-1,ot=(b,w)=>{for(let k=0,z=b.length;k<z;k++){const se=b[k];if(w(se,k))return!0}return!1},Rt=(b,w)=>{const k=[];for(let z=0;z<b;z++)k.push(w(z));return k},kt=(b,w)=>{const k=b.length,z=new Array(k);for(let se=0;se<k;se++){const pe=b[se];z[se]=w(pe,se)}return z},at=(b,w)=>{for(let k=0,z=b.length;k<z;k++){const se=b[k];w(se,k)}},Cn=(b,w)=>{for(let k=b.length-1;k>=0;k--){const z=b[k];w(z,k)}},Ro=(b,w)=>{const k=[],z=[];for(let se=0,pe=b.length;se<pe;se++){const Te=b[se];(w(Te,se)?k:z).push(Te)}return{pass:k,fail:z}},jn=(b,w)=>{const k=[];for(let z=0,se=b.length;z<se;z++){const pe=b[z];w(pe,z)&&k.push(pe)}return k},wo=(b,w,k)=>(Cn(b,(z,se)=>{k=w(k,z,se)}),k),qt=(b,w,k)=>(at(b,(z,se)=>{k=w(k,z,se)}),k),Tn=(b,w,k)=>{for(let z=0,se=b.length;z<se;z++){const pe=b[z];if(w(pe,z))return Re.some(pe);if(k(pe,z))break}return Re.none()},_e=(b,w)=>Tn(b,w,Xe),vr=(b,w)=>{for(let k=0,z=b.length;k<z;k++){const se=b[k];if(w(se,k))return Re.some(k)}return Re.none()},vs=b=>{const w=[];for(let k=0,z=b.length;k<z;++k){if(!S(b[k]))throw new Error("Arr.flatten item "+k+" was not an array, input: "+b);gt.apply(w,b[k])}return w},Ut=(b,w)=>vs(kt(b,w)),xn=(b,w)=>{for(let k=0,z=b.length;k<z;++k){const se=b[k];if(w(se,k)!==!0)return!1}return!0},vn=b=>{const w=vt.call(b,0);return w.reverse(),w},zt=(b,w)=>{const k={};for(let z=0,se=b.length;z<se;z++){const pe=b[z];k[String(pe)]=w(pe,z)}return k},wn=(b,w)=>{const k=vt.call(b,0);return k.sort(w),k},fn=(b,w)=>w>=0&&w<b.length?Re.some(b[w]):Re.none(),ct=b=>fn(b,0),Mt=b=>fn(b,b.length-1),Yt=(b,w)=>{for(let k=0;k<b.length;k++){const z=w(b[k],k);if(z.isSome())return z}return Re.none()},Ge=Object.keys,Lt=Object.hasOwnProperty,ln=(b,w)=>{const k=Ge(b);for(let z=0,se=k.length;z<se;z++){const pe=k[z],Te=b[pe];w(Te,pe)}},On=(b,w)=>Bt(b,(k,z)=>({k:z,v:w(k,z)})),Bt=(b,w)=>{const k={};return ln(b,(z,se)=>{const pe=w(z,se);k[pe.k]=pe.v}),k},$t=b=>(w,k)=>{b[k]=w},ls=(b,w,k,z)=>{ln(b,(se,pe)=>{(w(se,pe)?k:z)(se,pe)})},ks=(b,w)=>{const k={};return ls(b,w,$t(k),Z),k},Rs=(b,w)=>{const k=[];return ln(b,(z,se)=>{k.push(w(z,se))}),k},Ao=b=>Rs(b,be),sr=(b,w)=>Ks(b,w)?Re.from(b[w]):Re.none(),Ks=(b,w)=>Lt.call(b,w),Ls=(b,w)=>Ks(b,w)&&b[w]!==void 0&&b[w]!==null,Xo=b=>{for(const w in b)if(Lt.call(b,w))return!1;return!0},Vt={generate:b=>{if(!S(b))throw new Error("cases must be an array");if(b.length===0)throw new Error("there must be at least one case");const w=[],k={};return at(b,(z,se)=>{const pe=Ge(z);if(pe.length!==1)throw new Error("one and only one name per case");const Te=pe[0],Fe=z[Te];if(k[Te]!==void 0)throw new Error("duplicate key detected:"+Te);if(Te==="cata")throw new Error("cannot have a case named cata (sorry)");if(!S(Fe))throw new Error("case arguments must be an array");w.push(Te),k[Te]=(...Je)=>{const ft=Je.length;if(ft!==Fe.length)throw new Error("Wrong number of arguments to case "+Te+". Expected "+Fe.length+" ("+Fe+"), got "+ft);return{fold:(...Vn)=>{if(Vn.length!==b.length)throw new Error("Wrong number of arguments to fold. Expected "+b.length+", got "+Vn.length);return Vn[se].apply(null,Je)},match:Vn=>{const bo=Ge(Vn);if(w.length!==bo.length)throw new Error("Wrong number of arguments to match. Expected: "+w.join(",")+`
Actual: `+bo.join(","));if(!xn(w,is=>hn(bo,is)))throw new Error("Not all branches were specified when using match. Specified: "+bo.join(", ")+`
Required: `+w.join(", "));return Vn[Te].apply(null,Je)},log:Vn=>{console.log(Vn,{constructors:w,constructor:Te,params:Je})}}}}),k}},en=b=>{let w=b;return{get:()=>w,set:se=>{w=se}}},tn=b=>b.slice(0).sort(),to=(b,w)=>{throw new Error("All required keys ("+tn(b).join(", ")+") were not specified. Specified keys were: "+tn(w).join(", ")+".")},go=b=>{throw new Error("Unsupported keys for object: "+tn(b).join(", "))},To=(b,w)=>{if(!S(w))throw new Error("The "+b+" fields must be an array. Was: "+w+".");at(w,k=>{if(!p(k))throw new Error("The value "+k+" in the "+b+" fields was not a string.")})},cn=(b,w)=>{throw new Error("All values need to be of type: "+w+". Keys ("+tn(b).join(", ")+") were not.")},ro=b=>{const w=tn(b);_e(w,(z,se)=>se<w.length-1&&z===w[se+1]).each(z=>{throw new Error("The field: "+z+" occurs more than once in the combined fields: ["+w.join(", ")+"].")})},Xn=(b,w)=>fs(b,w,{validate:j,label:"function"}),fs=(b,w,k)=>{if(w.length===0)throw new Error("You must specify at least one required field.");return To("required",w),ro(w),z=>{const se=Ge(z);xn(w,Fe=>hn(se,Fe))||to(w,se),b(w,se);const Te=jn(w,Fe=>!k.validate(z[Fe],Fe));return Te.length>0&&cn(Te,k.label),z}},rs=(b,w)=>{const k=jn(w,z=>!hn(b,z));k.length>0&&go(k)},$n=b=>Xn(rs,b),gi=b=>{const w=pe=>pe(b),k=ie(b),z=()=>se,se={tag:!0,inner:b,fold:(pe,Te)=>Te(b),isValue:Ve,isError:Xe,map:pe=>fa.value(pe(b)),mapError:z,bind:w,exists:w,forall:w,getOr:k,or:z,getOrThunk:k,orThunk:z,getOrDie:k,each:pe=>{pe(b)},toOptional:()=>Re.some(b)};return se},ur=b=>{const w=()=>k,k={tag:!1,inner:b,fold:(z,se)=>z(b),isValue:Xe,isError:Ve,map:w,mapError:z=>fa.error(z(b)),bind:w,exists:Xe,forall:Ve,getOr:be,or:be,getOrThunk:tt,orThunk:tt,getOrDie:Ie(String(b)),each:Z,toOptional:Re.none};return k},fa={value:gi,error:ur,fromOption:(b,w)=>b.fold(()=>ur(w),gi)},ta=typeof window<"u"?window:Function("return this;")(),dr=b=>{const w=b.replace(/\./g,"-");return{resolve:z=>w+"-"+z}},jo=(b,w,k=Ce)=>b.exists(z=>k(z,w)),Vs=b=>{const w=[],k=z=>{w.push(z)};for(let z=0;z<b.length;z++)b[z].each(k);return w},bc=(b,w)=>b!=null?w(b):Re.none(),Vc=(b,w)=>b?Re.some(w):Re.none(),td=(b,w)=>{let k=w??ta;for(let z=0;z<b.length&&k!==void 0&&k!==null;++z)k=k[b[z]];return k},zo=(b,w)=>{const k=b.split(".");return td(k,w)},tc=b=>{const w=en(Re.none()),k=()=>w.get().each(b);return{clear:()=>{k(),w.set(Re.none())},isSet:()=>w.get().isSome(),get:()=>w.get(),set:Fe=>{k(),w.set(Re.some(Fe))}}},sl=()=>{const b=tc(Z);return{...b,on:k=>b.get().each(k)}},ep=(b,w)=>b.substring(w),Wl=(b,w,k)=>w===""||b.length>=w.length&&b.substr(k,k+w.length)===w,kd=(b,w)=>Ia(b,w)?ep(b,w.length):b,Ur=(b,w,k=0,z)=>{const se=b.indexOf(w,k);return se!==-1?P(z)?!0:se+w.length<=z:!1},Ia=(b,w)=>Wl(b,w,0),Dd=(b,w)=>Wl(b,w,b.length-w.length),Qc=(b=>w=>w.replace(b,""))(/^\s+|\s+$/g),dl=b=>b.length>0,od=b=>{const w=parseFloat(b);return isNaN(w)?Re.none():Re.some(w)},Md=(b,w)=>{let k=null;const z=()=>{T(k)||(clearTimeout(k),k=null)};return{cancel:z,throttle:(...pe)=>{z(),k=setTimeout(()=>{k=null,b.apply(null,pe)},w)}}},yo=b=>{let w=!1,k;return(...z)=>(w||(w=!0,k=b.apply(null,z)),k)},tp=" ",uh=["tfoot","thead","tbody","colgroup"],Vh=b=>hn(uh,b),Jr=(b,w)=>({rows:b,columns:w}),Fh=(b,w)=>({row:b,column:w}),Fc=(b,w,k)=>({element:b,rowspan:w,colspan:k}),Ar=(b,w,k,z)=>({element:b,rowspan:w,colspan:k,isNew:z}),xu=(b,w,k,z,se,pe)=>({element:b,rowspan:w,colspan:k,row:z,column:se,isLocked:pe}),dh=(b,w,k)=>({element:b,cells:w,section:k}),Rc=(b,w,k,z)=>({element:b,cells:w,section:k,isNew:z}),Vi=(b,w,k)=>({element:b,isNew:w,isLocked:k}),yc=(b,w,k,z)=>({element:b,cells:w,section:k,isNew:z}),rl=(b,w,k,z)=>({startRow:b,startCol:w,finishRow:k,finishCol:z}),Lp=(b,w,k)=>({element:b,colspan:w,column:k}),km=(b,w)=>({element:b,columns:w}),kc=(b,w,k)=>{const z=b.cells,se=z.slice(0,w),pe=z.slice(w),Te=se.concat(k).concat(pe);return Hh(b,Te)},eu=(b,w,k)=>kc(b,w,[k]),Ou=(b,w,k)=>{const z=b.cells;z[w]=k},Hh=(b,w)=>yc(b.element,w,b.section,b.isNew),na=(b,w)=>{const k=b.cells,z=kt(k,w);return yc(b.element,z,b.section,b.isNew)},Ss=(b,w)=>b.cells[w],Wi=(b,w)=>Ss(b,w).element,kl=b=>b.cells.length,Lr=b=>{const w=Ro(b,k=>k.section==="colgroup");return{rows:w.fail,cols:w.pass}},hh=(b,w,k)=>{const z=kt(b.cells,k);return yc(w(b.element),z,b.section,!0)},np=(b,w)=>{const z=(w||document).createElement("div");if(z.innerHTML=b,!z.hasChildNodes()||z.childNodes.length>1){const se="HTML does not have a single root node";throw console.error(se,b),new Error(se)}return Hc(z.childNodes[0])},wi=(b,w)=>{const z=(w||document).createElement(b);return Hc(z)},Sc=(b,w)=>{const z=(w||document).createTextNode(b);return Hc(z)},Hc=b=>{if(b==null)throw new Error("Node cannot be null or undefined");return{dom:b}},vo={fromHtml:np,fromTag:wi,fromText:Sc,fromDom:Hc,fromPoint:(b,w,k)=>Re.from(b.dom.elementFromPoint(w,k)).map(Hc)},Iu=(b,w)=>{const k=b.document.createRange();return k.selectNode(w.dom),k},Dl=(b,w)=>{const k=b.document.createRange();return Cc(k,w),k},Cc=(b,w)=>b.selectNodeContents(w.dom),Bi=(b,w)=>{w.fold(k=>{b.setStartBefore(k.dom)},(k,z)=>{b.setStart(k.dom,z)},k=>{b.setStartAfter(k.dom)})},Dm=(b,w)=>{w.fold(k=>{b.setEndBefore(k.dom)},(k,z)=>{b.setEnd(k.dom,z)},k=>{b.setEndAfter(k.dom)})},Gl=(b,w,k)=>{const z=b.document.createRange();return Bi(z,w),Dm(z,k),z},tu=(b,w,k,z,se)=>{const pe=b.document.createRange();return pe.setStart(w.dom,k),pe.setEnd(z.dom,se),pe},op=b=>({left:b.left,top:b.top,right:b.right,bottom:b.bottom,width:b.width,height:b.height}),mf=b=>{const w=b.getClientRects(),k=w.length>0?w[0]:b.getBoundingClientRect();return k.width>0||k.height>0?Re.some(k).map(op):Re.none()},sd=Vt.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),sp=(b,w,k)=>w(vo.fromDom(k.startContainer),k.startOffset,vo.fromDom(k.endContainer),k.endOffset),Pd=(b,w)=>w.match({domRange:k=>({ltr:ie(k),rtl:Re.none}),relative:(k,z)=>({ltr:yo(()=>Gl(b,k,z)),rtl:yo(()=>Re.some(Gl(b,z,k)))}),exact:(k,z,se,pe)=>({ltr:yo(()=>tu(b,k,z,se,pe)),rtl:yo(()=>Re.some(tu(b,se,pe,k,z)))})}),Nd=(b,w)=>{const k=w.ltr();return k.collapsed?w.rtl().filter(se=>se.collapsed===!1).map(se=>sd.rtl(vo.fromDom(se.endContainer),se.endOffset,vo.fromDom(se.startContainer),se.startOffset)).getOrThunk(()=>sp(b,sd.ltr,k)):sp(b,sd.ltr,k)},Ec=(b,w)=>{const k=Pd(b,w);return Nd(b,k)},co=(b,w)=>Ec(b,w).match({ltr:(z,se,pe,Te)=>{const Fe=b.document.createRange();return Fe.setStart(z.dom,se),Fe.setEnd(pe.dom,Te),Fe},rtl:(z,se,pe,Te)=>{const Fe=b.document.createRange();return Fe.setStart(pe.dom,Te),Fe.setEnd(z.dom,se),Fe}});sd.ltr,sd.rtl;const Ru=8,$h=9,Be=11,rt=1,Ot=3,mn=(b,w)=>{const k=b.dom;if(k.nodeType!==rt)return!1;{const z=k;if(z.matches!==void 0)return z.matches(w);if(z.msMatchesSelector!==void 0)return z.msMatchesSelector(w);if(z.webkitMatchesSelector!==void 0)return z.webkitMatchesSelector(w);if(z.mozMatchesSelector!==void 0)return z.mozMatchesSelector(w);throw new Error("Browser lacks native selectors")}},io=b=>b.nodeType!==rt&&b.nodeType!==$h&&b.nodeType!==Be||b.childElementCount===0,Mo=(b,w)=>{const k=w===void 0?document:w.dom;return io(k)?[]:kt(k.querySelectorAll(b),vo.fromDom)},hr=(b,w)=>{const k=w===void 0?document:w.dom;return io(k)?Re.none():Re.from(k.querySelector(b)).map(vo.fromDom)},Fs=(b,w)=>b.dom===w.dom,_r=(b,w)=>{const k=b.dom,z=w.dom;return k===z?!1:k.contains(z)},we=mn,$e=(b,w,k,z)=>{const se=b.isiOS()&&/ipad/i.test(k)===!0,pe=b.isiOS()&&!se,Te=b.isiOS()||b.isAndroid(),Fe=Te||z("(pointer:coarse)"),Je=se||!pe&&Te&&z("(min-device-width:768px)"),ft=pe||Te&&!Je,jt=w.isSafari()&&b.isiOS()&&/safari/i.test(k)===!1,Vn=!ft&&!Je&&!jt;return{isiPad:ie(se),isiPhone:ie(pe),isTablet:ie(Je),isPhone:ie(ft),isTouch:ie(Fe),isAndroid:b.isAndroid,isiOS:b.isiOS,isWebView:ie(jt),isDesktop:ie(Vn)}},ut=(b,w)=>{for(let k=0;k<b.length;k++){const z=b[k];if(z.test(w))return z}},Zt=(b,w)=>{const k=ut(b,w);if(!k)return{major:0,minor:0};const z=se=>Number(w.replace(k,"$"+se));return L(z(1),z(2))},ko=(b,w)=>{const k=String(w).toLowerCase();return b.length===0?Hs():Zt(b,k)},Hs=()=>L(0,0),L=(b,w)=>({major:b,minor:w}),X={nu:L,detect:ko,unknown:Hs},de=(b,w)=>Yt(w.brands,k=>{const z=k.brand.toLowerCase();return _e(b,se=>{var pe;return z===((pe=se.brand)===null||pe===void 0?void 0:pe.toLowerCase())}).map(se=>({current:se.name,version:X.nu(parseInt(k.version,10),0)}))}),ge=(b,w)=>{const k=String(w).toLowerCase();return _e(b,z=>z.search(k))},xe=(b,w)=>ge(b,w).map(k=>{const z=X.detect(k.versionRegexes,w);return{current:k.name,version:z}}),Pe=(b,w)=>ge(b,w).map(k=>{const z=X.detect(k.versionRegexes,w);return{current:k.name,version:z}}),je=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,xt=b=>w=>Ur(w,b),St=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:b=>Ur(b,"edge/")&&Ur(b,"chrome")&&Ur(b,"safari")&&Ur(b,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,je],search:b=>Ur(b,"chrome")&&!Ur(b,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:b=>Ur(b,"msie")||Ur(b,"trident")},{name:"Opera",versionRegexes:[je,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:xt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:xt("firefox")},{name:"Safari",versionRegexes:[je,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:b=>(Ur(b,"safari")||Ur(b,"mobile/"))&&Ur(b,"applewebkit")}],Jt=[{name:"Windows",search:xt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:b=>Ur(b,"iphone")||Ur(b,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:xt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:xt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:xt("linux"),versionRegexes:[]},{name:"Solaris",search:xt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:xt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:xt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ln={browsers:ie(St),oses:ie(Jt)},no="Edge",_n="Chromium",Ho="IE",Rr="Opera",xi="Firefox",Gr="Safari",ql=()=>Sa({current:void 0,version:X.unknown()}),Sa=b=>{const w=b.current,k=b.version,z=se=>()=>w===se;return{current:w,version:k,isEdge:z(no),isChromium:z(_n),isIE:z(Ho),isOpera:z(Rr),isFirefox:z(xi),isSafari:z(Gr)}},rd={unknown:ql,nu:Sa},fh="Windows",_i="iOS",wc="Android",Fi="Linux",hl="macOS",Bp="Solaris",id="FreeBSD",Uh="ChromeOS",Og=()=>ad({current:void 0,version:X.unknown()}),ad=b=>{const w=b.current,k=b.version,z=se=>()=>w===se;return{current:w,version:k,isWindows:z(fh),isiOS:z(_i),isAndroid:z(wc),isMacOS:z(hl),isLinux:z(Fi),isSolaris:z(Bp),isFreeBSD:z(id),isChromeOS:z(Uh)}},nu={unknown:Og,nu:ad},ld={detect:(b,w,k)=>{const z=Ln.browsers(),se=Ln.oses(),pe=w.bind(Je=>de(z,Je)).orThunk(()=>xe(z,b)).fold(rd.unknown,rd.nu),Te=Pe(se,b).fold(nu.unknown,nu.nu),Fe=$e(Te,pe,b,k);return{browser:pe,os:Te,deviceType:Fe}}},Ig=b=>window.matchMedia(b).matches;let _c=yo(()=>ld.detect(window.navigator.userAgent,Re.from(window.navigator.userAgentData),Ig));const Ml=()=>_c(),gf=(b,w)=>zo(b,w),Fb=(b,w)=>{const k=gf(b,w);if(k==null)throw new Error(b+" not available on this browser");return k},Tr=Object.getPrototypeOf,Zi=b=>Fb("HTMLElement",b),Vp=b=>{const w=zo("ownerDocument.defaultView",b);return v(b)&&(Zi(w).prototype.isPrototypeOf(b)||/^HTML\w*Element$/.test(Tr(b).constructor.name))},Oi=b=>b.dom.nodeName.toLowerCase(),ip=b=>b.dom.nodeType,vf=b=>w=>ip(w)===b,LS=b=>ip(b)===Ru||Oi(b)==="#comment",bf=b=>Gi(b)&&Vp(b.dom),Gi=vf(rt),ou=vf(Ot),Ld=vf($h),Zn=vf(Be),Zl=b=>w=>Gi(w)&&Oi(w)===b,zh=b=>vo.fromDom(b.dom.ownerDocument),su=b=>Ld(b)?b:zh(b),ap=b=>vo.fromDom(su(b).dom.documentElement),Hb=b=>vo.fromDom(su(b).dom.defaultView),et=b=>Re.from(b.dom.parentNode).map(vo.fromDom),Dc=b=>Re.from(b.dom.parentElement).map(vo.fromDom),jh=(b,w)=>{const k=j(w)?w:Xe;let z=b.dom;const se=[];for(;z.parentNode!==null&&z.parentNode!==void 0;){const pe=z.parentNode,Te=vo.fromDom(pe);if(se.push(Te),k(Te)===!0)break;z=pe}return se},$b=b=>Re.from(b.dom.previousSibling).map(vo.fromDom),ru=b=>Re.from(b.dom.nextSibling).map(vo.fromDom),nc=b=>kt(b.dom.childNodes,vo.fromDom),dt=(b,w)=>{const k=b.dom.childNodes;return Re.from(k[w]).map(vo.fromDom)},Ht=b=>dt(b,0),An=(b,w,k,z)=>{const pe=zh(b).dom.createRange();return pe.setStart(b.dom,w),pe.setEnd(k.dom,z),pe},Dn=(b,w,k,z)=>{const se=An(b,w,k,z),pe=Fs(b,k)&&w===z;return se.collapsed&&!pe},Yn=b=>Zn(b)&&U(b.dom.host),ns=b=>vo.fromDom(b.dom.getRootNode()),ps=b=>Yn(b)?b:vo.fromDom(su(b).dom.body),Ys=b=>{const w=ns(b);return Yn(w)?Re.some(w):Re.none()},Cs=b=>vo.fromDom(b.dom.host),fr=b=>{if(U(b.target)){const w=vo.fromDom(b.target);if(Gi(w)&&xr(w)&&b.composed&&b.composedPath){const k=b.composedPath();if(k)return ct(k)}}return Re.from(b.target)},xr=b=>U(b.dom.shadowRoot),pr=(b,w,k,z,se,pe,Te)=>({target:b,x:w,y:k,stop:z,prevent:se,kill:pe,raw:Te}),zr=b=>{const w=vo.fromDom(fr(b).getOr(b.target)),k=()=>b.stopPropagation(),z=()=>b.preventDefault(),se=re(z,k);return pr(w,b.clientX,b.clientY,k,z,se,b)},Do=(b,w)=>k=>{b(k)&&w(zr(k))},ei=(b,w,k,z,se)=>{const pe=Do(k,z);return b.dom.addEventListener(w,pe,se),{unbind:Ae(oc,b,w,pe,se)}},Sl=(b,w,k,z)=>ei(b,w,k,z,!1),oc=(b,w,k,z)=>{b.dom.removeEventListener(w,k,z)},Ms=Ve,Pl=(b,w,k)=>Sl(b,w,Ms,k),oa=zr,ja=(b,w)=>{et(b).each(z=>{z.dom.insertBefore(w.dom,b.dom)})},Wh=(b,w)=>{ru(b).fold(()=>{et(b).each(se=>{ti(se,w)})},z=>{ja(z,w)})},sa=(b,w)=>{Ht(b).fold(()=>{ti(b,w)},z=>{b.dom.insertBefore(w.dom,z.dom)})},ti=(b,w)=>{b.dom.appendChild(w.dom)},K0=(b,w,k)=>{dt(b,k).fold(()=>{ti(b,w)},z=>{ja(z,w)})},IE=(b,w)=>{ja(b,w),ti(w,b)},Cl=(b,w)=>{at(w,(k,z)=>{const se=z===0?b:w[z-1];Wh(se,k)})},sc=(b,w)=>{at(w,k=>{ti(b,k)})},iu=(b,w,k)=>{if(p(k)||x(k)||W(k))b.setAttribute(w,k+"");else throw console.error("Invalid call to Attribute.set. Key ",w,":: Value ",k,":: Element ",b),new Error("Attribute value was not simple")},Nl=(b,w,k)=>{iu(b.dom,w,k)},Gh=(b,w)=>{const k=b.dom;ln(w,(z,se)=>{iu(k,se,z)})},ku=(b,w)=>{ln(w,(k,z)=>{k.fold(()=>{li(b,z)},se=>{iu(b.dom,z,se)})})},Du=(b,w)=>{const k=b.dom.getAttribute(w);return k===null?void 0:k},$c=(b,w)=>Re.from(Du(b,w)),li=(b,w)=>{b.dom.removeAttribute(w)},Bd=b=>qt(b.dom.attributes,(w,k)=>(w[k.name]=k.value,w),{}),Mu=b=>{b.dom.textContent="",at(nc(b),w=>{Kl(w)})},Kl=b=>{const w=b.dom;w.parentNode!==null&&w.parentNode.removeChild(w)},ra=b=>{const w=nc(b);w.length>0&&Cl(b,w),Kl(b)},mr=(b,w)=>vo.fromDom(b.dom.cloneNode(w)),qh=b=>mr(b,!1),Yl=b=>mr(b,!0),Wa=(b,w)=>{const k=vo.fromTag(w),z=Bd(b);return Gh(k,z),k},yf=(b,w)=>{const k=Wa(b,w),z=nc(Yl(b));return sc(k,z),k},fl=(b,w)=>{const k=Wa(b,w);Wh(b,k);const z=nc(b);return sc(k,z),Kl(b),k},Ub=(b,w)=>{const z=document.createElement("div");return z.innerHTML=b,nc(vo.fromDom(z))},rc=b=>kt(b,vo.fromDom),Y0=b=>b.dom.innerHTML,br=b=>{const w=vo.fromTag("div"),k=vo.fromDom(b.dom.cloneNode(!0));return ti(w,k),Y0(w)},Mm=b=>b.style!==void 0&&j(b.style.getPropertyValue),cs=b=>{const w=ou(b)?b.dom.parentNode:b.dom;if(w==null||w.ownerDocument===null)return!1;const k=w.ownerDocument;return Ys(vo.fromDom(w)).fold(()=>k.body.contains(w),le(cs,Cs))},n1=b=>{const w=b.dom.body;if(w==null)throw new Error("Body is not available yet");return vo.fromDom(w)},pl=(b,w,k)=>{if(!p(k))throw console.error("Invalid call to CSS.set. Property ",w,":: Value ",k,":: Element ",b),new Error("CSS value must be a string: "+k);Mm(b)&&b.style.setProperty(w,k)},rr=(b,w)=>{Mm(b)&&b.style.removeProperty(w)},Ll=(b,w,k)=>{const z=b.dom;pl(z,w,k)},ia=(b,w)=>{const k=b.dom;ln(w,(z,se)=>{pl(k,se,z)})},Pm=(b,w)=>{const k=b.dom,se=window.getComputedStyle(k).getPropertyValue(w);return se===""&&!cs(b)?X0(k,w):se},X0=(b,w)=>Mm(b)?b.style.getPropertyValue(w):"",Vd=(b,w)=>{const k=b.dom,z=X0(k,w);return Re.from(z).filter(se=>se.length>0)},Pu=(b,w)=>{const k=b.dom;rr(k,w),jo($c(b,"style").map(Qc),"")&&li(b,"style")},o1=(b,w)=>{const k=b.dom,z=w.dom;Mm(k)&&Mm(z)&&(z.style.cssText=k.style.cssText)},s1=(b,w)=>{const k=(Fe,Je)=>{if(!W(Je)&&!Je.match(/^[0-9]+$/))throw new Error(b+".set accepts only positive integer values. Value was "+Je);const ft=Fe.dom;Mm(ft)&&(ft.style[b]=Je+"px")},z=Fe=>{const Je=w(Fe);if(Je<=0||Je===null){const ft=Pm(Fe,b);return parseFloat(ft)||0}return Je},se=z,pe=(Fe,Je)=>qt(Je,(ft,jt)=>{const Vn=Pm(Fe,jt),bo=Vn===void 0?0:parseInt(Vn,10);return isNaN(bo)?ft:ft+bo},0);return{set:k,get:z,getOuter:se,aggregate:pe,max:(Fe,Je,ft)=>{const jt=pe(Fe,ft);return Je>jt?Je-jt:0}}},zb=(b,w)=>od(b).getOr(w),ph=(b,w,k)=>zb(Pm(b,w),k),Zh=(b,w,k,z)=>{const se=ph(b,`padding-${k}`,0),pe=ph(b,`padding-${z}`,0),Te=ph(b,`border-${k}-width`,0),Fe=ph(b,`border-${z}-width`,0);return w-se-pe-Te-Fe},J0=(b,w)=>{const k=b.dom,z=k.getBoundingClientRect().width||k.offsetWidth;return Zh(b,z,"left","right")},Mc=b=>ph(b,"height",b.dom.offsetHeight),mh=b=>ph(b,"width",b.dom.offsetWidth),lp=b=>J0(b),qr=s1("height",b=>{const w=b.dom;return cs(b)?w.getBoundingClientRect().height:w.offsetHeight}),Fd=b=>qr.get(b),r1=b=>qr.getOuter(b),jb=Mc,gh=s1("width",b=>{const w=b.dom;return cs(b)?w.getBoundingClientRect().width:w.offsetWidth}),xs=b=>gh.get(b),pa=b=>gh.getOuter(b),Va=lp,aa=mh,vh=(b,w)=>({left:b,top:w,translate:(z,se)=>vh(b+z,w+se)}),ma=vh,ml=b=>{const w=b.getBoundingClientRect();return ma(w.left,w.top)},Pv=(b,w)=>b!==void 0?b:w!==void 0?w:0,Er=b=>{const w=b.dom.ownerDocument,k=w.body,z=w.defaultView,se=w.documentElement;if(k===b.dom)return ma(k.offsetLeft,k.offsetTop);const pe=Pv(z==null?void 0:z.pageYOffset,se.scrollTop),Te=Pv(z==null?void 0:z.pageXOffset,se.scrollLeft),Fe=Pv(se.clientTop,k.clientTop),Je=Pv(se.clientLeft,k.clientLeft);return cd(b).translate(Te-Je,pe-Fe)},cd=b=>{const w=b.dom,z=w.ownerDocument.body;return z===w?ma(z.offsetLeft,z.offsetTop):cs(b)?ml(w):ma(0,0)},Hi=b=>{const w=b!==void 0?b.dom:document,k=w.body.scrollLeft||w.documentElement.scrollLeft,z=w.body.scrollTop||w.documentElement.scrollTop;return ma(k,z)},Nu=(b,w,k)=>{const se=(k!==void 0?k.dom:document).defaultView;se&&se.scrollBy(b,w)},wl=((b,w)=>{const k=pe=>{if(!b(pe))throw new Error("Can only get "+w+" value of a "+w+" node");return z(pe).getOr("")},z=pe=>b(pe)?Re.from(pe.dom.nodeValue):Re.none();return{get:k,getOption:z,set:(pe,Te)=>{if(!b(pe))throw new Error("Can only set raw "+w+" value of a "+w+" node");pe.dom.nodeValue=Te}}})(ou,"text"),Sf=b=>wl.get(b),Nv=b=>wl.getOption(b),Fp=(b,w)=>wl.set(b,w),Nm=(b,w)=>k=>bh(k)==="rtl"?w:b,bh=b=>Pm(b,"direction")==="rtl"?"rtl":"ltr",Ac=(b,w)=>{const k=Du(b,w);return k===void 0||k===""?[]:k.split(" ")},Hp=(b,w,k)=>{const se=Ac(b,w).concat([k]);return Nl(b,w,se.join(" ")),!0},RE=(b,w,k)=>{const z=jn(Ac(b,w),se=>se!==k);return z.length>0?Nl(b,w,z.join(" ")):li(b,w),!1};var cp=(b,w,k,z,se)=>b(k,z)?Re.some(k):j(se)&&se(k)?Re.none():w(k,z,se);const ci=(b,w,k)=>{let z=b.dom;const se=j(k)?k:Xe;for(;z.parentNode;){z=z.parentNode;const pe=vo.fromDom(z);if(w(pe))return Re.some(pe);if(se(pe))break}return Re.none()},i1=(b,w,k)=>cp((se,pe)=>pe(se),ci,b,w,k),Lv=(b,w)=>{const k=se=>w(vo.fromDom(se));return _e(b.dom.childNodes,k).map(vo.fromDom)},Uc=(b,w)=>{const k=z=>{for(let se=0;se<z.childNodes.length;se++){const pe=vo.fromDom(z.childNodes[se]);if(w(pe))return Re.some(pe);const Te=k(z.childNodes[se]);if(Te.isSome())return Te}return Re.none()};return k(b.dom)},au=(b,w,k)=>ci(b,z=>mn(z,w),k),Ga=(b,w)=>Lv(b,k=>mn(k,w)),Hd=(b,w)=>hr(w,b),gl=(b,w,k)=>cp((se,pe)=>mn(se,pe),au,b,w,k),Lm=b=>b.dom.classList!==void 0,Q0=b=>Ac(b,"class"),Wb=(b,w)=>Hp(b,"class",w),kE=(b,w)=>RE(b,"class",w),Cf=(b,w)=>{Lm(b)?b.dom.classList.add(w):Wb(b,w)},DE=b=>{(Lm(b)?b.dom.classList:Q0(b)).length===0&&li(b,"class")},a1=(b,w)=>{Lm(b)?b.dom.classList.remove(w):kE(b,w),DE(b)},Ef=(b,w)=>Lm(b)&&b.dom.classList.contains(w),BS=(b,w)=>{at(w,k=>{a1(b,k)})},Bv=b=>gl(b,"[contenteditable]"),Bm=(b,w=!1)=>cs(b)?b.dom.isContentEditable:Bv(b).fold(ie(w),k=>Rg(k)==="true"),Rg=b=>b.dom.contentEditable,l1=b=>w=>{Cf(w,b)},VS=b=>w=>{BS(w,b)},Kh=(b,w,k)=>jn(jh(b,k),w),Vm=(b,w)=>jn(nc(b),w),wf=(b,w)=>{let k=[];return at(nc(b),z=>{w(z)&&(k=k.concat([z])),k=k.concat(wf(z,w))}),k},ui=(b,w,k)=>Kh(b,z=>mn(z,w),k),vl=(b,w)=>Vm(b,k=>mn(k,w)),up=(b,w)=>Mo(w,b),ey=(b,w,k,z)=>({parent:b,children:w,element:k,index:z}),Fm=b=>et(b).bind(w=>{const k=nc(w);return kg(k,b).map(z=>ey(w,k,b,z))}),kg=(b,w)=>vr(b,Ae(Fs,w)),$p=(b,w,k)=>ci(b,w,k).isSome(),dp=b=>Oi(b)==="img"?1:Nv(b).fold(()=>nc(b).length,w=>w.length),Yh=b=>Nv(b).filter(w=>w.trim().length!==0||w.indexOf(tp)>-1).isSome(),Ii=b=>bf(b)&&Du(b,"contenteditable")==="false",FS=["img","br"],vi=b=>Yh(b)||hn(FS,Oi(b))||Ii(b),Vv=b=>Uc(b,vi),qa=b=>Xh(b,vi),Xh=(b,w)=>{const k=z=>{const se=nc(z);for(let pe=se.length-1;pe>=0;pe--){const Te=se[pe];if(w(Te))return Re.some(Te);const Fe=k(Te);if(Fe.isSome())return Fe}return Re.none()};return k(b)},Lu={create:(b,w,k,z)=>({start:b,soffset:w,finish:k,foffset:z})},Dg=Vt.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Fv=(b,w,k,z)=>b.fold(w,k,z),c1=b=>b.fold(be,be,be),ME=Dg.before,_l=Dg.on,_f=Dg.after,il={before:ME,on:_l,after:_f,cata:Fv,getStart:c1},Ri=Vt.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Gb=b=>Ri.exact(b.start,b.soffset,b.finish,b.foffset),qb=b=>b.match({domRange:w=>vo.fromDom(w.startContainer),relative:(w,k)=>il.getStart(w),exact:(w,k,z,se)=>w}),Zb=Ri.domRange,ty=Ri.relative,Bu=Ri.exact,ny=b=>{const w=qb(b);return Hb(w)},J=Lu.create,ae={domRange:Zb,relative:ty,exact:Bu,exactFromRange:Gb,getWin:ny,range:J},ke=(b,w,k)=>{var z;return Re.from((z=b.caretPositionFromPoint)===null||z===void 0?void 0:z.call(b,w,k)).bind(se=>{if(se.offsetNode===null)return Re.none();const pe=b.createRange();return pe.setStart(se.offsetNode,se.offset),pe.collapse(),Re.some(pe)})},qe=(b,w,k)=>{var z;return Re.from((z=b.caretRangeFromPoint)===null||z===void 0?void 0:z.call(b,w,k))},bt=(b,w,k)=>b.caretPositionFromPoint?ke(b,w,k):b.caretRangeFromPoint?qe(b,w,k):Re.none(),un=(b,w,k)=>{const z=b.document;return bt(z,w,k).map(se=>Lu.create(vo.fromDom(se.startContainer),se.startOffset,vo.fromDom(se.endContainer),se.endOffset))},mo=(b,w)=>{const k=Oi(b);return k==="input"?il.after(b):hn(["br","img"],k)?w===0?il.before(b):il.after(b):il.on(b,w)},Go=(b,w)=>{const k=b.fold(il.before,mo,il.after),z=w.fold(il.before,mo,il.after);return ae.relative(k,z)},Zs=(b,w,k,z)=>{const se=mo(b,w),pe=mo(k,z);return ae.relative(se,pe)},ws=b=>Re.from(b.getSelection()),$i=(b,w)=>{ws(b).each(k=>{k.removeAllRanges(),k.addRange(w)})},ga=(b,w,k,z,se)=>{const pe=tu(b,w,k,z,se);$i(b,pe)},Za=(b,w,k,z,se,pe)=>{w.collapse(k.dom,z),w.extend(se.dom,pe)},Vu=(b,w)=>Ec(b,w).match({ltr:(k,z,se,pe)=>{ga(b,k,z,se,pe)},rtl:(k,z,se,pe)=>{ws(b).each(Te=>{if(Te.setBaseAndExtent)Te.setBaseAndExtent(k.dom,z,se.dom,pe);else if(Te.extend)try{Za(b,Te,k,z,se,pe)}catch{ga(b,se,pe,k,z)}else ga(b,se,pe,k,z)})}}),Up=(b,w,k,z,se)=>{const pe=Zs(w,k,z,se);Vu(b,pe)},zp=(b,w,k)=>{const z=Go(w,k);Vu(b,z)},lu=b=>{if(b.rangeCount>0){const w=b.getRangeAt(0),k=b.getRangeAt(b.rangeCount-1);return Re.some(Lu.create(vo.fromDom(w.startContainer),w.startOffset,vo.fromDom(k.endContainer),k.endOffset))}else return Re.none()},u1=b=>{if(b.anchorNode===null||b.focusNode===null)return lu(b);{const w=vo.fromDom(b.anchorNode),k=vo.fromDom(b.focusNode);return Dn(w,b.anchorOffset,k,b.focusOffset)?Re.some(Lu.create(w,b.anchorOffset,k,b.focusOffset)):lu(b)}},Hm=(b,w,k=!0)=>{const se=(k?Dl:Iu)(b,w);$i(b,se)},Kb=b=>ws(b).filter(w=>w.rangeCount>0).bind(u1),$m=b=>Kb(b).map(w=>ae.exact(w.start,w.soffset,w.finish,w.foffset)),Mg=(b,w)=>{const k=co(b,w);return mf(k)},oy=(b,w,k)=>un(b,w,k),Bl=b=>{ws(b).each(w=>w.removeAllRanges())},PE={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},NE=(()=>{const b="[0-9]+",k="[eE]"+("[+-]?"+b),z="\\.",se=Fe=>`(?:${Fe})?`,Te=`[+-]?(?:${["Infinity",b+z+se(b)+se(k),z+b+se(k),b+se(k)].join("|")})`;return new RegExp(`^(${Te})(.*)$`)})(),Br=(b,w)=>ot(w,k=>ot(PE[k],z=>b===z)),ki=(b,w)=>Re.from(NE.exec(b)).bind(z=>{const se=Number(z[1]),pe=z[2];return Br(pe,w)?Re.some({value:se,unit:pe}):Re.none()}),Ka=b=>kt(b,ie(0)),ud=(b,w,k,z,se)=>se(b.slice(0,w)).concat(z).concat(se(b.slice(k))),Ya=b=>(w,k,z,se)=>{if(b(z)){const pe=Math.max(se,w[k]-Math.abs(z)),Te=Math.abs(pe-w[k]);return z>=0?Te:-Te}else return z},Yb=Ya(b=>b<0),Xb=Ya(Ve),Jb=()=>{const b=(Fe,Je,ft,jt,Vn)=>{const bo=Yb(Fe,Je,jt,Vn);return ud(Fe,Je,ft+1,[bo,0],Ka)},w=(Fe,Je,ft,jt)=>{const Vn=(100+ft)/100,bo=Math.max(jt,(Fe[Je]+ft)/Vn);return kt(Fe,(so,is)=>(is===Je?bo:so/Vn)-so)},k=(Fe,Je,ft,jt,Vn,bo)=>bo?w(Fe,Je,jt,Vn):b(Fe,Je,ft,jt,Vn);return{resizeTable:(Fe,Je)=>Fe(Je),clampTableDelta:Yb,calcLeftEdgeDeltas:k,calcMiddleDeltas:(Fe,Je,ft,jt,Vn,bo,so)=>k(Fe,ft,jt,Vn,bo,so),calcRightEdgeDeltas:(Fe,Je,ft,jt,Vn,bo)=>{if(bo)return w(Fe,ft,jt,Vn);{const so=Yb(Fe,ft,jt,Vn);return Ka(Fe.slice(0,ft)).concat([so])}},calcRedestributedWidths:(Fe,Je,ft,jt)=>{if(jt){const bo=(Je+ft)/Je,so=kt(Fe,is=>is/bo);return{delta:bo*100-100,newSizes:so}}else return{delta:ft,newSizes:Fe}}}},LE=()=>{const b=(Te,Fe,Je,ft,jt)=>{const Vn=ft>=0?Je:Fe,bo=Xb(Te,Vn,ft,jt);return ud(Te,Fe,Je+1,[bo,-bo],Ka)};return{resizeTable:(Te,Fe,Je)=>{Je&&Te(Fe)},clampTableDelta:(Te,Fe,Je,ft,jt)=>{if(jt){if(Je>=0)return Je;{const Vn=qt(Te,(bo,so)=>bo+so-ft,0);return Math.max(-Vn,Je)}}else return Yb(Te,Fe,Je,ft)},calcLeftEdgeDeltas:b,calcMiddleDeltas:(Te,Fe,Je,ft,jt,Vn)=>b(Te,Je,ft,jt,Vn),calcRightEdgeDeltas:(Te,Fe,Je,ft,jt,Vn)=>{if(Vn)return Ka(Te);{const bo=ft/Te.length;return kt(Te,ie(bo))}},calcRedestributedWidths:(Te,Fe,Je,ft)=>({delta:0,newSizes:Te})}},bl=(b,w,k=0)=>$c(b,w).map(z=>parseInt(z,10)).getOr(k),Um=(b,w)=>bl(b,w,1),Qb=b=>Zl("col")(b)?bl(b,"span",1)>1:Um(b,"colspan")>1,BE=b=>Um(b,"rowspan")>1,Zr=(b,w)=>parseInt(Pm(b,w),10),Vl=ie(10),hp=ie(10),$d=(b,w)=>dd(b,w,Ve),dd=(b,w,k)=>Ut(nc(b),z=>mn(z,w)?k(z)?[z]:[]:dd(z,w,k)),Fu=(b,w,k=Xe)=>{if(k(w))return Re.none();if(hn(b,Oi(w)))return Re.some(w);const z=se=>mn(se,"table")||k(se);return au(w,b.join(","),z)},VE=(b,w)=>Fu(["td","th"],b,w),Pg=b=>$d(b,"th,td"),HS=b=>mn(b,"colgroup")?vl(b,"col"):Ut(Ki(b),w=>vl(w,"col")),Ud=(b,w)=>gl(b,"table",w),$S=b=>$d(b,"tr"),Ki=b=>Ud(b).fold(ie([]),w=>vl(w,"colgroup")),Ng=Zl("th"),Lg=b=>xn(b,w=>Ng(w.element)),OO=(b,w)=>b&&w?"sectionCells":b?"section":"cells",US=b=>{const w=b.section==="thead",k=jo(zS(b.cells),"th");return b.section==="tfoot"?{type:"footer"}:w||k?{type:"header",subType:OO(w,k)}:{type:"body"}},zS=b=>{const w=jn(b,k=>Ng(k.element));return w.length===0?Re.some("td"):w.length===b.length?Re.some("th"):Re.none()},IO=b=>{const w=kt(b,se=>US(se).type),k=hn(w,"header"),z=hn(w,"footer");if(!k&&!z)return Re.some("body");{const se=hn(w,"body");return k&&!se&&!z?Re.some("header"):!k&&!se&&z?Re.some("footer"):Re.none()}},jp=b=>Yt(b.all,w=>{const k=US(w);return k.type==="header"?Re.from(k.subType):Re.none()}),zm=(b,w)=>kt(b,k=>{if(Oi(k)==="colgroup"){const z=kt(HS(k),se=>{const pe=bl(se,"span",1);return Fc(se,1,pe)});return dh(k,z,"colgroup")}else{const z=kt(Pg(k),se=>{const pe=bl(se,"rowspan",1),Te=bl(se,"colspan",1);return Fc(se,pe,Te)});return dh(k,z,w(k))}}),Bg=b=>et(b).map(w=>{const k=Oi(w);return Vh(k)?k:"tbody"}).getOr("tbody"),No=b=>{const w=$S(b),z=[...Ki(b),...w];return zm(z,Bg)},va=(b,w)=>zm(b,()=>w),sy="data-snooker-locked-cols",e0=b=>$c(b,sy).bind(w=>Re.from(w.match(/\d+/g))).map(w=>zt(w,Ve)),Nc=b=>{const w=qt(Lr(b).rows,(z,se)=>(at(se.cells,(pe,Te)=>{pe.isLocked&&(z[Te]=!0)}),z),{}),k=Rs(w,(z,se)=>parseInt(se,10));return wn(k)},Hv=(b,w)=>b+","+w,dA=(b,w,k)=>Re.from(b.access[Hv(w,k)]),Vg=(b,w,k)=>{const z=hA(b,se=>k(w,se.element));return z.length>0?Re.some(z[0]):Re.none()},hA=(b,w)=>{const k=Ut(b.all,z=>z.cells);return jn(k,w)},fp=b=>{const w={};let k=0;return at(b.cells,z=>{const se=z.colspan;Rt(se,pe=>{const Te=k+pe;w[Te]=Lp(z.element,se,Te)}),k+=se}),w},jm=b=>{const w={},k=[],se=ct(b).map(so=>so.element).bind(Ud).bind(e0).getOr({});let pe=0,Te=0,Fe=0;const{pass:Je,fail:ft}=Ro(b,so=>so.section==="colgroup");at(ft,so=>{const is=[];at(so.cells,yn=>{let Fn=0;for(;w[Hv(Fe,Fn)]!==void 0;)Fn++;const _s=Ls(se,Fn.toString()),Js=xu(yn.element,yn.rowspan,yn.colspan,Fe,Fn,_s);for(let Lo=0;Lo<yn.colspan;Lo++)for(let Mi=0;Mi<yn.rowspan;Mi++){const Pi=Fe+Mi,tr=Fn+Lo,dc=Hv(Pi,tr);w[dc]=Js,Te=Math.max(Te,tr+1)}is.push(Js)}),pe++,k.push(dh(so.element,is,so.section)),Fe++});const{columns:jt,colgroups:Vn}=Mt(Je).map(so=>{const is=fp(so);return{colgroups:[km(so.element,Ao(is))],columns:is}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Jr(pe,Te),access:w,all:k,columns:jt,colgroups:Vn}},Sr={fromTable:b=>{const w=No(b);return jm(w)},generate:jm,getAt:dA,findItem:Vg,filterItems:hA,justCells:b=>Ut(b.all,w=>w.cells),justColumns:b=>Ao(b.columns),hasColumns:b=>Ge(b.columns).length>0,getColumnAt:(b,w)=>Re.from(b.columns[w])},$v=(b,w,k)=>Vi(k(b.element,w),!0,b.isLocked),ba=(b,w)=>b.section!==w?yc(b.element,b.cells,w,b.isNew):b,d1=()=>({transformRow:ba,transformCell:(b,w,k)=>{const z=k(b.element,w),se=Oi(z)!=="td"?fl(z,"td"):z;return Vi(se,b.isNew,b.isLocked)}}),Af=()=>({transformRow:ba,transformCell:$v}),cu=()=>({transformRow:(b,w)=>ba(b,w==="thead"?"tbody":w),transformCell:$v}),Gp={getTableSectionType:(b,w)=>{const k=Sr.fromTable(b);switch(jp(k).getOr(w)){case"section":return d1();case"sectionCells":return Af();case"cells":return cu()}},section:d1,sectionCells:Af,cells:cu,fallback:()=>({transformRow:be,transformCell:$v})},HE=(b,w=Ve)=>{const k=b.grid,z=Rt(k.columns,be),se=Rt(k.rows,be);return kt(z,pe=>jS(()=>Ut(se,ft=>Sr.getAt(b,ft,pe).filter(jt=>jt.column===pe).toArray()),ft=>ft.colspan===1&&w(ft.element),()=>Sr.getAt(b,0,pe)))},jS=(b,w,k)=>{const z=b();return _e(z,w).orThunk(()=>Re.from(z[0]).orThunk(k)).map(Te=>Te.element)},Jh=b=>{const w=b.grid,k=Rt(w.rows,be),z=Rt(w.columns,be);return kt(k,se=>jS(()=>Ut(z,Je=>Sr.getAt(b,se,Je).filter(ft=>ft.row===se).fold(ie([]),ft=>[ft])),Je=>Je.rowspan===1,()=>Sr.getAt(b,se,0)))},Wm=(b,w)=>{if(w<0||w>=b.length-1)return Re.none();const k=b[w].fold(()=>{const se=vn(b.slice(0,w));return Yt(se,(pe,Te)=>pe.map(Fe=>({value:Fe,delta:Te+1})))},se=>Re.some({value:se,delta:0})),z=b[w+1].fold(()=>{const se=b.slice(w+1);return Yt(se,(pe,Te)=>pe.map(Fe=>({value:Fe,delta:Te+1})))},se=>Re.some({value:se,delta:1}));return k.bind(se=>z.map(pe=>{const Te=pe.delta+se.delta;return Math.abs(pe.value-se.value)/Te}))},ry=(b,w)=>({row:b,y:w}),Ui=(b,w)=>({col:b,x:w}),fA=b=>Er(b).left+pa(b),$E=b=>Er(b).left,UE=(b,w)=>Ui(b,$E(w)),n0=(b,w)=>Ui(b,fA(w)),WS=b=>Er(b).top,GS=(b,w)=>ry(b,WS(w)),Gm=(b,w)=>ry(b,WS(w)+r1(w)),h1=(b,w,k)=>{if(k.length===0)return[];const z=kt(k.slice(1),(pe,Te)=>pe.map(Fe=>b(Te,Fe))),se=k[k.length-1].map(pe=>w(k.length-1,pe));return z.concat([se])},hd=b=>-b,Tf={delta:be,positions:b=>h1(GS,Gm,b),edge:WS},Es=Nm({delta:be,edge:$E,positions:b=>h1(UE,n0,b)},{delta:hd,edge:fA,positions:b=>h1(n0,UE,b)}),fd={delta:(b,w)=>Es(w).delta(b,w),positions:(b,w)=>Es(w).positions(b,w),edge:b=>Es(b).edge(b)},o0=/(\d+(\.\d+)?)%/,Hg=/(\d+(\.\d+)?)px|em/,RO=Zl("col"),qS=Zl("tr"),pp=(b,w,k)=>{const z=Dc(b).getOrThunk(()=>n1(zh(b)));return w(b)/k(z)*100},qm=(b,w)=>{Ll(b,"width",w+"px")},iy=(b,w)=>{Ll(b,"width",w+"%")},Zm=(b,w)=>{Ll(b,"height",w+"px")},zE=b=>{Pu(b,"height")},jE=b=>jb(b)+"px",Na=(b,w,k,z)=>{const se=Ud(b).map(pe=>{const Te=k(pe);return Math.floor(w/100*Te)}).getOr(w);return z(b,se),se},mp=(b,w,k,z)=>{const se=parseFloat(b);return Dd(b,"%")&&Oi(w)!=="table"?Na(w,se,k,z):se},pd=b=>{const w=jE(b);return w?mp(w,b,Fd,Zm):Fd(b)},gp=(b,w,k)=>{const z=k(b),se=Um(b,w);return z/se},md=(b,w)=>Vd(b,w).orThunk(()=>$c(b,w).map(k=>k+"px")),s0=b=>md(b,"width"),Tc=b=>md(b,"height"),zc=b=>pp(b,xs,Va),Uv=b=>RO(b)?Math.round(xs(b)):aa(b),kn=b=>qS(b)?Fd(b):gp(b,"rowspan",pd),$u=b=>s0(b).bind(k=>ki(k,["fixed","relative","empty"])),ay=(b,w,k)=>{Ll(b,"width",w+k)},ic=b=>xs(b)+"px",xf=b=>Fd(b)+"px",Qh=b=>pp(b,xs,Va)+"%",ly=b=>s0(b).exists(w=>o0.test(w)),Km=b=>s0(b).exists(w=>Hg.test(w)),pA=b=>s0(b).isNone(),zd=ie(o0),bi=Zl("col"),Uu=b=>s0(b).getOrThunk(()=>Uv(b)+"px"),r0=b=>Tc(b).getOrThunk(()=>kn(b)+"px"),al=b=>kt(Sr.justColumns(b),w=>Re.from(w.element)),mA=b=>{const w=Ml().browser,k=w.isChromium()||w.isFirefox();return bi(b)?k:!0},ZS=(b,w,k,z,se,pe)=>b.filter(z).fold(()=>pe(Wm(k,w)),Te=>se(Te)),qp=(b,w,k,z)=>{const se=HE(b),pe=Sr.hasColumns(b)?al(b):se,Te=[Re.some(fd.edge(w))].concat(kt(fd.positions(se,w),Je=>Je.map(ft=>ft.x))),Fe=F(Qb);return kt(pe,(Je,ft)=>ZS(Je,ft,Te,Fe,jt=>{if(mA(jt))return k(jt);{const Vn=bc(se[ft],be);return ZS(Vn,ft,Te,Fe,bo=>z(Re.some(Math.round(xs(bo)))),z)}},z))},WE=b=>b.map(w=>w+"px").getOr(""),Sh=(b,w)=>qp(b,w,Uu,WE),GE=(b,w,k)=>qp(b,w,zc,z=>z.fold(()=>k.minCellWidth(),se=>se/k.pixelWidth()*100)),Wt=(b,w,k)=>qp(b,w,Uv,z=>z.getOrThunk(k.minCellWidth)),gd=(b,w,k,z)=>{const se=Jh(b),pe=kt(b.all,Fe=>Re.some(Fe.element)),Te=[Re.some(Tf.edge(w))].concat(kt(Tf.positions(se,w),Fe=>Fe.map(Je=>Je.y)));return kt(pe,(Fe,Je)=>ZS(Fe,Je,Te,Ve,k,z))},cy=(b,w)=>gd(b,w,kn,k=>k.getOrThunk(hp)),Ha=(b,w)=>gd(b,w,r0,WE),Ch=(b,w)=>()=>cs(b)?w(b):parseFloat(Vd(b,"width").getOr("0")),jc=b=>{const w=Ch(b,xs),k=ie(0);return{width:w,pixelWidth:w,getWidths:(se,pe)=>Wt(se,b,pe),getCellDelta:k,singleColumnWidth:ie([0]),minCellWidth:k,setElementWidth:Z,adjustTableWidth:Z,isRelative:!0,label:"none"}},yi=b=>{const w=Ch(b,Je=>parseFloat(Qh(Je))),k=Ch(b,xs);return{width:w,pixelWidth:k,getWidths:(Je,ft)=>GE(Je,b,ft),getCellDelta:Je=>Je/k()*100,singleColumnWidth:(Je,ft)=>[100-Je],minCellWidth:()=>Vl()/k()*100,setElementWidth:iy,adjustTableWidth:Je=>{const ft=w(),jt=Je/100*ft,Vn=ft+jt;iy(b,Vn)},isRelative:!0,label:"percent"}},KS=b=>{const w=Ch(b,xs);return{width:w,pixelWidth:w,getWidths:(Te,Fe)=>Wt(Te,b,Fe),getCellDelta:be,singleColumnWidth:(Te,Fe)=>[Math.max(Vl(),Te+Fe)-Te],minCellWidth:Vl,setElementWidth:qm,adjustTableWidth:Te=>{const Fe=w()+Te;qm(b,Fe)},isRelative:!1,label:"pixel"}},zv=(b,w)=>zd().exec(w)!==null?yi(b):KS(b),jv={getTableSize:b=>s0(b).fold(()=>jc(b),k=>zv(b,k)),pixelSize:KS,percentageSize:yi,noneSize:jc},$g=(b,w,k,z)=>{k===z?li(b,w):Nl(b,w,k)},YS=(b,w,k)=>{Mt(vl(b,w)).fold(()=>sa(b,k),z=>Wh(z,k))},ZE=(b,w)=>{const k=Ga(b,w).getOrThunk(()=>{const z=vo.fromTag(w,zh(b).dom);return w==="thead"?YS(b,"caption,colgroup",z):w==="colgroup"?YS(b,"caption",z):ti(b,z),z});return Mu(k),k},Ug=(b,w)=>{const k=[],z=[],se=so=>kt(so,is=>{is.isNew&&k.push(is.element);const yn=is.element;return Mu(yn),at(is.cells,Fn=>{Fn.isNew&&z.push(Fn.element),$g(Fn.element,"colspan",Fn.colspan,1),$g(Fn.element,"rowspan",Fn.rowspan,1),ti(yn,Fn.element)}),yn}),pe=so=>Ut(so,is=>kt(is.cells,yn=>($g(yn.element,"span",yn.colspan,1),yn.element))),Te=(so,is)=>{const yn=ZE(b,is),_s=(is==="colgroup"?pe:se)(so);sc(yn,_s)},Fe=so=>{Ga(b,so).each(Kl)},Je=(so,is)=>{so.length>0?Te(so,is):Fe(is)},ft=[],jt=[],Vn=[],bo=[];return at(w,so=>{switch(so.section){case"thead":ft.push(so);break;case"tbody":jt.push(so);break;case"tfoot":Vn.push(so);break;case"colgroup":bo.push(so);break}}),Je(bo,"colgroup"),Je(ft,"thead"),Je(jt,"tbody"),Je(Vn,"tfoot"),{newRows:k,newCells:z}},Wv=b=>kt(b,w=>{const k=qh(w.element);return at(w.cells,z=>{const se=Yl(z.element);$g(se,"colspan",z.colspan,1),$g(se,"rowspan",z.rowspan,1),ti(k,se)}),k}),gA=(b,w)=>kt(b,k=>Ss(k,w)),Gv=(b,w)=>b[w],Wc=(b,w)=>{if(b.length===0)return 0;const k=b[0];return vr(b,se=>!w(k.element,se.element)).getOr(b.length)},ac=(b,w,k,z)=>{const se=Gv(b,w),pe=se.section==="colgroup",Te=Wc(se.cells.slice(k),z),Fe=pe?1:Wc(gA(b.slice(w),k),z);return{colspan:Te,rowspan:Fe}},zg=(b,w)=>{const k=kt(b,se=>kt(se.cells,Xe)),z=(se,pe,Te,Fe)=>{for(let Je=se;Je<se+Te;Je++)for(let ft=pe;ft<pe+Fe;ft++)k[Je][ft]=!0};return kt(b,(se,pe)=>{const Te=Ut(se.cells,(Fe,Je)=>{if(k[pe][Je]===!1){const ft=ac(b,pe,Je,w);return z(pe,Je,ft.rowspan,ft.colspan),[Ar(Fe.element,ft.rowspan,ft.colspan,Fe.isNew)]}else return[]});return Rc(se.element,Te,se.section,se.isNew)})},jg=(b,w,k)=>{const z=[];at(b.colgroups,se=>{const pe=[];for(let Te=0;Te<b.grid.columns;Te++){const Fe=Sr.getColumnAt(b,Te).map(Je=>Vi(Je.element,k,!1)).getOrThunk(()=>Vi(w.colGap(),!0,!1));pe.push(Fe)}z.push(yc(se.element,pe,"colgroup",k))});for(let se=0;se<b.grid.rows;se++){const pe=[];for(let Je=0;Je<b.grid.columns;Je++){const ft=Sr.getAt(b,se,Je).map(jt=>Vi(jt.element,k,jt.isLocked)).getOrThunk(()=>Vi(w.gap(),!0,!1));pe.push(ft)}const Te=b.all[se],Fe=yc(Te.element,pe,Te.section,k);z.push(Fe)}return z},Wg=(b,w)=>jg(b,w,!1),uy=b=>zg(b,Fs),vd=(b,w)=>Yt(b.all,k=>_e(k.cells,z=>Fs(w,z.element))),qv=(b,w,k)=>{const z=kt(w.selection,pe=>VE(pe).bind(Te=>vd(b,Te)).filter(k)),se=Vs(z);return Vc(se.length>0,se)},Al=(b,w,k,z,se,pe,Te,Fe,Je)=>{const ft=Sr.fromTable(pe),jt=Re.from(Je==null?void 0:Je.section).getOrThunk(Gp.fallback);return w(ft,Te).map(bo=>{const so=Wg(ft,Fe),is=b(so,bo,Fs,se(Fe),jt),yn=Nc(is.grid),Fn=uy(is.grid);return{info:bo,grid:Fn,cursor:is.cursor,lockedColumns:yn}}).bind(bo=>{const so=Ug(pe,bo.grid),is=Re.from(Je==null?void 0:Je.sizing).getOrThunk(()=>jv.getTableSize(pe)),yn=Re.from(Je==null?void 0:Je.resize).getOrThunk(LE);return k(pe,bo.grid,bo.info,{sizing:is,resize:yn,section:jt}),z(pe),li(pe,sy),bo.lockedColumns.length>0&&Nl(pe,sy,bo.lockedColumns.join(",")),Re.some({cursor:bo.cursor,newRows:so.newRows,newCells:so.newCells})})},i0=(b,w)=>VE(w.element).bind(k=>vd(b,k).map(z=>({...z,generators:w.generators,clipboard:w.clipboard}))),Of=(b,w)=>qv(b,w,Ve).map(k=>({cells:k,generators:w.generators,clipboard:w.clipboard})),If=(b,w)=>w.mergable,f1=(b,w)=>w.unmergable,lc=(b,w)=>qv(b,w,Ve),Gg=(b,w)=>qv(b,w,k=>!k.isLocked),Zp=(b,w)=>vd(b,w).exists(k=>!k.isLocked),Kp=(b,w)=>xn(w,k=>Zp(b,k)),Ym=(b,w)=>If(b,w).filter(k=>Kp(b,k.cells)),Zv=(b,w)=>f1(b,w).filter(k=>Kp(b,k)),a0={...Vt.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},vA=(b,w)=>b.length===0?a0.none():b.length===1?a0.only(0):w===0?a0.left(0,1):w===b.length-1?a0.right(w-1,w):w>0&&w<b.length-1?a0.middle(w-1,w,w+1):a0.none(),Ca=(b,w,k,z,se)=>{const pe=b.slice(0),Te=vA(b,w),Fe=ie(kt(pe,ie(0))),Je=bo=>z.singleColumnWidth(pe[bo],k),ft=(bo,so)=>se.calcLeftEdgeDeltas(pe,bo,so,k,z.minCellWidth(),z.isRelative),jt=(bo,so,is)=>se.calcMiddleDeltas(pe,bo,so,is,k,z.minCellWidth(),z.isRelative),Vn=(bo,so)=>se.calcRightEdgeDeltas(pe,bo,so,k,z.minCellWidth(),z.isRelative);return Te.fold(Fe,Je,ft,jt,Vn)},KE=(b,w,k)=>{let z=0;for(let se=b;se<w;se++)z+=k[se]!==void 0?k[se]:0;return z},vp=(b,w)=>{const k=Sr.justCells(b);return kt(k,z=>{const se=KE(z.column,z.column+z.colspan,w);return{element:z.element,width:se,colspan:z.colspan}})},Rf=(b,w)=>{const k=Sr.justColumns(b);return kt(k,(z,se)=>({element:z.element,width:w[se],colspan:z.colspan}))},Xm=(b,w)=>kt(b.all,(k,z)=>({element:k.element,height:w[z]})),Yp=b=>wo(b,(w,k)=>w+k,0),uu=(b,w)=>Sr.hasColumns(b)?Rf(b,w):vp(b,w),l0=(b,w,k)=>{const z=uu(b,w);at(z,se=>{k.setElementWidth(se.element,se.width)})},Xp=(b,w,k,z,se)=>{const pe=Sr.fromTable(b),Te=se.getCellDelta(w),Fe=se.getWidths(pe,se),Je=k===pe.grid.columns-1,ft=z.clampTableDelta(Fe,k,Te,se.minCellWidth(),Je),jt=Ca(Fe,k,ft,se,z),Vn=kt(jt,(bo,so)=>bo+Fe[so]);l0(pe,Vn,se),z.resizeTable(se.adjustTableWidth,ft,Je)},YE=(b,w,k)=>{const z=Sr.fromTable(b),se=cy(z,b),pe=kt(se,(Je,ft)=>k===ft?Math.max(w+Je,hp()):Je),Te=Xm(z,pe);at(Te,Je=>{Zm(Je.element,Je.height)}),at(Sr.justCells(z),Je=>{zE(Je.element)});const Fe=Yp(pe);Zm(b,Fe)},p1=(b,w,k,z,se)=>{const pe=Sr.generate(w),Te=z.getWidths(pe,z),Fe=z.pixelWidth(),{newSizes:Je,delta:ft}=se.calcRedestributedWidths(Te,Fe,k.pixelDelta,z.isRelative);l0(pe,Je,z),z.adjustTableWidth(ft)},c0=(b,w,k,z)=>{const se=Sr.generate(w),pe=z.getWidths(se,z);l0(se,pe,z)},XS=(b,w)=>{Qb(b)||$u(b).each(z=>{const se=z.value/2;ay(b,se,z.unit),ay(w,se,z.unit)})},JS=(b,w,k)=>{const z=bl(b,w,1);k===1||z<=1?li(b,w):Nl(b,w,Math.min(k,z))},bA=(b,w)=>k=>{const z=k.column+k.colspan-1,se=k.column;return z>=b&&se<w},u0=(b,w,k)=>{if(Sr.hasColumns(b)){const z=jn(Sr.justColumns(b),bA(w,k)),se=kt(z,Te=>{const Fe=Yl(Te.element);return JS(Fe,"span",k-w),Fe}),pe=vo.fromTag("colgroup");return sc(pe,se),[pe]}else return[]},d0=(b,w,k)=>kt(b.all,z=>{const se=jn(z.cells,bA(w,k)),pe=kt(se,Fe=>{const Je=Yl(Fe.element);return JS(Je,"colspan",k-w),Je}),Te=vo.fromTag("tr");return sc(Te,pe),Te}),Jp=(b,w)=>{const k=Sr.fromTable(b);return Gg(k,w).map(se=>{const pe=se[se.length-1],Te=se[0].column,Fe=pe.column+pe.colspan,Je=u0(k,Te,Fe),ft=d0(k,Te,Fe);return[...Je,...ft]})},qg=(b,w,k)=>{const z=Sr.fromTable(b);return lc(z,w).bind(pe=>{const Te=jg(z,k,!1),Je=Lr(Te).rows.slice(pe[0].row,pe[pe.length-1].row+pe[pe.length-1].rowspan),ft=Ut(Je,Vn=>{const bo=jn(Vn.cells,so=>!so.isLocked);return bo.length>0?[{...Vn,cells:bo}]:[]}),jt=uy(ft);return Vc(jt.length>0,jt)}).map(pe=>Wv(pe))},Zg=(b,w,k,z,se,pe)=>({minRow:b,minCol:w,maxRow:k,maxCol:z,allCells:se,selectedCells:pe}),yA=(b,w)=>{const k=b.grid.columns;let se=b.grid.rows,pe=k,Te=0,Fe=0;const Je=[],ft=[];return ln(b.access,jt=>{if(Je.push(jt),w(jt)){ft.push(jt);const Vn=jt.row,bo=Vn+jt.rowspan-1,so=jt.column,is=so+jt.colspan-1;Vn<se?se=Vn:bo>Te&&(Te=bo),so<pe?pe=so:is>Fe&&(Fe=is)}}),Zg(se,pe,Te,Fe,Je,ft)},dy=(b,w,k)=>{const z=b[k].element,se=vo.fromTag("td");ti(se,vo.fromTag("br")),(w?ti:sa)(z,se)},m1=(b,w,k,z)=>{const se=jn(b,Fe=>Fe.section!=="colgroup"),pe=w.grid.columns,Te=w.grid.rows;for(let Fe=0;Fe<Te;Fe++){let Je=!1;for(let ft=0;ft<pe;ft++)Fe<k.minRow||Fe>k.maxRow||ft<k.minCol||ft>k.maxCol||(Sr.getAt(w,Fe,ft).filter(z).isNone()?dy(se,Je,Fe):Je=!0)}},SA=(b,w,k,z)=>{ln(k.columns,Te=>{(Te.column<w.minCol||Te.column>w.maxCol)&&Kl(Te.element)});const se=jn($d(b,"tr"),Te=>Te.dom.childElementCount===0);at(se,Kl),(w.minCol===w.maxCol||w.minRow===w.maxRow)&&at($d(b,"th,td"),Te=>{li(Te,"rowspan"),li(Te,"colspan")}),li(b,sy),li(b,"data-snooker-col-series"),jv.getTableSize(b).adjustTableWidth(z)},CA=(b,w,k,z)=>{if(z.minCol===0&&w.grid.columns===z.maxCol+1)return 0;const se=Wt(w,b,k),pe=qt(se,(ft,jt)=>ft+jt,0),Je=qt(se.slice(z.minCol,z.maxCol+1),(ft,jt)=>ft+jt,0)/pe*k.pixelWidth()-k.pixelWidth();return k.getCellDelta(Je)},h0=(b,w)=>{const k=bo=>mn(bo.element,w),z=Yl(b),se=No(z),pe=jv.getTableSize(b),Te=Sr.generate(se),Fe=yA(Te,k),Je="th:not("+w+"),td:not("+w+")",ft=dd(z,"th,td",bo=>mn(bo,Je));at(ft,Kl),m1(se,Te,Fe,k);const jt=Sr.fromTable(b),Vn=CA(b,jt,pe,Fe);return SA(z,Fe,Te,Vn),z},Kv=Zl("col"),QS=Zl("colgroup"),Eh=b=>Oi(b)==="tr"||QS(b),g1=b=>{const w=bl(b,"colspan",1),k=bl(b,"rowspan",1);return{element:b,colspan:w,rowspan:k}},bp=(b,w=g1)=>{const k=Fe=>Kv(Fe.element)?b.col(Fe):b.cell(Fe),z=Fe=>QS(Fe.element)?b.colgroup(Fe):b.row(Fe),se=Fe=>{if(Eh(Fe))return z({element:Fe});{const Je=Fe,ft=k(w(Je));return pe=Re.some({item:Je,replacement:ft}),ft}};let pe=Re.none();return{getOrInit:(Fe,Je)=>pe.fold(()=>se(Fe),ft=>Je(Fe,ft.item)?ft.replacement:se(Fe))}},hy=b=>w=>{const k=[],z=(Te,Fe)=>_e(k,Je=>Fe(Je.item,Te)),se=Te=>{const Fe=b==="td"?{scope:null}:{},Je=w.replace(Te,b,Fe);return k.push({item:Te,sub:Je}),Je};return{replaceOrInit:(Te,Fe)=>{if(Eh(Te)||Kv(Te))return Te;{const Je=Te;return z(Je,Fe).fold(()=>se(Je),ft=>Fe(Te,ft.item)?ft.sub:se(Je))}}}},EA=b=>$c(b,"scope").map(w=>w.substr(0,3)),wh={modification:bp,transform:hy,merging:b=>({unmerge:z=>{const se=EA(z);return se.each(pe=>Nl(z,"scope",pe)),()=>{const pe=b.cell({element:z,colspan:1,rowspan:1});return Pu(pe,"width"),Pu(z,"width"),se.each(Te=>Nl(pe,"scope",Te)),pe}},merge:z=>{const se=()=>{const pe=Vs(kt(z,EA));if(pe.length===0)return Re.none();{const Te=pe[0],Fe=["row","col"];return ot(pe,ft=>ft!==Te&&hn(Fe,ft))?Re.none():Re.from(Te)}};return Pu(z[0],"width"),se().fold(()=>li(z[0],"scope"),pe=>Nl(z[0],"scope",pe+"group")),ie(z[0])}})},v1=(b,w)=>{const k=b.slice(0,w[w.length-1].row+1),z=uy(k);return Ut(z,se=>{const pe=se.cells.slice(0,w[w.length-1].column+1);return kt(pe,Te=>Te.element)})},wA=(b,w)=>{const k=b.slice(w[0].row+w[0].rowspan-1,b.length),z=uy(k);return Ut(z,se=>{const pe=se.cells.slice(w[0].column+w[0].colspan-1,se.cells.length);return kt(pe,Te=>Te.element)})},Yv=(b,w,k)=>{const z=Sr.fromTable(b);return lc(z,w).map(pe=>{const Te=jg(z,k,!1),{rows:Fe}=Lr(Te),Je=v1(Fe,pe),ft=wA(Fe,pe);return{upOrLeftCells:Je,downOrRightCells:ft}})},AA={only:(b,w)=>{const k=Ld(b)?ap(b):b;return{parent:ie(k),view:ie(b),dragContainer:ie(k),origin:ie(ma(0,0)),isResizable:w}},detached:(b,w,k)=>{const z=()=>Er(w);return{parent:ie(w),view:ie(b),dragContainer:ie(w),origin:z,isResizable:k}},body:(b,w)=>({parent:ie(b),view:ie(b),dragContainer:ie(b),origin:()=>Er(b),isResizable:w})},Ai=Vt.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),TA=(b,w,k)=>{const z=k.substring(0,k.length-b.length),se=parseFloat(z);return z===se.toString()?w(se):Ai.invalid(k)},_h={...Ai,from:b=>Dd(b,"%")?TA("%",Ai.percent,b):Dd(b,"px")?TA("px",Ai.pixels,b):Ai.invalid(b)},f0=(b,w)=>kt(b,k=>_h.from(k).fold(()=>k,se=>se/w*100+"%",se=>se+"%")),Dr=(b,w,k)=>{const z=k/w;return kt(b,se=>_h.from(se).fold(()=>se,Te=>Te*z+"px",Te=>Te/100*k+"px"))},Xl=(b,w)=>{const k=b.fold(()=>ie(""),z=>{const se=z/w;return ie(se+"px")},()=>{const z=100/w;return ie(z+"%")});return Rt(w,k)},b1=(b,w,k)=>b.fold(()=>w,z=>Dr(w,k,z),z=>f0(w,k)),eC=(b,w,k)=>{const z=_h.from(k),se=xn(b,pe=>pe==="0px")?Xl(z,b.length):b1(z,b,w);return ew(se)},la=(b,w)=>b.length===0?w:wo(b,(k,z)=>_h.from(z).fold(ie(0),be,be)+k,0),fy=(b,w)=>{const k=Math.floor(b);return{value:k+w,remainder:b-k}},y1=(b,w)=>_h.from(b).fold(ie(b),k=>k+w+"px",k=>k+w+"%"),ew=b=>{if(b.length===0)return b;const w=wo(b,(z,se)=>{const pe=_h.from(se).fold(()=>({value:se,remainder:0}),Te=>fy(Te,"px"),Te=>({value:Te+"%",remainder:0}));return{output:[pe.value].concat(z.output),remainder:z.remainder+pe.remainder}},{output:[],remainder:0}),k=w.output;return k.slice(0,k.length-1).concat([y1(k[k.length-1],Math.round(w.remainder))])},xA=_h.from,OA=(b,w,k)=>{at(w,z=>{const se=b.slice(z.column,z.colspan+z.column),pe=la(se,Vl());Ll(z.element,"width",pe+k)})},Qk=(b,w,k)=>{at(w,(z,se)=>{const pe=la([b[se]],Vl());Ll(z.element,"width",pe+k)})},IA=(b,w,k)=>{at(k,z=>{Pu(z.element,"height")}),at(w,(z,se)=>{Ll(z.element,"height",b[se])})},DO=b=>xA(b).fold(ie("px"),ie("px"),ie("%")),RA=(b,w,k)=>{const z=Sr.fromTable(b),se=z.all,pe=Sr.justCells(z),Te=Sr.justColumns(z);w.each(Fe=>{const Je=DO(Fe),ft=xs(b),jt=Sh(z,b),Vn=eC(jt,ft,Fe);Sr.hasColumns(z)?Qk(Vn,Te,Je):OA(Vn,pe,Je),Ll(b,"width",Fe)}),k.each(Fe=>{const Je=Fd(b),ft=Ha(z,b),jt=eC(ft,Je,Fe);IA(jt,se,pe),Ll(b,"height",Fe)})},kA=ly,yp=Km,Gc=pA;var kf=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Qp=()=>{const b=ft=>vo.fromDom(ft.dom.cloneNode(!1)),w=ft=>su(ft).dom,k=ft=>Gi(ft)?Oi(ft)==="body"?!0:hn(kf,Oi(ft)):!1,z=ft=>Gi(ft)?hn(["br","img","hr","input"],Oi(ft)):!1,se=ft=>Gi(ft)&&Du(ft,"contenteditable")==="false",pe=(ft,jt)=>ft.dom.compareDocumentPosition(jt.dom),Te=(ft,jt)=>{const Vn=Bd(ft);Gh(jt,Vn)},Fe=ft=>{const jt=Oi(ft);return hn(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],jt)},Je=ft=>Gi(ft)?$c(ft,"lang"):Re.none();return{up:ie({selector:au,closest:gl,predicate:ci,all:jh}),down:ie({selector:up,predicate:wf}),styles:ie({get:Pm,getRaw:Vd,set:Ll,remove:Pu}),attrs:ie({get:Du,set:Nl,remove:li,copyTo:Te}),insert:ie({before:ja,after:Wh,afterAll:Cl,append:ti,appendAll:sc,prepend:sa,wrap:IE}),remove:ie({unwrap:ra,remove:Kl}),create:ie({nu:vo.fromTag,clone:b,text:vo.fromText}),query:ie({comparePosition:pe,prevSibling:$b,nextSibling:ru}),property:ie({children:nc,name:Oi,parent:et,document:w,isText:ou,isComment:LS,isElement:Gi,isSpecial:Fe,getLanguage:Je,getText:Sf,setText:Fp,isBoundary:k,isEmptyTag:z,isNonEditable:se}),eq:Fs,is:we}};const em=(b,w)=>({item:b,mode:w}),Kg=(b,w,k,z=Jm)=>b.property().parent(w).map(se=>em(se,z)),Jm=(b,w,k,z=Qm)=>k.sibling(b,w).map(se=>em(se,z)),Qm=(b,w,k,z=Qm)=>{const se=b.property().children(w);return k.first(se).map(Te=>em(Te,z))},tw=[{current:Kg,next:Jm,fallback:Re.none()},{current:Jm,next:Qm,fallback:Re.some(Kg)},{current:Qm,next:Qm,fallback:Re.some(Jm)}],tC=(b,w,k,z,se=tw)=>_e(se,Te=>Te.current===k).bind(Te=>Te.current(b,w,z,Te.next).orThunk(()=>Te.fallback.bind(Fe=>tC(b,w,Fe,z)))),S1={left:()=>({sibling:(k,z)=>k.query().prevSibling(z),first:k=>k.length>0?Re.some(k[k.length-1]):Re.none()}),right:()=>({sibling:(k,z)=>k.query().nextSibling(z),first:k=>k.length>0?Re.some(k[0]):Re.none()})},nC=(b,w,k,z,se,pe)=>tC(b,w,z,se).bind(Fe=>pe(Fe.item)?Re.none():k(Fe.item)?Re.some(Fe.item):nC(b,Fe.item,k,Fe.mode,se,pe)),oC=(b,w,k,z)=>nC(b,w,k,Jm,S1.left(),z),sC=(b,w,k,z)=>nC(b,w,k,Jm,S1.right(),z),Yg=(b,w)=>({element:b,offset:w}),py=(b,w,k)=>b.property().isText(w)&&b.property().getText(w).trim().length===0||b.property().isComment(w)?k(w).bind(z=>py(b,z,k).orThunk(()=>Re.some(z))):Re.none(),tm=(b,w)=>b.property().isText(w)?b.property().getText(w).length:b.property().children(w).length,rC=(b,w)=>{const k=py(b,w,b.query().prevSibling).getOr(w);if(b.property().isText(k))return Yg(k,tm(b,k));const z=b.property().children(k);return z.length>0?rC(b,z[z.length-1]):Yg(k,tm(b,k))},nw=rC,iC=Qp(),aC=b=>nw(iC,b),DA=b=>w=>b.property().children(w).length===0,NO=(b,w,k)=>MA(b,w,DA(b),k),my=(b,w,k)=>Df(b,w,DA(b),k),MA=oC,Df=sC,gy=Qp(),lC=(b,w)=>NO(gy,b,w),eg=(b,w)=>my(gy,b,w),zu=(b,w,k)=>MA(gy,b,w,k),ee=(b,w,k)=>Df(gy,b,w,k),m=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],C=(b,w)=>{const k=b.property().name(w);return hn(["ol","ul"],k)},_=(b,w)=>{const k=b.property().name(w);return hn(m,k)},I=(b,w)=>hn(["br","img","hr","input"],b.property().name(w)),D=(b,w,k,z)=>{const se=k[0],pe=k.slice(1);return z(b,w,se,pe)},N=(b,w,k)=>k.length>0?D(b,w,k,V):Re.none(),V=(b,w,k,z)=>{const se=w(b,k);return wo(z,(pe,Te)=>{const Fe=w(b,Te);return q(b,pe,Fe)},se)},q=(b,w,k)=>w.bind(z=>k.filter(Ae(b.eq,z))),Q=(b,w)=>Ae(b.eq,w),ce=(b,w,k,z=Xe)=>{const se=[w].concat(b.up().all(w)),pe=[k].concat(b.up().all(k)),Te=jt=>vr(jt,z).fold(()=>jt,bo=>jt.slice(0,bo+1)),Fe=Te(se),Je=Te(pe),ft=_e(Fe,jt=>ot(Je,Q(b,jt)));return{firstpath:Fe,secondpath:Je,shared:ft}},ne=N,he=ce,ye=Qp(),Ee=(b,w)=>ne(ye,(k,z)=>b(z),w),Ne=(b,w,k)=>he(ye,b,w,k),Le=Qp(),Me=b=>_(Le,b),ze=b=>C(Le,b),Ye=b=>I(Le,b),Nt=b=>{const w=Zl("br"),k=Je=>xn(Je,ft=>w(ft)||ou(ft)&&Sf(ft).trim().length===0),z=Je=>Oi(Je)==="li"||ci(Je,ze).isSome(),se=Je=>ru(Je).map(ft=>Me(ft)?!0:Ye(ft)?Oi(ft)!=="img":!1).getOr(!1),pe=Je=>qa(Je).bind(ft=>{const jt=se(ft);return et(ft).map(Vn=>jt===!0||z(Vn)||w(ft)||Me(Vn)&&!Fs(Je,Vn)?[]:[vo.fromTag("br")])}).getOr([]),Fe=(()=>{const Je=Ut(b,ft=>{const jt=nc(ft);return k(jt)?[]:jt.concat(pe(ft))});return Je.length===0?[vo.fromTag("br")]:Je})();Mu(b[0]),sc(b[0],Fe)},Tt=b=>{li(b,"width"),li(b,"height")},It=b=>{const w=Qh(b);RA(b,Re.some(w),Re.none()),Tt(b)},bn=b=>{const w=ic(b);RA(b,Re.some(w),Re.none()),Tt(b)},Ft=b=>{const w=xf(b);RA(b,Re.none(),Re.some(w)),Tt(b)},gn=b=>{Pu(b,"width");const w=HS(b),k=w.length>0?w:Pg(b);at(k,z=>{Pu(z,"width"),Tt(z)}),Tt(b)},Pn={scope:["row","col"]},ao=b=>()=>{const w=vo.fromTag("td",b.dom);return ti(w,vo.fromTag("br",b.dom)),w},Vo=b=>()=>vo.fromTag("col",b.dom),qo=b=>()=>vo.fromTag("colgroup",b.dom),Us=b=>()=>vo.fromTag("tr",b.dom),bs=(b,w,k)=>{const z=yf(b,w);return ln(k,(se,pe)=>{se===null?li(z,pe):Nl(z,pe,se)}),z},zs=b=>b,us=(b,w,k)=>Vv(b).map(se=>{const pe=k.join(","),Te=ui(se,pe,Fe=>Fs(Fe,b));return wo(Te,(Fe,Je)=>{const ft=qh(Je);return ti(Fe,ft),ft},w)}).getOr(w),or=(b,w)=>{ln(Pn,(k,z)=>$c(b,z).filter(se=>hn(k,se)).each(se=>Nl(w,z,se)))},jr=(b,w,k)=>{const z=(Te,Fe)=>{o1(Te.element,Fe),Pu(Fe,"height"),Te.colspan!==1&&Pu(Fe,"width")},se=Te=>{const Fe=vo.fromTag(Oi(Te.element),w.dom),Je=k.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),ft=Je.length>0?us(Te.element,Fe,Je):Fe;return ti(ft,vo.fromTag("br")),z(Te,Fe),or(Te.element,Fe),b(Te.element,Fe),Fe};return{col:Te=>{const Fe=vo.fromTag(Oi(Te.element),w.dom);return z(Te,Fe),b(Te.element,Fe),Fe},colgroup:qo(w),row:Us(w),cell:se,replace:bs,colGap:Vo(w),gap:ao(w)}},Di=b=>({col:Vo(b),colgroup:qo(b),row:Us(b),cell:ao(b),replace:zs,colGap:Vo(b),gap:ao(b)}),hi=b=>Sr.fromTable(b).grid,Fl=(b,w,k,z)=>{const se=Lr(b).rows;if(se.length===0)return b;for(let pe=w.startRow;pe<=w.finishRow;pe++)for(let Te=w.startCol;Te<=w.finishCol;Te++){const Fe=se[pe],Je=Ss(Fe,Te).isLocked;Ou(Fe,Te,Vi(z(),!1,Je))}return b},Ti=(b,w,k,z)=>{const se=Lr(b).rows;let pe=!0;for(let Te=0;Te<se.length;Te++)for(let Fe=0;Fe<kl(se[0]);Fe++){const Je=se[Te],ft=Ss(Je,Fe),jt=ft.element,Vn=k(jt,w);Vn&&!pe?Ou(Je,Fe,Vi(z(),!0,ft.isLocked)):Vn&&(pe=!1)}return b},Mr=(b,w)=>qt(b,(k,z)=>ot(k,se=>w(se.element,z.element))?k:k.concat([z]),[]),Vr=(b,w,k,z)=>(w>0&&w<b[0].cells.length&&at(b,se=>{const pe=se.cells[w-1];let Te=0;const Fe=z();for(;se.cells.length>w+Te&&k(pe.element,se.cells[w+Te].element);)Ou(se,w+Te,Vi(Fe,!0,se.cells[w+Te].isLocked)),Te++}),b),ir=(b,w,k,z)=>{const se=Lr(b).rows;if(w>0&&w<se.length){const pe=se[w-1].cells,Te=Mr(pe,k);at(Te,Fe=>{let Je=Re.none();for(let ft=w;ft<se.length;ft++)for(let jt=0;jt<kl(se[0]);jt++){const Vn=se[ft],bo=Ss(Vn,jt);k(bo.element,Fe.element)&&(Je.isNone()&&(Je=Re.some(z())),Je.each(is=>{Ou(Vn,jt,Vi(is,!0,bo.isLocked))}))}})}return b},cc=(b,w,k)=>{if(b.row>=w.length||b.column>kl(w[0]))return fa.error("invalid start address out of table bounds, row: "+b.row+", column: "+b.column);const z=w.slice(b.row),se=z[0].cells.slice(b.column),pe=kl(k[0]),Te=k.length;return fa.value({rowDelta:z.length-Te,colDelta:se.length-pe})},ca=(b,w)=>{const k=kl(b[0]),z=kl(w[0]);return{rowDelta:0,colDelta:k-z}},Xa=(b,w)=>{const k=b.length,z=w.length;return{rowDelta:k-z,colDelta:0}},uc=(b,w,k,z)=>{const se=w.section==="colgroup"?k.col:k.cell;return Rt(b,pe=>Vi(se(),!0,z(pe)))},nm=(b,w,k,z)=>{const se=b[b.length-1];return b.concat(Rt(w,()=>{const pe=se.section==="colgroup"?k.colgroup:k.row,Te=hh(se,pe,be),Fe=uc(Te.cells.length,Te,k,Je=>Ks(z,Je.toString()));return Hh(Te,Fe)}))},Mf=(b,w,k,z)=>kt(b,se=>{const pe=uc(w,se,k,Xe);return kc(se,z,pe)}),ju=(b,w,k)=>kt(b,z=>qt(k,(se,pe)=>{const Te=uc(1,z,w,Ve)[0];return eu(se,pe,Te)},z)),xc=(b,w,k)=>{const z=w.colDelta<0?Mf:be,se=w.rowDelta<0?nm:be,pe=Nc(b),Te=kl(b[0]),Fe=ot(pe,jt=>jt===Te-1),Je=z(b,Math.abs(w.colDelta),k,Fe?Te-1:Te),ft=Nc(Je);return se(Je,Math.abs(w.rowDelta),k,zt(ft,Ve))},Fr=(b,w,k,z)=>{const se=Ss(b[w],k),pe=Ae(z,se.element),Te=b[w];return b.length>1&&kl(Te)>1&&(k>0&&pe(Wi(Te,k-1))||k<Te.cells.length-1&&pe(Wi(Te,k+1))||w>0&&pe(Wi(b[w-1],k))||w<b.length-1&&pe(Wi(b[w+1],k)))},zi=(b,w,k,z,se,pe)=>{const Te=b.row,Fe=b.column,Je=k.length,ft=kl(k[0]),jt=Te+Je,Vn=Fe+ft+pe.length,bo=zt(pe,Ve);for(let so=Te;so<jt;so++){let is=0;for(let yn=Fe;yn<Vn;yn++){if(bo[yn]){is++;continue}Fr(w,so,yn,se)&&Ti(w,Wi(w[so],yn),se,z.cell);const Fn=yn-Fe-is,_s=Ss(k[so-Te],Fn),Js=_s.element,Lo=z.replace(Js);Ou(w[so],yn,Vi(Lo,!0,_s.isLocked))}}return w},yl=(b,w,k)=>{const z=kl(w[0]),se=Lr(w).cols.length+b.row,pe=Rt(z-b.column,Fe=>Fe+b.column),Te=_e(pe,Fe=>xn(k,Je=>Je!==Fe)).getOr(z-1);return{row:se,column:Te}},Ja=(b,w,k)=>jn(k,z=>z>=b.column&&z<=kl(w[0])+b.column),Tl=(b,w,k,z,se)=>{const pe=Nc(w),Te=yl(b,w,pe),Fe=Lr(k).rows,Je=Ja(Te,Fe,pe);return cc(Te,w,Fe).map(jt=>{const Vn={...jt,colDelta:jt.colDelta-Je.length},bo=xc(w,Vn,z),so=Nc(bo),is=Ja(Te,Fe,so);return zi(Te,bo,Fe,z,se,is)})},ua=(b,w,k,z,se)=>{Vr(w,b,se,z.cell);const pe=Xa(k,w),Te=xc(k,pe,z),Fe=Xa(w,Te),Je=xc(w,Fe,z);return kt(Je,(ft,jt)=>kc(ft,b,Te[jt].cells))},Xg=(b,w,k,z,se)=>{ir(w,b,se,z.cell);const pe=Nc(w),Te=ca(w,k),Fe={...Te,colDelta:Te.colDelta-pe.length},Je=xc(w,Fe,z),{cols:ft,rows:jt}=Lr(Je),Vn=Nc(Je),bo=ca(k,w),so={...bo,colDelta:bo.colDelta+Vn.length},is=ju(k,z,Vn),yn=xc(is,so,z);return[...ft,...jt.slice(0,b),...yn,...jt.slice(b,jt.length)]},C1=(b,w,k,z)=>hh(b,se=>z(se,k),w),PA=(b,w,k,z,se)=>{const{rows:pe,cols:Te}=Lr(b),Fe=pe.slice(0,w),Je=pe.slice(w),ft=C1(pe[k],(jt,Vn)=>w>0&&w<pe.length&&z(Wi(pe[w-1],Vn),Wi(pe[w],Vn))?Ss(pe[w],Vn):Vi(se(jt.element,z),!0,jt.isLocked),z,se);return[...Te,...Fe,ft,...Je]},eD=(b,w,k,z,se,pe,Te)=>{if(k==="colgroup"||!z){const Fe=Ss(b,se);return Vi(Te(Fe.element,pe),!0,!1)}else return Ss(b,w)},NA=(b,w,k,z,se)=>kt(b,pe=>{const Te=w>0&&w<kl(pe)&&z(Wi(pe,w-1),Wi(pe,w)),Fe=eD(pe,w,pe.section,Te,k,z,se);return eu(pe,w,Fe)}),tD=(b,w)=>Ut(b,k=>{const z=k.cells,se=wo(w,(pe,Te)=>Te>=0&&Te<pe.length?pe.slice(0,Te).concat(pe.slice(Te+1)):pe,z);return se.length>0?[yc(k.element,se,k.section,k.isNew)]:[]}),E1=(b,w,k)=>{const{rows:z,cols:se}=Lr(b);return[...se,...z.slice(0,w),...z.slice(k+1)]},LO=(b,w,k,z)=>Wi(b[w],k)!==void 0&&w>0&&z(Wi(b[w-1],k),Wi(b[w],k)),w1=(b,w,k)=>w>0&&k(Wi(b,w-1),Wi(b,w)),LA=(b,w,k,z)=>LO(b,w,k,z)||w1(b[w],k,z),BO=(b,w)=>xn(w,be)&&Lg(b.cells)?Ve:(z,se,pe)=>!(Oi(z.element)==="th"&&w[pe]),BA=(b,w)=>xn(w,be)&&Lg(b)?Ve:(z,se,pe)=>!(Oi(z.element)==="th"&&w[se]),Jg=(b,w,k,z)=>{const se=Te=>Te==="row"?BE(w):Qb(w),pe=Te=>se(Te)?`${Te}group`:Te;return b?Ng(w)?pe(k):null:z&&Ng(w)?pe(k==="row"?"col":"row"):null},ow=(b,w)=>(k,z,se)=>Re.some(Jg(b,k.element,"col",w[se])),VO=(b,w)=>(k,z)=>Re.some(Jg(b,k.element,"row",w[z])),cC=(b,w,k)=>Vi(k(b.element,w),!0,b.isLocked),sw=(b,w,k,z,se,pe,Te)=>{const Fe=Je=>ot(w,ft=>k(Je.element,ft.element));return kt(b,(Je,ft)=>na(Je,(jt,Vn)=>{if(Fe(jt)){const bo=Te(jt,ft,Vn)?se(jt,k,z):jt;return pe(bo,ft,Vn).each(so=>{ku(bo.element,{scope:Re.from(so)})}),bo}else return jt}))},VA=(b,w,k)=>Ut(b,(z,se)=>LA(b,se,w,k)?[]:[Ss(z,w)]),FO=(b,w,k)=>{const z=b[w];return Ut(z.cells,(se,pe)=>LA(b,w,pe,k)?[]:[se])},tg=(b,w,k,z,se)=>{const pe=Lr(b).rows,Te=Ut(w,jt=>VA(pe,jt,z)),Fe=kt(pe,jt=>Lg(jt.cells)),Je=BA(Te,Fe),ft=VO(k,Fe);return sw(b,Te,z,se,cC,ft,Je)},Xv=(b,w,k,z,se,pe,Te)=>{const{cols:Fe,rows:Je}=Lr(b),ft=Je[w[0]],jt=Ut(w,Fn=>FO(Je,Fn,se)),Vn=kt(ft.cells,(Fn,_s)=>Lg(VA(Je,_s,se))),bo=[...Je];at(w,Fn=>{bo[Fn]=Te.transformRow(Je[Fn],k)});const so=[...Fe,...bo],is=BO(ft,Vn),yn=ow(z,Vn);return sw(so,jt,se,pe,Te.transformCell,yn,is)},uC=(b,w,k,z)=>{const se=Lr(b).rows,pe=kt(w,Te=>Ss(se[Te.row],Te.column));return sw(b,pe,k,z,cC,Re.none,Ve)},an=b=>qt(b,(k,z)=>ot(k,pe=>pe.column===z.column)?k:k.concat([z]),[]).sort((k,z)=>k.column-z.column),ef=b=>Bm(b,!0),dC=b=>{Pg(b).length===0&&Kl(b)},rw=(b,w)=>({grid:b,cursor:w}),FA=b=>Yt(b,w=>Yt(w.cells,k=>{const z=k.element;return Vc(ef(z),z)})),Qg=(b,w,k)=>{var z,se;const pe=Lr(b).rows;return Re.from((se=(z=pe[w])===null||z===void 0?void 0:z.cells[k])===null||se===void 0?void 0:se.element).filter(ef).orThunk(()=>FA(pe))},jd=(b,w,k)=>{const z=Qg(b,w,k);return rw(b,z)},iw=b=>qt(b,(k,z)=>ot(k,pe=>pe.row===z.row)?k:k.concat([z]),[]).sort((k,z)=>k.row-z.row),nD=(b,w,k,z)=>{const se=w[0].row,pe=iw(w),Te=wo(pe,(Fe,Je)=>({grid:PA(Fe.grid,se,Je.row+Fe.delta,k,z.getOrInit),delta:Fe.delta+1}),{grid:b,delta:0}).grid;return jd(Te,se,w[0].column)},HA=(b,w,k,z)=>{const se=iw(w),pe=se[se.length-1],Te=pe.row+pe.rowspan,Fe=wo(se,(Je,ft)=>PA(Je,Te,ft.row,k,z.getOrInit),b);return jd(Fe,Te,w[0].column)},oD=(b,w,k,z)=>{const se=w.details,pe=an(se),Te=pe[0].column,Fe=wo(pe,(Je,ft)=>({grid:NA(Je.grid,Te,ft.column+Je.delta,k,z.getOrInit),delta:Je.delta+1}),{grid:b,delta:0}).grid;return jd(Fe,se[0].row,Te)},_1=(b,w,k,z)=>{const se=w.details,pe=se[se.length-1],Te=pe.column+pe.colspan,Fe=an(se),Je=wo(Fe,(ft,jt)=>NA(ft,Te,jt.column,k,z.getOrInit),b);return jd(Je,se[0].row,Te)},HO=(b,w,k,z)=>{const se=an(w),pe=kt(se,Fe=>Fe.column),Te=tg(b,pe,!0,k,z.replaceOrInit);return jd(Te,w[0].row,w[0].column)},Jv=(b,w,k,z)=>{const se=uC(b,w,k,z.replaceOrInit);return jd(se,w[0].row,w[0].column)},$O=(b,w,k,z)=>{const se=an(w),pe=kt(se,Fe=>Fe.column),Te=tg(b,pe,!1,k,z.replaceOrInit);return jd(Te,w[0].row,w[0].column)},sD=(b,w,k,z)=>{const se=uC(b,w,k,z.replaceOrInit);return jd(se,w[0].row,w[0].column)},Wd=(b,w)=>(k,z,se,pe,Te)=>{const Fe=iw(z),Je=kt(Fe,jt=>jt.row),ft=Xv(k,Je,b,w,se,pe.replaceOrInit,Te);return jd(ft,z[0].row,z[0].column)},ev=Wd("thead",!0),Pf=Wd("tbody",!1),$A=Wd("tfoot",!1),hC=(b,w,k,z)=>{const se=an(w.details),pe=tD(b,kt(se,Fe=>Fe.column)),Te=pe.length>0?pe[0].cells.length-1:0;return jd(pe,se[0].row,Math.min(se[0].column,Te))},rD=(b,w,k,z)=>{const se=iw(w),pe=E1(b,se[0].row,se[se.length-1].row),Te=Math.max(Lr(pe).rows.length-1,0);return jd(pe,Math.min(w[0].row,Te),w[0].column)},g4=(b,w,k,z)=>{const se=w.cells;Nt(se);const pe=Fl(b,w.bounds,k,z.merge(se));return rw(pe,Re.from(se[0]))},UO=(b,w,k,z)=>{const pe=wo(w,(Te,Fe)=>Ti(Te,Fe,k,z.unmerge(Fe)),b);return rw(pe,Re.from(w[0]))},iD=(b,w,k,z)=>{const pe=((Je,ft)=>{const jt=Sr.fromTable(Je);return jg(jt,ft,!0)})(w.clipboard,w.generators),Te=Fh(w.row,w.column);return Tl(Te,b,pe,w.generators,k).fold(()=>rw(b,Re.some(w.element)),Je=>jd(Je,w.row,w.column))},wr=(b,w,k)=>{const z=va(b,k.section),se=Sr.generate(z);return jg(se,w,!0)},ms=(b,w,k,z)=>{const se=Lr(b).rows,pe=w.cells[0].column,Te=se[w.cells[0].row],Fe=wr(w.clipboard,w.generators,Te),Je=ua(pe,b,Fe,w.generators,k);return jd(Je,w.cells[0].row,w.cells[0].column)},aw=(b,w,k,z)=>{const se=Lr(b).rows,pe=w.cells[w.cells.length-1].column+w.cells[w.cells.length-1].colspan,Te=se[w.cells[0].row],Fe=wr(w.clipboard,w.generators,Te),Je=ua(pe,b,Fe,w.generators,k);return jd(Je,w.cells[0].row,pe)},UA=(b,w,k,z)=>{const se=Lr(b).rows,pe=w.cells[0].row,Te=se[pe],Fe=wr(w.clipboard,w.generators,Te),Je=Xg(pe,b,Fe,w.generators,k);return jd(Je,w.cells[0].row,w.cells[0].column)},zO=(b,w,k,z)=>{const se=Lr(b).rows,pe=w.cells[w.cells.length-1].row+w.cells[w.cells.length-1].rowspan,Te=se[w.cells[0].row],Fe=wr(w.clipboard,w.generators,Te),Je=Xg(pe,b,Fe,w.generators,k);return jd(Je,pe,w.cells[0].column)},v4=(b,w)=>{const k=Sr.fromTable(b);return lc(k,w).bind(se=>{const pe=se[se.length-1],Te=se[0].column,Fe=pe.column+pe.colspan,Je=vs(kt(k.all,ft=>jn(ft.cells,jt=>jt.column>=Te&&jt.column<Fe)));return zS(Je)}).getOr("")},jO=(b,w)=>{const k=Sr.fromTable(b);return lc(k,w).bind(zS).getOr("")},Ra=(b,w)=>{const k=Sr.fromTable(b);return lc(k,w).bind(se=>{const pe=se[se.length-1],Te=se[0].row,Fe=pe.row+pe.rowspan,Je=k.all.slice(Te,Fe);return IO(Je)}).getOr("")},zA=(b,w,k,z)=>c0(b,w,k,z.sizing),lw=(b,w,k,z)=>p1(b,w,k,z.sizing,z.resize),A1=(b,w)=>ot(w,k=>k.column===0&&k.isLocked),pn=(b,w)=>ot(w,k=>k.column+k.colspan>=b.grid.columns&&k.isLocked),jA=(b,w)=>{const k=HE(b),z=an(w);return qt(z,(se,pe)=>{const Fe=k[pe.column].map(pa).getOr(0);return se+Fe},0)},aD=b=>(w,k)=>lc(w,k).filter(z=>!(b?A1:pn)(w,z)).map(z=>({details:z,pixelDelta:jA(w,z)})),WA=(b,w)=>Gg(b,w).map(k=>({details:k,pixelDelta:-jA(b,k)})),lD=b=>(w,k)=>Of(w,k).filter(z=>!(b?A1:pn)(w,z.cells)),p0=wh.transform("th"),T1=wh.transform("td"),x1=(b,w,k,z)=>Al(nD,lc,Z,Z,wh.modification,b,w,k,z),WO=(b,w,k,z)=>Al(HA,lc,Z,Z,wh.modification,b,w,k,z),O1=(b,w,k,z)=>Al(oD,aD(!0),lw,Z,wh.modification,b,w,k,z),Ea=(b,w,k,z)=>Al(_1,aD(!1),lw,Z,wh.modification,b,w,k,z),tv=(b,w,k,z)=>Al(hC,WA,lw,dC,wh.modification,b,w,k,z),cD=(b,w,k,z)=>Al(rD,lc,Z,dC,wh.modification,b,w,k,z),m0=(b,w,k,z)=>Al(HO,Gg,Z,Z,p0,b,w,k,z),ng=(b,w,k,z)=>Al($O,Gg,Z,Z,T1,b,w,k,z),b4=(b,w,k,z)=>Al(ev,lc,Z,Z,p0,b,w,k,z),y4=(b,w,k,z)=>Al(Pf,lc,Z,Z,T1,b,w,k,z),GO=(b,w,k,z)=>Al($A,lc,Z,Z,T1,b,w,k,z),S4=(b,w,k,z)=>Al(Jv,Gg,Z,Z,p0,b,w,k,z),C4=(b,w,k,z)=>Al(sD,Gg,Z,Z,T1,b,w,k,z),E4=(b,w,k,z)=>Al(g4,Ym,zA,Z,wh.merging,b,w,k,z),w4=(b,w,k,z)=>Al(UO,Zv,zA,Z,wh.merging,b,w,k,z),qO=(b,w,k,z)=>Al(iD,i0,zA,Z,wh.modification,b,w,k,z),oo=(b,w,k,z)=>Al(ms,lD(!0),Z,Z,wh.modification,b,w,k,z),uD=(b,w,k,z)=>Al(aw,lD(!1),Z,Z,wh.modification,b,w,k,z),du=(b,w,k,z)=>Al(UA,Of,Z,Z,wh.modification,b,w,k,z),dD=(b,w,k,z)=>Al(zO,Of,Z,Z,wh.modification,b,w,k,z),hD=v4,fD=jO,_4=Ra,$s=(b,w)=>{const k=w.column,z=w.column+w.colspan-1,se=w.row,pe=w.row+w.rowspan-1;return k<=b.finishCol&&z>=b.startCol&&se<=b.finishRow&&pe>=b.startRow},ZO=(b,w)=>w.column>=b.startCol&&w.column+w.colspan-1<=b.finishCol&&w.row>=b.startRow&&w.row+w.rowspan-1<=b.finishRow,pD=(b,w)=>{let k=!0;const z=Ae(ZO,w);for(let se=w.startRow;se<=w.finishRow;se++)for(let pe=w.startCol;pe<=w.finishCol;pe++)k=k&&Sr.getAt(b,se,pe).exists(z);return k?Re.some(w):Re.none()},xz=(b,w)=>rl(Math.min(b.row,w.row),Math.min(b.column,w.column),Math.max(b.row+b.rowspan-1,w.row+w.rowspan-1),Math.max(b.column+b.colspan-1,w.column+w.colspan-1)),A4=(b,w,k)=>{const z=Sr.findItem(b,w,Fs),se=Sr.findItem(b,k,Fs);return z.bind(pe=>se.map(Te=>xz(pe,Te)))},mD=(b,w,k)=>A4(b,w,k).bind(z=>pD(b,z)),Oz=(b,w,k,z)=>Sr.findItem(b,w,Fs).bind(se=>{const pe=k>0?se.row+se.rowspan-1:se.row,Te=z>0?se.column+se.colspan-1:se.column;return Sr.getAt(b,pe+k,Te+z).map(Je=>Je.element)}),T4=(b,w,k)=>A4(b,w,k).map(z=>{const se=Sr.filterItems(b,Ae($s,z));return kt(se,pe=>pe.element)}),gD=(b,w)=>{const k=(z,se)=>_r(se,z);return Sr.findItem(b,w,k).map(z=>z.element)},KO=(b,w,k)=>Ud(b).bind(z=>{const se=Sp(z);return Oz(se,b,w,k)}),js=(b,w,k)=>{const z=Sp(b);return T4(z,w,k)},YO=(b,w,k,z,se)=>{const pe=Sp(b),Te=Fs(b,k)?Re.some(w):gD(pe,w),Fe=Fs(b,se)?Re.some(z):gD(pe,z);return Te.bind(Je=>Fe.bind(ft=>T4(pe,Je,ft)))},g0=(b,w,k)=>{const z=Sp(b);return mD(z,w,k)},Sp=Sr.fromTable,Po={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Gd=()=>vo.fromTag("th"),cw=()=>vo.fromTag("td"),uw=()=>vo.fromTag("col"),GA=(b,w,k,z)=>{const se=vo.fromTag("tr");for(let pe=0;pe<b;pe++){const Te=z<w||pe<k?Gd():cw();pe<k&&Nl(Te,"scope","row"),z<w&&Nl(Te,"scope","col"),ti(Te,vo.fromTag("br")),ti(se,Te)}return se},fC=b=>{const w=vo.fromTag("colgroup");return Rt(b,()=>ti(w,uw())),w},dw=(b,w,k,z)=>Rt(b,se=>GA(w,k,z,se)),v0=(b,w,k,z,se,pe=Po)=>{const Te=vo.fromTag("table"),Fe=se!=="cells";ia(Te,pe.styles),Gh(Te,pe.attributes),pe.colGroups&&ti(Te,fC(w));const Je=Math.min(b,k);if(Fe&&k>0){const so=vo.fromTag("thead");ti(Te,so);const yn=dw(k,w,se==="sectionCells"?Je:0,z);sc(so,yn)}const ft=vo.fromTag("tbody");ti(Te,ft);const jt=Fe?b-Je:b,bo=dw(jt,w,Fe?0:k,z);return sc(ft,bo),Te},yd=b=>{let w=[];return{bind:pe=>{if(pe===void 0)throw new Error("Event bind error: undefined handler");w.push(pe)},unbind:pe=>{w=jn(w,Te=>Te!==pe)},trigger:(...pe)=>{const Te={};at(b,(Fe,Je)=>{Te[Fe]=pe[Je]}),at(w,Fe=>{Fe(Te)})}}},Qv=b=>{const w=On(b,z=>({bind:z.bind,unbind:z.unbind})),k=On(b,z=>z.trigger);return{registry:w,trigger:k}},x4=$n(["compare","extract","mutate","sink"]),Wu=$n(["element","start","stop","destroy"]),pC=$n(["forceDrop","drop","move","delayDrop"]),O4=()=>{let b=Re.none();const w=()=>{b=Re.none()},k=(pe,Te)=>{const Fe=b.map(Je=>pe.compare(Je,Te));return b=Re.some(Te),Fe},z=(pe,Te)=>{Te.extract(pe).each(Je=>{k(Te,Je).each(jt=>{se.trigger.move(jt)})})},se=Qv({move:yd(["info"])});return{onEvent:z,reset:w,events:se.registry}},Wr=()=>{const b=Qv({move:yd(["info"])});return{onEvent:Z,reset:Z,events:b.registry}},nv=()=>{const b=Wr(),w=O4();let k=b;return{on:()=>{k.reset(),k=w},off:()=>{k.reset(),k=b},isOn:()=>k===w,onEvent:(Fe,Je)=>{k.onEvent(Fe,Je)},events:w.events}},I1=(b,w,k)=>{let z=!1;const se=Qv({start:yd([]),stop:yd([])}),pe=nv(),Te=()=>{is.stop(),pe.isOn()&&(pe.off(),se.trigger.stop())},Fe=Md(Te,200),Je=Fn=>{is.start(Fn),pe.on(),se.trigger.start()},ft=Fn=>{Fe.cancel(),pe.onEvent(Fn,w)};pe.events.move.bind(Fn=>{w.mutate(b,Fn.info)});const jt=()=>{z=!0},Vn=()=>{z=!1},bo=()=>z,so=Fn=>(..._s)=>{z&&Fn.apply(null,_s)},is=w.sink(pC({forceDrop:Te,drop:so(Te),move:so(ft),delayDrop:so(Fe.throttle)}),k),yn=()=>{is.destroy()};return{element:is.element,go:Je,on:jt,off:Vn,isActive:bo,destroy:yn,events:se.registry}},R1=dr("ephox-dragster").resolve,Kr=b=>{const w={layerClass:R1("blocker"),...b},k=vo.fromTag("div");return Nl(k,"role","presentation"),ia(k,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Cf(k,R1("blocker")),Cf(k,w.layerClass),{element:ie(k),destroy:()=>{Kl(k)}}};var hw=x4({compare:(b,w)=>ma(w.left-b.left,w.top-b.top),extract:b=>Re.some(ma(b.x,b.y)),sink:(b,w)=>{const k=Kr(w),z=Pl(k.element(),"mousedown",b.forceDrop),se=Pl(k.element(),"mouseup",b.drop),pe=Pl(k.element(),"mousemove",b.move),Te=Pl(k.element(),"mouseout",b.delayDrop),Fe=()=>{k.destroy(),se.unbind(),pe.unbind(),Te.unbind(),z.unbind()},Je=jt=>{ti(jt,k.element())},ft=()=>{Kl(k.element())};return Wu({element:k.element,start:Je,stop:ft,destroy:Fe})},mutate:(b,w)=>{b.mutate(w.left,w.top)}});const I4=(b,w={})=>{var k;const z=(k=w.mode)!==null&&k!==void 0?k:hw;return I1(b,z,w)},qA=dr("ephox-snooker").resolve,XO=()=>{const b=Qv({drag:yd(["xDelta","yDelta"])});return{mutate:(k,z)=>{b.trigger.drag(k,z)},events:b.registry}},fw=()=>{const b=Qv({drag:yd(["xDelta","yDelta","target"])});let w=Re.none();const k=XO();return k.events.drag.bind(pe=>{w.each(Te=>{b.trigger.drag(pe.xDelta,pe.yDelta,Te)})}),{assign:pe=>{w=Re.some(pe)},get:()=>w,mutate:k.mutate,events:b.registry}},bD=(b,w,k,z,se)=>{const pe=vo.fromTag("div");return ia(pe,{position:"absolute",left:w-z/2+"px",top:k+"px",height:se+"px",width:z+"px"}),Gh(pe,{"data-mce-bogus":"all","data-column":b,role:"presentation"}),pe},R4=(b,w,k,z,se)=>{const pe=vo.fromTag("div");return ia(pe,{position:"absolute",left:w+"px",top:k-se/2+"px",height:se+"px",width:z+"px"}),Gh(pe,{"data-mce-bogus":"all","data-row":b,role:"presentation"}),pe},pw=qA("resizer-bar"),JO=qA("resizer-rows"),QO=qA("resizer-cols"),yD=7,SD=(b,w)=>Ut(b.all,(k,z)=>w(k.element)?[z]:[]),CD=(b,w)=>{const k=[];return Rt(b.grid.columns,z=>{Sr.getColumnAt(b,z).map(pe=>pe.element).forall(w)&&k.push(z)}),jn(k,z=>{const se=Sr.filterItems(b,pe=>pe.column===z);return xn(se,pe=>w(pe.element))})},eI=b=>{const w=up(b.parent(),"."+pw);at(w,Kl)},tI=(b,w,k)=>{const z=b.origin();at(w,se=>{se.each(pe=>{const Te=k(z,pe);Cf(Te,pw),ti(b.parent(),Te)})})},fi=(b,w,k,z)=>{tI(b,w,(se,pe)=>{const Te=bD(pe.col,pe.x-se.left,k.top-se.top,yD,z);return Cf(Te,QO),Te})},ED=(b,w,k,z)=>{tI(b,w,(se,pe)=>{const Te=R4(pe.row,k.left-se.left,pe.y-se.top,z,yD);return Cf(Te,JO),Te})},ZA=(b,w,k,z,se)=>{const pe=Er(k),Te=w.isResizable,Fe=z.length>0?Tf.positions(z,k):[],Je=Fe.length>0?SD(b,Te):[],ft=jn(Fe,(so,is)=>ot(Je,yn=>is===yn));ED(w,ft,pe,pa(k));const jt=se.length>0?fd.positions(se,k):[],Vn=jt.length>0?CD(b,Te):[],bo=jn(jt,(so,is)=>ot(Vn,yn=>is===yn));fi(w,bo,pe,r1(k))},nI=(b,w)=>{if(eI(b),b.isResizable(w)){const k=Sr.fromTable(w),z=Jh(k),se=HE(k);ZA(k,b,w,z,se)}},om=(b,w)=>{const k=up(b.parent(),"."+pw);at(k,w)},wD=b=>{om(b,w=>{Ll(w,"display","none")})},oI=b=>{om(b,w=>{Ll(w,"display","block")})},k4=b=>Ef(b,JO),eb=b=>Ef(b,QO),D4=qA("resizer-bar-dragging"),mw=b=>{const w=fw(),k=I4(w,{});let z=Re.none();const se=(yn,Fn)=>Re.from(Du(yn,Fn));w.events.drag.bind(yn=>{se(yn.target,"data-row").each(Fn=>{const _s=Zr(yn.target,"top");Ll(yn.target,"top",_s+yn.yDelta+"px")}),se(yn.target,"data-column").each(Fn=>{const _s=Zr(yn.target,"left");Ll(yn.target,"left",_s+yn.xDelta+"px")})});const pe=(yn,Fn)=>{const _s=Zr(yn,Fn),Js=bl(yn,"data-initial-"+Fn,0);return _s-Js};k.events.stop.bind(()=>{w.get().each(yn=>{z.each(Fn=>{se(yn,"data-row").each(_s=>{const Js=pe(yn,"top");li(yn,"data-initial-top"),is.trigger.adjustHeight(Fn,Js,parseInt(_s,10))}),se(yn,"data-column").each(_s=>{const Js=pe(yn,"left");li(yn,"data-initial-left"),is.trigger.adjustWidth(Fn,Js,parseInt(_s,10))}),nI(b,Fn)})})});const Te=(yn,Fn)=>{is.trigger.startAdjust(),w.assign(yn),Nl(yn,"data-initial-"+Fn,Zr(yn,Fn)),Cf(yn,D4),Ll(yn,"opacity","0.2"),k.go(b.dragContainer())},Fe=Pl(b.parent(),"mousedown",yn=>{k4(yn.target)&&Te(yn.target,"top"),eb(yn.target)&&Te(yn.target,"left")}),Je=yn=>Fs(yn,b.view()),ft=yn=>gl(yn,"table",Je).filter(Bm),jt=yn=>Ef(yn,"ephox-snooker-resizer-bar")||Ef(yn,"ephox-dragster-blocker"),Vn=Pl(b.view(),"mouseover",yn=>{ft(yn.target).fold(()=>{cs(yn.target)&&!jt(yn.target)&&eI(b)},Fn=>{k.isActive()&&(z=Re.some(Fn),nI(b,Fn))})}),bo=()=>{Fe.unbind(),Vn.unbind(),k.destroy(),eI(b)},so=yn=>{nI(b,yn)},is=Qv({adjustHeight:yd(["table","delta","row"]),adjustWidth:yd(["table","delta","column"]),startAdjust:yd([])});return{destroy:bo,refresh:so,on:k.on,off:k.off,hideBars:Ae(wD,b),showBars:Ae(oI,b),events:is.registry}},M4={create:(b,w,k)=>{const z=Tf,se=fd,pe=mw(b),Te=Qv({beforeResize:yd(["table","type"]),afterResize:yd(["table","type"]),startDrag:yd([])});return pe.events.adjustHeight.bind(Fe=>{const Je=Fe.table;Te.trigger.beforeResize(Je,"row");const ft=z.delta(Fe.delta,Je);YE(Je,ft,Fe.row),Te.trigger.afterResize(Je,"row")}),pe.events.startAdjust.bind(Fe=>{Te.trigger.startDrag()}),pe.events.adjustWidth.bind(Fe=>{const Je=Fe.table;Te.trigger.beforeResize(Je,"col");const ft=se.delta(Fe.delta,Je),jt=k(Je);Xp(Je,ft,Fe.column,w,jt),Te.trigger.afterResize(Je,"col")}),{on:pe.on,off:pe.off,refreshBars:pe.refresh,hideBars:pe.hideBars,showBars:pe.showBars,destroy:pe.destroy,events:Te.registry}}},vy=b=>w=>w.options.get(b),KA="100%",_D=b=>{var w;const k=b.dom,z=(w=k.getParent(b.selection.getStart(),k.isBlock))!==null&&w!==void 0?w:b.getBody();return Va(vo.fromDom(z))+"px"},P4=(b,w)=>Cw(b)||!XA(b)?w:b0(b)?{...w,width:_D(b)}:{...w,width:KA},AD=(b,w)=>Cw(b)||XA(b)?w:b0(b)?{...w,width:_D(b)}:{...w,width:KA},Pz=b=>{const w=b.options.register;w("table_clone_elements",{processor:"string[]"}),w("table_use_colgroups",{processor:"boolean",default:!0}),w("table_header_type",{processor:k=>{const z=hn(["section","cells","sectionCells","auto"],k);return z?{value:k,valid:z}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),w("table_sizing_mode",{processor:"string",default:"auto"}),w("table_default_attributes",{processor:"object",default:{border:"1"}}),w("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),w("table_column_resizing",{processor:k=>{const z=hn(["preservetable","resizetable"],k);return z?{value:k,valid:z}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),w("table_resize_bars",{processor:"boolean",default:!0}),w("table_style_by_css",{processor:"boolean",default:!0}),w("table_merge_content_on_paste",{processor:"boolean",default:!0})},TD=b=>Re.from(b.options.get("table_clone_elements")),xD=b=>{const w=b.options.get("object_resizing");return hn(w.split(","),"table")},vw=vy("table_header_type"),bw=vy("table_column_resizing"),yw=b=>bw(b)==="preservetable",k1=b=>bw(b)==="resizetable",YA=vy("table_sizing_mode"),Sw=b=>YA(b)==="relative",b0=b=>YA(b)==="fixed",Cw=b=>YA(b)==="responsive",sI=vy("table_resize_bars"),XA=vy("table_style_by_css"),OD=vy("table_merge_content_on_paste"),ID=b=>{const w=b.options,k=w.get("table_default_attributes");return w.isSet("table_default_attributes")?k:AD(b,k)},RD=b=>{const w=b.options,k=w.get("table_default_styles");return w.isSet("table_default_styles")?k:P4(b,k)},N4=vy("table_use_colgroups"),JA=b=>vo.fromDom(b.getBody()),mC=b=>w=>Fs(w,JA(b)),D1=b=>{li(b,"data-mce-style");const w=k=>li(k,"data-mce-style");at(Pg(b),w),at(HS(b),w),at($S(b),w)},M1=b=>vo.fromDom(b.selection.getStart()),kD=b=>b.getBoundingClientRect().width,DD=b=>b.getBoundingClientRect().height,MD=b=>(w,k)=>{const z=w.dom.getStyle(k,b)||w.dom.getAttrib(k,b);return Re.from(z).filter(dl)},QA=MD("width"),PD=MD("height"),L4=b=>/^(\d+(\.\d+)?)%$/.test(b),ND=b=>/^(\d+(\.\d+)?)px$/.test(b),eT=b=>i1(b,Zl("table")).exists(Bm),rI=b=>au(b,"table"),tT=(b,w,k)=>{const z=se=>pe=>k!==void 0&&k(pe)||Fs(pe,se);return Fs(b,w)?Re.some({boxes:Re.some([b]),start:b,finish:w}):rI(b).bind(se=>rI(w).bind(pe=>{if(Fs(se,pe))return Re.some({boxes:js(se,b,w),start:b,finish:w});if(_r(se,pe)){const Te=ui(w,"td,th",z(se)),Fe=Te.length>0?Te[Te.length-1]:w;return Re.some({boxes:YO(se,b,se,w,pe),start:b,finish:Fe})}else if(_r(pe,se)){const Te=ui(b,"td,th",z(pe)),Fe=Te.length>0?Te[Te.length-1]:b;return Re.some({boxes:YO(pe,b,se,w,pe),start:b,finish:Fe})}else return Ne(b,w).shared.bind(Te=>gl(Te,"table",k).bind(Fe=>{const Je=ui(w,"td,th",z(Fe)),ft=Je.length>0?Je[Je.length-1]:w,jt=ui(b,"td,th",z(Fe)),Vn=jt.length>0?jt[jt.length-1]:b;return Re.some({boxes:YO(Fe,b,se,w,pe),start:Vn,finish:ft})}))}))},iI=(b,w)=>{const k=up(b,w);return k.length>0?Re.some(k):Re.none()},B4=(b,w)=>_e(b,k=>mn(k,w)),aI=(b,w,k)=>Hd(b,w).bind(z=>Hd(b,k).bind(se=>Ee(rI,[z,se]).map(pe=>({first:z,last:se,table:pe})))),LD=(b,w)=>au(b,"table").bind(k=>Hd(k,w).bind(z=>tT(z,b).bind(se=>se.boxes.map(pe=>({boxes:pe,start:se.start,finish:se.finish}))))),BD=(b,w,k,z,se)=>B4(b,se).bind(pe=>KO(pe,w,k).bind(Te=>LD(Te,z))),Ew=(b,w)=>iI(b,w),V4=(b,w,k)=>aI(b,w,k).bind(z=>{const se=Je=>Fs(b,Je),pe="thead,tfoot,tbody,table",Te=au(z.first,pe,se),Fe=au(z.last,pe,se);return Te.bind(Je=>Fe.bind(ft=>Fs(Je,ft)?g0(z.table,z.first,z.last):Re.none()))}),lI=be,cI=b=>{const w=(z,se)=>$c(z,se).exists(pe=>parseInt(pe,10)>1),k=z=>w(z,"rowspan")||w(z,"colspan");return b.length>0&&xn(b,k)?Re.some(b):Re.none()},F4=(b,w,k)=>w.length<=1?Re.none():V4(b,k.firstSelectedSelector,k.lastSelectedSelector).map(z=>({bounds:z,cells:w})),P1={create:(b,w)=>({selection:b,kill:w})},VD=(b,w,k,z)=>{switch(b.tag){case"none":return w();case"single":return z(b.element);case"multiple":return k(b.elements)}},FD=()=>({tag:"none"}),$4=b=>({tag:"multiple",elements:b}),U4=b=>({tag:"single",element:b}),z4=(b,w,k)=>({get:()=>Ew(b(),k).fold(()=>w().fold(FD,U4),$4)}),ww={create:(b,w,k,z)=>({start:il.on(b,w),finish:il.on(k,z)})},uI=(b,w)=>{const k=co(b,w);return Lu.create(vo.fromDom(k.startContainer),k.startOffset,vo.fromDom(k.endContainer),k.endOffset)},_w=ww.create,HD=(b,w,k,z,se,pe,Te)=>Fs(k,se)&&z===pe?Re.none():gl(k,"td,th",w).bind(Fe=>gl(se,"td,th",w).bind(Je=>Aw(b,w,Fe,Je,Te))),Aw=(b,w,k,z,se)=>Fs(k,z)?Re.none():tT(k,z,w).bind(pe=>{const Te=pe.boxes.getOr([]);return Te.length>1?(se(b,Te,pe.start,pe.finish),Re.some(P1.create(Re.some(_w(k,0,k,dp(k))),!0))):Re.none()}),j4=(b,w,k,z,se)=>{const pe=Te=>(se.clearBeforeUpdate(k),se.selectRange(k,Te.boxes,Te.start,Te.finish),Te.boxes);return BD(z,b,w,se.firstSelectedSelector,se.lastSelectedSelector).map(pe)},oT=Vt.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),W4=(b,w,k)=>{const z=b.getRect(w),se=b.getRect(k);return se.right>z.left&&se.left<z.right},$D=b=>gl(b,"tr"),N1={...oT,verify:(b,w,k,z,se,pe,Te)=>gl(z,"td,th",Te).bind(Fe=>gl(w,"td,th",Te).map(Je=>Fs(Fe,Je)?Fs(z,Fe)&&dp(Fe)===se?pe(Je):oT.none("in same cell"):Ee($D,[Fe,Je]).fold(()=>W4(b,Je,Fe)?oT.success():pe(Je),ft=>pe(Je)))).getOr(oT.none("default")),cata:(b,w,k,z,se)=>b.fold(w,k,z,se)},sT=Zl("br"),rT=(b,w,k)=>w(b,k).bind(z=>ou(z)&&Sf(z).trim().length===0?rT(z,w,k):Re.some(z)),UD=(b,w,k)=>k.traverse(w).orThunk(()=>rT(w,k.gather,b)).map(k.relative),q4=(b,w)=>dt(b,w).filter(sT).orThunk(()=>dt(b,w-1).filter(sT)),iT=(b,w,k,z)=>q4(w,k).bind(se=>z.traverse(se).fold(()=>rT(se,z.gather,b).map(z.relative),pe=>Fm(pe).map(Te=>il.on(Te.parent,Te.index)))),zD=(b,w,k,z)=>(sT(w)?UD(b,w,z):iT(b,w,k,z)).map(pe=>({start:pe,finish:pe})),jD=b=>N1.cata(b,w=>Re.none(),()=>Re.none(),w=>Re.some(Yg(w,0)),w=>Re.some(Yg(w,dp(w)))),aT=(b,w)=>({left:b.left,top:b.top+w,right:b.right,bottom:b.bottom+w}),tb=(b,w)=>({left:b.left,top:b.top-w,right:b.right,bottom:b.bottom-w}),WD=(b,w,k)=>({left:b.left+w,top:b.top+k,right:b.right+w,bottom:b.bottom+k}),Z4=b=>b.top,K4=b=>b.bottom,Y4=(b,w,k)=>k>=0&&k<dp(w)?b.getRangedRect(w,k,w,k+1):k>0?b.getRangedRect(w,k-1,w,k):Re.none(),gC=b=>({left:b.left,top:b.top,right:b.right,bottom:b.bottom}),GD=(b,w)=>Re.some(b.getRect(w)),dI=(b,w,k)=>Gi(w)?GD(b,w).map(gC):ou(w)?Y4(b,w,k).map(gC):Re.none(),lT=(b,w)=>Gi(w)?GD(b,w).map(gC):ou(w)?b.getRangedRect(w,0,w,dp(w)).map(gC):Re.none(),ov=5,Tw=100,nb=Vt.generate([{none:[]},{retry:["caret"]}]),hI=(b,w)=>b.left<w.left||Math.abs(w.right-b.left)<1||b.left>w.right,qD=(b,w,k)=>i1(w,Me).fold(Xe,z=>lT(b,z).exists(se=>hI(k,se))),ZD=(b,w,k,z,se)=>{const pe=aT(se,ov);return Math.abs(k.bottom-z.bottom)<1||k.top>se.bottom?nb.retry(pe):k.top===se.bottom?nb.retry(aT(se,1)):qD(b,w,se)?nb.retry(WD(pe,ov,0)):nb.none()},KD={point:Z4,adjuster:(b,w,k,z,se)=>{const pe=tb(se,ov);return Math.abs(k.top-z.top)<1||k.bottom<se.top?nb.retry(pe):k.bottom===se.top?nb.retry(tb(se,1)):qD(b,w,se)?nb.retry(WD(pe,ov,0)):nb.none()},move:tb,gather:lC},J4={point:K4,adjuster:ZD,move:aT,gather:eg},Q4=(b,w,k)=>b.elementFromPoint(w,k).filter(z=>Oi(z)==="table").isSome(),eB=(b,w,k,z,se)=>vC(b,w,k,w.move(z,ov),se),vC=(b,w,k,z,se)=>se===0?Re.some(z):Q4(b,z.left,w.point(z))?eB(b,w,k,z,se-1):b.situsFromPoint(z.left,w.point(z)).bind(pe=>pe.start.fold(Re.none,Te=>lT(b,Te).bind(Fe=>w.adjuster(b,Te,Fe,k,z).fold(Re.none,Je=>vC(b,w,k,Je,se-1))).orThunk(()=>Re.some(z)),Re.none)),xw=(b,w,k)=>b.point(w)>k.getInnerHeight()?Re.some(b.point(w)-k.getInnerHeight()):b.point(w)<0?Re.some(-b.point(w)):Re.none(),YD=(b,w,k)=>{const z=b.move(k,ov),se=vC(w,b,k,z,Tw).getOr(z);return xw(b,se,w).fold(()=>w.situsFromPoint(se.left,b.point(se)),pe=>(w.scrollBy(0,pe),w.situsFromPoint(se.left,b.point(se)-pe)))},ob={tryUp:Ae(YD,KD),tryDown:Ae(YD,J4),getJumpSize:ie(ov)},sb=20,fI=(b,w,k)=>b.getSelection().bind(z=>zD(w,z.finish,z.foffset,k).fold(()=>Re.some(Yg(z.finish,z.foffset)),se=>{const pe=b.fromSitus(se),Te=N1.verify(b,z.finish,z.foffset,pe.finish,pe.foffset,k.failure,w);return jD(Te)})),cT=(b,w,k,z,se,pe)=>pe===0?Re.none():by(b,w,k,z,se).bind(Te=>{const Fe=b.fromSitus(Te),Je=N1.verify(b,k,z,Fe.finish,Fe.foffset,se.failure,w);return N1.cata(Je,()=>Re.none(),()=>Re.some(Te),ft=>Fs(k,ft)&&z===0?XD(b,k,z,tb,se):cT(b,w,ft,0,se,pe-1),ft=>Fs(k,ft)&&z===dp(ft)?XD(b,k,z,aT,se):cT(b,w,ft,dp(ft),se,pe-1))}),XD=(b,w,k,z,se)=>dI(b,w,k).bind(pe=>os(b,se,z(pe,ob.getJumpSize()))),os=(b,w,k)=>{const z=Ml().browser;return z.isChromium()||z.isSafari()||z.isFirefox()?w.retry(b,k):Re.none()},by=(b,w,k,z,se)=>dI(b,k,z).bind(pe=>os(b,se,pe)),bC=(b,w,k)=>fI(b,w,k).bind(z=>cT(b,w,z.element,z.offset,k,sb).map(b.fromSitus)),pI=(b,w)=>$p(b,k=>et(k).exists(z=>Fs(z,w))),uT=(b,w,k,z,se)=>gl(z,"td,th",w).bind(pe=>gl(pe,"table",w).bind(Te=>pI(se,Te)?bC(b,w,k).bind(Fe=>gl(Fe.finish,"td,th",w).map(Je=>({start:pe,finish:Je,range:Fe}))):Re.none())),y0=(b,w,k,z,se,pe)=>pe(z,w).orThunk(()=>uT(b,w,k,z,se).map(Te=>{const Fe=Te.range;return P1.create(Re.some(_w(Fe.start,Fe.soffset,Fe.finish,Fe.foffset)),!0)})),yC=(b,w)=>gl(b,"tr",w).bind(k=>gl(k,"table",w).bind(z=>{const se=up(z,"tr");return Fs(k,se[0])?zu(z,pe=>qa(pe).isSome(),w).map(pe=>{const Te=dp(pe);return P1.create(Re.some(_w(pe,Te,pe,Te)),!0)}):Re.none()})),Ow=(b,w)=>gl(b,"tr",w).bind(k=>gl(k,"table",w).bind(z=>{const se=up(z,"tr");return Fs(k,se[se.length-1])?ee(z,pe=>Vv(pe).isSome(),w).map(pe=>P1.create(Re.some(_w(pe,0,pe,0)),!0)):Re.none()})),yy=(b,w,k,z,se,pe,Te)=>uT(b,k,z,se,pe).bind(Fe=>Aw(w,k,Fe.start,Fe.finish,Te)),SC=(b,w)=>gl(b,"td,th",w),mI=b=>Dc(b).exists(Bm),sv=(b,w,k,z)=>{const se=sl(),pe=se.clear,Te=jt=>{se.on(Vn=>{z.clearBeforeUpdate(w),SC(jt.target,k).each(bo=>{tT(Vn,bo,k).each(so=>{const is=so.boxes.getOr([]);if(is.length===1){const yn=is[0],Fn=Rg(yn)==="false",_s=jo(Bv(jt.target),yn,Fs);Fn&&_s&&z.selectRange(w,is,yn,yn)}else is.length>1&&(z.selectRange(w,is,so.start,so.finish),b.selectContents(bo))})})})};return{clearstate:pe,mousedown:jt=>{z.clear(w),SC(jt.target,k).filter(mI).each(se.set)},mouseover:jt=>{Te(jt)},mouseup:jt=>{Te(jt),pe()}}},gI={traverse:ru,gather:eg,relative:il.before,retry:ob.tryDown,failure:N1.failedDown},dT={traverse:$b,gather:lC,relative:il.before,retry:ob.tryUp,failure:N1.failedUp},rv=b=>w=>w===b,rb=rv(38),Sy=rv(40),L1=b=>b>=37&&b<=40,ib={isBackward:rv(37),isForward:rv(39)},vI={isBackward:rv(39),isForward:rv(37)},Iw=b=>({elementFromPoint:(Fn,_s)=>vo.fromPoint(vo.fromDom(b.document),Fn,_s),getRect:Fn=>Fn.dom.getBoundingClientRect(),getRangedRect:(Fn,_s,Js,Lo)=>{const Mi=ae.exact(Fn,_s,Js,Lo);return Mg(b,Mi)},getSelection:()=>$m(b).map(Fn=>uI(b,Fn)),fromSitus:Fn=>{const _s=ae.relative(Fn.start,Fn.finish);return uI(b,_s)},situsFromPoint:(Fn,_s)=>oy(b,Fn,_s).map(Js=>ww.create(Js.start,Js.soffset,Js.finish,Js.foffset)),clearSelection:()=>{Bl(b)},collapseSelection:(Fn=!1)=>{$m(b).each(_s=>_s.fold(Js=>Js.collapse(Fn),(Js,Lo)=>{const Mi=Fn?Js:Lo;zp(b,Mi,Mi)},(Js,Lo,Mi,Pi)=>{const tr=Fn?Js:Mi,dc=Fn?Lo:Pi;Up(b,tr,dc,tr,dc)}))},setSelection:Fn=>{Up(b,Fn.start,Fn.soffset,Fn.finish,Fn.foffset)},setRelativeSelection:(Fn,_s)=>{zp(b,Fn,_s)},selectNode:Fn=>{Hm(b,Fn,!1)},selectContents:Fn=>{Hm(b,Fn)},getInnerHeight:()=>b.innerHeight,getScrollY:()=>Hi(vo.fromDom(b.document)).top,scrollBy:(Fn,_s)=>{Nu(Fn,_s,vo.fromDom(b.document))}}),iv=(b,w)=>({rows:b,cols:w}),av=(b,w,k,z)=>{const se=Iw(b),pe=sv(se,w,k,z);return{clearstate:pe.clearstate,mousedown:pe.mousedown,mouseover:pe.mouseover,mouseup:pe.mouseup}},JD=b=>i1(b,bf).exists(Bm),bI=(b,w)=>JD(b)||JD(w),yI=(b,w,k,z)=>{const se=Iw(b),pe=()=>(z.clear(w),Re.none());return{keydown:(Je,ft,jt,Vn,bo,so)=>{const is=Je.raw,yn=is.which,Fn=is.shiftKey===!0;return iI(w,z.selectedSelector).fold(()=>(L1(yn)&&!Fn&&z.clearBeforeUpdate(w),L1(yn)&&Fn&&!bI(ft,Vn)?Re.none:Sy(yn)&&Fn?Ae(yy,se,w,k,gI,Vn,ft,z.selectRange):rb(yn)&&Fn?Ae(yy,se,w,k,dT,Vn,ft,z.selectRange):Sy(yn)?Ae(y0,se,k,gI,Vn,ft,Ow):rb(yn)?Ae(y0,se,k,dT,Vn,ft,yC):Re.none),Js=>{const Lo=Mi=>()=>Yt(Mi,tr=>j4(tr.rows,tr.cols,w,Js,z)).fold(()=>aI(w,z.firstSelectedSelector,z.lastSelectedSelector).map(tr=>{const dc=Sy(yn)||so.isForward(yn)?il.after:il.before;return se.setRelativeSelection(il.on(tr.first,0),dc(tr.table)),z.clear(w),P1.create(Re.none(),!0)}),tr=>Re.some(P1.create(Re.none(),!0)));return L1(yn)&&Fn&&!bI(ft,Vn)?Re.none:Sy(yn)&&Fn?Lo([iv(1,0)]):rb(yn)&&Fn?Lo([iv(-1,0)]):so.isBackward(yn)&&Fn?Lo([iv(0,-1),iv(-1,0)]):so.isForward(yn)&&Fn?Lo([iv(0,1),iv(1,0)]):L1(yn)&&!Fn?pe:Re.none})()},keyup:(Je,ft,jt,Vn,bo)=>iI(w,z.selectedSelector).fold(()=>{const so=Je.raw,is=so.which;return so.shiftKey===!0&&L1(is)&&bI(ft,Vn)?HD(w,k,ft,jt,Vn,bo,z.selectRange):Re.none()},Re.none)}},SI=(b,w,k,z)=>{const se=Iw(b);return(pe,Te)=>{z.clearBeforeUpdate(w),tT(pe,Te,k).each(Fe=>{const Je=Fe.boxes.getOr([]);z.selectRange(w,Je,Fe.start,Fe.finish),se.selectContents(Te),se.collapseSelection()})}},tB={byClass:b=>{const w=l1(b.selected),k=VS([b.selected,b.lastSelected,b.firstSelected]),z=pe=>{const Te=up(pe,b.selectedSelector);at(Te,k)};return{clearBeforeUpdate:z,clear:z,selectRange:(pe,Te,Fe,Je)=>{z(pe),at(Te,w),Cf(Fe,b.firstSelected),Cf(Je,b.lastSelected)},selectedSelector:b.selectedSelector,firstSelectedSelector:b.firstSelectedSelector,lastSelectedSelector:b.lastSelectedSelector}},byAttr:(b,w,k)=>{const z=Je=>{li(Je,b.selected),li(Je,b.firstSelected),li(Je,b.lastSelected)},se=Je=>{Nl(Je,b.selected,"1")},pe=Je=>{Te(Je),k()},Te=Je=>{const ft=up(Je,`${b.selectedSelector},${b.firstSelectedSelector},${b.lastSelectedSelector}`);at(ft,z)};return{clearBeforeUpdate:Te,clear:pe,selectRange:(Je,ft,jt,Vn)=>{pe(Je),at(ft,se),Nl(jt,b.firstSelected,"1"),Nl(Vn,b.lastSelected,"1"),w(ft,jt,Vn)},selectedSelector:b.selectedSelector,firstSelectedSelector:b.firstSelectedSelector,lastSelectedSelector:b.lastSelectedSelector}}},qd="data-mce-selected",B1="td["+qd+"],th["+qd+"]",CI="["+qd+"]",Cy="data-mce-first-selected",Zd="td["+Cy+"],th["+Cy+"]",Ah="data-mce-last-selected",Kd="td["+Ah+"],th["+Ah+"]",og=CI,S0={selected:qd,selectedSelector:B1,firstSelected:Cy,firstSelectedSelector:Zd,lastSelected:Ah,lastSelectedSelector:Kd},tf=(b,w,k)=>({element:k,mergable:F4(w,b,S0),unmergable:cI(b),selection:lI(b)}),ab=(b,w,k)=>({element:b,clipboard:w,generators:k}),eM=(b,w,k,z)=>({selection:lI(b),clipboard:k,generators:z}),Bz=b=>Ud(b).bind(w=>Ew(w,S0.firstSelectedSelector)).fold(ie(b),w=>w[0]),tM=b=>(w,k)=>{const z=Oi(w),se=z==="col"||z==="colgroup"?Bz(w):w;return gl(se,b,k)},Ws=tM("th,td,caption"),hT=tM("th,td"),sm=b=>rc(b.model.table.getSelectedCells()),nM=b=>jn(sm(b),w=>mn(w,S0.selectedSelector)),nB=b=>Ud(b[0]).map(w=>{const k=h0(w,og);return D1(k),[k]}),oB=(b,w)=>kt(w,k=>b.selection.serializer.serialize(k.dom,{})).join(""),sB=(b,w)=>{const k=b.getDoc(),z=ns(vo.fromDom(b.getBody())),se=vo.fromTag("div",k);Nl(se,"data-mce-bogus","all"),ia(se,{position:"fixed",left:"-9999999px",top:"0",overflow:"hidden",opacity:"0"});const pe=ps(z);sc(se,w),ti(pe,se);const Te=se.dom.innerText;return Kl(se),Te},oM=(b,w)=>{b.on("BeforeGetContent",k=>{const z=se=>{k.preventDefault(),nB(se).each(pe=>{const Te=k.format==="text"?sB(b,pe):oB(b,pe);k.content=Te})};if(k.selection===!0){const se=nM(b);se.length>=1&&z(se)}}),b.on("BeforeSetContent",k=>{if(k.selection===!0&&k.paste===!0){const z=sm(b);ct(z).each(se=>{Ud(se).each(pe=>{const Te=jn(Ub(k.content),Je=>Oi(Je)!=="meta"),Fe=Zl("table");if(OD(b)&&Te.length===1&&Fe(Te[0])){k.preventDefault();const Je=vo.fromDom(b.getDoc()),ft=Di(Je),jt=ab(se,Te[0],ft);w.pasteCells(pe,jt).each(()=>{b.focus()})}})})}})},EI=(b,w)=>b.dispatch("NewRow",{node:w}),Rw=(b,w)=>b.dispatch("NewCell",{node:w}),rm=(b,w,k)=>{b.dispatch("TableModified",{...k,table:w})},V1=(b,w,k,z,se)=>{b.dispatch("TableSelectionChange",{cells:w,start:k,finish:z,otherCells:se})},rB=b=>{b.dispatch("TableSelectionClear")},fT=(b,w,k,z,se)=>{b.dispatch("ObjectResizeStart",{target:w,width:k,height:z,origin:se})},iB=(b,w,k,z,se)=>{b.dispatch("ObjectResized",{target:w,width:k,height:z,origin:se})},pT={structure:!1,style:!0},hu={structure:!0,style:!1},aB={structure:!0,style:!0},Nf=(b,w)=>Sw(b)?jv.percentageSize(w):b0(b)?jv.pixelSize(w):jv.getTableSize(w),Vz=(b,w,k)=>{const z=Oc=>Oi(JA(Oc))==="table",se=Oc=>!z(b)||hi(Oc).rows>1,pe=Oc=>!z(b)||hi(Oc).columns>1,Te=TD(b),Fe=k1(b)?Z:XS,Je=Oc=>{switch(vw(b)){case"section":return Gp.section();case"sectionCells":return Gp.sectionCells();case"cells":return Gp.cells();default:return Gp.getTableSectionType(Oc,"section")}},ft=(Oc,wC)=>wC.cursor.fold(()=>{const Pw=Pg(Oc);return ct(Pw).filter(cs).map(w0=>{k.clearSelectedCells(Oc.dom);const Qd=b.dom.createRng();return Qd.selectNode(w0.dom),b.selection.setRng(Qd),Nl(w0,"data-mce-selected","1"),Qd})},Pw=>{const w0=aC(Pw),Qd=b.dom.createRng();return Qd.setStart(w0.element.dom,w0.offset),Qd.setEnd(w0.element.dom,w0.offset),b.selection.setRng(Qd),k.clearSelectedCells(Oc.dom),Re.some(Qd)}),jt=(Oc,wC,Pw,w0)=>(Qd,hB,uM=!1)=>{D1(Qd);const Jo=vo.fromDom(b.getDoc()),am=jr(Pw,Jo,Te),fB={sizing:Nf(b,Qd),resize:k1(b)?Jb():LE(),section:Je(Qd)};return wC(Qd)?Oc(Qd,hB,am,fB).bind(CT=>{w.refresh(Qd.dom),at(CT.newRows,cb=>{EI(b,cb.dom)}),at(CT.newCells,cb=>{Rw(b,cb.dom)});const dM=ft(Qd,CT);return cs(Qd)&&(D1(Qd),uM||rm(b,Qd.dom,w0)),dM.map(cb=>({rng:cb,effect:w0}))}):Re.none()},Vn=jt(cD,se,Z,hu),bo=jt(tv,pe,Z,hu),so=jt(x1,Ve,Z,hu),is=jt(WO,Ve,Z,hu),yn=jt(O1,Ve,Fe,hu),Fn=jt(Ea,Ve,Fe,hu),_s=jt(E4,Ve,Z,hu),Js=jt(w4,Ve,Z,hu),Lo=jt(oo,Ve,Z,hu),Mi=jt(uD,Ve,Z,hu),Pi=jt(du,Ve,Z,hu),tr=jt(dD,Ve,Z,hu),dc=jt(qO,Ve,Z,aB),Cp=jt(S4,Ve,Z,hu),lb=jt(C4,Ve,Z,hu),wy=jt(m0,Ve,Z,hu),H1=jt(ng,Ve,Z,hu),ji=jt(b4,Ve,Z,hu),Yd=jt(y4,Ve,Z,hu),Xd=jt(GO,Ve,Z,hu);return{deleteRow:Vn,deleteColumn:bo,insertRowsBefore:so,insertRowsAfter:is,insertColumnsBefore:yn,insertColumnsAfter:Fn,mergeCells:_s,unmergeCells:Js,pasteColsBefore:Lo,pasteColsAfter:Mi,pasteRowsBefore:Pi,pasteRowsAfter:tr,pasteCells:dc,makeCellsHeader:Cp,unmakeCellsHeader:lb,makeColumnsHeader:wy,unmakeColumnsHeader:H1,makeRowsHeader:ji,makeRowsBody:Yd,makeRowsFooter:Xd,getTableRowType:_4,getTableCellType:fD,getTableColType:hD}},mT=(b,w)=>{b.selection.select(w.dom,!0),b.selection.collapse(!0)},F1=(b,w)=>{Hd(w,"td,th").each(Ae(mT,b))},wI=(b,w)=>{at(up(w,"tr"),k=>{EI(b,k.dom),at(up(k,"th,td"),z=>{Rw(b,z.dom)})})},_I=b=>p(b)&&b.indexOf("%")!==-1,AI=(b,w,k,z,se)=>{const pe=RD(b),Te={styles:pe,attributes:ID(b),colGroups:N4(b)};return b.undoManager.ignore(()=>{const Fe=v0(k,w,se,z,vw(b),Te);Nl(Fe,"data-mce-id","__mce");const Je=br(Fe);b.insertContent(Je),b.addVisual()}),Hd(JA(b),'table[data-mce-id="__mce"]').map(Fe=>(b0(b)?bn(Fe):Cw(b)?gn(Fe):(Sw(b)||_I(pe.width))&&It(Fe),D1(Fe),li(Fe,"data-mce-id"),wI(b,Fe),F1(b,Fe),Fe.dom)).getOrNull()},lB=(b,w,k,z={})=>{const se=pe=>W(pe)&&pe>0;if(se(w)&&se(k)){const pe=z.headerRows||0,Te=z.headerColumns||0;return AI(b,k,w,Te,pe)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var gT=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const sM="x-tinymce/dom-table-",vT=sM+"rows",Ey=sM+"columns",CC=b=>{const w=gT.FakeClipboardItem(b);gT.write([w])},TI=b=>{var w;const k=(w=gT.read())!==null&&w!==void 0?w:[];return Yt(k,z=>Re.from(z.getType(b)))},rM=b=>{TI(b).isSome()&&gT.clear()},C0=b=>{b.fold(xI,w=>CC({[vT]:w}))},bT=()=>TI(vT),xI=()=>rM(vT),yT=b=>{b.fold(OI,w=>CC({[Ey]:w}))},kw=()=>TI(Ey),OI=()=>rM(Ey),Dw=b=>Ws(M1(b),mC(b)).filter(eT),II=b=>hT(M1(b),mC(b)).filter(eT),cB=(b,w)=>{const k=mC(b),z=()=>Dw(b).each(Fn=>{Ud(Fn,k).filter(F(k)).each(_s=>{const Js=vo.fromText("");if(Wh(_s,Js),Kl(_s),b.dom.isEmpty(b.getBody()))b.setContent(""),b.selection.setCursorLocation();else{const Lo=b.dom.createRng();Lo.setStart(Js.dom,0),Lo.setEnd(Js.dom,0),b.selection.setRng(Lo),b.nodeChanged()}})}),se=Fn=>Dw(b).each(_s=>{Cw(b)||b0(b)||Sw(b)||Ud(_s,k).each(Lo=>{Fn==="relative"&&!kA(Lo)?It(Lo):Fn==="fixed"&&!yp(Lo)?bn(Lo):Fn==="responsive"&&!Gc(Lo)&&gn(Lo),D1(Lo),rm(b,Lo.dom,hu)})}),pe=Fn=>Ud(Fn,k),Te=Fn=>II(b).bind(_s=>pe(_s).map(Js=>Fn(Js,_s))),Fe=(Fn,_s)=>{Te(Js=>{b.formatter.toggle("tableclass",{value:_s},Js.dom),rm(b,Js.dom,pT)})},Je=(Fn,_s)=>{Te(Js=>{const Lo=sm(b),Pi=xn(Lo,tr=>b.formatter.match("tablecellclass",{value:_s},tr.dom))?b.formatter.remove:b.formatter.apply;at(Lo,tr=>Pi("tablecellclass",{value:_s},tr.dom)),rm(b,Js.dom,pT)})},ft=()=>{Dw(b).each(Fn=>{Ud(Fn,k).each(_s=>{Ga(_s,"caption").fold(()=>{const Js=vo.fromTag("caption");ti(Js,vo.fromText("Caption")),K0(_s,Js,0),b.selection.setCursorLocation(Js.dom,0)},Js=>{Zl("caption")(Fn)&&hr("td",_s).each(Lo=>b.selection.setCursorLocation(Lo.dom,0)),Kl(Js)}),rm(b,_s.dom,hu)})})},jt=Fn=>{b.focus()},Vn=(Fn,_s=!1)=>Te((Js,Lo)=>{const Mi=tf(sm(b),Js,Lo);Fn(Js,Mi,_s).each(jt)}),bo=()=>Te((Fn,_s)=>{const Js=tf(sm(b),Fn,_s),Lo=jr(Z,vo.fromDom(b.getDoc()),Re.none());return qg(Fn,Js,Lo)}),so=()=>Te((Fn,_s)=>{const Js=tf(sm(b),Fn,_s);return Jp(Fn,Js)}),is=(Fn,_s)=>_s().each(Js=>{const Lo=kt(Js,Mi=>Yl(Mi));Te((Mi,Pi)=>{const tr=Di(vo.fromDom(b.getDoc())),dc=eM(sm(b),Pi,Lo,tr);Fn(Mi,dc).each(jt)})}),yn=Fn=>(_s,Js)=>sr(Js,"type").each(Lo=>{Vn(Fn(Lo),Js.no_events)});ln({mceTableSplitCells:()=>Vn(w.unmergeCells),mceTableMergeCells:()=>Vn(w.mergeCells),mceTableInsertRowBefore:()=>Vn(w.insertRowsBefore),mceTableInsertRowAfter:()=>Vn(w.insertRowsAfter),mceTableInsertColBefore:()=>Vn(w.insertColumnsBefore),mceTableInsertColAfter:()=>Vn(w.insertColumnsAfter),mceTableDeleteCol:()=>Vn(w.deleteColumn),mceTableDeleteRow:()=>Vn(w.deleteRow),mceTableCutCol:()=>so().each(Fn=>{yT(Fn),Vn(w.deleteColumn)}),mceTableCutRow:()=>bo().each(Fn=>{C0(Fn),Vn(w.deleteRow)}),mceTableCopyCol:()=>so().each(Fn=>yT(Fn)),mceTableCopyRow:()=>bo().each(Fn=>C0(Fn)),mceTablePasteColBefore:()=>is(w.pasteColsBefore,kw),mceTablePasteColAfter:()=>is(w.pasteColsAfter,kw),mceTablePasteRowBefore:()=>is(w.pasteRowsBefore,bT),mceTablePasteRowAfter:()=>is(w.pasteRowsAfter,bT),mceTableDelete:z,mceTableCellToggleClass:Je,mceTableToggleClass:Fe,mceTableToggleCaption:ft,mceTableSizingMode:(Fn,_s)=>se(_s),mceTableCellType:yn(Fn=>Fn==="th"?w.makeCellsHeader:w.unmakeCellsHeader),mceTableColType:yn(Fn=>Fn==="th"?w.makeColumnsHeader:w.unmakeColumnsHeader),mceTableRowType:yn(Fn=>{switch(Fn){case"header":return w.makeRowsHeader;case"footer":return w.makeRowsFooter;default:return w.makeRowsBody}})},(Fn,_s)=>b.addCommand(_s,Fn)),b.addCommand("mceInsertTable",(Fn,_s)=>{lB(b,_s.rows,_s.columns,_s.options)}),b.addCommand("mceTableApplyCellStyle",(Fn,_s)=>{const Js=Pi=>"tablecell"+Pi.toLowerCase().replace("-","");if(!v(_s))return;const Lo=jn(sm(b),eT);if(Lo.length===0)return;const Mi=ks(_s,(Pi,tr)=>b.formatter.has(Js(tr))&&p(Pi));Xo(Mi)||(ln(Mi,(Pi,tr)=>{const dc=Js(tr);at(Lo,Cp=>{Pi===""?b.formatter.remove(dc,{value:null},Cp.dom,!0):b.formatter.apply(dc,{value:Pi},Cp.dom)})}),pe(Lo[0]).each(Pi=>rm(b,Pi.dom,pT)))})},uB=(b,w)=>{const k=mC(b),z=se=>hT(M1(b)).bind(pe=>Ud(pe,k).map(Te=>{const Fe=tf(sm(b),Te,pe);return se(Te,Fe)})).getOr("");ln({mceTableRowType:()=>z(w.getTableRowType),mceTableCellType:()=>z(w.getTableCellType),mceTableColType:()=>z(w.getTableColType)},(se,pe)=>b.addQueryValueHandler(pe,se))},RI=b=>!Ef(vo.fromDom(b.target),"ephox-snooker-resizer-bar"),Mw=(b,w)=>{const k=z4(()=>vo.fromDom(b.getBody()),()=>hT(M1(b),mC(b)),S0.selectedSelector),z=(Je,ft,jt)=>{Ud(ft).each(bo=>{const so=kt(Je,Js=>Js.dom),is=TD(b),yn=jr(Z,vo.fromDom(b.getDoc()),is),Fn=sm(b),_s=Yv(bo,{selection:Fn},yn).map(Js=>On(Js,Lo=>kt(Lo,Mi=>Mi.dom))).getOrUndefined();V1(b,so,ft.dom,jt.dom,_s)})},se=()=>rB(b),pe=tB.byAttr(S0,z,se);return b.on("init",Je=>{const ft=b.getWin(),jt=JA(b),Vn=mC(b),bo=()=>{const ji=b.selection,Yd=vo.fromDom(ji.getStart()),Xd=vo.fromDom(ji.getEnd());Ee(Ud,[Yd,Xd]).fold(()=>pe.clear(jt),Z)},so=av(ft,jt,Vn,pe),is=yI(ft,jt,Vn,pe),yn=SI(ft,jt,Vn,pe),Fn=ji=>ji.raw.shiftKey===!0;b.on("TableSelectorChange",ji=>yn(ji.start,ji.finish));const _s=(ji,Yd)=>{Fn(ji)&&(Yd.kill&&ji.kill(),Yd.selection.each(Xd=>{const im=ae.relative(Xd.start,Xd.finish),Jd=co(ft,im);b.selection.setRng(Jd)}))},Js=ji=>{const Yd=oa(ji);if(Yd.raw.shiftKey&&L1(Yd.raw.which)){const Xd=b.selection.getRng(),im=vo.fromDom(Xd.startContainer),Jd=vo.fromDom(Xd.endContainer);is.keyup(Yd,im,Xd.startOffset,Jd,Xd.endOffset).each(E0=>{_s(Yd,E0)})}},Lo=ji=>{const Yd=oa(ji);w.hide();const Xd=b.selection.getRng(),im=vo.fromDom(Xd.startContainer),Jd=vo.fromDom(Xd.endContainer),E0=Nm(ib,vI)(vo.fromDom(b.selection.getStart()));is.keydown(Yd,im,Xd.startOffset,Jd,Xd.endOffset,E0).each(Oc=>{_s(Yd,Oc)}),w.show()},Mi=ji=>ji.button===0,Pi=ji=>ji.buttons===void 0?!0:(ji.buttons&1)!==0,tr=ji=>{so.clearstate()},dc=ji=>{Mi(ji)&&RI(ji)&&so.mousedown(oa(ji))},Cp=ji=>{Pi(ji)&&RI(ji)&&so.mouseover(oa(ji))},lb=ji=>{Mi(ji)&&RI(ji)&&so.mouseup(oa(ji))},H1=(()=>{const ji=en(vo.fromDom(jt)),Yd=en(0);return{touchEnd:im=>{const Jd=vo.fromDom(im.target);if(Zl("td")(Jd)||Zl("th")(Jd)){const E0=ji.get(),Oc=Yd.get();Fs(E0,Jd)&&im.timeStamp-Oc<300&&(im.preventDefault(),yn(Jd,Jd))}ji.set(Jd),Yd.set(im.timeStamp)}}})();b.on("dragstart",tr),b.on("mousedown",dc),b.on("mouseover",Cp),b.on("mouseup",lb),b.on("touchend",H1.touchEnd),b.on("keyup",Js),b.on("keydown",Lo),b.on("NodeChange",bo)}),b.on("PreInit",()=>{b.serializer.addTempAttr(S0.firstSelected),b.serializer.addTempAttr(S0.lastSelected)}),{getSelectedCells:()=>VD(k.get(),ie([]),Je=>kt(Je,ft=>ft.dom),Je=>[Je.dom]),clearSelectedCells:Je=>pe.clear(vo.fromDom(Je))}},kI=(b,w)=>{const k=vo.fromDom(b.getBody());return AA.body(k,w)},iM=b=>U(b)&&b.nodeName==="TABLE",ST="bar-",dB=b=>Du(b,"data-mce-resize")!=="false",aM=b=>{const w=Sr.fromTable(b);Sr.hasColumns(w)||at(Pg(b),k=>{const z=Pm(k,"width");Ll(k,"width",z),li(k,"width")})},DI=b=>Ia(b,"corner-"),EC=b=>kd(b,"corner-"),MI=b=>{const w=sl(),k=sl(),z=sl();let se,pe,Te,Fe;const Je=Lo=>Nf(b,Lo),ft=()=>yw(b)?LE():Jb(),jt=Lo=>hi(Lo).columns,Vn=Lo=>hi(Lo).rows,bo=(Lo,Mi,Pi,tr)=>{const dc=EC(Mi),Cp=Dd(dc,"e"),lb=Ia(dc,"n");if(pe===""&&It(Lo),Fe===""&&Ft(Lo),Pi!==se&&pe!==""){Ll(Lo,"width",pe);const wy=ft(),H1=Je(Lo),ji=yw(b)||Cp?jt(Lo)-1:0;Xp(Lo,Pi-se,ji,wy,H1)}else if(L4(pe)){const wy=parseFloat(pe.replace("%","")),H1=Pi*wy/se;Ll(Lo,"width",H1+"%")}if(ND(pe)&&aM(Lo),tr!==Te&&Fe!==""){Ll(Lo,"height",Fe);const wy=lb?0:Vn(Lo)-1;YE(Lo,tr-Te,wy)}},so=()=>{k.on(Lo=>{Lo.destroy()})};b.on("init",()=>{const Lo=kI(b,dB);if(z.set(Lo),xD(b)&&sI(b)){const Mi=ft(),Pi=M4.create(Lo,Mi,Je);b.mode.isReadOnly()||Pi.on(),Pi.events.startDrag.bind(tr=>{w.set(b.selection.getRng())}),Pi.events.beforeResize.bind(tr=>{const dc=tr.table.dom;fT(b,dc,kD(dc),DD(dc),ST+tr.type)}),Pi.events.afterResize.bind(tr=>{const dc=tr.table,Cp=dc.dom;D1(dc),w.on(lb=>{b.selection.setRng(lb),b.focus()}),iB(b,Cp,kD(Cp),DD(Cp),ST+tr.type),b.undoManager.add()}),k.set(Pi)}}),b.on("ObjectResizeStart",Lo=>{const Mi=Lo.target;if(iM(Mi)&&!b.mode.isReadOnly()){const Pi=vo.fromDom(Mi);at(b.dom.select(".mce-clonedresizable"),tr=>{b.dom.addClass(tr,"mce-"+bw(b)+"-columns")}),!yp(Pi)&&b0(b)?bn(Pi):!kA(Pi)&&Sw(b)&&It(Pi),Gc(Pi)&&Ia(Lo.origin,ST)&&It(Pi),se=Lo.width,pe=Cw(b)?"":QA(b,Mi).getOr(""),Te=Lo.height,Fe=PD(b,Mi).getOr("")}}),b.on("ObjectResized",Lo=>{const Mi=Lo.target;if(iM(Mi)){const Pi=vo.fromDom(Mi),tr=Lo.origin;DI(tr)&&bo(Pi,tr,Lo.width,Lo.height),D1(Pi),rm(b,Pi.dom,pT)}});const is=()=>{k.on(Lo=>{Lo.on(),Lo.showBars()})},yn=()=>{k.on(Lo=>{Lo.off(),Lo.hideBars()})};return b.on("DisabledStateChange",Lo=>{Lo.state?yn():is()}),b.on("SwitchMode",()=>{b.mode.isReadOnly()?yn():is()}),b.on("dragstart dragend",Lo=>{Lo.type==="dragstart"?yn():is()}),b.on("remove",()=>{so()}),{refresh:Lo=>{k.on(Mi=>Mi.refreshBars(vo.fromDom(Lo)))},hide:()=>{k.on(Lo=>Lo.hideBars())},show:()=>{k.on(Lo=>Lo.showBars())}}},ka=b=>{Pz(b);const w=MI(b),k=Mw(b,w),z=Vz(b,w,k);return cB(b,z),uB(b,z),oM(b,z),{getSelectedCells:k.getSelectedCells,clearSelectedCells:k.clearSelectedCells}},lM=b=>({table:ka(b)});var cM=()=>{e.add("dom",lM)};cM()})()),oIe}qYe();var rIe={},iIe={},aIe;function ZYe(){return aIe||(aIe=1,(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=(Be,rt,Ot)=>{var mn;return Ot(Be,rt.prototype)?!0:((mn=Be.constructor)===null||mn===void 0?void 0:mn.name)===rt.name},o=Be=>{const rt=typeof Be;return Be===null?"null":rt==="object"&&Array.isArray(Be)?"array":rt==="object"&&n(Be,String,(Ot,mn)=>mn.isPrototypeOf(Ot))?"string":rt},i=Be=>rt=>o(rt)===Be,c=Be=>rt=>typeof rt===Be,d=Be=>rt=>Be===rt,p=i("string"),v=i("object"),S=i("array"),T=d(null),x=c("boolean"),P=Be=>Be==null,B=Be=>!P(Be),U=c("function"),j=(Be,rt)=>{if(S(Be)){for(let Ot=0,mn=Be.length;Ot<mn;++Ot)if(!rt(Be[Ot]))return!1;return!0}return!1},W=()=>{},Z=Be=>()=>Be,re=(Be,rt)=>Be===rt;class le{constructor(rt,Ot){this.tag=rt,this.value=Ot}static some(rt){return new le(!0,rt)}static none(){return le.singletonNone}fold(rt,Ot){return this.tag?Ot(this.value):rt()}isSome(){return this.tag}isNone(){return!this.tag}map(rt){return this.tag?le.some(rt(this.value)):le.none()}bind(rt){return this.tag?rt(this.value):le.none()}exists(rt){return this.tag&&rt(this.value)}forall(rt){return!this.tag||rt(this.value)}filter(rt){return!this.tag||rt(this.value)?this:le.none()}getOr(rt){return this.tag?this.value:rt}or(rt){return this.tag?this:rt}getOrThunk(rt){return this.tag?this.value:rt()}orThunk(rt){return this.tag?this:rt()}getOrDie(rt){if(this.tag)return this.value;throw new Error(rt??"Called getOrDie on None")}static from(rt){return B(rt)?le.some(rt):le.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(rt){this.tag&&rt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}le.singletonNone=new le(!1);const ie=Array.prototype.indexOf,be=Array.prototype.push,Ce=(Be,rt)=>ie.call(Be,rt),Ae=(Be,rt)=>Ce(Be,rt)>-1,F=(Be,rt)=>{const Ot=Be.length,mn=new Array(Ot);for(let io=0;io<Ot;io++){const Mo=Be[io];mn[io]=rt(Mo,io)}return mn},Ie=(Be,rt)=>{for(let Ot=0,mn=Be.length;Ot<mn;Ot++){const io=Be[Ot];rt(io,Ot)}},tt=(Be,rt,Ot)=>(Ie(Be,(mn,io)=>{Ot=rt(Ot,mn,io)}),Ot),Xe=Be=>{const rt=[];for(let Ot=0,mn=Be.length;Ot<mn;++Ot){if(!S(Be[Ot]))throw new Error("Arr.flatten item "+Ot+" was not an array, input: "+Be);be.apply(rt,Be[Ot])}return rt},Ve=(Be,rt)=>Xe(F(Be,rt)),Re=(Be,rt)=>{for(let Ot=0;Ot<Be.length;Ot++){const mn=rt(Be[Ot],Ot);if(mn.isSome())return mn}return le.none()},vt=Object.keys,mt=Object.hasOwnProperty,gt=(Be,rt)=>{const Ot=vt(Be);for(let mn=0,io=Ot.length;mn<io;mn++){const Mo=Ot[mn],hr=Be[Mo];rt(hr,Mo)}},te=Be=>(rt,Ot)=>{Be[Ot]=rt},hn=(Be,rt,Ot,mn)=>{gt(Be,(io,Mo)=>{(rt(io,Mo)?Ot:mn)(io,Mo)})},ot=(Be,rt)=>{const Ot={};return hn(Be,rt,te(Ot),W),Ot},Rt=(Be,rt)=>mt.call(Be,rt),kt=(Be,rt)=>Rt(Be,rt)&&Be[rt]!==void 0&&Be[rt]!==null,at=Be=>{let rt=Be;return{get:()=>rt,set:io=>{rt=io}}},Cn=(Be,rt,Ot=re)=>Be.exists(mn=>Ot(mn,rt)),Ro=Be=>{const rt=[],Ot=mn=>{rt.push(mn)};for(let mn=0;mn<Be.length;mn++)Be[mn].each(Ot);return rt},jn=(Be,rt)=>Be?le.some(rt):le.none(),wo=Be=>{const rt=at(le.none()),Ot=()=>rt.get().each(Be);return{clear:()=>{Ot(),rt.set(le.none())},isSet:()=>rt.get().isSome(),get:()=>rt.get(),set:Fs=>{Ot(),rt.set(le.some(Fs))}}},qt=()=>{const Be=wo(W);return{...Be,on:Ot=>Be.get().each(Ot)}},Tn=(Be,rt)=>Be.substring(rt),_e=(Be,rt,Ot)=>rt===""||Be.length>=rt.length&&Be.substr(Ot,Ot+rt.length)===rt,vr=(Be,rt)=>vs(Be,rt)?Tn(Be,rt.length):Be,vs=(Be,rt)=>_e(Be,rt,0),Ut=Be=>rt=>rt.options.get(Be),xn=Be=>{const rt=Be.options.register;rt("link_assume_external_targets",{processor:Ot=>{const mn=p(Ot)||x(Ot);return mn?Ot===!0?{value:1,valid:mn}:Ot==="http"||Ot==="https"?{value:Ot,valid:mn}:{value:0,valid:mn}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),rt("link_context_toolbar",{processor:"boolean",default:!1}),rt("link_list",{processor:Ot=>p(Ot)||U(Ot)||j(Ot,v)}),rt("link_default_target",{processor:"string"}),rt("link_default_protocol",{processor:"string",default:"https"}),rt("link_target_list",{processor:Ot=>x(Ot)||j(Ot,v),default:!0}),rt("link_rel_list",{processor:"object[]",default:[]}),rt("link_class_list",{processor:"object[]",default:[]}),rt("link_title",{processor:"boolean",default:!0}),rt("allow_unsafe_link_target",{processor:"boolean",default:!1}),rt("link_quicklink",{processor:"boolean",default:!1}),rt("link_attributes_postprocess",{processor:"function"})},vn=Ut("link_assume_external_targets"),zt=Ut("link_context_toolbar"),wn=Ut("link_list"),fn=Ut("link_default_target"),ct=Ut("link_default_protocol"),Mt=Ut("link_target_list"),Yt=Ut("link_rel_list"),Ge=Ut("link_class_list"),Lt=Ut("link_title"),ln=Ut("allow_unsafe_link_target"),On=Ut("link_quicklink"),Bt=Ut("link_attributes_postprocess");var $t=tinymce.util.Tools.resolve("tinymce.util.URI"),ls=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ks=tinymce.util.Tools.resolve("tinymce.util.Tools");const Rs=Be=>B(Be)&&Be.nodeName.toLowerCase()==="a",Ao=Be=>Rs(Be)&&!!Ls(Be),sr=(Be,rt)=>{if(Be.collapsed)return[];{const Ot=Be.cloneContents(),mn=Ot.firstChild,io=new ls(mn,Ot),Mo=[];let hr=mn;do rt(hr)&&Mo.push(hr);while(hr=io.next());return Mo}},Ks=Be=>/^\w+:/i.test(Be),Ls=Be=>{var rt,Ot;return(Ot=(rt=Be.getAttribute("data-mce-href"))!==null&&rt!==void 0?rt:Be.getAttribute("href"))!==null&&Ot!==void 0?Ot:""},Xo=(Be,rt)=>{const Ot=["noopener"],mn=Be?Be.split(/\s+/):[],io=_r=>ks.trim(_r.sort().join(" ")),Mo=_r=>(_r=hr(_r),_r.length>0?_r.concat(Ot):Ot),hr=_r=>_r.filter(we=>ks.inArray(Ot,we)===-1),Fs=rt?Mo(mn):hr(mn);return Fs.length>0?io(Fs):""},At=Be=>Be.replace(/\uFEFF/g,""),Vt=(Be,rt)=>(rt=rt||to(Be.selection.getRng())[0]||Be.selection.getNode(),Xn(rt)?le.from(Be.dom.select("a[href]",rt)[0]):le.from(Be.dom.getParent(rt,"a[href]"))),en=(Be,rt)=>Vt(Be,rt).isSome(),tn=(Be,rt)=>{const Ot=rt.fold(()=>Be.getContent({format:"text"}),mn=>mn.innerText||mn.textContent||"");return At(Ot)},to=Be=>sr(Be,Ao),go=Be=>ks.grep(Be,Ao),To=Be=>go(Be).length>0,cn=Be=>to(Be).length>0,ro=Be=>{const rt=Be.schema.getTextInlineElements(),Ot=Mo=>Mo.nodeType===1&&!Rs(Mo)&&!Rt(rt,Mo.nodeName.toLowerCase());if(Vt(Be).exists(Mo=>Mo.hasAttribute("data-mce-block")))return!1;const io=Be.selection.getRng();return io.collapsed?!0:sr(io,Ot).length===0},Xn=Be=>B(Be)&&Be.nodeName==="FIGURE"&&/\bimage\b/i.test(Be.className),fs=Be=>tt(["title","rel","class","target"],(Ot,mn)=>(Be[mn].each(io=>{Ot[mn]=io.length>0?io:null}),Ot),{href:Be.href}),rs=(Be,rt)=>(rt==="http"||rt==="https")&&!Ks(Be)?rt+"://"+Be:Be,$n=(Be,rt)=>{const Ot={...rt};if(Yt(Be).length===0&&!ln(Be)){const mn=Xo(Ot.rel,Ot.target==="_blank");Ot.rel=mn||null}return le.from(Ot.target).isNone()&&Mt(Be)===!1&&(Ot.target=fn(Be)),Ot.href=rs(Ot.href,vn(Be)),Ot},gi=(Be,rt,Ot,mn)=>{Ot.each(Mo=>{Rt(rt,"innerText")?rt.innerText=Mo:rt.textContent=Mo}),Be.dom.setAttribs(rt,mn);const io=Be.dom.createRng();io.setStartAfter(rt),io.setEndAfter(rt),Be.selection.setRng(io)},ur=(Be,rt,Ot,mn)=>{const io=Be.dom;Xn(rt)?td(io,rt,mn):Ot.fold(()=>{Be.execCommand("mceInsertLink",!1,mn);const Mo=Be.selection.getEnd(),hr=io.createRng();hr.setStartAfter(Mo),hr.setEndAfter(Mo),Be.selection.setRng(hr)},Mo=>{Be.insertContent(io.createHTML("a",mn,io.encode(Mo)))})},Nr=(Be,rt,Ot)=>{const mn=Be.selection.getNode(),io=Vt(Be,mn),Mo=$n(Be,fs(Ot)),hr=Bt(Be);B(hr)&&hr(Mo),Be.undoManager.transact(()=>{Ot.href===rt.href&&rt.attach(),io.fold(()=>{ur(Be,mn,Ot.text,Mo)},Fs=>{Be.focus(),gi(Be,Fs,Ot.text,Mo)})})},fa=Be=>{const rt=Be.dom,Ot=Be.selection,mn=Ot.getBookmark(),io=Ot.getRng().cloneRange(),Mo=rt.getParent(io.startContainer,"a[href]",Be.getBody()),hr=rt.getParent(io.endContainer,"a[href]",Be.getBody());Mo&&io.setStartBefore(Mo),hr&&io.setEndAfter(hr),Ot.setRng(io),Be.execCommand("unlink"),Ot.moveToBookmark(mn)},ta=Be=>{Be.undoManager.transact(()=>{const rt=Be.selection.getNode();Xn(rt)?Vc(Be,rt):fa(Be),Be.focus()})},dr=Be=>{const{class:rt,href:Ot,rel:mn,target:io,text:Mo,title:hr}=Be;return ot({class:rt.getOrNull(),href:Ot,rel:mn.getOrNull(),target:io.getOrNull(),text:Mo.getOrNull(),title:hr.getOrNull()},(Fs,_r)=>T(Fs)===!1)},jo=(Be,rt)=>{const Ot=Be.options.get,mn={allow_html_data_urls:Ot("allow_html_data_urls"),allow_script_urls:Ot("allow_script_urls"),allow_svg_data_urls:Ot("allow_svg_data_urls")},io=rt.href;return{...rt,href:$t.isDomSafe(io,"a",mn)?io:""}},Vs=(Be,rt,Ot)=>{const mn=jo(Be,Ot);Be.hasPlugin("rtc",!0)?Be.execCommand("createlink",!1,dr(mn)):Nr(Be,rt,mn)},bc=Be=>{Be.hasPlugin("rtc",!0)?Be.execCommand("unlink"):ta(Be)},Vc=(Be,rt)=>{var Ot;const mn=Be.dom.select("img",rt)[0];if(mn){const io=Be.dom.getParents(mn,"a[href]",rt)[0];io&&((Ot=io.parentNode)===null||Ot===void 0||Ot.insertBefore(mn,io),Be.dom.remove(io))}},td=(Be,rt,Ot)=>{var mn;const io=Be.select("img",rt)[0];if(io){const Mo=Be.create("a",Ot);(mn=io.parentNode)===null||mn===void 0||mn.insertBefore(Mo,io),Mo.appendChild(io)}},zo=Be=>p(Be.value)?Be.value:"",tc=Be=>p(Be.text)?Be.text:p(Be.title)?Be.title:"",sl=(Be,rt)=>{const Ot=[];return ks.each(Be,mn=>{const io=tc(mn);if(mn.menu!==void 0){const Mo=sl(mn.menu,rt);Ot.push({text:io,items:Mo})}else{const Mo=rt(mn);Ot.push({text:io,value:Mo})}}),Ot},ep=(Be=zo)=>rt=>le.from(rt).map(Ot=>sl(Ot,Be)),Ur={sanitize:Be=>ep(zo)(Be),sanitizeWith:ep,createUi:(Be,rt)=>Ot=>({name:Be,type:"listbox",label:rt,items:Ot}),getValue:zo},Ia=Be=>kt(Be,"items"),Dd=(Be,rt)=>Re(rt,Ot=>Ia(Ot)?Dd(Be,Ot.items):jn(Ot.value===Be,Ot)),nd=(Be,rt,Ot,mn)=>{const io=mn[rt],Mo=Be.length>0;return io!==void 0?Dd(io,Ot).map(hr=>({url:{value:hr.value,meta:{text:Mo?Be:hr.text,attach:W}},text:Mo?Be:hr.text})):le.none()},Qc=(Be,rt)=>rt==="link"?Be.link:rt==="anchor"?Be.anchor:le.none(),od={init:(Be,rt)=>{const Ot={text:Be.text,title:Be.title},mn=_r=>{var we;return jn(Ot.title.length<=0,le.from((we=_r.meta)===null||we===void 0?void 0:we.title).getOr(""))},io=_r=>{var we;return jn(Ot.text.length<=0,le.from((we=_r.meta)===null||we===void 0?void 0:we.text).getOr(_r.value))},Mo=_r=>{const we=io(_r.url),$e=mn(_r.url);return we.isSome()||$e.isSome()?le.some({...we.map(ut=>({text:ut})).getOr({}),...$e.map(ut=>({title:ut})).getOr({})}):le.none()},hr=(_r,we)=>{const $e=Qc(rt,we).getOr([]);return nd(Ot.text,we,$e,_r)};return{onChange:(_r,we)=>{const $e=we.name;return $e==="url"?Mo(_r()):Ae(["anchor","link"],$e)?hr(_r(),$e):(($e==="text"||$e==="title")&&(Ot[$e]=_r()[$e]),le.none())}}},getDelta:nd};var Md=tinymce.util.Tools.resolve("tinymce.util.Delay");const yo=(Be,rt,Ot)=>{const mn=Be.selection.getRng();Md.setEditorTimeout(Be,()=>{Be.windowManager.confirm(rt,io=>{Be.selection.setRng(mn),Ot(io)})})},tp=Be=>{const rt=Be.href;return rt.indexOf("@")>0&&rt.indexOf("/")===-1&&rt.indexOf("mailto:")===-1?le.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:mn=>({...mn,href:"mailto:"+rt})}):le.none()},uh=(Be,rt)=>Ot=>{const mn=Ot.href;return Be===1&&!Ks(mn)||Be===0&&/^\s*www(\.|\d\.)/i.test(mn)?le.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${rt}:// prefix?`,preprocess:Mo=>({...Mo,href:rt+"://"+mn})}):le.none()},Jr={preprocess:(Be,rt)=>Re([tp,uh(vn(Be),ct(Be))],Ot=>Ot(rt)).fold(()=>Promise.resolve(rt),Ot=>new Promise(mn=>{yo(Be,Ot.message,io=>{mn(io?Ot.preprocess(rt):rt)})}))},Fc={getAnchors:Be=>{const rt=Be.dom.select("a:not([href])"),Ot=Ve(rt,mn=>{const io=mn.name||mn.id;return io?[{text:io,value:"#"+io}]:[]});return Ot.length>0?le.some([{text:"None",value:""}].concat(Ot)):le.none()}},xu={getClasses:Be=>{const rt=Ge(Be);return rt.length>0?Ur.sanitize(rt):le.none()}},dh=Be=>{try{return le.some(JSON.parse(Be))}catch{return le.none()}},Vi={getLinks:Be=>{const rt=mn=>Be.convertURL(mn.value||mn.url||"","href"),Ot=wn(Be);return new Promise(mn=>{p(Ot)?fetch(Ot).then(io=>io.ok?io.text().then(dh):Promise.reject()).then(mn,()=>mn(le.none())):U(Ot)?Ot(io=>mn(le.some(io))):mn(le.from(Ot))}).then(mn=>mn.bind(Ur.sanitizeWith(rt)).map(io=>io.length>0?[{text:"None",value:""}].concat(io):io))}},rl={getRels:(Be,rt)=>{const Ot=Yt(Be);if(Ot.length>0){const mn=Cn(rt,"_blank"),io=ln(Be)===!1,Mo=Fs=>Xo(Ur.getValue(Fs),mn);return(io?Ur.sanitizeWith(Mo):Ur.sanitize)(Ot)}return le.none()}},Lp=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],kc={getTargets:Be=>{const rt=Mt(Be);return S(rt)?Ur.sanitize(rt).orThunk(()=>le.some(Lp)):rt===!1?le.none():le.some(Lp)}},eu=(Be,rt,Ot)=>{const mn=Be.getAttrib(rt,Ot);return mn!==null&&mn.length>0?le.some(mn):le.none()},Ou=(Be,rt)=>{const Ot=Be.dom,io=ro(Be)?le.some(tn(Be.selection,rt)):le.none(),Mo=rt.bind($e=>le.from(Ot.getAttrib($e,"href"))),hr=rt.bind($e=>le.from(Ot.getAttrib($e,"target"))),Fs=rt.bind($e=>eu(Ot,$e,"rel")),_r=rt.bind($e=>eu(Ot,$e,"class")),we=rt.bind($e=>eu(Ot,$e,"title"));return{url:Mo,text:io,title:we,target:hr,rel:Fs,linkClass:_r}},na={collect:(Be,rt)=>Vi.getLinks(Be).then(Ot=>{const mn=Ou(Be,rt);return{anchor:mn,catalogs:{targets:kc.getTargets(Be),rels:rl.getRels(Be,mn.target),classes:xu.getClasses(Be),anchor:Fc.getAnchors(Be),link:Ot},optNode:rt,flags:{titleEnabled:Lt(Be)}}})},Ss=(Be,rt)=>Ot=>{const mn=Ot.getData();if(!mn.url.value){bc(Be),Ot.close();return}const io=Fs=>le.from(mn[Fs]).filter(_r=>!Cn(rt.anchor[Fs],_r)),Mo={href:mn.url.value,text:io("text"),target:io("target"),rel:io("rel"),class:io("linkClass"),title:io("title")},hr={href:mn.url.value,attach:mn.url.meta!==void 0&&mn.url.meta.attach?mn.url.meta.attach:W};Jr.preprocess(Be,Mo).then(Fs=>{Vs(Be,hr,Fs)}),Ot.close()},Wi=Be=>{const rt=Vt(Be);return na.collect(Be,rt)},kl=(Be,rt)=>{const Ot=Be.anchor,mn=Ot.url.getOr("");return{url:{value:mn,meta:{original:{value:mn}}},text:Ot.text.getOr(""),title:Ot.title.getOr(""),anchor:mn,link:mn,rel:Ot.rel.getOr(""),target:Ot.target.or(rt).getOr(""),linkClass:Ot.linkClass.getOr("")}},Lr=(Be,rt,Ot)=>{const mn=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],io=Be.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),Mo=Be.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],hr=le.from(fn(Ot)),Fs=kl(Be,hr),_r=Be.catalogs,we=od.init(Fs,_r);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:Xe([mn,io,Mo,Ro([_r.anchor.map(Ur.createUi("anchor","Anchors")),_r.rels.map(Ur.createUi("rel","Rel")),_r.targets.map(Ur.createUi("target","Open link in...")),_r.link.map(Ur.createUi("link","Link list")),_r.classes.map(Ur.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Fs,onChange:(ut,{name:Zt})=>{we.onChange(ut.getData,{name:Zt}).each(ko=>{ut.setData(ko)})},onSubmit:rt}},hh=Be=>{Wi(Be).then(Ot=>{const mn=Ss(Be,Ot);return Lr(Ot,mn,Be)}).then(Ot=>{Be.windowManager.open(Ot)})},np=Be=>{Be.addCommand("mceLink",(rt,Ot)=>{(Ot==null?void 0:Ot.dialog)===!0||!On(Be)?hh(Be):Be.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},wi=Be=>{Be.addShortcut("Meta+K","",()=>{Be.execCommand("mceLink")})};var Sc=tinymce.util.Tools.resolve("tinymce.util.VK");const Hc=(Be,rt)=>{document.body.appendChild(Be),Be.dispatchEvent(rt),document.body.removeChild(Be)},pf=Be=>{const rt=document.createElement("a");rt.target="_blank",rt.href=Be,rt.rel="noreferrer noopener";const Ot=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(Ot),Hc(rt,Ot)},vo=Be=>Be.altKey===!0&&Be.shiftKey===!1&&Be.ctrlKey===!1&&Be.metaKey===!1,Iu=(Be,rt)=>{if(rt){const Ot=Ls(rt);if(/^#/.test(Ot)){const mn=Be.dom.select(`${Ot},[name="${vr(Ot,"#")}"]`);mn.length&&Be.selection.scrollIntoView(mn[0],!0)}else pf(rt.href)}},Dl=Be=>{const rt=Be.selection.getRng(),Ot=rt.startContainer;return Ao(Ot)&&rt.startContainer===rt.endContainer&&Be.dom.select("img",Ot).length===1},Cc=(Be,rt)=>{const Ot=go(Be.dom.getParents(rt));return jn(Ot.length===1,Ot[0])},Bi=Be=>{const rt=to(Be.selection.getRng());return jn(rt.length>0,rt[0]).or(Cc(Be,Be.selection.getNode()))},Dm=Be=>Be.selection.isCollapsed()||Dl(Be)?Cc(Be,Be.selection.getStart()):Bi(Be),Gl=Be=>{const rt=qt(),Ot=()=>rt.get().or(Dm(Be)),mn=()=>Ot().each(io=>Iu(Be,io));return Be.on("contextmenu",io=>{Cc(Be,io.target).each(rt.set)}),Be.on("SelectionChange",()=>{rt.isSet()||Dm(Be).each(rt.set)}),Be.on("click",io=>{rt.clear();const Mo=go(Be.dom.getParents(io.target));Mo.length===1&&Sc.metaKeyPressed(io)&&(io.preventDefault(),Iu(Be,Mo[0]))}),Be.on("keydown",io=>{rt.clear(),!io.isDefaultPrevented()&&io.keyCode===13&&vo(io)&&Ot().each(Mo=>{io.preventDefault(),Iu(Be,Mo)})}),{gotoSelectedLink:mn}},tu=Be=>()=>{Be.execCommand("mceLink",!1,{dialog:!0})},op=(Be,rt)=>(Be.on("NodeChange",rt),()=>Be.off("NodeChange",rt)),mf=Be=>rt=>{const Ot=()=>{rt.setActive(!Be.mode.isReadOnly()&&en(Be,Be.selection.getNode())),rt.setEnabled(Be.selection.isEditable())};return Ot(),op(Be,Ot)},sd=Be=>rt=>{const Ot=()=>{rt.setEnabled(Be.selection.isEditable())};return Ot(),op(Be,Ot)},sp=Be=>rt=>{const Ot=Mo=>To(Mo)||cn(Be.selection.getRng()),mn=Be.dom.getParents(Be.selection.getStart()),io=Mo=>{rt.setEnabled(Ot(Mo)&&Be.selection.isEditable())};return io(mn),op(Be,Mo=>io(Mo.parents))},Pd=(Be,rt)=>{Be.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:tu(Be),onSetup:mf(Be)}),Be.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:rt.gotoSelectedLink,onSetup:sp(Be)}),Be.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>bc(Be),onSetup:sp(Be)})},Nd=(Be,rt)=>{Be.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:rt.gotoSelectedLink,onSetup:sp(Be)}),Be.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:tu(Be),onSetup:sd(Be)}),Be.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>bc(Be),onSetup:sp(Be)})},Ec=Be=>{const rt="link unlink openlink",Ot="link";Be.ui.registry.addContextMenu("link",{update:mn=>Be.dom.isEditable(mn)?To(Be.dom.getParents(mn,"a"))?rt:Ot:""})},co=(Be,rt)=>{const Ot=Mo=>{Mo.selection.collapse(!1)},mn=Mo=>{const hr=Be.selection.getNode();return Mo.setEnabled(en(Be,hr)&&Be.selection.isEditable()),W},io=Mo=>{const hr=Vt(Be),Fs=ro(Be);if(hr.isNone()&&Fs){const _r=tn(Be.selection,hr);return jn(_r.length===0,Mo)}else return le.none()};Be.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:mf(Be)},label:"Link",predicate:Mo=>zt(Be)&&en(Be,Mo),initValue:()=>Vt(Be).fold(Z(""),Ls),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:Mo=>{const hr=Be.selection.getNode();return Mo.setActive(en(Be,hr)),mf(Be)(Mo)},onAction:Mo=>{const hr=Mo.getValue(),Fs=io(hr);Vs(Be,{href:hr,attach:W},{href:hr,text:Fs,title:le.none(),rel:le.none(),target:le.from(fn(Be)),class:le.none()}),Ot(Be),Mo.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:mn,onAction:Mo=>{bc(Be),Mo.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:mn,onAction:Mo=>{rt.gotoSelectedLink(),Mo.hide()}}]})},Ru=Be=>{const rt=Gl(Be);Pd(Be,rt),Nd(Be,rt),Ec(Be),co(Be,rt)};var $h=()=>{e.add("link",Be=>{xn(Be),np(Be),Ru(Be),wi(Be)})};$h()})()),iIe}var lIe;function KYe(){return lIe||(lIe=1,ZYe()),rIe}KYe();var cIe={},uIe={},dIe;function YYe(){return dIe||(dIe=1,(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=Object.getPrototypeOf,o=(we,$e,ut)=>{var Zt;return ut(we,$e.prototype)?!0:((Zt=we.constructor)===null||Zt===void 0?void 0:Zt.name)===$e.name},i=we=>{const $e=typeof we;return we===null?"null":$e==="object"&&Array.isArray(we)?"array":$e==="object"&&o(we,String,(ut,Zt)=>Zt.isPrototypeOf(ut))?"string":$e},c=we=>$e=>i($e)===we,d=we=>$e=>typeof $e===we,p=we=>$e=>we===$e,v=(we,$e)=>T(we)&&o(we,$e,(ut,Zt)=>n(ut)===Zt),S=c("string"),T=c("object"),x=we=>v(we,Object),P=c("array"),B=p(null),U=d("boolean"),j=we=>we==null,W=we=>!j(we),Z=d("function"),re=d("number"),le=(we,$e)=>{if(P(we)){for(let ut=0,Zt=we.length;ut<Zt;++ut)if(!$e(we[ut]))return!1;return!0}return!1},ie=()=>{};class be{constructor($e,ut){this.tag=$e,this.value=ut}static some($e){return new be(!0,$e)}static none(){return be.singletonNone}fold($e,ut){return this.tag?ut(this.value):$e()}isSome(){return this.tag}isNone(){return!this.tag}map($e){return this.tag?be.some($e(this.value)):be.none()}bind($e){return this.tag?$e(this.value):be.none()}exists($e){return this.tag&&$e(this.value)}forall($e){return!this.tag||$e(this.value)}filter($e){return!this.tag||$e(this.value)?this:be.none()}getOr($e){return this.tag?this.value:$e}or($e){return this.tag?this:$e}getOrThunk($e){return this.tag?this.value:$e()}orThunk($e){return this.tag?this:$e()}getOrDie($e){if(this.tag)return this.value;throw new Error($e??"Called getOrDie on None")}static from($e){return W($e)?be.some($e):be.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each($e){this.tag&&$e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}be.singletonNone=new be(!1);const Ce=Array.prototype.push,Ae=we=>{const $e=[];for(let ut=0,Zt=we.length;ut<Zt;++ut){if(!P(we[ut]))throw new Error("Arr.flatten item "+ut+" was not an array, input: "+we);Ce.apply($e,we[ut])}return $e},F=(we,$e)=>$e>=0&&$e<we.length?be.some(we[$e]):be.none(),Ie=we=>F(we,0),tt=(we,$e)=>{for(let ut=0;ut<we.length;ut++){const Zt=$e(we[ut],ut);if(Zt.isSome())return Zt}return be.none()},Xe=Object.keys,Ve=Object.hasOwnProperty,Re=(we,$e)=>{const ut=Xe(we);for(let Zt=0,ko=ut.length;Zt<ko;Zt++){const Hs=ut[Zt],L=we[Hs];$e(L,Hs)}},vt=we=>($e,ut)=>{we[ut]=$e},mt=(we,$e,ut,Zt)=>{Re(we,(ko,Hs)=>{($e(ko,Hs)?ut:Zt)(ko,Hs)})},gt=(we,$e)=>{const ut={};return mt(we,$e,vt(ut),ie),ut},te=(we,$e)=>Ve.call(we,$e),hn=(we,$e)=>te(we,$e)&&we[$e]!==void 0&&we[$e]!==null,kt=(we=>(...$e)=>{if($e.length===0)throw new Error("Can't merge zero objects");const ut={};for(let Zt=0;Zt<$e.length;Zt++){const ko=$e[Zt];for(const Hs in ko)te(ko,Hs)&&(ut[Hs]=we(ut[Hs],ko[Hs]))}return ut})((we,$e)=>x(we)&&x($e)?kt(we,$e):$e),at=we=>we.length>0,Cn=(we,$e)=>{const Zt=($e||document).createElement("div");if(Zt.innerHTML=we,!Zt.hasChildNodes()||Zt.childNodes.length>1){const ko="HTML does not have a single root node";throw console.error(ko,we),new Error(ko)}return wo(Zt.childNodes[0])},Ro=(we,$e)=>{const Zt=($e||document).createElement(we);return wo(Zt)},jn=(we,$e)=>{const Zt=($e||document).createTextNode(we);return wo(Zt)},wo=we=>{if(we==null)throw new Error("Node cannot be null or undefined");return{dom:we}},Tn={fromHtml:Cn,fromTag:Ro,fromText:jn,fromDom:wo,fromPoint:(we,$e,ut)=>be.from(we.dom.elementFromPoint($e,ut)).map(wo)},_e=(we,$e,ut)=>{if(S(ut)||U(ut)||re(ut))we.setAttribute($e,ut+"");else throw console.error("Invalid call to Attribute.set. Key ",$e,":: Value ",ut,":: Element ",we),new Error("Attribute value was not simple")},vr=(we,$e,ut)=>{_e(we.dom,$e,ut)},vs=(we,$e)=>{we.dom.removeAttribute($e)};var Ut=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),xn=tinymce.util.Tools.resolve("tinymce.util.URI");const vn=we=>$e=>$e.options.get(we),zt=we=>{const $e=we.options.register;$e("image_dimensions",{processor:"boolean",default:!0}),$e("image_advtab",{processor:"boolean",default:!1}),$e("image_uploadtab",{processor:"boolean",default:!0}),$e("image_prepend_url",{processor:"string",default:""}),$e("image_class_list",{processor:"object[]"}),$e("image_description",{processor:"boolean",default:!0}),$e("image_title",{processor:"boolean",default:!1}),$e("image_caption",{processor:"boolean",default:!1}),$e("image_list",{processor:ut=>{const Zt=ut===!1||S(ut)||le(ut,T)||Z(ut);return Zt?{value:ut,valid:Zt}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},wn=vn("image_dimensions"),fn=vn("image_advtab"),ct=vn("image_uploadtab"),Mt=vn("image_prepend_url"),Yt=vn("image_class_list"),Ge=vn("image_description"),Lt=vn("image_title"),ln=vn("image_caption"),On=vn("image_list"),Bt=vn("a11y_advanced_options"),$t=vn("automatic_uploads"),ls=we=>at(we.options.get("images_upload_url")),ks=we=>W(we.options.get("images_upload_handler")),Rs=(we,$e)=>Math.max(parseInt(we,10),parseInt($e,10)),Ao=we=>new Promise($e=>{const ut=document.createElement("img"),Zt=Hs=>{ut.parentNode&&ut.parentNode.removeChild(ut),$e(Hs)};ut.addEventListener("load",()=>{const Hs=Rs(ut.width,ut.clientWidth),L=Rs(ut.height,ut.clientHeight),X={width:Hs,height:L};Zt(Promise.resolve(X))}),ut.addEventListener("error",()=>{Zt(Promise.reject(`Failed to get image dimensions for: ${we}`))});const ko=ut.style;ko.visibility="hidden",ko.position="fixed",ko.bottom=ko.left="0px",ko.width=ko.height="auto",document.body.appendChild(ut),ut.src=we}),sr=we=>(we&&(we=we.replace(/px$/,"")),we),Ks=we=>(we.length>0&&/^[0-9]+$/.test(we)&&(we+="px"),we),Ls=we=>{if(we.margin){const $e=String(we.margin).split(" ");switch($e.length){case 1:we["margin-top"]=we["margin-top"]||$e[0],we["margin-right"]=we["margin-right"]||$e[0],we["margin-bottom"]=we["margin-bottom"]||$e[0],we["margin-left"]=we["margin-left"]||$e[0];break;case 2:we["margin-top"]=we["margin-top"]||$e[0],we["margin-right"]=we["margin-right"]||$e[1],we["margin-bottom"]=we["margin-bottom"]||$e[0],we["margin-left"]=we["margin-left"]||$e[1];break;case 3:we["margin-top"]=we["margin-top"]||$e[0],we["margin-right"]=we["margin-right"]||$e[1],we["margin-bottom"]=we["margin-bottom"]||$e[2],we["margin-left"]=we["margin-left"]||$e[1];break;case 4:we["margin-top"]=we["margin-top"]||$e[0],we["margin-right"]=we["margin-right"]||$e[1],we["margin-bottom"]=we["margin-bottom"]||$e[2],we["margin-left"]=we["margin-left"]||$e[3]}delete we.margin}return we},Xo=(we,$e)=>{const ut=On(we);S(ut)?fetch(ut).then(Zt=>{Zt.ok&&Zt.json().then($e)}):Z(ut)?ut($e):$e(ut)},At=(we,$e,ut)=>{const Zt=()=>{ut.onload=ut.onerror=null,we.selection&&(we.selection.select(ut),we.nodeChanged())};ut.onload=()=>{!$e.width&&!$e.height&&wn(we)&&we.dom.setAttribs(ut,{width:String(ut.clientWidth),height:String(ut.clientHeight)}),Zt()},ut.onerror=Zt},Vt=we=>new Promise(($e,ut)=>{const Zt=new FileReader;Zt.onload=()=>{$e(Zt.result)},Zt.onerror=()=>{var ko;ut((ko=Zt.error)===null||ko===void 0?void 0:ko.message)},Zt.readAsDataURL(we)}),en=we=>we.nodeName==="IMG"&&(we.hasAttribute("data-mce-object")||we.hasAttribute("data-mce-placeholder")),tn=(we,$e)=>{const ut=we.options.get;return xn.isDomSafe($e,"img",{allow_html_data_urls:ut("allow_html_data_urls"),allow_script_urls:ut("allow_script_urls"),allow_svg_data_urls:ut("allow_svg_data_urls")})},to=Ut.DOM,go=we=>we.style.marginLeft&&we.style.marginRight&&we.style.marginLeft===we.style.marginRight?sr(we.style.marginLeft):"",To=we=>we.style.marginTop&&we.style.marginBottom&&we.style.marginTop===we.style.marginBottom?sr(we.style.marginTop):"",cn=we=>we.style.borderWidth?sr(we.style.borderWidth):"",ro=(we,$e)=>{var ut;return we.hasAttribute($e)&&(ut=we.getAttribute($e))!==null&&ut!==void 0?ut:""},Xn=we=>we.parentNode!==null&&we.parentNode.nodeName==="FIGURE",fs=(we,$e,ut)=>{ut===""||ut===null?we.removeAttribute($e):we.setAttribute($e,ut)},rs=we=>{const $e=to.create("figure",{class:"image"});to.insertAfter($e,we),$e.appendChild(we),$e.appendChild(to.create("figcaption",{contentEditable:"true"},"Caption")),$e.contentEditable="false"},$n=we=>{const $e=we.parentNode;W($e)&&(to.insertAfter(we,$e),to.remove($e))},gi=we=>{Xn(we)?$n(we):rs(we)},ur=(we,$e)=>{const ut=we.getAttribute("style"),Zt=$e(ut!==null?ut:"");Zt.length>0?(we.setAttribute("style",Zt),we.setAttribute("data-mce-style",Zt)):we.removeAttribute("style")},Nr=(we,$e)=>(ut,Zt,ko)=>{const Hs=ut.style;Hs[Zt]?(Hs[Zt]=Ks(ko),ur(ut,$e)):fs(ut,Zt,ko)},fa=(we,$e)=>we.style[$e]?sr(we.style[$e]):ro(we,$e),ta=(we,$e)=>{const ut=Ks($e);we.style.marginLeft=ut,we.style.marginRight=ut},dr=(we,$e)=>{const ut=Ks($e);we.style.marginTop=ut,we.style.marginBottom=ut},jo=(we,$e)=>{const ut=Ks($e);we.style.borderWidth=ut},Vs=(we,$e)=>{we.style.borderStyle=$e},bc=we=>{var $e;return($e=we.style.borderStyle)!==null&&$e!==void 0?$e:""},Vc=we=>W(we)&&we.nodeName==="FIGURE",td=we=>we.nodeName==="IMG",zo=we=>{const $e=to.getAttrib(we,"alt"),ut=to.getAttrib(we,"role");return we.hasAttribute("alt")&&$e.length===0||ut==="presentation"||ut==="none"},tc=we=>zo(we)?"":ro(we,"alt"),sl=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),ep=(we,$e)=>{var ut;const Zt=document.createElement("img");return fs(Zt,"style",$e.style),(go(Zt)||$e.hspace!=="")&&ta(Zt,$e.hspace),(To(Zt)||$e.vspace!=="")&&dr(Zt,$e.vspace),(cn(Zt)||$e.border!=="")&&jo(Zt,$e.border),(bc(Zt)||$e.borderStyle!=="")&&Vs(Zt,$e.borderStyle),we((ut=Zt.getAttribute("style"))!==null&&ut!==void 0?ut:"")},Wl=(we,$e)=>{const ut=document.createElement("img");if(Qc(we,{...$e,caption:!1},ut),Ia(ut,$e.alt,$e.isDecorative),$e.caption){const Zt=to.create("figure",{class:"image"});return Zt.appendChild(ut),Zt.appendChild(to.create("figcaption",{contentEditable:"true"},"Caption")),Zt.contentEditable="false",Zt}else return ut},kd=(we,$e)=>({src:ro($e,"src"),alt:tc($e),title:ro($e,"title"),width:fa($e,"width"),height:fa($e,"height"),class:ro($e,"class"),style:we(ro($e,"style")),caption:Xn($e),hspace:go($e),vspace:To($e),border:cn($e),borderStyle:bc($e),isDecorative:zo($e)}),Ur=(we,$e,ut,Zt,ko)=>{ut[Zt]!==$e[Zt]&&ko(we,Zt,String(ut[Zt]))},Ia=(we,$e,ut)=>{if(ut){to.setAttrib(we,"role","presentation");const Zt=Tn.fromDom(we);vr(Zt,"alt","")}else{if(B($e)){const Zt=Tn.fromDom(we);vs(Zt,"alt")}else{const Zt=Tn.fromDom(we);vr(Zt,"alt",$e)}to.getAttrib(we,"role")==="presentation"&&to.setAttrib(we,"role","")}},Dd=(we,$e,ut)=>{(ut.alt!==$e.alt||ut.isDecorative!==$e.isDecorative)&&Ia(we,ut.alt,ut.isDecorative)},nd=(we,$e)=>(ut,Zt,ko)=>{we(ut,ko),ur(ut,$e)},Qc=(we,$e,ut)=>{const Zt=kd(we,ut);Ur(ut,Zt,$e,"caption",(ko,Hs,L)=>gi(ko)),Ur(ut,Zt,$e,"src",fs),Ur(ut,Zt,$e,"title",fs),Ur(ut,Zt,$e,"width",Nr("width",we)),Ur(ut,Zt,$e,"height",Nr("height",we)),Ur(ut,Zt,$e,"class",fs),Ur(ut,Zt,$e,"style",nd((ko,Hs)=>fs(ko,"style",Hs),we)),Ur(ut,Zt,$e,"hspace",nd(ta,we)),Ur(ut,Zt,$e,"vspace",nd(dr,we)),Ur(ut,Zt,$e,"border",nd(jo,we)),Ur(ut,Zt,$e,"borderStyle",nd(Vs,we)),Dd(ut,Zt,$e)},dl=(we,$e)=>{const ut=we.dom.styles.parse($e),Zt=Ls(ut),ko=we.dom.styles.parse(we.dom.styles.serialize(Zt));return we.dom.styles.serialize(ko)},od=we=>{const $e=we.selection.getNode(),ut=we.dom.getParent($e,"figure.image");return ut?we.dom.select("img",ut)[0]:$e&&($e.nodeName!=="IMG"||en($e))?null:$e},Md=(we,$e)=>{var ut;const Zt=we.dom,ko=gt(we.schema.getTextBlockElements(),(L,X)=>!we.schema.isValidChild(X,"figure")),Hs=Zt.getParent($e.parentNode,L=>hn(ko,L.nodeName),we.getBody());return Hs&&(ut=Zt.split(Hs,$e))!==null&&ut!==void 0?ut:$e},yo=we=>{const $e=od(we);return $e?kd(ut=>dl(we,ut),$e):sl()},tp=(we,$e)=>{const ut=Wl(ko=>dl(we,ko),$e);we.dom.setAttrib(ut,"data-mce-id","__mcenew"),we.focus(),we.insertContent(ut.outerHTML);const Zt=we.dom.select('*[data-mce-id="__mcenew"]')[0];if(we.dom.setAttrib(Zt,"data-mce-id",null),Vc(Zt)){const ko=Md(we,Zt);we.selection.select(ko)}else we.selection.select(Zt)},uh=(we,$e)=>{we.dom.setAttrib($e,"src",$e.getAttribute("src"))},Vh=(we,$e)=>{if($e){const ut=we.dom.is($e.parentNode,"figure.image")?$e.parentNode:$e;we.dom.remove(ut),we.focus(),we.nodeChanged(),we.dom.isEmpty(we.getBody())&&(we.setContent(""),we.selection.setCursorLocation())}},Jr=(we,$e)=>{const ut=od(we);if(ut)if(Qc(Zt=>dl(we,Zt),$e,ut),uh(we,ut),Vc(ut.parentNode)){we.dom.setStyle(ut,"float","");const Zt=ut.parentNode;Md(we,Zt),we.selection.select(ut.parentNode)}else we.selection.select(ut),At(we,$e,ut)},Fh=(we,$e)=>{const ut=$e.src;return{...$e,src:tn(we,ut)?ut:""}},Fc=(we,$e)=>{const ut=od(we);if(ut){const ko={...kd(L=>dl(we,L),ut),...$e},Hs=Fh(we,ko);ko.src?Jr(we,Hs):Vh(we,ut)}else $e.src&&tp(we,{...sl(),...$e})};var Ar=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),xu=tinymce.util.Tools.resolve("tinymce.util.Tools");const dh=we=>S(we.value)?we.value:"",Rc=we=>S(we.text)?we.text:S(we.title)?we.title:"",Vi=(we,$e)=>{const ut=[];return xu.each(we,Zt=>{const ko=Rc(Zt);if(Zt.menu!==void 0){const Hs=Vi(Zt.menu,$e);ut.push({text:ko,items:Hs})}else{const Hs=$e(Zt);ut.push({text:ko,value:Hs})}}),ut},yc=(we=dh)=>$e=>$e?be.from($e).map(ut=>Vi(ut,we)):be.none(),rl=we=>yc(dh)(we),Lp=we=>te(we,"items"),km=(we,$e)=>tt(we,ut=>Lp(ut)?km(ut.items,$e):ut.value===$e?be.some(ut):be.none()),eu={sanitizer:yc,sanitize:rl,findEntry:(we,$e)=>we.bind(ut=>km(ut,$e))},Hh={makeTab:we=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},na=we=>{const $e=eu.sanitizer(Ln=>we.convertURL(Ln.value||Ln.url||"","src")),ut=new Promise(Ln=>{Xo(we,no=>{Ln($e(no).map(_n=>Ae([[{text:"None",value:""}],_n])))})}),Zt=eu.sanitize(Yt(we)),ko=fn(we),Hs=ct(we),L=ls(we),X=ks(we),de=yo(we),ge=Ge(we),xe=Lt(we),Pe=wn(we),je=ln(we),xt=Bt(we),St=$t(we),Jt=be.some(Mt(we)).filter(Ln=>S(Ln)&&Ln.length>0);return ut.then(Ln=>({image:de,imageList:Ln,classList:Zt,hasAdvTab:ko,hasUploadTab:Hs,hasUploadUrl:L,hasUploadHandler:X,hasDescription:ge,hasImageTitle:xe,hasDimensions:Pe,hasImageCaption:je,prependURL:Jt,hasAccessibilityOptions:xt,automaticUploads:St}))},Ss=we=>{const $e={name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"},ut=we.imageList.map(xe=>({name:"images",type:"listbox",label:"Image list",items:xe})),Zt={name:"alt",type:"input",label:"Alternative description",enabled:!(we.hasAccessibilityOptions&&we.image.isDecorative)},ko={name:"title",type:"input",label:"Image title"},Hs={name:"dimensions",type:"sizeinput"},L={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},X=we.classList.map(xe=>({name:"classes",type:"listbox",label:"Class",items:xe})),de={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},ge=xe=>xe?{type:"grid",columns:2}:{type:"panel"};return Ae([[$e],ut.toArray(),we.hasAccessibilityOptions&&we.hasDescription?[L]:[],we.hasDescription?[Zt]:[],we.hasImageTitle?[ko]:[],we.hasDimensions?[Hs]:[],[{...ge(we.classList.isSome()&&we.hasImageCaption),items:Ae([X.toArray(),we.hasImageCaption?[de]:[]])}]])},kl={makeTab:we=>({title:"General",name:"general",items:Ss(we)}),makeItems:Ss},hh={makeTab:we=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},np=we=>({prevImage:eu.findEntry(we.imageList,we.image.src),prevAlt:we.image.alt,open:!0}),wi=we=>({src:{value:we.src,meta:{}},images:we.src,alt:we.alt,title:we.title,dimensions:{width:we.width,height:we.height},classes:we.class,caption:we.caption,style:we.style,vspace:we.vspace,border:we.border,hspace:we.hspace,borderstyle:we.borderStyle,fileinput:[],isDecorative:we.isDecorative}),Sc=(we,$e)=>({src:we.src.value,alt:(we.alt===null||we.alt.length===0)&&$e?null:we.alt,title:we.title,width:we.dimensions.width,height:we.dimensions.height,class:we.classes,style:we.style,caption:we.caption,hspace:we.hspace,vspace:we.vspace,border:we.border,borderStyle:we.borderstyle,isDecorative:we.isDecorative}),Hc=(we,$e)=>/^(?:[a-zA-Z]+:)?\/\//.test($e)?be.none():we.prependURL.bind(ut=>$e.substring(0,ut.length)!==ut?be.some(ut+$e):be.none()),pf=(we,$e)=>{const ut=$e.getData();Hc(we,ut.src.value).each(Zt=>{$e.setData({src:{value:Zt,meta:ut.src.meta}})})},vo=(we,$e,ut)=>{we.hasDescription&&S(ut.alt)&&($e.alt=ut.alt),we.hasAccessibilityOptions&&($e.isDecorative=ut.isDecorative||$e.isDecorative||!1),we.hasImageTitle&&S(ut.title)&&($e.title=ut.title),we.hasDimensions&&(S(ut.width)&&($e.dimensions.width=ut.width),S(ut.height)&&($e.dimensions.height=ut.height)),S(ut.class)&&eu.findEntry(we.classList,ut.class).each(Zt=>{$e.classes=Zt.value}),we.hasImageCaption&&U(ut.caption)&&($e.caption=ut.caption),we.hasAdvTab&&(S(ut.style)&&($e.style=ut.style),S(ut.vspace)&&($e.vspace=ut.vspace),S(ut.border)&&($e.border=ut.border),S(ut.hspace)&&($e.hspace=ut.hspace),S(ut.borderstyle)&&($e.borderstyle=ut.borderstyle))},Iu=(we,$e)=>{const ut=$e.getData(),Zt=ut.src.meta;if(Zt!==void 0){const ko=kt({},ut);vo(we,ko,Zt),$e.setData(ko)}},Dl=(we,$e,ut,Zt)=>{const ko=Zt.getData(),Hs=ko.src.value,L=ko.src.meta||{};!L.width&&!L.height&&$e.hasDimensions&&(at(Hs)?we.imageSize(Hs).then(X=>{ut.open&&Zt.setData({dimensions:X})}).catch(X=>console.error(X)):Zt.setData({dimensions:{width:"",height:""}}))},Cc=(we,$e,ut)=>{const Zt=ut.getData(),ko=eu.findEntry(we.imageList,Zt.src.value);$e.prevImage=ko,ut.setData({images:ko.map(Hs=>Hs.value).getOr("")})},Bi=(we,$e,ut,Zt)=>{pf($e,Zt),Iu($e,Zt),Dl(we,$e,ut,Zt),Cc($e,ut,Zt)},Dm=(we,$e,ut,Zt)=>{const ko=Zt.getData(),Hs=eu.findEntry($e.imageList,ko.images);Hs.each(L=>{ko.alt===""||ut.prevImage.map(de=>de.text===ko.alt).getOr(!1)?L.value===""?Zt.setData({src:L,alt:ut.prevAlt}):Zt.setData({src:L,alt:L.text}):Zt.setData({src:L})}),ut.prevImage=Hs,Bi(we,$e,ut,Zt)},Gl=(we,$e,ut,Zt)=>{const ko=Zt.getData();Zt.block("Uploading image"),Ie(ko.fileinput).fold(()=>{Zt.unblock()},Hs=>{const L=URL.createObjectURL(Hs),X=()=>{Zt.unblock(),URL.revokeObjectURL(L)},de=ge=>{Zt.setData({src:{value:ge,meta:{}}}),Zt.showTab("general"),Bi(we,$e,ut,Zt),Zt.focus("src")};Vt(Hs).then(ge=>{const xe=we.createBlobCache(Hs,L,ge);$e.automaticUploads?we.uploadImage(xe).then(Pe=>{de(Pe.url),X()}).catch(Pe=>{X(),we.alertErr(Pe,()=>{Zt.focus("fileinput")})}):(we.addToBlobCache(xe),de(xe.blobUri()),Zt.unblock())})})},tu=(we,$e,ut)=>(Zt,ko)=>{ko.name==="src"?Bi(we,$e,ut,Zt):ko.name==="images"?Dm(we,$e,ut,Zt):ko.name==="alt"?ut.prevAlt=Zt.getData().alt:ko.name==="fileinput"?Gl(we,$e,ut,Zt):ko.name==="isDecorative"&&Zt.setEnabled("alt",!Zt.getData().isDecorative)},op=we=>()=>{we.open=!1},mf=we=>we.hasAdvTab||we.hasUploadUrl||we.hasUploadHandler?{type:"tabpanel",tabs:Ae([[kl.makeTab(we)],we.hasAdvTab?[Hh.makeTab(we)]:[],we.hasUploadTab&&(we.hasUploadUrl||we.hasUploadHandler)?[hh.makeTab(we)]:[]])}:{type:"panel",items:kl.makeItems(we)},sd=(we,$e,ut)=>Zt=>{const ko=kt(wi($e.image),Zt.getData()),Hs={...ko,style:ep(ut.normalizeCss,Sc(ko,!1))};we.execCommand("mceUpdateImage",!1,Sc(Hs,$e.hasAccessibilityOptions)),we.editorUpload.uploadImagesAuto(),Zt.close()},sp=we=>$e=>tn(we,$e)?Ao(we.documentBaseURI.toAbsolute($e)).then(ut=>({width:String(ut.width),height:String(ut.height)})):Promise.resolve({width:"",height:""}),Pd=we=>($e,ut,Zt)=>{var ko;return we.editorUpload.blobCache.create({blob:$e,blobUri:ut,name:(ko=$e.name)===null||ko===void 0?void 0:ko.replace(/\.[^\.]+$/,""),filename:$e.name,base64:Zt.split(",")[1]})},Nd=we=>$e=>{we.editorUpload.blobCache.add($e)},Ec=we=>($e,ut)=>{we.windowManager.alert($e,ut)},co=we=>$e=>dl(we,$e),Ru=we=>$e=>we.dom.parseStyle($e),$h=we=>($e,ut)=>we.dom.serializeStyle($e,ut),Be=we=>$e=>Ar(we).upload([$e],!1).then(ut=>{var Zt;return ut.length===0?Promise.reject("Failed to upload image"):ut[0].status===!1?Promise.reject((Zt=ut[0].error)===null||Zt===void 0?void 0:Zt.message):ut[0]}),rt=we=>{const $e={imageSize:sp(we),addToBlobCache:Nd(we),createBlobCache:Pd(we),alertErr:Ec(we),normalizeCss:co(we),parseStyle:Ru(we),serializeStyle:$h(we),uploadImage:Be(we)};return{open:()=>{na(we).then(Zt=>{const ko=np(Zt);return{title:"Insert/Edit Image",size:"normal",body:mf(Zt),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:wi(Zt.image),onSubmit:sd(we,Zt,$e),onChange:tu($e,Zt,ko),onClose:op(ko)}}).then(we.windowManager.open)}}},Ot=we=>{we.addCommand("mceImage",rt(we).open),we.addCommand("mceUpdateImage",($e,ut)=>{we.undoManager.transact(()=>Fc(we,ut))})},mn=we=>{const $e=we.attr("class");return W($e)&&/\bimage\b/.test($e)},io=we=>$e=>{let ut=$e.length;const Zt=ko=>{ko.attr("contenteditable",we?"true":null)};for(;ut--;){const ko=$e[ut];mn(ko)&&(ko.attr("contenteditable",we?"false":null),xu.each(ko.getAll("figcaption"),Zt))}},Mo=we=>{we.on("PreInit",()=>{we.parser.addNodeFilter("figure",io(!0)),we.serializer.addNodeFilter("figure",io(!1))})},hr=we=>$e=>{const ut=()=>{$e.setEnabled(we.selection.isEditable())};return we.on("NodeChange",ut),ut(),()=>{we.off("NodeChange",ut)}},Fs=we=>{we.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:rt(we).open,onSetup:$e=>{$e.setActive(W(od(we)));const ut=we.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",$e.setActive).unbind,Zt=hr(we)($e);return()=>{ut(),Zt()}}}),we.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:rt(we).open,onSetup:hr(we)}),we.ui.registry.addContextMenu("image",{update:$e=>we.selection.isEditable()&&(Vc($e)||td($e)&&!en($e))?["image"]:[]})};var _r=()=>{e.add("image",we=>{zt(we),Mo(we),Fs(we),Ot(we)})};_r()})()),uIe}var hIe;function XYe(){return hIe||(hIe=1,YYe()),cIe}XYe();var fIe={},pIe={},mIe;function JYe(){return mIe||(mIe=1,(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=(v,S)=>{v.focus(),v.undoManager.transact(()=>{v.setContent(S)}),v.selection.setCursorLocation(),v.nodeChanged()},o=v=>v.getContent({source_view:!0}),i=v=>{const S=o(v);v.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code",spellcheck:!1}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:S},onSubmit:T=>{n(v,T.getData().code),T.close()}})},c=v=>{v.addCommand("mceCodeEditor",()=>{i(v)})},d=v=>{const S=()=>v.execCommand("mceCodeEditor");v.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:S}),v.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:S})};var p=()=>{e.add("code",v=>(c(v),d(v),{}))};p()})()),pIe}var gIe;function QYe(){return gIe||(gIe=1,JYe()),fIe}QYe();var vIe={},bIe={},yIe;function eXe(){return yIe||(yIe=1,(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=(J,ae,ke)=>{var qe;return ke(J,ae.prototype)?!0:((qe=J.constructor)===null||qe===void 0?void 0:qe.name)===ae.name},o=J=>{const ae=typeof J;return J===null?"null":ae==="object"&&Array.isArray(J)?"array":ae==="object"&&n(J,String,(ke,qe)=>qe.isPrototypeOf(ke))?"string":ae},i=J=>ae=>o(ae)===J,c=J=>ae=>typeof ae===J,d=J=>ae=>J===ae,p=i("string"),v=i("array"),S=c("boolean"),T=d(void 0),x=J=>J==null,P=J=>!x(J),B=c("function"),U=c("number"),j=()=>{},W=(J,ae)=>ke=>J(ae(ke)),Z=J=>()=>J,re=J=>J,le=(J,ae)=>J===ae;function ie(J,...ae){return(...ke)=>{const qe=ae.concat(ke);return J.apply(null,qe)}}const be=J=>{J()},Ce=Z(!1),Ae=Z(!0);class F{constructor(ae,ke){this.tag=ae,this.value=ke}static some(ae){return new F(!0,ae)}static none(){return F.singletonNone}fold(ae,ke){return this.tag?ke(this.value):ae()}isSome(){return this.tag}isNone(){return!this.tag}map(ae){return this.tag?F.some(ae(this.value)):F.none()}bind(ae){return this.tag?ae(this.value):F.none()}exists(ae){return this.tag&&ae(this.value)}forall(ae){return!this.tag||ae(this.value)}filter(ae){return!this.tag||ae(this.value)?this:F.none()}getOr(ae){return this.tag?this.value:ae}or(ae){return this.tag?this:ae}getOrThunk(ae){return this.tag?this.value:ae()}orThunk(ae){return this.tag?this:ae()}getOrDie(ae){if(this.tag)return this.value;throw new Error(ae??"Called getOrDie on None")}static from(ae){return P(ae)?F.some(ae):F.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ae){this.tag&&ae(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}F.singletonNone=new F(!1);const Ie=Array.prototype.indexOf,tt=Array.prototype.push,Xe=(J,ae)=>Ie.call(J,ae),Ve=(J,ae)=>Xe(J,ae)>-1,Re=(J,ae)=>{for(let ke=0,qe=J.length;ke<qe;ke++){const bt=J[ke];if(ae(bt,ke))return!0}return!1},vt=(J,ae)=>{const ke=[];for(let qe=0;qe<J;qe++)ke.push(ae(qe));return ke},mt=(J,ae)=>{const ke=J.length,qe=new Array(ke);for(let bt=0;bt<ke;bt++){const un=J[bt];qe[bt]=ae(un,bt)}return qe},gt=(J,ae)=>{for(let ke=0,qe=J.length;ke<qe;ke++){const bt=J[ke];ae(bt,ke)}},te=(J,ae)=>{for(let ke=J.length-1;ke>=0;ke--){const qe=J[ke];ae(qe,ke)}},hn=(J,ae)=>{const ke=[],qe=[];for(let bt=0,un=J.length;bt<un;bt++){const mo=J[bt];(ae(mo,bt)?ke:qe).push(mo)}return{pass:ke,fail:qe}},ot=(J,ae)=>{const ke=[];for(let qe=0,bt=J.length;qe<bt;qe++){const un=J[qe];ae(un,qe)&&ke.push(un)}return ke},Rt=(J,ae,ke)=>(te(J,(qe,bt)=>{ke=ae(ke,qe,bt)}),ke),kt=(J,ae,ke)=>(gt(J,(qe,bt)=>{ke=ae(ke,qe,bt)}),ke),at=(J,ae,ke)=>{for(let qe=0,bt=J.length;qe<bt;qe++){const un=J[qe];if(ae(un,qe))return F.some(un);if(ke(un,qe))break}return F.none()},Cn=(J,ae)=>at(J,ae,Ce),Ro=J=>{const ae=[];for(let ke=0,qe=J.length;ke<qe;++ke){if(!v(J[ke]))throw new Error("Arr.flatten item "+ke+" was not an array, input: "+J);tt.apply(ae,J[ke])}return ae},jn=(J,ae)=>Ro(mt(J,ae)),wo=(J,ae)=>{for(let ke=0,qe=J.length;ke<qe;++ke){const bt=J[ke];if(ae(bt,ke)!==!0)return!1}return!0},qt=(J,ae)=>{const ke={};for(let qe=0,bt=J.length;qe<bt;qe++){const un=J[qe];ke[String(un)]=ae(un,qe)}return ke},Tn=(J,ae)=>ae>=0&&ae<J.length?F.some(J[ae]):F.none(),_e=J=>Tn(J,0),vr=J=>Tn(J,J.length-1),vs=(J,ae)=>{for(let ke=0;ke<J.length;ke++){const qe=ae(J[ke],ke);if(qe.isSome())return qe}return F.none()},Ut=Object.keys,xn=Object.hasOwnProperty,vn=(J,ae)=>{const ke=Ut(J);for(let qe=0,bt=ke.length;qe<bt;qe++){const un=ke[qe],mo=J[un];ae(mo,un)}},zt=J=>(ae,ke)=>{J[ke]=ae},wn=(J,ae,ke,qe)=>{vn(J,(bt,un)=>{(ae(bt,un)?ke:qe)(bt,un)})},fn=(J,ae)=>{const ke={};return wn(J,ae,zt(ke),j),ke},ct=(J,ae)=>{const ke=[];return vn(J,(qe,bt)=>{ke.push(ae(qe,bt))}),ke},Mt=J=>ct(J,re),Yt=J=>Ut(J).length,Ge=(J,ae)=>Lt(J,ae)?F.from(J[ae]):F.none(),Lt=(J,ae)=>xn.call(J,ae),ln=(J,ae)=>Lt(J,ae)&&J[ae]!==void 0&&J[ae]!==null,On=J=>{for(const ae in J)if(xn.call(J,ae))return!1;return!0},Bt=J=>{let ae=J;return{get:()=>ae,set:bt=>{ae=bt}}},$t=(J,ae,ke=le)=>J.exists(qe=>ke(qe,ae)),ls=J=>{const ae=[],ke=qe=>{ae.push(qe)};for(let qe=0;qe<J.length;qe++)J[qe].each(ke);return ae},ks=(J,ae,ke)=>J.isSome()&&ae.isSome()?F.some(ke(J.getOrDie(),ae.getOrDie())):F.none(),Rs=J=>J.bind(re),Ao=(J,ae)=>J?F.some(ae):F.none(),sr=J=>{const ae=Bt(F.none()),ke=()=>ae.get().each(J);return{clear:()=>{ke(),ae.set(F.none())},isSet:()=>ae.get().isSome(),get:()=>ae.get(),set:Go=>{ke(),ae.set(F.some(Go))}}},Ks=()=>sr(J=>J.unbind()),Ls=(J,ae)=>J.substring(ae),Xo=(J,ae,ke)=>ae===""||J.length>=ae.length&&J.substr(ke,ke+ae.length)===ae,At=(J,ae)=>Vt(J,ae)?Ls(J,ae.length):J,Vt=(J,ae)=>Xo(J,ae,0),tn=(J=>ae=>ae.replace(J,""))(/^\s+|\s+$/g),to=J=>J.length>0,go=J=>!to(J),To=(J,ae=10)=>{const ke=parseInt(J,ae);return isNaN(ke)?F.none():F.some(ke)},cn=J=>{const ae=parseFloat(J);return isNaN(ae)?F.none():F.some(ae)},ro=J=>{let ae=!1,ke;return(...qe)=>(ae||(ae=!0,ke=J.apply(null,qe)),ke)},Xn=(J,ae)=>{const qe=(ae||document).createElement("div");if(qe.innerHTML=J,!qe.hasChildNodes()||qe.childNodes.length>1){const bt="HTML does not have a single root node";throw console.error(bt,J),new Error(bt)}return $n(qe.childNodes[0])},fs=(J,ae)=>{const qe=(ae||document).createElement(J);return $n(qe)},rs=(J,ae)=>{const qe=(ae||document).createTextNode(J);return $n(qe)},$n=J=>{if(J==null)throw new Error("Node cannot be null or undefined");return{dom:J}},ur={fromHtml:Xn,fromTag:fs,fromText:rs,fromDom:$n,fromPoint:(J,ae,ke)=>F.from(J.dom.elementFromPoint(ae,ke)).map($n)},Nr=8,fa=9,ta=11,dr=1,jo=3,Vs=(J,ae)=>{const ke=J.dom;if(ke.nodeType!==dr)return!1;{const qe=ke;if(qe.matches!==void 0)return qe.matches(ae);if(qe.msMatchesSelector!==void 0)return qe.msMatchesSelector(ae);if(qe.webkitMatchesSelector!==void 0)return qe.webkitMatchesSelector(ae);if(qe.mozMatchesSelector!==void 0)return qe.mozMatchesSelector(ae);throw new Error("Browser lacks native selectors")}},bc=J=>J.nodeType!==dr&&J.nodeType!==fa&&J.nodeType!==ta||J.childElementCount===0,Vc=(J,ae)=>{const ke=ae===void 0?document:ae.dom;return bc(ke)?[]:mt(ke.querySelectorAll(J),ur.fromDom)},td=(J,ae)=>{const ke=ae===void 0?document:ae.dom;return bc(ke)?F.none():F.from(ke.querySelector(J)).map(ur.fromDom)},zo=(J,ae)=>J.dom===ae.dom,tc=Vs,sl=J=>J.dom.nodeName.toLowerCase(),ep=J=>J.dom.nodeType,Wl=J=>ae=>ep(ae)===J,kd=J=>ep(J)===Nr||sl(J)==="#comment",Ur=Wl(dr),Ia=Wl(jo),Dd=Wl(fa),nd=Wl(ta),Qc=J=>ae=>Ur(ae)&&sl(ae)===J,dl=J=>ur.fromDom(J.dom.ownerDocument),od=J=>Dd(J)?J:dl(J),Md=J=>F.from(J.dom.parentNode).map(ur.fromDom),yo=(J,ae)=>{const ke=B(ae)?ae:Ce;let qe=J.dom;const bt=[];for(;qe.parentNode!==null&&qe.parentNode!==void 0;){const un=qe.parentNode,mo=ur.fromDom(un);if(bt.push(mo),ke(mo)===!0)break;qe=un}return bt},tp=J=>F.from(J.dom.previousSibling).map(ur.fromDom),uh=J=>F.from(J.dom.nextSibling).map(ur.fromDom),Vh=J=>mt(J.dom.childNodes,ur.fromDom),Jr=(J,ae)=>{const ke=J.dom.childNodes;return F.from(ke[ae]).map(ur.fromDom)},Fh=J=>Jr(J,0),Fc=J=>nd(J)&&P(J.dom.host),Ar=J=>ur.fromDom(J.dom.getRootNode()),xu=J=>{const ae=Ar(J);return Fc(ae)?F.some(ae):F.none()},dh=J=>ur.fromDom(J.dom.host),Rc=(J,ae)=>{Md(J).each(qe=>{qe.dom.insertBefore(ae.dom,J.dom)})},Vi=(J,ae)=>{uh(J).fold(()=>{Md(J).each(bt=>{rl(bt,ae)})},qe=>{Rc(qe,ae)})},yc=(J,ae)=>{Fh(J).fold(()=>{rl(J,ae)},qe=>{J.dom.insertBefore(ae.dom,qe.dom)})},rl=(J,ae)=>{J.dom.appendChild(ae.dom)},Lp=(J,ae)=>{Rc(J,ae),rl(ae,J)},km=(J,ae)=>{gt(ae,(ke,qe)=>{const bt=qe===0?J:ae[qe-1];Vi(bt,ke)})},kc=(J,ae)=>{gt(ae,ke=>{rl(J,ke)})},eu=(J,ae,ke)=>{if(p(ke)||S(ke)||U(ke))J.setAttribute(ae,ke+"");else throw console.error("Invalid call to Attribute.set. Key ",ae,":: Value ",ke,":: Element ",J),new Error("Attribute value was not simple")},Ou=(J,ae,ke)=>{eu(J.dom,ae,ke)},Hh=(J,ae)=>{const ke=J.dom;vn(ae,(qe,bt)=>{eu(ke,bt,qe)})},na=(J,ae)=>{const ke=J.dom.getAttribute(ae);return ke===null?void 0:ke},Ss=(J,ae)=>F.from(na(J,ae)),Wi=(J,ae)=>{J.dom.removeAttribute(ae)},kl=J=>kt(J.dom.attributes,(ae,ke)=>(ae[ke.name]=ke.value,ae),{}),Lr=J=>{const ae=J.dom;ae.parentNode!==null&&ae.parentNode.removeChild(ae)},hh=J=>{const ae=Vh(J);ae.length>0&&km(J,ae),Lr(J)},np=J=>mt(J,ur.fromDom),wi=J=>J.style!==void 0&&B(J.style.getPropertyValue),Sc=J=>{const ae=Ia(J)?J.dom.parentNode:J.dom;if(ae==null||ae.ownerDocument===null)return!1;const ke=ae.ownerDocument;return xu(ur.fromDom(ae)).fold(()=>ke.body.contains(ae),W(Sc,dh))},Hc=(J,ae,ke)=>{if(!p(ke))throw console.error("Invalid call to CSS.set. Property ",ae,":: Value ",ke,":: Element ",J),new Error("CSS value must be a string: "+ke);wi(J)&&J.style.setProperty(ae,ke)},pf=(J,ae)=>{wi(J)&&J.style.removeProperty(ae)},vo=(J,ae,ke)=>{const qe=J.dom;Hc(qe,ae,ke)},Iu=(J,ae)=>{const ke=J.dom,bt=window.getComputedStyle(ke).getPropertyValue(ae);return bt===""&&!Sc(J)?Dl(ke,ae):bt},Dl=(J,ae)=>wi(J)?J.style.getPropertyValue(ae):"",Cc=(J,ae)=>{const ke=J.dom,qe=Dl(ke,ae);return F.from(qe).filter(bt=>bt.length>0)},Bi=(J,ae)=>{const ke=J.dom;pf(ke,ae),$t(Ss(J,"style").map(tn),"")&&Wi(J,"style")},Dm=(J,ae)=>cn(J).getOr(ae),Gl=(J,ae,ke)=>Dm(Iu(J,ae),ke),tu=(J,ae,ke,qe)=>{const bt=Gl(J,`padding-${ke}`,0),un=Gl(J,`padding-${qe}`,0),mo=Gl(J,`border-${ke}-width`,0),Go=Gl(J,`border-${qe}-width`,0);return ae-bt-un-mo-Go},op=(J,ae)=>{const ke=J.dom,qe=ke.getBoundingClientRect().width||ke.offsetWidth;return tu(J,qe,"left","right")},sd=J=>op(J),Pd=((J,ae)=>{const ke=un=>{if(!J(un))throw new Error("Can only get "+ae+" value of a "+ae+" node");return qe(un).getOr("")},qe=un=>J(un)?F.from(un.dom.nodeValue):F.none();return{get:ke,getOption:qe,set:(un,mo)=>{if(!J(un))throw new Error("Can only set raw "+ae+" value of a "+ae+" node");un.dom.nodeValue=mo}}})(Ia,"text"),Nd=J=>Pd.get(J),Ec=(J,ae)=>Pd.set(J,ae);var co=(J,ae,ke,qe,bt)=>J(ke,qe)?F.some(ke):B(bt)&&bt(ke)?F.none():ae(ke,qe,bt);const Ru=(J,ae,ke)=>{let qe=J.dom;const bt=B(ke)?ke:Ce;for(;qe.parentNode;){qe=qe.parentNode;const un=ur.fromDom(qe);if(ae(un))return F.some(un);if(bt(un))break}return F.none()},$h=(J,ae,ke)=>co((bt,un)=>un(bt),Ru,J,ae,ke),Be=(J,ae)=>{const ke=bt=>ae(ur.fromDom(bt));return Cn(J.dom.childNodes,ke).map(ur.fromDom)},rt=(J,ae,ke)=>Ru(J,qe=>Vs(qe,ae),ke),Ot=(J,ae)=>Be(J,ke=>Vs(ke,ae)),mn=(J,ae)=>td(ae,J),io=(J,ae,ke)=>co((bt,un)=>Vs(bt,un),rt,J,ae,ke),Mo=J=>io(J,"[contenteditable]"),hr=(J,ae=!1)=>Sc(J)?J.dom.isContentEditable:Mo(J).fold(Z(ae),ke=>Fs(ke)==="true"),Fs=J=>J.dom.contentEditable,_r=(J,ae)=>ot(Vh(J),ae),we=(J,ae)=>{let ke=[];return gt(Vh(J),qe=>{ae(qe)&&(ke=ke.concat([qe])),ke=ke.concat(we(qe,ae))}),ke},$e=(J,ae)=>_r(J,ke=>Vs(ke,ae)),ut=(J,ae)=>Vc(ae,J),Zt=(J,ae)=>Ot(J,ae).isSome(),ko=J=>J.nodeName.toLowerCase(),Hs=J=>ur.fromDom(J.getBody()),L=J=>ae=>zo(ae,Hs(J)),X=J=>J?J.replace(/px$/,""):"",de=J=>/^\d+(\.\d+)?$/.test(J)?J+"px":J,ge=J=>ur.fromDom(J.selection.getStart()),xe=J=>ur.fromDom(J.selection.getEnd()),Pe=J=>$h(J,Qc("table")).forall(hr),je=["tfoot","thead","tbody","colgroup"],xt=J=>Ve(je,J),St=(J,ae)=>({rows:J,columns:ae}),Jt=(J,ae,ke)=>({element:J,rowspan:ae,colspan:ke}),Ln=(J,ae,ke,qe,bt,un)=>({element:J,rowspan:ae,colspan:ke,row:qe,column:bt,isLocked:un}),no=(J,ae,ke)=>({element:J,cells:ae,section:ke}),_n=(J,ae,ke,qe)=>({startRow:J,startCol:ae,finishRow:ke,finishCol:qe}),Ho=(J,ae,ke)=>({element:J,colspan:ae,column:ke}),Rr=(J,ae)=>({element:J,columns:ae}),xi=(J,ae,ke=0)=>Ss(J,ae).map(qe=>parseInt(qe,10)).getOr(ke),Gr=(J,ae)=>ql(J,ae,Ae),ql=(J,ae,ke)=>jn(Vh(J),qe=>Vs(qe,ae)?ke(qe)?[qe]:[]:ql(qe,ae,ke)),Sa=(J,ae,ke=Ce)=>{if(ke(ae))return F.none();if(Ve(J,sl(ae)))return F.some(ae);const qe=bt=>Vs(bt,"table")||ke(bt);return rt(ae,J.join(","),qe)},rd=(J,ae)=>Sa(["td","th"],J,ae),fh=J=>Gr(J,"th,td"),_i=J=>Vs(J,"colgroup")?$e(J,"col"):jn(hl(J),ae=>$e(ae,"col")),wc=(J,ae)=>io(J,"table",ae),Fi=J=>Gr(J,"tr"),hl=J=>wc(J).fold(Z([]),ae=>$e(ae,"colgroup")),Bp=Qc("th"),id=(J,ae)=>J&&ae?"sectionCells":J?"section":"cells",Uh=J=>{const ae=J.section==="thead",ke=$t(Og(J.cells),"th");return J.section==="tfoot"?{type:"footer"}:ae||ke?{type:"header",subType:id(ae,ke)}:{type:"body"}},Og=J=>{const ae=ot(J,ke=>Bp(ke.element));return ae.length===0?F.some("td"):ae.length===J.length?F.some("th"):F.none()},ad=J=>{const ae=mt(J,bt=>Uh(bt).type),ke=Ve(ae,"header"),qe=Ve(ae,"footer");if(!ke&&!qe)return F.some("body");{const bt=Ve(ae,"body");return ke&&!bt&&!qe?F.some("header"):!ke&&!bt&&qe?F.some("footer"):F.none()}},nu=(J,ae)=>mt(J,ke=>{if(sl(ke)==="colgroup"){const qe=mt(_i(ke),bt=>{const un=xi(bt,"span",1);return Jt(bt,1,un)});return no(ke,qe,"colgroup")}else{const qe=mt(fh(ke),bt=>{const un=xi(bt,"rowspan",1),mo=xi(bt,"colspan",1);return Jt(bt,un,mo)});return no(ke,qe,ae(ke))}}),rp=J=>Md(J).map(ae=>{const ke=sl(ae);return xt(ke)?ke:"tbody"}).getOr("tbody"),ld=J=>{const ae=Fi(J),qe=[...hl(J),...ae];return nu(qe,rp)},Ig="data-snooker-locked-cols",_c=J=>Ss(J,Ig).bind(ae=>F.from(ae.match(/\d+/g))).map(ae=>qt(ae,Ae)),Ml=(J,ae)=>J+","+ae,gf=(J,ae,ke)=>F.from(J.access[Ml(ae,ke)]),Fb=(J,ae,ke)=>{const qe=Tr(J,bt=>ke(ae,bt.element));return qe.length>0?F.some(qe[0]):F.none()},Tr=(J,ae)=>{const ke=jn(J.all,qe=>qe.cells);return ot(ke,ae)},Zi=J=>{const ae={};let ke=0;return gt(J.cells,qe=>{const bt=qe.colspan;vt(bt,un=>{const mo=ke+un;ae[mo]=Ho(qe.element,bt,mo)}),ke+=bt}),ae},Vp=J=>{const ae={},ke=[],bt=_e(J).map(Vu=>Vu.element).bind(wc).bind(_c).getOr({});let un=0,mo=0,Go=0;const{pass:Zs,fail:ws}=hn(J,Vu=>Vu.section==="colgroup");gt(ws,Vu=>{const Up=[];gt(Vu.cells,zp=>{let lu=0;for(;ae[Ml(Go,lu)]!==void 0;)lu++;const u1=ln(bt,lu.toString()),Hm=Ln(zp.element,zp.rowspan,zp.colspan,Go,lu,u1);for(let Kb=0;Kb<zp.colspan;Kb++)for(let $m=0;$m<zp.rowspan;$m++){const Mg=Go+$m,oy=lu+Kb,Bl=Ml(Mg,oy);ae[Bl]=Hm,mo=Math.max(mo,oy+1)}Up.push(Hm)}),un++,ke.push(no(Vu.element,Up,Vu.section)),Go++});const{columns:$i,colgroups:ga}=vr(Zs).map(Vu=>{const Up=Zi(Vu);return{colgroups:[Rr(Vu.element,Mt(Up))],columns:Up}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:St(un,mo),access:ae,all:ke,columns:$i,colgroups:ga}},Gi={fromTable:J=>{const ae=ld(J);return Vp(ae)},generate:Vp,getAt:gf,findItem:Fb,filterItems:Tr,justCells:J=>jn(J.all,ae=>ae.cells),justColumns:J=>Mt(J.columns),hasColumns:J=>Ut(J.columns).length>0,getColumnAt:(J,ae)=>F.from(J.columns[ae])},ou=(J,ae)=>vs(J.all,ke=>Cn(ke.cells,qe=>zo(ae,qe.element))),Ld=(J,ae,ke)=>{const qe=mt(ae.selection,un=>rd(un).bind(mo=>ou(J,mo)).filter(ke)),bt=ls(qe);return Ao(bt.length>0,bt)},Zn=(J,ae)=>ae.mergable,Zl=(J,ae)=>ae.unmergable,zh=(J,ae)=>Ld(J,ae,Ae),su=(J,ae)=>ou(J,ae).exists(ke=>!ke.isLocked),ap=(J,ae)=>wo(ae,ke=>su(J,ke)),Hb=(J,ae)=>Zn(J,ae).filter(ke=>ap(J,ke.cells)),et=(J,ae)=>Zl(J,ae).filter(ke=>ap(J,ke));var Dc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],jh=()=>{const J=ws=>ur.fromDom(ws.dom.cloneNode(!1)),ae=ws=>od(ws).dom,ke=ws=>Ur(ws)?sl(ws)==="body"?!0:Ve(Dc,sl(ws)):!1,qe=ws=>Ur(ws)?Ve(["br","img","hr","input"],sl(ws)):!1,bt=ws=>Ur(ws)&&na(ws,"contenteditable")==="false",un=(ws,$i)=>ws.dom.compareDocumentPosition($i.dom),mo=(ws,$i)=>{const ga=kl(ws);Hh($i,ga)},Go=ws=>{const $i=sl(ws);return Ve(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],$i)},Zs=ws=>Ur(ws)?Ss(ws,"lang"):F.none();return{up:Z({selector:rt,closest:io,predicate:Ru,all:yo}),down:Z({selector:ut,predicate:we}),styles:Z({get:Iu,getRaw:Cc,set:vo,remove:Bi}),attrs:Z({get:na,set:Ou,remove:Wi,copyTo:mo}),insert:Z({before:Rc,after:Vi,afterAll:km,append:rl,appendAll:kc,prepend:yc,wrap:Lp}),remove:Z({unwrap:hh,remove:Lr}),create:Z({nu:ur.fromTag,clone:J,text:ur.fromText}),query:Z({comparePosition:un,prevSibling:tp,nextSibling:uh}),property:Z({children:Vh,name:sl,parent:Md,document:ae,isText:Ia,isComment:kd,isElement:Ur,isSpecial:Go,getLanguage:Zs,getText:Nd,setText:Ec,isBoundary:ke,isEmptyTag:qe,isNonEditable:bt}),eq:zo,is:tc}};const $b=(J,ae,ke,qe)=>{const bt=ke[0],un=ke.slice(1);return qe(J,ae,bt,un)},ru=(J,ae,ke)=>ke.length>0?$b(J,ae,ke,nc):F.none(),nc=(J,ae,ke,qe)=>{const bt=ae(J,ke);return Rt(qe,(un,mo)=>{const Go=ae(J,mo);return dt(J,un,Go)},bt)},dt=(J,ae,ke)=>ae.bind(qe=>ke.filter(ie(J.eq,qe))),Ht=ru,An=jh(),Dn=(J,ae)=>Ht(An,(ke,qe)=>J(qe),ae),ns=(J,ae)=>{const ke=Gi.fromTable(J);return zh(ke,ae).bind(bt=>{const un=bt[bt.length-1],mo=bt[0].row,Go=un.row+un.rowspan,Zs=ke.all.slice(mo,Go);return ad(Zs)}).getOr("")},ps=(J,ae)=>ae.column>=J.startCol&&ae.column+ae.colspan-1<=J.finishCol&&ae.row>=J.startRow&&ae.row+ae.rowspan-1<=J.finishRow,Ys=(J,ae)=>{let ke=!0;const qe=ie(ps,ae);for(let bt=ae.startRow;bt<=ae.finishRow;bt++)for(let un=ae.startCol;un<=ae.finishCol;un++)ke=ke&&Gi.getAt(J,bt,un).exists(qe);return ke?F.some(ae):F.none()},Cs=(J,ae)=>_n(Math.min(J.row,ae.row),Math.min(J.column,ae.column),Math.max(J.row+J.rowspan-1,ae.row+ae.rowspan-1),Math.max(J.column+J.colspan-1,ae.column+ae.colspan-1)),fr=(J,ae,ke)=>{const qe=Gi.findItem(J,ae,zo),bt=Gi.findItem(J,ke,zo);return qe.bind(un=>bt.map(mo=>Cs(un,mo)))},xr=(J,ae,ke)=>fr(J,ae,ke).bind(qe=>Ys(J,qe)),pr=(J,ae,ke)=>{const qe=zr(J);return xr(qe,ae,ke)},zr=Gi.fromTable;var Do=tinymce.util.Tools.resolve("tinymce.util.Tools");const ei=(J,ae,ke)=>{const qe=J.select("td,th",ae);let bt;for(let un=0;un<qe.length;un++){const mo=J.getStyle(qe[un],ke);if(T(bt)&&(bt=mo),bt!==mo)return""}return bt},Sl=(J,ae,ke)=>{Do.each("left center right".split(" "),qe=>{qe!==ke&&J.formatter.remove("align"+qe,{},ae)}),ke&&J.formatter.apply("align"+ke,{},ae)},oc=(J,ae,ke)=>{Do.each("top middle bottom".split(" "),qe=>{qe!==ke&&J.formatter.remove("valign"+qe,{},ae)}),ke&&J.formatter.apply("valign"+ke,{},ae)},Ms=(J,ae,ke)=>{J.dispatch("TableModified",{...ke,table:ae})};var Pl=tinymce.util.Tools.resolve("tinymce.Env");const oa="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",ja=vt(5,J=>{const ae=`${J+1}px`;return{title:ae,value:ae}}),Wh=mt(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],J=>({title:J,value:J.toLowerCase()})),sa="100%",ti=J=>{var ae;const ke=J.dom,qe=(ae=ke.getParent(J.selection.getStart(),ke.isBlock))!==null&&ae!==void 0?ae:J.getBody();return sd(ur.fromDom(qe))+"px"},K0=(J,ae)=>fl(J)||!Mu(J)?ae:yf(J)?{...ae,width:ti(J)}:{...ae,width:sa},IE=(J,ae)=>fl(J)||Mu(J)?ae:yf(J)?{...ae,width:ti(J)}:{...ae,width:sa},Cl=J=>ae=>ae.options.get(J),sc=J=>{const ae=J.options.register;ae("table_border_widths",{processor:"object[]",default:ja}),ae("table_border_styles",{processor:"object[]",default:Wh}),ae("table_cell_advtab",{processor:"boolean",default:!0}),ae("table_row_advtab",{processor:"boolean",default:!0}),ae("table_advtab",{processor:"boolean",default:!0}),ae("table_appearance_options",{processor:"boolean",default:!0}),ae("table_grid",{processor:"boolean",default:!Pl.deviceType.isTouch()}),ae("table_cell_class_list",{processor:"object[]",default:[]}),ae("table_row_class_list",{processor:"object[]",default:[]}),ae("table_class_list",{processor:"object[]",default:[]}),ae("table_toolbar",{processor:"string",default:oa}),ae("table_background_color_map",{processor:"object[]",default:[]}),ae("table_border_color_map",{processor:"object[]",default:[]})},iu=Cl("table_sizing_mode"),Nl=Cl("table_border_widths"),Gh=Cl("table_border_styles"),ku=Cl("table_cell_advtab"),Du=Cl("table_row_advtab"),$c=Cl("table_advtab"),li=Cl("table_appearance_options"),Bd=Cl("table_grid"),Mu=Cl("table_style_by_css"),Kl=Cl("table_cell_class_list"),ra=Cl("table_row_class_list"),mr=Cl("table_class_list"),qh=Cl("table_toolbar"),Yl=Cl("table_background_color_map"),Wa=Cl("table_border_color_map"),yf=J=>iu(J)==="fixed",fl=J=>iu(J)==="responsive",Ub=J=>{const ae=J.options,ke=ae.get("table_default_styles");return ae.isSet("table_default_styles")?ke:K0(J,ke)},rc=J=>{const ae=J.options,ke=ae.get("table_default_attributes");return ae.isSet("table_default_attributes")?ke:IE(J,ke)},Y0=J=>rt(J,"table"),br=(J,ae)=>{const ke=ut(J,ae);return ke.length>0?F.some(ke):F.none()},Mm=(J,ae,ke)=>mn(J,ae).bind(qe=>mn(J,ke).bind(bt=>Dn(Y0,[qe,bt]).map(un=>({first:qe,last:bt,table:un})))),cs=(J,ae)=>br(J,ae),n1=(J,ae,ke)=>Mm(J,ae,ke).bind(qe=>{const bt=Zs=>zo(J,Zs),un="thead,tfoot,tbody,table",mo=rt(qe.first,un,bt),Go=rt(qe.last,un,bt);return mo.bind(Zs=>Go.bind(ws=>zo(Zs,ws)?pr(qe.table,qe.first,qe.last):F.none()))}),pl=re,rr=J=>{const ae=(qe,bt)=>Ss(qe,bt).exists(un=>parseInt(un,10)>1),ke=qe=>ae(qe,"rowspan")||ae(qe,"colspan");return J.length>0&&wo(J,ke)?F.some(J):F.none()},Ll=(J,ae,ke)=>ae.length<=1?F.none():n1(J,ke.firstSelectedSelector,ke.lastSelectedSelector).map(qe=>({bounds:qe,cells:ae})),ia="data-mce-selected",Pm="data-mce-first-selected",X0="td["+Pm+"],th["+Pm+"]",Vd="data-mce-last-selected",Pu="td["+Vd+"],th["+Vd+"]",o1={selected:ia,firstSelectedSelector:X0,lastSelectedSelector:Pu},s1=J=>wc(J).bind(ae=>cs(ae,o1.firstSelectedSelector)).fold(Z(J),ae=>ae[0]),zb=J=>(ae,ke)=>{const qe=sl(ae),bt=qe==="col"||qe==="colgroup"?s1(ae):ae;return io(bt,J,ke)},ph=zb("th,td,caption"),Zh=zb("th,td"),J0=J=>np(J.model.table.getSelectedCells()),Mc=(J,ae)=>{const ke=Zh(J),qe=ke.bind(bt=>wc(bt)).map(bt=>Fi(bt));return ks(ke,qe,(bt,un)=>ot(un,mo=>Re(np(mo.dom.cells),Go=>na(Go,ae)==="1"||zo(Go,bt)))).getOr([])},mh=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],lp=J=>({value:jb(J)}),qr=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Fd=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,r1=J=>qr.test(J)||Fd.test(J),jb=J=>At(J,"#").toUpperCase(),gh=J=>r1(J)?F.some({value:jb(J)}):F.none(),xs=J=>{const ae=J.toString(16);return(ae.length===1?"0"+ae:ae).toUpperCase()},pa=J=>{const ae=xs(J.red)+xs(J.green)+xs(J.blue);return lp(ae)},Va=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,aa=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,vh=(J,ae,ke,qe)=>({red:J,green:ae,blue:ke,alpha:qe}),ma=(J,ae,ke,qe)=>{const bt=parseInt(J,10),un=parseInt(ae,10),mo=parseInt(ke,10),Go=parseFloat(qe);return vh(bt,un,mo,Go)},ml=J=>{const ae=Va.exec(J);if(ae!==null)return F.some(ma(ae[1],ae[2],ae[3],"1"));const ke=aa.exec(J);return ke!==null?F.some(ma(ke[1],ke[2],ke[3],ke[4])):F.none()},Pv=J=>gh(J).orThunk(()=>ml(J).map(pa)).getOrThunk(()=>{const ae=document.createElement("canvas");ae.height=1,ae.width=1;const ke=ae.getContext("2d");ke.clearRect(0,0,ae.width,ae.height),ke.fillStyle="#FFFFFF",ke.fillStyle=J,ke.fillRect(0,0,1,1);const qe=ke.getImageData(0,0,1,1).data,bt=qe[0],un=qe[1],mo=qe[2],Go=qe[3];return pa(vh(bt,un,mo,Go))}),Er=J=>ml(J).map(pa).map(ae=>"#"+ae.value).getOr(J),cd=(J,ae,ke)=>qe=>{const bt=Ks(),un=go(ke),mo=()=>{const Go=J0(J),Zs=ws=>J.formatter.match(ae,{value:ke},ws.dom,un);un?(qe.setActive(!Re(Go,Zs)),bt.set(J.formatter.formatChanged(ae,ws=>qe.setActive(!ws),!0))):(qe.setActive(wo(Go,Zs)),bt.set(J.formatter.formatChanged(ae,qe.setActive,!1,{value:ke})))};return J.initialized?mo():J.on("init",mo),bt.clear},Hi=J=>ln(J,"menu"),Nu=J=>mt(J,ae=>{const ke=ae.text||ae.title||"";return Hi(ae)?{text:ke,items:Nu(ae.menu)}:{text:ke,value:ae.value}}),El=J=>J.length?F.some(Nu([{text:"Select...",value:"mce-no-match"},...J])):F.none(),wl=(J,ae,ke,qe)=>mt(ae,bt=>{const un=bt.text||bt.title;return Hi(bt)?{type:"nestedmenuitem",text:un,getSubmenuItems:()=>wl(J,bt.menu,ke,qe)}:{text:un,type:"togglemenuitem",onAction:()=>qe(bt.value),onSetup:cd(J,ke,bt.value)}}),Sf=(J,ae)=>ke=>{J.execCommand("mceTableApplyCellStyle",!1,{[ae]:ke})},Nv=J=>jn(J,ae=>Hi(ae)?[{...ae,menu:Nv(ae.menu)}]:to(ae.value)?[ae]:[]),Fp=(J,ae,ke,qe)=>bt=>bt(wl(J,ae,ke,qe)),Nm=(J,ae,ke)=>{const qe=mt(ae,bt=>({text:bt.title,value:"#"+Pv(bt.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:qe.length>0?qe:void 0,allowCustomColors:!1},onAction:bt=>{const un=bt.value==="remove"?"":bt.value;J.execCommand("mceTableApplyCellStyle",!1,{[ke]:un})}}]},bh=J=>()=>{const ke=J.queryCommandValue("mceTableRowType")==="header"?"body":"header";J.execCommand("mceTableRowType",!1,{type:ke})},Ac=J=>()=>{const ke=J.queryCommandValue("mceTableColType")==="th"?"td":"th";J.execCommand("mceTableColType",!1,{type:ke})},Hp=J=>El(Kl(J)).map(ae=>({name:"class",type:"listbox",label:"Class",items:ae})),RE=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:mh}],cp=J=>RE.concat(Hp(J).toArray()),ci=(J,ae)=>{const qe=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Nu(Gh(J)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:ae==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(qe):qe}},Lv={normal:(J,ae)=>{const ke=J.dom;return{setAttrib:(mo,Go)=>{ke.setAttrib(ae,mo,Go)},setStyle:(mo,Go)=>{ke.setStyle(ae,mo,Go)},setFormat:(mo,Go)=>{Go===""?J.formatter.remove(mo,{value:null},ae,!0):J.formatter.apply(mo,{value:Go},ae)}}}},Uc=J=>Vt(J,"rgb")?Er(J):J,au=J=>{const ae=ur.fromDom(J);return{borderwidth:Cc(ae,"border-width").getOr(""),borderstyle:Cc(ae,"border-style").getOr(""),bordercolor:Cc(ae,"border-color").map(Uc).getOr(""),backgroundcolor:Cc(ae,"background-color").map(Uc).getOr("")}},Ga=J=>{const ae=J[0],ke=J.slice(1);return gt(ke,qe=>{gt(Ut(ae),bt=>{vn(qe,(un,mo)=>{const Go=ae[bt];Go!==""&&bt===mo&&Go!==un&&(ae[bt]=bt==="class"?"mce-no-match":"")})})}),ae},Hd=(J,ae,ke,qe)=>Cn(J,bt=>!T(ke.formatter.matchNode(qe,ae+bt))).getOr(""),gl=ie(Hd,["left","center","right"],"align"),Lm=ie(Hd,["top","middle","bottom"],"valign"),Q0=(J,ae)=>{const ke=Ub(J),qe=rc(J),bt=()=>({borderstyle:Ge(ke,"border-style").getOr(""),bordercolor:Uc(Ge(ke,"border-color").getOr("")),backgroundcolor:Uc(Ge(ke,"background-color").getOr(""))}),un={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},mo=()=>{const $i=ke["border-width"];return Mu(J)&&$i?{border:$i}:Ge(qe,"border").fold(()=>({}),ga=>({border:ga}))},Go=ae?bt():{},Zs=()=>{const $i=Ge(ke,"border-spacing").or(Ge(qe,"cellspacing")).fold(()=>({}),Za=>({cellspacing:Za})),ga=Ge(ke,"border-padding").or(Ge(qe,"cellpadding")).fold(()=>({}),Za=>({cellpadding:Za}));return{...$i,...ga}};return{...un,...ke,...qe,...Go,...mo(),...Zs()}},Wb=J=>wc(ur.fromDom(J)).map(ae=>{const ke={selection:np(J.cells)};return ns(ae,ke)}).getOr(""),kE=(J,ae,ke)=>{const qe=(Go,Zs)=>{const ws=Cc(ur.fromDom(Zs),"border-width");return Mu(J)&&ws.isSome()?ws.getOr(""):Go.getAttrib(Zs,"border")||ei(J.dom,Zs,"border-width")||ei(J.dom,Zs,"border")||""},bt=J.dom,un=Mu(J)?bt.getStyle(ae,"border-spacing")||bt.getAttrib(ae,"cellspacing"):bt.getAttrib(ae,"cellspacing")||bt.getStyle(ae,"border-spacing"),mo=Mu(J)?ei(bt,ae,"padding")||bt.getAttrib(ae,"cellpadding"):bt.getAttrib(ae,"cellpadding")||ei(bt,ae,"padding");return{width:bt.getStyle(ae,"width")||bt.getAttrib(ae,"width"),height:bt.getStyle(ae,"height")||bt.getAttrib(ae,"height"),cellspacing:un??"",cellpadding:mo??"",border:qe(bt,ae),caption:!!bt.select("caption",ae)[0],class:bt.getAttrib(ae,"class",""),align:gl(J,ae),...ke?au(ae):{}}},Cf=(J,ae,ke)=>{const qe=J.dom;return{height:qe.getStyle(ae,"height")||qe.getAttrib(ae,"height"),class:qe.getAttrib(ae,"class",""),type:Wb(ae),align:gl(J,ae),...ke?au(ae):{}}},DE=(J,ae,ke,qe)=>{const bt=J.dom,un=qe.getOr(ae);return{width:((Go,Zs)=>bt.getStyle(Go,Zs)||bt.getAttrib(Go,Zs))(un,"width"),scope:bt.getAttrib(ae,"scope"),celltype:ko(ae),class:bt.getAttrib(ae,"class",""),halign:gl(J,ae),valign:Lm(J,ae),...ke?au(ae):{}}},a1=(J,ae)=>{const ke=Gi.fromTable(J),qe=Gi.justCells(ke),bt=ot(qe,un=>Re(ae,mo=>zo(un.element,mo)));return mt(bt,un=>({element:un.element.dom,column:Gi.getColumnAt(ke,un.column).map(mo=>mo.element.dom)}))},Ef=(J,ae,ke,qe)=>{qe("scope")&&J.setAttrib("scope",ke.scope),qe("class")&&ke.class!=="mce-no-match"&&J.setAttrib("class",ke.class),qe("width")&&ae.setStyle("width",de(ke.width))},BS=(J,ae,ke)=>{ke("backgroundcolor")&&J.setFormat("tablecellbackgroundcolor",ae.backgroundcolor),ke("bordercolor")&&J.setFormat("tablecellbordercolor",ae.bordercolor),ke("borderstyle")&&J.setFormat("tablecellborderstyle",ae.borderstyle),ke("borderwidth")&&J.setFormat("tablecellborderwidth",de(ae.borderwidth))},Bv=(J,ae,ke,qe)=>{const bt=ae.length===1;gt(ae,un=>{const mo=un.element,Go=bt?Ae:qe,Zs=Lv.normal(J,mo),ws=un.column.map($i=>Lv.normal(J,$i)).getOr(Zs);Ef(Zs,ws,ke,Go),ku(J)&&BS(Zs,ke,Go),qe("halign")&&Sl(J,mo,ke.halign),qe("valign")&&oc(J,mo,ke.valign)})},Bm=(J,ae)=>{J.execCommand("mceTableCellType",!1,{type:ae.celltype,no_events:!0})},Rg=(J,ae,ke,qe)=>{const bt=fn(qe,(un,mo)=>ke[mo]!==un);Yt(bt)>0&&ae.length>=1&&wc(ae[0]).each(un=>{const mo=a1(un,ae),Go=Yt(fn(bt,(ws,$i)=>$i!=="scope"&&$i!=="celltype"))>0,Zs=Lt(bt,"celltype");(Go||Lt(bt,"scope"))&&Bv(J,mo,qe,ie(Lt,bt)),Zs&&Bm(J,qe),Ms(J,un.dom,{structure:Zs,style:Go})})},l1=(J,ae,ke,qe)=>{const bt=qe.getData();qe.close(),J.undoManager.transact(()=>{Rg(J,ae,ke,bt),J.focus()})},VS=(J,ae)=>{const ke=wc(ae[0]).map(qe=>mt(a1(qe,ae),bt=>DE(J,bt.element,ku(J),bt.column)));return Ga(ke.getOrDie())},Kh=J=>{const ae=J0(J);if(ae.length===0)return;const ke=VS(J,ae),qe={type:"tabpanel",tabs:[{title:"General",name:"general",items:cp(J)},ci(J,"cell")]},bt={type:"panel",items:[{type:"grid",columns:2,items:cp(J)}]};J.windowManager.open({title:"Cell Properties",size:"normal",body:ku(J)?qe:bt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ke,onSubmit:ie(l1,J,ae,ke)})},Vm=J=>El(ra(J)).map(ae=>({name:"class",type:"listbox",label:"Class",items:ae})),wf=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],ui=J=>wf.concat(Vm(J).toArray()),vl=(J,ae,ke)=>{ke("class")&&ae.class!=="mce-no-match"&&J.setAttrib("class",ae.class),ke("height")&&J.setStyle("height",de(ae.height))},up=(J,ae,ke)=>{ke("backgroundcolor")&&J.setStyle("background-color",ae.backgroundcolor),ke("bordercolor")&&J.setStyle("border-color",ae.bordercolor),ke("borderstyle")&&J.setStyle("border-style",ae.borderstyle)},ey=(J,ae,ke,qe)=>{const un=ae.length===1?Ae:qe;gt(ae,mo=>{const Go=$e(ur.fromDom(mo),"td,th"),Zs=Lv.normal(J,mo);vl(Zs,ke,un),Du(J)&&up(Zs,ke,un),qe("height")&&gt(Go,ws=>{J.dom.setStyle(ws.dom,"height",null)}),qe("align")&&Sl(J,mo,ke.align)})},Fm=(J,ae)=>{J.execCommand("mceTableRowType",!1,{type:ae.type,no_events:!0})},kg=(J,ae,ke,qe)=>{const bt=fn(qe,(un,mo)=>ke[mo]!==un);if(Yt(bt)>0){const un=Lt(bt,"type"),mo=un?Yt(bt)>1:!0;mo&&ey(J,ae,qe,ie(Lt,bt)),un&&Fm(J,qe),wc(ur.fromDom(ae[0])).each(Go=>Ms(J,Go.dom,{structure:un,style:mo}))}},$p=(J,ae,ke,qe)=>{const bt=qe.getData();qe.close(),J.undoManager.transact(()=>{kg(J,ae,ke,bt),J.focus()})},dp=J=>{const ae=Mc(ge(J),o1.selected);if(ae.length===0)return;const ke=mt(ae,mo=>Cf(J,mo.dom,Du(J))),qe=Ga(ke),bt={type:"tabpanel",tabs:[{title:"General",name:"general",items:ui(J)},ci(J,"row")]},un={type:"panel",items:[{type:"grid",columns:2,items:ui(J)}]};J.windowManager.open({title:"Row Properties",size:"normal",body:Du(J)?bt:un,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:qe,onSubmit:ie($p,J,mt(ae,mo=>mo.dom),qe)})},Yh=(J,ae,ke)=>{const qe=ke?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],bt=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],un=li(J)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],mo=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],Go=ae.length>0?[{name:"class",type:"listbox",label:"Class",items:ae}]:[];return qe.concat(bt).concat(un).concat(mo).concat(Go)},Ii=(J,ae,ke,qe)=>{if(ae.tagName==="TD"||ae.tagName==="TH")p(ke)&&P(qe)?J.setStyle(ae,ke,qe):J.setStyles(ae,ke);else if(ae.children)for(let bt=0;bt<ae.children.length;bt++)Ii(J,ae.children[bt],ke,qe)},FS=(J,ae,ke,qe)=>{const bt=J.dom,un={},mo={},Go=Mu(J),Zs=$c(J),ws=parseFloat(ke.border)===0;if(!T(ke.class)&&ke.class!=="mce-no-match"&&(un.class=ke.class),mo.height=de(ke.height),Go?mo.width=de(ke.width):bt.getAttrib(ae,"width")&&(un.width=X(ke.width)),Go?(ws?(un.border=0,mo["border-width"]=""):(mo["border-width"]=de(ke.border),un.border=1),mo["border-spacing"]=de(ke.cellspacing)):(un.border=ws?0:ke.border,un.cellpadding=ke.cellpadding,un.cellspacing=ke.cellspacing),Go&&ae.children){const $i={};if(ws?$i["border-width"]="":qe.border&&($i["border-width"]=de(ke.border)),qe.cellpadding&&($i.padding=de(ke.cellpadding)),Zs&&qe.bordercolor&&($i["border-color"]=ke.bordercolor),!On($i))for(let ga=0;ga<ae.children.length;ga++)Ii(bt,ae.children[ga],$i)}if(Zs){const $i=ke;mo["background-color"]=$i.backgroundcolor,mo["border-color"]=$i.bordercolor,mo["border-style"]=$i.borderstyle}bt.setStyles(ae,{...Ub(J),...mo}),bt.setAttribs(ae,{...rc(J),...un})},vi=(J,ae,ke,qe)=>{const bt=J.dom,un=qe.getData(),mo=fn(un,(Go,Zs)=>ke[Zs]!==Go);qe.close(),J.undoManager.transact(()=>{if(!ae){const Go=To(un.cols).getOr(1),Zs=To(un.rows).getOr(1);J.execCommand("mceInsertTable",!1,{rows:Zs,columns:Go}),ae=Zh(ge(J),L(J)).bind(ws=>wc(ws,L(J))).map(ws=>ws.dom).getOrDie()}if(Yt(mo)>0){const Go={border:Lt(mo,"border"),bordercolor:Lt(mo,"bordercolor"),cellpadding:Lt(mo,"cellpadding")};FS(J,ae,un,Go);const Zs=bt.select("caption",ae)[0];(Zs&&!un.caption||!Zs&&un.caption)&&J.execCommand("mceTableToggleCaption"),Sl(J,ae,un.align)}if(J.focus(),J.addVisual(),Yt(mo)>0){const Go=Lt(mo,"caption"),Zs=Go?Yt(mo)>1:!0;Ms(J,ae,{structure:Go,style:Zs})}})},Vv=(J,ae)=>{const ke=J.dom;let qe,bt=Q0(J,$c(J));ae?(bt.cols="1",bt.rows="1",$c(J)&&(bt.borderstyle="",bt.bordercolor="",bt.backgroundcolor="")):(qe=ke.getParent(J.selection.getStart(),"table",J.getBody()),qe?bt=kE(J,qe,$c(J)):$c(J)&&(bt.borderstyle="",bt.bordercolor="",bt.backgroundcolor=""));const un=El(mr(J));un.isSome()&&bt.class&&(bt.class=bt.class.replace(/\s*mce\-item\-table\s*/g,""));const mo={type:"grid",columns:2,items:Yh(J,un.getOr([]),ae)},Go=()=>({type:"panel",items:[mo]}),Zs=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[mo]},ci(J,"table")]}),ws=$c(J)?Zs():Go();J.windowManager.open({title:"Table Properties",size:"normal",body:ws,onSubmit:ie(vi,J,qe,bt),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:bt})},qa=J=>{const ae=ke=>{Pe(ge(J))&&ke()};vn({mceTableProps:ie(Vv,J,!1),mceTableRowProps:ie(dp,J),mceTableCellProps:ie(Kh,J),mceInsertTableDialog:ie(Vv,J,!0)},(ke,qe)=>J.addCommand(qe,()=>ae(ke)))},Xh=J=>({element:J,mergable:F.none(),unmergable:F.none(),selection:[J]}),Pc=(J,ae,ke)=>({element:ke,mergable:Ll(ae,J,o1),unmergable:rr(J),selection:pl(J)}),Lu=J=>{const ae=Bt(F.none()),ke=Bt([]);let qe=F.none();const bt=Qc("caption"),un=Br=>qe.forall(ki=>!ki[Br]),mo=()=>ph(ge(J),L(J)),Go=()=>ph(xe(J),L(J)),Zs=()=>mo().bind(Br=>Rs(ks(wc(Br),Go().bind(wc),(ki,Ka)=>zo(ki,Ka)?bt(Br)?F.some(Xh(Br)):F.some(Pc(J0(J),ki,Br)):F.none()))),ws=Br=>wc(Br.element).map(Ka=>{const ud=Gi.fromTable(Ka),Ya=zh(ud,Br).getOr([]),Yb=kt(Ya,(Xb,Jb)=>(Jb.isLocked&&(Xb.onAny=!0,Jb.column===0?Xb.onFirst=!0:Jb.column+Jb.colspan>=ud.grid.columns&&(Xb.onLast=!0)),Xb),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Hb(ud,Br).isSome(),unmergeable:et(ud,Br).isSome(),locked:Yb}}),$i=()=>{ae.set(ro(Zs)()),qe=ae.get().bind(ws),gt(ke.get(),be)},ga=Br=>(Br(),ke.set(ke.get().concat([Br])),()=>{ke.set(ot(ke.get(),ki=>ki!==Br))}),Za=(Br,ki)=>ga(()=>ae.get().fold(()=>{Br.setEnabled(!1)},Ka=>{Br.setEnabled(!ki(Ka)&&J.selection.isEditable())})),Vu=(Br,ki,Ka)=>ga(()=>ae.get().fold(()=>{Br.setEnabled(!1),Br.setActive(!1)},ud=>{Br.setEnabled(!ki(ud)&&J.selection.isEditable()),Br.setActive(Ka(ud))})),Up=Br=>qe.exists(ki=>ki.locked[Br]),zp=Br=>Za(Br,ki=>!1),lu=Br=>Za(Br,ki=>bt(ki.element)),u1=Br=>ki=>Za(ki,Ka=>bt(Ka.element)||Up(Br)),Hm=Br=>ki=>Za(ki,Ka=>bt(Ka.element)||Br().isNone()),Kb=(Br,ki)=>Ka=>Za(Ka,ud=>bt(ud.element)||Br().isNone()||Up(ki)),$m=Br=>Za(Br,ki=>un("mergeable")),Mg=Br=>Za(Br,ki=>un("unmergeable")),oy=Br=>Vu(Br,Ce,ki=>wc(ki.element,L(J)).exists(ud=>Zt(ud,"caption"))),Bl=(Br,ki)=>Ka=>Vu(Ka,ud=>bt(ud.element),()=>J.queryCommandValue(Br)===ki),PE=Bl("mceTableRowType","header"),NE=Bl("mceTableColType","th");return J.on("NodeChange ExecCommand TableSelectorChange",$i),{onSetupTable:zp,onSetupCellOrRow:lu,onSetupColumn:u1,onSetupPasteable:Hm,onSetupPasteableColumn:Kb,onSetupMergeable:$m,onSetupUnmergeable:Mg,resetTargets:$i,onSetupTableWithCaption:oy,onSetupTableRowHeaders:PE,onSetupTableColumnHeaders:NE,targets:ae.get}};var Dg=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Fv="x-tinymce/dom-table-",c1=Fv+"rows",ME=Fv+"columns",_l=J=>{var ae;const ke=(ae=Dg.read())!==null&&ae!==void 0?ae:[];return vs(ke,qe=>F.from(qe.getType(J)))},_f=()=>_l(c1),il=()=>_l(ME),Ri=J=>ae=>{const ke=()=>{ae.setEnabled(J.selection.isEditable())};return J.on("NodeChange",ke),ke(),()=>{J.off("NodeChange",ke)}},Gb=(J,ae)=>{J.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:Ri(J),fetch:Go=>Go("inserttable | cell row column | advtablesort | tableprops deletetable")});const ke=Go=>()=>J.execCommand(Go),qe=(Go,Zs)=>{J.queryCommandSupported(Zs.command)&&J.ui.registry.addButton(Go,{...Zs,onAction:B(Zs.onAction)?Zs.onAction:ke(Zs.command)})},bt=(Go,Zs)=>{J.queryCommandSupported(Zs.command)&&J.ui.registry.addToggleButton(Go,{...Zs,onAction:B(Zs.onAction)?Zs.onAction:ke(Zs.command)})};qe("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:ae.onSetupTable}),qe("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:ae.onSetupTable}),qe("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:ae.onSetupCellOrRow}),qe("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:ae.onSetupMergeable}),qe("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:ae.onSetupUnmergeable}),qe("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:ae.onSetupCellOrRow}),qe("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:ae.onSetupCellOrRow}),qe("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:ae.onSetupCellOrRow}),qe("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:ae.onSetupCellOrRow}),qe("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:ae.onSetupColumn("onFirst")}),qe("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:ae.onSetupColumn("onLast")}),qe("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:ae.onSetupColumn("onAny")}),qe("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:ae.onSetupCellOrRow}),qe("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:ae.onSetupCellOrRow}),qe("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:ae.onSetupPasteable(_f)}),qe("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:ae.onSetupPasteable(_f)}),qe("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:ae.onSetupColumn("onAny")}),qe("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:ae.onSetupColumn("onAny")}),qe("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:ae.onSetupPasteableColumn(il,"onFirst")}),qe("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:ae.onSetupPasteableColumn(il,"onLast")}),qe("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:Ri(J)});const un=Nv(mr(J));un.length!==0&&J.queryCommandSupported("mceTableToggleClass")&&J.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Fp(J,un,"tableclass",Go=>J.execCommand("mceTableToggleClass",!1,Go)),onSetup:ae.onSetupTable});const mo=Nv(Kl(J));mo.length!==0&&J.queryCommandSupported("mceTableCellToggleClass")&&J.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Fp(J,mo,"tablecellclass",Go=>J.execCommand("mceTableCellToggleClass",!1,Go)),onSetup:ae.onSetupCellOrRow}),J.queryCommandSupported("mceTableApplyCellStyle")&&(J.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Fp(J,mh,"tablecellverticalalign",Sf(J,"vertical-align")),onSetup:ae.onSetupCellOrRow}),J.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Fp(J,Nl(J),"tablecellborderwidth",Sf(J,"border-width")),onSetup:ae.onSetupCellOrRow}),J.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Fp(J,Gh(J),"tablecellborderstyle",Sf(J,"border-style")),onSetup:ae.onSetupCellOrRow}),J.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:Go=>Go(Nm(J,Yl(J),"background-color")),onSetup:ae.onSetupCellOrRow}),J.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:Go=>Go(Nm(J,Wa(J),"border-color")),onSetup:ae.onSetupCellOrRow})),bt("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:ae.onSetupTableWithCaption}),bt("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:bh(J),onSetup:ae.onSetupTableRowHeaders}),bt("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Ac(J),onSetup:ae.onSetupTableColumnHeaders})},qb=J=>{const ae=qe=>J.dom.is(qe,"table")&&J.getBody().contains(qe)&&J.dom.isEditable(qe.parentNode),ke=qh(J);ke.length>0&&J.ui.registry.addContextToolbar("table",{predicate:ae,items:ke,scope:"node",position:"node"})},Zb=J=>ae=>{const ke=()=>{ae.setEnabled(J.selection.isEditable())};return J.on("NodeChange",ke),ke(),()=>{J.off("NodeChange",ke)}},ty=(J,ae)=>{const ke=ga=>()=>J.execCommand(ga),qe=(ga,Za)=>J.queryCommandSupported(Za.command)?(J.ui.registry.addMenuItem(ga,{...Za,onAction:B(Za.onAction)?Za.onAction:ke(Za.command)}),!0):!1,bt=(ga,Za)=>{J.queryCommandSupported(Za.command)&&J.ui.registry.addToggleMenuItem(ga,{...Za,onAction:B(Za.onAction)?Za.onAction:ke(Za.command)})},un=ga=>{J.execCommand("mceInsertTable",!1,{rows:ga.numRows,columns:ga.numColumns})},mo=[qe("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:ae.onSetupCellOrRow}),qe("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:ae.onSetupCellOrRow}),qe("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:ae.onSetupCellOrRow}),qe("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:ae.onSetupCellOrRow}),qe("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:ae.onSetupCellOrRow}),qe("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:ae.onSetupCellOrRow}),qe("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:ae.onSetupPasteable(_f)}),qe("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:ae.onSetupPasteable(_f)})],Go=[qe("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:ae.onSetupColumn("onFirst")}),qe("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:ae.onSetupColumn("onLast")}),qe("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:ae.onSetupColumn("onAny")}),qe("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:ae.onSetupColumn("onAny")}),qe("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:ae.onSetupColumn("onAny")}),qe("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:ae.onSetupPasteableColumn(il,"onFirst")}),qe("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:ae.onSetupPasteableColumn(il,"onLast")})],Zs=[qe("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:ae.onSetupCellOrRow}),qe("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:ae.onSetupMergeable}),qe("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:ae.onSetupUnmergeable})];Bd(J)?J.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:un}],onSetup:Zb(J)}):J.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:ke("mceInsertTableDialog"),onSetup:Zb(J)}),J.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:ke("mceInsertTableDialog"),onSetup:Zb(J)}),qe("tableprops",{text:"Table properties",onSetup:ae.onSetupTable,command:"mceTableProps"}),qe("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:ae.onSetupTable,command:"mceTableDelete"}),Ve(mo,!0)&&J.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:Z("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),Ve(Go,!0)&&J.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:Z("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),Ve(Zs,!0)&&J.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:Z("tablecellprops tablemergecells tablesplitcells")}),J.ui.registry.addContextMenu("table",{update:()=>(ae.resetTargets(),ae.targets().fold(Z(""),ga=>sl(ga.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const ws=Nv(mr(J));ws.length!==0&&J.queryCommandSupported("mceTableToggleClass")&&J.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>wl(J,ws,"tableclass",ga=>J.execCommand("mceTableToggleClass",!1,ga)),onSetup:ae.onSetupTable});const $i=Nv(Kl(J));$i.length!==0&&J.queryCommandSupported("mceTableCellToggleClass")&&J.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>wl(J,$i,"tablecellclass",ga=>J.execCommand("mceTableCellToggleClass",!1,ga)),onSetup:ae.onSetupCellOrRow}),J.queryCommandSupported("mceTableApplyCellStyle")&&(J.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>wl(J,mh,"tablecellverticalalign",Sf(J,"vertical-align")),onSetup:ae.onSetupCellOrRow}),J.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>wl(J,Nl(J),"tablecellborderwidth",Sf(J,"border-width")),onSetup:ae.onSetupCellOrRow}),J.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>wl(J,Gh(J),"tablecellborderstyle",Sf(J,"border-style")),onSetup:ae.onSetupCellOrRow}),J.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Nm(J,Yl(J),"background-color"),onSetup:ae.onSetupCellOrRow}),J.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Nm(J,Wa(J),"border-color"),onSetup:ae.onSetupCellOrRow})),bt("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:ae.onSetupTableWithCaption}),bt("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:bh(J),onSetup:ae.onSetupTableRowHeaders}),bt("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Ac(J),onSetup:ae.onSetupTableRowHeaders})},Bu=J=>{const ae=Lu(J);sc(J),qa(J),ty(J,ae),Gb(J,ae),qb(J)};var ny=()=>{e.add("table",Bu)};ny()})()),bIe}var SIe;function tXe(){return SIe||(SIe=1,eXe()),vIe}tXe();var CIe={},EIe={},wIe;function nXe(){return wIe||(wIe=1,(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=Mt=>({backspaceDelete:Yt=>{Mt.execCommand("mceListBackspaceDelete",!1,Yt)}}),o=Mt=>Mt==null,i=Mt=>!o(Mt),c=Mt=>()=>Mt,d=(Mt,Yt)=>Mt===Yt,p=c(!1);class v{constructor(Yt,Ge){this.tag=Yt,this.value=Ge}static some(Yt){return new v(!0,Yt)}static none(){return v.singletonNone}fold(Yt,Ge){return this.tag?Ge(this.value):Yt()}isSome(){return this.tag}isNone(){return!this.tag}map(Yt){return this.tag?v.some(Yt(this.value)):v.none()}bind(Yt){return this.tag?Yt(this.value):v.none()}exists(Yt){return this.tag&&Yt(this.value)}forall(Yt){return!this.tag||Yt(this.value)}filter(Yt){return!this.tag||Yt(this.value)?this:v.none()}getOr(Yt){return this.tag?this.value:Yt}or(Yt){return this.tag?this:Yt}getOrThunk(Yt){return this.tag?this.value:Yt()}orThunk(Yt){return this.tag?this:Yt()}getOrDie(Yt){if(this.tag)return this.value;throw new Error(Yt??"Called getOrDie on None")}static from(Yt){return i(Yt)?v.some(Yt):v.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Yt){this.tag&&Yt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}v.singletonNone=new v(!1);const S=Array.prototype.slice,T=(Mt,Yt)=>{for(let Ge=0,Lt=Mt.length;Ge<Lt;Ge++){const ln=Mt[Ge];if(Yt(ln,Ge))return!0}return!1},x=(Mt,Yt)=>{const Ge=Mt.length,Lt=new Array(Ge);for(let ln=0;ln<Ge;ln++){const On=Mt[ln];Lt[ln]=Yt(On,ln)}return Lt},P=(Mt,Yt)=>{for(let Ge=0,Lt=Mt.length;Ge<Lt;Ge++){const ln=Mt[Ge];Yt(ln,Ge)}},B=(Mt,Yt,Ge)=>(P(Mt,(Lt,ln)=>{Ge=Yt(Ge,Lt,ln)}),Ge),U=(Mt,Yt,Ge)=>{for(let Lt=0,ln=Mt.length;Lt<ln;Lt++){const On=Mt[Lt];if(Yt(On,Lt))return v.some(On);if(Ge(On,Lt))break}return v.none()},j=(Mt,Yt)=>U(Mt,Yt,p),W=Mt=>{const Yt=S.call(Mt,0);return Yt.reverse(),Yt},Z=(Mt,Yt,Ge=d)=>Mt.exists(Lt=>Ge(Lt,Yt)),le=(Mt=>Yt=>Yt.replace(Mt,""))(/^\s+|\s+$/g),ie=Mt=>Mt.length>0,be=Mt=>!ie(Mt),Ce=Mt=>{const Yt=W(le(Mt).split("")),Ge=x(Yt,(Lt,ln)=>{const On=Lt.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,ln)*On});return B(Ge,(Lt,ln)=>Lt+ln,0)},Ae=Mt=>{if(Mt--,Mt<0)return"";{const Yt=Mt%26,Ge=Math.floor(Mt/26),Lt=Ae(Ge),ln=String.fromCharCode(65+Yt);return Lt+ln}},F=Mt=>/^[A-Z]+$/.test(Mt),Ie=Mt=>/^[a-z]+$/.test(Mt),tt=Mt=>/^[0-9]+$/.test(Mt),Xe=Mt=>tt(Mt)?2:F(Mt)?0:Ie(Mt)?1:be(Mt)?3:4,Ve=Mt=>{switch(Xe(Mt)){case 2:return v.some({listStyleType:v.none(),start:Mt});case 0:return v.some({listStyleType:v.some("upper-alpha"),start:Ce(Mt).toString()});case 1:return v.some({listStyleType:v.some("lower-alpha"),start:Ce(Mt).toString()});case 3:return v.some({listStyleType:v.none(),start:""});case 4:return v.none()}},Re=Mt=>{const Yt=parseInt(Mt.start,10);return Z(Mt.listStyleType,"upper-alpha")?Ae(Yt):Z(Mt.listStyleType,"lower-alpha")?Ae(Yt).toLowerCase():Mt.start},mt=(Mt=>Yt=>Yt.options.get(Mt))("forced_root_block"),gt=Mt=>/\btox\-/.test(Mt.className),te=Mt=>Yt=>i(Yt)&&Mt.test(Yt.nodeName),hn=Mt=>Yt=>i(Yt)&&Yt.nodeName.toLowerCase()===Mt,ot=te(/^(OL|UL|DL)$/),Rt=te(/^(TH|TD)$/),kt=te(/^(LI|DT|DD)$/),at=(Mt,Yt)=>U(Mt,ot,Rt).exists(Ge=>Ge.nodeName===Yt&&!gt(Ge)),Cn=(Mt,Yt)=>{const Ge=Mt.selection.getNode();return Yt({parents:Mt.dom.getParents(Ge),element:Ge}),Mt.on("NodeChange",Yt),()=>Mt.off("NodeChange",Yt)},Ro=(Mt,Yt)=>Yt!==null&&!Mt.dom.isEditable(Yt),jn=(Mt,Yt)=>{const Ge=Mt.dom.getParent(Yt,"ol,ul,dl");return Ro(Mt,Ge)||!Mt.selection.isEditable()},wo=hn("ol"),qt=["OL","UL","DL"],Tn=qt.join(","),_e=(Mt,Yt)=>{const Ge=Yt||Mt.selection.getStart(!0);return Mt.dom.getParent(Ge,Tn,vr(Mt,Ge))},vr=(Mt,Yt)=>{const Ge=Mt.dom.getParents(Yt,Mt.dom.isBlock),Lt=On=>On.nodeName.toLowerCase()!==mt(Mt);return j(Ge,On=>Lt(On)&&vs(Mt.schema,On)).getOr(Mt.getBody())},vs=(Mt,Yt)=>!ot(Yt)&&!kt(Yt)&&T(qt,Ge=>Mt.isValidChild(Yt.nodeName,Ge)),Ut=Mt=>{const Yt=_e(Mt);!wo(Yt)||jn(Mt,Yt)||Mt.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Re({start:Mt.dom.getAttrib(Yt,"start","1"),listStyleType:v.from(Mt.dom.getStyle(Yt,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:Ge=>{const Lt=Ge.getData();Ve(Lt.start).each(ln=>{Mt.execCommand("mceListUpdate",!1,{attrs:{start:ln.start==="1"?"":ln.start},styles:{"list-style-type":ln.listStyleType.getOr("")}})}),Ge.close()}})},xn=Mt=>{Mt.addCommand("mceListProps",()=>{Ut(Mt)})},vn=(Mt,Yt)=>Ge=>{const Lt=ln=>{Ge.setActive(at(ln.parents,Yt)),Ge.setEnabled(!jn(Mt,ln.element)&&Mt.selection.isEditable())};return Ge.setEnabled(Mt.selection.isEditable()),Cn(Mt,Lt)},zt=Mt=>{const Yt=Ge=>()=>Mt.execCommand(Ge);Mt.hasPlugin("advlist")||(Mt.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:Yt("InsertOrderedList"),onSetup:vn(Mt,"OL")}),Mt.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:Yt("InsertUnorderedList"),onSetup:vn(Mt,"UL")}))},wn=(Mt,Yt)=>Ge=>Cn(Mt,ln=>Ge.setEnabled(at(ln.parents,Yt)&&!jn(Mt,ln.element))),fn=Mt=>{const Yt={text:"List properties...",icon:"ordered-list",onAction:()=>Mt.execCommand("mceListProps"),onSetup:wn(Mt,"OL")};Mt.ui.registry.addMenuItem("listprops",Yt),Mt.ui.registry.addContextMenu("lists",{update:Ge=>{const Lt=_e(Mt,Ge);return wo(Lt)?["listprops"]:[]}})};var ct=()=>{e.add("lists",Mt=>(xn(Mt),zt(Mt),fn(Mt),n(Mt)))};ct()})()),EIe}var _Ie;function oXe(){return _Ie||(_Ie=1,nXe()),CIe}oXe();var AIe={},TIe={},xIe;function sXe(){return xIe||(xIe=1,(function(){const e=le=>{let ie=le;return{get:()=>ie,set:Ae=>{ie=Ae}}};var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=tinymce.util.Tools.resolve("tinymce.Env");const i=le=>le.dispatch("ResizeEditor"),c=le=>ie=>ie.options.get(le),d=le=>{const ie=le.options.register;ie("autoresize_overflow_padding",{processor:"number",default:1}),ie("autoresize_bottom_margin",{processor:"number",default:50})},p=c("min_height"),v=c("max_height"),S=c("autoresize_overflow_padding"),T=c("autoresize_bottom_margin"),x=le=>le.plugins.fullscreen&&le.plugins.fullscreen.isFullscreen(),P=(le,ie)=>{const be=le.getBody();be&&(be.style.overflowY=ie?"":"hidden",ie||(be.scrollTop=0))},B=(le,ie,be,Ce)=>{var Ae;const F=parseInt((Ae=le.getStyle(ie,be,Ce))!==null&&Ae!==void 0?Ae:"",10);return isNaN(F)?0:F},U=le=>{if((le==null?void 0:le.type.toLowerCase())==="setcontent"){const ie=le;return ie.selection===!0||ie.paste===!0}else return!1},j=(le,ie,be,Ce)=>{var Ae;const F=le.dom,Ie=le.getDoc();if(!Ie)return;if(x(le)){P(le,!0);return}const tt=Ie.documentElement,Xe=Ce?Ce():S(le),Ve=(Ae=p(le))!==null&&Ae!==void 0?Ae:le.getElement().offsetHeight;let Re=Ve;const vt=B(F,tt,"margin-top",!0),mt=B(F,tt,"margin-bottom",!0);let gt=tt.offsetHeight+vt+mt+Xe;gt<0&&(gt=0);const te=le.getContainer().offsetHeight,hn=le.getContentAreaContainer().offsetHeight,ot=te-hn;gt+ot>Ve&&(Re=gt+ot);const Rt=v(le);Rt&&Re>Rt?(Re=Rt,P(le,!0)):P(le,!1);const kt=ie.get();if(kt.set&&(le.dom.setStyles(le.getDoc().documentElement,{"min-height":0}),le.dom.setStyles(le.getBody(),{"min-height":"inherit"})),Re!==kt.totalHeight&&(gt-Xe!==kt.contentHeight||!kt.set)){const at=Re-kt.totalHeight;if(F.setStyle(le.getContainer(),"height",Re+"px"),ie.set({totalHeight:Re,contentHeight:gt,set:!0}),i(le),o.browser.isSafari()&&(o.os.isMacOS()||o.os.isiOS())){const Cn=le.getWin();Cn.scrollTo(Cn.pageXOffset,Cn.pageYOffset)}le.hasFocus()&&U(be)&&le.selection.scrollIntoView(),(o.browser.isSafari()||o.browser.isChromium())&&at<0&&j(le,ie,be,Ce)}},W=(le,ie)=>{const be=()=>T(le);le.on("init",Ce=>{const Ae=S(le),F=le.dom;F.setStyles(le.getDoc().documentElement,{height:"auto"}),o.browser.isEdge()||o.browser.isIE()?F.setStyles(le.getBody(),{paddingLeft:Ae,paddingRight:Ae,"min-height":0}):F.setStyles(le.getBody(),{paddingLeft:Ae,paddingRight:Ae}),j(le,ie,Ce,be)}),le.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",Ce=>{j(le,ie,Ce,be)})},Z=(le,ie)=>{le.addCommand("mceAutoResize",()=>{j(le,ie)})};var re=()=>{n.add("autoresize",le=>{if(d(le),le.options.isSet("resize")||le.options.set("resize",!1),!le.inline){const ie=e({totalHeight:0,contentHeight:0,set:!1});Z(le,ie),W(le,ie)}})};re()})()),TIe}var OIe;function rXe(){return OIe||(OIe=1,sXe()),AIe}rXe();var uJ={exports:{}},iXe=uJ.exports,IIe;function aXe(){return IIe||(IIe=1,(function(e,n){(function(o,i){o._Highcharts=i(),e.exports=o._Highcharts})(typeof window>"u"?iXe:window,()=>(()=>{var zu;let o,i;var c,d,p,v,S,T,x,P,B,U,j,W,Z,re,le,ie,be,Ce,Ae={};Ae.d=(ee,m)=>{for(var C in m)Ae.o(m,C)&&!Ae.o(ee,C)&&Object.defineProperty(ee,C,{enumerable:!0,get:m[C]})},Ae.o=(ee,m)=>Object.prototype.hasOwnProperty.call(ee,m);var F={};Ae.d(F,{default:()=>eg}),(function(ee){var m,C,_,I,D,N,V;ee.SVG_NS="http://www.w3.org/2000/svg",ee.product="Highcharts",ee.version="12.4.0",ee.win=typeof window<"u"?window:{},ee.doc=ee.win.document,ee.svg=!!((_=(C=(m=ee.doc)==null?void 0:m.createElementNS)==null?void 0:C.call(m,ee.SVG_NS,"svg"))!=null&&_.createSVGRect),ee.pageLang=(N=(D=(I=ee.doc)==null?void 0:I.documentElement)==null?void 0:D.closest("[lang]"))==null?void 0:N.lang,ee.userAgent=((V=ee.win.navigator)==null?void 0:V.userAgent)||"",ee.isChrome=ee.win.chrome,ee.isFirefox=ee.userAgent.indexOf("Firefox")!==-1,ee.isMS=/(edge|msie|trident)/i.test(ee.userAgent)&&!ee.win.opera,ee.isSafari=!ee.isChrome&&ee.userAgent.indexOf("Safari")!==-1,ee.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(ee.userAgent),ee.isWebKit=ee.userAgent.indexOf("AppleWebKit")!==-1,ee.deg2rad=2*Math.PI/360,ee.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],ee.noop=function(){},ee.supportsPassiveEvents=(function(){let q=!1;if(!ee.isMS){let Q=Object.defineProperty({},"passive",{get:function(){q=!0}});ee.win.addEventListener&&ee.win.removeEventListener&&(ee.win.addEventListener("testPassive",ee.noop,Q),ee.win.removeEventListener("testPassive",ee.noop,Q))}return q})(),ee.charts=[],ee.composed=[],ee.dateFormats={},ee.seriesTypes={},ee.symbolSizes={},ee.chartCount=0})(c||(c={}));let Ie=c,{charts:tt,doc:Xe,win:Ve}=Ie;function Re(ee,m,C,_){let I=m?"Highcharts error":"Highcharts warning";ee===32&&(ee=`${I}: Deprecated member`);let D=Rt(ee),N=D?`${I} #${ee}: www.highcharts.com/errors/${ee}/`:ee.toString();if(_!==void 0){let V="";D&&(N+="?"),vr(_,function(q,Q){V+=`
 - ${Q}: ${q}`,D&&(N+=encodeURI(Q)+"="+encodeURI(q))}),N+=V}Ut(Ie,"displayError",{chart:C,code:ee,message:N,params:_},function(){if(m)throw Error(N);Ve.console&&Re.messages.indexOf(N)===-1&&console.warn(N)}),Re.messages.push(N)}function vt(ee,m){return parseInt(ee,m||10)}function mt(ee){return typeof ee=="string"}function gt(ee){let m=Object.prototype.toString.call(ee);return m==="[object Array]"||m==="[object Array Iterator]"}function te(ee,m){return!!ee&&typeof ee=="object"&&(!m||!gt(ee))}function hn(ee){return te(ee)&&typeof ee.nodeType=="number"}function ot(ee){let m=ee==null?void 0:ee.constructor;return!!(te(ee,!0)&&!hn(ee)&&(m!=null&&m.name)&&m.name!=="Object")}function Rt(ee){return typeof ee=="number"&&!isNaN(ee)&&ee<1/0&&ee>-1/0}function kt(ee){return ee!=null}function at(ee,m,C){let _,I=mt(m)&&!kt(C),D=(N,V)=>{kt(N)?ee.setAttribute(V,N):I?(_=ee.getAttribute(V))||V!=="class"||(_=ee.getAttribute(V+"Name")):ee.removeAttribute(V)};return mt(m)?D(C,m):vr(m,D),_}function Cn(ee){return gt(ee)?ee:[ee]}function Ro(ee,m){let C;for(C in ee||(ee={}),m)ee[C]=m[C];return ee}function jn(){let ee=arguments,m=ee.length;for(let C=0;C<m;C++){let _=ee[C];if(_!=null)return _}}function wo(ee,m){Ro(ee.style,m)}function qt(ee){return Math.pow(10,Math.floor(Math.log(ee)/Math.LN10))}function Tn(ee,m){return ee>1e14?ee:parseFloat(ee.toPrecision(m||14))}(Re||(Re={})).messages=[],Math.easeInOutSine=function(ee){return-.5*(Math.cos(Math.PI*ee)-1)};let _e=Array.prototype.find?function(ee,m){return ee.find(m)}:function(ee,m){let C,_=ee.length;for(C=0;C<_;C++)if(m(ee[C],C))return ee[C]};function vr(ee,m,C){for(let _ in ee)Object.hasOwnProperty.call(ee,_)&&m.call(C||ee[_],ee[_],_,ee)}function vs(ee,m,C){function _(N,V){let q=ee.removeEventListener;q&&q.call(ee,N,V,!1)}function I(N){let V,q;ee.nodeName&&(m?(V={})[m]=!0:V=N,vr(V,function(Q,ce){if(N[ce])for(q=N[ce].length;q--;)_(ce,N[ce][q].fn)}))}let D=typeof ee=="function"&&ee.prototype||ee;if(Object.hasOwnProperty.call(D,"hcEvents")){let N=D.hcEvents;if(m){let V=N[m]||[];C?(N[m]=V.filter(function(q){return C!==q.fn}),_(m,C)):(I(N),N[m]=[])}else I(N),delete D.hcEvents}}function Ut(ee,m,C,_){if(C=C||{},(Xe==null?void 0:Xe.createEvent)&&(ee.dispatchEvent||ee.fireEvent&&ee!==Ie)){let I=Xe.createEvent("Events");I.initEvent(m,!0,!0),C=Ro(I,C),ee.dispatchEvent?ee.dispatchEvent(C):ee.fireEvent(m,C)}else if(ee.hcEvents){C.target||Ro(C,{preventDefault:function(){C.defaultPrevented=!0},target:ee,type:m});let I=[],D=ee,N=!1;for(;D.hcEvents;)Object.hasOwnProperty.call(D,"hcEvents")&&D.hcEvents[m]&&(I.length&&(N=!0),I.unshift.apply(I,D.hcEvents[m])),D=Object.getPrototypeOf(D);N&&I.sort((V,q)=>V.order-q.order),I.forEach(V=>{V.fn.call(ee,C)===!1&&C.preventDefault()})}_&&!C.defaultPrevented&&_.call(ee,C)}let xn=(function(){let ee=Math.random().toString(36).substring(2,9)+"-",m=0;return function(){return"highcharts-"+(o?"":ee)+m++}})();Ve.jQuery&&(Ve.jQuery.fn.highcharts=function(){let ee=[].slice.call(arguments);if(this[0])return ee[0]?(new Ie[mt(ee[0])?ee.shift():"Chart"](this[0],ee[0],ee[1]),this):tt[at(this[0],"data-highcharts-chart")]});let vn={addEvent:function(ee,m,C,_={}){let I=typeof ee=="function"&&ee.prototype||ee;Object.hasOwnProperty.call(I,"hcEvents")||(I.hcEvents={});let D=I.hcEvents;Ie.Point&&ee instanceof Ie.Point&&ee.series&&ee.series.chart&&(ee.series.chart.runTrackerClick=!0);let N=ee.addEventListener;N&&N.call(ee,m,C,!!Ie.supportsPassiveEvents&&{passive:_.passive===void 0?m.indexOf("touch")!==-1:_.passive,capture:!1}),D[m]||(D[m]=[]);let V={fn:C,order:typeof _.order=="number"?_.order:1/0};return D[m].push(V),D[m].sort((q,Q)=>q.order-Q.order),function(){vs(ee,m,C)}},arrayMax:function(ee){let m=ee.length,C=ee[0];for(;m--;)ee[m]>C&&(C=ee[m]);return C},arrayMin:function(ee){let m=ee.length,C=ee[0];for(;m--;)ee[m]<C&&(C=ee[m]);return C},attr:at,clamp:function(ee,m,C){return ee>m?ee<C?ee:C:m},clearTimeout:function(ee){kt(ee)&&clearTimeout(ee)},correctFloat:Tn,createElement:function(ee,m,C,_,I){let D=Xe.createElement(ee);return m&&Ro(D,m),I&&wo(D,{padding:"0",border:"none",margin:"0"}),C&&wo(D,C),_&&_.appendChild(D),D},crisp:function(ee,m=0,C){let _=m%2/2,I=C?-1:1;return(Math.round(ee*I-_)+_)*I},css:wo,defined:kt,destroyObjectProperties:function(ee,m,C){vr(ee,function(_,I){_!==m&&(_!=null&&_.destroy)&&_.destroy(),(_!=null&&_.destroy||!C)&&delete ee[I]})},diffObjects:function(ee,m,C,_){let I={};return(function D(N,V,q,Q){let ce=C?V:N;vr(N,function(ne,he){if(!Q&&_&&_.indexOf(he)>-1&&V[he]){ne=Cn(ne),q[he]=[];for(let ye=0;ye<Math.max(ne.length,V[he].length);ye++)V[he][ye]&&(ne[ye]===void 0?q[he][ye]=V[he][ye]:(q[he][ye]={},D(ne[ye],V[he][ye],q[he][ye],Q+1)))}else te(ne,!0)&&!ne.nodeType?(q[he]=gt(ne)?[]:{},D(ne,V[he]||{},q[he],Q+1),Object.keys(q[he]).length===0&&(he!=="colorAxis"||Q!==0)&&delete q[he]):(N[he]!==V[he]||he in N&&!(he in V))&&he!=="__proto__"&&he!=="constructor"&&(q[he]=ce[he])})})(ee,m,I,0),I},discardElement:function(ee){var m;(m=ee==null?void 0:ee.parentElement)==null||m.removeChild(ee)},erase:function(ee,m){let C=ee.length;for(;C--;)if(ee[C]===m){ee.splice(C,1);break}},error:Re,extend:Ro,extendClass:function(ee,m){let C=function(){};return C.prototype=new ee,Ro(C.prototype,m),C},find:_e,fireEvent:Ut,getAlignFactor:(ee="")=>({center:.5,right:1,middle:.5,bottom:1})[ee]||0,getClosestDistance:function(ee,m){let C,_,I,D=!m;return ee.forEach(N=>{if(N.length>1)for(I=N.length-1;I>0;I--)(_=N[I]-N[I-1])<0&&!D?(m==null||m(),m=void 0):_&&(C===void 0||_<C)&&(C=_)}),C},getMagnitude:qt,getNestedProperty:function(ee,m){let C=ee.split(".");for(;C.length&&kt(m);){let _=C.shift();if(_===void 0||_==="__proto__")return;if(_==="this"){let D;return te(m)&&(D=m["@this"]),D??m}let I=m[_.replace(/[\\'"]/g,"")];if(!kt(I)||typeof I=="function"||typeof I.nodeType=="number"||I===Ve)return;m=I}return m},getStyle:function ee(m,C,_){var N;let I;if(C==="width"){let V=Math.min(m.offsetWidth,m.scrollWidth),q=(N=m.getBoundingClientRect)==null?void 0:N.call(m).width;return q<V&&q>=V-1&&(V=Math.floor(q)),Math.max(0,V-(ee(m,"padding-left",!0)||0)-(ee(m,"padding-right",!0)||0))}if(C==="height")return Math.max(0,Math.min(m.offsetHeight,m.scrollHeight)-(ee(m,"padding-top",!0)||0)-(ee(m,"padding-bottom",!0)||0));let D=Ve.getComputedStyle(m,void 0);return D&&(I=D.getPropertyValue(C),jn(_,C!=="opacity")&&(I=vt(I))),I},insertItem:function(ee,m){let C,_=ee.options.index,I=m.length;for(C=ee.options.isInternal?I:0;C<I+1;C++)if(!m[C]||Rt(_)&&_<jn(m[C].options.index,m[C]._i)||m[C].options.isInternal){m.splice(C,0,ee);break}return C},isArray:gt,isClass:ot,isDOMElement:hn,isFunction:function(ee){return typeof ee=="function"},isNumber:Rt,isObject:te,isString:mt,merge:function(ee,...m){let C,_=[ee,...m],I={},D=function(V,q){return typeof V!="object"&&(V={}),vr(q,function(Q,ce){ce!=="__proto__"&&ce!=="constructor"&&(!te(Q,!0)||ot(Q)||hn(Q)?V[ce]=q[ce]:V[ce]=D(V[ce]||{},Q))}),V};ee===!0&&(I=_[1],_=Array.prototype.slice.call(_,2));let N=_.length;for(C=0;C<N;C++)I=D(I,_[C]);return I},normalizeTickInterval:function(ee,m,C,_,I){let D,N=ee;C=jn(C,qt(ee));let V=ee/C;for(!m&&(m=I?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],_===!1&&(C===1?m=m.filter(function(q){return q%1==0}):C<=.1&&(m=[1/C]))),D=0;D<m.length&&(N=m[D],(!I||!(N*C>=ee))&&(I||!(V<=(m[D]+(m[D+1]||m[D]))/2)));D++);return Tn(N*C,-Math.round(Math.log(.001)/Math.LN10))},objectEach:vr,offset:function(ee){let m=Xe.documentElement,C=ee.parentElement||ee.parentNode?ee.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:C.top+(Ve.pageYOffset||m.scrollTop)-(m.clientTop||0),left:C.left+(Ve.pageXOffset||m.scrollLeft)-(m.clientLeft||0),width:C.width,height:C.height}},pad:function(ee,m,C){return Array((m||2)+1-String(ee).replace("-","").length).join(C||"0")+ee},pick:jn,pInt:vt,pushUnique:function(ee,m){return 0>ee.indexOf(m)&&!!ee.push(m)},relativeLength:function(ee,m,C){return/%$/.test(ee)?m*parseFloat(ee)/100+(C||0):parseFloat(ee)},removeEvent:vs,replaceNested:function(ee,...m){let C,_;do for(_ of(C=ee,m))ee=ee.replace(_[0],_[1]);while(ee!==C);return ee},splat:Cn,stableSort:function(ee,m){let C,_,I=ee.length;for(_=0;_<I;_++)ee[_].safeI=_;for(ee.sort(function(D,N){return(C=m(D,N))===0?D.safeI-N.safeI:C}),_=0;_<I;_++)delete ee[_].safeI},syncTimeout:function(ee,m,C){return m>0?setTimeout(ee,m,C):(ee.call(0,C),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(ee){return mt(ee)?ee.substring(0,1).toUpperCase()+ee.substring(1):String(ee)},uniqueKey:xn,useSerialIds:function(ee){return o=jn(ee,o)},wrap:function(ee,m,C){let _=ee[m];ee[m]=function(){let I=arguments,D=this;return C.apply(this,[function(){return _.apply(D,arguments.length?arguments:I)}].concat([].slice.call(arguments)))}}},{pageLang:zt,win:wn}=Ie,{defined:fn,error:ct,extend:Mt,isNumber:Yt,isObject:Ge,isString:Lt,merge:ln,objectEach:On,pad:Bt,splat:$t,timeUnits:ls,ucfirst:ks}=vn,Rs=Ie.isSafari&&wn.Intl&&!wn.Intl.DateTimeFormat.prototype.formatRange,Ao=ee=>ee.main===void 0,sr=class{constructor(ee,m){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=wn.Date,this.update(ee),this.lang=m}update(ee={}){this.dTLCache={},this.options=ee=ln(!0,this.options,ee);let{timezoneOffset:m,useUTC:C,locale:_}=ee;this.Date=ee.Date||wn.Date||Date;let I=ee.timezone;fn(C)&&(I=C?"UTC":void 0),m&&m%60==0&&(I="Etc/GMT"+(m>0?"+":"")+m/60),this.variableTimezone=I!=="UTC"&&(I==null?void 0:I.indexOf("Etc/GMT"))!==0,this.timezone=I,this.lang&&_&&(this.lang.locale=_),["months","shortMonths","weekdays","shortWeekdays"].forEach(D=>{let N=/months/i.test(D),V=/short/.test(D),q={timeZone:"UTC"};q[N?"month":"weekday"]=V?"short":"long",this[D]=(N?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(Q=>this.dateFormat(q,(N?31:1)*24*36e5*Q))})}toParts(ee){let[m,C,_,I,D,N,V]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},ee,"es").split(/(?:, | |\/|:)/g);return[I,_-1,C,D,N,V,Math.floor(Number(ee)||0)%1e3,"DLMXJVS".indexOf(m)].map(Number)}dateTimeFormat(ee,m,C=this.options.locale||zt){let _=JSON.stringify(ee)+C;Lt(ee)&&(ee=this.str2dtf(ee));let I=this.dTLCache[_];if(!I){ee.timeZone??(ee.timeZone=this.timezone);try{I=new Intl.DateTimeFormat(C,ee)}catch(D){/Invalid time zone/i.test(D.message)?(ct(34),ee.timeZone="UTC",I=new Intl.DateTimeFormat(C,ee)):ct(D.message,!1)}}return this.dTLCache[_]=I,(I==null?void 0:I.format(m))||""}str2dtf(ee,m={}){let C={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(C).forEach(_=>{ee.indexOf(_)!==-1&&Mt(m,C[_])}),m}makeTime(ee,m,C=1,_=0,I,D,N){let V=this.Date.UTC(ee,m,C,_,I||0,D||0,N||0);if(this.timezone!=="UTC"){let q=this.getTimezoneOffset(V);if(V+=q,[2,3,8,9,10,11].indexOf(m)!==-1&&(_<5||_>20)){let Q=this.getTimezoneOffset(V);q!==Q?V+=Q-q:q-36e5!==this.getTimezoneOffset(V-36e5)||Rs||(V-=36e5)}}return V}parse(ee){if(!Lt(ee))return ee??void 0;let m=(ee=ee.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(ee),C=/^[0-9]{4}-[0-9]{2}(-[0-9]{2}|)$/.test(ee);m||C||(ee+="Z");let _=Date.parse(ee);if(Yt(_))return _+(!m||C?this.getTimezoneOffset(_):0)}getTimezoneOffset(ee){if(this.timezone!=="UTC"){let[m,C,_,I,D=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},ee,"en").split(/(GMT|:)/).map(Number),N=-(60*(_+D/60)*6e4);if(Yt(N))return N}return 0}dateFormat(ee,m,C){let _=this.lang;if(!fn(m)||isNaN(m))return(_==null?void 0:_.invalidDate)||"";if(Lt(ee=ee??"%Y-%m-%d %H:%M:%S")){let I,D=/%\[([a-zA-Z]+)\]/g;for(;I=D.exec(ee);)ee=ee.replace(I[0],this.dateTimeFormat(I[1],m,_==null?void 0:_.locale))}if(Lt(ee)&&ee.indexOf("%")!==-1){let I=this,[D,N,V,q,Q,ce,ne,he]=this.toParts(m),ye=(_==null?void 0:_.weekdays)||this.weekdays,Ee=(_==null?void 0:_.shortWeekdays)||this.shortWeekdays,Ne=(_==null?void 0:_.months)||this.months,Le=(_==null?void 0:_.shortMonths)||this.shortMonths;On(Mt({a:Ee?Ee[he]:ye[he].substr(0,3),A:ye[he],d:Bt(V),e:Bt(V,2," "),w:he,v:(_==null?void 0:_.weekFrom)??"",b:Le[N],B:Ne[N],m:Bt(N+1),o:N+1,y:D.toString().substr(2,2),Y:D,H:Bt(q),k:q,I:Bt(q%12||12),l:q%12||12,M:Bt(Q),p:q<12?"AM":"PM",P:q<12?"am":"pm",S:Bt(ce),L:Bt(ne,3)},Ie.dateFormats),function(Me,ze){if(Lt(ee))for(;ee.indexOf("%"+ze)!==-1;)ee=ee.replace("%"+ze,typeof Me=="function"?Me.call(I,m):Me)})}else if(Ge(ee)){let I=(this.getTimezoneOffset(m)||0)/36e5,D=this.timezone||"Etc/GMT"+(I>=0?"+":"")+I,{prefix:N="",suffix:V=""}=ee;ee=N+this.dateTimeFormat(Mt({timeZone:D},ee),m)+V}return C?ks(ee):ee}resolveDTLFormat(ee){return Ge(ee,!0)?Ge(ee,!0)&&Ao(ee)?{main:ee}:ee:{main:(ee=$t(ee))[0],from:ee[1],to:ee[2]}}getDateFormat(ee,m,C,_){let I=this.dateFormat("%m-%d %H:%M:%S.%L",m),D="01-01 00:00:00.000",N={millisecond:15,second:12,minute:9,hour:6,day:3},V="millisecond",q=V;for(V in ls){if(ee&&ee===ls.week&&+this.dateFormat("%w",m)===C&&I.substr(6)===D.substr(6)){V="week";break}if(ee&&ls[V]>ee){V=q;break}if(N[V]&&I.substr(N[V])!==D.substr(N[V]))break;V!=="week"&&(q=V)}return this.resolveDTLFormat(_[V]).main}},{defined:Ks,extend:Ls,timeUnits:Xo}=vn,At=class extends sr{getTimeTicks(ee,m,C,_){let I=this,D=[],N={},{count:V=1,unitRange:q}=ee,[Q,ce,ne,he,ye,Ee]=I.toParts(m),Ne=(m||0)%1e3,Le;if(_??(_=1),Ks(m)){if(Ne=q>=Xo.second?0:V*Math.floor(Ne/V),q>=Xo.second&&(Ee=q>=Xo.minute?0:V*Math.floor(Ee/V)),q>=Xo.minute&&(ye=q>=Xo.hour?0:V*Math.floor(ye/V)),q>=Xo.hour&&(he=q>=Xo.day?0:V*Math.floor(he/V)),q>=Xo.day&&(ne=q>=Xo.month?1:Math.max(1,V*Math.floor(ne/V))),q>=Xo.month&&(ce=q>=Xo.year?0:V*Math.floor(ce/V)),q>=Xo.year&&(Q-=Q%V),q===Xo.week){V&&(m=I.makeTime(Q,ce,ne,he,ye,Ee,Ne));let Ye=this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},m,"es"),Nt="DLMXJVS".indexOf(Ye);ne+=-Nt+_+(Nt<_?-7:0)}m=I.makeTime(Q,ce,ne,he,ye,Ee,Ne),I.variableTimezone&&Ks(C)&&(Le=C-m>4*Xo.month||I.getTimezoneOffset(m)!==I.getTimezoneOffset(C));let Me=m,ze=1;for(;Me<C;)D.push(Me),q===Xo.year?Me=I.makeTime(Q+ze*V,0):q===Xo.month?Me=I.makeTime(Q,ce+ze*V):Le&&(q===Xo.day||q===Xo.week)?Me=I.makeTime(Q,ce,ne+ze*V*(q===Xo.day?1:7)):Le&&q===Xo.hour&&V>1?Me=I.makeTime(Q,ce,ne,he+ze*V):Me+=q*V,ze++;D.push(Me),q<=Xo.hour&&D.length<1e4&&D.forEach(Ye=>{Ye%18e5==0&&I.dateFormat("%H%M%S%L",Ye)==="000000000"&&(N[Ye]="day")})}return D.info=Ls(ee,{higherRanks:N,totalRange:q*V}),D}},{isTouchDevice:Vt}=Ie,{fireEvent:en,merge:tn}=vn,to={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{weekFrom:"week from",chartTitle:"Chart title",locale:void 0,loading:"Loading...",months:void 0,seriesName:"Series {add index 1}",shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],pieSliceName:"Slice",resetZoom:"Reset zoom",yAxisTitle:"Values",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{color:"#333333",fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:ee=>Math.sqrt(1-Math.pow(ee-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"%v %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,position:{x:0,y:3},shared:!1,snap:Vt?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}},go=new At(to.time,to.lang),To={defaultOptions:to,defaultTime:go,getOptions:function(){return to},setOptions:function(ee){var m;return en(Ie,"setOptions",{options:ee}),tn(!0,to,ee),ee.time&&go.update(to.time),ee.lang&&"locale"in ee.lang&&go.update({locale:ee.lang.locale}),(m=ee.lang)!=null&&m.chartTitle&&(to.title={...to.title,text:ee.lang.chartTitle}),to}},{win:cn}=Ie,{isNumber:ro,isString:Xn,merge:fs,pInt:rs,defined:$n}=vn,gi=(ee,m,C)=>`color-mix(in srgb,${ee},${m} ${100*C}%)`,ur=ee=>Xn(ee)&&!!ee&&ee!=="none";class Nr{static parse(m){return m?new Nr(m):Nr.None}constructor(m){let C,_,I,D;this.rgba=[NaN,NaN,NaN,NaN],this.input=m;let N=Ie.Color;if(N&&N!==Nr)return new N(m);if(typeof m=="object"&&m.stops!==void 0)this.stops=m.stops.map(V=>new Nr(V[1]));else if(typeof m=="string")for(this.input=m=Nr.names[m.toLowerCase()]||m,I=Nr.parsers.length;I--&&!_;)(C=(D=Nr.parsers[I]).regex.exec(m))&&(_=D.parse(C));_&&(this.rgba=_)}get(m){let C=this.input,_=this.rgba;if(this.output)return this.output;if(typeof C=="object"&&this.stops!==void 0){let I=fs(C);return I.stops=[].slice.call(I.stops),this.stops.forEach((D,N)=>{I.stops[N]=[I.stops[N][0],D.get(m)]}),I}return _&&ro(_[0])?m!=="rgb"&&(m||_[3]!==1)?m==="a"?`${_[3]}`:"rgba("+_.join(",")+")":"rgb("+_[0]+","+_[1]+","+_[2]+")":C}brighten(m){let C=this.rgba;if(this.stops)this.stops.forEach(function(_){_.brighten(m)});else if(ro(m)&&m!==0)if(ro(C[0]))for(let _=0;_<3;_++)C[_]+=rs(255*m),C[_]<0&&(C[_]=0),C[_]>255&&(C[_]=255);else Nr.useColorMix&&ur(this.input)&&(this.output=gi(this.input,m>0?"white":"black",Math.abs(m)));return this}setOpacity(m){return this.rgba[3]=m,this}tweenTo(m,C){let _=this.rgba,I=m.rgba;if(!ro(_[0])||!ro(I[0]))return Nr.useColorMix&&ur(this.input)&&ur(m.input)&&C<.99?gi(this.input,m.input,C):m.input||"none";let D=I[3]!==1||_[3]!==1,N=(q,Q)=>q+(_[Q]-q)*(1-C),V=I.slice(0,3).map(N).map(Math.round);return D&&V.push(N(I[3],3)),(D?"rgba(":"rgb(")+V.join(",")+")"}}Nr.names={white:"#ffffff",black:"#000000"},Nr.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(ee){return[rs(ee[1]),rs(ee[2]),rs(ee[3]),parseFloat(ee[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(ee){return[rs(ee[1]),rs(ee[2]),rs(ee[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(ee){return[rs(ee[1]+ee[1],16),rs(ee[2]+ee[2],16),rs(ee[3]+ee[3],16),$n(ee[4])?rs(ee[4]+ee[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(ee){return[rs(ee[1],16),rs(ee[2],16),rs(ee[3],16),$n(ee[4])?rs(ee[4],16)/255:1]}}],Nr.useColorMix=(zu=cn.CSS)==null?void 0:zu.supports("color","color-mix(in srgb,red,blue 9%)"),Nr.None=new Nr("");let{parse:fa}=Nr,{win:ta}=Ie,{isNumber:dr,objectEach:jo}=vn;class Vs{constructor(m,C,_){this.pos=NaN,this.options=C,this.elem=m,this.prop=_}dSetter(){let m=this.paths,C=m==null?void 0:m[0],_=m==null?void 0:m[1],I=this.now||0,D=[];if(I!==1&&C&&_)if(C.length===_.length&&I<1)for(let N=0;N<_.length;N++){let V=C[N],q=_[N],Q=[];for(let ce=0;ce<q.length;ce++){let ne=V[ce],he=q[ce];dr(ne)&&dr(he)&&(q[0]!=="A"||ce!==4&&ce!==5)?Q[ce]=ne+I*(he-ne):Q[ce]=he}D.push(Q)}else D=_;else D=this.toD||[];this.elem.attr("d",D,void 0,!0)}update(){let m=this.elem,C=this.prop,_=this.now,I=this.options.step;this[C+"Setter"]?this[C+"Setter"]():m.attr?m.element&&m.attr(C,_,null,!0):m.style[C]=_+this.unit,I&&I.call(m,_,this)}run(m,C,_){let I=this,D=I.options,N=function(Q){return!N.stopped&&I.step(Q)},V=ta.requestAnimationFrame||function(Q){setTimeout(Q,13)},q=function(){for(let Q=0;Q<Vs.timers.length;Q++)Vs.timers[Q]()||Vs.timers.splice(Q--,1);Vs.timers.length&&V(q)};m!==C||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=m,this.end=C,this.unit=_,this.now=this.start,this.pos=0,N.elem=this.elem,N.prop=this.prop,N()&&Vs.timers.push(N)===1&&V(q)):(delete D.curAnim[this.prop],D.complete&&Object.keys(D.curAnim).length===0&&D.complete.call(this.elem))}step(m){let C,_,I=+new Date,D=this.options,N=this.elem,V=D.complete,q=D.duration,Q=D.curAnim;return N.attr&&!N.element?C=!1:m||I>=q+this.startTime?(this.now=this.end,this.pos=1,this.update(),Q[this.prop]=!0,_=!0,jo(Q,function(ce){ce!==!0&&(_=!1)}),_&&V&&V.call(N),C=!1):(this.pos=D.easing((I-this.startTime)/q),this.now=this.start+(this.end-this.start)*this.pos,this.update(),C=!0),C}initPath(m,C,_){let I=m.startX,D=m.endX,N=_.slice(),V=m.isArea,q=V?2:1,Q=C&&_.length>C.length&&_.hasStackedCliffs,ce,ne,he,ye,Ee=C==null?void 0:C.slice();if(!Ee||Q)return[N,N];function Ne(Me,ze){for(;Me.length<ne;){let Ye=Me[0],Nt=ze[ne-Me.length];if(Nt&&Ye[0]==="M"&&(Nt[0]==="C"?Me[0]=["C",Ye[1],Ye[2],Ye[1],Ye[2],Ye[1],Ye[2]]:Me[0]=["L",Ye[1],Ye[2]]),Me.unshift(Ye),V){let Tt=Me.pop();Me.push(Me[Me.length-1],Tt)}}}function Le(Me){for(;Me.length<ne;){let ze=Me[Math.floor(Me.length/q)-1].slice();if(ze[0]==="C"&&(ze[1]=ze[5],ze[2]=ze[6]),V){let Ye=Me[Math.floor(Me.length/q)].slice();Me.splice(Me.length/2,0,ze,Ye)}else Me.push(ze)}}if(I&&D&&D.length){for(he=0;he<I.length;he++)if(I[he]===D[0]){ce=he;break}else if(I[0]===D[D.length-I.length+he]){ce=he,ye=!0;break}else if(I[I.length-1]===D[D.length-I.length+he]){ce=I.length-he;break}ce===void 0&&(Ee=[])}return Ee.length&&dr(ce)&&(ne=N.length+ce*q,ye?(Ne(Ee,N),Le(N)):(Ne(N,Ee),Le(Ee))),[Ee,N]}fillSetter(){Vs.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,fa(this.start).tweenTo(fa(this.end),this.pos),void 0,!0)}}Vs.timers=[];let{defined:bc,getStyle:Vc,isArray:td,isNumber:zo,isObject:tc,merge:sl,objectEach:ep,pick:Wl}=vn;function kd(ee){return tc(ee)?sl({duration:500,defer:0},ee):{duration:500*!!ee,defer:0}}function Ur(ee,m){let C=Vs.timers.length;for(;C--;)Vs.timers[C].elem!==ee||m&&m!==Vs.timers[C].prop||(Vs.timers[C].stopped=!0)}let Ia={animate:function(ee,m,C){let _,I="",D,N,V;tc(C)||(V=arguments,C={duration:V[2],easing:V[3],complete:V[4]}),zo(C.duration)||(C.duration=400),C.easing=typeof C.easing=="function"?C.easing:Math[C.easing]||Math.easeInOutSine,C.curAnim=sl(m),ep(m,function(q,Q){Ur(ee,Q),N=new Vs(ee,C,Q),D=void 0,Q==="d"&&td(m.d)?(N.paths=N.initPath(ee,ee.pathArray,m.d),N.toD=m.d,_=0,D=1):ee.attr?_=ee.attr(Q):(_=parseFloat(Vc(ee,Q))||0,Q!=="opacity"&&(I="px")),D||(D=q),typeof D=="string"&&D.match("px")&&(D=D.replace(/px/g,"")),N.run(_,D,I)})},animObject:kd,getDeferredAnimation:function(ee,m,C){let _=kd(m),I=C?[C]:ee.series,D=0,N=0;return I.forEach(V=>{let q=kd(V.options.animation);D=tc(m)&&bc(m.defer)?_.defer:Math.max(D,q.duration+q.defer),N=Math.min(_.duration,q.duration)}),ee.renderer.forExport&&(D=0),{defer:Math.max(0,D-N),duration:Math.min(D,N)}},setAnimation:function(ee,m){m.renderer.globalAnimation=Wl(ee,m.options.chart.animation,!0)},stop:Ur},{SVG_NS:Dd,win:nd}=Ie,{attr:Qc,createElement:dl,css:od,error:Md,isFunction:yo,isString:tp,objectEach:uh,splat:Vh}=vn,{trustedTypes:Jr}=nd,Fh=Jr&&yo(Jr.createPolicy)&&Jr.createPolicy("highcharts",{createHTML:ee=>ee}),Fc=Fh?Fh.createHTML(""):"";class Ar{static filterUserAttributes(m){return uh(m,(C,_)=>{let I=!0;Ar.allowedAttributes.indexOf(_)===-1&&(I=!1),["background","dynsrc","href","lowsrc","src"].indexOf(_)!==-1&&(I=tp(C)&&Ar.allowedReferences.some(D=>C.indexOf(D)===0)),I||(Md(33,!1,void 0,{"Invalid attribute in config":`${_}`}),delete m[_]),tp(C)&&m[_]&&(m[_]=C.replace(/</g,"&lt;"))}),m}static parseStyle(m){return m.split(";").reduce((C,_)=>{let I=_.split(":").map(N=>N.trim()),D=I.shift();return D&&I.length&&(C[D.replace(/-([a-z])/g,N=>N[1].toUpperCase())]=I.join(":")),C},{})}static setElementHTML(m,C){m.innerHTML=Ar.emptyHTML,C&&new Ar(C).addToDOM(m)}constructor(m){this.nodes=typeof m=="string"?this.parseMarkup(m):m}addToDOM(m){return(function C(_,I){let D;return Vh(_).forEach(function(N){let V,q=N.tagName,Q=N.textContent?Ie.doc.createTextNode(N.textContent):void 0,ce=Ar.bypassHTMLFiltering;if(q)if(q==="#text")V=Q;else if(Ar.allowedTags.indexOf(q)!==-1||ce){let ne=q==="svg"?Dd:I.namespaceURI||Dd,he=Ie.doc.createElementNS(ne,q),ye=N.attributes||{};uh(N,function(Ee,Ne){Ne!=="tagName"&&Ne!=="attributes"&&Ne!=="children"&&Ne!=="style"&&Ne!=="textContent"&&(ye[Ne]=Ee)}),Qc(he,ce?ye:Ar.filterUserAttributes(ye)),N.style&&od(he,N.style),Q&&he.appendChild(Q),C(N.children||[],he),V=he}else Md(33,!1,void 0,{"Invalid tagName in config":q});V&&I.appendChild(V),D=V}),D})(this.nodes,m)}parseMarkup(m){let C,_=[];m=m.trim().replace(/ style=(["'])/g," data-style=$1");try{C=new DOMParser().parseFromString(Fh?Fh.createHTML(m):m,"text/html")}catch{}if(!C){let D=dl("div");D.innerHTML=m,C={body:D}}let I=(D,N)=>{let V=D.nodeName.toLowerCase(),q={tagName:V};V==="#text"&&(q.textContent=D.textContent||"");let Q=D.attributes;if(Q){let ce={};[].forEach.call(Q,ne=>{ne.name==="data-style"?q.style=Ar.parseStyle(ne.value):ce[ne.name]=ne.value}),q.attributes=ce}if(D.childNodes.length){let ce=[];[].forEach.call(D.childNodes,ne=>{I(ne,ce)}),ce.length&&(q.children=ce)}N.push(q)};return[].forEach.call(C.body.childNodes,D=>I(D,_)),_}}Ar.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","disabled","dx","dy","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","result","role","rowspan","scope","slope","src","startOffset","stdDeviation","stroke-linecap","stroke-width","stroke","style","summary","tabindex","tableValues","target","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],Ar.allowedReferences=["https://","http://","mailto:","/","../","./","#"],Ar.allowedTags=["#text","a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","tbody","td","text","textPath","th","thead","title","tr","tspan","u","ul"],Ar.emptyHTML=Fc,Ar.bypassHTMLFiltering=!1;let{defaultOptions:xu,defaultTime:dh}=To,{pageLang:Rc}=Ie,{extend:Vi,getNestedProperty:yc,isArray:rl,isNumber:Lp,isObject:km,isString:kc,pick:eu,ucfirst:Ou}=vn,Hh={add:(ee,m)=>ee+m,divide:(ee,m)=>m!==0?ee/m:"",eq:(ee,m)=>ee==m,each:function(ee){let m=arguments[arguments.length-1];return!!rl(ee)&&ee.map((C,_)=>Wi(m.body,Vi(km(C)?C:{"@this":C},{"@index":_,"@first":_===0,"@last":_===ee.length-1}))).join("")},ge:(ee,m)=>ee>=m,gt:(ee,m)=>ee>m,if:ee=>!!ee,le:(ee,m)=>ee<=m,lt:(ee,m)=>ee<m,multiply:(ee,m)=>ee*m,ne:(ee,m)=>ee!=m,subtract:(ee,m)=>ee-m,ucfirst:Ou,unless:ee=>!ee},na={},Ss=ee=>/^["'].+["']$/.test(ee);function Wi(ee="",m,C){var Le;let _=/\{([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'’= #\(\)]+)\}/g,I=/\(([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= ]+)\)/g,D=[],N=/f$/,V=/\.(\d)/,q=((Le=C==null?void 0:C.options)==null?void 0:Le.lang)||xu.lang,Q=(C==null?void 0:C.time)||dh,ce=(C==null?void 0:C.numberFormatter)||kl.bind(C),ne=(Me="")=>{let ze;return Me==="true"||Me!=="false"&&((ze=Number(Me)).toString()===Me?ze:Ss(Me)?Me.slice(1,-1):yc(Me,m))},he,ye,Ee=0,Ne;for(;(he=_.exec(ee))!==null;){let Me=he,ze=I.exec(he[1]);ze&&(he=ze,Ne=!0),ye!=null&&ye.isBlock||(ye={ctx:m,expression:he[1],find:he[0],isBlock:he[1].charAt(0)==="#",start:he.index,startInner:he.index+he[0].length,length:he[0].length});let Ye=(ye.isBlock?Me:he)[1].split(" ")[0].replace("#","");Hh[Ye]&&(ye.isBlock&&Ye===ye.fn&&Ee++,ye.fn||(ye.fn=Ye));let Nt=he[1]==="else";if(ye.isBlock&&ye.fn&&(he[1]===`/${ye.fn}`||Nt))if(Ee)!Nt&&Ee--;else{let Tt=ye.startInner,It=ee.substr(Tt,he.index-Tt);ye.body===void 0?(ye.body=It,ye.startInner=he.index+he[0].length):ye.elseBody=It,ye.find+=It+he[0],Nt||(D.push(ye),ye=void 0)}else ye.isBlock||D.push(ye);if(ze&&!(ye!=null&&ye.isBlock))break}return D.forEach(Me=>{let ze,Ye,{body:Nt,elseBody:Tt,expression:It,fn:bn}=Me;if(bn){let Ft=[Me],gn=[],Pn=It.length,ao=0,Vo;for(Ye=0;Ye<=Pn;Ye++){let qo=It.charAt(Ye);Vo||qo!=='"'&&qo!=="'"?Vo===qo&&(Vo=""):Vo=qo,Vo||qo!==" "&&Ye!==Pn||(gn.push(It.substr(ao,Ye-ao)),ao=Ye+1)}for(Ye=Hh[bn].length;Ye--;)Ft.unshift(ne(gn[Ye+1]));ze=Hh[bn].apply(m,Ft),Me.isBlock&&typeof ze=="boolean"&&(ze=Wi(ze?Nt:Tt,m,C))}else{let Ft=Ss(It)?[It]:It.split(":"),gn=(ze=ne(Ft.shift()||""))%1!=0;if(typeof ze=="number"&&(Ft.length||gn)){let Pn=Ft.join(":");if(N.test(Pn)||gn){let ao=parseInt((Pn.match(V)||["","-1"])[1],10);ze!==null&&(ze=ce(ze,ao,q.decimalPoint,Pn.indexOf(",")>-1?q.thousandsSep:""))}else ze=Q.dateFormat(Pn,ze)}I.lastIndex=0,I.test(Me.find)&&kc(ze)&&(ze=`"${ze}"`)}ee=ee.replace(Me.find,eu(ze,""))}),Ne?Wi(ee,m,C):ee}function kl(ee,m,C,_){var Ne;m*=1;let I,D,[N,V]=(ee=+ee||0).toString().split("e").map(Number),q=((Ne=this==null?void 0:this.options)==null?void 0:Ne.lang)||xu.lang,Q=(ee.toString().split(".")[1]||"").split("e")[0].length,ce=m,ne={};C??(C=q.decimalPoint),_??(_=q.thousandsSep),m===-1?m=Math.min(Q,20):Lp(m)?m&&V<0&&((D=m+V)>=0?(N=+N.toExponential(D).split("e")[0],m=D):(N=Math.floor(N),ee=m<20?+(N*Math.pow(10,V)).toFixed(m):0,V=0)):m=2,V&&(m??(m=2),ee=N),Lp(m)&&m>=0&&(ne.minimumFractionDigits=m,ne.maximumFractionDigits=m),_===""&&(ne.useGrouping=!1);let he=_||C,ye=he?"en":(this==null?void 0:this.locale)||q.locale||Rc,Ee=JSON.stringify(ne)+ye;return I=(na[Ee]??(na[Ee]=new Intl.NumberFormat(ye,ne))).format(ee),he&&(I=I.replace(/([,\.])/g,"_$1").replace(/_\,/g,_??",").replace("_.",C??".")),(m||+I!=0)&&(!(V<0)||ce)||(I="0"),V&&+I!=0&&(I+="e"+(V<0?"":"+")+V),I}let Lr={dateFormat:function(ee,m,C){return dh.dateFormat(ee,m,C)},format:Wi,helpers:Hh,numberFormat:kl};(function(ee){let m;ee.rendererTypes={},ee.getRendererType=function(C=m){return ee.rendererTypes[C]||ee.rendererTypes[m]},ee.registerRendererType=function(C,_,I){ee.rendererTypes[C]=_,(!m||I)&&(m=C,Ie.Renderer=_)}})(d||(d={}));let hh=d,{clamp:np,pick:wi,pushUnique:Sc,stableSort:Hc}=vn;(p||(p={})).distribute=function ee(m,C,_){let I=m,D=I.reducedLen||C,N=(Ye,Nt)=>Ye.target-Nt.target,V=[],q=m.length,Q=[],ce=V.push,ne,he,ye,Ee=!0,Ne,Le,Me=0,ze;for(ne=q;ne--;)Me+=m[ne].size;if(Me>D){for(Hc(m,(Ye,Nt)=>(Nt.rank||0)-(Ye.rank||0)),ye=(ze=m[0].rank===m[m.length-1].rank)?q/2:-1,he=ze?ye:q-1;ye&&Me>D;)Ne=m[ne=Math.floor(he)],Sc(Q,ne)&&(Me-=Ne.size),he+=ye,ze&&he>=m.length&&(ye/=2,he=ye);Q.sort((Ye,Nt)=>Nt-Ye).forEach(Ye=>ce.apply(V,m.splice(Ye,1)))}for(Hc(m,N),m=m.map(Ye=>({size:Ye.size,targets:[Ye.target],align:wi(Ye.align,.5)}));Ee;){for(ne=m.length;ne--;)Ne=m[ne],Le=(Math.min.apply(0,Ne.targets)+Math.max.apply(0,Ne.targets))/2,Ne.pos=np(Le-Ne.size*Ne.align,0,C-Ne.size);for(ne=m.length,Ee=!1;ne--;)ne>0&&m[ne-1].pos+m[ne-1].size>m[ne].pos&&(m[ne-1].size+=m[ne].size,m[ne-1].targets=m[ne-1].targets.concat(m[ne].targets),m[ne-1].align=.5,m[ne-1].pos+m[ne-1].size>C&&(m[ne-1].pos=C-m[ne-1].size),m.splice(ne,1),Ee=!0)}return ce.apply(I,V),ne=0,m.some(Ye=>{let Nt=0;return(Ye.targets||[]).some(()=>(I[ne].pos=Ye.pos+Nt,_!==void 0&&Math.abs(I[ne].pos-I[ne].target)>_?(I.slice(0,ne+1).forEach(Tt=>delete Tt.pos),I.reducedLen=(I.reducedLen||C)-.1*C,I.reducedLen>.1*C&&ee(I,C,_),!0):(Nt+=I[ne].size,ne++,!1)))}),Hc(I,N),I};let pf=p,{animate:vo,animObject:Iu,stop:Dl}=Ia,{deg2rad:Cc,doc:Bi,svg:Dm,SVG_NS:Gl,win:tu,isFirefox:op}=Ie,{addEvent:mf,attr:sd,createElement:sp,crisp:Pd,css:Nd,defined:Ec,erase:co,extend:Ru,fireEvent:$h,getAlignFactor:Be,isArray:rt,isFunction:Ot,isNumber:mn,isObject:io,isString:Mo,merge:hr,objectEach:Fs,pick:_r,pInt:we,pushUnique:$e,replaceNested:ut,syncTimeout:Zt,uniqueKey:ko}=vn;class Hs{_defaultGetter(m){let C=_r(this[m+"Value"],this[m],this.element?this.element.getAttribute(m):null,0);return/^-?[\d\.]+$/.test(C)&&(C=parseFloat(C)),C}_defaultSetter(m,C,_){_.setAttribute(C,m)}add(m){let C,_=this.renderer,I=this.element;return m&&(this.parentGroup=m),this.textStr!==void 0&&this.element.nodeName==="text"&&_.buildText(this),this.added=!0,(!m||m.handleZ||this.zIndex)&&(C=this.zIndexSetter()),C||(m?m.element:_.box).appendChild(I),this.onAdd&&this.onAdd(),this}addClass(m,C){let _=C?"":this.attr("class")||"";return(m=(m||"").split(/ /g).reduce(function(I,D){return _.indexOf(D)===-1&&I.push(D),I},_?[_]:[]).join(" "))!==_&&this.attr("class",m),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(m,C,_,I=!0){let D=this.renderer,N=D.alignedObjects,V=!!m;m?(this.alignOptions=m,this.alignByTranslate=C,this.alignTo=_):(m=this.alignOptions||{},C=this.alignByTranslate,_=this.alignTo);let q=!_||Mo(_)?_||"renderer":void 0;q&&(V&&$e(N,this),_=void 0);let Q=_r(_,D[q],D),ce=(Q.x||0)+(m.x||0)+((Q.width||0)-(m.width||0))*Be(m.align),ne=(Q.y||0)+(m.y||0)+((Q.height||0)-(m.height||0))*Be(m.verticalAlign),he={"text-align":m==null?void 0:m.align};return he[C?"translateX":"x"]=Math.round(ce),he[C?"translateY":"y"]=Math.round(ne),I&&(this[this.placed?"animate":"attr"](he),this.placed=!0),this.alignAttr=he,this}alignSetter(m){let C={left:"start",center:"middle",right:"end"};C[m]&&(this.alignValue=m,this.element.setAttribute("text-anchor",C[m]))}animate(m,C,_){let I=Iu(_r(C,this.renderer.globalAnimation,!0)),D=I.defer;return Bi.hidden&&(I.duration=0),I.duration!==0?(_&&(I.complete=_),Zt(()=>{this.element&&vo(this,m,I)},D)):(this.attr(m,void 0,_||I.complete),Fs(m,function(N,V){I.step&&I.step.call(this,N,{prop:V,pos:1,elem:this})},this)),this}applyTextOutline(m){let C=this.element;m.indexOf("contrast")!==-1&&(m=m.replace(/contrast/g,this.renderer.getContrast(C.style.fill)));let _=m.indexOf(" "),I=m.substring(_+1),D=m.substring(0,_);if(D&&D!=="none"&&Ie.svg){this.fakeTS=!0,D=D.replace(/(^[\d\.]+)(.*?)$/g,function(ce,ne,he){return 2*Number(ne)+he}),this.removeTextOutline();let N=Bi.createElementNS(Gl,"tspan");sd(N,{class:"highcharts-text-outline",fill:I,stroke:I,"stroke-width":D,"stroke-linejoin":"round"});let V=C.querySelector("textPath")||C;[].forEach.call(V.childNodes,ce=>{let ne=ce.cloneNode(!0);ne.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(he=>ne.removeAttribute(he)),N.appendChild(ne)});let q=0;[].forEach.call(V.querySelectorAll("text tspan"),ce=>{q+=Number(ce.getAttribute("dy"))});let Q=Bi.createElementNS(Gl,"tspan");Q.textContent="​",sd(Q,{x:Number(C.getAttribute("x")),dy:-q}),N.appendChild(Q),V.insertBefore(N,V.firstChild)}}attr(m,C,_,I){let{element:D}=this,N=Hs.symbolCustomAttribs,V,q,Q=this,ce;return typeof m=="string"&&C!==void 0&&(V=m,(m={})[V]=C),typeof m=="string"?Q=(this[m+"Getter"]||this._defaultGetter).call(this,m,D):(Fs(m,function(ne,he){ce=!1,I||Dl(this,he),this.symbolName&&N.indexOf(he)!==-1&&(q||(this.symbolAttr(m),q=!0),ce=!0),this.rotation&&(he==="x"||he==="y")&&(this.doTransform=!0),ce||(this[he+"Setter"]||this._defaultSetter).call(this,ne,he,D)},this),this.afterSetters()),_&&_.call(this),Q}clip(m){if(m&&!m.clipPath){let C=ko()+"-",_=this.renderer.createElement("clipPath").attr({id:C}).add(this.renderer.defs);Ru(m,{clipPath:_,id:C,count:0}),m.add(_)}return this.attr("clip-path",m?`url(${this.renderer.url}#${m.id})`:"none")}crisp(m,C){C=Math.round(C||m.strokeWidth||0);let _=m.x||this.x||0,I=m.y||this.y||0,D=(m.width||this.width||0)+_,N=(m.height||this.height||0)+I,V=Pd(_,C),q=Pd(I,C);return Ru(m,{x:V,y:q,width:Pd(D,C)-V,height:Pd(N,C)-q}),Ec(m.strokeWidth)&&(m.strokeWidth=C),m}complexColor(m,C,_){let I=this.renderer,D,N,V,q,Q,ce,ne,he,ye,Ee,Ne=[],Le;$h(this.renderer,"complexColor",{args:arguments},function(){if(m.radialGradient?N="radialGradient":m.linearGradient&&(N="linearGradient"),N){if(V=m[N],Q=I.gradients,ce=m.stops,ye=_.radialReference,rt(V)&&(m[N]=V={x1:V[0],y1:V[1],x2:V[2],y2:V[3],gradientUnits:"userSpaceOnUse"}),N==="radialGradient"&&ye&&!Ec(V.gradientUnits)&&(q=V,V=hr(V,I.getRadialAttr(ye,q),{gradientUnits:"userSpaceOnUse"})),Fs(V,function(Me,ze){ze!=="id"&&Ne.push(ze,Me)}),Fs(ce,function(Me){Ne.push(Me)}),Q[Ne=Ne.join(",")])Ee=Q[Ne].attr("id");else{V.id=Ee=ko();let Me=Q[Ne]=I.createElement(N).attr(V).add(I.defs);Me.radAttr=q,Me.stops=[],ce.forEach(function(ze){ze[1].indexOf("rgba")===0?(ne=(D=Nr.parse(ze[1])).get("rgb"),he=D.get("a")):(ne=ze[1],he=1);let Ye=I.createElement("stop").attr({offset:ze[0],"stop-color":ne,"stop-opacity":he}).add(Me);Me.stops.push(Ye)})}Le="url("+I.url+"#"+Ee+")",_.setAttribute(C,Le),_.gradient=Ne,m.toString=function(){return Le}}})}css(m){let C=this.styles,_={},I=this.element,D,N=!C;if(C&&Fs(m,function(V,q){C&&C[q]!==V&&(_[q]=V,N=!0)}),N){C&&(m=Ru(C,_)),m.width===null||m.width==="auto"?delete this.textWidth:I.nodeName.toLowerCase()==="text"&&m.width&&(D=this.textWidth=we(m.width)),Ru(this.styles,m),D&&!Dm&&this.renderer.forExport&&delete m.width;let V=op&&m.fontSize||null;V&&(mn(V)||/^\d+$/.test(V))&&(m.fontSize+="px");let q=hr(m);I.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(Q=>q&&delete q[Q]),q.color&&(q.fill=q.color,delete q.color)),Nd(I,q)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),m.textOutline&&this.applyTextOutline(m.textOutline)),this}dashstyleSetter(m){let C,_=this["stroke-width"];if(_==="inherit"&&(_=1),m){let I=(m=m.toLowerCase()).replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(C=I.length;C--;)I[C]=""+we(I[C])*_r(_,NaN);m=I.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",m)}}destroy(){let m=this,C=m.element||{},_=m.renderer,I=C.ownerSVGElement,D=C.nodeName==="SPAN"&&m.parentGroup||void 0,N,V;if(C.onclick=C.onmouseout=C.onmouseover=C.onmousemove=C.point=null,Dl(m),m.clipPath&&I){let q=m.clipPath;[].forEach.call(I.querySelectorAll("[clip-path],[CLIP-PATH]"),function(Q){Q.getAttribute("clip-path").indexOf(q.element.id)>-1&&Q.removeAttribute("clip-path")}),m.clipPath=q.destroy()}if(m.stops){for(V=0;V<m.stops.length;V++)m.stops[V].destroy();m.stops.length=0,m.stops=void 0}for(m.safeRemoveChild(C);D!=null&&D.div&&D.div.childNodes.length===0;)N=D.parentGroup,m.safeRemoveChild(D.div),delete D.div,D=N;m.alignOptions&&co(_.alignedObjects,m),Fs(m,(q,Q)=>{var ce,ne,he;(((ce=m[Q])==null?void 0:ce.parentGroup)===m||["connector","foreignObject"].indexOf(Q)!==-1)&&((he=(ne=m[Q])==null?void 0:ne.destroy)==null||he.call(ne)),delete m[Q]})}dSetter(m,C,_){rt(m)&&(typeof m[0]=="string"&&(m=this.renderer.pathToSegments(m)),this.pathArray=m,m=m.reduce((I,D,N)=>D!=null&&D.join?(N?I+" ":"")+D.join(" "):(D||"").toString(),"")),/(NaN| {2}|^$)/.test(m)&&(m="M 0 0"),this[C]!==m&&(_.setAttribute(C,m),this[C]=m)}fillSetter(m,C,_){typeof m=="string"?_.setAttribute(C,m):m&&this.complexColor(m,C,_)}hrefSetter(m,C,_){_.setAttributeNS("http://www.w3.org/1999/xlink",C,m)}getBBox(m,C){let _,I,D,N,{alignValue:V,element:q,renderer:Q,styles:ce,textStr:ne}=this,{cache:he,cacheKeys:ye}=Q,Ee=q.namespaceURI===this.SVG_NS,Ne=_r(C,this.rotation,0),Le=Q.styledMode?q&&Hs.prototype.getStyle.call(q,"font-size"):ce.fontSize;if(Ec(ne)&&((N=ne.toString()).indexOf("<")===-1&&(N=N.replace(/\d/g,"0")),N+=["",Q.rootFontSize,Le,Ne,this.textWidth,V,ce.lineClamp,ce.textOverflow,ce.fontWeight].join(",")),N&&!m&&(_=he[N]),!_||_.polygon){if(Ee||Q.forExport){try{D=this.fakeTS&&function(ze){let Ye=q.querySelector(".highcharts-text-outline");Ye&&Nd(Ye,{display:ze})},Ot(D)&&D("none"),_=q.getBBox?Ru({},q.getBBox()):{width:q.offsetWidth,height:q.offsetHeight,x:0,y:0},Ot(D)&&D("")}catch{}(!_||_.width<0)&&(_={x:0,y:0,width:0,height:0})}else _=this.htmlGetBBox();I=_.height,Ee&&(_.height=I={"11px,17":14,"13px,20":16}[`${Le||""},${Math.round(I)}`]||I),Ne&&(_=this.getRotatedBox(_,Ne));let Me={bBox:_};$h(this,"afterGetBBox",Me),_=Me.bBox}if(N&&(ne===""||_.height>0)){for(;ye.length>250;)delete he[ye.shift()];he[N]||ye.push(N),he[N]=_}return _}getRotatedBox(m,C){let{x:_,y:I,width:D,height:N}=m,{alignValue:V,translateY:q,rotationOriginX:Q=0,rotationOriginY:ce=0}=this,ne=Be(V),he=Number(this.element.getAttribute("y")||0)-(q?0:I),ye=C*Cc,Ee=(C-90)*Cc,Ne=Math.cos(ye),Le=Math.sin(ye),Me=D*Ne,ze=D*Le,Ye=Math.cos(Ee),Nt=Math.sin(Ee),[[Tt,It],[bn,Ft]]=[Q,ce].map(hi=>[hi-hi*Ne,hi*Le]),gn=_+ne*(D-Me)+Tt+Ft+he*Ye,Pn=gn+Me,ao=Pn-N*Ye,Vo=ao-Me,qo=I+he-ne*ze-It+bn+he*Nt,Us=qo+ze,bs=Us-N*Nt,zs=bs-ze,us=Math.min(gn,Pn,ao,Vo),or=Math.min(qo,Us,bs,zs),jr=Math.max(gn,Pn,ao,Vo)-us,Di=Math.max(qo,Us,bs,zs)-or;return{x:us,y:or,width:jr,height:Di,polygon:[[gn,qo],[Pn,Us],[ao,bs],[Vo,zs]]}}getStyle(m){return tu.getComputedStyle(this.element||this,"").getPropertyValue(m)}hasClass(m){return(""+this.attr("class")).split(" ").indexOf(m)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(m,C){this.onEvents={},this.opacity=1,this.SVG_NS=Gl,this.element=C==="span"||C==="body"?sp(C):Bi.createElementNS(this.SVG_NS,C),this.renderer=m,this.styles={},$h(this,"afterInit")}on(m,C){let{onEvents:_}=this;return _[m]&&_[m](),_[m]=mf(this.element,m,C),this}opacitySetter(m,C,_){let I=Number(Number(m).toFixed(3));this.opacity=I,_.setAttribute(C,I)}reAlign(){var m;(m=this.alignOptions)!=null&&m.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(m){return this.attr("class",(""+this.attr("class")).replace(Mo(m)?RegExp(`(^| )${m}( |$)`):m," ").replace(/ +/g," ").trim())}removeTextOutline(){let m=this.element.querySelector("tspan.highcharts-text-outline");m&&this.safeRemoveChild(m)}safeRemoveChild(m){let C=m.parentNode;C&&C.removeChild(m)}setRadialReference(m){let C=this.element.gradient&&this.renderer.gradients[this.element.gradient]||void 0;return this.element.radialReference=m,C!=null&&C.radAttr&&C.animate(this.renderer.getRadialAttr(m,C.radAttr)),this}shadow(m){var D;let{renderer:C}=this,_=hr(((D=this.parentGroup)==null?void 0:D.rotation)===90?{offsetX:-1,offsetY:-1}:{},io(m)?m:{}),I=C.shadowDefinition(_);return this.attr({filter:m?`url(${C.url}#${I})`:"none"})}show(m=!0){return this.attr({visibility:m?"inherit":"visible"})}"stroke-widthSetter"(m,C,_){this[C]=m,_.setAttribute(C,m)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let m=this.getStyle("stroke-width"),C=0,_;return/px$/.test(m)?C=we(m):m!==""&&(sd(_=Bi.createElementNS(Gl,"rect"),{width:m,"stroke-width":0}),this.element.parentNode.appendChild(_),C=_.getBBox().width,_.parentNode.removeChild(_)),C}symbolAttr(m){let C=this;Hs.symbolCustomAttribs.forEach(function(_){C[_]=_r(m[_],C[_])}),C.attr({d:C.renderer.symbols[C.symbolName](C.x,C.y,C.width,C.height,C)})}textSetter(m){m!==this.textStr&&(delete this.textPxLength,this.textStr=m,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(m){let C=this.element,_=C.getElementsByTagName("title")[0]||Bi.createElementNS(this.SVG_NS,"title");C.insertBefore?C.insertBefore(_,C.firstChild):C.appendChild(_),_.textContent=ut(_r(m,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let m=this.element;return m.parentNode.appendChild(m),this}translate(m,C){return this.attr({translateX:m,translateY:C})}updateTransform(m="transform"){let{element:C,foreignObject:_,matrix:I,padding:D,rotation:N=0,rotationOriginX:V,rotationOriginY:q,scaleX:Q,scaleY:ce,text:ne,translateX:he=0,translateY:ye=0}=this,Ee=["translate("+he+","+ye+")"];Ec(I)&&Ee.push("matrix("+I.join(",")+")"),N&&(Ee.push("rotate("+N+" "+(V??C.getAttribute("x")??this.x??0)+" "+(q??C.getAttribute("y")??this.y??0)+")"),(ne==null?void 0:ne.element.tagName)!=="SPAN"||ne!=null&&ne.foreignObject||ne.attr({rotation:N,rotationOriginX:(V||0)-D,rotationOriginY:(q||0)-D})),(Ec(Q)||Ec(ce))&&Ee.push("scale("+_r(Q,1)+" "+_r(ce,1)+")"),Ee.length&&!(ne||this).textPath&&((_==null?void 0:_.element)||C).setAttribute(m,Ee.join(" "))}visibilitySetter(m,C,_){m==="inherit"?_.removeAttribute(C):this[C]!==m&&_.setAttribute(C,m),this[C]=m}xGetter(m){return this.element.nodeName==="circle"&&(m==="x"?m="cx":m==="y"&&(m="cy")),this._defaultGetter(m)}zIndexSetter(m,C){let _=this.renderer,I=this.parentGroup,D=(I||_).element||_.box,N=this.element,V=D===_.box,q,Q,ce,ne=!1,he,ye=this.added,Ee;if(Ec(m)?(N.setAttribute("data-z-index",m),m*=1,this[C]===m&&(ye=!1)):Ec(this[C])&&N.removeAttribute("data-z-index"),this[C]=m,ye){for((m=this.zIndex)&&I&&(I.handleZ=!0),Ee=(q=D.childNodes).length-1;Ee>=0&&!ne;Ee--)he=!Ec(ce=(Q=q[Ee]).getAttribute("data-z-index")),Q!==N&&(m<0&&he&&!V&&!Ee?(D.insertBefore(N,q[Ee]),ne=!0):(we(ce)<=m||he&&(!Ec(m)||m>=0))&&(D.insertBefore(N,q[Ee+1]),ne=!0));ne||(D.insertBefore(N,q[3*!!V]),ne=!0)}return ne}}Hs.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],Hs.prototype.strokeSetter=Hs.prototype.fillSetter,Hs.prototype.yGetter=Hs.prototype.xGetter,Hs.prototype.matrixSetter=Hs.prototype.rotationOriginXSetter=Hs.prototype.rotationOriginYSetter=Hs.prototype.rotationSetter=Hs.prototype.scaleXSetter=Hs.prototype.scaleYSetter=Hs.prototype.translateXSetter=Hs.prototype.translateYSetter=Hs.prototype.verticalAlignSetter=function(ee,m){this[m]=ee,this.doTransform=!0};let L=Hs,{defined:X,extend:de,getAlignFactor:ge,isNumber:xe,merge:Pe,pick:je,removeEvent:xt}=vn;class St extends L{constructor(m,C,_,I,D,N,V,q,Q,ce){let ne;super(m,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=C,this.x=_,this.y=I,this.anchorX=N,this.anchorY=V,this.baseline=Q,this.className=ce,this.addClass(ce==="button"?"highcharts-no-tooltip":"highcharts-label"),ce&&this.addClass("highcharts-"+ce),this.text=m.text(void 0,0,0,q).attr({zIndex:1}),typeof D=="string"&&((ne=/^url\((.*?)\)$/.test(D))||this.renderer.symbols[D])&&(this.symbolKey=D),this.bBox=St.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=m.styledMode||ne,this.deferredAttr={},this.alignFactor=0}alignSetter(m){let C=ge(m);this.textAlign=m,C!==this.alignFactor&&(this.alignFactor=C,this.bBox&&xe(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(m,C){this.anchorX=m,this.boxAttr(C,Math.round(m)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(m,C){this.anchorY=m,this.boxAttr(C,m-this.ySetting)}boxAttr(m,C){this.box?this.box.attr(m,C):this.deferredAttr[m]=C}css(m){if(m){let C={};m=Pe(m),St.textProps.forEach(_=>{m[_]!==void 0&&(C[_]=m[_],delete m[_])}),this.text.css(C),"fontSize"in C||"fontWeight"in C?this.updateTextPadding():("width"in C||"textOverflow"in C)&&this.updateBoxSize()}return L.prototype.css.call(this,m)}destroy(){xt(this.element,"mouseenter"),xt(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),L.prototype.destroy.call(this)}fillSetter(m,C){m&&(this.needsBox=!0),this.fill=m,this.boxAttr(C,m)}getBBox(m,C){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:_,height:I=0,translateX:D=0,translateY:N=0,width:V=0}=this,q=je(this.paddingLeft,_),Q=C??(this.rotation||0),ce={width:V,height:I,x:D+this.bBox.x-q,y:N+this.bBox.y-_+this.baselineOffset};return Q&&(ce=this.getRotatedBox(ce,Q)),ce}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(m){this.heightSetting=m,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:je(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&X(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(m,C){xe(m)?m!==this[C]&&(this[C]=m,this.updateTextPadding()):this[C]=void 0}rSetter(m,C){this.boxAttr(C,m)}strokeSetter(m,C){this.stroke=m,this.boxAttr(C,m)}"stroke-widthSetter"(m,C){m&&(this.needsBox=!0),this["stroke-width"]=m,this.boxAttr(C,m)}"text-alignSetter"(m){this.textAlign=this["text-align"]=m,this.updateTextPadding()}textSetter(m){m!==void 0&&this.text.attr({text:m}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let m,C=this.text,_={},I=this.padding,D=this.bBox=(!xe(this.widthSetting)||!xe(this.heightSetting)||this.textAlign)&&X(C.textStr)?C.getBBox(void 0,0):St.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||D.height||0)+2*I;let N=this.renderer.fontMetrics(C);if(this.baselineOffset=I+Math.min((this.text.firstLineMetrics||N).b,D.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-N.h)/2),this.needsBox&&!C.textPath){if(!this.box){let V=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();V.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),V.add(this)}_.x=m=this.getCrispAdjust(),_.y=(this.baseline?-this.baselineOffset:0)+m,_.width=Math.round(this.width),_.height=Math.round(this.height),this.box.attr(de(_,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let m=this.text,C=m.styles.textAlign||this.textAlign;if(!m.textPath){this.updateBoxSize();let _=this.baseline?0:this.baselineOffset,I=(this.paddingLeft??this.padding)+ge(C)*(this.widthSetting??this.bBox.width);(I!==m.x||_!==m.y)&&(m.attr({align:C,x:I}),_!==void 0&&m.attr("y",_)),m.x=I,m.y=_}}widthSetter(m){this.widthSetting=xe(m)?m:void 0,this.doUpdate=!0}getPaddedWidth(){let m=this.padding,C=je(this.paddingLeft,m),_=je(this.paddingRight,m);return(this.widthSetting||this.bBox.width||0)+C+_}xSetter(m){this.x=m,this.alignFactor&&(m-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.anchorX&&(this["forceAnimate:anchorX"]=!0),this.xSetting=Math.round(m),this.attr("translateX",this.xSetting)}ySetter(m){this.anchorY&&(this["forceAnimate:anchorY"]=!0),this.ySetting=this.y=Math.round(m),this.attr("translateY",this.ySetting)}}St.emptyBBox={width:0,height:0,x:0,y:0},St.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:Jt,isNumber:Ln,pick:no}=vn;function _n(ee,m,C,_,I){let D=[];if(I){let N=I.start||0,V=I.end||0,q=no(I.r,C),Q=no(I.r,_||C),ce=2e-4/(I.borderRadius?1:Math.max(q,1)),ne=Math.abs(V-N-2*Math.PI)<ce;ne&&(N=Math.PI/2,V=2.5*Math.PI-ce);let he=I.innerR,ye=no(I.open,ne),Ee=Math.cos(N),Ne=Math.sin(N),Le=Math.cos(V),Me=Math.sin(V),ze=no(I.longArc,V-N-Math.PI<ce?0:1),Ye=["A",q,Q,0,ze,no(I.clockwise,1),ee+q*Le,m+Q*Me];Ye.params={start:N,end:V,cx:ee,cy:m},D.push(["M",ee+q*Ee,m+Q*Ne],Ye),Jt(he)&&((Ye=["A",he,he,0,ze,Jt(I.clockwise)?1-I.clockwise:0,ee+he*Ee,m+he*Ne]).params={start:V,end:N,cx:ee,cy:m},D.push(ye?["M",ee+he*Le,m+he*Me]:["L",ee+he*Le,m+he*Me],Ye)),ye||D.push(["Z"])}return D}function Ho(ee,m,C,_,I){return I!=null&&I.r?Rr(ee,m,C,_,I):[["M",ee,m],["L",ee+C,m],["L",ee+C,m+_],["L",ee,m+_],["Z"]]}function Rr(ee,m,C,_,I){let D=(I==null?void 0:I.r)||0;return[["M",ee+D,m],["L",ee+C-D,m],["A",D,D,0,0,1,ee+C,m+D],["L",ee+C,m+_-D],["A",D,D,0,0,1,ee+C-D,m+_],["L",ee+D,m+_],["A",D,D,0,0,1,ee,m+_-D],["L",ee,m+D],["A",D,D,0,0,1,ee+D,m],["Z"]]}let xi={arc:_n,callout:function(ee,m,C,_,I){let D=Math.min((I==null?void 0:I.r)||0,C,_),N=D+6,V=I==null?void 0:I.anchorX,q=(I==null?void 0:I.anchorY)||0,Q=Rr(ee,m,C,_,{r:D});if(!Ln(V)||V<C&&V>0&&q<_&&q>0)return Q;if(ee+V>C-N)if(q>m+N&&q<m+_-N)Q.splice(3,1,["L",ee+C,q-6],["L",ee+C+6,q],["L",ee+C,q+6],["L",ee+C,m+_-D]);else if(V<C){let ce=q<m+N,ne=ce?m:m+_;Q.splice(ce?2:5,0,["L",V,q],["L",ee+C-D,ne])}else Q.splice(3,1,["L",ee+C,_/2],["L",V,q],["L",ee+C,_/2],["L",ee+C,m+_-D]);else if(ee+V<N)if(q>m+N&&q<m+_-N)Q.splice(7,1,["L",ee,q+6],["L",ee-6,q],["L",ee,q-6],["L",ee,m+D]);else if(V>0){let ce=q<m+N,ne=ce?m:m+_;Q.splice(ce?1:6,0,["L",V,q],["L",ee+D,ne])}else Q.splice(7,1,["L",ee,_/2],["L",V,q],["L",ee,_/2],["L",ee,m+D]);else q>_&&V<C-N?Q.splice(5,1,["L",V+6,m+_],["L",V,m+_+6],["L",V-6,m+_],["L",ee+D,m+_]):q<0&&V>N&&Q.splice(1,1,["L",V-6,m],["L",V,m-6],["L",V+6,m],["L",C-D,m]);return Q},circle:function(ee,m,C,_){return _n(ee+C/2,m+_/2,C/2,_/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(ee,m,C,_){return[["M",ee+C/2,m],["L",ee+C,m+_/2],["L",ee+C/2,m+_],["L",ee,m+_/2],["Z"]]},rect:Ho,roundedRect:Rr,square:Ho,triangle:function(ee,m,C,_){return[["M",ee+C/2,m],["L",ee+C,m+_],["L",ee,m+_],["Z"]]},"triangle-down":function(ee,m,C,_){return[["M",ee,m],["L",ee+C,m],["L",ee+C/2,m+_],["Z"]]}},{doc:Gr,SVG_NS:ql,win:Sa}=Ie,{attr:rd,extend:fh,fireEvent:_i,isString:wc,objectEach:Fi,pick:hl}=vn,Bp=(ee,m)=>ee.substring(0,m)+"…",id=class{constructor(ee){let m=ee.styles;this.renderer=ee.renderer,this.svgElement=ee,this.width=ee.textWidth,this.textLineHeight=m==null?void 0:m.lineHeight,this.textOutline=m==null?void 0:m.textOutline,this.ellipsis=(m==null?void 0:m.textOverflow)==="ellipsis",this.lineClamp=m==null?void 0:m.lineClamp,this.noWrap=(m==null?void 0:m.whiteSpace)==="nowrap"}buildSVG(){let ee=this.svgElement,m=ee.element,C=ee.renderer,_=hl(ee.textStr,"").toString(),I=_.indexOf("<")!==-1,D=m.childNodes,N=!ee.added&&C.box,V=[_,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,ee.getStyle("font-size"),ee.styles.lineClamp,this.width].join(",");if(V!==ee.textCache){ee.textCache=V,delete ee.actualWidth;for(let q=D.length;q--;)m.removeChild(D[q]);if(I||this.ellipsis||this.width||ee.textPath||_.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(_))){if(_!==""){N&&N.appendChild(m);let q=new Ar(_);this.modifyTree(q.nodes),q.addToDOM(m),this.modifyDOM(),this.ellipsis&&(m.textContent||"").indexOf("…")!==-1&&ee.attr("title",this.unescapeEntities(ee.textStr||"",["&lt;","&gt;"])),N&&N.removeChild(m)}}else m.appendChild(Gr.createTextNode(this.unescapeEntities(_)));wc(this.textOutline)&&ee.applyTextOutline&&ee.applyTextOutline(this.textOutline)}}modifyDOM(){let ee,m=this.svgElement,C=rd(m.element,"x");for(m.firstLineMetrics=void 0;(ee=m.element.firstChild)&&/^[\s\u200B]*$/.test(ee.textContent||" ");)m.element.removeChild(ee);[].forEach.call(m.element.querySelectorAll("tspan.highcharts-br"),(N,V)=>{N.nextSibling&&N.previousSibling&&(V===0&&N.previousSibling.nodeType===1&&(m.firstLineMetrics=m.renderer.fontMetrics(N.previousSibling)),rd(N,{dy:this.getLineHeight(N.nextSibling),x:C}))});let _=this.width||0;if(!_)return;let I=(N,V)=>{var Ne;let q=N.textContent||"",Q=q.replace(/([^\^])-/g,"$1- ").split(" "),ce=!this.noWrap&&(Q.length>1||m.element.childNodes.length>1),ne=this.getLineHeight(V),he=Math.max(0,_-.8*ne),ye=0,Ee=m.actualWidth;if(ce){let Le=[],Me=[];for(;V.firstChild&&V.firstChild!==N;)Me.push(V.firstChild),V.removeChild(V.firstChild);for(;Q.length;)if(Q.length&&!this.noWrap&&ye>0&&(Le.push(N.textContent||""),N.textContent=Q.join(" ").replace(/- /g,"-")),this.truncate(N,void 0,Q,ye===0&&Ee||0,_,he,(ze,Ye)=>Q.slice(0,Ye).join(" ").replace(/- /g,"-")),Ee=m.actualWidth,ye++,this.lineClamp&&ye>=this.lineClamp){Q.length&&(this.truncate(N,N.textContent||"",void 0,0,_,he,Bp),N.textContent=((Ne=N.textContent)==null?void 0:Ne.replace("…",""))+"…");break}Me.forEach(ze=>{V.insertBefore(ze,N)}),Le.forEach(ze=>{V.insertBefore(Gr.createTextNode(ze),N);let Ye=Gr.createElementNS(ql,"tspan");Ye.textContent="​",rd(Ye,{dy:ne,x:C}),V.insertBefore(Ye,N)})}else this.ellipsis&&q&&this.truncate(N,q,void 0,0,_,he,Bp)},D=N=>{[].slice.call(N.childNodes).forEach(V=>{V.nodeType===Sa.Node.TEXT_NODE?I(V,N):(V.className.baseVal.indexOf("highcharts-br")!==-1&&(m.actualWidth=0),D(V))})};D(m.element)}getLineHeight(ee){let m=ee.nodeType===Sa.Node.TEXT_NODE?ee.parentElement:ee;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(m||this.svgElement.element).h}modifyTree(ee){let m=(C,_)=>{let{attributes:I={},children:D,style:N={},tagName:V}=C,q=this.renderer.styledMode;if(V==="b"||V==="strong"?q?I.class="highcharts-strong":N.fontWeight="bold":(V==="i"||V==="em")&&(q?I.class="highcharts-emphasized":N.fontStyle="italic"),N!=null&&N.color&&(N.fill=N.color),V==="br"){I.class="highcharts-br",C.textContent="​";let Q=ee[_+1];Q!=null&&Q.textContent&&(Q.textContent=Q.textContent.replace(/^ +/gm,""))}else V==="a"&&D&&D.some(Q=>Q.tagName==="#text")&&(C.children=[{children:D,tagName:"tspan"}]);V!=="#text"&&V!=="a"&&(C.tagName="tspan"),fh(C,{attributes:I,style:N}),D&&D.filter(Q=>Q.tagName!=="#text").forEach(m)};ee.forEach(m),_i(this.svgElement,"afterModifyTree",{nodes:ee})}truncate(ee,m,C,_,I,D,N){let V,q,Q=this.svgElement,{rotation:ce}=Q,ne=[],he=C&&!_?1:0,ye=(m||C||"").length,Ee=ye;C||(I=D);let Ne=function(Le,Me){let ze=Me||Le,Ye=ee.parentNode;if(Ye&&ne[ze]===void 0&&Ye.getSubStringLength)try{ne[ze]=_+Ye.getSubStringLength(0,C?ze+1:ze)}catch{}return ne[ze]};if(Q.rotation=0,_+(q=Ne(ee.textContent.length))>I){for(;he<=ye;)Ee=Math.ceil((he+ye)/2),C&&(V=N(C,Ee)),q=Ne(Ee,V&&V.length-1),he===ye?he=ye+1:q>I?ye=Ee-1:he=Ee;ye===0?ee.textContent="":m&&ye===m.length-1||(ee.textContent=V||N(m||C,Ee)),this.ellipsis&&q>I&&this.truncate(ee,ee.textContent||"",void 0,0,I,D,Bp)}C&&C.splice(0,Ee),Q.actualWidth=q,Q.rotation=ce}unescapeEntities(ee,m){return Fi(this.renderer.escapes,function(C,_){m&&m.indexOf(C)!==-1||(ee=ee.toString().replace(RegExp(C,"g"),_))}),ee}},{defaultOptions:Uh}=To,{charts:Og,deg2rad:ad,doc:nu,isFirefox:rp,isMS:ld,isWebKit:Ig,noop:_c,SVG_NS:Ml,symbolSizes:gf,win:Fb}=Ie,{addEvent:Tr,attr:Zi,createElement:Vp,crisp:Oi,css:ip,defined:vf,destroyObjectProperties:LS,extend:bf,isArray:Gi,isNumber:ou,isObject:Ld,isString:Zn,merge:Zl,pick:zh,pInt:su,replaceNested:ap,uniqueKey:Hb}=vn;class et{constructor(m,C,_,I,D,N,V){let q,Q;this.x=0,this.y=0;let ce=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),ne=ce.element;V||ce.css(this.getStyle(I||{})),m.appendChild(ne),Zi(m,"dir","ltr"),m.innerHTML.indexOf("xmlns")===-1&&Zi(ne,"xmlns",this.SVG_NS),this.box=ne,this.boxWrapper=ce,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(nu.createTextNode("Created with Highcharts 12.4.0")),this.defs=this.createElement("defs").add(),this.allowHTML=N,this.forExport=D,this.styledMode=V,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=ce.getStyle("font-size"),this.setSize(C,_,!1),rp&&m.getBoundingClientRect&&((q=function(){ip(m,{left:0,top:0}),Q=m.getBoundingClientRect(),ip(m,{left:Math.ceil(Q.left)-Q.left+"px",top:Math.ceil(Q.top)-Q.top+"px"})})(),this.unSubPixelFix=Tr(Fb,"resize",q))}definition(m){return new Ar([m]).addToDOM(this.defs.element)}getReferenceURL(){if((rp||Ig)&&nu.getElementsByTagName("base").length){if(!vf(i)){let m=Hb(),C=new Ar([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:m},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${m})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(nu.body);ip(C,{position:"fixed",top:0,left:0,zIndex:9e5});let _=nu.elementFromPoint(6,6);i=(_==null?void 0:_.id)==="hitme",nu.body.removeChild(C)}if(i)return ap(Fb.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(m){return this.style=bf({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},m),this.style}setStyle(m){this.boxWrapper.css(this.getStyle(m))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let m=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),LS(this.gradients||{}),this.gradients=null,this.defs=m.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(m){return new this.Element(this,m)}getRadialAttr(m,C){return{cx:m[0]-m[2]/2+(C.cx||0)*m[2],cy:m[1]-m[2]/2+(C.cy||0)*m[2],r:(C.r||0)*m[2]}}shadowDefinition(m){let C=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(m).map(I=>`${I}-${m[I]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),_=Zl({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},m);return this.defs.element.querySelector(`#${C}`)||this.definition({tagName:"filter",attributes:{id:C,filterUnits:_.filterUnits},children:this.getShadowFilterContent(_)}),C}getShadowFilterContent(m){return[{tagName:"feDropShadow",attributes:{dx:m.offsetX,dy:m.offsetY,"flood-color":m.color,"flood-opacity":Math.min(5*m.opacity,1),stdDeviation:m.width/2}}]}buildText(m){new id(m).buildSVG()}getContrast(m){if(m==="transparent")return"#000000";let C=Nr.parse(m).rgba,_=" clamp(0,calc(9e9*(0.5 - (0.2126*r + 0.7152*g + 0.0722*b))),1)";if(ou(C[0])||!Nr.useColorMix){let I=C.map(N=>{let V=N/255;return V<=.04?V/12.92:Math.pow((V+.055)/1.055,2.4)}),D=.2126*I[0]+.7152*I[1]+.0722*I[2];return 1.05/(D+.05)>(D+.05)/.05?"#FFFFFF":"#000000"}return"color(from "+m+" srgb"+_+_+_+")"}button(m,C,_,I,D={},N,V,q,Q,ce){let ne=this.label(m,C,_,Q,void 0,void 0,ce,void 0,"button"),he=this.styledMode,ye=arguments,Ee=0;D=Zl(Uh.global.buttonTheme,D),he&&(delete D.fill,delete D.stroke,delete D["stroke-width"]);let Ne=D.states||{},Le=D.style||{};delete D.states,delete D.style;let Me=[Ar.filterUserAttributes(D)],ze=[Le];return he||["hover","select","disabled"].forEach((Ye,Nt)=>{Me.push(Zl(Me[0],Ar.filterUserAttributes(ye[Nt+5]||Ne[Ye]||{}))),ze.push(Me[Nt+1].style),delete Me[Nt+1].style}),Tr(ne.element,ld?"mouseover":"mouseenter",function(){Ee!==3&&ne.setState(1)}),Tr(ne.element,ld?"mouseout":"mouseleave",function(){Ee!==3&&ne.setState(Ee)}),ne.setState=(Ye=0)=>{if(Ye!==1&&(ne.state=Ee=Ye),ne.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][Ye]),!he){ne.attr(Me[Ye]);let Nt=ze[Ye];Ld(Nt)&&ne.css(Nt)}},ne.attr(Me[0]),!he&&(ne.css(bf({cursor:"default"},Le)),ce&&ne.text.css({pointerEvents:"none"})),ne.on("touchstart",Ye=>Ye.stopPropagation()).on("click",function(Ye){Ee!==3&&(I==null||I.call(ne,Ye))})}crispLine(m,C){let[_,I]=m;return vf(_[1])&&_[1]===I[1]&&(_[1]=I[1]=Oi(_[1],C)),vf(_[2])&&_[2]===I[2]&&(_[2]=I[2]=Oi(_[2],C)),m}path(m){let C=this.styledMode?{}:{fill:"none"};return Gi(m)?C.d=m:Ld(m)&&bf(C,m),this.createElement("path").attr(C)}circle(m,C,_){let I=Ld(m)?m:m===void 0?{}:{x:m,y:C,r:_},D=this.createElement("circle");return D.xSetter=D.ySetter=function(N,V,q){q.setAttribute("c"+V,N)},D.attr(I)}arc(m,C,_,I,D,N){let V;Ld(m)?(C=(V=m).y,_=V.r,I=V.innerR,D=V.start,N=V.end,m=V.x):V={innerR:I,start:D,end:N};let q=this.symbol("arc",m,C,_,_,V);return q.r=_,q}rect(m,C,_,I,D,N){let V=Ld(m)?m:m===void 0?{}:{x:m,y:C,r:D,width:Math.max(_||0,0),height:Math.max(I||0,0)},q=this.createElement("rect");return this.styledMode||(N!==void 0&&(V["stroke-width"]=N,bf(V,q.crisp(V))),V.fill="none"),q.rSetter=function(Q,ce,ne){q.r=Q,Zi(ne,{rx:Q,ry:Q})},q.rGetter=function(){return q.r||0},q.attr(V)}roundedRect(m){return this.symbol("roundedRect").attr(m)}setSize(m,C,_){this.width=m,this.height=C,this.boxWrapper.animate({width:m,height:C},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:zh(_,!0)?void 0:0}),this.alignElements()}g(m){let C=this.createElement("g");return m?C.attr({class:"highcharts-"+m}):C}image(m,C,_,I,D,N){let V={preserveAspectRatio:"none"};ou(C)&&(V.x=C),ou(_)&&(V.y=_),ou(I)&&(V.width=I),ou(D)&&(V.height=D);let q=this.createElement("image").attr(V),Q=function(ce){q.attr({href:m}),N.call(q,ce)};if(N){q.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let ce=new Fb.Image;Tr(ce,"load",Q),ce.src=m,ce.complete&&Q({})}else q.attr({href:m});return q}symbol(m,C,_,I,D,N){var Le,Me;let V,q,Q,ce,ne=this,he=/^url\((.*?)\)$/,ye=he.test(m),Ee=!ye&&(this.symbols[m]?m:"circle"),Ne=Ee&&this.symbols[Ee];if(Ne)typeof C=="number"&&(q=Ne.call(this.symbols,C||0,_||0,I||0,D||0,N)),V=this.path(q),ne.styledMode||V.attr("fill","none"),bf(V,{symbolName:Ee||void 0,x:C,y:_,width:I,height:D}),N&&bf(V,N);else if(ye){Q=m.match(he)[1];let ze=V=this.image(Q);ze.imgwidth=zh(N==null?void 0:N.width,(Le=gf[Q])==null?void 0:Le.width),ze.imgheight=zh(N==null?void 0:N.height,(Me=gf[Q])==null?void 0:Me.height),ce=Ye=>Ye.attr({width:Ye.width,height:Ye.height}),["width","height"].forEach(Ye=>{ze[`${Ye}Setter`]=function(Nt,Tt){this[Tt]=Nt;let{alignByTranslate:It,element:bn,width:Ft,height:gn,imgwidth:Pn,imgheight:ao}=this,Vo=Tt==="width"?Pn:ao,qo=1;N&&N.backgroundSize==="within"&&Ft&&gn&&Pn&&ao?(qo=Math.min(Ft/Pn,gn/ao),Zi(bn,{width:Math.round(Pn*qo),height:Math.round(ao*qo)})):bn&&Vo&&bn.setAttribute(Tt,Vo),!It&&Pn&&ao&&this.translate(((Ft||0)-Pn*qo)/2,((gn||0)-ao*qo)/2)}}),vf(C)&&ze.attr({x:C,y:_}),ze.isImg=!0,ze.symbolUrl=m,vf(ze.imgwidth)&&vf(ze.imgheight)?ce(ze):(ze.attr({width:0,height:0}),Vp("img",{onload:function(){let Ye=Og[ne.chartIndex];this.width===0&&(ip(this,{position:"absolute",top:"-999em"}),nu.body.appendChild(this)),gf[Q]={width:this.width,height:this.height},ze.imgwidth=this.width,ze.imgheight=this.height,ze.element&&ce(ze),this.parentNode&&this.parentNode.removeChild(this),ne.imgCount--,ne.imgCount||!Ye||Ye.hasLoaded||Ye.onload()},src:Q}),this.imgCount++)}return V}clipRect(m,C,_,I){return this.rect(m,C,_,I,0)}text(m,C,_,I){let D={};if(I&&(this.allowHTML||!this.forExport))return this.html(m,C,_);D.x=Math.round(C||0),_&&(D.y=Math.round(_)),vf(m)&&(D.text=m);let N=this.createElement("text").attr(D);return I&&(!this.forExport||this.allowHTML)||(N.xSetter=function(V,q,Q){let ce=Q.getElementsByTagName("tspan"),ne=Q.getAttribute(q);for(let he=0,ye;he<ce.length;he++)(ye=ce[he]).getAttribute(q)===ne&&ye.setAttribute(q,V);Q.setAttribute(q,V)}),N}fontMetrics(m){let C=ou(m)?m:su(L.prototype.getStyle.call(m,"font-size")||0),_=C<24?C+3:Math.round(1.2*C),I=Math.round(.8*_);return{h:_,b:I,f:C}}rotCorr(m,C,_){let I=m;return C&&_&&(I=Math.max(I*Math.cos(C*ad),4)),{x:-m/3*Math.sin(C*ad),y:I}}pathToSegments(m){let C=[],_=[],I={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let D=0;D<m.length;D++)Zn(_[0])&&ou(m[D])&&_.length===I[_[0].toUpperCase()]&&m.splice(D,0,_[0].replace("M","L").replace("m","l")),typeof m[D]=="string"&&(_.length&&C.push(_.slice(0)),_.length=0),_.push(m[D]);return C.push(_.slice(0)),C}label(m,C,_,I,D,N,V,q,Q){return new St(this,m,C,_,I,D,N,V,q,Q)}alignElements(){this.alignedObjects.forEach(m=>m.align())}}bf(et.prototype,{Element:L,SVG_NS:Ml,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:xi,draw:_c}),hh.registerRendererType("svg",et,!0);let{composed:Dc,isFirefox:jh}=Ie,{attr:$b,css:ru,createElement:nc,defined:dt,extend:Ht,getAlignFactor:An,isNumber:Dn,pInt:Yn,pushUnique:ns}=vn;function ps(ee,m,C){var I;let _=(I=this.div)==null?void 0:I.style;L.prototype[`${m}Setter`].call(this,ee,m,C),_&&(C.style[m]=_[m]=ee)}let Ys=(ee,m)=>{var C;if(!ee.div){let _=$b(ee.element,"class"),I=ee.css,D=nc("div",_?{className:_}:void 0,{position:"absolute",left:`${ee.translateX||0}px`,top:`${ee.translateY||0}px`,...ee.styles,display:ee.display,opacity:ee.opacity,visibility:ee.visibility},((C=ee.parentGroup)==null?void 0:C.div)||m);ee.classSetter=(N,V,q)=>{q.setAttribute("class",N),D.className=N},ee.translateXSetter=ee.translateYSetter=(N,V)=>{ee[V]=N,D.style[V==="translateX"?"left":"top"]=`${N}px`,ee.doTransform=!0},ee.scaleXSetter=ee.scaleYSetter=(N,V)=>{ee[V]=N,ee.doTransform=!0},ee.opacitySetter=ee.visibilitySetter=ps,ee.css=N=>(I.call(ee,N),N.cursor&&(D.style.cursor=N.cursor),N.pointerEvents&&(D.style.pointerEvents=N.pointerEvents),ee),ee.on=function(){return L.prototype.on.apply({element:D,onEvents:ee.onEvents},arguments),ee},ee.div=D}return ee.div};class Cs extends L{static compose(m){ns(Dc,this.compose)&&(m.prototype.html=function(C,_,I){return new Cs(this,"span").attr({text:C,x:Math.round(_),y:Math.round(I)})})}constructor(m,C){super(m,C),Cs.useForeignObject?this.foreignObject=m.createElement("foreignObject").attr({zIndex:2}):this.css({position:"absolute",...m.styledMode?{}:{fontFamily:m.style.fontFamily,fontSize:m.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(m,C,_){this.xCorr=-m*_,this.yCorr=-C}css(m){let C,{element:_}=this,I=_.tagName==="SPAN"&&m&&"width"in m,D=I&&m.width;return I&&(delete m.width,this.textWidth=Yn(D)||void 0,C=!0),(m==null?void 0:m.textOverflow)==="ellipsis"&&(m.overflow="hidden",m.whiteSpace="nowrap"),m!=null&&m.lineClamp&&(m.display="-webkit-box",m.WebkitLineClamp=m.lineClamp,m.WebkitBoxOrient="vertical",m.overflow="hidden"),Dn(Number(m==null?void 0:m.fontSize))&&(m.fontSize+="px"),Ht(this.styles,m),ru(_,m),C&&this.updateTransform(),this}htmlGetBBox(){let{element:m}=this;return{x:m.offsetLeft,y:m.offsetTop,width:m.offsetWidth,height:m.offsetHeight}}updateTransform(){var ze;if(!this.added){this.alignOnAdd=!0;return}let{element:m,foreignObject:C,oldTextWidth:_,renderer:I,rotation:D,rotationOriginX:N,rotationOriginY:V,scaleX:q,scaleY:Q,styles:{display:ce="inline-block",whiteSpace:ne},textAlign:he="left",textWidth:ye,translateX:Ee=0,translateY:Ne=0,x:Le=0,y:Me=0}=this;if(C||ru(m,{marginLeft:`${Ee}px`,marginTop:`${Ne}px`}),m.tagName==="SPAN"){let Ye,Nt=[D,he,m.innerHTML,ye,this.textAlign].join(","),Tt=-(((ze=this.parentGroup)==null?void 0:ze.padding)*1)||0;if(ye!==_){let gn=this.textPxLength?this.textPxLength:(ru(m,{width:"",whiteSpace:ne||"nowrap"}),m.offsetWidth),Pn=ye||0,ao=!I.styledMode&&m.style.textOverflow===""&&m.style.webkitLineClamp;(Pn>_||gn>Pn||ao)&&(/[\-\s\u00AD]/.test(m.textContent||m.innerText)||m.style.textOverflow==="ellipsis")&&(ru(m,{width:(D||q||gn>Pn||ao)&&Dn(ye)?ye+"px":"auto",display:ce,whiteSpace:ne||"normal"}),this.oldTextWidth=ye)}C&&(ru(m,{display:"inline-block",verticalAlign:"top"}),C.attr({width:I.width,height:I.height})),Nt!==this.cTT&&(Ye=I.fontMetrics(m).b,dt(D)&&!C&&(D!==(this.oldRotation||0)||he!==this.oldAlign)&&ru(m,{transform:`rotate(${D}deg)`,transformOrigin:`${Tt}% ${Tt}px`}),this.getSpanCorrection(!dt(D)&&!this.textWidth&&this.textPxLength||m.offsetWidth,Ye,An(he)));let{xCorr:It=0,yCorr:bn=0}=this,Ft={left:`${Le+It}px`,top:`${Me+bn}px`,textAlign:he,transformOrigin:`${(N??Le)-It-Le-Tt}px ${(V??Me)-bn-Me-Tt}px`};(q||Q)&&(Ft.transform=`scale(${q??1},${Q??1})`),C?(super.updateTransform(),Dn(Le)&&Dn(Me)?(C.attr({x:Le+It,y:Me+bn,width:m.offsetWidth+3,height:m.offsetHeight,"transform-origin":m.getAttribute("transform-origin")||"0 0"}),ru(m,{display:ce,textAlign:he})):jh&&C.attr({width:0,height:0})):ru(m,Ft),this.cTT=Nt,this.oldRotation=D,this.oldAlign=he}}add(m){let{foreignObject:C,renderer:_}=this,I=_.box.parentNode,D=[];if(C)C.add(m),super.add(_.createElement("body").attr({xmlns:"http://www.w3.org/1999/xhtml"}).css({background:"transparent",margin:"0 3px 0 0"}).add(C));else{let N;if(this.parentGroup=m,m&&!(N=m.div)){let V=m;for(;V;)D.push(V),V=V.parentGroup;for(let q of D.reverse())N=Ys(q,I)}(N||I).appendChild(this.element)}return this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(m){m!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,Ar.setElementHTML(this.element,m??""),this.textStr=m,this.doTransform=!0)}alignSetter(m){this.alignValue=this.textAlign=m,this.doTransform=!0}xSetter(m,C){this[C]=m,this.doTransform=!0}}let fr=Cs.prototype;fr.visibilitySetter=fr.opacitySetter=ps,fr.ySetter=fr.rotationSetter=fr.rotationOriginXSetter=fr.rotationOriginYSetter=fr.xSetter,(function(ee){ee.xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},ee.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:m}=this.axis.chart;return m(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0}})(v||(v={}));let xr=v,{addEvent:pr,isFunction:zr,objectEach:Do,removeEvent:ei}=vn;(S||(S={})).registerEventOptions=function(ee,m){ee.eventOptions=ee.eventOptions||{},Do(m.events,function(C,_){ee.eventOptions[_]!==C&&(ee.eventOptions[_]&&(ei(ee,_,ee.eventOptions[_]),delete ee.eventOptions[_]),zr(C)&&(ee.eventOptions[_]=C,pr(ee,_,C,{order:0})))})};let Sl=S,{deg2rad:oc}=Ie,{clamp:Ms,correctFloat:Pl,defined:oa,destroyObjectProperties:ja,extend:Wh,fireEvent:sa,getAlignFactor:ti,isNumber:K0,merge:IE,objectEach:Cl,pick:sc}=vn,iu=class{constructor(ee,m,C,_,I){this.isNew=!0,this.isNewLabel=!0,this.axis=ee,this.pos=m,this.type=C||"",this.parameters=I||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,sa(this,"init"),C||_||this.addLabel()}addLabel(){var bn,Ft;let ee=this,m=ee.axis,C=m.options,_=m.chart,I=m.categories,D=m.logarithmic,N=m.names,V=ee.pos,q=sc((bn=ee.options)==null?void 0:bn.labels,C.labels),Q=m.tickPositions,ce=V===Q[0],ne=V===Q[Q.length-1],he=(!q.step||q.step===1)&&m.tickInterval===1,ye=Q.info,Ee=ee.label,Ne,Le,Me,ze=this.parameters.category||(I?sc(I[V],N[V],V):V);D&&K0(ze)&&(ze=Pl(D.lin2log(ze))),m.dateTime&&(ye?Ne=(Le=_.time.resolveDTLFormat(C.dateTimeLabelFormats[!((Ft=C.grid)!=null&&Ft.enabled)&&ye.higherRanks[V]||ye.unitName])).main:K0(ze)&&(Ne=m.dateTime.getXDateFormat(ze,C.dateTimeLabelFormats||{}))),ee.isFirst=ce,ee.isLast=ne;let Ye={axis:m,chart:_,dateTimeLabelFormat:Ne,isFirst:ce,isLast:ne,pos:V,tick:ee,tickPositionInfo:ye,value:ze};sa(this,"labelFormat",Ye);let Nt=gn=>q.formatter?q.formatter.call(gn,gn):q.format?(gn.text=m.defaultLabelFormatter.call(gn),Lr.format(q.format,gn,_)):m.defaultLabelFormatter.call(gn),Tt=Nt.call(Ye,Ye),It=Le==null?void 0:Le.list;It?ee.shortenLabel=function(){for(Me=0;Me<It.length;Me++)if(Wh(Ye,{dateTimeLabelFormat:It[Me]}),Ee.attr({text:Nt.call(Ye,Ye)}),Ee.getBBox().width<m.getSlotWidth(ee)-2*(q.padding||0))return;Ee.attr({text:""})}:ee.shortenLabel=void 0,he&&m._addedPlotLB&&ee.moveLabel(Tt,q),oa(Ee)||ee.movedLabel?Ee&&Ee.textStr!==Tt&&!he&&(!Ee.textWidth||q.style.width||Ee.styles.width||Ee.css({width:null}),Ee.attr({text:Tt}),Ee.textPxLength=Ee.getBBox().width):(ee.label=Ee=ee.createLabel(Tt,q),ee.rotation=0)}createLabel(ee,m,C){let _=this.axis,{renderer:I,styledMode:D}=_.chart,N=m.style.whiteSpace,V=oa(ee)&&m.enabled?I.text(ee,C==null?void 0:C.x,C==null?void 0:C.y,m.useHTML).add(_.labelGroup):void 0;return V&&(D||V.css(IE(m.style)),V.textPxLength=V.getBBox().width,!D&&N&&V.css({whiteSpace:N})),V}destroy(){ja(this,this.axis)}getPosition(ee,m,C,_){let I=this.axis,D=I.chart,N=_&&D.oldChartHeight||D.chartHeight,V={x:ee?Pl(I.translate(m+C,void 0,void 0,_)+I.transB):I.left+I.offset+(I.opposite?(_&&D.oldChartWidth||D.chartWidth)-I.right-I.left:0),y:ee?N-I.bottom+I.offset-(I.opposite?I.height:0):Pl(N-I.translate(m+C,void 0,void 0,_)-I.transB)};return V.y=Ms(V.y,-1e9,1e9),sa(this,"afterGetPosition",{pos:V}),V}getLabelPosition(ee,m,C,_,I,D,N,V){let q,Q,ce=this.axis,ne=ce.transA,he=ce.isLinked&&ce.linkedParent?ce.linkedParent.reversed:ce.reversed,ye=ce.staggerLines,Ee=ce.tickRotCorr||{x:0,y:0},Ne=_||ce.reserveSpaceDefault?0:-ce.labelOffset*(ce.labelAlign==="center"?.5:1),Le=I.distance,Me={};return q=ce.side===0?C.rotation?-Le:-C.getBBox().height:ce.side===2?Ee.y+Le:Math.cos(C.rotation*oc)*(Ee.y-C.getBBox(!1,0).height/2),oa(I.y)&&(q=ce.side===0&&ce.horiz?I.y+q:I.y),ee=ee+sc(I.x,[0,1,0,-1][ce.side]*Le)+Ne+Ee.x-(D&&_?D*ne*(he?-1:1):0),m=m+q-(D&&!_?D*ne*(he?1:-1):0),ye&&(Q=N/(V||1)%ye,ce.opposite&&(Q=ye-Q-1),m+=Q*(ce.labelOffset/ye)),Me.x=ee,Me.y=Math.round(m),sa(this,"afterGetLabelPosition",{pos:Me,tickmarkOffset:D,index:N}),Me}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(ee,m,C,_,I=!1,D){return D.crispLine([["M",ee,m],["L",ee+(I?0:-C),m+(I?C:0)]],_)}handleOverflow(ee){var Le;let m=this.axis,C=m.options.labels,_=ee.x,I=m.chart.chartWidth,D=m.chart.spacing,N=sc(m.labelLeft,Math.min(m.pos,D[3])),V=sc(m.labelRight,Math.max(m.isRadial?0:m.pos+m.len,I-D[1])),q=this.label,Q=this.rotation,ce=ti(m.labelAlign||q.attr("align")),ne=q.getBBox().width,he=m.getSlotWidth(this),ye=he,Ee=1,Ne;Q||C.overflow!=="justify"?Q<0&&_-ce*ne<N?Ne=Math.round(_/Math.cos(Q*oc)-N):Q>0&&_+ce*ne>V&&(Ne=Math.round((I-_)/Math.cos(Q*oc))):(_-ce*ne<N?ye=ee.x+ye*(1-ce)-N:_+(1-ce)*ne>V&&(ye=V-ee.x+ye*ce,Ee=-1),(ye=Math.min(he,ye))<he&&m.labelAlign==="center"&&(ee.x+=Ee*(he-ye-ce*(he-Math.min(ne,ye)))),(ne>ye||m.autoRotation&&((Le=q==null?void 0:q.styles)!=null&&Le.width))&&(Ne=ye)),Ne&&q&&(this.shortenLabel?this.shortenLabel():q.css(Wh({},{width:Math.floor(Ne)+"px",lineClamp:+!m.isRadial})))}moveLabel(ee,m){let C=this,_=C.label,I=C.axis,D=!1,N;_&&_.textStr===ee?(C.movedLabel=_,D=!0,delete C.label):Cl(I.ticks,function(V){D||V.isNew||V===C||!V.label||V.label.textStr!==ee||(C.movedLabel=V.label,D=!0,V.labelPos=C.movedLabel.xy,delete V.label)}),!D&&(C.labelPos||_)&&(N=C.labelPos||_.xy,C.movedLabel=C.createLabel(ee,m,N),C.movedLabel&&C.movedLabel.attr({opacity:0}))}render(ee,m,C){var Ee;let _=this.axis,I=_.horiz,D=this.pos,N=sc(this.tickmarkOffset,_.tickmarkOffset),V=this.getPosition(I,D,N,m),q=V.x,Q=V.y,ce=_.pos,ne=ce+_.len,he=I?q:Q,ye=sc(C,(Ee=this.label)==null?void 0:Ee.newOpacity,1);!_.chart.polar&&(Pl(he)<ce||he>ne)&&(C=0),C??(C=1),this.isActive=!0,this.renderGridLine(m,C),this.renderMark(V,C),this.renderLabel(V,m,ye,ee),this.isNew=!1,sa(this,"afterRender")}renderGridLine(ee,m){let C=this.axis,_=C.options,I={},D=this.pos,N=this.type,V=sc(this.tickmarkOffset,C.tickmarkOffset),q=C.chart.renderer,Q=this.gridLine,ce,ne=_.gridLineWidth,he=_.gridLineColor,ye=_.gridLineDashStyle;this.type==="minor"&&(ne=_.minorGridLineWidth,he=_.minorGridLineColor,ye=_.minorGridLineDashStyle),Q||(C.chart.styledMode||(I.stroke=he,I["stroke-width"]=ne||0,I.dashstyle=ye),N||(I.zIndex=1),ee&&(m=0),this.gridLine=Q=q.path().attr(I).addClass("highcharts-"+(N?N+"-":"")+"grid-line").add(C.gridGroup)),Q&&(ce=C.getPlotLinePath({value:D+V,lineWidth:Q.strokeWidth(),force:"pass",old:ee,acrossPanes:!1}))&&Q[ee||this.isNew?"attr":"animate"]({d:ce,opacity:m})}renderMark(ee,m){let C=this.axis,_=C.options,I=C.chart.renderer,D=this.type,N=C.tickSize(D?D+"Tick":"tick"),V=ee.x,q=ee.y,Q=sc(_[D!=="minor"?"tickWidth":"minorTickWidth"],!D&&C.isXAxis?1:0),ce=_[D!=="minor"?"tickColor":"minorTickColor"],ne=this.mark,he=!ne;N&&(C.opposite&&(N[0]=-N[0]),!ne&&(this.mark=ne=I.path().addClass("highcharts-"+(D?D+"-":"")+"tick").add(C.axisGroup),C.chart.styledMode||ne.attr({stroke:ce,"stroke-width":Q})),ne[he?"attr":"animate"]({d:this.getMarkPath(V,q,N[0],ne.strokeWidth(),C.horiz,I),opacity:m}))}renderLabel(ee,m,C,_){let I=this.axis,D=I.horiz,N=I.options,V=this.label,q=N.labels,Q=q.step,ce=sc(this.tickmarkOffset,I.tickmarkOffset),ne=ee.x,he=ee.y,ye=!0;V&&K0(ne)&&(V.xy=ee=this.getLabelPosition(ne,he,V,D,q,ce,_,Q),(!this.isFirst||this.isLast||N.showFirstLabel)&&(!this.isLast||this.isFirst||N.showLastLabel)?!D||q.step||q.rotation||m||C===0||this.handleOverflow(ee):ye=!1,Q&&_%Q&&(ye=!1),ye&&K0(ee.y)?(ee.opacity=C,V[this.isNewLabel?"attr":"animate"](ee).show(!0),this.isNewLabel=!1):(V.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let ee=this.label,m=this.axis;ee&&!this.isNew&&(ee.animate({opacity:0},void 0,ee.destroy),delete this.label),m.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:Nl}=Ia,{xAxis:Gh,yAxis:ku}=xr,{defaultOptions:Du}=To,{registerEventOptions:$c}=Sl,{deg2rad:li}=Ie,{arrayMax:Bd,arrayMin:Mu,clamp:Kl,correctFloat:ra,defined:mr,destroyObjectProperties:qh,erase:Yl,error:Wa,extend:yf,fireEvent:fl,getClosestDistance:Ub,insertItem:rc,isArray:Y0,isNumber:br,isString:Mm,merge:cs,normalizeTickInterval:n1,objectEach:pl,pick:rr,relativeLength:Ll,removeEvent:ia,splat:Pm,syncTimeout:X0}=vn,Vd=(ee,m)=>n1(m,void 0,void 0,rr(ee.options.allowDecimals,m<.5||ee.tickAmount!==void 0),!!ee.tickAmount);yf(Du,{xAxis:Gh,yAxis:cs(Gh,ku)});class Pu{constructor(m,C,_){this.init(m,C,_)}init(m,C,_=this.coll){let I=_==="xAxis",D=this.isZAxis||(m.inverted?!I:I);this.chart=m,this.horiz=D,this.isXAxis=I,this.coll=_,fl(this,"init",{userOptions:C}),this.opposite=rr(C.opposite,this.opposite),this.side=rr(C.side,this.side,D?2*!this.opposite:this.opposite?1:3),this.setOptions(C);let N=this.options,V=N.labels;this.type??(this.type=N.type||"linear"),this.uniqueNames??(this.uniqueNames=N.uniqueNames??!0),fl(this,"afterSetType"),this.userOptions=C,this.minPixelPadding=0,this.reversed=rr(N.reversed,this.reversed),this.visible=N.visible,this.zoomEnabled=N.zoomEnabled,this.hasNames=this.type==="category"||N.categories===!0,this.categories=Y0(N.categories)&&N.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=mr(N.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=N.minRange||N.maxZoom,this.range=N.range,this.offset=N.offset||0,this.max=void 0,this.min=void 0;let q=rr(N.crosshair,Pm(m.options.tooltip.crosshairs)[+!I]);this.crosshair=q===!0?{}:q,m.axes.indexOf(this)===-1&&(I?m.axes.splice(m.xAxis.length,0,this):m.axes.push(this),rc(this,m[this.coll])),m.orderItems(this.coll),this.series=this.series||[],m.inverted&&!this.isZAxis&&I&&!mr(this.reversed)&&(this.reversed=!0),this.labelRotation=br(V.rotation)?V.rotation:void 0,$c(this,N),fl(this,"afterInit")}setOptions(m){let C=this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=cs(C,this.coll==="yAxis"?{title:{text:this.chart.options.lang.yAxisTitle}}:{},Du[this.coll],m),fl(this,"afterSetOptions",{userOptions:m})}defaultLabelFormatter(){let m=this.axis,{numberFormatter:C}=this.chart,_=br(this.value)?this.value:NaN,I=m.chart.time,D=m.categories,N=this.dateTimeLabelFormat,V=Du.lang,q=V.numericSymbols,Q=V.numericSymbolMagnitude||1e3,ce=m.logarithmic?Math.abs(_):m.tickInterval,ne=q==null?void 0:q.length,he,ye;if(D)ye=`${this.value}`;else if(N)ye=I.dateFormat(N,_,!0);else if(ne&&q&&ce>=1e3)for(;ne--&&ye===void 0;)ce>=(he=Math.pow(Q,ne+1))&&10*_%he==0&&q[ne]!==null&&_!==0&&(ye=C(_/he,-1)+q[ne]);return ye===void 0&&(ye=Math.abs(_)>=1e4?C(_,-1):C(_,-1,void 0,"")),ye}getSeriesExtremes(){let m,C=this;fl(this,"getSeriesExtremes",null,function(){C.hasVisibleSeries=!1,C.dataMin=C.dataMax=C.threshold=void 0,C.softThreshold=!C.isXAxis,C.series.forEach(_=>{if(_.reserveSpace()){let I=_.options,D,N=I.threshold,V,q;if(C.hasVisibleSeries=!0,C.positiveValuesOnly&&0>=(N||0)&&(N=void 0),C.isXAxis)(D=_.getColumn("x")).length&&(D=C.logarithmic?D.filter(Q=>Q>0):D,V=(m=_.getXExtremes(D)).min,q=m.max,br(V)||V instanceof Date||(D=D.filter(br),V=(m=_.getXExtremes(D)).min,q=m.max),D.length&&(C.dataMin=Math.min(rr(C.dataMin,V),V),C.dataMax=Math.max(rr(C.dataMax,q),q)));else{let Q=_.applyExtremes();br(Q.dataMin)&&(V=Q.dataMin,C.dataMin=Math.min(rr(C.dataMin,V),V)),br(Q.dataMax)&&(q=Q.dataMax,C.dataMax=Math.max(rr(C.dataMax,q),q)),mr(N)&&(C.threshold=N),(!I.softThreshold||C.positiveValuesOnly)&&(C.softThreshold=!1)}}})}),fl(this,"afterGetSeriesExtremes")}translate(m,C,_,I,D,N){var Ne;let V=this.linkedParent||this,q=I&&V.old?V.old.min:V.min;if(!br(q))return NaN;let Q=V.minPixelPadding,ce=(V.isOrdinal||((Ne=V.brokenAxis)==null?void 0:Ne.hasBreaks)||V.logarithmic&&D)&&!!V.lin2val,ne=1,he=0,ye=I&&V.old?V.old.transA:V.transA,Ee=0;return ye||(ye=V.transA),_&&(ne*=-1,he=V.len),V.reversed&&(ne*=-1,he-=ne*(V.sector||V.len)),C?(Ee=(m=m*ne+he-Q)/ye+q,ce&&(Ee=V.lin2val(Ee))):(ce&&(m=V.val2lin(m)),Ee=ne*(m-q)*ye+he+ne*Q+(br(N)?ye*N:0),V.isRadial||(Ee=ra(Ee))),Ee}toPixels(m,C){var _;return this.translate(((_=this.chart)==null?void 0:_.time.parse(m))??NaN,!1,!this.horiz,void 0,!0)+(C?0:this.pos)}toValue(m,C){return this.translate(m-(C?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(m){let C=this,_=C.chart,I=C.left,D=C.top,N=m.old,V=m.value,q=m.lineWidth,Q=N&&_.oldChartHeight||_.chartHeight,ce=N&&_.oldChartWidth||_.chartWidth,ne=C.transB,he=m.translatedValue,ye=m.force,Ee,Ne,Le,Me,ze;function Ye(Tt,It,bn){return ye!=="pass"&&(Tt<It||Tt>bn)&&(ye?Tt=Kl(Tt,It,bn):ze=!0),Tt}let Nt={value:V,lineWidth:q,old:N,force:ye,acrossPanes:m.acrossPanes,translatedValue:he};return fl(this,"getPlotLinePath",Nt,function(Tt){Ee=Le=(he=Kl(he=rr(he,C.translate(V,void 0,void 0,N)),-1e9,1e9))+ne,Ne=Me=Q-he-ne,br(he)?C.horiz?(Ne=D,Me=Q-C.bottom+(C.options.isInternal?0:_.scrollablePixelsY||0),Ee=Le=Ye(Ee,I,I+C.width)):(Ee=I,Le=ce-C.right+(_.scrollablePixelsX||0),Ne=Me=Ye(Ne,D,D+C.height)):(ze=!0,ye=!1),Tt.path=ze&&!ye?void 0:_.renderer.crispLine([["M",Ee,Ne],["L",Le,Me]],q||1)}),Nt.path}getLinearTickPositions(m,C,_){let I,D,N,V=ra(Math.floor(C/m)*m),q=ra(Math.ceil(_/m)*m),Q=[];if(ra(V+m)===V&&(N=20),this.single)return[C];for(I=V;I<=q&&(Q.push(I),(I=ra(I+m,N))!==D);)D=I;return Q}getMinorTickInterval(){let{minorTicks:m,minorTickInterval:C}=this.options;return m===!0?rr(C,"auto"):m!==!1?C:void 0}getMinorTickPositions(){var ce;let m=this.options,C=this.tickPositions,_=this.minorTickInterval,I=this.pointRangePadding||0,D=(this.min||0)-I,N=(this.max||0)+I,V=(ce=this.brokenAxis)!=null&&ce.hasBreaks?this.brokenAxis.unitLength:N-D,q=[],Q;if(V&&V/_<this.len/3){let ne=this.logarithmic;if(ne)this.paddedTicks.forEach(function(he,ye,Ee){ye&&q.push.apply(q,ne.getLogTickPositions(_,Ee[ye-1],Ee[ye],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")q=q.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(_),D,N,m.startOfWeek));else for(Q=D+(C[0]-D)%_;Q<=N&&Q!==q[0];Q+=_)q.push(Q)}return q.length!==0&&this.trimTicks(q),q}adjustForMinRange(){let m=this.options,C=this.logarithmic,_=this.chart.time,{max:I,min:D,minRange:N}=this,V,q,Q,ce;this.isXAxis&&N===void 0&&!C&&(N=mr(m.min)||mr(m.max)||mr(m.floor)||mr(m.ceiling)?null:Math.min(5*(Ub(this.series.map(ne=>{let he=ne.getColumn("x");return ne.xIncrement?he.slice(0,2):he}))||0),this.dataMax-this.dataMin)),br(I)&&br(D)&&br(N)&&I-D<N&&(q=this.dataMax-this.dataMin>=N,V=(N-I+D)/2,Q=[D-V,_.parse(m.min)??D-V],q&&(Q[2]=C?C.log2lin(this.dataMin):this.dataMin),ce=[(D=Bd(Q))+N,_.parse(m.max)??D+N],q&&(ce[2]=C?C.log2lin(this.dataMax):this.dataMax),(I=Mu(ce))-D<N&&(Q[0]=I-N,Q[1]=_.parse(m.min)??I-N,D=Bd(Q))),this.minRange=N,this.min=D,this.max=I}getClosest(){let m,C;if(this.categories)C=1;else{let _=[];this.series.forEach(function(I){let D=I.closestPointRange,N=I.getColumn("x");N.length===1?_.push(N[0]):I.sorted&&mr(D)&&I.reserveSpace()&&(C=mr(C)?Math.min(C,D):D)}),_.length&&(_.sort((I,D)=>I-D),m=Ub([_]))}return m&&C?Math.min(m,C):m||C}nameToX(m){let C=Y0(this.options.categories),_=C?this.categories:this.names,I=m.options.x,D;return m.series.requireSorting=!1,mr(I)||(I=this.uniqueNames&&_?C?_.indexOf(m.name):rr(_.keys[m.name],-1):m.series.autoIncrement()),I===-1?!C&&_&&(D=_.length):br(I)&&(D=I),D!==void 0?(this.names[D]=m.name,this.names.keys[m.name]=D):m.x&&(D=m.x),D}updateNames(){let m=this,C=this.names;C.length>0&&(Object.keys(C.keys).forEach(function(_){delete C.keys[_]}),C.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(_=>{_.xIncrement=null,(!_.points||_.isDirtyData)&&(m.max=Math.max(m.max||0,_.dataTable.rowCount-1),_.processData(),_.generatePoints());let I=_.getColumn("x").slice();_.data.forEach((D,N)=>{let V=I[N];D!=null&&D.options&&D.name!==void 0&&(V=m.nameToX(D))!==void 0&&V!==D.x&&(I[N]=D.x=V)}),_.dataTable.setColumn("x",I)}))}setAxisTranslation(){var he;let m=this,C=m.max-m.min,_=m.linkedParent,I=!!m.categories,D=m.isXAxis,N=m.axisPointRange||0,V,q=0,Q=0,ce,ne=m.transA;(D||I||N)&&(V=m.getClosest(),_?(q=_.minPointOffset,Q=_.pointRangePadding):m.series.forEach(function(ye){let Ee=I?1:D?rr(ye.options.pointRange,V,0):m.axisPointRange||0,Ne=ye.options.pointPlacement;if(N=Math.max(N,Ee),!m.single||I){let Le=ye.is("xrange")?!D:D;q=Math.max(q,Le&&Mm(Ne)?0:Ee/2),Q=Math.max(Q,Le&&Ne==="on"?0:Ee)}}),ce=(he=m.ordinal)!=null&&he.slope&&V?m.ordinal.slope/V:1,m.minPointOffset=q*=ce,m.pointRangePadding=Q*=ce,m.pointRange=Math.min(N,m.single&&I?1:C),D&&(m.closestPointRange=V)),m.translationSlope=m.transA=ne=m.staticScale||m.len/(C+Q||1),m.transB=m.horiz?m.left:m.bottom,m.minPixelPadding=ne*q,fl(this,"afterSetAxisTranslation")}minFromRange(){let{max:m,min:C}=this;return br(m)&&br(C)&&m-C||void 0}setTickInterval(m){var bs,zs,us,or;let{categories:C,chart:_,dataMax:I,dataMin:D,dateTime:N,isXAxis:V,logarithmic:q,options:Q,softThreshold:ce}=this,ne=_.time,he=br(this.threshold)?this.threshold:void 0,ye=this.minRange||0,{ceiling:Ee,floor:Ne,linkedTo:Le,softMax:Me,softMin:ze}=Q,Ye=br(Le)&&((bs=_[this.coll])==null?void 0:bs[Le]),Nt=Q.tickPixelInterval,Tt=Q.maxPadding,It=Q.minPadding,bn=0,Ft,gn=br(Q.tickInterval)&&Q.tickInterval>=0?Q.tickInterval:void 0,Pn,ao,Vo,qo;if(N||C||Ye||this.getTickAmount(),Vo=rr(this.userMin,ne.parse(Q.min)),qo=rr(this.userMax,ne.parse(Q.max)),Ye?(this.linkedParent=Ye,Ft=Ye.getExtremes(),this.min=rr(Ft.min,Ft.dataMin),this.max=rr(Ft.max,Ft.dataMax),this.type!==Ye.type&&Wa(11,!0,_)):(ce&&mr(he)&&br(I)&&br(D)&&(D>=he?(Pn=he,It=0):I<=he&&(ao=he,Tt=0)),this.min=rr(Vo,Pn,D),this.max=rr(qo,ao,I)),br(this.max)&&br(this.min)&&(q&&(this.positiveValuesOnly&&!m&&0>=Math.min(this.min,rr(D,this.min))&&Wa(10,!0,_),this.min=ra(q.log2lin(this.min),16),this.max=ra(q.log2lin(this.max),16)),this.range&&br(D)&&(this.userMin=this.min=Vo=Math.max(D,this.minFromRange()||0),this.userMax=qo=this.max,this.range=void 0)),fl(this,"foundExtremes"),this.adjustForMinRange(),br(this.min)&&br(this.max)){if(!br(this.userMin)&&br(ze)&&ze<this.min&&(this.min=Vo=ze),!br(this.userMax)&&br(Me)&&Me>this.max&&(this.max=qo=Me),C||this.axisPointRange||(zs=this.stacking)!=null&&zs.usePercentage||Ye||(bn=this.max-this.min)&&(!mr(Vo)&&It&&(this.min-=bn*It),!mr(qo)&&Tt&&(this.max+=bn*Tt)),!br(this.userMin)&&br(Ne)&&(this.min=Math.max(this.min,Ne)),!br(this.userMax)&&br(Ee)&&(this.max=Math.min(this.max,Ee)),ce&&br(D)&&br(I)){let jr=he||0;!mr(Vo)&&this.min<jr&&D>=jr?this.min=Q.minRange?Math.min(jr,this.max-ye):jr:!mr(qo)&&this.max>jr&&I<=jr&&(this.max=Q.minRange?Math.max(jr,this.min+ye):jr)}!_.polar&&this.min>this.max&&(mr(Q.min)?this.max=this.min:mr(Q.max)&&(this.min=this.max)),bn=this.max-this.min}if(this.min!==this.max&&br(this.min)&&br(this.max)?Ye&&!gn&&Nt===Ye.options.tickPixelInterval?this.tickInterval=gn=Ye.tickInterval:this.tickInterval=rr(gn,this.tickAmount?bn/Math.max(this.tickAmount-1,1):void 0,C?1:bn*Nt/Math.max(this.len,Nt)):this.tickInterval=1,V&&!m){let jr=this.min!==((us=this.old)==null?void 0:us.min)||this.max!==((or=this.old)==null?void 0:or.max);this.series.forEach(function(Di){var hi;Di.forceCrop=(hi=Di.forceCropping)==null?void 0:hi.call(Di),Di.processData(jr)}),fl(this,"postProcessData",{hasExtremesChanged:jr})}this.setAxisTranslation(),fl(this,"initialAxisTranslation"),this.pointRange&&!gn&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let Us=rr(Q.minTickInterval,N&&!this.series.some(jr=>!jr.sorted)?this.closestPointRange:0);!gn&&Us&&this.tickInterval<Us&&(this.tickInterval=Us),N||q||gn||(this.tickInterval=Vd(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var ce,ne;let m=this.options,C=m.tickPositions,_=m.tickPositioner,I=this.getMinorTickInterval(),D=!this.isPanning,N=D&&m.startOnTick,V=D&&m.endOnTick,q=[],Q;if(this.tickmarkOffset=this.categories&&m.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&mr(this.min)&&!this.tickAmount&&(this.min%1==0||m.allowDecimals!==!1),C)q=C.slice();else if(br(this.min)&&br(this.max)){if(!((ce=this.ordinal)!=null&&ce.positions)&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))q=[this.min,this.max],Wa(19,!1,this.chart);else if(this.dateTime)q=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,m.units),this.min,this.max,m.startOfWeek,(ne=this.ordinal)==null?void 0:ne.positions,this.closestPointRange,!0);else if(this.logarithmic)q=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let he=this.tickInterval,ye=he;for(;ye<=2*he&&(q=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&q.length>this.tickAmount);)this.tickInterval=Vd(this,ye*=1.1)}q.length>this.len&&(q=[q[0],q[q.length-1]])[0]===q[1]&&(q.length=1),_&&(this.tickPositions=q,(Q=_.apply(this,[this.min,this.max]))&&(q=Q))}this.tickPositions=q,this.minorTickInterval=I==="auto"&&this.tickInterval?this.tickInterval/m.minorTicksPerMajor:I,this.paddedTicks=q.slice(0),this.trimTicks(q,N,V),!this.isLinked&&br(this.min)&&br(this.max)&&(this.single&&q.length<2&&!this.categories&&!this.series.some(he=>he.is("heatmap")&&he.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),C||Q||this.adjustTickAmount()),fl(this,"afterSetTickPositions")}trimTicks(m,C,_){let I=m[0],D=m[m.length-1],N=!this.isOrdinal&&this.minPointOffset||0;if(fl(this,"trimTicks"),!this.isLinked||!this.grid){if(C&&I!==-1/0)this.min=I;else for(;this.min-N>m[0];)m.shift();if(_)this.max=D;else for(;this.max+N<m[m.length-1];)m.pop();m.length===0&&mr(I)&&!this.options.tickPositions&&m.push((D+I)/2)}}alignToOthers(){let m,C=this,_=C.chart,I=[this],D=C.options,N=_.options.chart,V=this.coll==="yAxis"&&N.alignThresholds,q=[];if(C.thresholdAlignment=void 0,(N.alignTicks!==!1&&D.alignTicks||V)&&D.startOnTick!==!1&&D.endOnTick!==!1&&!C.logarithmic){let Q=ne=>{let{horiz:he,options:ye}=ne;return[he?ye.left:ye.top,ye.width,ye.height,ye.pane].join(",")},ce=Q(this);_[this.coll].forEach(function(ne){let{series:he}=ne;he.length&&he.some(ye=>ye.visible)&&ne!==C&&Q(ne)===ce&&(m=!0,I.push(ne))})}if(m&&V){I.forEach(ce=>{let ne=ce.getThresholdAlignment(C);br(ne)&&q.push(ne)});let Q=q.length>1?q.reduce((ce,ne)=>ce+=ne,0)/q.length:void 0;I.forEach(ce=>{ce.thresholdAlignment=Q})}return m}getThresholdAlignment(m){if((!br(this.dataMin)||this!==m&&this.series.some(C=>C.isDirty||C.isDirtyData))&&this.getSeriesExtremes(),br(this.threshold)){let C=Kl((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(C=1-C),C}}getTickAmount(){let m=this.options,C=m.tickPixelInterval,_=m.tickAmount;mr(m.tickInterval)||_||!(this.len<C)||this.isRadial||this.logarithmic||!m.startOnTick||!m.endOnTick||(_=2),!_&&this.alignToOthers()&&(_=Math.ceil(this.len/C)+1),_<4&&(this.finalTickAmt=_,_=5),this.tickAmount=_}adjustTickAmount(){let m=this,{finalTickAmt:C,max:_,min:I,options:D,tickPositions:N,tickAmount:V,thresholdAlignment:q}=m,Q=N==null?void 0:N.length,ce=rr(m.threshold,m.softThreshold?0:null),ne,he,ye=m.tickInterval,Ee,Ne=()=>N.push(ra(N[N.length-1]+ye)),Le=()=>N.unshift(ra(N[0]-ye));if(br(q)&&(Ee=q<.5?Math.ceil(q*(V-1)):Math.floor(q*(V-1)),D.reversed&&(Ee=V-1-Ee)),m.hasData()&&br(I)&&br(_)){let Me=()=>{m.transA*=(Q-1)/(V-1),m.min=D.startOnTick?N[0]:Math.min(I,N[0]),m.max=D.endOnTick?N[N.length-1]:Math.max(_,N[N.length-1])};if(br(Ee)&&br(m.threshold)){for(;N[Ee]!==ce||N.length!==V||N[0]>I||N[N.length-1]<_;){for(N.length=0,N.push(m.threshold);N.length<V;)N[Ee]===void 0||N[Ee]>m.threshold?Le():Ne();if(ye>8*m.tickInterval)break;ye*=2}Me()}else if(Q<V){for(;N.length<V;)N.length%2||I===ce?Ne():Le();Me()}if(mr(C)){for(he=ne=N.length;he--;)(C===3&&he%2==1||C<=2&&he>0&&he<ne-1)&&N.splice(he,1);m.finalTickAmt=void 0}}}setScale(){var N,V,q,Q,ce;let{coll:m,stacking:C}=this,_=!1,I=!1;this.series.forEach(ne=>{var he;_=_||ne.isDirtyData||ne.isDirty,I=I||((he=ne.xAxis)==null?void 0:he.isDirty)||!1}),this.setAxisSize();let D=this.len!==((N=this.old)==null?void 0:N.len);D||_||I||this.isLinked||this.forceRedraw||this.userMin!==((V=this.old)==null?void 0:V.userMin)||this.userMax!==((q=this.old)==null?void 0:q.userMax)||this.alignToOthers()?(C&&m==="yAxis"&&C.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),C&&m==="xAxis"&&C.buildStacks(),this.isDirty||(this.isDirty=D||this.min!==((Q=this.old)==null?void 0:Q.min)||this.max!==((ce=this.old)==null?void 0:ce.max))):C&&C.cleanStacks(),_&&delete this.allExtremes,fl(this,"afterSetScale")}setExtremes(m,C,_=!0,I,D){let N=this.chart;this.series.forEach(V=>{delete V.kdTree}),m=N.time.parse(m),C=N.time.parse(C),fl(this,"setExtremes",D=yf(D,{min:m,max:C}),V=>{this.userMin=V.min,this.userMax=V.max,this.eventArgs=V,_&&N.redraw(I)})}setAxisSize(){let m=this.chart,C=this.options,_=C.offsets||[0,0,0,0],I=this.horiz,D=this.width=Math.round(Ll(rr(C.width,m.plotWidth-_[3]+_[1]),m.plotWidth)),N=this.height=Math.round(Ll(rr(C.height,m.plotHeight-_[0]+_[2]),m.plotHeight)),V=this.top=Math.round(Ll(rr(C.top,m.plotTop+_[0]),m.plotHeight,m.plotTop)),q=this.left=Math.round(Ll(rr(C.left,m.plotLeft+_[3]),m.plotWidth,m.plotLeft));this.bottom=m.chartHeight-N-V,this.right=m.chartWidth-D-q,this.len=Math.max(I?D:N,0),this.pos=I?q:V}getExtremes(){let m=this.logarithmic;return{min:m?ra(m.lin2log(this.min)):this.min,max:m?ra(m.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(m){let C=this.logarithmic,_=C?C.lin2log(this.min):this.min,I=C?C.lin2log(this.max):this.max;return m===null||m===-1/0?m=_:m===1/0?m=I:_>m?m=_:I<m&&(m=I),this.translate(m,0,1,0,1)}autoLabelAlign(m){let C=(rr(m,0)-90*this.side+720)%360,_={align:"center"};return fl(this,"autoLabelAlign",_,function(I){C>15&&C<165?I.align="right":C>195&&C<345&&(I.align="left")}),_.align}tickSize(m){let C=this.options,_=rr(C[m==="tick"?"tickWidth":"minorTickWidth"],m==="tick"&&this.isXAxis&&!this.categories?1:0),I=C[m==="tick"?"tickLength":"minorTickLength"],D;_&&I&&(C[m+"Position"]==="inside"&&(I=-I),D=[I,_]);let N={tickSize:D};return fl(this,"afterTickSize",N),N.tickSize}labelMetrics(){let m=this.chart.renderer,C=this.ticks,_=C[Object.keys(C)[0]]||{};return this.chart.renderer.fontMetrics(_.label||_.movedLabel||m.box)}unsquish(){let m=this.options.labels,C=m.padding||0,_=this.horiz,I=this.tickInterval,D=this.len/((+!!this.categories+this.max-this.min)/I),N=m.rotation,V=ra(.8*this.labelMetrics().h),q=Math.max(this.max-this.min,0),Q=function(Ee){let Ne=(Ee+2*C)/(D||1);return(Ne=Ne>1?Math.ceil(Ne):1)*I>q&&Ee!==1/0&&D!==1/0&&q&&(Ne=Math.ceil(q/I)),ra(Ne*I)},ce=I,ne,he=Number.MAX_VALUE,ye;if(_){if(!m.staggerLines&&(br(N)?ye=[N]:D<m.autoRotationLimit&&(ye=m.autoRotation)),ye){let Ee,Ne;for(let Le of ye)(Le===N||Le&&Le>=-90&&Le<=90)&&(Ne=(Ee=Q(Math.abs(V/Math.sin(li*Le))))+Math.abs(Le/360))<he&&(he=Ne,ne=Le,ce=Ee)}}else ce=Q(.75*V);return this.autoRotation=ye,this.labelRotation=rr(ne,br(N)?N:0),m.step?I:ce}getSlotWidth(m){let C=this.chart,_=this.horiz,I=this.options.labels,D=Math.max(this.tickPositions.length-!this.categories,1),N=C.margin[3];if(m&&br(m.slotWidth))return m.slotWidth;if(_&&I.step<2&&!this.isRadial)return I.rotation?0:(this.staggerLines||1)*this.len/D;if(!_){let V=I.style.width;if(V!==void 0)return parseInt(String(V),10);if(!this.opposite&&N)return N-C.spacing[3]}return .33*C.chartWidth}renderUnsquish(){let m=this.chart,C=m.renderer,_=this.tickPositions,I=this.ticks,D=this.options.labels,N=D.style,V=this.horiz,q=this.getSlotWidth(),Q=Math.max(1,Math.round(q-(V?2*(D.padding||0):D.distance||0))),ce={},ne=this.labelMetrics(),he=N.lineClamp,ye,Ee=he??(Math.floor(this.len/(_.length*ne.h))||1),Ne=0;Mm(D.rotation)||(ce.rotation=D.rotation||0),_.forEach(function(Le){var Ye;let Me=I[Le];Me.movedLabel&&Me.replaceMovedLabel();let ze=((Ye=Me.label)==null?void 0:Ye.textPxLength)||0;ze>Ne&&(Ne=ze)}),this.maxLabelLength=Ne,this.autoRotation?Ne>Q&&Ne>ne.h?ce.rotation=this.labelRotation:this.labelRotation=0:q&&(ye=Q),ce.rotation&&(ye=Ne>.5*m.chartHeight?.33*m.chartHeight:Ne,he||(Ee=1)),this.labelAlign=D.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(ce.align=this.labelAlign),_.forEach(function(Le){let Me=I[Le],ze=Me==null?void 0:Me.label,Ye=N.width,Nt={};ze&&(ze.attr(ce),Me.shortenLabel?Me.shortenLabel():ye&&!Ye&&N.whiteSpace!=="nowrap"&&(ye<(ze.textPxLength||0)||ze.element.tagName==="SPAN")?ze.css(yf(Nt,{width:`${ye}px`,lineClamp:Ee})):!ze.styles.width||Nt.width||Ye||ze.css({width:"auto"}),Me.rotation=ce.rotation)},this),this.tickRotCorr=C.rotCorr(ne.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(m){return m.hasData()})||this.options.showEmpty&&mr(this.min)&&mr(this.max)}addTitle(m){let C,_=this.chart.renderer,I=this.horiz,D=this.opposite,N=this.options.title,V=this.chart.styledMode;this.axisTitle||((C=N.textAlign)||(C=(I?{low:"left",middle:"center",high:"right"}:{low:D?"right":"left",middle:"center",high:D?"left":"right"})[N.align]),this.axisTitle=_.text(N.text||"",0,0,N.useHTML).attr({zIndex:7,rotation:N.rotation||0,align:C}).addClass("highcharts-axis-title"),V||this.axisTitle.css(cs(N.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),V||N.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[m?"show":"hide"](m)}generateTick(m){let C=this.ticks;C[m]?C[m].addLabel():C[m]=new iu(this,m)}createGroups(){let{axisParent:m,chart:C,coll:_,options:I}=this,D=C.renderer,N=(V,q,Q)=>D.g(V).attr({zIndex:Q}).addClass(`highcharts-${_.toLowerCase()}${q} `+(this.isRadial?`highcharts-radial-axis${q} `:"")+(I.className||"")).add(m);this.axisGroup||(this.gridGroup=N("grid","-grid",I.gridZIndex),this.axisGroup=N("axis","",I.zIndex),this.labelGroup=N("axis-labels","-labels",I.labels.zIndex))}getOffset(){let m=this,{chart:C,horiz:_,options:I,side:D,ticks:N,tickPositions:V,coll:q}=m,Q=C.inverted&&!m.isZAxis?[1,0,3,2][D]:D,ce=m.hasData(),ne=I.title,he=I.labels,ye=br(I.crossing),Ee=C.axisOffset,Ne=C.clipOffset,Le=[-1,1,1,-1][D],Me,ze=0,Ye,Nt=0,Tt=0,It,bn;if(m.showAxis=Me=ce||I.showEmpty,m.staggerLines=m.horiz&&he.staggerLines||void 0,m.createGroups(),ce||m.isLinked?(V.forEach(function(Ft){m.generateTick(Ft)}),m.renderUnsquish(),m.reserveSpaceDefault=D===0||D===2||{1:"left",3:"right"}[D]===m.labelAlign,rr(he.reserveSpace,!ye&&null,m.labelAlign==="center"||null,m.reserveSpaceDefault)&&V.forEach(function(Ft){Tt=Math.max(N[Ft].getLabelSize(),Tt)}),m.staggerLines&&(Tt*=m.staggerLines),m.labelOffset=Tt*(m.opposite?-1:1)):pl(N,function(Ft,gn){Ft.destroy(),delete N[gn]}),ne!=null&&ne.text&&ne.enabled!==!1&&(m.addTitle(Me),Me&&!ye&&ne.reserveSpace!==!1&&(m.titleOffset=ze=m.axisTitle.getBBox()[_?"height":"width"],Nt=mr(Ye=ne.offset)?0:rr(ne.margin,_?5:10))),m.renderLine(),m.offset=Le*rr(I.offset,Ee[D]?Ee[D]+(I.margin||0):0),m.tickRotCorr=m.tickRotCorr||{x:0,y:0},bn=D===0?-m.labelMetrics().h:D===2?m.tickRotCorr.y:0,It=Math.abs(Tt)+Nt,Tt&&(It-=bn,It+=Le*(_?rr(he.y,m.tickRotCorr.y+Le*he.distance):rr(he.x,Le*he.distance))),m.axisTitleMargin=rr(Ye,It),m.getMaxLabelDimensions&&(m.maxLabelDimensions=m.getMaxLabelDimensions(N,V)),q!=="colorAxis"&&Ne){let Ft=this.tickSize("tick");Ee[D]=Math.max(Ee[D],(m.axisTitleMargin||0)+ze+Le*m.offset,It,V!=null&&V.length&&Ft?Ft[0]+Le*m.offset:0);let gn=!m.axisLine||I.offset?0:m.axisLine.strokeWidth()/2;Ne[Q]=Math.max(Ne[Q],gn)}fl(this,"afterGetOffset")}getLinePath(m){let C=this.chart,_=this.opposite,I=this.offset,D=this.horiz,N=this.left+(_?this.width:0)+I,V=C.chartHeight-this.bottom-(_?this.height:0)+I;return _&&(m*=-1),C.renderer.crispLine([["M",D?this.left:N,D?V:this.top],["L",D?C.chartWidth-this.right:N,D?V:C.chartHeight-this.bottom]],m)}renderLine(){!this.axisLine&&(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(m){let C=this.horiz,_=this.left,I=this.top,D=this.len,N=this.options.title,V=C?_:I,q=this.opposite,Q=this.offset,ce=N.x,ne=N.y,he=this.chart.renderer.fontMetrics(m),ye=m?Math.max(m.getBBox(!1,0).height-he.h-1,0):0,Ee={low:V+(C?0:D),middle:V+D/2,high:V+(C?D:0)}[N.align],Ne=(C?I+this.height:_)+(C?1:-1)*(q?-1:1)*(this.axisTitleMargin||0)+[-ye,ye,he.f,-ye][this.side],Le={x:C?Ee+ce:Ne+(q?this.width:0)+Q+ce,y:C?Ne+ne-(q?this.height:0)+Q:Ee+ne};return fl(this,"afterGetTitlePosition",{titlePosition:Le}),Le}renderMinorTick(m,C){let _=this.minorTicks;_[m]||(_[m]=new iu(this,m,"minor")),C&&_[m].isNew&&_[m].render(null,!0),_[m].render(null,!1,1)}renderTick(m,C,_){var N;let I=this.isLinked,D=this.ticks;(!I||m>=this.min&&m<=this.max||(N=this.grid)!=null&&N.isColumn)&&(D[m]||(D[m]=new iu(this,m)),_&&D[m].isNew&&D[m].render(C,!0,-1),D[m].render(C))}render(){let m,C,_=this,I=_.chart,D=_.logarithmic,N=I.renderer,V=_.options,q=_.isLinked,Q=_.tickPositions,ce=_.axisTitle,ne=_.ticks,he=_.minorTicks,ye=_.alternateBands,Ee=V.stackLabels,Ne=V.alternateGridColor,Le=V.crossing,Me=_.tickmarkOffset,ze=_.axisLine,Ye=_.showAxis,Nt=Nl(N.globalAnimation);if(_.labelEdge.length=0,_.overlap=!1,[ne,he,ye].forEach(function(Tt){pl(Tt,function(It){It.isActive=!1})}),br(Le)){let Tt=this.isXAxis?I.yAxis[0]:I.xAxis[0],It=[1,-1,-1,1][this.side];if(Tt){let bn=Tt.toPixels(Le,!0);_.horiz&&(bn=Tt.len-bn),_.offset=It*bn}}if(_.hasData()||q){let Tt=_.chart.hasRendered&&_.old&&br(_.old.min);_.minorTickInterval&&!_.categories&&_.getMinorTickPositions().forEach(function(It){_.renderMinorTick(It,Tt)}),Q.length&&(Q.forEach(function(It,bn){_.renderTick(It,bn,Tt)}),Me&&(_.min===0||_.single)&&(ne[-1]||(ne[-1]=new iu(_,-1,null,!0)),ne[-1].render(-1))),Ne&&Q.forEach(function(It,bn){C=Q[bn+1]!==void 0?Q[bn+1]+Me:_.max-Me,bn%2==0&&It<_.max&&C<=_.max+(I.polar?-Me:Me)&&(ye[It]||(ye[It]=new Ie.PlotLineOrBand(_,{})),m=It+Me,ye[It].options={from:D?D.lin2log(m):m,to:D?D.lin2log(C):C,color:Ne,className:"highcharts-alternate-grid"},ye[It].render(),ye[It].isActive=!0)}),_._addedPlotLB||(_._addedPlotLB=!0,(V.plotLines||[]).concat(V.plotBands||[]).forEach(function(It){_.addPlotBandOrLine(It)}))}[ne,he,ye].forEach(function(Tt){let It=[],bn=Nt.duration;pl(Tt,function(Ft,gn){Ft.isActive||(Ft.render(gn,!1,0),Ft.isActive=!1,It.push(gn))}),X0(function(){let Ft=It.length;for(;Ft--;)Tt[It[Ft]]&&!Tt[It[Ft]].isActive&&(Tt[It[Ft]].destroy(),delete Tt[It[Ft]])},Tt!==ye&&I.hasRendered&&bn?bn:0)}),ze&&(ze[ze.isPlaced?"animate":"attr"]({d:this.getLinePath(ze.strokeWidth())}),ze.isPlaced=!0,ze[Ye?"show":"hide"](Ye)),ce&&Ye&&(ce[ce.isNew?"attr":"animate"](_.getTitlePosition(ce)),ce.isNew=!1),Ee!=null&&Ee.enabled&&_.stacking&&_.stacking.renderStackTotals(),_.old={len:_.len,max:_.max,min:_.min,transA:_.transA,userMax:_.userMax,userMin:_.userMin},_.isDirty=!1,fl(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(m){m.render()})),this.series.forEach(function(m){m.isDirty=!0})}getKeepProps(){return this.keepProps||Pu.keepProps}destroy(m){let C=this,_=C.plotLinesAndBands,I=this.eventOptions;if(fl(this,"destroy",{keepEvents:m}),m||ia(C),[C.ticks,C.minorTicks,C.alternateBands].forEach(function(D){qh(D)}),_){let D=_.length;for(;D--;)_[D].destroy()}for(let D in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(N){C[N]&&(C[N]=C[N].destroy())}),C.plotLinesAndBandsGroups)C.plotLinesAndBandsGroups[D]=C.plotLinesAndBandsGroups[D].destroy();pl(C,function(D,N){C.getKeepProps().indexOf(N)===-1&&delete C[N]}),this.eventOptions=I}drawCrosshair(m,C){var ne;let _=this.crosshair,I=(_==null?void 0:_.snap)??!0,D=this.chart,N,V,q,Q=this.cross,ce;if(fl(this,"drawCrosshair",{e:m,point:C}),m||(m=(ne=this.cross)==null?void 0:ne.e),_&&(mr(C)||!I)!==!1){if(I?mr(C)&&(V=rr(this.coll!=="colorAxis"?C.crosshairPos:null,this.isXAxis?C.plotX:this.len-C.plotY)):V=m&&(this.horiz?m.chartX-this.pos:this.len-m.chartY+this.pos),mr(V)&&(ce={value:C&&(this.isXAxis?C.x:rr(C.stackY,C.y)),translatedValue:V},D.polar&&yf(ce,{isCrosshair:!0,chartX:m==null?void 0:m.chartX,chartY:m==null?void 0:m.chartY,point:C}),N=this.getPlotLinePath(ce)||null),!mr(N))return void this.hideCrosshair();q=this.categories&&!this.isRadial,Q||(this.cross=Q=D.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(q?"category ":"thin ")+(_.className||"")).attr({zIndex:rr(_.zIndex,2)}).add(),!D.styledMode&&(Q.attr({stroke:_.color||(q?Nr.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":rr(_.width,1)}).css({"pointer-events":"none"}),_.dashStyle&&Q.attr({dashstyle:_.dashStyle}))),Q.show().attr({d:N}),q&&!_.width&&Q.attr({"stroke-width":this.transA}),this.cross.e=m}else this.hideCrosshair();fl(this,"afterDrawCrosshair",{e:m,point:C})}hideCrosshair(){this.cross&&this.cross.hide(),fl(this,"afterHideCrosshair")}update(m,C){let _=this.chart;m=cs(this.userOptions,m),this.destroy(!0),this.init(_,m),_.isDirtyBox=!0,rr(C,!0)&&_.redraw()}remove(m){let C=this.chart,_=this.coll,I=this.series,D=I.length;for(;D--;)I[D]&&I[D].remove(!1);Yl(C.axes,this),Yl(C[_]||[],this),C.orderItems(_),this.destroy(),C.isDirtyBox=!0,rr(m,!0)&&C.redraw()}setTitle(m,C){this.update({title:m},C)}setCategories(m,C){this.update({categories:m},C)}}Pu.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"];let{addEvent:o1,getMagnitude:s1,normalizeTickInterval:zb,timeUnits:ph}=vn;(function(ee){function m(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function C(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new _(this))}ee.compose=function(I){return I.keepProps.includes("dateTime")||(I.keepProps.push("dateTime"),I.prototype.getTimeTicks=m,o1(I,"afterSetType",C)),I};class _{constructor(D){this.axis=D}normalizeTimeTickInterval(D,N){let V=N||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],q=V[V.length-1],Q=ph[q[0]],ce=q[1],ne;for(ne=0;ne<V.length&&(Q=ph[(q=V[ne])[0]],ce=q[1],!V[ne+1]||!(D<=(Q*ce[ce.length-1]+ph[V[ne+1][0]])/2));ne++);Q===ph.year&&D<5*Q&&(ce=[1,2,5]);let he=zb(D/Q,ce,q[0]==="year"?Math.max(s1(D/Q),1):1);return{unitRange:Q,count:he,unitName:q[0]}}getXDateFormat(D,N){let{axis:V}=this,q=V.chart.time;return V.closestPointRange?q.getDateFormat(V.closestPointRange,D,V.options.startOfWeek,N)||q.resolveDTLFormat(N.year).main:q.resolveDTLFormat(N.day).main}}ee.Additions=_})(T||(T={}));let Zh=T,{addEvent:J0,normalizeTickInterval:Mc,pick:mh}=vn;(function(ee){function m(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new _(this))}function C(){let I=this.logarithmic;I&&(this.lin2val=function(D){return I.lin2log(D)},this.val2lin=function(D){return I.log2lin(D)})}ee.compose=function(I){return I.keepProps.includes("logarithmic")||(I.keepProps.push("logarithmic"),J0(I,"afterSetType",m),J0(I,"afterInit",C)),I};class _{constructor(D){this.axis=D}getLogTickPositions(D,N,V,q){let Q=this.axis,ce=Q.len,ne=Q.options,he=[];if(q||(this.minorAutoInterval=void 0),D>=.5)D=Math.round(D),he=Q.getLinearTickPositions(D,N,V);else if(D>=.08){let ye,Ee,Ne,Le,Me,ze,Ye,Nt=Math.floor(N);for(ye=D>.3?[1,2,4]:D>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],Ee=Nt;Ee<V+1&&!Ye;Ee++)for(Ne=0,Le=ye.length;Ne<Le&&!Ye;Ne++)(Me=this.log2lin(this.lin2log(Ee)*ye[Ne]))>N&&(!q||ze<=V)&&ze!==void 0&&he.push(ze),ze>V&&(Ye=!0),ze=Me}else{let ye=this.lin2log(N),Ee=this.lin2log(V),Ne=q?Q.getMinorTickInterval():ne.tickInterval,Le=ne.tickPixelInterval/(q?5:1),Me=q?ce/Q.tickPositions.length:ce;D=Mc(D=mh(Ne==="auto"?null:Ne,this.minorAutoInterval,(Ee-ye)*Le/(Me||1))),he=Q.getLinearTickPositions(D,ye,Ee).map(this.log2lin),q||(this.minorAutoInterval=D/5)}return q||(Q.tickInterval=D),he}lin2log(D){return Math.pow(10,D)}log2lin(D){return Math.log(D)/Math.LN10}}ee.Additions=_})(x||(x={}));let lp=x,{erase:qr,extend:Fd,isNumber:r1}=vn;(function(ee){let m;function C(Q){return this.addPlotBandOrLine(Q,"plotBands")}function _(Q,ce){let ne=this.userOptions,he=new m(this,Q);if(this.visible&&(he=he.render()),he){if(this._addedPlotLB||(this._addedPlotLB=!0,(ne.plotLines||[]).concat(ne.plotBands||[]).forEach(ye=>{this.addPlotBandOrLine(ye)})),ce){let ye=ne[ce]||[];ye.push(Q),ne[ce]=ye}this.plotLinesAndBands.push(he)}return he}function I(Q){return this.addPlotBandOrLine(Q,"plotLines")}function D(Q,ce,ne){ne=ne||this.options;let he=this.getPlotLinePath({value:ce,force:!0,acrossPanes:ne.acrossPanes}),ye=[],Ee=this.horiz,Ne=!r1(this.min)||!r1(this.max)||Q<this.min&&ce<this.min||Q>this.max&&ce>this.max,Le=this.getPlotLinePath({value:Q,force:!0,acrossPanes:ne.acrossPanes}),Me,ze=1,Ye;if(Le&&he)for(Ne&&(Ye=Le.toString()===he.toString(),ze=0),Me=0;Me<Le.length;Me+=2){let Nt=Le[Me],Tt=Le[Me+1],It=he[Me],bn=he[Me+1];(Nt[0]==="M"||Nt[0]==="L")&&(Tt[0]==="M"||Tt[0]==="L")&&(It[0]==="M"||It[0]==="L")&&(bn[0]==="M"||bn[0]==="L")&&(Ee&&It[1]===Nt[1]?(It[1]+=ze,bn[1]+=ze):Ee||It[2]!==Nt[2]||(It[2]+=ze,bn[2]+=ze),ye.push(["M",Nt[1],Nt[2]],["L",Tt[1],Tt[2]],["L",bn[1],bn[2]],["L",It[1],It[2]],["Z"])),ye.isFlat=Ye}return ye}function N(Q){this.removePlotBandOrLine(Q)}function V(Q){let ce=this.plotLinesAndBands,ne=this.options,he=this.userOptions;if(ce){let ye=ce.length;for(;ye--;)ce[ye].id===Q&&ce[ye].destroy();[ne.plotLines||[],he.plotLines||[],ne.plotBands||[],he.plotBands||[]].forEach(function(Ee){var Ne;for(ye=Ee.length;ye--;)((Ne=Ee[ye])==null?void 0:Ne.id)===Q&&qr(Ee,Ee[ye])})}}function q(Q){this.removePlotBandOrLine(Q)}ee.compose=function(Q,ce){let ne=ce.prototype;return ne.addPlotBand||(m=Q,Fd(ne,{addPlotBand:C,addPlotLine:I,addPlotBandOrLine:_,getPlotBandPath:D,removePlotBand:N,removePlotLine:q,removePlotBandOrLine:V})),ce}})(P||(P={}));let jb=P,{addEvent:gh,arrayMax:xs,arrayMin:pa,defined:Va,destroyObjectProperties:aa,erase:vh,fireEvent:ma,merge:ml,objectEach:Pv,pick:Er}=vn;class cd{static compose(m,C){return gh(m,"afterInit",function(){this.labelCollectors.push(()=>{var I;let _=[];for(let D of this.axes)for(let{label:N,options:V}of D.plotLinesAndBands)N&&!((I=V==null?void 0:V.label)!=null&&I.allowOverlap)&&_.push(N);return _})}),jb.compose(cd,C)}constructor(m,C){this.axis=m,this.options=C,this.id=C.id}render(){ma(this,"render");let{axis:m,options:C}=this,{horiz:_,logarithmic:I}=m,{color:D,events:N,zIndex:V=0}=C,{renderer:q,time:Q}=m.chart,ce={},ne=Q.parse(C.to),he=Q.parse(C.from),ye=Q.parse(C.value),Ee=C.borderWidth,Ne=C.label,{label:Le,svgElem:Me}=this,ze=[],Ye,Nt=Va(he)&&Va(ne),Tt=Va(ye),It=!Me,bn={class:"highcharts-plot-"+(Nt?"band ":"line ")+(C.className||"")},Ft=Nt?"bands":"lines";if(!m.chart.styledMode&&(Tt?(bn.stroke=D||"#999999",bn["stroke-width"]=Er(C.width,1),C.dashStyle&&(bn.dashstyle=C.dashStyle)):Nt&&(bn.fill=D||"#e6e9ff",Ee&&(bn.stroke=C.borderColor,bn["stroke-width"]=Ee))),ce.zIndex=V,Ft+="-"+V,(Ye=m.plotLinesAndBandsGroups[Ft])||(m.plotLinesAndBandsGroups[Ft]=Ye=q.g("plot-"+Ft).attr(ce).add()),Me||(this.svgElem=Me=q.path().attr(bn).add(Ye)),Va(ye))ze=m.getPlotLinePath({value:(I==null?void 0:I.log2lin(ye))??ye,lineWidth:Me.strokeWidth(),acrossPanes:C.acrossPanes});else{if(!(Va(he)&&Va(ne)))return;ze=m.getPlotBandPath((I==null?void 0:I.log2lin(he))??he,(I==null?void 0:I.log2lin(ne))??ne,C)}return!this.eventsAdded&&N&&(Pv(N,(gn,Pn)=>{Me==null||Me.on(Pn,ao=>{N[Pn].apply(this,[ao])})}),this.eventsAdded=!0),(It||!Me.d)&&(ze!=null&&ze.length)?Me.attr({d:ze}):Me&&(ze?(Me.show(),Me.animate({d:ze})):Me.d&&(Me.hide(),Le&&(this.label=Le=Le.destroy()))),Ne&&(Va(Ne.text)||Va(Ne.formatter))&&(ze!=null&&ze.length)&&m.width>0&&m.height>0&&!ze.isFlat?(Ne=ml({align:_&&Nt?"center":void 0,x:_?!Nt&&4:10,verticalAlign:!_&&Nt?"middle":void 0,y:_?Nt?16:10:Nt?6:-4,rotation:_&&!Nt?90:0,...Nt?{inside:!0}:{}},Ne),this.renderLabel(Ne,ze,Nt,V)):Le&&Le.hide(),this}renderLabel(m,C,_,I){var Ee,Ne,Le;let D=this.axis,N=D.chart.renderer,V=m.inside,q=this.label;q||(this.label=q=N.text(this.getLabelText(m),0,0,m.useHTML).attr({align:m.textAlign||m.align,rotation:m.rotation,class:"highcharts-plot-"+(_?"band":"line")+"-label "+(m.className||""),zIndex:I}),D.chart.styledMode||q.css(ml({color:(Ne=(Ee=D.chart.options.title)==null?void 0:Ee.style)==null?void 0:Ne.color,fontSize:"0.8em",textOverflow:_&&!V?"":"ellipsis"},m.style)),q.add());let Q=C.xBounds||[C[0][1],C[1][1],_?C[2][1]:C[0][1]],ce=C.yBounds||[C[0][2],C[1][2],_?C[2][2]:C[0][2]],ne=pa(Q),he=pa(ce),ye=xs(Q)-ne;q.align(m,!1,{x:ne,y:he,width:ye,height:xs(ce)-he}),q.alignAttr.y-=N.fontMetrics(q).b,(!q.alignValue||q.alignValue==="left"||Va(V))&&q.css({width:(((Le=m.style)==null?void 0:Le.width)||(_&&V?ye:q.rotation===90?D.height-(q.alignAttr.y-D.top):(m.clip?D.width:D.chart.chartWidth)-(q.alignAttr.x-D.left)))+"px"}),q.show(!0)}getLabelText(m){return Va(m.formatter)?m.formatter.call(this):m.text}destroy(){vh(this.axis.plotLinesAndBands,this),delete this.axis,aa(this)}}let{animObject:Hi}=Ia,{format:Nu}=Lr,{composed:El,dateFormats:wl,doc:Sf,isSafari:Nv}=Ie,{distribute:Fp}=pf,{addEvent:Nm,clamp:bh,css:Ac,discardElement:Hp,extend:RE,fireEvent:cp,getAlignFactor:ci,isArray:i1,isNumber:Lv,isObject:Uc,isString:au,merge:Ga,pick:Hd,pushUnique:gl,splat:Lm,syncTimeout:Q0}=vn;class Wb{constructor(m,C,_){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=m,this.init(m,C),this.pointer=_}bodyFormatter(m){return m.map(C=>{let _=C.series.tooltipOptions,I=C.formatPrefix||"point";return(_[I+"Formatter"]||C.tooltipFormatter).call(C,_[I+"Format"]||"")})}cleanSplit(m){this.chart.series.forEach(function(C){let _=C==null?void 0:C.tt;_&&(!_.isActive||m?C.tt=_.destroy():_.isActive=!1)})}defaultFormatter(m){let C,_=this.points||Lm(this);return(C=(C=[m.headerFooterFormatter(_[0])]).concat(m.bodyFormatter(_))).push(m.headerFooterFormatter(_[0],!0)),C}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),Hp(this.container)),vn.clearTimeout(this.hideTimer)}getAnchor(m,C){var ce;let _,{chart:I,pointer:D}=this,N=I.inverted,V=I.plotTop,q=I.plotLeft;if(m=Lm(m),(ce=m[0].series)!=null&&ce.yAxis&&!m[0].series.yAxis.options.reversedStacks&&(m=m.slice().reverse()),this.followPointer&&C)C.chartX===void 0&&(C=D.normalize(C)),_=[C.chartX-q,C.chartY-V];else if(m[0].tooltipPos)_=m[0].tooltipPos;else{let ne=0,he=0;m.forEach(function(ye){let Ee=ye.pos(!0);Ee&&(ne+=Ee[0],he+=Ee[1])}),ne/=m.length,he/=m.length,this.shared&&m.length>1&&C&&(N?ne=C.chartX:he=C.chartY),_=[ne-q,he-V]}let Q={point:m[0],ret:_};return cp(this,"getAnchor",Q),Q.ret.map(Math.round)}getClassName(m,C,_){let I=this.options,D=m.series,N=D.options;return[I.className,"highcharts-label",_&&"highcharts-tooltip-header",C?"highcharts-tooltip-box":"highcharts-tooltip",!_&&"highcharts-color-"+Hd(m.colorIndex,D.colorIndex),N==null?void 0:N.className].filter(au).join(" ")}getLabel({anchorX:m,anchorY:C}={anchorX:0,anchorY:0}){let _=this,I=this.chart.styledMode,D=this.options,N=this.split&&this.allowShared,V=this.container,q=this.chart.renderer;if(this.label){let Q=!this.label.hasClass("highcharts-label");(!N&&Q||N&&!Q)&&this.destroy()}if(!this.label){if(this.outside){let Q=this.chart,ce=Q.options.chart.style,ne=hh.getRendererType();this.container=V=Ie.doc.createElement("div"),V.className="highcharts-tooltip-container "+(Q.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),Ac(V,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,((ce==null?void 0:ce.zIndex)||0)+3)}),this.renderer=q=new ne(V,0,0,ce,void 0,void 0,q.styledMode)}if(N?this.label=q.g("tooltip"):(this.label=q.label("",m,C,D.shape||"callout",void 0,void 0,D.useHTML,void 0,"tooltip").attr({padding:D.padding,r:D.borderRadius}),I||this.label.attr({fill:D.backgroundColor,"stroke-width":D.borderWidth||0}).css(D.style).css({pointerEvents:D.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),_.outside){let Q=this.label;[Q.xSetter,Q.ySetter].forEach((ce,ne)=>{Q[ne?"ySetter":"xSetter"]=he=>{ce.call(Q,_.distance),Q[ne?"y":"x"]=he,V&&(V.style[ne?"top":"left"]=`${he}px`)}})}this.label.attr({zIndex:8}).shadow(D.shadow??!D.fixed).add()}return V&&!V.parentElement&&Ie.doc.body.appendChild(V),this.label}getPlayingField(){let{body:m,documentElement:C}=Sf,{chart:_,distance:I,outside:D}=this;return{width:D?Math.max(m.scrollWidth,C.scrollWidth,m.offsetWidth,C.offsetWidth,C.clientWidth)-2*I-2:_.chartWidth,height:D?Math.max(m.scrollHeight,C.scrollHeight,m.offsetHeight,C.offsetHeight,C.clientHeight):_.chartHeight}}getPosition(m,C,_){var bs,zs;let{distance:I,chart:D,outside:N,pointer:V}=this,{inverted:q,plotLeft:Q,plotTop:ce,polar:ne}=D,{plotX:he=0,plotY:ye=0}=_,Ee={},Ne=q&&_.h||0,{height:Le,width:Me}=this.getPlayingField(),ze=V.getChartPosition(),Ye=us=>us*ze.scaleX,Nt=us=>us*ze.scaleY,Tt=us=>{let or=us==="x";return[us,or?Me:Le,or?m:C].concat(N?[or?Ye(m):Nt(C),or?ze.left-I+Ye(he+Q):ze.top-I+Nt(ye+ce),0,or?Me:Le]:[or?m:C,or?he+Q:ye+ce,or?Q:ce,or?Q+D.plotWidth:ce+D.plotHeight])},It=Tt("y"),bn=Tt("x"),Ft,gn=!!_.negative;!ne&&((zs=(bs=D.hoverSeries)==null?void 0:bs.yAxis)!=null&&zs.reversed)&&(gn=!gn);let Pn=!this.followPointer&&Hd(_.ttBelow,!ne&&!q===gn),ao=function(us,or,jr,Di,hi,Fl,Ti){let Mr=N?us==="y"?Nt(I):Ye(I):I,Vr=(jr-Di)/2,ir=Di<hi-I,cc=hi+I+Di<or,ca=hi-Mr-jr+Vr,Xa=hi+Mr-Vr;if(Pn&&cc)Ee[us]=Xa;else if(!Pn&&ir)Ee[us]=ca;else if(ir)Ee[us]=Math.min(Ti-Di,ca-Ne<0?ca:ca-Ne);else{if(!cc)return Ee[us]=0,!1;Ee[us]=Math.max(Fl,Xa+Ne+jr>or?Xa:Xa+Ne)}},Vo=function(us,or,jr,Di,hi){if(hi<I||hi>or-I)return!1;hi<jr/2?Ee[us]=1:hi>or-Di/2?Ee[us]=or-Di-2:Ee[us]=hi-jr/2},qo=function(us){[It,bn]=[bn,It],Ft=us},Us=()=>{ao.apply(0,It)!==!1?Vo.apply(0,bn)!==!1||Ft||(qo(!0),Us()):Ft?Ee.x=Ee.y=0:(qo(!0),Us())};return(q&&!ne||this.len>1)&&qo(),Us(),Ee}getFixedPosition(m,C,_){var he;let I=_.series,{chart:D,options:N,split:V}=this,q=N.position,Q=q.relativeTo,ce=N.shared||(he=I==null?void 0:I.yAxis)!=null&&he.isRadial&&(Q==="pane"||!Q)?"plotBox":Q,ne=ce==="chart"?D.renderer:D[ce]||D.getClipBox(I,!0);return{x:ne.x+(ne.width-m)*ci(q.align)+q.x,y:ne.y+(ne.height-C)*ci(q.verticalAlign)+(!V&&q.y||0)}}hide(m){let C=this;vn.clearTimeout(this.hideTimer),m=Hd(m,this.options.hideDelay),this.isHidden||(this.hideTimer=Q0(function(){let _=C.getLabel();C.getLabel().animate({opacity:0},{duration:m&&150,complete:()=>{_.hide(),C.container&&C.container.remove()}}),C.isHidden=!0},m))}init(m,C){this.chart=m,this.options=C,this.crosshairs=[],this.isHidden=!0,this.split=C.split&&!m.inverted&&!m.polar,this.shared=C.shared||this.split,this.outside=Hd(C.outside,!!(m.scrollablePixelsX||m.scrollablePixelsY))}shouldStickOnContact(m){return!!(!this.followPointer&&this.options.stickOnContact&&(!m||this.pointer.inClass(m.target,"highcharts-tooltip")))}move(m,C,_,I){let{followPointer:D,options:N}=this,V=Hi(!D&&!this.isHidden&&!N.fixed&&N.animation),q=D||(this.len||0)>1,Q={x:m,y:C};q?Q.anchorX=Q.anchorY=NaN:(Q.anchorX=_,Q.anchorY=I),V.step=()=>this.drawTracker(),this.getLabel().animate(Q,V)}refresh(m,C){let{chart:_,options:I,pointer:D,shared:N}=this,V=Lm(m),q=V[0],Q=I.format,ce=I.formatter||this.defaultFormatter,ne=_.styledMode,he=this.allowShared;if(!I.enabled||!q.series)return;vn.clearTimeout(this.hideTimer),this.allowShared=!(!i1(m)&&m.series&&m.series.noSharedTooltip),he=he&&!this.allowShared,this.followPointer=!this.split&&q.series.tooltipOptions.followPointer;let ye=this.getAnchor(m,C),Ee=ye[0],Ne=ye[1];N&&this.allowShared&&(D.applyInactiveState(V),V.forEach(ze=>ze.setState("hover")),q.points=V),this.len=V.length;let Le=au(Q)?Nu(Q,q,_):ce.call(q,this);q.points=void 0;let Me=q.series;if(this.distance=Hd(Me.tooltipOptions.distance,16),Le===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(Le,V);else{let ze=Ee,Ye=Ne;if(C&&D.isDirectTouch&&(ze=C.chartX-_.plotLeft,Ye=C.chartY-_.plotTop),!(_.polar||Me.options.clip===!1||V.some(Nt=>D.isDirectTouch||Nt.series.shouldShowTooltip(ze,Ye))))return void this.hide();{let Nt=this.getLabel(he&&this.tt||{});(!I.style.width||ne)&&Nt.css({width:(this.outside?this.getPlayingField():_.spacingBox).width+"px"}),Nt.attr({class:this.getClassName(q),text:Le&&Le.join?Le.join(""):Le}),this.outside&&Nt.attr({x:bh(Nt.x||0,0,this.getPlayingField().width-(Nt.width||0)-1)}),ne||Nt.attr({stroke:I.borderColor||q.color||Me.color||"#666666"}),this.updatePosition({plotX:Ee,plotY:Ne,negative:q.negative,ttBelow:q.ttBelow,series:Me,h:ye[2]||0})}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}cp(this,"refresh")}renderSplit(m,C){var hi,Fl;let _=this,{chart:I,chart:{chartWidth:D,chartHeight:N,plotHeight:V,plotLeft:q,plotTop:Q,scrollablePixelsY:ce=0,scrollablePixelsX:ne,styledMode:he},distance:ye,options:Ee,options:{fixed:Ne,position:Le,positioner:Me},pointer:ze}=_,{scrollLeft:Ye=0,scrollTop:Nt=0}=((hi=I.scrollablePlotArea)==null?void 0:hi.scrollingContainer)||{},Tt=_.outside&&typeof ne!="number"?Sf.documentElement.getBoundingClientRect():{left:Ye,right:Ye+D},It=_.getLabel(),bn=this.renderer||I.renderer,Ft=!!((Fl=I.xAxis[0])!=null&&Fl.opposite),{left:gn,top:Pn}=ze.getChartPosition(),ao=Me||Ne,Vo=Q+Nt,qo=0,Us=V-ce,bs=function(Ti,Mr,Vr,ir=[0,0],cc=!0){let ca,Xa;if(Vr.isHeader)Xa=Ft?0:Us,ca=bh(ir[0]-Ti/2,Tt.left,Tt.right-Ti-(_.outside?gn:0));else if(Ne&&Vr){let uc=_.getFixedPosition(Ti,Mr,Vr);ca=uc.x,Xa=uc.y-Vo}else Xa=ir[1]-Vo,ca=bh(ca=cc?ir[0]-Ti-ye:ir[0]+ye,cc?ca:Tt.left,Tt.right);return{x:ca,y:Xa}};au(m)&&(m=[!1,m]);let zs=m.slice(0,C.length+1).reduce(function(Ti,Mr,Vr){if(Mr!==!1&&Mr!==""){let ir=C[Vr-1]||{isHeader:!0,plotX:C[0].plotX,plotY:V,series:{}},cc=ir.isHeader,ca=cc?_:ir.series,Xa=ca.tt=(function(xc,Fr,zi){let yl=xc,{isHeader:Ja,series:Tl}=Fr,ua=Tl.tooltipOptions||Ee;if(!yl){let Xg={padding:ua.padding,r:ua.borderRadius};he||(Xg.fill=ua.backgroundColor,Xg["stroke-width"]=ua.borderWidth??(Ne&&!Ja?0:1)),yl=bn.label("",0,0,ua[Ja?"headerShape":"shape"]||(Ne&&!Ja?"rect":"callout"),void 0,void 0,ua.useHTML).addClass(_.getClassName(Fr,!0,Ja)).attr(Xg).add(It)}return yl.isActive=!0,yl.attr({text:zi}),he||yl.css(ua.style).attr({stroke:ua.borderColor||Fr.color||Tl.color||"#333333"}),yl})(ca.tt,ir,Mr.toString()),uc=Xa.getBBox(),nm=uc.width+Xa.strokeWidth();cc&&(qo=uc.height,Us+=qo,Ft&&(Vo-=qo));let{anchorX:Mf,anchorY:ju}=(function(xc){let Fr,zi,{isHeader:yl,plotX:Ja=0,plotY:Tl=0,series:ua}=xc;if(yl)Fr=Math.max(q+Ja,q),zi=Q+V/2;else{let{xAxis:Xg,yAxis:C1}=ua;Fr=Xg.pos+bh(Ja,-ye,Xg.len+ye),ua.shouldShowTooltip(0,C1.pos-Q+Tl,{ignoreX:!0})&&(zi=C1.pos+Tl)}return{anchorX:Fr=bh(Fr,Tt.left-ye,Tt.right+ye),anchorY:zi}})(ir);if(typeof ju=="number"){let xc=uc.height+1,Fr=(Me||bs).call(_,nm,xc,ir,[Mf,ju]);Ti.push({align:ao?0:void 0,anchorX:Mf,anchorY:ju,boxWidth:nm,point:ir,rank:Hd(Fr.rank,+!!cc),size:xc,target:Fr.y,tt:Xa,x:Fr.x})}else Xa.isActive=!1}return Ti},[]);!ao&&zs.some(Ti=>{let{outside:Mr}=_,Vr=(Mr?gn:0)+Ti.anchorX;return Vr<Tt.left&&Vr+Ti.boxWidth<Tt.right||Vr<gn-Tt.left+Ti.boxWidth&&Tt.right-Vr>Vr})&&(zs=zs.map(Ti=>{let{x:Mr,y:Vr}=bs.call(this,Ti.boxWidth,Ti.size,Ti.point,[Ti.anchorX,Ti.anchorY],!1);return RE(Ti,{target:Vr,x:Mr})})),_.cleanSplit(),Fp(zs,Us);let us={left:gn,right:gn};zs.forEach(function(Ti){let{x:Mr,boxWidth:Vr,isHeader:ir}=Ti;!ir&&(_.outside&&gn+Mr<us.left&&(us.left=gn+Mr),!ir&&_.outside&&us.left+Vr>us.right&&(us.right=gn+Mr))}),zs.forEach(function(Ti){let{x:Mr,anchorX:Vr,anchorY:ir,pos:cc,point:{isHeader:ca}}=Ti,Xa={visibility:cc===void 0?"hidden":"inherit",x:Mr,y:(cc||0)+Vo+(Ne&&Le.y||0),anchorX:Vr,anchorY:ir};if(_.outside&&Mr<Vr){let uc=gn-us.left;uc>0&&(ca||(Xa.x=Mr+uc,Xa.anchorX=Vr+uc),ca&&(Xa.x=(us.right-us.left)/2,Xa.anchorX=Vr+uc))}Ti.tt.attr(Xa)});let{container:or,outside:jr,renderer:Di}=_;if(jr&&or&&Di){let{width:Ti,height:Mr,x:Vr,y:ir}=It.getBBox();Di.setSize(Ti+Vr,Mr+ir,!1),or.style.left=us.left+"px",or.style.top=Pn+"px"}Nv&&It.attr({opacity:It.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let m=this.chart,C=this.label,_=this.shared?m.hoverPoints:m.hoverPoint;if(!C||!_)return;let I={x:0,y:0,width:0,height:0},D=this.getAnchor(_),N=C.getBBox();D[0]+=m.plotLeft-(C.translateX||0),D[1]+=m.plotTop-(C.translateY||0),I.x=Math.min(0,D[0]),I.y=Math.min(0,D[1]),I.width=D[0]<0?Math.max(Math.abs(D[0]),N.width-D[0]):Math.max(Math.abs(D[0]),N.width),I.height=D[1]<0?Math.max(Math.abs(D[1]),N.height-Math.abs(D[1])):Math.max(Math.abs(D[1]),N.height),this.tracker?this.tracker.attr(I):(this.tracker=C.renderer.rect(I).addClass("highcharts-tracker").add(C),m.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(m){return m.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(m,C){let _=m.series,I=_.tooltipOptions,D=_.xAxis,N=D==null?void 0:D.dateTime,V={isFooter:C,point:m},q=I.xDateFormat||"",Q=I[C?"footerFormat":"headerFormat"];return cp(this,"headerFormatter",V,function(ce){if(N&&!q&&Lv(m.key)&&(q=N.getXDateFormat(m.key,I.dateTimeLabelFormats)),N&&q){if(Uc(q)){let ne=q;wl[0]=he=>_.chart.time.dateFormat(ne,he),q="%0"}(m.tooltipDateKeys||["key"]).forEach(ne=>{Q=Q.replace(RegExp("point\\."+ne+"([ \\)}])"),`(point.${ne}:${q})$1`)})}_.chart.styledMode&&(Q=this.styledModeFormat(Q)),ce.text=Nu(Q,m,this.chart)}),V.text||""}update(m){this.destroy(),this.init(this.chart,Ga(!0,this.options,m))}updatePosition(m){var Tt;let{chart:C,container:_,distance:I,options:D,pointer:N,renderer:V}=this,{height:q=0,width:Q=0}=this.getLabel(),{fixed:ce,positioner:ne}=D,{left:he,top:ye,scaleX:Ee,scaleY:Ne}=N.getChartPosition(),Le=(ne||ce&&this.getFixedPosition||this.getPosition).call(this,Q,q,m),Me=Ie.doc,ze=(m.plotX||0)+C.plotLeft,Ye=(m.plotY||0)+C.plotTop,Nt;if(V&&_){if(ne||ce){let{scrollLeft:It=0,scrollTop:bn=0}=((Tt=C.scrollablePlotArea)==null?void 0:Tt.scrollingContainer)||{};Le.x+=It+he-I,Le.y+=bn+ye-I}Nt=(D.borderWidth||0)+2*I+2,V.setSize(bh(Q+Nt,0,Me.documentElement.clientWidth)-1,q+Nt,!1),(Ee!==1||Ne!==1)&&(Ac(_,{transform:`scale(${Ee}, ${Ne})`}),ze*=Ee,Ye*=Ne),ze+=he-Le.x,Ye+=ye-Le.y}this.move(Math.round(Le.x),Math.round(Le.y||0),ze,Ye)}}(function(ee){ee.compose=function(m){gl(El,"Core.Tooltip")&&Nm(m,"afterInit",function(){let C=this.chart;C.options.tooltip&&(C.tooltip=new ee(C,C.options.tooltip,this))})}})(Wb||(Wb={}));let kE=Wb,{animObject:Cf}=Ia,{defaultOptions:DE}=To,{format:a1}=Lr,{addEvent:Ef,crisp:BS,erase:Bv,extend:Bm,fireEvent:Rg,getNestedProperty:l1,isArray:VS,isFunction:Kh,isNumber:Vm,isObject:wf,merge:ui,pick:vl,syncTimeout:up,removeEvent:ey,uniqueKey:Fm}=vn;class kg{animateBeforeDestroy(){let m=this,C={x:m.startXPos,opacity:0},_=m.getGraphicalProps();_.singular.forEach(function(I){m[I]=m[I].animate(I==="dataLabel"?{x:m[I].startXPos,y:m[I].startYPos,opacity:0}:C)}),_.plural.forEach(function(I){m[I].forEach(function(D){D.element&&D.animate(Bm({x:m.startXPos},D.startYPos?{x:D.startXPos,y:D.startYPos}:{}))})})}applyOptions(m,C){let _=this.series,I=_.options.pointValKey||_.pointValKey;return Bm(this,m=kg.prototype.optionsToObject.call(this,m)),this.options=this.options?Bm(this.options,m):m,m.group&&delete this.group,m.dataLabels&&delete this.dataLabels,I&&(this.y=kg.prototype.getNestedProperty.call(this,I)),this.selected&&(this.state="select"),"name"in this&&C===void 0&&_.xAxis&&_.xAxis.hasNames&&(this.x=_.xAxis.nameToX(this)),this.x===void 0&&_?this.x=C??_.autoIncrement():Vm(m.x)&&_.options.relativeXValue?this.x=_.autoIncrement(m.x):typeof this.x=="string"&&(C??(C=_.chart.time.parse(this.x)),Vm(C)&&(this.x=C)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let m=this,C=m.series,_=C.chart,I=C.options.dataSorting,D=_.hoverPoints,N=Cf(m.series.chart.renderer.globalAnimation),V=()=>{for(let q in(m.graphic||m.graphics||m.dataLabel||m.dataLabels)&&(ey(m),m.destroyElements()),m)delete m[q]};m.legendItem&&_.legend.destroyItem(m),D&&(m.setState(),Bv(D,m),D.length||(_.hoverPoints=null)),m===_.hoverPoint&&m.onMouseOut(),I!=null&&I.enabled?(this.animateBeforeDestroy(),up(V,N.duration)):V(),_.pointCount--}this.destroyed=!0}destroyElements(m){let C=this,_=C.getGraphicalProps(m);_.singular.forEach(function(I){C[I]=C[I].destroy()}),_.plural.forEach(function(I){C[I].forEach(function(D){D!=null&&D.element&&D.destroy()}),delete C[I]})}firePointEvent(m,C,_){let I=this,D=this.series.options;I.manageEvent(m),m==="click"&&D.allowPointSelect&&(_=function(N){!I.destroyed&&I.select&&I.select(null,N.ctrlKey||N.metaKey||N.shiftKey)}),Rg(I,m,C,_)}getClassName(){var m;return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+((m=this.zone)!=null&&m.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(m){let C,_,I=this,D=[],N={singular:[],plural:[]};for((m=m||{graphic:1,dataLabel:1}).graphic&&D.push("graphic","connector"),m.dataLabel&&D.push("dataLabel","dataLabelPath","dataLabelUpper"),_=D.length;_--;)I[C=D[_]]&&N.singular.push(C);return["graphic","dataLabel"].forEach(function(V){let q=V+"s";m[V]&&I[q]&&N.plural.push(q)}),N}getNestedProperty(m){if(m)return m.indexOf("custom.")===0?l1(m,this.options):this[m]}getZone(){let m=this.series,C=m.zones,_=m.zoneAxis||"y",I,D=0;for(I=C[0];this[_]>=I.value;)I=C[++D];return this.nonZonedColor||(this.nonZonedColor=this.color),I!=null&&I.color&&!this.options.color?this.color=I.color:this.color=this.nonZonedColor,I}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(m,C,_){this.formatPrefix="point",this.visible=!0,this.point=this,this.series=m,this.applyOptions(C,_),this.id??(this.id=Fm()),this.resolveColor(),this.dataLabelOnNull??(this.dataLabelOnNull=m.options.nullInteraction),m.chart.pointCount++,Rg(this,"afterInit")}isValid(){return(Vm(this.x)||this.x instanceof Date)&&Vm(this.y)}optionsToObject(m){var ce;let C=this.series,_=C.options.keys,I=_||C.pointArrayMap||["y"],D=I.length,N={},V,q=0,Q=0;if(Vm(m)||m===null)N[I[0]]=m;else if(VS(m))for(!_&&m.length>D&&((V=typeof m[0])=="string"?(ce=C.xAxis)!=null&&ce.dateTime?N.x=C.chart.time.parse(m[0]):N.name=m[0]:V==="number"&&(N.x=m[0]),q++);Q<D;)_&&m[q]===void 0||(I[Q].indexOf(".")>0?kg.prototype.setNestedProperty(N,m[q],I[Q]):N[I[Q]]=m[q]),q++,Q++;else typeof m=="object"&&(N=m,m.dataLabels&&(C.hasDataLabels=()=>!0),m.marker&&(C._hasPointMarkers=!0));return N}pos(m,C=this.plotY){if(!this.destroyed){let{plotX:_,series:I}=this,{chart:D,xAxis:N,yAxis:V}=I,q=0,Q=0;if(Vm(_)&&Vm(C))return m&&(q=N?N.pos:D.plotLeft,Q=V?V.pos:D.plotTop),D.inverted&&N&&V?[V.len-C+Q,N.len-_+q]:[_+q,C+Q]}}resolveColor(){let m=this.series,C=m.chart.options.chart,_=m.chart.styledMode,I,D,N=C.colorCount,V;delete this.nonZonedColor,m.options.colorByPoint?(_||(I=(D=m.options.colors||m.chart.options.colors)[m.colorCounter],N=D.length),V=m.colorCounter,m.colorCounter++,m.colorCounter===N&&(m.colorCounter=0)):(_||(I=m.color),V=m.colorIndex),this.colorIndex=vl(this.options.colorIndex,V),this.color=vl(this.options.color,I)}setNestedProperty(m,C,_){return _.split(".").reduce(function(I,D,N,V){let q=V.length-1===N;return I[D]=q?C:wf(I[D],!0)?I[D]:{},I[D]},m),m}shouldDraw(){return!this.isNull}tooltipFormatter(m){var q;let{chart:C,pointArrayMap:_=["y"],tooltipOptions:I}=this.series,{valueDecimals:D="",valuePrefix:N="",valueSuffix:V=""}=I;return C.styledMode&&(m=((q=C.tooltip)==null?void 0:q.styledModeFormat(m))||m),_.forEach(Q=>{Q="{point."+Q,(N||V)&&(m=m.replace(RegExp(Q+"}","g"),N+Q+"}"+V)),m=m.replace(RegExp(Q+"}","g"),Q+":,."+D+"f}")}),a1(m,this,C)}update(m,C,_,I){let D,N=this,V=N.series,q=N.graphic,Q=V.chart,ce=V.options;function ne(){N.applyOptions(m);let he=q&&N.hasMockGraphic,ye=N.y===null?!he:he;q&&ye&&(N.graphic=q.destroy(),delete N.hasMockGraphic),wf(m,!0)&&(q!=null&&q.element&&m&&m.marker&&m.marker.symbol!==void 0&&(N.graphic=q.destroy()),m!=null&&m.dataLabels&&N.dataLabel&&(N.dataLabel=N.dataLabel.destroy())),D=N.index;let Ee={};for(let Ne of V.dataColumnKeys())Ee[Ne]=N[Ne];V.dataTable.setRow(Ee,D),ce.data[D]=wf(ce.data[D],!0)||wf(m,!0)?N.options:vl(m,ce.data[D]),V.isDirty=V.isDirtyData=!0,!V.fixedBox&&V.hasCartesianSeries&&(Q.isDirtyBox=!0),ce.legendType==="point"&&(Q.isDirtyLegend=!0),C&&Q.redraw(_)}C=vl(C,!0),I===!1?ne():N.firePointEvent("update",{options:m},ne)}remove(m,C){this.series.removePoint(this.series.data.indexOf(this),m,C)}select(m,C){let _=this,I=_.series,D=I.chart;m=vl(m,!_.selected),this.selectedStaging=m,_.firePointEvent(m?"select":"unselect",{accumulate:C},function(){_.selected=_.options.selected=m,I.options.data[I.data.indexOf(_)]=_.options,_.setState(m&&"select"),C||D.getSelectedPoints().forEach(function(N){let V=N.series;N.selected&&N!==_&&(N.selected=N.options.selected=!1,V.options.data[V.data.indexOf(N)]=N.options,N.setState(D.hoverPoints&&V.options.inactiveOtherPoints?"inactive":""),N.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(m){let{inverted:C,pointer:_}=this.series.chart;_&&(m=m?_.normalize(m):_.getChartCoordinatesFromPoint(this,C),_.runPointActions(m,this))}onMouseOut(){let m=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(m.hoverPoints||[]).forEach(function(C){C.setState()}),m.hoverPoints=m.hoverPoint=null}manageEvent(m){var I,D,N,V,q,Q,ce;let C=ui(this.series.options.point,this.options),_=(I=C.events)==null?void 0:I[m];Kh(_)&&(!((D=this.hcEvents)!=null&&D[m])||((V=(N=this.hcEvents)==null?void 0:N[m])==null?void 0:V.map(ne=>ne.fn).indexOf(_))===-1)?((q=this.importedUserEvent)==null||q.call(this),this.importedUserEvent=Ef(this,m,_),this.hcEvents&&(this.hcEvents[m].userEvent=!0)):this.importedUserEvent&&!_&&((Q=this.hcEvents)!=null&&Q[m])&&((ce=this.hcEvents)!=null&&ce[m].userEvent)&&(ey(this,m),delete this.hcEvents[m],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(m,C){var It,bn;let _=this.series,I=this.state,D=_.options.states[m||"normal"]||{},N=DE.plotOptions[_.type].marker&&_.options.marker,V=N&&N.enabled===!1,q=((It=N==null?void 0:N.states)==null?void 0:It[m||"normal"])||{},Q=q.enabled===!1,ce=this.marker||{},ne=_.chart,he=N&&_.markerAttribs,ye=_.halo,Ee,Ne,Le,Me=_.stateMarkerGraphic,ze;if((m=m||"")===this.state&&!C||this.selected&&m!=="select"||D.enabled===!1||m&&(Q||V&&q.enabled===!1)||m&&ce.states&&ce.states[m]&&ce.states[m].enabled===!1)return;if(this.state=m,he&&(Ee=_.markerAttribs(this,m)),this.graphic&&!this.hasMockGraphic){if(I&&this.graphic.removeClass("highcharts-point-"+I),m&&this.graphic.addClass("highcharts-point-"+m),!ne.styledMode){Ne=_.pointAttribs(this,m),Le=vl(ne.options.chart.animation,D.animation);let Ft=Ne.opacity;_.options.inactiveOtherPoints&&Vm(Ft)&&(this.dataLabels||[]).forEach(function(gn){gn&&!gn.hasClass("highcharts-data-label-hidden")&&(gn.animate({opacity:Ft},Le),gn.connector&&gn.connector.animate({opacity:Ft},Le))}),this.graphic.animate(Ne,Le)}Ee&&this.graphic.animate(Ee,vl(ne.options.chart.animation,q.animation,N.animation)),Me&&Me.hide()}else m&&q&&(ze=ce.symbol||_.symbol,Me&&Me.currentSymbol!==ze&&(Me=Me.destroy()),Ee&&(Me?Me[C?"animate":"attr"]({x:Ee.x,y:Ee.y}):ze&&(_.stateMarkerGraphic=Me=ne.renderer.symbol(ze,Ee.x,Ee.y,Ee.width,Ee.height,ui(N,q)).add(_.markerGroup),Me.currentSymbol=ze)),!ne.styledMode&&Me&&this.state!=="inactive"&&Me.attr(_.pointAttribs(this,m))),Me&&(Me[m&&this.isInside?"show":"hide"](),Me.element.point=this,Me.addClass(this.getClassName(),!0));let Ye=D.halo,Nt=this.graphic||Me,Tt=(Nt==null?void 0:Nt.visibility)||"inherit";Ye!=null&&Ye.size&&Nt&&Tt!=="hidden"&&!this.isCluster?(ye||(_.halo=ye=ne.renderer.path().add(Nt.parentGroup)),ye.show()[C?"animate":"attr"]({d:this.haloPath(Ye.size)}),ye.attr({class:"highcharts-halo highcharts-color-"+vl(this.colorIndex,_.colorIndex)+(this.className?" "+this.className:""),visibility:Tt,zIndex:-1}),ye.point=this,ne.styledMode||ye.attr(Bm({fill:this.color||_.color,"fill-opacity":Ye.opacity},Ar.filterUserAttributes(Ye.attributes||{})))):(bn=ye==null?void 0:ye.point)!=null&&bn.haloPath&&!ye.point.destroyed&&ye.animate({d:ye.point.haloPath(0)},null,ye.hide),Rg(this,"afterSetState",{state:m})}haloPath(m){let C=this.pos();return C?this.series.chart.renderer.symbols.circle(BS(C[0],1)-m,C[1]-m,2*m,2*m):[]}}let $p=kg,{parse:dp}=Nr,{charts:Yh,composed:Ii,isTouchDevice:FS}=Ie,{addEvent:vi,attr:Vv,css:qa,extend:Xh,find:Pc,fireEvent:Lu,isNumber:Dg,isObject:Fv,objectEach:c1,offset:ME,pick:_l,pushUnique:_f,splat:il}=vn;class Ri{applyInactiveState(m=[]){var _,I;let C=[];for(let D of(m.forEach(N=>{let V=N.series;C.push(V),V.linkedParent&&C.push(V.linkedParent),V.linkedSeries&&C.push.apply(C,V.linkedSeries),V.navigatorSeries&&C.push(V.navigatorSeries),V.boosted&&V.markerGroup&&C.push.apply(C,this.chart.series.filter(q=>q.markerGroup===V.markerGroup))}),this.chart.series)){let N=D.options;((I=(_=N.states)==null?void 0:_.inactive)==null?void 0:I.enabled)!==!1&&(C.indexOf(D)===-1?D.setState("inactive",!0):N.inactiveOtherPoints&&D.setAllPointsToState("inactive"))}}destroy(){let m=this;this.eventsToUnbind.forEach(C=>C()),this.eventsToUnbind=[],!Ie.chartCount&&(Ri.unbindDocumentMouseUp.forEach(C=>C.unbind()),Ri.unbindDocumentMouseUp.length=0,Ri.unbindDocumentTouchEnd&&(Ri.unbindDocumentTouchEnd=Ri.unbindDocumentTouchEnd())),clearInterval(m.tooltipTimeout),c1(m,function(C,_){m[_]=void 0})}getSelectionMarkerAttrs(m,C){let _={args:{chartX:m,chartY:C},attrs:{},shapeType:"rect"};return Lu(this,"getSelectionMarkerAttrs",_,I=>{let D,{chart:N,zoomHor:V,zoomVert:q}=this,{mouseDownX:Q=0,mouseDownY:ce=0}=N,ne=I.attrs;ne.x=N.plotLeft,ne.y=N.plotTop,ne.width=V?1:N.plotWidth,ne.height=q?1:N.plotHeight,V&&(ne.width=Math.max(1,Math.abs(D=m-Q)),ne.x=(D>0?0:D)+Q),q&&(ne.height=Math.max(1,Math.abs(D=C-ce)),ne.y=(D>0?0:D)+ce)}),_}drag(m){let{chart:C}=this,{mouseDownX:_=0,mouseDownY:I=0}=C,{panning:D,panKey:N,selectionMarkerFill:V}=C.options.chart,q=C.plotLeft,Q=C.plotTop,ce=C.plotWidth,ne=C.plotHeight,he=Fv(D)?D.enabled:D,ye=N&&m[`${N}Key`],Ee=m.chartX,Ne=m.chartY,Le,Me=this.selectionMarker;if((!Me||!Me.touch)&&(Ee<q?Ee=q:Ee>q+ce&&(Ee=q+ce),Ne<Q?Ne=Q:Ne>Q+ne&&(Ne=Q+ne),this.hasDragged=Math.sqrt(Math.pow(_-Ee,2)+Math.pow(I-Ne,2)),this.hasDragged>10)){Le=C.isInsidePlot(_-q,I-Q,{visiblePlotOnly:!0});let{shapeType:ze,attrs:Ye}=this.getSelectionMarkerAttrs(Ee,Ne);this.hasZoom&&Le&&!ye&&!Me&&(this.selectionMarker=Me=C.renderer[ze](),Me.attr({class:"highcharts-selection-marker",zIndex:7}).add(),C.styledMode||Me.attr({fill:V||dp("#334eff").setOpacity(.25).get()})),Me&&Me.attr(Ye),Le&&!Me&&he&&C.pan(m,D)}}dragStart(m){let C=this.chart;C.mouseIsDown=m.type,C.cancelClick=!1,C.mouseDownX=m.chartX,C.mouseDownY=m.chartY}getSelectionBox(m){let C={args:{marker:m},result:m.getBBox()};return Lu(this,"getSelectionBox",C),C.result}drop(m){let C,{chart:_,selectionMarker:I}=this;for(let D of _.axes)D.isPanning&&(D.isPanning=!1,(D.options.startOnTick||D.options.endOnTick||D.series.some(N=>N.boosted))&&(D.forceRedraw=!0,D.setExtremes(D.userMin,D.userMax,!1),C=!0));if(C&&_.redraw(),I&&m){if(this.hasDragged){let D=this.getSelectionBox(I);_.transform({axes:_.axes.filter(N=>N.zoomEnabled&&(N.coll==="xAxis"&&this.zoomX||N.coll==="yAxis"&&this.zoomY)),selection:{originalEvent:m,xAxis:[],yAxis:[],...D},from:D})}Dg(_.index)&&(this.selectionMarker=I.destroy())}_&&Dg(_.index)&&(qa(_.container,{cursor:_._cursor}),_.cancelClick=this.hasDragged>10,_.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[],this.hasPinchMoved=!1)}findNearestKDPoint(m,C,_){let I;return m.forEach(function(D){let N=!(D.noSharedTooltip&&C)&&0>D.options.findNearestPointBy.indexOf("y"),V=D.searchPoint(_,N);Fv(V,!0)&&V.series&&(!Fv(I,!0)||(function(q,Q){var ye,Ee;let ce=q.distX-Q.distX,ne=q.dist-Q.dist,he=((ye=Q.series.group)==null?void 0:ye.zIndex)-((Ee=q.series.group)==null?void 0:Ee.zIndex);return ce!==0&&C?ce:ne!==0?ne:he!==0?he:q.series.index>Q.series.index?-1:1})(I,V)>0)&&(I=V)}),I}getChartCoordinatesFromPoint(m,C){let{xAxis:_,yAxis:I}=m.series,D=m.shapeArgs;if(_&&I){let N=m.clientX??m.plotX??0,V=m.plotY||0;return m.isNode&&D&&Dg(D.x)&&Dg(D.y)&&(N=D.x,V=D.y),C?{chartX:I.len+I.pos-V,chartY:_.len+_.pos-N}:{chartX:N+_.pos,chartY:V+I.pos}}if(D!=null&&D.x&&D.y)return{chartX:D.x,chartY:D.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:m}=this.chart,C=ME(m);this.chartPosition={left:C.left,top:C.top,scaleX:1,scaleY:1};let{offsetHeight:_,offsetWidth:I}=m;return I>2&&_>2&&(this.chartPosition.scaleX=C.width/I,this.chartPosition.scaleY=C.height/_),this.chartPosition}getCoordinates(m){let C={xAxis:[],yAxis:[]};for(let _ of this.chart.axes)C[_.isXAxis?"xAxis":"yAxis"].push({axis:_,value:_.toValue(m[_.horiz?"chartX":"chartY"])});return C}getHoverData(m,C,_,I,D,N){let V=[],q=function(ye){return ye.visible&&!(!D&&ye.directTouch)&&_l(ye.options.enableMouseTracking,!0)},Q=C,ce,ne={chartX:N?N.chartX:void 0,chartY:N?N.chartY:void 0,shared:D};Lu(this,"beforeGetHoverData",ne),ce=Q&&!Q.stickyTracking?[Q]:_.filter(ye=>ye.stickyTracking&&(ne.filter||q)(ye));let he=I&&m||!N?m:this.findNearestKDPoint(ce,D,N);return Q=he==null?void 0:he.series,he&&(D&&!Q.noSharedTooltip?(ce=_.filter(function(ye){return ne.filter?ne.filter(ye):q(ye)&&!ye.noSharedTooltip})).forEach(function(ye){var Le;let Ee=(Le=ye.options)==null?void 0:Le.nullInteraction,Ne=Pc(ye.points,function(Me){return Me.x===he.x&&(!Me.isNull||!!Ee)});Fv(Ne)&&(ye.boosted&&ye.boost&&(Ne=ye.boost.getPoint(Ne)),V.push(Ne))}):V.push(he)),Lu(this,"afterGetHoverData",ne={hoverPoint:he}),{hoverPoint:ne.hoverPoint,hoverSeries:Q,hoverPoints:V}}getPointFromEvent(m){let C=m.target,_;for(;C&&!_;)_=C.point,C=C.parentNode;return _}onTrackerMouseOut(m){let C=this.chart,_=m.relatedTarget,I=C.hoverSeries;this.isDirectTouch=!1,!I||!_||I.stickyTracking||this.inClass(_,"highcharts-tooltip")||this.inClass(_,"highcharts-series-"+I.index)&&this.inClass(_,"highcharts-tracker")||I.onMouseOut()}inClass(m,C){let _=m,I;for(;_;){if(I=Vv(_,"class")){if(I.indexOf(C)!==-1)return!0;if(I.indexOf("highcharts-container")!==-1)return!1}_=_.parentElement}}constructor(m,C){var _;this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=C,this.chart=m,this.runChartClick=!!((_=C.chart.events)!=null&&_.click),this.pinchDown=[],this.setDOMEvents(),Lu(this,"afterInit")}normalize(m,C){let _=m.touches,I=_?_.length?_.item(0):_l(_.changedTouches,m.changedTouches)[0]:m;C||(C=this.getChartPosition());let D=I.pageX-C.left,N=I.pageY-C.top;return Xh(m,{chartX:Math.round(D/=C.scaleX),chartY:Math.round(N/=C.scaleY)})}onContainerClick(m){let C=this.chart,_=C.hoverPoint,I=this.normalize(m),D=C.plotLeft,N=C.plotTop;!C.cancelClick&&(_&&this.inClass(I.target,"highcharts-tracker")?(Lu(_.series,"click",Xh(I,{point:_})),C.hoverPoint&&_.firePointEvent("click",I)):(Xh(I,this.getCoordinates(I)),C.isInsidePlot(I.chartX-D,I.chartY-N,{visiblePlotOnly:!0})&&Lu(C,"click",I)))}onContainerMouseDown(m){var _;let C=(1&(m.buttons||m.button))==1;m=this.normalize(m),Ie.isFirefox&&m.button!==0&&this.onContainerMouseMove(m),(m.button===void 0||C)&&(this.zoomOption(m),C&&((_=m.preventDefault)==null||_.call(m)),this.dragStart(m))}onContainerMouseLeave(m){let{pointer:C}=Yh[_l(Ri.hoverChartIndex,-1)]||{};m=this.normalize(m),this.onContainerMouseMove(m),C&&!this.inClass(m.relatedTarget,"highcharts-tooltip")&&(C.reset(),C.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(m){var D;let C=this.chart,_=C.tooltip,I=this.normalize(m);this.setHoverChartIndex(m),(C.mouseIsDown==="mousedown"||this.touchSelect(I))&&this.drag(I),!((D=C.exporting)!=null&&D.openMenu)&&(this.inClass(I.target,"highcharts-tracker")||C.isInsidePlot(I.chartX-C.plotLeft,I.chartY-C.plotTop,{visiblePlotOnly:!0}))&&!(_!=null&&_.shouldStickOnContact(I))&&(this.inClass(I.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(I))}onDocumentTouchEnd(m){this.onDocumentMouseUp(m)}onContainerTouchMove(m){this.touchSelect(m)?this.onContainerMouseMove(m):this.touch(m)}onContainerTouchStart(m){this.touchSelect(m)?this.onContainerMouseDown(m):(this.zoomOption(m),this.touch(m,!0))}onDocumentMouseMove(m){let C=this.chart,_=C.tooltip,I=this.chartPosition,D=this.normalize(m,I);!I||C.isInsidePlot(D.chartX-C.plotLeft,D.chartY-C.plotTop,{visiblePlotOnly:!0})||_!=null&&_.shouldStickOnContact(D)||D.target!==C.container.ownerDocument&&this.inClass(D.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(m){var C,_,I;m!=null&&m.touches&&this.hasPinchMoved&&((C=m==null?void 0:m.preventDefault)==null||C.call(m)),(I=(_=Yh[_l(Ri.hoverChartIndex,-1)])==null?void 0:_.pointer)==null||I.drop(m)}pinch(m){let C=this,{chart:_,hasZoom:I,lastTouches:D}=C,N=[].map.call(m.touches||[],ne=>C.normalize(ne)),V=N.length,q=V===1&&(C.inClass(m.target,"highcharts-tracker")&&_.runTrackerClick||C.runChartClick),Q=_.tooltip,ce=V===1&&_l(Q==null?void 0:Q.options.followTouchMove,!0);V>1?C.initiated=!0:ce&&(C.initiated=!1),I&&C.initiated&&!q&&m.cancelable!==!1&&m.preventDefault(),m.type==="touchstart"?(C.pinchDown=N,C.res=!0,_.mouseDownX=m.chartX):ce?this.runPointActions(C.normalize(m)):D&&(Lu(_,"touchpan",{originalEvent:m,touches:N},()=>{let ne=he=>{let ye=he[0],Ee=he[1]||ye;return{x:ye.chartX,y:ye.chartY,width:Ee.chartX-ye.chartX,height:Ee.chartY-ye.chartY}};_.transform({axes:_.axes.filter(he=>he.zoomEnabled&&(this.zoomHor&&he.horiz||this.zoomVert&&!he.horiz)),to:ne(N),from:ne(D),trigger:m.type})}),C.res&&(C.res=!1,this.reset(!1,0))),C.lastTouches=N}reset(m,C){let _=this.chart,I=_.hoverSeries,D=_.hoverPoint,N=_.hoverPoints,V=_.tooltip,q=V!=null&&V.shared?N:D;m&&q&&il(q).forEach(function(Q){Q.series.isCartesian&&Q.plotX===void 0&&(m=!1)}),m?V&&q&&il(q).length&&(V.refresh(q),V.shared&&N?N.forEach(function(Q){Q.setState(Q.state,!0),Q.series.isCartesian&&(Q.series.xAxis.crosshair&&Q.series.xAxis.drawCrosshair(null,Q),Q.series.yAxis.crosshair&&Q.series.yAxis.drawCrosshair(null,Q))}):D&&(D.setState(D.state,!0),_.axes.forEach(function(Q){Q.crosshair&&D.series[Q.coll]===Q&&Q.drawCrosshair(null,D)}))):(D&&D.onMouseOut(),N&&N.forEach(function(Q){Q.setState()}),I&&I.onMouseOut(),V&&V.hide(C),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),_.axes.forEach(function(Q){Q.hideCrosshair()}),_.hoverPoints=_.hoverPoint=void 0)}runPointActions(m,C,_){var Ne;let I=this.chart,D=I.series,N=(Ne=I.tooltip)!=null&&Ne.options.enabled?I.tooltip:void 0,V=!!N&&N.shared,q=C||I.hoverPoint,Q=(q==null?void 0:q.series)||I.hoverSeries,ce=(!m||m.type!=="touchmove")&&(!!C||(Q==null?void 0:Q.directTouch)&&this.isDirectTouch),ne=this.getHoverData(q,Q,D,ce,V,m);q=ne.hoverPoint,Q=ne.hoverSeries;let he=ne.hoverPoints,ye=(Q==null?void 0:Q.tooltipOptions.followPointer)&&!Q.tooltipOptions.split,Ee=V&&Q&&!Q.noSharedTooltip;if(q&&(_||q!==I.hoverPoint||N!=null&&N.isHidden)){if((I.hoverPoints||[]).forEach(function(Le){he.indexOf(Le)===-1&&Le.setState()}),I.hoverSeries!==Q&&Q.onMouseOver(),this.applyInactiveState(he),(he||[]).forEach(function(Le){Le.setState("hover")}),I.hoverPoint&&I.hoverPoint.firePointEvent("mouseOut"),!q.series)return;I.hoverPoints=he,I.hoverPoint=q,q.firePointEvent("mouseOver",void 0,()=>{N&&q&&N.refresh(Ee?he:q,m)})}else if(ye&&N&&!N.isHidden){let Le=N.getAnchor([{}],m);I.isInsidePlot(Le[0],Le[1],{visiblePlotOnly:!0})&&N.updatePosition({plotX:Le[0],plotY:Le[1]})}this.unDocMouseMove||(this.unDocMouseMove=vi(I.container.ownerDocument,"mousemove",Le=>{var Me,ze;return(ze=(Me=Yh[Ri.hoverChartIndex??-1])==null?void 0:Me.pointer)==null?void 0:ze.onDocumentMouseMove(Le)}),this.eventsToUnbind.push(this.unDocMouseMove)),I.axes.forEach(function(Le){var Ye;let Me,ze=((Ye=Le.crosshair)==null?void 0:Ye.snap)??!0;ze&&((Me=I.hoverPoint)&&Me.series[Le.coll]===Le||(Me=Pc(he,Nt=>{var Tt;return((Tt=Nt.series)==null?void 0:Tt[Le.coll])===Le}))),Me||!ze?Le.drawCrosshair(m,Me):Le.hideCrosshair()})}setDOMEvents(){let m=this.chart.container,C=m.ownerDocument;m.onmousedown=this.onContainerMouseDown.bind(this),m.onmousemove=this.onContainerMouseMove.bind(this),m.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(vi(m,"mouseenter",this.onContainerMouseEnter.bind(this)),vi(m,"mouseleave",this.onContainerMouseLeave.bind(this))),Ri.unbindDocumentMouseUp.some(I=>I.doc===C)||Ri.unbindDocumentMouseUp.push({doc:C,unbind:vi(C,"mouseup",this.onDocumentMouseUp.bind(this))});let _=this.chart.renderTo.parentElement;for(;_&&_.tagName!=="BODY";)this.eventsToUnbind.push(vi(_,"scroll",()=>{delete this.chartPosition})),_=_.parentElement;this.eventsToUnbind.push(vi(m,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),vi(m,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),Ri.unbindDocumentTouchEnd||(Ri.unbindDocumentTouchEnd=vi(C,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),vi(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){var D,N;if(!FS)return;let m=this.pointerCaptureEventsToUnbind,C=this.chart,_=C.container,I=_l((D=C.options.tooltip)==null?void 0:D.followTouchMove,!0)&&C.series.some(V=>V.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&I?(m.push(vi(_,"pointerdown",V=>{var q,Q;(q=V.target)!=null&&q.hasPointerCapture(V.pointerId)&&((Q=V.target)==null||Q.releasePointerCapture(V.pointerId))}),vi(_,"pointermove",V=>{var q,Q;(Q=(q=C.pointer)==null?void 0:q.getPointFromEvent(V))==null||Q.onMouseOver(V)})),C.styledMode||qa(_,{"touch-action":"none"}),_.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!I&&(m.forEach(V=>V()),m.length=0,C.styledMode||qa(_,{"touch-action":_l((N=C.options.chart.style)==null?void 0:N["touch-action"],"manipulation")}),_.className=_.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(m){var I;let C=this.chart,_=Ie.charts[_l(Ri.hoverChartIndex,-1)];if(_&&_!==C){let D={relatedTarget:C.container};m&&!(m!=null&&m.relatedTarget)&&Object.assign({},m,D),(I=_.pointer)==null||I.onContainerMouseLeave(m||D)}_!=null&&_.mouseIsDown||(Ri.hoverChartIndex=C.index)}touch(m,C){var N;let _,{chart:I,pinchDown:D=[]}=this;this.setHoverChartIndex(),(m=this.normalize(m)).touches.length===1?I.isInsidePlot(m.chartX-I.plotLeft,m.chartY-I.plotTop,{visiblePlotOnly:!0})&&!((N=I.exporting)!=null&&N.openMenu)?(C&&this.runPointActions(m),m.type==="touchmove"&&(this.hasPinchMoved=_=!!D[0]&&Math.pow(D[0].chartX-m.chartX,2)+Math.pow(D[0].chartY-m.chartY,2)>=16),_l(_,!0)&&this.pinch(m)):C&&this.reset():m.touches.length===2&&this.pinch(m)}touchSelect(m){return!!(this.chart.zooming.singleTouch&&m.touches&&m.touches.length===1)}zoomOption(m){let C=this.chart,_=C.inverted,I=C.zooming.type||"",D,N;/touch/.test(m.type)&&(I=_l(C.zooming.pinchType,I)),this.zoomX=D=/x/.test(I),this.zoomY=N=/y/.test(I),this.zoomHor=D&&!_||N&&_,this.zoomVert=N&&!_||D&&_,this.hasZoom=D||N}}Ri.unbindDocumentMouseUp=[],(function(ee){ee.compose=function(m){_f(Ii,"Core.Pointer")&&vi(m,"beforeRender",function(){this.pointer=new ee(this,this.options)})}})(Ri||(Ri={}));let Gb=Ri;(function(ee){ee.setLength=function(m,C,_){return Array.isArray(m)?(m.length=C,m):m[_?"subarray":"slice"](0,C)},ee.splice=function(m,C,_,I,D=[]){if(Array.isArray(m))return Array.isArray(D)||(D=Array.from(D)),{removed:m.splice(C,_,...D),array:m};let N=Object.getPrototypeOf(m).constructor,V=m[I?"subarray":"slice"](C,C+_),q=new N(m.length-_+D.length);return q.set(m.subarray(0,C),0),q.set(D,C),q.set(m.subarray(C+_),C+D.length),{removed:V,array:q}}})(B||(B={}));let{setLength:qb,splice:Zb}=B,{fireEvent:ty,objectEach:Bu,uniqueKey:ny}=vn,J=class{constructor(ee={}){this.autoId=!ee.id,this.columns={},this.id=ee.id||ny(),this.modified=this,this.rowCount=0,this.versionTag=ny();let m=0;Bu(ee.columns||{},(C,_)=>{this.columns[_]=C.slice(),m=Math.max(m,C.length)}),this.applyRowCount(m)}applyRowCount(ee){this.rowCount=ee,Bu(this.columns,(m,C)=>{m.length!==ee&&(this.columns[C]=qb(m,ee))})}deleteRows(ee,m=1){if(m>0&&ee<this.rowCount){let C=0;Bu(this.columns,(_,I)=>{this.columns[I]=Zb(_,ee,m).array,C=_.length}),this.rowCount=C}ty(this,"afterDeleteRows",{rowIndex:ee,rowCount:m}),this.versionTag=ny()}getColumn(ee,m){return this.columns[ee]}getColumns(ee,m){return(ee||Object.keys(this.columns)).reduce((C,_)=>(C[_]=this.columns[_],C),{})}getRow(ee,m){return(m||Object.keys(this.columns)).map(C=>{var _;return(_=this.columns[C])==null?void 0:_[ee]})}setColumn(ee,m=[],C=0,_){this.setColumns({[ee]:m},C,_)}setColumns(ee,m,C){let _=this.rowCount;Bu(ee,(I,D)=>{this.columns[D]=I.slice(),_=I.length}),this.applyRowCount(_),C!=null&&C.silent||(ty(this,"afterSetColumns"),this.versionTag=ny())}setRow(ee,m=this.rowCount,C,_){let{columns:I}=this,D=C?this.rowCount+1:m+1;Bu(ee,(N,V)=>{let q=I[V]||(_==null?void 0:_.addColumns)!==!1&&Array(D);q&&(C?q=Zb(q,m,0,!0,[N]).array:q[m]=N,I[V]=q)}),D>this.rowCount&&this.applyRowCount(D),_!=null&&_.silent||(ty(this,"afterSetRows"),this.versionTag=ny())}},{extend:ae,merge:ke,pick:qe}=vn;(function(ee){function m(C,_,I){var Nt,Tt;let D=this.legendItem=this.legendItem||{},{chart:N,options:V}=this,{baseline:q=0,symbolWidth:Q,symbolHeight:ce}=C,ne=this.symbol||"circle",he=ce/2,ye=N.renderer,Ee=D.group,Ne=q-Math.round((((Nt=C.fontMetrics)==null?void 0:Nt.b)||ce)*(I?.4:.3)),Le={},Me,ze=V.marker,Ye=0;if(N.styledMode||(Le["stroke-width"]=Math.min(V.lineWidth||0,24),V.dashStyle?Le.dashstyle=V.dashStyle:V.linecap!=="square"&&(Le["stroke-linecap"]="round")),D.line=ye.path().addClass("highcharts-graph").attr(Le).add(Ee),I&&(D.area=ye.path().addClass("highcharts-area").add(Ee)),Le["stroke-linecap"]&&(Ye=Math.min(D.line.strokeWidth(),Q)/2),Q){let It=[["M",Ye,Ne],["L",Q-Ye,Ne]];D.line.attr({d:It}),(Tt=D.area)==null||Tt.attr({d:[...It,["L",Q-Ye,q],["L",Ye,q]]})}if(ze&&ze.enabled!==!1&&Q){let It=Math.min(qe(ze.radius,he),he);ne.indexOf("url")===0&&(ze=ke(ze,{width:ce,height:ce}),It=0),D.symbol=Me=ye.symbol(ne,Q/2-It,Ne-It,2*It,2*It,ae({context:"legend"},ze)).addClass("highcharts-point").add(Ee),Me.isMarker=!0}}ee.areaMarker=function(C,_){m.call(this,C,_,!0)},ee.lineMarker=m,ee.rectangle=function(C,_){let I=_.legendItem||{},D=C.options,N=C.symbolHeight,V=D.squareSymbol,q=V?N:C.symbolWidth;I.symbol=this.chart.renderer.rect(V?(C.symbolWidth-N)/2:0,C.baseline-N+1,q,N,qe(C.options.symbolRadius,N/2)).addClass("highcharts-point").attr({zIndex:3}).add(I.group)}})(U||(U={}));let bt=U,{defaultOptions:un}=To,{extend:mo,extendClass:Go,merge:Zs}=vn;(function(ee){function m(C,_){let I=un.plotOptions||{},D=_.defaultOptions,N=_.prototype;return N.type=C,N.pointClass||(N.pointClass=$p),!ee.seriesTypes[C]&&(D&&(I[C]=D),ee.seriesTypes[C]=_,!0)}ee.seriesTypes=Ie.seriesTypes,ee.registerSeriesType=m,ee.seriesType=function(C,_,I,D,N){let V=un.plotOptions||{};if(_=_||"",V[C]=Zs(V[_],I),delete ee.seriesTypes[C],m(C,Go(ee.seriesTypes[_]||dd,D)),ee.seriesTypes[C].prototype.type=C,N){class q extends $p{}mo(q.prototype,N),ee.seriesTypes[C].prototype.pointClass=q}return ee.seriesTypes[C]}})(j||(j={}));let ws=j,{animObject:$i,setAnimation:ga}=Ia,{defaultOptions:Za}=To,{registerEventOptions:Vu}=Sl,{svg:Up,win:zp}=Ie,{seriesTypes:lu}=ws,{format:u1}=Lr,{arrayMax:Hm,arrayMin:Kb,clamp:$m,correctFloat:Mg,crisp:oy,defined:Bl,destroyObjectProperties:PE,diffObjects:NE,erase:Br,error:ki,extend:Ka,find:ud,fireEvent:Ya,getClosestDistance:Yb,getNestedProperty:Xb,insertItem:Jb,isArray:LE,isNumber:bl,isString:Um,merge:Qb,objectEach:BE,pick:Zr,removeEvent:Vl,syncTimeout:hp}=vn;class $d{constructor(){this.zoneAxis="y"}init(m,C){var q,Q,ce;let _;Ya(this,"init",{options:C}),this.dataTable??(this.dataTable=new J);let I=m.series;this.eventsToUnbind=[],this.chart=m,this.options=this.setOptions(C);let D=this.options,N=D.visible!==!1;this.linkedSeries=[],this.bindAxes(),Ka(this,{name:D.name,state:"",visible:N,selected:D.selected===!0}),Vu(this,D);let V=D.events;(V!=null&&V.click||(Q=(q=D.point)==null?void 0:q.events)!=null&&Q.click||D.allowPointSelect)&&(m.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(m.hasCartesianSeries=!0),I.length&&(_=I[I.length-1]),this._i=Zr(_==null?void 0:_._i,-1)+1,this.opacity=this.options.opacity,m.orderItems("series",Jb(this,I)),(ce=D.dataSorting)!=null&&ce.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(D.data,!1),Ya(this,"afterInit")}is(m){return lu[m]&&this instanceof lu[m]}bindAxes(){let m,C=this,_=C.options,I=C.chart;Ya(this,"bindAxes",null,function(){(C.axisTypes||[]).forEach(function(D){(I[D]||[]).forEach(function(N){m=N.options,(Zr(_[D],0)===N.index||_[D]!==void 0&&_[D]===m.id)&&(Jb(C,N.series),C[D]=N,N.isDirty=!0)}),C[D]||C.optionalAxis===D||ki(18,!0,I)})}),Ya(this,"afterBindAxes")}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(m,C){let _=m.marker,I=C.marker||{};return _&&(I.enabled&&!_.enabled||I.symbol!==_.symbol||I.height!==_.height||I.width!==_.width)}autoIncrement(m){let C,_=this.options,{pointIntervalUnit:I,relativeXValue:D}=this.options,N=this.chart.time,V=this.xIncrement??N.parse(_.pointStart)??0;if(this.pointInterval=C=Zr(this.pointInterval,_.pointInterval,1),D&&bl(m)&&(C*=m),I){let q=N.toParts(V);I==="day"?q[2]+=C:I==="month"?q[1]+=C:I==="year"&&(q[0]+=C),C=N.makeTime.apply(N,q)-V}return D&&bl(m)?V+C:(this.xIncrement=V+C,V)}setDataSortingOptions(){let m=this.options;Ka(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),Bl(m.pointRange)||(m.pointRange=1)}setOptions(m){var Le,Me;let C,_=this.chart,I=_.options.plotOptions,D=_.userOptions||{},N=Qb(m),V=_.styledMode,q={plotOptions:I,userOptions:N};Ya(this,"setOptions",q);let Q=q.plotOptions[this.type],ce=D.plotOptions||{},ne=ce.series||{},he=Za.plotOptions[this.type]||{},ye=ce[this.type]||{};Q.dataLabels=this.mergeArrays(he.dataLabels,Q.dataLabels),this.userOptions=q.userOptions;let Ee=Qb(Q,I.series,ye,N);this.tooltipOptions=Qb(Za.tooltip,(Le=Za.plotOptions.series)==null?void 0:Le.tooltip,he==null?void 0:he.tooltip,_.userOptions.tooltip,(Me=ce.series)==null?void 0:Me.tooltip,ye.tooltip,N.tooltip),this.stickyTracking=Zr(N.stickyTracking,ye.stickyTracking,ne.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||Ee.stickyTracking),Q.marker===null&&delete Ee.marker,this.zoneAxis=Ee.zoneAxis||"y";let Ne=this.zones=(Ee.zones||[]).map(ze=>({...ze}));return(Ee.negativeColor||Ee.negativeFillColor)&&!Ee.zones&&(C={value:Ee[this.zoneAxis+"Threshold"]||Ee.threshold||0,className:"highcharts-negative"},V||(C.color=Ee.negativeColor,C.fillColor=Ee.negativeFillColor),Ne.push(C)),Ne.length&&Bl(Ne[Ne.length-1].value)&&Ne.push(V?{}:{color:this.color,fillColor:this.fillColor}),Ya(this,"afterSetOptions",{options:Ee}),Ee}getName(){return this.options.name??u1(this.chart.options.lang.seriesName,this,this.chart)}getCyclic(m,C,_){let I,D,N=this.chart,V=`${m}Index`,q=`${m}Counter`,Q=(_==null?void 0:_.length)||N.options.chart.colorCount;!C&&(Bl(D=Zr(m==="color"?this.options.colorIndex:void 0,this[V]))?I=D:(N.series.length||(N[q]=0),I=N[q]%Q,N[q]+=1),_&&(C=_[I])),I!==void 0&&(this[V]=I),this[m]=C}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||Za.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let m=this.options.marker;this.getCyclic("symbol",m.symbol,this.chart.options.symbols)}getColumn(m,C){return(C?this.dataTable.modified:this.dataTable).getColumn(m,!0)||[]}findPointIndex(m,C){var ne;let _,I,D,{id:N,x:V}=m,q=this.points,Q=this.options.dataSorting,ce=this.cropStart||0;if(N){let he=this.chart.get(N);he instanceof $p&&(_=he)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let he=ye=>!ye.touched&&ye.index===m.index;if(Q!=null&&Q.matchByName?he=ye=>!ye.touched&&ye.name===m.name:this.options.relativeXValue&&(he=ye=>!ye.touched&&ye.options.x===m.x),!(_=ud(q,he)))return}return _&&(D=_==null?void 0:_.index)!==void 0&&(I=!0),D===void 0&&bl(V)&&(D=this.getColumn("x").indexOf(V,C)),D!==-1&&D!==void 0&&this.cropped&&(D=D>=ce?D-ce:D),!I&&bl(D)&&((ne=q[D])!=null&&ne.touched)&&(D=void 0),D}updateData(m,C){var Ne;let{options:_,requireSorting:I}=this,D=_.dataSorting,N=this.points,V=[],q=m.length===N.length,Q,ce,ne,he,ye=!0;if(this.xIncrement=null,m.forEach((Le,Me)=>{var It;let ze,Ye=Bl(Le)&&this.pointClass.prototype.optionsToObject.call({series:this},Le)||{},{id:Nt,x:Tt}=Ye;Nt||bl(Tt)?((ze=this.findPointIndex(Ye,he))===-1||ze===void 0?V.push(Le):N[ze]&&Le!==((It=_.data)==null?void 0:It[ze])?(N[ze].update(Le,!1,void 0,!1),N[ze].touched=!0,I&&(he=ze+1)):N[ze]&&(N[ze].touched=!0),(!q||Me!==ze||D!=null&&D.enabled||this.hasDerivedData)&&(Q=!0)):V.push(Le)},this),Q)for(ce=N.length;ce--;)(ne=N[ce])&&!ne.touched&&((Ne=ne.remove)==null||Ne.call(ne,!1,C));else q&&!(D!=null&&D.enabled)?(m.forEach((Le,Me)=>{Le===N[Me].y||N[Me].destroyed||N[Me].update(Le,!1,void 0,!1)}),V.length=0):ye=!1;if(N.forEach(Le=>{Le&&(Le.touched=!1)}),!ye)return!1;V.forEach(Le=>{this.addPoint(Le,!1,void 0,void 0,!1)},this);let Ee=this.getColumn("x");return this.xIncrement===null&&Ee.length&&(this.xIncrement=Hm(Ee),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(m,C=!0,_,I){var bn,Ft;let D=this.points,N=(D==null?void 0:D.length)||0,V=this.options,q=this.chart,Q=V.dataSorting,ce=this.xAxis,ne=V.turboThreshold,he=this.dataTable,ye=this.dataColumnKeys(),Ee=this.pointValKey||"y",Ne=(this.pointArrayMap||[]).length,Le=V.keys,Me,ze,Ye=0,Nt=1,Tt;q.options.chart.allowMutatingData||(V.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,Tt=Qb(!0,m));let It=(m=Tt||m||[]).length;if(Q!=null&&Q.enabled&&(m=this.sortData(m)),q.options.chart.allowMutatingData&&I!==!1&&It&&N&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&(ze=this.updateData(m,_)),!ze){this.xIncrement=null,this.colorCounter=0;let gn=ne&&!V.relativeXValue&&It>ne;if(gn){let Pn=this.getFirstValidPoint(m),ao=this.getFirstValidPoint(m,It-1,-1),Vo=qo=>!!(LE(qo)&&(Le||bl(qo[0])));if(bl(Pn)&&bl(ao)){let qo=[],Us=[];for(let bs of m)qo.push(this.autoIncrement()),Us.push(bs);he.setColumns({x:qo,[Ee]:Us})}else if(Vo(Pn)&&Vo(ao))if(Ne){let qo=+(Pn.length===Ne),Us=Array(ye.length).fill(0).map(()=>[]);for(let bs of m){qo&&Us[0].push(this.autoIncrement());for(let zs=qo;zs<=Ne;zs++)(bn=Us[zs])==null||bn.push(bs[zs-qo])}he.setColumns(ye.reduce((bs,zs,us)=>(bs[zs]=Us[us],bs),{}))}else{Le&&(Ye=Le.indexOf("x"),Nt=Le.indexOf("y"),Ye=Ye>=0?Ye:0,Nt=Nt>=0?Nt:1),Pn.length===1&&(Nt=0);let qo=[],Us=[];if(Ye===Nt)for(let bs of m)qo.push(this.autoIncrement()),Us.push(bs[Nt]);else for(let bs of m)qo.push(bs[Ye]),Us.push(bs[Nt]);he.setColumns({x:qo,[Ee]:Us})}else gn=!1}if(!gn){let Pn=ye.reduce((ao,Vo)=>(ao[Vo]=[],ao),{});for(Me=0;Me<It;Me++){let ao=this.pointClass.prototype.applyOptions.apply({series:this},[m[Me]]);for(let Vo of ye)Pn[Vo][Me]=ao[Vo]}he.setColumns(Pn)}for(Um(this.getColumn("y")[0])&&ki(14,!0,q),this.data=[],this.options.data=this.userOptions.data=m,Me=N;Me--;)(Ft=D[Me])==null||Ft.destroy();ce&&(ce.minRange=ce.userMinRange),this.isDirty=q.isDirtyBox=!0,this.isDirtyData=!!D,_=!1}V.legendType==="point"&&(this.processData(),this.generatePoints()),C&&q.redraw(_)}sortData(m){let C=this,_=C.options.dataSorting.sortKey||"y",I=function(D,N){return Bl(N)&&D.pointClass.prototype.optionsToObject.call({series:D},N)||{}};return m.forEach(function(D,N){m[N]=I(C,D),m[N].index=N},this),m.concat().sort((D,N)=>{let V=Xb(_,D),q=Xb(_,N);return q<V?-1:+(q>V)}).forEach(function(D,N){D.x=N},this),C.linkedSeries&&C.linkedSeries.forEach(function(D){var q;let N=D.options,V=N.data;!((q=N.dataSorting)!=null&&q.enabled)&&V&&(V.forEach(function(Q,ce){V[ce]=I(D,Q),m[ce]&&(V[ce].x=m[ce].x,V[ce].index=ce)}),D.setData(V,!1))}),m}getProcessedData(m){let C=this,{dataTable:_,isCartesian:I,options:D,xAxis:N}=C,V=D.cropThreshold,q=m||C.getExtremesFromAll,Q=N==null?void 0:N.logarithmic,ce=_.rowCount,ne,he,ye=0,Ee,Ne,Le,Me=C.getColumn("x"),ze=_,Ye=!1;return N&&(Ne=(Ee=N.getExtremes()).min,Le=Ee.max,Ye=!!(N.categories&&!N.names.length),I&&C.sorted&&!q&&(!V||ce>V||C.forceCrop)&&(Me[ce-1]<Ne||Me[0]>Le?ze=new J:C.getColumn(C.pointValKey||"y").length&&(Me[0]<Ne||Me[ce-1]>Le)&&(ze=(ne=this.cropData(_,Ne,Le)).modified,ye=ne.start,he=!0))),Me=ze.getColumn("x")||[],{modified:ze,cropped:he,cropStart:ye,closestPointRange:Yb([Q?Me.map(Q.log2lin):Me],()=>C.requireSorting&&!Ye&&ki(15,!1,C.chart))}}processData(m){let C=this.xAxis,_=this.dataTable;if(this.isCartesian&&!this.isDirty&&!C.isDirty&&!this.yAxis.isDirty&&!m)return!1;let I=this.getProcessedData();_.modified=I.modified,this.cropped=I.cropped,this.cropStart=I.cropStart,this.closestPointRange=this.basePointRange=I.closestPointRange,Ya(this,"afterProcessData")}cropData(m,C,_){let I=m.getColumn("x",!0)||[],D=I.length,N={},V,q,Q=0,ce=D;for(V=0;V<D;V++)if(I[V]>=C){Q=Math.max(0,V-1);break}for(q=V;q<D;q++)if(I[q]>_){ce=q+1;break}for(let ne of this.dataColumnKeys()){let he=m.getColumn(ne,!0);he&&(N[ne]=he.slice(Q,ce))}return{modified:new J({columns:N}),start:Q,end:ce}}generatePoints(){var Tt,It,bn;let m=this.options,C=this.processedData||m.data,_=this.dataTable.modified,I=this.getColumn("x",!0),D=this.pointClass,N=_.rowCount,V=this.cropStart||0,q=this.hasGroupedData,Q=m.keys,ce=[],ne=(Tt=m.dataGrouping)!=null&&Tt.groupAll?V:0,he=(It=this.xAxis)==null?void 0:It.categories,ye=this.pointArrayMap||["y"],Ee=this.dataColumnKeys(),Ne,Le,Me,ze,Ye=this.data,Nt;if(!Ye&&!q){let Ft=[];Ft.length=(C==null?void 0:C.length)||0,Ye=this.data=Ft}for(Q&&q&&(this.options.keys=!1),ze=0;ze<N;ze++)Le=V+ze,q?((Me=new D(this,_.getRow(ze,Ee)||[])).dataGroup=this.groupMap[ne+ze],(bn=Me.dataGroup)!=null&&bn.options&&(Me.options=Me.dataGroup.options,Ka(Me,Me.dataGroup.options),delete Me.dataLabels)):(Me=Ye[Le],Nt=C?C[Le]:_.getRow(ze,ye),Me||Nt===void 0||(Ye[Le]=Me=new D(this,Nt,I[ze]))),Me&&(Me.index=q?ne+ze:Le,ce[ze]=Me,Me.category=(he==null?void 0:he[Me.x])??Me.x,Me.key=Me.name??Me.category);if(this.options.keys=Q,Ye&&(N!==(Ne=Ye.length)||q))for(ze=0;ze<Ne;ze++)ze!==V||q||(ze+=N),Ye[ze]&&(Ye[ze].destroyElements(),Ye[ze].plotX=void 0);this.data=Ye,this.points=ce,Ya(this,"afterGeneratePoints")}getXExtremes(m){return{min:Kb(m),max:Hm(m)}}getExtremes(m,C){var Tt;let{xAxis:_,yAxis:I}=this,D=C||this.getExtremesFromAll||this.options.getExtremesFromAll,N=D&&this.cropped?this.dataTable:this.dataTable.modified,V=N.rowCount,q=m||this.stackedYData,Q=q?[q]:((Tt=this.keysAffectYAxis||this.pointArrayMap||["y"])==null?void 0:Tt.map(It=>N.getColumn(It,!0)||[]))||[],ce=this.getColumn("x",!0),ne=[],he=this.requireSorting&&!this.is("column")?1:0,ye=!!I&&I.positiveValuesOnly,Ee=D||this.cropped||!_,Ne,Le,Me,ze=0,Ye=0;for(_&&(ze=(Ne=_.getExtremes()).min,Ye=Ne.max),Me=0;Me<V;Me++)if(Le=ce[Me],Ee||(ce[Me+he]||Le)>=ze&&(ce[Me-he]||Le)<=Ye)for(let It of Q){let bn=It[Me];bl(bn)&&(bn>0||!ye)&&ne.push(bn)}let Nt={activeYData:ne,dataMin:Kb(ne),dataMax:Hm(ne)};return Ya(this,"afterGetExtremes",{dataExtremes:Nt}),Nt}applyExtremes(){let m=this.getExtremes();return this.dataMin=m.dataMin,this.dataMax=m.dataMax,m}getFirstValidPoint(m,C=0,_=1){let I=m.length,D=C;for(;D>=0&&D<I;){if(Bl(m[D]))return m[D];D+=_}}translate(){var Ye;this.generatePoints();let m=this.options,C=m.stacking,_=this.xAxis,I=this.enabledDataSorting,D=this.yAxis,N=this.points,V=N.length,q=this.pointPlacementToXValue(),Q=!!q,ce=m.threshold,ne=m.startFromThreshold?ce:0,he=(m==null?void 0:m.nullInteraction)&&D.len,ye,Ee,Ne,Le,Me=Number.MAX_VALUE;function ze(Nt){return $m(Nt,-1e9,1e9)}for(ye=0;ye<V;ye++){let Nt,Tt=N[ye],It=Tt.x,bn,Ft,gn=Tt.y,Pn=Tt.low,ao=C&&((Ye=D.stacking)==null?void 0:Ye.stacks[(this.negStacks&&gn<(ne?0:ce)?"-":"")+this.stackKey]);Tt.plotX=bl(Ee=_.translate(It,!1,!1,!1,!0,q))?Mg(ze(Ee)):void 0,C&&this.visible&&ao&&ao[It]&&(Le=this.getStackIndicator(Le,It,this.index),!Tt.isNull&&Le.key&&(Ft=(bn=ao[It]).points[Le.key]),bn&&LE(Ft)&&(Pn=Ft[0],gn=Ft[1],Pn===ne&&Le.key===ao[It].base&&(Pn=Zr(bl(ce)?ce:D.min)),D.positiveValuesOnly&&Bl(Pn)&&Pn<=0&&(Pn=void 0),Tt.total=Tt.stackTotal=Zr(bn.total),Tt.percentage=Bl(Tt.y)&&bn.total?Tt.y/bn.total*100:void 0,Tt.stackY=gn,this.irregularWidths||bn.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),Tt.yBottom=Bl(Pn)?ze(D.translate(Pn,!1,!0,!1,!0)):void 0,this.dataModify&&(gn=this.dataModify.modifyValue(gn,ye)),bl(gn)&&Tt.plotX!==void 0?Nt=bl(Nt=D.translate(gn,!1,!0,!1,!0))?ze(Nt):void 0:!bl(gn)&&he&&(Nt=he),Tt.plotY=Nt,Tt.isInside=this.isPointInside(Tt),Tt.clientX=Q?Mg(_.translate(It,!1,!1,!1,!0,q)):Ee,Tt.negative=(Tt.y||0)<(ce||0),Tt.isNull||Tt.visible===!1||(Ne!==void 0&&(Me=Math.min(Me,Math.abs(Ee-Ne))),Ne=Ee),Tt.zone=this.zones.length?Tt.getZone():void 0,!Tt.graphic&&this.group&&I&&(Tt.isNew=!0)}this.closestPointRangePx=Me,Ya(this,"afterTranslate")}getValidPoints(m,C,_){let I=this.chart;return(m||this.points||[]).filter(function(D){let{plotX:N,plotY:V}=D;return(!!_||!D.isNull&&!!bl(V))&&(!C||!!I.isInsidePlot(N,V,{inverted:I.inverted}))&&D.visible!==!1})}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:m,group:C,markerGroup:_}=this,I=m.sharedClips,D=m.renderer,N=m.getClipBox(this),V=this.getSharedClipKey(),q=I[V];q?q.animate(N):I[V]=q=D.clipRect(N),C&&C.clip(this.options.clip===!1?void 0:q),_&&_.clip()}animate(m){let{chart:C,group:_,markerGroup:I}=this,D=C.inverted,N=$i(this.options.animation),V=[this.getSharedClipKey(),N.duration,N.easing,N.defer].join(","),q=C.sharedClips[V],Q=C.sharedClips[V+"m"];if(m&&_){let ce=C.getClipBox(this);if(q)q.attr("height",ce.height);else{ce.width=0,D&&(ce.x=C.plotHeight),q=C.renderer.clipRect(ce),C.sharedClips[V]=q;let ne={x:-99,y:-99,width:D?C.plotWidth+199:99,height:D?99:C.plotHeight+199};Q=C.renderer.clipRect(ne),C.sharedClips[V+"m"]=Q}_.clip(q),I==null||I.clip(Q)}else if(q&&!q.hasClass("highcharts-animating")){let ce=C.getClipBox(this),ne=N.step;(I!=null&&I.element.childNodes.length||C.series.length>1)&&(N.step=function(he,ye){ne&&ne.apply(ye,arguments),ye.prop==="width"&&(Q!=null&&Q.element)&&Q.attr(D?"height":"width",he+99)}),q.addClass("highcharts-animating").animate(ce,N)}}afterAnimate(){this.setClip(),BE(this.chart.sharedClips,(m,C,_)=>{m&&!this.chart.container.querySelector(`[clip-path="url(#${m.id})"]`)&&(m.destroy(),delete _[C])}),this.finishedAnimating=!0,Ya(this,"afterAnimate")}drawPoints(m=this.points){let C,_,I,D,N,V,q,Q=this.chart,ce=Q.styledMode,{colorAxis:ne,options:he}=this,ye=he.marker,Ee=he.nullInteraction,Ne=this[this.specialGroup||"markerGroup"],Le=this.xAxis,Me=Zr(ye.enabled,!Le||!!Le.isRadial||null,this.closestPointRangePx>=ye.enabledThreshold*ye.radius);if(ye.enabled!==!1||this._hasPointMarkers)for(C=0;C<m.length;C++){D=(I=(_=m[C]).graphic)?"animate":"attr",N=_.marker||{},V=!!_.marker;let ze=_.isNull;if((Me&&!Bl(N.enabled)||N.enabled)&&(!ze||Ee)&&_.visible!==!1){let Ye=Zr(N.symbol,this.symbol,"rect");q=this.markerAttribs(_,_.selected&&"select"),this.enabledDataSorting&&(_.startXPos=Le.reversed?-(q.width||0):Le.width);let Nt=_.isInside!==!1;if(!I&&Nt&&((q.width||0)>0||_.hasImage)&&(_.graphic=I=Q.renderer.symbol(Ye,q.x,q.y,q.width,q.height,V?N:ye).add(Ne),this.enabledDataSorting&&Q.hasRendered&&(I.attr({x:_.startXPos}),D="animate")),I&&D==="animate"&&I[Nt?"show":"hide"](Nt).animate(q),I){let Tt=this.pointAttribs(_,ce||!_.selected?void 0:"select");ce?ne&&I.css({fill:Tt.fill}):I[D](Tt)}I&&I.addClass(_.getClassName(),!0)}else I&&(_.graphic=I.destroy())}}markerAttribs(m,C){let _=this.options,I=_.marker,D=m.marker||{},N=D.symbol||I.symbol,V={},q,Q,ce=Zr(D.radius,I==null?void 0:I.radius);C&&(q=I.states[C],Q=D.states&&D.states[C],ce=Zr(Q==null?void 0:Q.radius,q==null?void 0:q.radius,ce&&ce+((q==null?void 0:q.radiusPlus)||0))),m.hasImage=N&&N.indexOf("url")===0,m.hasImage&&(ce=0);let ne=m.pos();return bl(ce)&&ne&&(_.crisp&&(ne[0]=oy(ne[0],m.hasImage?0:N==="rect"?(I==null?void 0:I.lineWidth)||0:1)),V.x=ne[0]-ce,V.y=ne[1]-ce),ce&&(V.width=V.height=2*ce),V}pointAttribs(m,C){var Me;let _=this.options,I=_.marker,D=m==null?void 0:m.options,N=(D==null?void 0:D.marker)||{},V=D==null?void 0:D.color,q=m==null?void 0:m.color,Q=(Me=m==null?void 0:m.zone)==null?void 0:Me.color,ce,ne,he=this.color,ye,Ee,Ne=Zr(N.lineWidth,I.lineWidth),Le=m!=null&&m.isNull&&_.nullInteraction?0:1;return he=V||Q||q||he,ye=N.fillColor||I.fillColor||he,Ee=N.lineColor||I.lineColor||he,C=C||"normal",ce=I.states[C]||{},Ne=Zr((ne=N.states&&N.states[C]||{}).lineWidth,ce.lineWidth,Ne+Zr(ne.lineWidthPlus,ce.lineWidthPlus,0)),ye=ne.fillColor||ce.fillColor||ye,Ee=ne.lineColor||ce.lineColor||Ee,{stroke:Ee,"stroke-width":Ne,fill:ye,opacity:Le=Zr(ne.opacity,ce.opacity,Le)}}destroy(m){var q,Q;let C,_,I=this,D=I.chart,N=/AppleWebKit\/533/.test(zp.navigator.userAgent),V=I.data||[];for(Ya(I,"destroy",{keepEventsForUpdate:m}),this.removeEvents(m),(I.axisTypes||[]).forEach(function(ce){_=I[ce],_!=null&&_.series&&(Br(_.series,I),_.isDirty=_.forceRedraw=!0)}),I.legendItem&&I.chart.legend.destroyItem(I),C=V.length;C--;)(Q=(q=V[C])==null?void 0:q.destroy)==null||Q.call(q);for(let ce of I.zones)PE(ce,void 0,!0);vn.clearTimeout(I.animationTimeout),BE(I,function(ce,ne){ce instanceof L&&!ce.survive&&ce[N&&ne==="group"?"hide":"destroy"]()}),D.hoverSeries===I&&(D.hoverSeries=void 0),Br(D.series,I),D.orderItems("series"),BE(I,function(ce,ne){m&&ne==="hcEvents"||delete I[ne]})}applyZones(){let{area:m,chart:C,graph:_,zones:I,points:D,xAxis:N,yAxis:V,zoneAxis:q}=this,{inverted:Q,renderer:ce}=C,ne=this[`${q}Axis`],{isXAxis:he,len:ye=0,minPointOffset:Ee=0}=ne||{},Ne=((_==null?void 0:_.strokeWidth())||0)/2+1,Le=(Me,ze=0,Ye=0)=>{Q&&(Ye=ye-Ye);let{translated:Nt=0,lineClip:Tt}=Me,It=Ye-Nt;Tt==null||Tt.push(["L",ze,Math.abs(It)<Ne?Ye-Ne*(It<=0?-1:1):Nt])};if(I.length&&(_||m)&&ne&&bl(ne.min)){let Me=ne.getExtremes().max+Ee,ze=Tt=>{Tt.forEach((It,bn)=>{(It[0]==="M"||It[0]==="L")&&(Tt[bn]=[It[0],he?ye-It[1]:It[1],he?It[2]:ye-It[2]])})};if(I.forEach(Tt=>{Tt.lineClip=[],Tt.translated=$m(ne.toPixels(Zr(Tt.value,Me),!0)||0,0,ye)}),_&&!this.showLine&&_.hide(),m&&m.hide(),q==="y"&&D.length<N.len)for(let Tt of D){let{plotX:It,plotY:bn,zone:Ft}=Tt,gn=Ft&&I[I.indexOf(Ft)-1];Ft&&Le(Ft,It,bn),gn&&Le(gn,It,bn)}let Ye=[],Nt=ne.toPixels(ne.getExtremes().min-Ee,!0);I.forEach(Tt=>{var zs,us;let It=Tt.lineClip||[],bn=Math.round(Tt.translated||0);N.reversed&&It.reverse();let{clip:Ft,simpleClip:gn}=Tt,Pn=0,ao=0,Vo=N.len,qo=V.len;he?(Pn=bn,Vo=Nt):(ao=bn,qo=Nt);let Us=[["M",Pn,ao],["L",Vo,ao],["L",Vo,qo],["L",Pn,qo],["Z"]],bs=[Us[0],...It,Us[1],Us[2],...Ye,Us[3],Us[4]];Ye=It.reverse(),Nt=bn,Q&&(ze(bs),m&&ze(Us)),Ft?(Ft.animate({d:bs}),gn==null||gn.animate({d:Us})):(Ft=Tt.clip=ce.path(bs),m&&(gn=Tt.simpleClip=ce.path(Us))),_&&((zs=Tt.graph)==null||zs.clip(Ft)),m&&((us=Tt.area)==null||us.clip(gn))})}else this.visible&&(_&&_.show(),m&&m.show())}plotGroup(m,C,_,I,D){let N=this[m],V=!N,q={visibility:_,zIndex:I||.1};return Bl(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(q.opacity=this.opacity),N||(this[m]=N=this.chart.renderer.g().add(D)),N.addClass("highcharts-"+C+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(Bl(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(N.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),N.attr(q)[V?"attr":"animate"](this.getPlotBox(C)),N}getPlotBox(m){let C=this.xAxis,_=this.yAxis,I=this.chart,D=I.inverted&&!I.polar&&C&&this.invertible&&m==="series";I.inverted&&(C=_,_=this.xAxis);let N={scale:1,translateX:C?C.left:I.plotLeft,translateY:_?_.top:I.plotTop,name:m};Ya(this,"getPlotBox",N);let{scale:V,translateX:q,translateY:Q}=N;return{translateX:q,translateY:Q,rotation:90*!!D,rotationOriginX:D?V*(C.len-_.len)/2:0,rotationOriginY:D?V*(C.len+_.len)/2:0,scaleX:D?-V:V,scaleY:V}}removeEvents(m){let{eventsToUnbind:C}=this;m||Vl(this),C.length&&(C.forEach(_=>{_()}),C.length=0)}render(){var ce,ne,he,ye,Ee;let m=this,{chart:C,options:_,hasRendered:I}=m,D=$i(_.animation),N=m.visible?"inherit":"hidden",V=_.zIndex,q=C.seriesGroup,Q=m.finishedAnimating?0:D.duration;Ya(this,"render"),m.plotGroup("group","series",N,V,q),m.markerGroup=m.plotGroup("markerGroup","markers",N,V,q),_.clip!==!1&&m.setClip(),Q&&((ce=m.animate)==null||ce.call(m,!0)),m.drawGraph&&(m.drawGraph(),m.applyZones()),m.visible&&m.drawPoints(),(ne=m.drawDataLabels)==null||ne.call(m),(he=m.redrawPoints)==null||he.call(m),_.enableMouseTracking&&((ye=m.drawTracker)==null||ye.call(m)),Q&&((Ee=m.animate)==null||Ee.call(m)),I||(Q&&D.defer&&(Q+=D.defer),m.animationTimeout=hp(()=>{m.afterAnimate()},Q||0)),m.isDirty=!1,m.hasRendered=!0,Ya(m,"afterRender")}redraw(){let m=this.isDirty||this.isDirtyData;this.translate(),this.render(),m&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(m,C){let{xAxis:_,yAxis:I}=this,D=this.chart.inverted;return this.searchKDTree({clientX:D?_.len-m.chartY+_.pos:m.chartX-_.pos,plotY:D?I.len-m.chartX+I.pos:m.chartY-I.pos},C,m)}buildKDTree(m){this.buildingKdTree=!0;let C=this,_=C.options,I=_.findNearestPointBy.indexOf("y")>-1?2:1;delete C.kdTree,hp(function(){C.kdTree=(function D(N,V,q){let Q,ce,ne=N==null?void 0:N.length;if(ne)return Q=C.kdAxisArray[V%q],N.sort((he,ye)=>(he[Q]||0)-(ye[Q]||0)),{point:N[ce=Math.floor(ne/2)],left:D(N.slice(0,ce),V+1,q),right:D(N.slice(ce+1),V+1,q)}})(C.getValidPoints(void 0,!C.directTouch,_==null?void 0:_.nullInteraction),I,I),C.buildingKdTree=!1},_.kdNow||(m==null?void 0:m.type)==="touchstart"?0:1)}searchKDTree(m,C,_,I,D){let N=this,[V,q]=this.kdAxisArray,Q=C?"distX":"dist",ce=(N.options.findNearestPointBy||"").indexOf("y")>-1?2:1,ne=!!N.isBubble,he=I||((Ee,Ne,Le)=>{let Me=Ee[Le]||0,ze=Ne[Le]||0;return[Me===ze&&Ee.index>Ne.index||Me<ze?Ee:Ne,!1]}),ye=D||((Ee,Ne)=>Ee<Ne);if(this.kdTree||this.buildingKdTree||this.buildKDTree(_),this.kdTree)return(function Ee(Ne,Le,Me,ze){var Pn;let Ye=Le.point,Nt=N.kdAxisArray[Me%ze],Tt=Ye,It=!1;(function(ao,Vo){var Di;let qo=ao[V],Us=Vo[V],bs=Bl(qo)&&Bl(Us)?qo-Us:null,zs=ao[q],us=Vo[q],or=Bl(zs)&&Bl(us)?zs-us:0,jr=ne&&((Di=Vo.marker)==null?void 0:Di.radius)||0;Vo.dist=Math.sqrt((bs&&bs*bs||0)+or*or)-jr,Vo.distX=Bl(bs)?Math.abs(bs)-jr:Number.MAX_VALUE})(Ne,Ye);let bn=(Ne[Nt]||0)-(Ye[Nt]||0)+(ne&&((Pn=Ye.marker)==null?void 0:Pn.radius)||0),Ft=bn<0?"left":"right",gn=bn<0?"right":"left";return Le[Ft]&&([Tt,It]=he(Ye,Ee(Ne,Le[Ft],Me+1,ze),Q)),Le[gn]&&ye(Math.sqrt(bn*bn),Tt[Q],It)&&(Tt=he(Tt,Ee(Ne,Le[gn],Me+1,ze),Q)[0]),Tt})(m,this.kdTree,ce,ce)}pointPlacementToXValue(){let{options:m,xAxis:C}=this,_=m.pointPlacement;return _==="between"&&(_=C.reversed?-.5:.5),bl(_)?_*(m.pointRange||C.pointRange):0}isPointInside(m){let{chart:C,xAxis:_,yAxis:I}=this,{plotX:D=-1,plotY:N=-1}=m;return N>=0&&N<=(I?I.len:C.plotHeight)&&D>=0&&D<=(_?_.len:C.plotWidth)}drawTracker(){var he;let m=this,C=m.options,_=C.trackByArea,I=[].concat((_?m.areaPath:m.graphPath)||[]),D=m.chart,N=D.pointer,V=D.renderer,q=((he=D.options.tooltip)==null?void 0:he.snap)||0,Q=()=>{C.enableMouseTracking&&D.hoverSeries!==m&&m.onMouseOver()},ce="rgba(192,192,192,"+(Up?1e-4:.002)+")",ne=m.tracker;ne?ne.attr({d:I}):m.graph&&(m.tracker=ne=V.path(I).attr({visibility:m.visible?"inherit":"hidden",zIndex:2}).addClass(_?"highcharts-tracker-area":"highcharts-tracker-line").add(m.group),D.styledMode||ne.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:ce,fill:_?ce:"none","stroke-width":m.graph.strokeWidth()+(_?0:2*q)}),[m.tracker,m.markerGroup,m.dataLabelsGroup].forEach(ye=>{ye&&(ye.addClass("highcharts-tracker").on("mouseover",Q).on("mouseout",Ee=>{N==null||N.onTrackerMouseOut(Ee)}),C.cursor&&!D.styledMode&&ye.css({cursor:C.cursor}),ye.on("touchstart",Q))})),Ya(this,"afterDrawTracker")}addPoint(m,C,_,I,D){let N,V,q=this.options,{chart:Q,data:ce,dataTable:ne,xAxis:he}=this,ye=(he==null?void 0:he.hasNames)&&he.names,Ee=q.data,Ne=this.getColumn("x");C=Zr(C,!0);let Le={series:this};this.pointClass.prototype.applyOptions.apply(Le,[m]);let Me=Le.x;if(V=Ne.length,this.requireSorting&&Me<Ne[V-1])for(N=!0;V&&Ne[V-1]>Me;)V--;ne.setRow(Le,V,!0,{addColumns:!1}),ye&&Le.name&&(ye[Me]=Le.name),Ee==null||Ee.splice(V,0,m),(N||this.processedData)&&(this.data.splice(V,0,null),this.processData()),q.legendType==="point"&&this.generatePoints(),_&&(ce[0]&&ce[0].remove?ce[0].remove(!1):([ce,Ee].filter(Bl).forEach(ze=>{ze.shift()}),ne.deleteRows(0))),D!==!1&&Ya(this,"addPoint",{point:Le}),this.isDirty=!0,this.isDirtyData=!0,C&&Q.redraw(I)}removePoint(m,C,_){let I=this,{chart:D,data:N,points:V,dataTable:q}=I,Q=N[m],ce=function(){[(V==null?void 0:V.length)===N.length?V:void 0,N,I.options.data].filter(Bl).forEach(ne=>{ne.splice(m,1)}),q.deleteRows(m),Q==null||Q.destroy(),I.isDirty=!0,I.isDirtyData=!0,C&&D.redraw()};ga(_,D),C=Zr(C,!0),Q?Q.firePointEvent("remove",null,ce):ce()}remove(m,C,_,I){let D=this,N=D.chart;function V(){D.destroy(I),N.isDirtyLegend=N.isDirtyBox=!0,N.linkSeries(I),Zr(m,!0)&&N.redraw(C)}_!==!1?Ya(D,"remove",null,V):V()}update(m,C){var Me,ze;Ya(this,"update",{options:m=NE(m,this.userOptions)});let _=this,I=_.chart,D=_.userOptions,N=_.initialType||_.type,V=I.options.plotOptions,q=lu[N].prototype,Q=_.finishedAnimating&&{animation:!1},ce={},ne,he,ye=$d.keepProps.slice(),Ee=m.type||D.type||I.options.chart.type,Ne=!(this.hasDerivedData||Ee&&Ee!==this.type||m.keys!==void 0||m.pointStart!==void 0||m.pointInterval!==void 0||m.relativeXValue!==void 0||m.joinBy||m.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(Ye=>_.hasOptionChanged(Ye)));Ee=Ee||N,Ne?(ye.push.apply(ye,$d.keepPropsForPoints),m.visible!==!1&&ye.push("area","graph"),_.parallelArrays.forEach(function(Ye){ye.push(Ye+"Data")}),m.data&&(m.dataSorting&&Ka(_.options.dataSorting,m.dataSorting),this.setData(m.data,!1))):this.dataTable.modified=this.dataTable,m=Qb(D,{index:D.index===void 0?_.index:D.index,pointStart:((Me=V==null?void 0:V.series)==null?void 0:Me.pointStart)??D.pointStart??_.getColumn("x")[0]},!Ne&&{data:_.options.data},m,Q),Ne&&m.data&&(m.data=_.options.data),(ye=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(ye)).forEach(function(Ye){ye[Ye]=_[Ye],delete _[Ye]});let Le=!1;if(lu[Ee]){if(Le=Ee!==_.type,_.remove(!1,!1,!1,!0),Le)if(I.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(_,lu[Ee].prototype);else{let Ye=Object.hasOwnProperty.call(_,"hcEvents")&&_.hcEvents;for(he in q)_[he]=void 0;Ka(_,lu[Ee].prototype),Ye?_.hcEvents=Ye:delete _.hcEvents}}else ki(17,!0,I,{missingModuleFor:Ee});if(ye.forEach(function(Ye){_[Ye]=ye[Ye]}),_.init(I,m),Ne&&this.points)for(let Ye of((ne=_.options).visible===!1?(ce.graphic=1,ce.dataLabel=1):(this.hasMarkerChanged(ne,D)&&(ce.graphic=1),(ze=_.hasDataLabels)!=null&&ze.call(_)||(ce.dataLabel=1)),this.points))Ye!=null&&Ye.series&&(Ye.resolveColor(),Object.keys(ce).length&&Ye.destroyElements(ce),ne.showInLegend===!1&&Ye.legendItem&&I.legend.destroyItem(Ye));_.initialType=N,I.linkSeries(),I.setSortedData(),Le&&_.linkedSeries.length&&(_.isDirtyData=!0),Ya(this,"afterUpdate"),Zr(C,!0)&&I.redraw(!!Ne&&void 0)}setName(m){this.name=this.options.name=this.userOptions.name=m,this.chart.isDirtyLegend=!0}hasOptionChanged(m){var V,q;let C=this.chart,_=this.options[m],I=C.options.plotOptions,D=this.userOptions[m],N=Zr((V=I==null?void 0:I[this.type])==null?void 0:V[m],(q=I==null?void 0:I.series)==null?void 0:q[m]);return D&&!Bl(N)?_!==D:_!==Zr(N,_)}onMouseOver(){let m=this.chart,C=m.hoverSeries,_=m.pointer;_==null||_.setHoverChartIndex(),C&&C!==this&&C.onMouseOut(),this.options.events.mouseOver&&Ya(this,"mouseOver"),this.setState("hover"),m.hoverSeries=this}onMouseOut(){let m=this.options,C=this.chart,_=C.tooltip,I=C.hoverPoint;C.hoverSeries=null,I&&I.onMouseOut(),this&&m.events.mouseOut&&Ya(this,"mouseOut"),_&&!this.stickyTracking&&(!_.shared||this.noSharedTooltip)&&_.hide(),C.series.forEach(function(D){D.setState("",!0)})}setState(m,C){let _=this,I=_.options,D=_.graph,N=I.inactiveOtherPoints,V=I.states,q=Zr(V[m||"normal"]&&V[m||"normal"].animation,_.chart.options.chart.animation),Q=I.lineWidth,ce=I.opacity;if(m=m||"",_.state!==m&&([_.group,_.markerGroup,_.dataLabelsGroup].forEach(function(ne){ne&&(_.state&&ne.removeClass("highcharts-series-"+_.state),m&&ne.addClass("highcharts-series-"+m))}),_.state=m,!_.chart.styledMode)){if(V[m]&&V[m].enabled===!1)return;if(m&&(Q=V[m].lineWidth||Q+(V[m].lineWidthPlus||0),ce=Zr(V[m].opacity,ce)),D&&!D.dashstyle&&bl(Q))for(let ne of[D,...this.zones.map(he=>he.graph)])ne==null||ne.animate({"stroke-width":Q},q);N||[_.group,_.markerGroup,_.dataLabelsGroup,_.labelBySeries].forEach(function(ne){ne&&ne.animate({opacity:ce},q)})}C&&N&&_.points&&_.setAllPointsToState(m||void 0)}setAllPointsToState(m){this.points.forEach(function(C){C.setState&&C.setState(m)})}setVisible(m,C){var q;let _=this,I=_.chart,D=I.options.chart.ignoreHiddenSeries,N=_.visible;_.visible=m=_.options.visible=_.userOptions.visible=m===void 0?!N:m;let V=m?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(Q=>{var ce;(ce=_[Q])==null||ce[V]()}),(I.hoverSeries===_||((q=I.hoverPoint)==null?void 0:q.series)===_)&&_.onMouseOut(),_.legendItem&&I.legend.colorizeItem(_,m),_.isDirty=!0,_.options.stacking&&I.series.forEach(Q=>{Q.options.stacking&&Q.visible&&(Q.isDirty=!0)}),_.linkedSeries.forEach(Q=>{Q.setVisible(m,!1)}),D&&(I.isDirtyBox=!0),Ya(_,V),C!==!1&&I.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(m){this.selected=m=this.options.selected=m===void 0?!this.selected:m,this.checkbox&&(this.checkbox.checked=m),Ya(this,m?"select":"unselect")}shouldShowTooltip(m,C,_={}){return _.series=this,_.visiblePlotOnly=!0,this.chart.isInsidePlot(m,C,_)}drawLegendSymbol(m,C){var _;(_=bt[this.options.legendSymbol||"rectangle"])==null||_.call(this,m,C)}}$d.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:ee}=this.series.chart;return typeof this.y!="number"?"":ee(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},$d.types=ws.seriesTypes,$d.registerType=ws.registerSeriesType,$d.keepProps=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],$d.keepPropsForPoints=["data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"],Ka($d.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:$p,requireSorting:!0,sorted:!0}),ws.series=$d;let dd=$d,{animObject:Fu,setAnimation:VE}=Ia,{registerEventOptions:Pg}=Sl,{composed:HS,marginNames:Ud}=Ie,{distribute:$S}=pf,{format:Ki}=Lr,{addEvent:Ng,createElement:Lg,css:OO,defined:US,discardElement:zS,find:IO,fireEvent:jp,isNumber:zm,merge:Bg,pick:No,pushUnique:va,relativeLength:sy,stableSort:e0,syncTimeout:Nc}=vn;class Hv{constructor(m,C){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=m,this.setOptions(C),C.enabled&&(this.render(),Pg(this,C),Ng(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),Ng(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(m){let C=No(m.padding,8);this.options=m,this.chart.styledMode||(this.itemStyle=m.itemStyle,this.itemHiddenStyle=Bg(this.itemStyle,m.itemHiddenStyle)),this.itemMarginTop=m.itemMarginTop,this.itemMarginBottom=m.itemMarginBottom,this.padding=C,this.initialItemY=C-5,this.symbolWidth=No(m.symbolWidth,16),this.pages=[],this.proximate=m.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(m,C){let _=this.chart;this.setOptions(Bg(!0,this.options,m)),"events"in this.options&&Pg(this,this.options),this.destroy(),_.isDirtyLegend=_.isDirtyBox=!0,No(C,!0)&&_.redraw(),jp(this,"afterUpdate",{redraw:C})}colorizeItem(m,C){var Q;let _=m.color,{area:I,group:D,label:N,line:V,symbol:q}=m.legendItem||{};if((m instanceof dd||m instanceof $p)&&(m.color=((Q=m.options)==null?void 0:Q.legendSymbolColor)||_),D==null||D[C?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:ce={}}=this,ne=ce.color,{fillColor:he,fillOpacity:ye,lineColor:Ee,marker:Ne}=m.options,Le=Me=>(!C&&(Me.fill&&(Me.fill=ne),Me.stroke&&(Me.stroke=ne)),Me);N==null||N.css(Bg(C?this.itemStyle:ce)),V==null||V.attr(Le({stroke:Ee||m.color})),q&&q.attr(Le(Ne&&q.isMarker?m.pointAttribs():{fill:m.color})),I==null||I.attr(Le({fill:he||m.color,"fill-opacity":he?1:ye??.75}))}m.color=_,jp(this,"afterColorizeItem",{item:m,visible:C})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(m){let{group:C,x:_=0,y:I=0}=m.legendItem||{},D=this.options,N=D.symbolPadding,V=!D.rtl,q=m.checkbox;if(C!=null&&C.element){let Q={translateX:V?_:this.legendWidth-_-2*N-4,translateY:I};C[US(C.translateY)?"animate":"attr"](Q,void 0,()=>{jp(this,"afterPositionItem",{item:m})})}q&&(q.x=_,q.y=I)}destroyItem(m){let C=m.legendItem||{};for(let _ of["group","label","line","symbol"])C[_]&&(C[_]=C[_].destroy());m.checkbox=zS(m.checkbox),m.legendItem=void 0}destroy(){for(let m of this.getAllItems())this.destroyItem(m);for(let m of["clipRect","up","down","pager","nav","box","title","group"])this[m]&&(this[m]=this[m].destroy());this.display=null}positionCheckboxes(){var D;let m,C=(D=this.group)==null?void 0:D.alignAttr,_=this.clipHeight||this.legendHeight,I=this.titleHeight;C&&(m=C.translateY,this.allItems.forEach(function(N){let V,q=N.checkbox;q&&(V=m+I+q.y+(this.scrollOffset||0)+3,OO(q,{left:C.translateX+N.checkboxOffset+q.x-20+"px",top:V+"px",display:this.proximate||V>m-6&&V<m+_-6?"":"none"}))},this))}renderTitle(){let m=this.options,C=this.padding,_=m.title,I,D=0;_.text&&(this.title||(this.title=this.chart.renderer.label(_.text,C-3,C-4,void 0,void 0,void 0,m.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(_.style),this.title.add(this.group)),_.width||this.title.css({width:this.maxLegendWidth+"px"}),D=(I=this.title.getBBox()).height,this.offsetWidth=I.width,this.contentGroup.attr({translateY:D})),this.titleHeight=D}setText(m){let C=this.options;m.legendItem.label.attr({text:C.labelFormat?Ki(C.labelFormat,m,this.chart):C.labelFormatter.call(m)})}renderItem(m){var bn;let C=m.legendItem=m.legendItem||{},_=this.chart,I=_.renderer,D=this.options,N=D.layout==="horizontal",V=this.symbolWidth,q=D.symbolPadding||0,Q=this.itemStyle,ce=this.itemHiddenStyle,ne=N?No(D.itemDistance,20):0,he=!D.rtl,ye=!m.series,Ee=!ye&&m.series.drawLegendSymbol?m.series:m,Ne=Ee.options,Le=!!this.createCheckboxForItem&&Ne&&Ne.showCheckbox,Me=D.useHTML,ze=m.options.className,Ye=C.label,Nt=V+q+ne+20*!!Le;!Ye&&(C.group=I.g("legend-item").addClass("highcharts-"+Ee.type+"-series highcharts-color-"+m.colorIndex+(ze?" "+ze:"")+(ye?" highcharts-series-"+m.index:"")).attr({zIndex:1}).add(this.scrollGroup),C.label=Ye=I.text("",he?V+q:-q,this.baseline||0,Me),_.styledMode||Ye.css(Bg(m.visible?Q:ce)),Ye.attr({align:he?"left":"right",zIndex:2}).add(C.group),!this.baseline&&(this.fontMetrics=I.fontMetrics(Ye),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,Ye.attr("y",this.baseline),this.symbolHeight=No(D.symbolHeight,this.fontMetrics.f),D.squareSymbol&&(this.symbolWidth=No(D.symbolWidth,Math.max(this.symbolHeight,16)),Nt=this.symbolWidth+q+ne+20*!!Le,he&&Ye.attr("x",this.symbolWidth+q))),Ee.drawLegendSymbol(this,m),this.setItemEvents&&this.setItemEvents(m,Ye,Me)),Le&&!m.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(m),this.colorizeItem(m,m.visible),(_.styledMode||!Q.width)&&Ye.css({width:(D.itemWidth||this.widthOption||_.spacingBox.width)-Nt+"px"}),this.setText(m);let Tt=Ye.getBBox(),It=((bn=this.fontMetrics)==null?void 0:bn.h)||0;m.itemWidth=m.checkboxOffset=D.itemWidth||C.labelWidth||Tt.width+Nt,this.maxItemWidth=Math.max(this.maxItemWidth,m.itemWidth),this.totalItemWidth+=m.itemWidth,this.itemHeight=m.itemHeight=Math.round(C.labelHeight||(Tt.height>1.5*It?Tt.height:It))}layoutItem(m){let C=this.options,_=this.padding,I=C.layout==="horizontal",D=m.itemHeight,N=this.itemMarginBottom,V=this.itemMarginTop,q=I?No(C.itemDistance,20):0,Q=this.maxLegendWidth,ce=C.alignColumns&&this.totalItemWidth>Q?this.maxItemWidth:m.itemWidth,ne=m.legendItem||{};I&&this.itemX-_+ce>Q&&(this.itemX=_,this.lastLineHeight&&(this.itemY+=V+this.lastLineHeight+N),this.lastLineHeight=0),this.lastItemY=V+this.itemY+N,this.lastLineHeight=Math.max(D,this.lastLineHeight),ne.x=this.itemX,ne.y=this.itemY,I?this.itemX+=ce:(this.itemY+=V+D+N,this.lastLineHeight=D),this.offsetWidth=this.widthOption||Math.max((I?this.itemX-_-(m.checkbox?0:q):ce)+_,this.offsetWidth)}getAllItems(){let m=[];return this.chart.series.forEach(function(C){var I;let _=C==null?void 0:C.options;C&&No(_.showInLegend,!US(_.linkedTo)&&void 0,!0)&&(m=m.concat(((I=C.legendItem)==null?void 0:I.labels)||(_.legendType==="point"?C.data:C)))}),jp(this,"afterGetAllItems",{allItems:m}),m}getAlignment(){let m=this.options;return this.proximate?m.align.charAt(0)+"tv":m.floating?"":m.align.charAt(0)+m.verticalAlign.charAt(0)+m.layout.charAt(0)}adjustMargins(m,C){let _=this.chart,I=this.options,D=this.getAlignment();D&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((N,V)=>{N.test(D)&&!US(m[V])&&(_[Ud[V]]=Math.max(_[Ud[V]],_.legend[(V+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][V]*I[V%2?"x":"y"]+(I.margin??12)+C[V]+(_.titleOffset[V]||0)))})}proximatePositions(){let m,C=this.chart,_=[],I=this.options.align==="left";for(let D of(this.allItems.forEach(function(N){let V,q,Q=I,ce,ne;N.yAxis&&(N.xAxis.options.reversed&&(Q=!Q),N.points&&(V=IO(Q?N.points:N.points.slice(0).reverse(),function(he){return zm(he.plotY)})),q=this.itemMarginTop+N.legendItem.label.getBBox().height+this.itemMarginBottom,ne=N.yAxis.top-C.plotTop,ce=N.visible?(V?V.plotY:N.yAxis.height)+(ne-.3*q):ne+N.yAxis.height,_.push({target:ce,size:q,item:N}))},this),$S(_,C.plotHeight)))m=D.item.legendItem||{},zm(D.pos)&&(m.y=C.plotTop-C.spacing[0]+D.pos)}render(){let m=this.chart,C=m.renderer,_=this.options,I=this.padding,D=this.getAllItems(),N,V,q,Q=this.group,ce,ne=this.box;this.itemX=I,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=sy(_.width,m.spacingBox.width-I),ce=m.spacingBox.width-2*I-_.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(ce/=2),this.maxLegendWidth=this.widthOption||ce,Q||(this.group=Q=C.g("legend").addClass(_.className||"").attr({zIndex:7}).add(),this.contentGroup=C.g().attr({zIndex:1}).add(Q),this.scrollGroup=C.g().add(this.contentGroup)),this.renderTitle(),e0(D,(he,ye)=>{var Ee,Ne;return(((Ee=he.options)==null?void 0:Ee.legendIndex)||0)-(((Ne=ye.options)==null?void 0:Ne.legendIndex)||0)}),_.reversed&&D.reverse(),this.allItems=D,this.display=N=!!D.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,D.forEach(this.renderItem,this),D.forEach(this.layoutItem,this),V=(this.widthOption||this.offsetWidth)+I,q=this.lastItemY+this.lastLineHeight+this.titleHeight,q=this.handleOverflow(q)+I,ne||(this.box=ne=C.rect().addClass("highcharts-legend-box").attr({r:_.borderRadius}).add(Q)),m.styledMode||ne.attr({stroke:_.borderColor,"stroke-width":_.borderWidth||0,fill:_.backgroundColor||"none"}).shadow(_.shadow),V>0&&q>0&&ne[ne.placed?"animate":"attr"](ne.crisp.call({},{x:0,y:0,width:V,height:q},ne.strokeWidth())),Q[N?"show":"hide"](),m.styledMode&&Q.getStyle("display")==="none"&&(V=q=0),this.legendWidth=V,this.legendHeight=q,N&&this.align(),this.proximate||this.positionItems(),jp(this,"afterRender")}align(m=this.chart.spacingBox){let C=this.chart,_=this.options,I=m.y;/(lth|ct|rth)/.test(this.getAlignment())&&C.titleOffset[0]>0?I+=C.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&C.titleOffset[2]>0&&(I-=C.titleOffset[2]),I!==m.y&&(m=Bg(m,{y:I})),C.hasRendered||(this.group.placed=!1),this.group.align(Bg(_,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":_.verticalAlign}),!0,m)}handleOverflow(m){let C=this,_=this.chart,I=_.renderer,D=this.options,N=D.y,V=D.verticalAlign==="top",q=this.padding,Q=D.maxHeight,ce=D.navigation,ne=No(ce.animation,!0),he=ce.arrowSize||12,ye=this.pages,Ee=this.allItems,Ne=function(Ft){typeof Ft=="number"?bn.attr({height:Ft}):bn&&(C.clipRect=bn.destroy(),C.contentGroup.clip()),C.contentGroup.div&&(C.contentGroup.div.style.clip=Ft?"rect("+q+"px,9999px,"+(q+Ft)+"px,0)":"auto")},Le=function(Ft){return C[Ft]=I.circle(0,0,1.3*he).translate(he/2,he/2).add(It),_.styledMode||C[Ft].attr("fill","rgba(0,0,0,0.0001)"),C[Ft]},Me,ze,Ye,Nt,Tt=_.spacingBox.height+(V?-N:N)-q,It=this.nav,bn=this.clipRect;return D.layout!=="horizontal"||D.verticalAlign==="middle"||D.floating||(Tt/=2),Q&&(Tt=Math.min(Tt,Q)),ye.length=0,m&&Tt>0&&m>Tt&&ce.enabled!==!1?(this.clipHeight=Me=Math.max(Tt-20-this.titleHeight-q,0),this.currentPage=No(this.currentPage,1),this.fullHeight=m,Ee.forEach((Ft,gn)=>{let Pn=(Ye=Ft.legendItem||{}).y||0,ao=Math.round(Ye.label.getBBox().height),Vo=ye.length;(!Vo||Pn-ye[Vo-1]>Me&&(ze||Pn)!==ye[Vo-1])&&(ye.push(ze||Pn),Vo++),Ye.pageIx=Vo-1,ze&&Nt&&(Nt.pageIx=Vo-1),gn===Ee.length-1&&Pn+ao-ye[Vo-1]>Me&&Pn>ye[Vo-1]&&(ye.push(Pn),Ye.pageIx=Vo),Pn!==ze&&(ze=Pn),Nt=Ye}),bn||(bn=C.clipRect=I.clipRect(0,q-2,9999,0),C.contentGroup.clip(bn)),Ne(Me),It||(this.nav=It=I.g().attr({zIndex:1}).add(this.group),this.up=I.symbol("triangle",0,0,he,he).add(It),Le("upTracker").on("click",function(){C.scroll(-1,ne)}),this.pager=I.text("",15,10).addClass("highcharts-legend-navigation"),!_.styledMode&&ce.style&&this.pager.css(ce.style),this.pager.add(It),this.down=I.symbol("triangle-down",0,0,he,he).add(It),Le("downTracker").on("click",function(){C.scroll(1,ne)})),C.scroll(0),m=Tt):It&&(Ne(),this.nav=It.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),m}scroll(m,C){let _=this.chart,I=this.pages,D=I.length,N=this.clipHeight,V=this.options.navigation,q=this.pager,Q=this.padding,ce=this.currentPage+m;ce>D&&(ce=D),ce>0&&(C!==void 0&&VE(C,_),this.nav.attr({translateX:Q,translateY:N+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(ne){ne.attr({class:ce===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),q.attr({text:ce+"/"+D}),[this.down,this.downTracker].forEach(function(ne){ne.attr({x:18+this.pager.getBBox().width,class:ce===D?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),_.styledMode||(this.up.attr({fill:ce===1?V.inactiveColor:V.activeColor}),this.upTracker.css({cursor:ce===1?"default":"pointer"}),this.down.attr({fill:ce===D?V.inactiveColor:V.activeColor}),this.downTracker.css({cursor:ce===D?"default":"pointer"})),this.scrollOffset=-I[ce-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=ce,this.positionCheckboxes(),Nc(()=>{jp(this,"afterScroll",{currentPage:ce})},Fu(No(C,_.renderer.globalAnimation,!0)).duration))}setItemEvents(m,C,_){let I=this,D=m.legendItem||{},N=I.chart.renderer.boxWrapper,V=m instanceof $p,q=m instanceof dd,Q="highcharts-legend-"+(V?"point":"series")+"-active",ce=I.chart.styledMode,ne=_?[C,D.symbol]:[D.group],he=ye=>{I.allItems.forEach(Ee=>{m!==Ee&&[Ee].concat(Ee.linkedSeries||[]).forEach(Ne=>{Ne.setState(ye,!V)})})};for(let ye of ne)ye&&ye.on("mouseover",function(){m.visible&&he("inactive"),m.setState("hover"),m.visible&&N.addClass(Q),ce||C.css(I.options.itemHoverStyle)}).on("mouseout",function(){I.chart.styledMode||C.css(Bg(m.visible?I.itemStyle:I.itemHiddenStyle)),he(""),N.removeClass(Q),m.setState()}).on("click",function(Ee){let Ne=function(){m.setVisible&&m.setVisible(),he(m.visible?"inactive":"")};N.removeClass(Q),jp(I,"itemClick",{browserEvent:Ee,legendItem:m},Ne),V?m.firePointEvent("legendItemClick",{browserEvent:Ee}):q&&jp(m,"legendItemClick",{browserEvent:Ee})})}createCheckboxForItem(m){m.checkbox=Lg("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:m.selected,defaultChecked:m.selected},this.options.itemCheckboxStyle,this.chart.container),Ng(m.checkbox,"click",function(C){let _=C.target;jp(m.series||m,"checkboxClick",{checked:_.checked,item:m},function(){m.select()})})}}(function(ee){ee.compose=function(m){va(HS,"Core.Legend")&&Ng(m,"beforeMargins",function(){this.legend=new ee(this,this.options.legend)})}})(Hv||(Hv={}));let dA=Hv,{animate:Vg,animObject:hA,setAnimation:fp}=Ia,{defaultOptions:jm}=To,{numberFormat:FE}=Lr,{registerEventOptions:Un}=Sl,{charts:Fg,doc:t0,marginNames:Fa,svg:Sr,win:$v}=Ie,{seriesTypes:ba}=ws,{addEvent:d1,attr:Af,createElement:cu,css:di,defined:Wp,diffObjects:Gp,discardElement:HE,erase:jS,error:Jh,extend:Wm,find:ry,fireEvent:Ui,getAlignFactor:fA,getStyle:$E,isArray:UE,isNumber:n0,isObject:WS,isString:GS,merge:Gm,objectEach:h1,pick:hd,pInt:Tf,relativeLength:Hu,removeEvent:yh,splat:Es,syncTimeout:fd,uniqueKey:o0}=vn;class Hg{static chart(m,C,_){return new Hg(m,C,_)}constructor(m,C,_){this.sharedClips={};let I=[...arguments];(GS(m)||m.nodeName)&&(this.renderTo=I.shift()),this.init(I[0],I[1])}setZoomOptions(){let m=this.options.chart,C=m.zooming;this.zooming={...C,type:hd(m.zoomType,C.type),key:hd(m.zoomKey,C.key),pinchType:hd(m.pinchType,C.pinchType),singleTouch:hd(m.zoomBySingleTouch,C.singleTouch,!1),resetButton:Gm(C.resetButton,m.resetZoomButton)}}init(m,C){Ui(this,"init",{args:arguments},function(){var N;let _=Gm(jm,m),I=_.chart,D=this.renderTo||I.renderTo;this.userOptions=Wm({},m),(this.renderTo=GS(D)?t0.getElementById(D):D)||Jh(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=C,this.isResizing=0,this.options=_,this.axes=[],this.series=[],this.locale=_.lang.locale??((N=this.renderTo.closest("[lang]"))==null?void 0:N.lang),this.time=new At(Wm(_.time||{},{locale:this.locale}),_.lang),_.time=this.time.options,this.numberFormatter=(I.numberFormatter||FE).bind(this),this.styledMode=I.styledMode,this.hasCartesianSeries=I.showAxes,this.index=Fg.length,Fg.push(this),Ie.chartCount++,Un(this,I),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),Ui(this,"afterInit"),this.firstRender()})}initSeries(m){let C=this.options.chart,_=m.type||C.type,I=ba[_];I||Jh(17,!0,this,{missingModuleFor:_});let D=new I;return typeof D.init=="function"&&D.init(this,m),D}setSortedData(){this.getSeriesOrderByLinks().forEach(function(m){m.points||m.data||!m.enabledDataSorting||m.setData(m.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(m,C){return m.linkedSeries.length||C.linkedSeries.length?C.linkedSeries.length-m.linkedSeries.length:0})}orderItems(m,C=0){let _=this[m],I=this.options[m]=Es(this.options[m]).slice(),D=this.userOptions[m]=this.userOptions[m]?Es(this.userOptions[m]).slice():[];if(this.hasRendered&&(I.splice(C),D.splice(C)),_)for(let N=C,V=_.length;N<V;++N){let q=_[N];q&&(q.index=N,q instanceof dd&&(q.name=q.getName()),q.options.isInternal||(I[N]=q.options,D[N]=q.userOptions))}}getClipBox(m,C){var ce,ne;let _=this.inverted,{xAxis:I,yAxis:D}=m||{},{x:N,y:V,width:q,height:Q}=Gm(this.clipBox);return m&&(I&&I.len!==this.plotSizeX&&(q=I.len),D&&D.len!==this.plotSizeY&&(Q=D.len),_&&!m.invertible&&([q,Q]=[Q,q])),C&&(N+=((ce=_?D:I)==null?void 0:ce.pos)??this.plotLeft,V+=((ne=_?I:D)==null?void 0:ne.pos)??this.plotTop),{x:N,y:V,width:q,height:Q}}isInsidePlot(m,C,_={}){var Le;let{inverted:I,plotBox:D,plotLeft:N,plotTop:V,scrollablePlotBox:q}=this,{scrollLeft:Q=0,scrollTop:ce=0}=_.visiblePlotOnly&&((Le=this.scrollablePlotArea)==null?void 0:Le.scrollingContainer)||{},ne=_.series,he=_.visiblePlotOnly&&q||D,ye=_.inverted?C:m,Ee=_.inverted?m:C,Ne={x:ye,y:Ee,isInsidePlot:!0,options:_};if(!_.ignoreX){let Me=ne&&(I&&!this.polar?ne.yAxis:ne.xAxis)||{pos:N,len:1/0},ze=_.paneCoordinates?Me.pos+ye:N+ye;ze>=Math.max(Q+N,Me.pos)&&ze<=Math.min(Q+N+he.width,Me.pos+Me.len)||(Ne.isInsidePlot=!1)}if(!_.ignoreY&&Ne.isInsidePlot){let Me=!I&&_.axis&&!_.axis.isXAxis&&_.axis||ne&&(I?ne.xAxis:ne.yAxis)||{pos:V,len:1/0},ze=_.paneCoordinates?Me.pos+Ee:V+Ee;ze>=Math.max(ce+V,Me.pos)&&ze<=Math.min(ce+V+he.height,Me.pos+Me.len)||(Ne.isInsidePlot=!1)}return Ui(this,"afterIsInsidePlot",Ne),Ne.isInsidePlot}redraw(m){Ui(this,"beforeRedraw");let C=this.hasCartesianSeries?this.axes:this.colorAxis||[],_=this.series,I=this.pointer,D=this.legend,N=this.userOptions.legend,V=this.renderer,q=V.isHidden(),Q=[],ce,ne,he,ye=this.isDirtyBox,Ee=this.isDirtyLegend,Ne;for(V.rootFontSize=V.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),fp(!!this.hasRendered&&m,this),q&&this.temporaryDisplay(),this.layOutTitles(!1),he=_.length;he--;)if(((Ne=_[he]).options.stacking||Ne.options.centerInCategory)&&(ne=!0,Ne.isDirty)){ce=!0;break}if(ce)for(he=_.length;he--;)(Ne=_[he]).options.stacking&&(Ne.isDirty=!0);_.forEach(function(Le){Le.isDirty&&(Le.options.legendType==="point"?(typeof Le.updateTotals=="function"&&Le.updateTotals(),Ee=!0):N&&(N.labelFormatter||N.labelFormat)&&(Ee=!0)),Le.isDirtyData&&Ui(Le,"updatedData")}),Ee&&D&&D.options.enabled&&(D.render(),this.isDirtyLegend=!1),ne&&this.getStacks(),C.forEach(function(Le){Le.updateNames(),Le.setScale()}),this.getMargins(),C.forEach(function(Le){Le.isDirty&&(ye=!0)}),C.forEach(function(Le){let Me=Le.min+","+Le.max;Le.extKey!==Me&&(Le.extKey=Me,Q.push(function(){Ui(Le,"afterSetExtremes",Wm(Le.eventArgs,Le.getExtremes())),delete Le.eventArgs})),(ye||ne)&&Le.redraw()}),ye&&this.drawChartBox(),Ui(this,"predraw"),_.forEach(function(Le){(ye||Le.isDirty)&&Le.visible&&Le.redraw(),Le.isDirtyData=!1}),I&&I.reset(!0),V.draw(),Ui(this,"redraw"),Ui(this,"render"),q&&this.temporaryDisplay(!0),Q.forEach(function(Le){Le.call()})}get(m){let C=this.series;function _(D){return D.id===m||D.options&&D.options.id===m}let I=ry(this.axes,_)||ry(this.series,_);for(let D=0;!I&&D<C.length;D++)I=ry(C[D].points||[],_);return I}createAxes(){let m=this.userOptions;for(let C of(Ui(this,"createAxes"),["xAxis","yAxis"]))for(let _ of m[C]=Es(m[C]||{}))new Pu(this,_,C);Ui(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((m,C)=>(C.getPointsCollection().forEach(_=>{hd(_.selectedStaging,_.selected)&&m.push(_)}),m),[])}getSelectedSeries(){return this.series.filter(m=>m.selected)}setTitle(m,C,_){this.applyDescription("title",m),this.applyDescription("subtitle",C),this.applyDescription("caption",void 0),this.layOutTitles(_)}applyDescription(m,C){var N;let _=this,I=this.options[m]=Gm(this.options[m],C),D=this[m];D&&C&&(this[m]=D=D.destroy()),I&&!D&&((D=this.renderer.text(I.text,0,0,I.useHTML).attr({align:I.align,class:"highcharts-"+m,zIndex:I.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function(V,q){_.applyDescription(m,V),_.layOutTitles(q)},this.styledMode||D.css(Wm(m==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},I.style)),D.textPxLength=D.getBBox().width,D.css({whiteSpace:(N=I.style)==null?void 0:N.whiteSpace}),this[m]=D)}layOutTitles(m=!0){var V,q,Q,ce;let C=[0,0,0],{options:_,renderer:I,spacingBox:D}=this;["title","subtitle","caption"].forEach(ne=>{var Le;let he=this[ne],ye=this.options[ne],Ee=Gm(D),Ne=(he==null?void 0:he.textPxLength)||0;if(he&&ye){Ui(this,"layOutTitle",{alignTo:Ee,key:ne,textPxLength:Ne});let Me=I.fontMetrics(he),ze=Me.b,Ye=Me.h,Nt=ye.verticalAlign||"top",Tt=Nt==="top",It=Tt&&ye.minScale||1,bn=ne==="title"?Tt?-3:0:Tt?C[0]+2:0,Ft=Math.min(Ee.width/Ne,1),gn=Math.max(It,Ft),Pn=Gm({y:Nt==="bottom"?ze:bn+ze},{align:ne==="title"?Ft<It?"left":"center":(Le=this.title)==null?void 0:Le.alignValue},ye),ao=(ye.width||(Ft>It?this.chartWidth:Ee.width)/gn)+"px";he.alignValue!==Pn.align&&(he.placed=!1);let Vo=Math.round(he.css({width:ao}).getBBox(ye.useHTML).height);if(Pn.height=Vo,he.align(Pn,!1,Ee).attr({align:Pn.align,scaleX:gn,scaleY:gn,"transform-origin":`${Ee.x+Ne*gn*fA(Pn.align)} ${Ye}`}),!ye.floating){let qo=Vo*(Vo<1.2*Ye?1:gn);Nt==="top"?C[0]=Math.ceil(C[0]+qo):Nt==="bottom"&&(C[2]=Math.ceil(C[2]+qo))}}},this),C[0]&&(((V=_.title)==null?void 0:V.verticalAlign)||"top")==="top"&&(C[0]+=((q=_.title)==null?void 0:q.margin)||0),C[2]&&((Q=_.caption)==null?void 0:Q.verticalAlign)==="bottom"&&(C[2]+=((ce=_.caption)==null?void 0:ce.margin)||0);let N=!this.titleOffset||this.titleOffset.join(",")!==C.join(",");this.titleOffset=C,Ui(this,"afterLayOutTitles"),!this.isDirtyBox&&N&&(this.isDirtyBox=this.isDirtyLegend=N,this.hasRendered&&m&&this.isDirtyBox&&this.redraw())}getContainerBox(){let m=[].map.call(this.renderTo.children,_=>{if(_!==this.container){let I=_.style.display;return _.style.display="none",[_,I]}}),C={width:$E(this.renderTo,"width",!0)||0,height:$E(this.renderTo,"height",!0)||0};return m.filter(Boolean).forEach(([_,I])=>{_.style.display=I}),C}getChartSize(){var N;let m=this.options.chart,C=m.width,_=m.height,I=this.getContainerBox(),D=I.height<=1||!((N=this.renderTo.parentElement)!=null&&N.style.height)&&this.renderTo.style.height==="100%";this.chartWidth=Math.max(0,C||I.width||600),this.chartHeight=Math.max(0,Hu(_,this.chartWidth)||(D?400:I.height)),this.containerBox=I}temporaryDisplay(m){let C=this.renderTo,_;if(m)for(;C!=null&&C.style;)C.hcOrigStyle&&(di(C,C.hcOrigStyle),delete C.hcOrigStyle),C.hcOrigDetached&&(t0.body.removeChild(C),C.hcOrigDetached=!1),C=C.parentNode;else for(;C!=null&&C.style&&(t0.body.contains(C)||C.parentNode||(C.hcOrigDetached=!0,t0.body.appendChild(C)),($E(C,"display",!1)==="none"||C.hcOricDetached)&&(C.hcOrigStyle={display:C.style.display,height:C.style.height,overflow:C.style.overflow},_={display:"block",overflow:"hidden"},C!==this.renderTo&&(_.height=0),di(C,_),C.offsetWidth||C.style.setProperty("display","block","important")),(C=C.parentNode)!==t0.body););}setClassName(m){this.container.className="highcharts-container "+(m||"")}getContainer(){var he,ye;let m,C=this.options,_=C.chart,I="data-highcharts-chart",D=o0(),N=this.renderTo,V=Tf(Af(N,I));n0(V)&&Fg[V]&&Fg[V].hasRendered&&Fg[V].destroy(),Af(N,I,this.index),N.innerHTML=Ar.emptyHTML,_.skipClone||N.offsetWidth||this.temporaryDisplay(),this.getChartSize();let q=this.chartHeight,Q=this.chartWidth;di(N,{overflow:"hidden"}),this.styledMode||(m=Wm({position:"relative",overflow:"hidden",width:Q+"px",height:q+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},_.style||{}));let ce=cu("div",{id:D},m,N);this.container=ce,this.getChartSize(),Q!==this.chartWidth&&(Q=this.chartWidth,this.styledMode||di(ce,{width:hd((he=_.style)==null?void 0:he.width,Q+"px")})),this.containerBox=this.getContainerBox(),this._cursor=ce.style.cursor;let ne=_.renderer||!Sr?hh.getRendererType(_.renderer):et;if(this.renderer=new ne(ce,Q,q,void 0,_.forExport,(ye=C.exporting)==null?void 0:ye.allowHTML,this.styledMode),fp(void 0,this),this.setClassName(_.className),this.styledMode)for(let Ee in C.defs)this.renderer.definition(C.defs[Ee]);else this.renderer.setStyle(_.style);this.renderer.chartIndex=this.index,Ui(this,"afterGetContainer")}getMargins(m){var D;let{spacing:C,margin:_,titleOffset:I}=this;this.resetMargins(),I[0]&&!Wp(_[0])&&(this.plotTop=Math.max(this.plotTop,I[0]+C[0])),I[2]&&!Wp(_[2])&&(this.marginBottom=Math.max(this.marginBottom,I[2]+C[2])),(D=this.legend)!=null&&D.display&&this.legend.adjustMargins(_,C),Ui(this,"getMargins"),m||this.getAxisMargins()}getAxisMargins(){let m=this,C=m.axisOffset=[0,0,0,0],_=m.colorAxis,I=m.margin,D=N=>{N.forEach(V=>{V.visible&&V.getOffset()})};m.hasCartesianSeries?D(m.axes):_!=null&&_.length&&D(_),Fa.forEach((N,V)=>{Wp(I[V])||(m[N]+=C[V])}),m.setChartSize()}getOptions(){return Gp(this.userOptions,jm)}reflow(m){var D,N;let C=this,_=C.containerBox,I=C.getContainerBox();(D=C.pointer)==null||delete D.chartPosition,!((N=C.exporting)!=null&&N.isPrinting)&&!C.isResizing&&_&&I.width&&((I.width!==_.width||I.height!==_.height)&&(vn.clearTimeout(C.reflowTimeout),C.reflowTimeout=fd(function(){C.container&&C.setSize(void 0,void 0,!1)},100*!!m)),C.containerBox=I)}setReflow(){let m=this,C=_=>{var I;(I=m.options)!=null&&I.chart.reflow&&m.hasLoaded&&m.reflow(_)};if(typeof ResizeObserver=="function")new ResizeObserver(C).observe(m.renderTo);else{let _=d1($v,"resize",C);d1(this,"destroy",_)}}setSize(m,C,_){let I=this,D=I.renderer;I.isResizing+=1,fp(_,I);let N=D.globalAnimation;I.oldChartHeight=I.chartHeight,I.oldChartWidth=I.chartWidth,m!==void 0&&(I.options.chart.width=m),C!==void 0&&(I.options.chart.height=C),I.getChartSize();let{chartWidth:V,chartHeight:q,scrollablePixelsX:Q=0,scrollablePixelsY:ce=0}=I;(I.isDirtyBox||V!==I.oldChartWidth||q!==I.oldChartHeight)&&(I.styledMode||(N?Vg:di)(I.container,{width:`${V+Q}px`,height:`${q+ce}px`},N),I.setChartSize(!0),D.setSize(V,q,N),I.axes.forEach(function(ne){ne.isDirty=!0,ne.setScale()}),I.isDirtyLegend=!0,I.isDirtyBox=!0,I.layOutTitles(),I.getMargins(),I.redraw(N),I.oldChartHeight=void 0,Ui(I,"resize"),setTimeout(()=>{I&&Ui(I,"endResize")},hA(N).duration)),I.isResizing-=1}setChartSize(m){let C,_,I,D,{chartHeight:N,chartWidth:V,inverted:q,spacing:Q,renderer:ce}=this,ne=this.clipOffset,he=Math[q?"floor":"round"];this.plotLeft=C=Math.round(this.plotLeft),this.plotTop=_=Math.round(this.plotTop),this.plotWidth=I=Math.max(0,Math.round(V-C-(this.marginRight??0))),this.plotHeight=D=Math.max(0,Math.round(N-_-(this.marginBottom??0))),this.plotSizeX=q?D:I,this.plotSizeY=q?I:D,this.spacingBox=ce.spacingBox={x:Q[3],y:Q[0],width:V-Q[3]-Q[1],height:N-Q[0]-Q[2]},this.plotBox=ce.plotBox={x:C,y:_,width:I,height:D},ne&&(this.clipBox={x:he(ne[3]),y:he(ne[0]),width:he(this.plotSizeX-ne[1]-ne[3]),height:he(this.plotSizeY-ne[0]-ne[2])}),m||(this.axes.forEach(function(ye){ye.setAxisSize(),ye.setAxisTranslation()}),ce.alignElements()),Ui(this,"afterSetChartSize",{skipAxes:m})}resetMargins(){Ui(this,"resetMargins");let m=this,C=m.options.chart,_=C.plotBorderWidth||0,I=Math.round(_)/2;["margin","spacing"].forEach(D=>{let N=C[D],V=WS(N)?N:[N,N,N,N];["Top","Right","Bottom","Left"].forEach((q,Q)=>{m[D][Q]=C[`${D}${q}`]??V[Q]})}),Fa.forEach((D,N)=>{m[D]=m.margin[N]??m.spacing[N]}),m.axisOffset=[0,0,0,0],m.clipOffset=[I,I,I,I],m.plotBorderWidth=_}drawChartBox(){let m=this.options.chart,C=this.renderer,_=this.chartWidth,I=this.chartHeight,D=this.styledMode,N=this.plotBGImage,V=m.backgroundColor,q=m.plotBackgroundColor,Q=m.plotBackgroundImage,ce=this.plotLeft,ne=this.plotTop,he=this.plotWidth,ye=this.plotHeight,Ee=this.plotBox,Ne=this.clipRect,Le=this.clipBox,Me=this.chartBackground,ze=this.plotBackground,Ye=this.plotBorder,Nt,Tt,It,bn="animate";Me||(this.chartBackground=Me=C.rect().addClass("highcharts-background").add(),bn="attr"),D?Nt=Tt=Me.strokeWidth():(Tt=(Nt=m.borderWidth||0)+8*!!m.shadow,It={fill:V||"none"},(Nt||Me["stroke-width"])&&(It.stroke=m.borderColor,It["stroke-width"]=Nt),Me.attr(It).shadow(m.shadow)),Me[bn]({x:Tt/2,y:Tt/2,width:_-Tt-Nt%2,height:I-Tt-Nt%2,r:m.borderRadius}),bn="animate",ze||(bn="attr",this.plotBackground=ze=C.rect().addClass("highcharts-plot-background").add()),ze[bn](Ee),!D&&(ze.attr({fill:q||"none"}).shadow(m.plotShadow),Q&&(N?(Q!==N.attr("href")&&N.attr("href",Q),N.animate(Ee)):this.plotBGImage=C.image(Q,ce,ne,he,ye).add())),Ne?Ne.animate({width:Le.width,height:Le.height}):this.clipRect=C.clipRect(Le),bn="animate",Ye||(bn="attr",this.plotBorder=Ye=C.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),D||Ye.attr({stroke:m.plotBorderColor,"stroke-width":m.plotBorderWidth||0,fill:"none"}),Ye[bn](Ye.crisp(Ee,-Ye.strokeWidth())),this.isDirtyBox=!1,Ui(this,"afterDrawChartBox")}propFromSeries(){let m,C,_,I=this,D=I.options.chart,N=I.options.series;["inverted","angular","polar"].forEach(function(V){for(C=ba[D.type],_=D[V]||C&&C.prototype[V],m=N==null?void 0:N.length;!_&&m--;)(C=ba[N[m].type])&&C.prototype[V]&&(_=!0);I[V]=_})}linkSeries(m){let C=this,_=C.series;_.forEach(function(I){I.linkedSeries.length=0}),_.forEach(function(I){let{linkedTo:D}=I.options;if(GS(D)){let N;(N=D===":previous"?C.series[I.index-1]:C.get(D))&&N.linkedParent!==I&&(N.linkedSeries.push(I),I.linkedParent=N,N.enabledDataSorting&&I.setDataSortingOptions(),I.visible=hd(I.options.visible,N.options.visible,I.visible))}}),Ui(this,"afterLinkSeries",{isUpdating:m})}renderSeries(){this.series.forEach(function(m){m.translate(),m.render()})}render(){var ce;let m=this.axes,C=this.colorAxis,_=this.renderer,I=this.options.chart.axisLayoutRuns||2,D=ne=>{ne.forEach(he=>{he.visible&&he.render()})},N=0,V=!0,q,Q=0;for(let ne of(this.setTitle(),Ui(this,"beforeMargins"),(ce=this.getStacks)==null||ce.call(this),this.getMargins(!0),this.setChartSize(),m)){let{options:he}=ne,{labels:ye}=he;if(this.hasCartesianSeries&&ne.horiz&&ne.visible&&ye.enabled&&ne.series.length&&ne.coll!=="colorAxis"&&!this.polar){N=he.tickLength,ne.createGroups();let Ee=new iu(ne,0,"",!0),Ne=Ee.createLabel("x",ye);if(Ee.destroy(),Ne&&hd(ye.reserveSpace,!n0(he.crossing))&&(N=Ne.getBBox().height+ye.distance+Math.max(he.offset||0,0)),N){Ne==null||Ne.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-N,0);(V||q||I>1)&&Q<I;){let ne=this.plotWidth,he=this.plotHeight;for(let ye of m)Q===0?ye.setScale():(ye.horiz&&V||!ye.horiz&&q)&&ye.setTickInterval(!0);Q===0?this.getAxisMargins():this.getMargins(),V=ne/this.plotWidth>(Q?1:1.1),q=he/this.plotHeight>(Q?1:1.05),Q++}this.drawChartBox(),this.hasCartesianSeries?D(m):C!=null&&C.length&&D(C),this.seriesGroup||(this.seriesGroup=_.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.dataLabelsGroup||(this.dataLabelsGroup=_.g("datalabels-group").attr({zIndex:6}).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(m){let C=this,_=Gm(!0,this.options.credits,m);_.enabled&&!this.credits&&(this.credits=this.renderer.text(_.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){_.href&&($v.location.href=_.href)}).attr({align:_.position.align,zIndex:8}),C.styledMode||this.credits.css(_.style),this.credits.add().align(_.position),this.credits.update=function(I){C.credits=C.credits.destroy(),C.addCredits(I)})}destroy(){var V,q;let m,C=this,_=C.axes,I=C.series,D=C.container,N=D==null?void 0:D.parentNode;for(Ui(C,"destroy"),C.renderer.forExport?jS(Fg,C):Fg[C.index]=void 0,Ie.chartCount--,C.renderTo.removeAttribute("data-highcharts-chart"),yh(C),m=_.length;m--;)_[m]=_[m].destroy();for((q=(V=this.scroller)==null?void 0:V.destroy)==null||q.call(V),m=I.length;m--;)I[m]=I[m].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(Q=>{var ce,ne;C[Q]=(ne=(ce=C[Q])==null?void 0:ce.destroy)==null?void 0:ne.call(ce)}),D&&(D.innerHTML=Ar.emptyHTML,yh(D),N&&HE(D)),h1(C,function(Q,ce){delete C[ce]})}firstRender(){var I;let m=this,C=m.options;m.getContainer(),m.resetMargins(),m.setChartSize(),m.propFromSeries(),m.createAxes();let _=UE(C.series)?C.series:[];C.series=[],_.forEach(function(D){m.initSeries(D)}),m.linkSeries(),m.setSortedData(),Ui(m,"beforeRender"),m.render(),(I=m.pointer)==null||I.getChartPosition(),m.renderer.imgCount||m.hasLoaded||m.onload(),m.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(m){m&&this.index!==void 0&&m.apply(this,[this])},this),Ui(this,"load"),Ui(this,"render"),Wp(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:m,title:C}=this;m&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":((C==null?void 0:C.element.textContent)||"").replace(/</g,"&lt;")}),m.accessibility&&m.accessibility.enabled===!1||Jh('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(m,C,_){let I,D=this;return m&&(C=hd(C,!0),Ui(D,"addSeries",{options:m},function(){I=D.initSeries(m),D.isDirtyLegend=!0,D.linkSeries(),I.enabledDataSorting&&I.setData(m.data,!1),Ui(D,"afterAddSeries",{series:I}),C&&D.redraw(_)})),I}addAxis(m,C,_,I){return this.createAxis(C?"xAxis":"yAxis",{axis:m,redraw:_,animation:I})}addColorAxis(m,C,_){return this.createAxis("colorAxis",{axis:m,redraw:C,animation:_})}createAxis(m,C){let _=new Pu(this,C.axis,m);return hd(C.redraw,!0)&&this.redraw(C.animation),_}showLoading(m){let C=this,_=C.options,I=_.loading,D=function(){N&&di(N,{left:C.plotLeft+"px",top:C.plotTop+"px",width:C.plotWidth+"px",height:C.plotHeight+"px"})},N=C.loadingDiv,V=C.loadingSpan;N||(C.loadingDiv=N=cu("div",{className:"highcharts-loading highcharts-loading-hidden"},null,C.container)),V||(C.loadingSpan=V=cu("span",{className:"highcharts-loading-inner"},null,N),d1(C,"redraw",D)),N.className="highcharts-loading",Ar.setElementHTML(V,hd(m,_.lang.loading,"")),!C.styledMode&&(di(N,Wm(I.style,{zIndex:10})),di(V,I.labelStyle),C.loadingShown||(di(N,{opacity:0,display:""}),Vg(N,{opacity:I.style.opacity||.5},{duration:I.showDuration||0}))),C.loadingShown=!0,D()}hideLoading(){let m=this.options,C=this.loadingDiv;C&&(C.className="highcharts-loading highcharts-loading-hidden",this.styledMode||Vg(C,{opacity:0},{duration:m.loading.hideDuration||100,complete:function(){di(C,{display:"none"})}})),this.loadingShown=!1}update(m,C,_,I){let D,N,V,q=this,Q={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},ce=m.isResponsiveOptions,ne=[];Ui(q,"update",{options:m}),ce||q.setResponsive(!1,!0),m=Gp(m,q.options),q.userOptions=Gm(q.userOptions,m);let he=m.chart;he&&(Gm(!0,q.options.chart,he),this.setZoomOptions(),"className"in he&&q.setClassName(he.className),("inverted"in he||"polar"in he||"type"in he)&&(q.propFromSeries(),D=!0),"alignTicks"in he&&(D=!0),"events"in he&&Un(this,he),h1(he,function(Ne,Le){q.propsRequireUpdateSeries.indexOf("chart."+Le)!==-1&&(N=!0),q.propsRequireDirtyBox.indexOf(Le)!==-1&&(q.isDirtyBox=!0),q.propsRequireReflow.indexOf(Le)!==-1&&(q.isDirtyBox=!0,ce||(V=!0))}),!q.styledMode&&he.style&&q.renderer.setStyle(q.options.chart.style||{})),!q.styledMode&&m.colors&&(this.options.colors=m.colors),h1(m,function(Ne,Le){q[Le]&&typeof q[Le].update=="function"?q[Le].update(Ne,!1):typeof q[Q[Le]]=="function"?q[Q[Le]](Ne):Le!=="colors"&&q.collectionsWithUpdate.indexOf(Le)===-1&&Gm(!0,q.options[Le],m[Le]),Le!=="chart"&&q.propsRequireUpdateSeries.indexOf(Le)!==-1&&(N=!0)}),this.collectionsWithUpdate.forEach(function(Ne){m[Ne]&&(Es(m[Ne]).forEach(function(Le,Me){let ze,Ye=Wp(Le.id);Ye&&(ze=q.get(Le.id)),!ze&&q[Ne]&&(ze=q[Ne][hd(Le.index,Me)])&&(Ye&&Wp(ze.options.id)||ze.options.isInternal)&&(ze=void 0),ze&&ze.coll===Ne&&(ze.update(Le,!1),_&&(ze.touched=!0)),!ze&&_&&q.collectionsWithInit[Ne]&&(q.collectionsWithInit[Ne][0].apply(q,[Le].concat(q.collectionsWithInit[Ne][1]||[]).concat([!1])).touched=!0)}),_&&q[Ne].forEach(function(Le){Le.touched||Le.options.isInternal?delete Le.touched:ne.push(Le)}))}),ne.forEach(function(Ne){Ne.chart&&Ne.remove&&Ne.remove(!1)}),D&&q.axes.forEach(function(Ne){Ne.update({},!1)}),N&&q.getSeriesOrderByLinks().forEach(function(Ne){Ne.chart&&Ne.update({},!1)},this);let ye=he==null?void 0:he.width,Ee=he&&(GS(he.height)?Hu(he.height,ye||q.chartWidth):he.height);V||n0(ye)&&ye!==q.chartWidth||n0(Ee)&&Ee!==q.chartHeight?q.setSize(ye,Ee,I):hd(C,!0)&&q.redraw(I),Ui(q,"afterUpdate",{options:m,redraw:C,animation:I})}setSubtitle(m,C){this.applyDescription("subtitle",m),this.layOutTitles(C)}setCaption(m,C){this.applyDescription("caption",m),this.layOutTitles(C)}showResetZoom(){let m=this,C=jm.lang,_=m.zooming.resetButton,I=_.theme,D=_.relativeTo==="chart"||_.relativeTo==="spacingBox"?null:"plotBox";function N(){m.zoomOut()}Ui(this,"beforeShowResetZoom",null,function(){m.resetZoomButton=m.renderer.button(C.resetZoom,null,null,N,I).attr({align:_.position.align,title:C.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(_.position,!1,D)}),Ui(this,"afterShowResetZoom")}zoomOut(){Ui(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(m,C){let _=this,I=typeof C=="object"?C:{enabled:C,type:"x"},D=I.type,N=D&&_[{x:"xAxis",xy:"axes",y:"yAxis"}[D]].filter(q=>q.options.panningEnabled&&!q.options.isInternal),V=_.options.chart;V!=null&&V.panning&&(V.panning=I),Ui(this,"pan",{originalEvent:m},()=>{_.transform({axes:N,event:m,to:{x:m.chartX-(_.mouseDownX||0),y:m.chartY-(_.mouseDownY||0)},trigger:"pan"}),di(_.container,{cursor:"move"})})}transform(m){var Ee;let{axes:C=this.axes,event:_,from:I={},reset:D,selection:N,to:V={},trigger:q}=m,{inverted:Q,time:ce}=this;(Ee=this.hoverPoints)==null||Ee.forEach(Ne=>Ne.setState()),Ui(this,"transform",m);let ne=m.hasZoomed||!1,he,ye;for(let Ne of C){let{horiz:Le,len:Me,minPointOffset:ze=0,options:Ye,reversed:Nt}=Ne,Tt=Le?"width":"height",It=Le?"x":"y",bn=hd(V[Tt],Ne.len),Ft=hd(I[Tt],Ne.len),gn=10>Math.abs(bn)?1:bn/Ft,Pn=(I[It]||0)+Ft/2-Ne.pos,ao=Pn-((V[It]??Ne.pos)+bn/2-Ne.pos)/gn,Vo=Nt&&!Q||!Nt&&Q?-1:1;if(!D&&(Pn<0||Pn>Ne.len))continue;let qo=Ne.chart.polar||Ne.isOrdinal?0:ze*Vo||0,Us=Ne.toValue(ao,!0),bs=Ne.toValue(ao+Me/gn,!0),zs=Us+qo,us=bs-qo,or=Ne.allExtremes;if(N&&N[Ne.coll].push({axis:Ne,min:Math.min(Us,bs),max:Math.max(Us,bs)}),zs>us&&([zs,us]=[us,zs]),gn===1&&!D&&Ne.coll==="yAxis"&&!or){for(let xc of Ne.series){let Fr=xc.getExtremes(xc.getProcessedData(!0).modified.getColumn("y")||[],!0);or??(or={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),n0(Fr.dataMin)&&n0(Fr.dataMax)&&(or.dataMin=Math.min(Fr.dataMin,or.dataMin),or.dataMax=Math.max(Fr.dataMax,or.dataMax))}Ne.allExtremes=or}let{dataMin:jr,dataMax:Di,min:hi,max:Fl}=Wm(Ne.getExtremes(),or||{}),Ti=ce.parse(Ye.min),Mr=ce.parse(Ye.max),Vr=jr??Ti,ir=Di??Mr,cc=us-zs,ca=Ne.categories?0:Math.min(cc,ir-Vr),Xa=Vr-ca*(Wp(Ti)?0:Ye.minPadding),uc=ir+ca*(Wp(Mr)?0:Ye.maxPadding),nm=Ne.allowZoomOutside||gn===1||q!=="zoom"&&gn>1,Mf=Math.min(Ti??Xa,Xa,nm?hi:Xa),ju=Math.max(Mr??uc,uc,nm?Fl:uc);(!Ne.isOrdinal||gn!==1||D)&&(zs<Mf&&(zs=Mf,gn>=1&&(us=zs+cc)),us>ju&&(us=ju,gn>=1&&(zs=us-cc)),(D||Ne.series.length&&(zs!==hi||us!==Fl)&&zs>=Mf&&us<=ju)&&(N?N[Ne.coll].push({axis:Ne,min:zs,max:us}):(Ne.isPanning=q!=="zoom",Ne.isPanning&&(ye=!0),Ne.setExtremes(D?void 0:zs,D?void 0:us,!1,!1,{move:ao,trigger:q,scale:gn}),!D&&(zs>Mf||us<ju)&&q!=="mousewheel"&&(he=!0)),ne=!0),this.hasCartesianSeries||D||q==="mousewheel"||(he=!0),_&&(this[Le?"mouseDownX":"mouseDownY"]=_[Le?"chartX":"chartY"]))}return ne&&(N?Ui(this,"selection",N,()=>{delete m.selection,m.trigger="zoom",this.transform(m)}):(!he||ye||this.resetZoomButton?!he&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(q==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),ne}}Wm(Hg.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Hg.prototype.addAxis,[!0]],yAxis:[Hg.prototype.addAxis,[!1]],series:[Hg.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let{stop:RO}=Ia,{composed:qS}=Ie,{addEvent:pp,createElement:qm,css:iy,defined:Zm,erase:zE,merge:jE,pushUnique:Na}=vn;function mp(){let ee=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!ee&&(this.scrollablePlotArea=ee=new gp(this)),ee==null||ee.applyFixed()}function pd(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class gp{static compose(m,C,_){Na(qS,this.compose)&&(pp(m,"afterInit",pd),pp(C,"afterSetChartSize",I=>this.afterSetSize(I.target,I)),pp(C,"render",mp),pp(_,"show",pd))}static afterSetSize(m,C){let _,I,D,{minWidth:N,minHeight:V}=m.options.chart.scrollablePlotArea||{},{clipBox:q,plotBox:Q,inverted:ce,renderer:ne}=m;if(!ne.forExport)if(N?(m.scrollablePixelsX=_=Math.max(0,N-m.chartWidth),_&&(m.scrollablePlotBox=jE(m.plotBox),Q.width=m.plotWidth+=_,q[ce?"height":"width"]+=_,D=!0)):V&&(m.scrollablePixelsY=I=Math.max(0,V-m.chartHeight),Zm(I)&&(m.scrollablePlotBox=jE(m.plotBox),Q.height=m.plotHeight+=I,q[ce?"width":"height"]+=I,D=!1)),Zm(D)){if(!C.skipAxes)for(let he of m.axes)(he.horiz===D||m.hasParallelCoordinates&&he.coll==="yAxis")&&(he.setAxisSize(),he.setAxisTranslation())}else delete m.scrollablePlotBox}constructor(m){var ye;let C,_=m.options.chart,I=hh.getRendererType(),D=_.scrollablePlotArea||{},N=this.moveFixedElements.bind(this),V={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};m.scrollablePixelsX&&(V.overflowX="auto"),m.scrollablePixelsY&&(V.overflowY="auto"),this.chart=m;let q=this.parentDiv=qm("div",{className:"highcharts-scrolling-parent"},{position:"relative"},m.renderTo),Q=this.scrollingContainer=qm("div",{className:"highcharts-scrolling"},V,q),ce=this.innerContainer=qm("div",{className:"highcharts-inner-container"},void 0,Q),ne=this.fixedDiv=qm("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(((ye=_.style)==null?void 0:ye.zIndex)||0)+2,top:0},void 0,!0),he=this.fixedRenderer=new I(ne,m.chartWidth,m.chartHeight,_.style);this.mask=he.path().attr({fill:_.backgroundColor||"#fff","fill-opacity":D.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),Q.parentNode.insertBefore(ne,Q),iy(m.renderTo,{overflow:"visible"}),pp(m,"afterShowResetZoom",N),pp(m,"afterApplyDrilldown",N),pp(m,"afterLayOutTitles",N),pp(Q,"scroll",()=>{let{pointer:Ee,hoverPoint:Ne}=m;Ee&&(delete Ee.chartPosition,Ne&&(C=Ne),Ee.runPointActions(void 0,C,!0))}),ce.appendChild(m.container)}applyFixed(){var Pn;let{chart:m,fixedRenderer:C,isDirty:_,scrollingContainer:I}=this,{axisOffset:D,chartWidth:N,chartHeight:V,container:q,plotHeight:Q,plotLeft:ce,plotTop:ne,plotWidth:he,scrollablePixelsX:ye=0,scrollablePixelsY:Ee=0}=m,{scrollPositionX:Ne=0,scrollPositionY:Le=0}=m.options.chart.scrollablePlotArea||{},Me=N+ye,ze=V+Ee;C.setSize(N,V),(_??!0)&&(this.isDirty=!1,this.moveFixedElements()),RO(m.container),iy(q,{width:`${Me}px`,height:`${ze}px`}),m.renderer.boxWrapper.attr({width:Me,height:ze,viewBox:[0,0,Me,ze].join(" ")}),(Pn=m.chartBackground)==null||Pn.attr({width:Me,height:ze}),iy(I,{width:`${N}px`,height:`${V}px`}),Zm(_)||(I.scrollLeft=ye*Ne,I.scrollTop=Ee*Le);let Ye=ne-D[0]-1,Nt=ce-D[3]-1,Tt=ne+Q+D[2]+1,It=ce+he+D[1]+1,bn=ce+he-ye,Ft=ne+Q-Ee,gn=[["M",0,0]];ye?gn=[["M",0,Ye],["L",ce-1,Ye],["L",ce-1,Tt],["L",0,Tt],["Z"],["M",bn,Ye],["L",N,Ye],["L",N,Tt],["L",bn,Tt],["Z"]]:Ee&&(gn=[["M",Nt,0],["L",Nt,ne-1],["L",It,ne-1],["L",It,0],["Z"],["M",Nt,Ft],["L",Nt,V],["L",It,V],["L",It,Ft],["Z"]]),m.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:gn})}moveFixedElements(){let m,{container:C,inverted:_,scrollablePixelsX:I,scrollablePixelsY:D}=this.chart,N=this.fixedRenderer,V=gp.fixedSelectors;if(I&&!_?m=".highcharts-yaxis":I&&_||D&&!_?m=".highcharts-xaxis":D&&_&&(m=".highcharts-yaxis"),m&&!(this.chart.hasParallelCoordinates&&m===".highcharts-yaxis"))for(let q of[`${m}:not(.highcharts-radial-axis)`,`${m}-labels:not(.highcharts-radial-axis-labels)`])Na(V,q);else for(let q of[".highcharts-xaxis",".highcharts-yaxis"])for(let Q of[`${q}:not(.highcharts-radial-axis)`,`${q}-labels:not(.highcharts-radial-axis-labels)`])zE(V,Q);for(let q of V)[].forEach.call(C.querySelectorAll(q),Q=>{(Q.namespaceURI===N.SVG_NS?N.box:N.box.parentNode).appendChild(Q),Q.style.pointerEvents="auto"})}}gp.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"];let{format:md}=Lr,{series:s0}=ws,{destroyObjectProperties:Tc,fireEvent:zc,getAlignFactor:Uv,isNumber:kn,pick:$u}=vn,ay=class{constructor(ee,m,C,_,I){let D=ee.chart.inverted,N=ee.reversed;this.axis=ee;let V=this.isNegative=!!C!=!!N;this.options=m=m||{},this.x=_,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=I,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:m.align||(D?V?"left":"right":"center"),verticalAlign:m.verticalAlign||(D?"middle":V?"bottom":"top"),y:m.y,x:m.x},this.textAlign=m.textAlign||(D?V?"right":"left":"center")}destroy(){Tc(this,this.axis)}render(ee){let m=this.axis.chart,C=this.options,_=C.format,I=_?md(_,this,m):C.formatter.call(this);if(this.label)this.label.attr({text:I,visibility:"hidden"});else{this.label=m.renderer.label(I,null,void 0,C.shape,void 0,void 0,C.useHTML,!1,"stack-labels");let D={r:C.borderRadius||0,text:I,padding:$u(C.padding,5),visibility:"hidden"};m.styledMode||(D.fill=C.backgroundColor,D.stroke=C.borderColor,D["stroke-width"]=C.borderWidth,this.label.css(C.style||{})),this.label.attr(D),this.label.added||this.label.add(ee)}this.label.labelrank=m.plotSizeY,zc(this,"afterRender")}setOffset(ee,m,C,_,I,D){let{alignOptions:N,axis:V,label:q,options:Q,textAlign:ce}=this,ne=V.chart,he=this.getStackBox({xOffset:ee,width:m,boxBottom:C,boxTop:_,defaultX:I,xAxis:D}),{verticalAlign:ye}=N;if(q&&he){let Ee=q.getBBox(void 0,0),Ne=q.padding,Le=$u(Q.overflow,"justify")==="justify",Me;N.x=Q.x||0,N.y=Q.y||0;let{x:ze,y:Ye}=this.adjustStackPosition({labelBox:Ee,verticalAlign:ye,textAlign:ce});he.x-=ze,he.y-=Ye,q.align(N,!1,he),(Me=ne.isInsidePlot(q.alignAttr.x+N.x+ze,q.alignAttr.y+N.y+Ye))||(Le=!1),Le&&s0.prototype.justifyDataLabel.call(V,q,N,q.alignAttr,Ee,he),q.attr({x:q.alignAttr.x,y:q.alignAttr.y,rotation:Q.rotation,rotationOriginX:Ee.width*Uv(Q.textAlign||"center"),rotationOriginY:Ee.height/2}),$u(!Le&&Q.crop,!0)&&(Me=kn(q.x)&&kn(q.y)&&ne.isInsidePlot(q.x-Ne+(q.width||0),q.y)&&ne.isInsidePlot(q.x+Ne,q.y)),q[Me?"show":"hide"]()}zc(this,"afterSetOffset",{xOffset:ee,width:m})}adjustStackPosition({labelBox:ee,verticalAlign:m,textAlign:C}){return{x:ee.width/2+ee.width/2*(2*Uv(C)-1),y:ee.height/2*2*(1-Uv(m))}}getStackBox(ee){let m=this.axis,C=m.chart,{boxTop:_,defaultX:I,xOffset:D,width:N,boxBottom:V}=ee,q=m.stacking.usePercentage?100:$u(_,this.total,0),Q=m.toPixels(q),ce=ee.xAxis||C.xAxis[0],ne=$u(I,ce.translate(this.x))+D,he=Math.abs(Q-m.toPixels(V||kn(m.min)&&m.logarithmic&&m.logarithmic.lin2log(m.min)||0)),ye=C.inverted,Ee=this.isNegative;return ye?{x:(Ee?Q:Q-he)-C.plotLeft,y:ce.height-ne-N+ce.top-C.plotTop,width:he,height:N}:{x:ne+ce.transB-C.plotLeft,y:(Ee?Q-he:Q)-C.plotTop,width:N,height:he}}},{getDeferredAnimation:ic}=Ia,{series:{prototype:xf}}=ws,{addEvent:Qh,correctFloat:ly,defined:Km,destroyObjectProperties:pA,fireEvent:zd,isNumber:bi,objectEach:Uu,pick:r0}=vn;function al(){let ee=this.inverted;this.axes.forEach(m=>{var C;(C=m.stacking)!=null&&C.stacks&&m.hasVisibleSeries&&(m.stacking.oldStacks=m.stacking.stacks)}),this.series.forEach(m=>{var _;let C=((_=m.xAxis)==null?void 0:_.options)||{};m.options.stacking&&m.reserveSpace()&&(m.stackKey=[m.type,r0(m.options.stack,""),ee?C.top:C.left,ee?C.height:C.width].join(","))})}function mA(){var m;let ee=this.stacking;if(ee){let C=ee.stacks;Uu(C,(_,I)=>{pA(_),delete C[I]}),(m=ee.stackTotalGroup)==null||m.destroy()}}function ZS(){this.stacking||(this.stacking=new gd(this))}function qp(ee,m,C,_){return!Km(ee)||ee.x!==m||_&&ee.stackKey!==_?ee={x:m,index:0,key:_,stackKey:_}:ee.index++,ee.key=[C,m,ee.index].join(","),ee}function WE(){let ee,m=this,C=m.yAxis,_=m.stackKey||"",I=C.stacking.stacks,D=m.getColumn("x",!0),N=m.options.stacking,V=m[N+"Stacker"];V&&[_,"-"+_].forEach(q=>{var ye;let Q=D.length,ce,ne,he;for(;Q--;)ce=D[Q],ee=m.getStackIndicator(ee,ce,m.index,q),ne=(ye=I[q])==null?void 0:ye[ce],(he=ne==null?void 0:ne.points[ee.key||""])&&V.call(m,he,ne,Q)})}function Sh(ee,m,C){let _=m.total?100/m.total:0;ee[0]=ly(ee[0]*_),ee[1]=ly(ee[1]*_),this.stackedYData[C]=ee[1]}function GE(ee){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?xf.setStackedPoints.call(this,ee,"group"):ee.stacking.resetStacks())}function Wt(ee,m){var Ft,gn;let C,_,I,D,N,V,q,Q=m||this.options.stacking;if(!Q||!this.reserveSpace()||({group:"xAxis"}[Q]||"yAxis")!==ee.coll)return;let ce=this.getColumn("x",!0),ne=this.getColumn(this.pointValKey||"y",!0),he=[],ye=ne.length,Ee=this.options,Ne=Ee.threshold||0,Le=Ee.startFromThreshold?Ne:0,Me=Ee.stack,ze=m?`${this.type},${Q}`:this.stackKey||"",Ye="-"+ze,Nt=this.negStacks,Tt=ee.stacking,It=Tt.stacks,bn=Tt.oldStacks;for(Tt.stacksTouched+=1,q=0;q<ye;q++){let Pn=ce[q]||0,ao=ne[q],Vo=bi(ao)&&ao||0;V=(C=this.getStackIndicator(C,Pn,this.index)).key||"",It[N=(_=Nt&&Vo<(Le?0:Ne))?Ye:ze]||(It[N]={}),It[N][Pn]||((Ft=bn[N])!=null&&Ft[Pn]?(It[N][Pn]=bn[N][Pn],It[N][Pn].total=null):It[N][Pn]=new ay(ee,ee.options.stackLabels,!!_,Pn,Me)),I=It[N][Pn],ao!==null?(I.points[V]=I.points[this.index]=[r0(I.cumulative,Le)],Km(I.cumulative)||(I.base=V),I.touched=Tt.stacksTouched,C.index>0&&this.singleStacks===!1&&(I.points[V][0]=I.points[this.index+","+Pn+",0"][0])):(delete I.points[V],delete I.points[this.index]);let qo=I.total||0;Q==="percent"?(D=_?ze:Ye,qo=Nt&&((gn=It[D])!=null&&gn[Pn])?(D=It[D][Pn]).total=Math.max(D.total||0,qo)+Math.abs(Vo):ly(qo+Math.abs(Vo))):Q==="group"?bi(ao)&&qo++:qo=ly(qo+Vo),Q==="group"?I.cumulative=(qo||1)-1:I.cumulative=ly(r0(I.cumulative,Le)+Vo),I.total=qo,ao!==null&&(I.points[V].push(I.cumulative),he[q]=I.cumulative,I.hasValidPoints=!0)}Q==="percent"&&(Tt.usePercentage=!0),Q!=="group"&&(this.stackedYData=he),Tt.oldStacks={}}class gd{constructor(m){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=m}buildStacks(){let m,C,_=this.axis,I=_.series,D=_.coll==="xAxis",N=_.options.reversedStacks,V=I.length;for(this.resetStacks(),this.usePercentage=!1,C=V;C--;)m=I[N?C:V-C-1],D&&m.setGroupedPoints(_),m.setStackedPoints(_);if(!D)for(C=0;C<V;C++)I[C].modifyStacks();zd(_,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,Uu(this.stacks,m=>{Uu(m,C=>{C.cumulative=C.total})}))}resetStacks(){Uu(this.stacks,m=>{Uu(m,(C,_)=>{bi(C.touched)&&C.touched<this.stacksTouched?(C.destroy(),delete m[_]):(C.total=null,C.cumulative=null)})})}renderStackTotals(){var V;let m=this.axis,C=m.chart,_=C.renderer,I=this.stacks,D=ic(C,((V=m.options.stackLabels)==null?void 0:V.animation)||!1),N=this.stackTotalGroup=this.stackTotalGroup||_.g("stack-labels").attr({zIndex:6,opacity:0}).add();N.translate(C.plotLeft,C.plotTop),Uu(I,q=>{Uu(q,Q=>{Q.render(N)})}),N.animate({opacity:1},D)}}(W||(W={})).compose=function(ee,m,C){let _=m.prototype,I=C.prototype;_.getStacks||(Qh(ee,"init",ZS),Qh(ee,"destroy",mA),_.getStacks=al,I.getStackIndicator=qp,I.modifyStacks=WE,I.percentStacker=Sh,I.setGroupedPoints=GE,I.setStackedPoints=Wt)};let cy=W,{defined:Ha,merge:Ch,isObject:jc}=vn;class yi extends dd{drawGraph(){let m=this.options,C=(this.gappedPath||this.getGraphPath).call(this),_=this.chart.styledMode;[this,...this.zones].forEach((I,D)=>{let N,V=I.graph,q=V?"animate":"attr",Q=I.dashStyle||m.dashStyle;V?(V.endX=this.preventGraphAnimation?null:C.xMap,V.animate({d:C})):C.length&&(I.graph=V=this.chart.renderer.path(C).addClass("highcharts-graph"+(D?` highcharts-zone-graph-${D-1} `:" ")+(D&&I.className||"")).attr({zIndex:1}).add(this.group)),V&&!_&&(N={stroke:!D&&m.lineColor||I.color||this.color||"#cccccc","stroke-width":m.lineWidth||0,fill:this.fillGraph&&this.color||"none"},Q?N.dashstyle=Q:m.linecap!=="square"&&(N["stroke-linecap"]=N["stroke-linejoin"]="round"),V[q](N).shadow(m.shadow&&Ch({filterUnits:"userSpaceOnUse"},jc(m.shadow)?m.shadow:{}))),V&&(V.startX=C.xMap,V.isArea=C.isArea)})}getGraphPath(m,C,_){let I=this,D=I.options,N=[],V=[],q,Q=D.step,ce=(m=m||I.points).reversed;return ce&&m.reverse(),(Q={right:1,center:2}[Q]||Q&&3)&&ce&&(Q=4-Q),(m=this.getValidPoints(m,!1,D.nullInteraction||!(D.connectNulls&&!C&&!_))).forEach(function(ne,he){let ye,Ee=ne.plotX,Ne=ne.plotY,Le=m[he-1],Me=ne.isNull||typeof Ne!="number";(ne.leftCliff||Le!=null&&Le.rightCliff)&&!_&&(q=!0),Me&&!Ha(C)&&he>0?q=!D.connectNulls:Me&&!C?q=!0:(he===0||q?ye=[["M",ne.plotX,ne.plotY]]:I.getPointSpline?ye=[I.getPointSpline(m,ne,he)]:Q?(ye=Q===1?[["L",Le.plotX,Ne]]:Q===2?[["L",(Le.plotX+Ee)/2,Le.plotY],["L",(Le.plotX+Ee)/2,Ne]]:[["L",Ee,Le.plotY]]).push(["L",Ee,Ne]):ye=[["L",Ee,Ne]],V.push(ne.x),Q&&(V.push(ne.x),Q===2&&V.push(ne.x)),N.push.apply(N,ye),q=!1)}),N.xMap=V,I.graphPath=N,N}}yi.defaultOptions=Ch(dd.defaultOptions,{legendSymbol:"lineMarker"}),ws.registerSeriesType("line",yi);let{seriesTypes:{line:KS}}=ws,{extend:zv,merge:qE,objectEach:jv,pick:$g}=vn;class YS extends KS{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:m,options:C}=this;[this,...this.zones].forEach((_,I)=>{let D={},N=_.fillColor||C.fillColor,V=_.area,q=V?"animate":"attr";V?(V.endX=this.preventGraphAnimation?null:m.xMap,V.animate({d:m})):(D.zIndex=0,(V=_.area=this.chart.renderer.path(m).addClass("highcharts-area"+(I?` highcharts-zone-area-${I-1} `:" ")+(I&&_.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(D.fill=N||_.color||this.color,D["fill-opacity"]=N?1:C.fillOpacity??.75,V.css({pointerEvents:this.stickyTracking?"none":"auto"})),V[q](D),V.startX=m.xMap,V.shiftUnit=C.step?2:1})}getGraphPath(m){let C,_,I,D=KS.prototype.getGraphPath,N=this.options,V=N.stacking,q=this.yAxis,Q=[],ce=[],ne=this.index,he=q.stacking.stacks[this.stackKey],ye=N.threshold,Ee=Math.round(q.getThreshold(N.threshold)),Ne=$g(N.connectNulls,V==="percent"),Le=function(It,bn,Ft){let gn=m[It],Pn=V&&he[gn.x].points[ne],ao=gn[Ft+"Null"]||0,Vo=gn[Ft+"Cliff"]||0,qo,Us,bs=!0;Vo||ao?(qo=(ao?Pn[0]:Pn[1])+Vo,Us=Pn[0]+Vo,bs=!!ao):!V&&m[bn]&&m[bn].isNull&&(qo=Us=ye),qo!==void 0&&(ce.push({plotX:C,plotY:qo===null?Ee:q.getThreshold(qo),isNull:bs,isCliff:!0}),Q.push({plotX:C,plotY:Us===null?Ee:q.getThreshold(Us),doCurve:!1}))};m=m||this.points,V&&(m=this.getStackPoints(m));for(let It=0,bn=m.length;It<bn;++It)V||(m[It].leftCliff=m[It].rightCliff=m[It].leftNull=m[It].rightNull=void 0),_=m[It].isNull,C=$g(m[It].rectPlotX,m[It].plotX),I=V?$g(m[It].yBottom,Ee):Ee,(!_||Ne)&&(Ne||Le(It,It-1,"left"),_&&!V&&Ne||(ce.push(m[It]),Q.push({x:It,plotX:C,plotY:I})),Ne||Le(It,It+1,"right"));let Me=D.call(this,ce,!0,!0);Q.reversed=!0;let ze=D.call(this,Q,!0,!0),Ye=ze[0];Ye&&Ye[0]==="M"&&(ze[0]=["L",Ye[1],Ye[2]]);let Nt=Me.concat(ze);Nt.length&&Nt.push(["Z"]);let Tt=D.call(this,ce,!1,Ne);return this.chart.series.length>1&&V&&ce.some(It=>It.isCliff)&&(Nt.hasStackedCliffs=Tt.hasStackedCliffs=!0),Nt.xMap=Me.xMap,this.areaPath=Nt,Tt}getStackPoints(m){let C=this,_=[],I=[],D=this.xAxis,N=this.yAxis,V=N.stacking.stacks[this.stackKey],q={},Q=N.series,ce=Q.length,ne=N.options.reversedStacks?1:-1,he=Q.indexOf(C);if(m=m||this.points,this.options.stacking){for(let Ee=0;Ee<m.length;Ee++)m[Ee].leftNull=m[Ee].rightNull=void 0,q[m[Ee].x]=m[Ee];jv(V,function(Ee,Ne){Ee.total!==null&&I.push(Ne)}),I.sort(function(Ee,Ne){return Ee-Ne});let ye=Q.map(Ee=>Ee.visible);I.forEach(function(Ee,Ne){let Le=0,Me,ze;if(q[Ee]&&!q[Ee].isNull)_.push(q[Ee]),[-1,1].forEach(function(Ye){let Nt=Ye===1?"rightNull":"leftNull",Tt=V[I[Ne+Ye]],It=0;if(Tt){let bn=he;for(;bn>=0&&bn<ce;){let Ft=Q[bn].index;!(Me=Tt.points[Ft])&&(Ft===C.index?q[Ee][Nt]=!0:ye[bn]&&(ze=V[Ee].points[Ft])&&(It-=ze[1]-ze[0])),bn+=ne}}q[Ee][Ye===1?"rightCliff":"leftCliff"]=It});else{let Ye=he;for(;Ye>=0&&Ye<ce;){let Nt=Q[Ye].index;if(Me=V[Ee].points[Nt]){Le=Me[1];break}Ye+=ne}Le=$g(Le,0),Le=N.translate(Le,0,1,0,1),_.push({isNull:!0,plotX:D.translate(Ee,0,0,0,1),x:Ee,plotY:Le,yBottom:Le})}})}return _}}YS.defaultOptions=qE(KS.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),zv(YS.prototype,{singleStacks:!1}),ws.registerSeriesType("area",YS);let{line:ZE}=ws.seriesTypes,{merge:Ug,pick:Wv}=vn;class gA extends ZE{getPointSpline(m,C,_){let I,D,N,V,q=C.plotX||0,Q=C.plotY||0,ce=m[_-1],ne=m[_+1];function he(Ee){return Ee&&!Ee.isNull&&Ee.doCurve!==!1&&!C.isCliff}if(he(ce)&&he(ne)){let Ee=ce.plotX||0,Ne=ce.plotY||0,Le=ne.plotX||0,Me=ne.plotY||0,ze=0;I=(1.5*q+Ee)/2.5,D=(1.5*Q+Ne)/2.5,N=(1.5*q+Le)/2.5,V=(1.5*Q+Me)/2.5,N!==I&&(ze=(V-D)*(N-q)/(N-I)+Q-V),D+=ze,V+=ze,D>Ne&&D>Q?(D=Math.max(Ne,Q),V=2*Q-D):D<Ne&&D<Q&&(D=Math.min(Ne,Q),V=2*Q-D),V>Me&&V>Q?(V=Math.max(Me,Q),D=2*Q-V):V<Me&&V<Q&&(V=Math.min(Me,Q),D=2*Q-V),C.rightContX=N,C.rightContY=V,C.controlPoints={low:[I,D],high:[N,V]}}let ye=["C",Wv(ce.rightContX,ce.plotX,0),Wv(ce.rightContY,ce.plotY,0),Wv(I,q,0),Wv(D,Q,0),q,Q];return ce.rightContX=ce.rightContY=void 0,ye}}gA.defaultOptions=Ug(ZE.defaultOptions),ws.registerSeriesType("spline",gA);let Gv=gA,{area:Wc,area:{prototype:ac}}=ws.seriesTypes,{extend:zg,merge:jg}=vn;class Wg extends Gv{}Wg.defaultOptions=jg(Gv.defaultOptions,Wc.defaultOptions),zg(Wg.prototype,{getGraphPath:ac.getGraphPath,getStackPoints:ac.getStackPoints,drawGraph:ac.drawGraph}),ws.registerSeriesType("areaspline",Wg);let{animObject:uy}=Ia,{parse:vd}=Nr,{noop:qv}=Ie,{clamp:Al,crisp:i0,defined:Of,extend:If,fireEvent:f1,isArray:lc,isNumber:Gg,merge:Zp,pick:Kp,objectEach:Ym}=vn;class Zv extends dd{animate(m){let C,_,I=this,D=this.yAxis,N=D.pos,V=D.reversed,q=I.options,{clipOffset:Q,inverted:ce}=this.chart,ne={},he=ce?"translateX":"translateY";m&&Q?(ne.scaleY=.001,_=Al(D.toPixels(q.threshold||0),N,N+D.len),ce?ne.translateX=(_+=V?-Math.floor(Q[0]):Math.ceil(Q[2]))-D.len:ne.translateY=_+=V?Math.ceil(Q[0]):-Math.floor(Q[2]),I.clipBox&&I.setClip(),I.group.attr(ne)):(C=Number(I.group.attr(he)),I.group.animate({scaleY:1},If(uy(I.options.animation),{step:function(ye,Ee){I.group&&(ne[he]=C+Ee.pos*(N-C),I.group.attr(ne))}})))}init(m,C){super.init.apply(this,arguments);let _=this;(m=_.chart).hasRendered&&m.series.forEach(function(I){I.type===_.type&&(I.isDirty=!0)})}getColumnMetrics(){var Ne,Le;let m=this,C=m.options,_=m.xAxis,I=m.yAxis,D=_.options.reversedStacks,N=_.reversed&&!D||!_.reversed&&D,V={},q,Q=0;C.grouping===!1?Q=1:m.chart.series.forEach(function(Me){let ze,Ye=Me.yAxis,Nt=Me.options;Me.type===m.type&&Me.reserveSpace()&&I.len===Ye.len&&I.pos===Ye.pos&&(Nt.stacking&&Nt.stacking!=="group"?(V[q=Me.stackKey]===void 0&&(V[q]=Q++),ze=V[q]):Nt.grouping!==!1&&(ze=Q++),Me.columnIndex=ze)});let ce=Math.min(Math.abs(_.transA)*(!((Ne=_.brokenAxis)!=null&&Ne.hasBreaks)&&((Le=_.ordinal)==null?void 0:Le.slope)||C.pointRange||_.closestPointRange||_.tickInterval||1),_.len),ne=ce*C.groupPadding,he=(ce-2*ne)/(Q||1),ye=Math.min(C.maxPointWidth||_.len,Kp(C.pointWidth,he*(1-2*C.pointPadding))),Ee=(m.columnIndex||0)+ +!!N;return m.columnMetrics={width:ye,offset:(he-ye)/2+(ne+Ee*he-ce/2)*(N?-1:1),paddedWidth:he,columnCount:Q},m.columnMetrics}crispCol(m,C,_,I){let D=this.borderWidth,N=this.chart.inverted;return I=i0(C+I,D,N)-(C=i0(C,D,N)),this.options.crisp&&(_=i0(m+_,D)-(m=i0(m,D))),{x:m,y:C,width:_,height:I}}adjustForMissingColumns(m,C,_,I){var D;if(!_.isNull&&I.columnCount>1){let N=this.xAxis.series.filter(ce=>ce.visible).map(ce=>ce.index),V=0,q=0;Ym((D=this.xAxis.stacking)==null?void 0:D.stacks,ce=>{var Ee;let ne=typeof _.x=="number"?(Ee=ce[_.x.toString()])==null?void 0:Ee.points:void 0,he=ne==null?void 0:ne[this.index],ye={};if(ne&&lc(he)){let Ne=this.index,Le=Object.keys(ne).filter(Me=>!Me.match(",")&&ne[Me]&&ne[Me].length>1).map(parseFloat).filter(Me=>N.indexOf(Me)!==-1).filter(Me=>{let ze=this.chart.series[Me].options,Ye=ze.stacking&&ze.stack;if(Of(Ye)){if(Gg(ye[Ye]))return Ne===Me&&(Ne=ye[Ye]),!1;ye[Ye]=Me}return!0}).sort((Me,ze)=>ze-Me);V=Le.indexOf(Ne),q=Le.length}}),V=this.xAxis.reversed?q-1-V:V;let Q=(q-1)*I.paddedWidth+C;m=(_.plotX||0)+Q/2-C-V*I.paddedWidth}return m}translate(){let m=this,C=m.chart,_=m.options,I=m.dense=m.closestPointRange*m.xAxis.transA<2,D=m.borderWidth=Kp(_.borderWidth,+!I),N=m.xAxis,V=m.yAxis,q=_.threshold,Q=Kp(_.minPointLength,5),ce=m.getColumnMetrics(),ne=ce.width,he=m.pointXOffset=ce.offset,ye=m.dataMin,Ee=m.dataMax,Ne=m.translatedThreshold=V.getThreshold(q),Le=m.barW=Math.max(ne,1+2*D);_.pointPadding&&_.crisp&&(Le=Math.ceil(Le)),dd.prototype.translate.apply(m),m.points.forEach(function(Me){let ze=Kp(Me.yBottom,Ne),Ye=999+Math.abs(ze),Nt=Me.plotX||0,Tt=Al(Me.plotY,-Ye,V.len+Ye),It,bn=Math.min(Tt,ze),Ft=Math.max(Tt,ze)-bn,gn=ne,Pn=Nt+he,ao=Le;Q&&Math.abs(Ft)<Q&&(Ft=Q,It=!V.reversed&&!Me.negative||V.reversed&&Me.negative,Gg(q)&&Gg(Ee)&&Me.y===q&&Ee<=q&&(V.min||0)<q&&(ye!==Ee||(V.max||0)<=q)&&(It=!It,Me.negative=!Me.negative),bn=Math.abs(bn-Ne)>Q?ze-Q:Ne-(It?Q:0)),Of(Me.options.pointWidth)&&(Pn-=Math.round(((gn=ao=Math.ceil(Me.options.pointWidth))-ne)/2)),_.centerInCategory&&(Pn=m.adjustForMissingColumns(Pn,gn,Me,ce)),Me.barX=Pn,Me.pointWidth=gn,Me.tooltipPos=C.inverted?[Al(V.len+V.pos-C.plotLeft-Tt,V.pos-C.plotLeft,V.len+V.pos-C.plotLeft),N.len+N.pos-C.plotTop-Pn-ao/2,Ft]:[N.left-C.plotLeft+Pn+ao/2,Al(Tt+V.pos-C.plotTop,V.pos-C.plotTop,V.len+V.pos-C.plotTop),Ft],Me.shapeType=m.pointClass.prototype.shapeType||"roundedRect",Me.shapeArgs=m.crispCol(Pn,bn,ao,Me.isNull?0:Ft)}),f1(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(m,C){let _=this.options,I=this.pointAttrToOptions||{},D=I.stroke||"borderColor",N=I["stroke-width"]||"borderWidth",V,q,Q,ce=m&&m.color||this.color,ne=m&&m[D]||_[D]||ce,he=m&&m.options.dashStyle||_.dashStyle,ye=m&&m[N]||_[N]||this[N]||0,Ee=m!=null&&m.isNull&&_.nullInteraction?0:(m==null?void 0:m.opacity)??_.opacity??1;m&&this.zones.length&&(q=m.getZone(),ce=m.options.color||q&&(q.color||m.nonZonedColor)||this.color,q&&(ne=q.borderColor||ne,he=q.dashStyle||he,ye=q.borderWidth||ye)),C&&m&&(Q=(V=Zp(_.states[C],m.options.states&&m.options.states[C]||{})).brightness,ce=V.color||Q!==void 0&&vd(ce).brighten(V.brightness).get()||ce,ne=V[D]||ne,ye=V[N]||ye,he=V.dashStyle||he,Ee=Kp(V.opacity,Ee));let Ne={fill:ce,stroke:ne,"stroke-width":ye,opacity:Ee};return he&&(Ne.dashstyle=he),Ne}drawPoints(m=this.points){let C,_=this,I=this.chart,D=_.options,N=D.nullInteraction,V=I.renderer,q=D.animationLimit||250;m.forEach(function(Q){let ce=Q.plotY,ne=Q.graphic,he=!!ne,ye=ne&&I.pointCount<q?"animate":"attr";Gg(ce)&&(Q.y!==null||N)?(C=Q.shapeArgs,ne&&Q.hasNewShapeType()&&(ne=ne.destroy()),_.enabledDataSorting&&(Q.startXPos=_.xAxis.reversed?-(C&&C.width||0):_.xAxis.width),!ne&&(Q.graphic=ne=V[Q.shapeType](C).add(Q.group||_.group),ne&&_.enabledDataSorting&&I.hasRendered&&I.pointCount<q&&(ne.attr({x:Q.startXPos}),he=!0,ye="animate")),ne&&he&&ne[ye](Zp(C)),I.styledMode||ne[ye](_.pointAttribs(Q,Q.selected&&"select")).shadow(Q.allowShadow!==!1&&D.shadow),ne&&(ne.addClass(Q.getClassName(),!0),ne.attr({visibility:Q.visible?"inherit":"hidden"}))):ne&&(Q.graphic=ne.destroy())})}drawTracker(m=this.points){let C,_=this,I=_.chart,D=I.pointer,N=function(V){D==null||D.normalize(V);let q=D==null?void 0:D.getPointFromEvent(V);D&&q&&_.options.enableMouseTracking&&(I.isInsidePlot(V.chartX-I.plotLeft,V.chartY-I.plotTop,{visiblePlotOnly:!0})||D!=null&&D.inClass(V.target,"highcharts-data-label"))&&(D.isDirectTouch=!0,q.onMouseOver(V))};m.forEach(function(V){C=lc(V.dataLabels)?V.dataLabels:V.dataLabel?[V.dataLabel]:[],V.graphic&&(V.graphic.element.point=V),C.forEach(function(q){(q.div||q.element).point=V})}),_._hasTracking||(_.trackerGroups.forEach(function(V){_[V]&&(_[V].addClass("highcharts-tracker").on("mouseover",N).on("mouseout",function(q){D==null||D.onTrackerMouseOut(q)}).on("touchstart",N),!I.styledMode&&_.options.cursor&&_[V].css({cursor:_.options.cursor}))}),_._hasTracking=!0),f1(this,"afterDrawTracker")}remove(){let m=this,C=m.chart;C.hasRendered&&C.series.forEach(function(_){_.type===m.type&&(_.isDirty=!0)}),dd.prototype.remove.apply(m,arguments)}}Zv.defaultOptions=Zp(dd.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),If(Zv.prototype,{directTouch:!0,getSymbol:qv,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),ws.registerSeriesType("column",Zv);let bd=Zv,{getDeferredAnimation:a0}=Ia,{format:vA}=Lr,{defined:Ca,extend:KE,fireEvent:vp,getAlignFactor:Rf,isArray:Xm,isString:Yp,merge:uu,objectEach:l0,pick:Xp,pInt:YE,splat:p1}=vn;(function(ee){function m(){return q(this).some(ce=>ce==null?void 0:ce.enabled)}function C(ce,ne,he,ye,Ee){var Pn;let{chart:Ne,enabledDataSorting:Le}=this,Me=this.isCartesian&&Ne.inverted,ze=ce.plotX,Ye=ce.plotY,Nt=he.rotation||0,Tt=Ca(ze)&&Ca(Ye)&&Ne.isInsidePlot(ze,Math.round(Ye),{inverted:Me,paneCoordinates:!0,series:this}),It=Nt===0&&Xp(he.overflow,Le?"none":"justify")==="justify",bn=this.visible&&ce.visible!==!1&&Ca(ze)&&(ce.series.forceDL||Le&&!It||Tt||Xp(he.inside,!!this.options.stacking)&&ye&&Ne.isInsidePlot(ze,Me?ye.x+1:ye.y+ye.height-1,{inverted:Me,paneCoordinates:!0,series:this})),Ft=ce.pos();if(bn&&Ft){var gn;let ao=ne.getBBox(),Vo=ne.getBBox(void 0,0);if(ye=KE({x:Ft[0],y:Math.round(Ft[1]),width:0,height:0},ye||{}),he.alignTo==="plotEdges"&&this.isCartesian&&(ye[Me?"x":"y"]=0,ye[Me?"width":"height"]=((Pn=this.yAxis)==null?void 0:Pn.len)||0),KE(he,{width:ao.width,height:ao.height}),gn=ye,Le&&this.xAxis&&!It&&this.setDataLabelStartPos(ce,ne,Ee,Tt,gn),ne.align(uu(he,{width:Vo.width,height:Vo.height}),!1,ye,!1),ne.alignAttr.x+=Rf(he.align)*(Vo.width-ao.width),ne.alignAttr.y+=Rf(he.verticalAlign)*(Vo.height-ao.height),ne[ne.placed?"animate":"attr"]({"text-align":ne.alignAttr["text-align"]||"center",x:ne.alignAttr.x+(ao.width-Vo.width)/2,y:ne.alignAttr.y+(ao.height-Vo.height)/2,rotationOriginX:(ne.width||0)/2,rotationOriginY:(ne.height||0)/2}),It&&ye.height>=0)this.justifyDataLabel(ne,he,ne.alignAttr,ao,ye,Ee);else if(Xp(he.crop,!0)){let{x:qo,y:Us}=ne.alignAttr;bn=Ne.isInsidePlot(qo,Us,{paneCoordinates:!0,series:this})&&Ne.isInsidePlot(qo+ao.width-1,Us+ao.height-1,{paneCoordinates:!0,series:this})}he.shape&&!Nt&&ne[Ee?"attr":"animate"]({anchorX:Ft[0],anchorY:Ft[1]})}Ee&&Le&&(ne.placed=!1),bn||Le&&!It?(ne.show(),ne.placed=!0):(ne.hide(),ne.placed=!1)}function _(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6,this.chart.dataLabelsGroup)}function I(ce){let ne=this.hasRendered||0,he=this.initDataLabelsGroup().attr({opacity:+ne});return!ne&&he&&(this.visible&&he.show(),this.options.animation?he.animate({opacity:1},ce):he.attr({opacity:1})),he}function D(ce){var bn;let ne;ce=ce||this.points;let he=this,ye=he.chart,Ee=he.options,Ne=ye.renderer,{backgroundColor:Le,plotBackgroundColor:Me}=ye.options.chart,ze=Ne.getContrast(Yp(Me)&&Me||Yp(Le)&&Le||"#000000"),Ye=q(he),{animation:Nt,defer:Tt}=Ye[0],It=Tt?a0(ye,Nt,he):{defer:0,duration:0};vp(this,"drawDataLabels"),(bn=he.hasDataLabels)!=null&&bn.call(he)&&(ne=this.initDataLabels(It),ce.forEach(Ft=>{var Vo,qo,Us;let gn=Ft.dataLabels||[],Pn=Ft.color||he.color;p1(V(Ye,Ft.dlOptions||((Vo=Ft.options)==null?void 0:Vo.dataLabels))).forEach((bs,zs)=>{var Xa;let us=bs.enabled&&(Ft.visible||Ft.dataLabelOnHidden)&&(!Ft.isNull||Ft.dataLabelOnNull)&&(function(uc,nm){let Mf=nm.filter;if(Mf){let ju=Mf.operator,xc=uc[Mf.property],Fr=Mf.value;return ju===">"&&xc>Fr||ju==="<"&&xc<Fr||ju===">="&&xc>=Fr||ju==="<="&&xc<=Fr||ju==="=="&&xc==Fr||ju==="==="&&xc===Fr||ju==="!="&&xc!=Fr||ju==="!=="&&xc!==Fr||!1}return!0})(Ft,bs),{backgroundColor:or,borderColor:jr,distance:Di,style:hi={}}=bs,Fl,Ti,Mr,Vr={},ir=gn[zs],cc=!ir,ca;us&&(Ti=Ca(Fl=Xp(bs[Ft.formatPrefix+"Format"],bs.format))?vA(Fl,Ft,ye):(bs[Ft.formatPrefix+"Formatter"]||bs.formatter).call(Ft,bs),Mr=bs.rotation,!ye.styledMode&&(hi.color=Xp(bs.color,hi.color,Yp(he.color)?he.color:void 0,"#000000"),hi.color==="contrast"?(or!=="none"&&(ca=or),Ft.contrastColor=Ne.getContrast(ca!=="auto"&&Yp(ca)&&ca||(Yp(Pn)?Pn:"")),hi.color=ca||!Ca(Di)&&bs.inside||0>YE(Di||0)||Ee.stacking?Ft.contrastColor:ze):delete Ft.contrastColor,Ee.cursor&&(hi.cursor=Ee.cursor)),Vr={r:bs.borderRadius||0,rotation:Mr,padding:bs.padding,zIndex:1},ye.styledMode||(Vr.fill=or==="auto"?Ft.color:or,Vr.stroke=jr==="auto"?Ft.color:jr,Vr["stroke-width"]=bs.borderWidth),l0(Vr,(uc,nm)=>{uc===void 0&&delete Vr[nm]})),!ir||us&&Ca(Ti)&&!!(ir.div||(Xa=ir.text)!=null&&Xa.foreignObject)==!!bs.useHTML&&(ir.rotation&&bs.rotation||ir.rotation===bs.rotation)||(ir=void 0,cc=!0),us&&Ca(Ti)&&Ti!==""&&(ir?Vr.text=Ti:(ir=Ne.label(Ti,0,0,bs.shape,void 0,void 0,bs.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+Ft.colorIndex+" "+(bs.className||"")+(bs.useHTML?" highcharts-tracker":"")),ir&&(ir.options=bs,ir.attr(Vr),ye.styledMode?hi.width&&ir.css({width:hi.width,textOverflow:hi.textOverflow,whiteSpace:hi.whiteSpace}):ir.css(hi).shadow(bs.shadow),vp(ir,"beforeAddingDataLabel",{labelOptions:bs,point:Ft}),ir.added||ir.add(ne),he.alignDataLabel(Ft,ir,bs,void 0,cc),ir.isActive=!0,gn[zs]&&gn[zs]!==ir&&gn[zs].destroy(),gn[zs]=ir))});let ao=gn.length;for(;ao--;)(qo=gn[ao])!=null&&qo.isActive?gn[ao].isActive=!1:((Us=gn[ao])==null||Us.destroy(),gn.splice(ao,1));Ft.dataLabel=gn[0],Ft.dataLabels=gn})),vp(this,"afterDrawDataLabels")}function N(ce,ne,he,ye,Ee,Ne){let Le=this.chart,Me=ne.align,ze=ne.verticalAlign,Ye=ce.box?0:ce.padding||0,Nt=Le.inverted?this.yAxis:this.xAxis,Tt=Nt?Nt.left-Le.plotLeft:0,It=Le.inverted?this.xAxis:this.yAxis,bn=It?It.top-Le.plotTop:0,{x:Ft=0,y:gn=0}=ne,Pn,ao;return(Pn=(he.x||0)+Ye+Tt)<0&&(Me==="right"&&Ft>=0?(ne.align="left",ne.inside=!0):Ft-=Pn,ao=!0),(Pn=(he.x||0)+ye.width-Ye+Tt)>Le.plotWidth&&(Me==="left"&&Ft<=0?(ne.align="right",ne.inside=!0):Ft+=Le.plotWidth-Pn,ao=!0),(Pn=he.y+Ye+bn)<0&&(ze==="bottom"&&gn>=0?(ne.verticalAlign="top",ne.inside=!0):gn-=Pn,ao=!0),(Pn=(he.y||0)+ye.height-Ye+bn)>Le.plotHeight&&(ze==="top"&&gn<=0?(ne.verticalAlign="bottom",ne.inside=!0):gn+=Le.plotHeight-Pn,ao=!0),ao&&(ne.x=Ft,ne.y=gn,ce.placed=!Ne,ce.align(ne,void 0,Ee)),ao}function V(ce,ne){let he=[],ye;if(Xm(ce)&&!Xm(ne))he=ce.map(function(Ee){return uu(Ee,ne)});else if(Xm(ne)&&!Xm(ce))he=ne.map(function(Ee){return uu(ce,Ee)});else if(Xm(ce)||Xm(ne)){if(Xm(ce)&&Xm(ne))for(ye=Math.max(ce.length,ne.length);ye--;)he[ye]=uu(ce[ye],ne[ye])}else he=uu(ce,ne);return he}function q(ce){var he,ye;let ne=ce.chart.options.plotOptions;return p1(V(V((he=ne==null?void 0:ne.series)==null?void 0:he.dataLabels,(ye=ne==null?void 0:ne[ce.type])==null?void 0:ye.dataLabels),ce.options.dataLabels))}function Q(ce,ne,he,ye,Ee){let Ne=this.chart,Le=Ne.inverted,Me=this.xAxis,ze=Me.reversed,Ye=((Le?ne.height:ne.width)||0)/2,Nt=ce.pointWidth,Tt=Nt?Nt/2:0;ne.startXPos=Le?Ee.x:ze?-Ye-Tt:Me.width-Ye+Tt,ne.startYPos=Le?ze?this.yAxis.height-Ye+Tt:-Ye-Tt:Ee.y,ye?ne.visibility==="hidden"&&(ne.show(),ne.attr({opacity:0}).animate({opacity:1})):ne.attr({opacity:1}).animate({opacity:0},void 0,ne.hide),Ne.hasRendered&&(he&&ne.attr({x:ne.startXPos,y:ne.startYPos}),ne.placed=!0)}ee.compose=function(ce){let ne=ce.prototype;ne.initDataLabels||(ne.initDataLabels=I,ne.initDataLabelsGroup=_,ne.alignDataLabel=C,ne.drawDataLabels=D,ne.justifyDataLabel=N,ne.mergeArrays=V,ne.setDataLabelStartPos=Q,ne.hasDataLabels=m)}})(Z||(Z={}));let c0=Z,{composed:XS}=Ie,{series:JS}=ws,{merge:bA,pushUnique:u0}=vn;(function(ee){function m(C,_,I,D,N){var Ne,Le;let{chart:V,options:q}=this,Q=V.inverted,ce=((Ne=this.xAxis)==null?void 0:Ne.len)||V.plotSizeX||0,ne=((Le=this.yAxis)==null?void 0:Le.len)||V.plotSizeY||0,he=C.dlBox||C.shapeArgs,ye=C.below??(C.plotY||0)>(this.translatedThreshold??ne),Ee=I.inside??!!q.stacking;if(he){if(D=bA(he),I.overflow!=="allow"||I.crop!==!1||q.clip!==!1){D.y<0&&(D.height+=D.y,D.y=0);let Me=D.y+D.height-ne;Me>0&&Me<D.height-1&&(D.height-=Me)}Q&&(D={x:ne-D.y-D.height,y:ce-D.x-D.width,width:D.height,height:D.width}),Ee||(Q?(D.x+=ye?0:D.width,D.width=0):(D.y+=ye?D.height:0,D.height=0))}I.align??(I.align=!Q||Ee?"center":ye?"right":"left"),I.verticalAlign??(I.verticalAlign=Q||Ee?"middle":ye?"top":"bottom"),JS.prototype.alignDataLabel.call(this,C,_,I,D,N),I.inside&&C.contrastColor&&_.css({color:C.contrastColor})}ee.compose=function(C){c0.compose(JS),u0(XS,"ColumnDataLabel")&&(C.prototype.alignDataLabel=m)}})(re||(re={}));let d0=re,{extend:Jp,merge:qg}=vn;class Zg extends bd{}Zg.defaultOptions=qg(bd.defaultOptions,{}),Jp(Zg.prototype,{inverted:!0}),ws.registerSeriesType("bar",Zg);let{column:yA,line:dy}=ws.seriesTypes,{addEvent:m1,extend:SA,merge:CA}=vn;class h0 extends dy{applyJitter(){let m=this,C=this.options.jitter,_=this.points.length;C&&this.points.forEach(function(I,D){["x","y"].forEach(function(N,V){if(C[N]&&!I.isNull){let q=`plot${N.toUpperCase()}`,Q=m[`${N}Axis`],ce=C[N]*Q.transA;if(Q&&!Q.logarithmic){let ne=Math.max(0,(I[q]||0)-ce),he=Math.min(Q.len,(I[q]||0)+ce);I[q]=ne+(he-ne)*(function(ye){let Ee=1e4*Math.sin(ye);return Ee-Math.floor(Ee)})(D+V*_),N==="x"&&(I.clientX=I.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}h0.defaultOptions=CA(dy.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),SA(h0.prototype,{drawTracker:yA.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),m1(h0,"afterTranslate",function(){this.applyJitter()}),ws.registerSeriesType("scatter",h0);let{deg2rad:Kv}=Ie,{fireEvent:QS,isNumber:Eh,pick:g1,relativeLength:bp}=vn;(function(ee){ee.getCenter=function(){let m=this.options,C=this.chart,_=2*(m.slicedOffset||0),I=C.plotWidth-2*_,D=C.plotHeight-2*_,N=m.center,V=Math.min(I,D),q=m.thickness,Q,ce=m.size,ne=m.innerSize||0,he,ye;typeof ce=="string"&&(ce=parseFloat(ce)),typeof ne=="string"&&(ne=parseFloat(ne));let Ee=[g1(N==null?void 0:N[0],"50%"),g1(N==null?void 0:N[1],"50%"),g1(ce&&ce<0?void 0:m.size,"100%"),g1(ne&&ne<0?void 0:m.innerSize||0,"0%")];for(!C.angular||this instanceof dd||(Ee[3]=0),he=0;he<4;++he)ye=Ee[he],Q=he<2||he===2&&/%$/.test(ye),Ee[he]=bp(ye,[I,D,V,Ee[2]][he])+(Q?_:0);return Ee[3]>Ee[2]&&(Ee[3]=Ee[2]),Eh(q)&&2*q<Ee[2]&&q>0&&(Ee[3]=Ee[2]-2*q),QS(this,"afterGetCenter",{positions:Ee}),Ee},ee.getStartAndEndRadians=function(m,C){let _=Eh(m)?m:0,I=Eh(C)&&C>_&&C-_<360?C:_+360;return{start:Kv*(_+-90),end:Kv*(I+-90)}}})(le||(le={}));let hy=le,{setAnimation:EA}=Ia,{addEvent:XE,defined:wh,extend:v1,isNumber:wA,pick:Yv,relativeLength:kO}=vn;class _A extends $p{getConnectorPath(m){let C=m.dataLabelPosition,_=m.options||{},I=_.connectorShape,D=this.connectorShapes[I]||I;return C&&D.call(this,{...C.computed,alignment:C.alignment},C.connectorPosition,_)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(m){let C=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(C.x,C.y,C.r+m,C.r+m,{innerR:C.r-1,start:C.start,end:C.end,borderRadius:C.borderRadius})}constructor(m,C,_){super(m,C,_),this.half=0,this.name??(this.name=m.chart.options.lang.pieSliceName);let I=D=>{this.slice(D.type==="select")};XE(this,"select",I),XE(this,"unselect",I)}isValid(){return wA(this.y)&&this.y>=0}setVisible(m,C=!0){m!==this.visible&&this.update({visible:m??!this.visible},C,void 0,!1)}slice(m,C,_){let I=this.series;EA(_,I.chart),C=Yv(C,!0),this.sliced=this.options.sliced=m=wh(m)?m:!this.sliced,I.options.data[I.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}v1(_A.prototype,{connectorShapes:{fixedOffset:function(ee,m,C){let _=m.breakAt,I=m.touchingSliceAt,D=C.softConnector?["C",ee.x+(ee.alignment==="left"?-5:5),ee.y,2*_.x-I.x,2*_.y-I.y,_.x,_.y]:["L",_.x,_.y];return[["M",ee.x,ee.y],D,["L",I.x,I.y]]},straight:function(ee,m){let C=m.touchingSliceAt;return[["M",ee.x,ee.y],["L",C.x,C.y]]},crookedLine:function(ee,m,C){let{angle:_=this.angle||0,breakAt:I,touchingSliceAt:D}=m,{series:N}=this,[V,q,Q]=N.center,ce=Q/2,{plotLeft:ne,plotWidth:he}=N.chart,ye=ee.alignment==="left",{x:Ee,y:Ne}=ee,Le=I.x;if(C.crookDistance){let ze=kO(C.crookDistance,1);Le=ye?V+ce+(he+ne-V-ce)*(1-ze):ne+(V-ce)*ze}else Le=V+(q-Ne)*Math.tan(_-Math.PI/2);let Me=[["M",Ee,Ne]];return(ye?Le<=Ee&&Le>=I.x:Le>=Ee&&Le<=I.x)&&Me.push(["L",Le,Ne]),Me.push(["L",I.x,I.y],["L",D.x,D.y]),Me}}});let{getStartAndEndRadians:JE}=hy,{noop:AA}=Ie,{clamp:Ai,extend:TA,fireEvent:QE,merge:_h,pick:f0}=vn;class Dr extends dd{animate(m){let C=this,_=C.points,I=C.startAngleRad;m||_.forEach(function(D){let N=D.graphic,V=D.shapeArgs;N&&V&&(N.attr({r:f0(D.startR,C.center&&C.center[3]/2),start:I,end:I}),N.animate({r:V.r,start:V.start,end:V.end},C.options.animation))})}drawEmpty(){let m,C,_=this.startAngleRad,I=this.endAngleRad,D=this.options;this.total===0&&this.center?(m=this.center[0],C=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(m,C,this.center[1]/2,0,_,I).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:xi.arc(m,C,this.center[2]/2,0,{start:_,end:I,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":D.borderWidth,fill:D.fillColor||"none",stroke:D.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let m=this.chart.renderer;this.points.forEach(function(C){C.graphic&&C.hasNewShapeType()&&(C.graphic=C.graphic.destroy()),C.graphic||(C.graphic=m[C.shapeType](C.shapeArgs).add(C.series.group),C.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(m,C,_,I){let D=this.center,N=this.radii?this.radii[_.index]||0:D[2]/2,V=I.dataLabelPosition,q=(V==null?void 0:V.distance)||0,Q=Math.asin(Ai((m-D[1])/(N+q),-1,1));return D[0]+Math.cos(Q)*(N+q)*(C?-1:1)+(q>0?(C?-1:1)*(I.padding||0):0)}hasData(){return this.points.some(m=>m.visible)}redrawPoints(){let m,C,_,I,D=this,N=D.chart;this.drawEmpty(),D.group&&!N.styledMode&&D.group.shadow(D.options.shadow),D.points.forEach(function(V){let q={};C=V.graphic,!V.isNull&&C?(I=V.shapeArgs,m=V.getTranslate(),N.styledMode||(_=D.pointAttribs(V,V.selected&&"select")),V.delayedRendering?(C.setRadialReference(D.center).attr(I).attr(m),N.styledMode||C.attr(_).attr({"stroke-linejoin":"round"}),V.delayedRendering=!1):(C.setRadialReference(D.center),N.styledMode||_h(!0,q,_),_h(!0,q,I,m),C.animate(q)),C.attr({visibility:V.visible?"inherit":"hidden"}),C.addClass(V.getClassName(),!0)):C&&(V.graphic=C.destroy())})}sortByAngle(m,C){m.sort(function(_,I){return _.angle!==void 0&&(I.angle-_.angle)*C})}translate(m){QE(this,"translate"),this.generatePoints();let C=this.options,_=C.slicedOffset,I=JE(C.startAngle,C.endAngle),D=this.startAngleRad=I.start,N=(this.endAngleRad=I.end)-D,V=this.points,q=C.ignoreHiddenPoint,Q=V.length,ce,ne,he,ye,Ee,Ne,Le,Me=0;for(m||(this.center=m=this.getCenter()),Ne=0;Ne<Q;Ne++){Le=V[Ne],ce=D+Me*N,Le.isValid()&&(!q||Le.visible)&&(Me+=Le.percentage/100),ne=D+Me*N;let ze={x:m[0],y:m[1],r:m[2]/2,innerR:m[3]/2,start:Math.round(1e3*ce)/1e3,end:Math.round(1e3*ne)/1e3};Le.shapeType="arc",Le.shapeArgs=ze,(he=(ne+ce)/2)>1.5*Math.PI?he-=2*Math.PI:he<-Math.PI/2&&(he+=2*Math.PI),Le.slicedTranslation={translateX:Math.round(Math.cos(he)*_),translateY:Math.round(Math.sin(he)*_)},ye=Math.cos(he)*m[2]/2,Ee=Math.sin(he)*m[2]/2,Le.tooltipPos=[m[0]+.7*ye,m[1]+.7*Ee],Le.half=+(he<-Math.PI/2||he>Math.PI/2),Le.angle=he}QE(this,"afterTranslate")}updateTotals(){let m=this.points,C=m.length,_=this.options.ignoreHiddenPoint,I,D,N=0;for(I=0;I<C;I++)(D=m[I]).isValid()&&(!_||D.visible)&&(N+=D.y);for(I=0,this.total=N;I<C;I++)(D=m[I]).percentage=N>0&&(D.visible||!_)?D.y/N*100:0,D.total=N}}Dr.defaultOptions=_h(dd.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),TA(Dr.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:bd.prototype.drawTracker,getCenter:hy.getCenter,getSymbol:AA,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:bd.prototype.pointAttribs,pointClass:_A,requireSorting:!1,searchPoint:AA,trackerGroups:["group","dataLabelsGroup"]}),ws.registerSeriesType("pie",Dr);let{composed:Xl,noop:b1}=Ie,{distribute:eC}=pf,{series:la}=ws,{arrayMax:fy,clamp:y1,defined:ew,isNumber:xA,pick:OA,pushUnique:Qk,relativeLength:IA}=vn;(function(ee){let m={radialDistributionY:function(N,V){var q;return(((q=V.dataLabelPosition)==null?void 0:q.top)||0)+N.distributeBox.pos},radialDistributionX:function(N,V,q,Q,ce){let ne=ce.dataLabelPosition;return N.getX(q<((ne==null?void 0:ne.top)||0)+2||q>((ne==null?void 0:ne.bottom)||0)-2?Q:q,V.half,V,ce)},justify:function(N,V,q,Q){var ce;return Q[0]+(N.half?-1:1)*(q+(((ce=V.dataLabelPosition)==null?void 0:ce.distance)||0))},alignToPlotEdges:function(N,V,q,Q){let ce=N.getBBox().width;return V?ce+Q:q-ce-Q},alignToConnectors:function(N,V,q,Q){let ce=0,ne;return N.forEach(function(he){(ne=he.dataLabel.getBBox().width)>ce&&(ce=ne)}),V?ce+Q:q-ce-Q}};function C(N,V){let q=Math.PI/2,{start:Q=0,end:ce=0}=N.shapeArgs||{},ne=N.angle||0;V>0&&Q<q&&ce>q&&ne>q/2&&ne<1.5*q&&(ne=ne<=q?Math.max(q/2,(Q+q)/2):Math.min(1.5*q,(q+ce)/2));let{center:he,options:ye}=this,Ee=he[2]/2,Ne=Math.cos(ne),Le=Math.sin(ne),Me=he[0]+Ne*Ee,ze=he[1]+Le*Ee,Ye=Math.min((ye.slicedOffset||0)+(ye.borderWidth||0),V/5);return{natural:{x:Me+Ne*V,y:ze+Le*V},computed:{},alignment:V<0?"center":N.half?"right":"left",connectorPosition:{angle:ne,breakAt:{x:Me+Ne*Ye,y:ze+Le*Ye},touchingSliceAt:{x:Me,y:ze}},distance:V}}function _(){var bn;let N=this,V=N.points,q=N.chart,Q=q.plotWidth,ce=q.plotHeight,ne=q.plotLeft,he=Math.round(q.chartWidth/3),ye=N.center,Ee=ye[2]/2,Ne=ye[1],Le=[[],[]],Me=[0,0,0,0],ze=N.dataLabelPositioners,Ye,Nt,Tt,It=0;N.visible&&((bn=N.hasDataLabels)!=null&&bn.call(N))&&(V.forEach(Ft=>{(Ft.dataLabels||[]).forEach(gn=>{gn.shortened&&(gn.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),gn.shortened=!1)})}),la.prototype.drawDataLabels.apply(N),V.forEach(Ft=>{(Ft.dataLabels||[]).forEach((gn,Pn)=>{var Us;let ao=ye[2]/2,Vo=gn.options,qo=IA((Vo==null?void 0:Vo.distance)||0,ao);Pn===0&&Le[Ft.half].push(Ft),!ew((Us=Vo==null?void 0:Vo.style)==null?void 0:Us.width)&&gn.getBBox().width>he&&(gn.css({width:Math.round(.7*he)+"px"}),gn.shortened=!0),gn.dataLabelPosition=this.getDataLabelPosition(Ft,qo),It=Math.max(It,qo)})}),Le.forEach((Ft,gn)=>{let Pn=Ft.length,ao=[],Vo,qo,Us=0,bs;Pn&&(N.sortByAngle(Ft,gn-.5),It>0&&(Vo=Math.max(0,Ne-Ee-It),qo=Math.min(Ne+Ee+It,q.plotHeight),Ft.forEach(zs=>{(zs.dataLabels||[]).forEach(us=>{var jr;let or=us.dataLabelPosition;or&&or.distance>0&&(or.top=Math.max(0,Ne-Ee-or.distance),or.bottom=Math.min(Ne+Ee+or.distance,q.plotHeight),Us=us.getBBox().height||21,us.lineHeight=q.renderer.fontMetrics(us.text||us).h+2*us.padding,zs.distributeBox={target:(((jr=us.dataLabelPosition)==null?void 0:jr.natural.y)||0)-or.top+us.lineHeight/2,size:Us,rank:zs.y},ao.push(zs.distributeBox))})}),eC(ao,bs=qo+Us-Vo,bs/5)),Ft.forEach(zs=>{(zs.dataLabels||[]).forEach(us=>{let or=us.options||{},jr=zs.distributeBox,Di=us.dataLabelPosition,hi=(Di==null?void 0:Di.natural.y)||0,Fl=or.connectorPadding||0,Ti=us.lineHeight||21,Mr=(Ti-us.getBBox().height)/2,Vr=0,ir=hi,cc="inherit";if(Di){if(ao&&ew(jr)&&Di.distance>0&&(jr.pos===void 0?cc="hidden":(Tt=jr.size,ir=ze.radialDistributionY(zs,us))),or.justify)Vr=ze.justify(zs,us,Ee,ye);else switch(or.alignTo){case"connectors":Vr=ze.alignToConnectors(Ft,gn,Q,ne);break;case"plotEdges":Vr=ze.alignToPlotEdges(us,gn,Q,ne);break;default:Vr=ze.radialDistributionX(N,zs,ir-Mr,hi,us)}if(Di.attribs={visibility:cc,align:Di.alignment},Di.posAttribs={x:Vr+(or.x||0)+({left:Fl,right:-Fl}[Di.alignment]||0),y:ir+(or.y||0)-Ti/2},Di.computed.x=Vr,Di.computed.y=ir-Mr,OA(or.crop,!0)){let ca;Vr-(Nt=us.getBBox().width)<Fl&&gn===1?(ca=Math.round(Nt-Vr+Fl),Me[3]=Math.max(ca,Me[3])):Vr+Nt>Q-Fl&&gn===0&&(ca=Math.round(Vr+Nt-Q+Fl),Me[1]=Math.max(ca,Me[1])),ir-Tt/2<0?Me[0]=Math.max(Math.round(-ir+Tt/2),Me[0]):ir+Tt/2>ce&&(Me[2]=Math.max(Math.round(ir+Tt/2-ce),Me[2])),Di.sideOverflow=ca}}})}))}),(fy(Me)===0||this.verifyDataLabelOverflow(Me))&&(this.placeDataLabels(),this.points.forEach(Ft=>{(Ft.dataLabels||[]).forEach(gn=>{var qo;let{connectorColor:Pn,connectorWidth:ao=1}=gn.options||{},Vo=gn.dataLabelPosition;if(xA(ao)){let Us;Ye=gn.connector,Vo&&Vo.distance>0?(Us=!Ye,Ye||(gn.connector=Ye=q.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+Ft.colorIndex+(Ft.className?" "+Ft.className:"")).add(N.dataLabelsGroup)),q.styledMode||Ye.attr({"stroke-width":ao,stroke:Pn||Ft.color||"#666666"}),Ye[Us?"attr":"animate"]({d:Ft.getConnectorPath(gn)}),Ye.attr({visibility:(qo=Vo.attribs)==null?void 0:qo.visibility})):Ye&&(gn.connector=Ye.destroy())}})})))}function I(){this.points.forEach(N=>{(N.dataLabels||[]).forEach(V=>{var Q,ce;let q=V.dataLabelPosition;q?(q.sideOverflow&&(V.css({width:Math.max(V.getBBox().width-q.sideOverflow,0)+"px",textOverflow:((ce=(Q=V.options)==null?void 0:Q.style)==null?void 0:ce.textOverflow)||"ellipsis"}),V.shortened=!0),V.attr(q.attribs),V[V.moved?"animate":"attr"](q.posAttribs),V.moved=!0):V&&V.attr({y:-9999})}),delete N.distributeBox},this)}function D(N){let V=this.center,q=this.options,Q=q.center,ce=q.minSize||80,ne=ce,he=q.size!==null;return!he&&(Q[0]!==null?ne=Math.max(V[2]-Math.max(N[1],N[3]),ce):(ne=Math.max(V[2]-N[1]-N[3],ce),V[0]+=(N[3]-N[1])/2),Q[1]!==null?ne=y1(ne,ce,V[2]-Math.max(N[0],N[2])):(ne=y1(ne,ce,V[2]-N[0]-N[2]),V[1]+=(N[0]-N[2])/2),ne<V[2]?(V[2]=ne,V[3]=Math.min(q.thickness?Math.max(0,ne-2*q.thickness):Math.max(0,IA(q.innerSize||0,ne)),ne),this.translate(V),this.drawDataLabels&&this.drawDataLabels()):he=!0),he}ee.compose=function(N){if(c0.compose(la),Qk(Xl,"PieDataLabel")){let V=N.prototype;V.dataLabelPositioners=m,V.alignDataLabel=b1,V.drawDataLabels=_,V.getDataLabelPosition=C,V.placeDataLabels=I,V.verifyDataLabelOverflow=D}}})(ie||(ie={}));let DO=ie;(function(ee){ee.getCenterOfPoints=function(m){let C=m.reduce((_,I)=>(_.x+=I.x,_.y+=I.y,_),{x:0,y:0});return{x:C.x/m.length,y:C.y/m.length}},ee.getDistanceBetweenPoints=function(m,C){return Math.sqrt(Math.pow(C.x-m.x,2)+Math.pow(C.y-m.y,2))},ee.getAngleBetweenPoints=function(m,C){return Math.atan2(C.x-m.x,C.y-m.y)},ee.pointInPolygon=function({x:m,y:C},_){let I=_.length,D,N,V=!1;for(D=0,N=I-1;D<I;N=D++){let[q,Q]=_[D],[ce,ne]=_[N];Q>C!=ne>C&&m<(ce-q)*(C-Q)/(ne-Q)+q&&(V=!V)}return V}})(be||(be={}));let{pointInPolygon:RA}=be,{addEvent:kA,getAlignFactor:yp,fireEvent:Gc,objectEach:kf,pick:Qp}=vn;function em(ee){let m=ee.length,C=(ce,ne)=>!(ne.x>=ce.x+ce.width||ne.x+ne.width<=ce.x||ne.y>=ce.y+ce.height||ne.y+ne.height<=ce.y),_=(ce,ne)=>{for(let he of ce)if(RA({x:he[0],y:he[1]},ne))return!0;return!1},I,D,N,V,q,Q=!1;for(let ce=0;ce<m;ce++)(I=ee[ce])&&(I.oldOpacity=I.opacity,I.newOpacity=1,I.absoluteBox=(function(ne){var he,ye;if(ne&&(!ne.alignAttr||ne.placed)){let Ee=ne.box?0:ne.padding||0,Ne=ne.alignAttr||{x:ne.attr("x"),y:ne.attr("y")},{height:Le,polygon:Me,width:ze}=ne.getBBox(),Ye=yp(ne.alignValue)*ze;return ne.width=ze,ne.height=Le,{x:Ne.x+(((he=ne.parentGroup)==null?void 0:he.translateX)||0)+Ee-Ye,y:Ne.y+(((ye=ne.parentGroup)==null?void 0:ye.translateY)||0)+Ee,width:ze-2*Ee,height:Le-2*Ee,polygon:Me}}})(I));ee.sort((ce,ne)=>(ne.labelrank||0)-(ce.labelrank||0));for(let ce=0;ce<m;++ce){V=(D=ee[ce])&&D.absoluteBox;let ne=V==null?void 0:V.polygon;for(let he=ce+1;he<m;++he){q=(N=ee[he])&&N.absoluteBox;let ye=!1;if(V&&q&&D!==N&&D.newOpacity!==0&&N.newOpacity!==0&&D.visibility!=="hidden"&&N.visibility!=="hidden"){let Ee=q.polygon;if(ne&&Ee&&ne!==Ee?_(ne,Ee)&&(ye=!0):C(V,q)&&(ye=!0),ye){let Ne=D.labelrank<N.labelrank?D:N,Le=Ne.text;Ne.newOpacity=0,Le!=null&&Le.element.querySelector("textPath")&&Le.hide()}}}}for(let ce of ee)Kg(ce,this)&&(Q=!0);Q&&Gc(this,"afterHideAllOverlappingLabels")}function Kg(ee,m){let C,_=!1;return ee&&(C=ee.newOpacity,ee.oldOpacity!==C&&(ee.hasClass("highcharts-data-label")?(ee[C?"removeClass":"addClass"]("highcharts-data-label-hidden"),_=!0,ee[ee.isOld?"animate":"attr"]({opacity:C},void 0,function(){m.styledMode||ee.css({pointerEvents:C?"auto":"none"})}),Gc(m,"afterHideOverlappingLabel")):ee.attr({opacity:C})),ee.isOld=!0),_}function Jm(){var C;let ee=this,m=[];for(let _ of ee.labelCollectors||[])m=m.concat(_());for(let _ of ee.yAxis||[])_.stacking&&_.options.stackLabels&&!_.options.stackLabels.allowOverlap&&kf(_.stacking.stacks,I=>{kf(I,D=>{D.label&&m.push(D.label)})});for(let _ of ee.series||[])if(_.visible&&((C=_.hasDataLabels)!=null&&C.call(_))){let I=D=>{for(let N of D)N.visible&&(N.dataLabels||[]).forEach(V=>{var Q;let q=V.options||{};V.labelrank=Qp(q.labelrank,N.labelrank,(Q=N.shapeArgs)==null?void 0:Q.height),q.allowOverlap??Number(q.distance)>0?(V.oldOpacity=V.opacity,V.newOpacity=1,Kg(V,ee)):m.push(V)})};I(_.nodes||[]),I(_.points)}this.hideOverlappingLabels(m)}let Qm={compose:function(ee){let m=ee.prototype;m.hideOverlappingLabels||(m.hideOverlappingLabels=em,kA(ee,"render",Jm))}},{defaultOptions:tw}=To,{noop:tC}=Ie,{addEvent:MO,extend:PO,isObject:S1,merge:nC,relativeLength:oC}=vn,sC={radius:0,scope:"stack",where:void 0},Yg=tC,py=tC;function tm(ee,m,C,_,I={}){let D=Yg(ee,m,C,_,I),{brStart:N=!0,brEnd:V=!0,innerR:q=0,r:Q=C,start:ce=0,end:ne=0}=I;if(I.open||!I.borderRadius)return D;let he=ne-ce,ye=Math.sin(he/2),Ee=Math.max(Math.min(oC(I.borderRadius||0,Q-q),(Q-q)/2,Q*ye/(1+ye)),0),Ne=Math.min(Ee,he/Math.PI*2*q),Le=D.length-1;for(;Le--;)(N||Le!==0&&Le!==3)&&(V||Le!==1&&Le!==2)&&(function(Me,ze,Ye){let Nt,Tt,It,bn=Me[ze],Ft=Me[ze+1];if(Ft[0]==="Z"&&(Ft=Me[0]),(bn[0]==="M"||bn[0]==="L")&&Ft[0]==="A"?(Nt=bn,Tt=Ft,It=!0):bn[0]==="A"&&(Ft[0]==="M"||Ft[0]==="L")&&(Nt=Ft,Tt=bn),Nt&&Tt&&Tt.params){let gn=Tt[1],Pn=Tt[5],ao=Tt.params,{start:Vo,end:qo,cx:Us,cy:bs}=ao,zs=Pn?gn-Ye:gn+Ye,us=zs?Math.asin(Ye/zs):0,or=Pn?us:-us,jr=Math.cos(us)*zs;It?(ao.start=Vo+or,Nt[1]=Us+jr*Math.cos(Vo),Nt[2]=bs+jr*Math.sin(Vo),Me.splice(ze+1,0,["A",Ye,Ye,0,0,1,Us+gn*Math.cos(ao.start),bs+gn*Math.sin(ao.start)])):(ao.end=qo-or,Tt[6]=Us+gn*Math.cos(ao.end),Tt[7]=bs+gn*Math.sin(ao.end),Me.splice(ze+1,0,["A",Ye,Ye,0,0,1,Us+jr*Math.cos(qo),bs+jr*Math.sin(qo)])),Tt[4]=Math.abs(ao.end-ao.start)<Math.PI?0:1}})(D,Le,Le>1?Ne:Ee);return D}function rC(){var ee,m;if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:C,yAxis:_}=this,I=C.stacking==="percent",D=(m=(ee=tw.plotOptions)==null?void 0:ee[this.type])==null?void 0:m.borderRadius,N=nw(C.borderRadius,S1(D)?D:{}),V=_.options.reversed;for(let q of this.points){let{shapeArgs:Q}=q;if(q.shapeType==="roundedRect"&&Q){let{width:ce=0,height:ne=0,y:he=0}=Q,ye=he,Ee=ne;if(N.scope==="stack"&&q.stackTotal){let ze=_.translate(I?100:q.stackTotal,!1,!0,!1,!0),Ye=_.translate(C.threshold||0,!1,!0,!1,!0),Nt=this.crispCol(0,Math.min(ze,Ye),0,Math.abs(ze-Ye));ye=Nt.y,Ee=Nt.height}let Ne=(q.negative?-1:1)*(V?-1:1)==-1,Le=N.where;!Le&&this.is("waterfall")&&Math.abs((q.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(Le="all"),Le||(Le="end");let Me=Math.min(oC(N.radius,ce),ce/2,Le==="all"?ne/2:1/0)||0;Le==="end"&&(Ne&&(ye-=Me),Ee+=Me),PO(Q,{brBoxHeight:Ee,brBoxY:ye,r:Me})}}}}function nw(ee,m){return S1(ee)||(ee={radius:ee||0}),nC(sC,m,ee)}function iC(){let ee=nw(this.options.borderRadius);for(let m of this.points){let C=m.shapeArgs;C&&(C.borderRadius=oC(ee.radius,(C.r||0)-(C.innerR||0)))}}function aC(ee,m,C,_,I={}){let D=py(ee,m,C,_,I),{r:N=0,brBoxHeight:V=_,brBoxY:q=m}=I,Q=m-q,ce=q+V-(m+_),ne=Q-N>-.1?0:N,he=ce-N>-.1?0:N,ye=Math.max(ne&&Q,0),Ee=Math.max(he&&ce,0),Ne=[ee+ne,m],Le=[ee+C-ne,m],Me=[ee+C,m+ne],ze=[ee+C,m+_-he],Ye=[ee+C-he,m+_],Nt=[ee+he,m+_],Tt=[ee,m+_-he],It=[ee,m+ne],bn=(Ft,gn)=>Math.sqrt(Math.pow(Ft,2)-Math.pow(gn,2));if(ye){let Ft=bn(ne,ne-ye);Ne[0]-=Ft,Le[0]+=Ft,Me[1]=It[1]=m+ne-ye}if(_<ne-ye){let Ft=bn(ne,ne-ye-_);Me[0]=ze[0]=ee+C-ne+Ft,Ye[0]=Math.min(Me[0],Ye[0]),Nt[0]=Math.max(ze[0],Nt[0]),Tt[0]=It[0]=ee+ne-Ft,Me[1]=It[1]=m+_}if(Ee){let Ft=bn(he,he-Ee);Ye[0]+=Ft,Nt[0]-=Ft,ze[1]=Tt[1]=m+_-he+Ee}if(_<he-Ee){let Ft=bn(he,he-Ee-_);Me[0]=ze[0]=ee+C-he+Ft,Le[0]=Math.min(Me[0],Le[0]),Ne[0]=Math.max(ze[0],Ne[0]),Tt[0]=It[0]=ee+he-Ft,ze[1]=Tt[1]=m}return D.length=0,D.push(["M",...Ne],["L",...Le],["A",ne,ne,0,0,1,...Me],["L",...ze],["A",he,he,0,0,1,...Ye],["L",...Nt],["A",he,he,0,0,1,...Tt],["L",...It],["A",ne,ne,0,0,1,...Ne],["Z"]),D}let{diffObjects:DA,extend:NO,find:my,merge:MA,pick:Df,uniqueKey:gy}=vn;(function(ee){function m(_,I){let D=_.condition;(D.callback||function(){return this.chartWidth<=Df(D.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=Df(D.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=Df(D.minWidth,0)&&this.chartHeight>=Df(D.minHeight,0)}).call(this)&&I.push(_._id)}function C(_,I){let D=this.options.responsive,N=this.currentResponsive,V=[],q;!I&&D&&D.rules&&D.rules.forEach(ne=>{ne._id===void 0&&(ne._id=gy()),this.matchResponsiveRule(ne,V)},this);let Q=MA(...V.map(ne=>my((D==null?void 0:D.rules)||[],he=>he._id===ne)).map(ne=>ne==null?void 0:ne.chartOptions));Q.isResponsiveOptions=!0,V=V.toString()||void 0;let ce=N==null?void 0:N.ruleIds;V!==ce&&(N&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(N.undoOptions,_,!0),this.updatingResponsive=!1),V?((q=DA(Q,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:V,mergedOptions:Q,undoOptions:q},this.updatingResponsive||this.update(Q,_,!0)):this.currentResponsive=void 0)}ee.compose=function(_){let I=_.prototype;return I.matchResponsiveRule||NO(I,{matchResponsiveRule:m,setResponsive:C}),_}})(Ce||(Ce={}));let lC=Ce;Ie.AST=Ar,Ie.Axis=Pu,Ie.Chart=Hg,Ie.Color=Nr,Ie.DataLabel=c0,Ie.DataTableCore=J,Ie.Fx=Vs,Ie.HTMLElement=Cs,Ie.Legend=dA,Ie.LegendSymbol=bt,Ie.OverlappingDataLabels=Ie.OverlappingDataLabels||Qm,Ie.PlotLineOrBand=cd,Ie.Point=$p,Ie.Pointer=Gb,Ie.RendererRegistry=hh,Ie.Series=dd,Ie.SeriesRegistry=ws,Ie.StackItem=ay,Ie.SVGElement=L,Ie.SVGRenderer=et,Ie.Templating=Lr,Ie.Tick=iu,Ie.Time=At,Ie.Tooltip=kE,Ie.animate=Ia.animate,Ie.animObject=Ia.animObject,Ie.chart=Hg.chart,Ie.color=Nr.parse,Ie.dateFormat=Lr.dateFormat,Ie.defaultOptions=To.defaultOptions,Ie.distribute=pf.distribute,Ie.format=Lr.format,Ie.getDeferredAnimation=Ia.getDeferredAnimation,Ie.getOptions=To.getOptions,Ie.numberFormat=Lr.numberFormat,Ie.seriesType=ws.seriesType,Ie.setAnimation=Ia.setAnimation,Ie.setOptions=To.setOptions,Ie.stop=Ia.stop,Ie.time=To.defaultTime,Ie.timers=Vs.timers,{compose:function(ee,m,C){let _=ee.types.pie;if(!m.symbolCustomAttribs.includes("borderRadius")){let I=C.prototype.symbols;MO(ee,"afterColumnTranslate",rC,{order:9}),MO(_,"afterTranslate",iC),m.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY","brEnd","brStart"),Yg=I.arc,py=I.roundedRect,I.arc=tm,I.roundedRect=aC}},optionsToObject:nw}.compose(Ie.Series,Ie.SVGElement,Ie.SVGRenderer),d0.compose(Ie.Series.types.column),c0.compose(Ie.Series),Zh.compose(Ie.Axis),Cs.compose(Ie.SVGRenderer),dA.compose(Ie.Chart),lp.compose(Ie.Axis),Qm.compose(Ie.Chart),DO.compose(Ie.Series.types.pie),cd.compose(Ie.Chart,Ie.Axis),Gb.compose(Ie.Chart),lC.compose(Ie.Chart),gp.compose(Ie.Axis,Ie.Chart,Ie.Series),cy.compose(Ie.Axis,Ie.Chart,Ie.Series),kE.compose(Ie.Pointer),vn.extend(Ie,vn);let eg=Ie;return F.default})())})(uJ)),uJ.exports}var lXe=aXe();const cXe=o0e(lXe);var _me={exports:{}},dJ={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var uXe=dJ.exports,RIe;function dXe(){return RIe||(RIe=1,(function(e){(function(n,o){e.exports=n.document?o(n,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return o(i)}})(typeof window<"u"?window:uXe,function(n,o){var i=[],c=Object.getPrototypeOf,d=i.slice,p=i.flat?function(L){return i.flat.call(L)}:function(L){return i.concat.apply([],L)},v=i.push,S=i.indexOf,T={},x=T.toString,P=T.hasOwnProperty,B=P.toString,U=B.call(Object),j={},W=function(X){return typeof X=="function"&&typeof X.nodeType!="number"&&typeof X.item!="function"},Z=function(X){return X!=null&&X===X.window},re=n.document,le={type:!0,src:!0,nonce:!0,noModule:!0};function ie(L,X,de){de=de||re;var ge,xe,Pe=de.createElement("script");if(Pe.text=L,X)for(ge in le)xe=X[ge]||X.getAttribute&&X.getAttribute(ge),xe&&Pe.setAttribute(ge,xe);de.head.appendChild(Pe).parentNode.removeChild(Pe)}function be(L){return L==null?L+"":typeof L=="object"||typeof L=="function"?T[x.call(L)]||"object":typeof L}var Ce="3.7.1",Ae=/HTML$/i,F=function(L,X){return new F.fn.init(L,X)};F.fn=F.prototype={jquery:Ce,constructor:F,length:0,toArray:function(){return d.call(this)},get:function(L){return L==null?d.call(this):L<0?this[L+this.length]:this[L]},pushStack:function(L){var X=F.merge(this.constructor(),L);return X.prevObject=this,X},each:function(L){return F.each(this,L)},map:function(L){return this.pushStack(F.map(this,function(X,de){return L.call(X,de,X)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(F.grep(this,function(L,X){return(X+1)%2}))},odd:function(){return this.pushStack(F.grep(this,function(L,X){return X%2}))},eq:function(L){var X=this.length,de=+L+(L<0?X:0);return this.pushStack(de>=0&&de<X?[this[de]]:[])},end:function(){return this.prevObject||this.constructor()},push:v,sort:i.sort,splice:i.splice},F.extend=F.fn.extend=function(){var L,X,de,ge,xe,Pe,je=arguments[0]||{},xt=1,St=arguments.length,Jt=!1;for(typeof je=="boolean"&&(Jt=je,je=arguments[xt]||{},xt++),typeof je!="object"&&!W(je)&&(je={}),xt===St&&(je=this,xt--);xt<St;xt++)if((L=arguments[xt])!=null)for(X in L)ge=L[X],!(X==="__proto__"||je===ge)&&(Jt&&ge&&(F.isPlainObject(ge)||(xe=Array.isArray(ge)))?(de=je[X],xe&&!Array.isArray(de)?Pe=[]:!xe&&!F.isPlainObject(de)?Pe={}:Pe=de,xe=!1,je[X]=F.extend(Jt,Pe,ge)):ge!==void 0&&(je[X]=ge));return je},F.extend({expando:"jQuery"+(Ce+Math.random()).replace(/\D/g,""),isReady:!0,error:function(L){throw new Error(L)},noop:function(){},isPlainObject:function(L){var X,de;return!L||x.call(L)!=="[object Object]"?!1:(X=c(L),X?(de=P.call(X,"constructor")&&X.constructor,typeof de=="function"&&B.call(de)===U):!0)},isEmptyObject:function(L){var X;for(X in L)return!1;return!0},globalEval:function(L,X,de){ie(L,{nonce:X&&X.nonce},de)},each:function(L,X){var de,ge=0;if(Ie(L))for(de=L.length;ge<de&&X.call(L[ge],ge,L[ge])!==!1;ge++);else for(ge in L)if(X.call(L[ge],ge,L[ge])===!1)break;return L},text:function(L){var X,de="",ge=0,xe=L.nodeType;if(!xe)for(;X=L[ge++];)de+=F.text(X);return xe===1||xe===11?L.textContent:xe===9?L.documentElement.textContent:xe===3||xe===4?L.nodeValue:de},makeArray:function(L,X){var de=X||[];return L!=null&&(Ie(Object(L))?F.merge(de,typeof L=="string"?[L]:L):v.call(de,L)),de},inArray:function(L,X,de){return X==null?-1:S.call(X,L,de)},isXMLDoc:function(L){var X=L&&L.namespaceURI,de=L&&(L.ownerDocument||L).documentElement;return!Ae.test(X||de&&de.nodeName||"HTML")},merge:function(L,X){for(var de=+X.length,ge=0,xe=L.length;ge<de;ge++)L[xe++]=X[ge];return L.length=xe,L},grep:function(L,X,de){for(var ge,xe=[],Pe=0,je=L.length,xt=!de;Pe<je;Pe++)ge=!X(L[Pe],Pe),ge!==xt&&xe.push(L[Pe]);return xe},map:function(L,X,de){var ge,xe,Pe=0,je=[];if(Ie(L))for(ge=L.length;Pe<ge;Pe++)xe=X(L[Pe],Pe,de),xe!=null&&je.push(xe);else for(Pe in L)xe=X(L[Pe],Pe,de),xe!=null&&je.push(xe);return p(je)},guid:1,support:j}),typeof Symbol=="function"&&(F.fn[Symbol.iterator]=i[Symbol.iterator]),F.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(L,X){T["[object "+X+"]"]=X.toLowerCase()});function Ie(L){var X=!!L&&"length"in L&&L.length,de=be(L);return W(L)||Z(L)?!1:de==="array"||X===0||typeof X=="number"&&X>0&&X-1 in L}function tt(L,X){return L.nodeName&&L.nodeName.toLowerCase()===X.toLowerCase()}var Xe=i.pop,Ve=i.sort,Re=i.splice,vt="[\\x20\\t\\r\\n\\f]",mt=new RegExp("^"+vt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+vt+"+$","g");F.contains=function(L,X){var de=X&&X.parentNode;return L===de||!!(de&&de.nodeType===1&&(L.contains?L.contains(de):L.compareDocumentPosition&&L.compareDocumentPosition(de)&16))};var gt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function te(L,X){return X?L==="\0"?"�":L.slice(0,-1)+"\\"+L.charCodeAt(L.length-1).toString(16)+" ":"\\"+L}F.escapeSelector=function(L){return(L+"").replace(gt,te)};var hn=re,ot=v;(function(){var L,X,de,ge,xe,Pe=ot,je,xt,St,Jt,Ln,no=F.expando,_n=0,Ho=0,Rr=Vp(),xi=Vp(),Gr=Vp(),ql=Vp(),Sa=function(dt,Ht){return dt===Ht&&(xe=!0),0},rd="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",fh="(?:\\\\[\\da-fA-F]{1,6}"+vt+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",_i="\\["+vt+"*("+fh+")(?:"+vt+"*([*^$|!~]?=)"+vt+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+fh+"))|)"+vt+"*\\]",wc=":("+fh+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+_i+")*)|.*)\\)|)",Fi=new RegExp(vt+"+","g"),hl=new RegExp("^"+vt+"*,"+vt+"*"),Bp=new RegExp("^"+vt+"*([>+~]|"+vt+")"+vt+"*"),id=new RegExp(vt+"|>"),Uh=new RegExp(wc),Og=new RegExp("^"+fh+"$"),ad={ID:new RegExp("^#("+fh+")"),CLASS:new RegExp("^\\.("+fh+")"),TAG:new RegExp("^("+fh+"|[*])"),ATTR:new RegExp("^"+_i),PSEUDO:new RegExp("^"+wc),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+vt+"*(even|odd|(([+-]|)(\\d*)n|)"+vt+"*(?:([+-]|)"+vt+"*(\\d+)|))"+vt+"*\\)|)","i"),bool:new RegExp("^(?:"+rd+")$","i"),needsContext:new RegExp("^"+vt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+vt+"*((?:-\\d)?\\d*)"+vt+"*\\)|)(?=[^-]|$)","i")},nu=/^(?:input|select|textarea|button)$/i,rp=/^h\d$/i,ld=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ig=/[+~]/,_c=new RegExp("\\\\[\\da-fA-F]{1,6}"+vt+"?|\\\\([^\\r\\n\\f])","g"),Ml=function(dt,Ht){var An="0x"+dt.slice(1)-65536;return Ht||(An<0?String.fromCharCode(An+65536):String.fromCharCode(An>>10|55296,An&1023|56320))},gf=function(){Ld()},Fb=su(function(dt){return dt.disabled===!0&&tt(dt,"fieldset")},{dir:"parentNode",next:"legend"});function Tr(){try{return je.activeElement}catch{}}try{Pe.apply(i=d.call(hn.childNodes),hn.childNodes),i[hn.childNodes.length].nodeType}catch{Pe={apply:function(Ht,An){ot.apply(Ht,d.call(An))},call:function(Ht){ot.apply(Ht,d.call(arguments,1))}}}function Zi(dt,Ht,An,Dn){var Yn,ns,ps,Ys,Cs,fr,xr,pr=Ht&&Ht.ownerDocument,zr=Ht?Ht.nodeType:9;if(An=An||[],typeof dt!="string"||!dt||zr!==1&&zr!==9&&zr!==11)return An;if(!Dn&&(Ld(Ht),Ht=Ht||je,St)){if(zr!==11&&(Cs=ld.exec(dt)))if(Yn=Cs[1]){if(zr===9)if(ps=Ht.getElementById(Yn)){if(ps.id===Yn)return Pe.call(An,ps),An}else return An;else if(pr&&(ps=pr.getElementById(Yn))&&Zi.contains(Ht,ps)&&ps.id===Yn)return Pe.call(An,ps),An}else{if(Cs[2])return Pe.apply(An,Ht.getElementsByTagName(dt)),An;if((Yn=Cs[3])&&Ht.getElementsByClassName)return Pe.apply(An,Ht.getElementsByClassName(Yn)),An}if(!ql[dt+" "]&&(!Jt||!Jt.test(dt))){if(xr=dt,pr=Ht,zr===1&&(id.test(dt)||Bp.test(dt))){for(pr=Ig.test(dt)&&ou(Ht.parentNode)||Ht,(pr!=Ht||!j.scope)&&((Ys=Ht.getAttribute("id"))?Ys=F.escapeSelector(Ys):Ht.setAttribute("id",Ys=no)),fr=Zl(dt),ns=fr.length;ns--;)fr[ns]=(Ys?"#"+Ys:":scope")+" "+zh(fr[ns]);xr=fr.join(",")}try{return Pe.apply(An,pr.querySelectorAll(xr)),An}catch{ql(dt,!0)}finally{Ys===no&&Ht.removeAttribute("id")}}}return nc(dt.replace(mt,"$1"),Ht,An,Dn)}function Vp(){var dt=[];function Ht(An,Dn){return dt.push(An+" ")>X.cacheLength&&delete Ht[dt.shift()],Ht[An+" "]=Dn}return Ht}function Oi(dt){return dt[no]=!0,dt}function ip(dt){var Ht=je.createElement("fieldset");try{return!!dt(Ht)}catch{return!1}finally{Ht.parentNode&&Ht.parentNode.removeChild(Ht),Ht=null}}function vf(dt){return function(Ht){return tt(Ht,"input")&&Ht.type===dt}}function LS(dt){return function(Ht){return(tt(Ht,"input")||tt(Ht,"button"))&&Ht.type===dt}}function bf(dt){return function(Ht){return"form"in Ht?Ht.parentNode&&Ht.disabled===!1?"label"in Ht?"label"in Ht.parentNode?Ht.parentNode.disabled===dt:Ht.disabled===dt:Ht.isDisabled===dt||Ht.isDisabled!==!dt&&Fb(Ht)===dt:Ht.disabled===dt:"label"in Ht?Ht.disabled===dt:!1}}function Gi(dt){return Oi(function(Ht){return Ht=+Ht,Oi(function(An,Dn){for(var Yn,ns=dt([],An.length,Ht),ps=ns.length;ps--;)An[Yn=ns[ps]]&&(An[Yn]=!(Dn[Yn]=An[Yn]))})})}function ou(dt){return dt&&typeof dt.getElementsByTagName<"u"&&dt}function Ld(dt){var Ht,An=dt?dt.ownerDocument||dt:hn;return An==je||An.nodeType!==9||!An.documentElement||(je=An,xt=je.documentElement,St=!F.isXMLDoc(je),Ln=xt.matches||xt.webkitMatchesSelector||xt.msMatchesSelector,xt.msMatchesSelector&&hn!=je&&(Ht=je.defaultView)&&Ht.top!==Ht&&Ht.addEventListener("unload",gf),j.getById=ip(function(Dn){return xt.appendChild(Dn).id=F.expando,!je.getElementsByName||!je.getElementsByName(F.expando).length}),j.disconnectedMatch=ip(function(Dn){return Ln.call(Dn,"*")}),j.scope=ip(function(){return je.querySelectorAll(":scope")}),j.cssHas=ip(function(){try{return je.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),j.getById?(X.filter.ID=function(Dn){var Yn=Dn.replace(_c,Ml);return function(ns){return ns.getAttribute("id")===Yn}},X.find.ID=function(Dn,Yn){if(typeof Yn.getElementById<"u"&&St){var ns=Yn.getElementById(Dn);return ns?[ns]:[]}}):(X.filter.ID=function(Dn){var Yn=Dn.replace(_c,Ml);return function(ns){var ps=typeof ns.getAttributeNode<"u"&&ns.getAttributeNode("id");return ps&&ps.value===Yn}},X.find.ID=function(Dn,Yn){if(typeof Yn.getElementById<"u"&&St){var ns,ps,Ys,Cs=Yn.getElementById(Dn);if(Cs){if(ns=Cs.getAttributeNode("id"),ns&&ns.value===Dn)return[Cs];for(Ys=Yn.getElementsByName(Dn),ps=0;Cs=Ys[ps++];)if(ns=Cs.getAttributeNode("id"),ns&&ns.value===Dn)return[Cs]}return[]}}),X.find.TAG=function(Dn,Yn){return typeof Yn.getElementsByTagName<"u"?Yn.getElementsByTagName(Dn):Yn.querySelectorAll(Dn)},X.find.CLASS=function(Dn,Yn){if(typeof Yn.getElementsByClassName<"u"&&St)return Yn.getElementsByClassName(Dn)},Jt=[],ip(function(Dn){var Yn;xt.appendChild(Dn).innerHTML="<a id='"+no+"' href='' disabled='disabled'></a><select id='"+no+"-\r\\' disabled='disabled'><option selected=''></option></select>",Dn.querySelectorAll("[selected]").length||Jt.push("\\["+vt+"*(?:value|"+rd+")"),Dn.querySelectorAll("[id~="+no+"-]").length||Jt.push("~="),Dn.querySelectorAll("a#"+no+"+*").length||Jt.push(".#.+[+~]"),Dn.querySelectorAll(":checked").length||Jt.push(":checked"),Yn=je.createElement("input"),Yn.setAttribute("type","hidden"),Dn.appendChild(Yn).setAttribute("name","D"),xt.appendChild(Dn).disabled=!0,Dn.querySelectorAll(":disabled").length!==2&&Jt.push(":enabled",":disabled"),Yn=je.createElement("input"),Yn.setAttribute("name",""),Dn.appendChild(Yn),Dn.querySelectorAll("[name='']").length||Jt.push("\\["+vt+"*name"+vt+"*="+vt+`*(?:''|"")`)}),j.cssHas||Jt.push(":has"),Jt=Jt.length&&new RegExp(Jt.join("|")),Sa=function(Dn,Yn){if(Dn===Yn)return xe=!0,0;var ns=!Dn.compareDocumentPosition-!Yn.compareDocumentPosition;return ns||(ns=(Dn.ownerDocument||Dn)==(Yn.ownerDocument||Yn)?Dn.compareDocumentPosition(Yn):1,ns&1||!j.sortDetached&&Yn.compareDocumentPosition(Dn)===ns?Dn===je||Dn.ownerDocument==hn&&Zi.contains(hn,Dn)?-1:Yn===je||Yn.ownerDocument==hn&&Zi.contains(hn,Yn)?1:ge?S.call(ge,Dn)-S.call(ge,Yn):0:ns&4?-1:1)}),je}Zi.matches=function(dt,Ht){return Zi(dt,null,null,Ht)},Zi.matchesSelector=function(dt,Ht){if(Ld(dt),St&&!ql[Ht+" "]&&(!Jt||!Jt.test(Ht)))try{var An=Ln.call(dt,Ht);if(An||j.disconnectedMatch||dt.document&&dt.document.nodeType!==11)return An}catch{ql(Ht,!0)}return Zi(Ht,je,null,[dt]).length>0},Zi.contains=function(dt,Ht){return(dt.ownerDocument||dt)!=je&&Ld(dt),F.contains(dt,Ht)},Zi.attr=function(dt,Ht){(dt.ownerDocument||dt)!=je&&Ld(dt);var An=X.attrHandle[Ht.toLowerCase()],Dn=An&&P.call(X.attrHandle,Ht.toLowerCase())?An(dt,Ht,!St):void 0;return Dn!==void 0?Dn:dt.getAttribute(Ht)},Zi.error=function(dt){throw new Error("Syntax error, unrecognized expression: "+dt)},F.uniqueSort=function(dt){var Ht,An=[],Dn=0,Yn=0;if(xe=!j.sortStable,ge=!j.sortStable&&d.call(dt,0),Ve.call(dt,Sa),xe){for(;Ht=dt[Yn++];)Ht===dt[Yn]&&(Dn=An.push(Yn));for(;Dn--;)Re.call(dt,An[Dn],1)}return ge=null,dt},F.fn.uniqueSort=function(){return this.pushStack(F.uniqueSort(d.apply(this)))},X=F.expr={cacheLength:50,createPseudo:Oi,match:ad,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(dt){return dt[1]=dt[1].replace(_c,Ml),dt[3]=(dt[3]||dt[4]||dt[5]||"").replace(_c,Ml),dt[2]==="~="&&(dt[3]=" "+dt[3]+" "),dt.slice(0,4)},CHILD:function(dt){return dt[1]=dt[1].toLowerCase(),dt[1].slice(0,3)==="nth"?(dt[3]||Zi.error(dt[0]),dt[4]=+(dt[4]?dt[5]+(dt[6]||1):2*(dt[3]==="even"||dt[3]==="odd")),dt[5]=+(dt[7]+dt[8]||dt[3]==="odd")):dt[3]&&Zi.error(dt[0]),dt},PSEUDO:function(dt){var Ht,An=!dt[6]&&dt[2];return ad.CHILD.test(dt[0])?null:(dt[3]?dt[2]=dt[4]||dt[5]||"":An&&Uh.test(An)&&(Ht=Zl(An,!0))&&(Ht=An.indexOf(")",An.length-Ht)-An.length)&&(dt[0]=dt[0].slice(0,Ht),dt[2]=An.slice(0,Ht)),dt.slice(0,3))}},filter:{TAG:function(dt){var Ht=dt.replace(_c,Ml).toLowerCase();return dt==="*"?function(){return!0}:function(An){return tt(An,Ht)}},CLASS:function(dt){var Ht=Rr[dt+" "];return Ht||(Ht=new RegExp("(^|"+vt+")"+dt+"("+vt+"|$)"))&&Rr(dt,function(An){return Ht.test(typeof An.className=="string"&&An.className||typeof An.getAttribute<"u"&&An.getAttribute("class")||"")})},ATTR:function(dt,Ht,An){return function(Dn){var Yn=Zi.attr(Dn,dt);return Yn==null?Ht==="!=":Ht?(Yn+="",Ht==="="?Yn===An:Ht==="!="?Yn!==An:Ht==="^="?An&&Yn.indexOf(An)===0:Ht==="*="?An&&Yn.indexOf(An)>-1:Ht==="$="?An&&Yn.slice(-An.length)===An:Ht==="~="?(" "+Yn.replace(Fi," ")+" ").indexOf(An)>-1:Ht==="|="?Yn===An||Yn.slice(0,An.length+1)===An+"-":!1):!0}},CHILD:function(dt,Ht,An,Dn,Yn){var ns=dt.slice(0,3)!=="nth",ps=dt.slice(-4)!=="last",Ys=Ht==="of-type";return Dn===1&&Yn===0?function(Cs){return!!Cs.parentNode}:function(Cs,fr,xr){var pr,zr,Do,ei,Sl,oc=ns!==ps?"nextSibling":"previousSibling",Ms=Cs.parentNode,Pl=Ys&&Cs.nodeName.toLowerCase(),oa=!xr&&!Ys,ja=!1;if(Ms){if(ns){for(;oc;){for(Do=Cs;Do=Do[oc];)if(Ys?tt(Do,Pl):Do.nodeType===1)return!1;Sl=oc=dt==="only"&&!Sl&&"nextSibling"}return!0}if(Sl=[ps?Ms.firstChild:Ms.lastChild],ps&&oa){for(zr=Ms[no]||(Ms[no]={}),pr=zr[dt]||[],ei=pr[0]===_n&&pr[1],ja=ei&&pr[2],Do=ei&&Ms.childNodes[ei];Do=++ei&&Do&&Do[oc]||(ja=ei=0)||Sl.pop();)if(Do.nodeType===1&&++ja&&Do===Cs){zr[dt]=[_n,ei,ja];break}}else if(oa&&(zr=Cs[no]||(Cs[no]={}),pr=zr[dt]||[],ei=pr[0]===_n&&pr[1],ja=ei),ja===!1)for(;(Do=++ei&&Do&&Do[oc]||(ja=ei=0)||Sl.pop())&&!((Ys?tt(Do,Pl):Do.nodeType===1)&&++ja&&(oa&&(zr=Do[no]||(Do[no]={}),zr[dt]=[_n,ja]),Do===Cs)););return ja-=Yn,ja===Dn||ja%Dn===0&&ja/Dn>=0}}},PSEUDO:function(dt,Ht){var An,Dn=X.pseudos[dt]||X.setFilters[dt.toLowerCase()]||Zi.error("unsupported pseudo: "+dt);return Dn[no]?Dn(Ht):Dn.length>1?(An=[dt,dt,"",Ht],X.setFilters.hasOwnProperty(dt.toLowerCase())?Oi(function(Yn,ns){for(var ps,Ys=Dn(Yn,Ht),Cs=Ys.length;Cs--;)ps=S.call(Yn,Ys[Cs]),Yn[ps]=!(ns[ps]=Ys[Cs])}):function(Yn){return Dn(Yn,0,An)}):Dn}},pseudos:{not:Oi(function(dt){var Ht=[],An=[],Dn=ru(dt.replace(mt,"$1"));return Dn[no]?Oi(function(Yn,ns,ps,Ys){for(var Cs,fr=Dn(Yn,null,Ys,[]),xr=Yn.length;xr--;)(Cs=fr[xr])&&(Yn[xr]=!(ns[xr]=Cs))}):function(Yn,ns,ps){return Ht[0]=Yn,Dn(Ht,null,ps,An),Ht[0]=null,!An.pop()}}),has:Oi(function(dt){return function(Ht){return Zi(dt,Ht).length>0}}),contains:Oi(function(dt){return dt=dt.replace(_c,Ml),function(Ht){return(Ht.textContent||F.text(Ht)).indexOf(dt)>-1}}),lang:Oi(function(dt){return Og.test(dt||"")||Zi.error("unsupported lang: "+dt),dt=dt.replace(_c,Ml).toLowerCase(),function(Ht){var An;do if(An=St?Ht.lang:Ht.getAttribute("xml:lang")||Ht.getAttribute("lang"))return An=An.toLowerCase(),An===dt||An.indexOf(dt+"-")===0;while((Ht=Ht.parentNode)&&Ht.nodeType===1);return!1}}),target:function(dt){var Ht=n.location&&n.location.hash;return Ht&&Ht.slice(1)===dt.id},root:function(dt){return dt===xt},focus:function(dt){return dt===Tr()&&je.hasFocus()&&!!(dt.type||dt.href||~dt.tabIndex)},enabled:bf(!1),disabled:bf(!0),checked:function(dt){return tt(dt,"input")&&!!dt.checked||tt(dt,"option")&&!!dt.selected},selected:function(dt){return dt.parentNode&&dt.parentNode.selectedIndex,dt.selected===!0},empty:function(dt){for(dt=dt.firstChild;dt;dt=dt.nextSibling)if(dt.nodeType<6)return!1;return!0},parent:function(dt){return!X.pseudos.empty(dt)},header:function(dt){return rp.test(dt.nodeName)},input:function(dt){return nu.test(dt.nodeName)},button:function(dt){return tt(dt,"input")&&dt.type==="button"||tt(dt,"button")},text:function(dt){var Ht;return tt(dt,"input")&&dt.type==="text"&&((Ht=dt.getAttribute("type"))==null||Ht.toLowerCase()==="text")},first:Gi(function(){return[0]}),last:Gi(function(dt,Ht){return[Ht-1]}),eq:Gi(function(dt,Ht,An){return[An<0?An+Ht:An]}),even:Gi(function(dt,Ht){for(var An=0;An<Ht;An+=2)dt.push(An);return dt}),odd:Gi(function(dt,Ht){for(var An=1;An<Ht;An+=2)dt.push(An);return dt}),lt:Gi(function(dt,Ht,An){var Dn;for(An<0?Dn=An+Ht:An>Ht?Dn=Ht:Dn=An;--Dn>=0;)dt.push(Dn);return dt}),gt:Gi(function(dt,Ht,An){for(var Dn=An<0?An+Ht:An;++Dn<Ht;)dt.push(Dn);return dt})}},X.pseudos.nth=X.pseudos.eq;for(L in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})X.pseudos[L]=vf(L);for(L in{submit:!0,reset:!0})X.pseudos[L]=LS(L);function Zn(){}Zn.prototype=X.filters=X.pseudos,X.setFilters=new Zn;function Zl(dt,Ht){var An,Dn,Yn,ns,ps,Ys,Cs,fr=xi[dt+" "];if(fr)return Ht?0:fr.slice(0);for(ps=dt,Ys=[],Cs=X.preFilter;ps;){(!An||(Dn=hl.exec(ps)))&&(Dn&&(ps=ps.slice(Dn[0].length)||ps),Ys.push(Yn=[])),An=!1,(Dn=Bp.exec(ps))&&(An=Dn.shift(),Yn.push({value:An,type:Dn[0].replace(mt," ")}),ps=ps.slice(An.length));for(ns in X.filter)(Dn=ad[ns].exec(ps))&&(!Cs[ns]||(Dn=Cs[ns](Dn)))&&(An=Dn.shift(),Yn.push({value:An,type:ns,matches:Dn}),ps=ps.slice(An.length));if(!An)break}return Ht?ps.length:ps?Zi.error(dt):xi(dt,Ys).slice(0)}function zh(dt){for(var Ht=0,An=dt.length,Dn="";Ht<An;Ht++)Dn+=dt[Ht].value;return Dn}function su(dt,Ht,An){var Dn=Ht.dir,Yn=Ht.next,ns=Yn||Dn,ps=An&&ns==="parentNode",Ys=Ho++;return Ht.first?function(Cs,fr,xr){for(;Cs=Cs[Dn];)if(Cs.nodeType===1||ps)return dt(Cs,fr,xr);return!1}:function(Cs,fr,xr){var pr,zr,Do=[_n,Ys];if(xr){for(;Cs=Cs[Dn];)if((Cs.nodeType===1||ps)&&dt(Cs,fr,xr))return!0}else for(;Cs=Cs[Dn];)if(Cs.nodeType===1||ps)if(zr=Cs[no]||(Cs[no]={}),Yn&&tt(Cs,Yn))Cs=Cs[Dn]||Cs;else{if((pr=zr[ns])&&pr[0]===_n&&pr[1]===Ys)return Do[2]=pr[2];if(zr[ns]=Do,Do[2]=dt(Cs,fr,xr))return!0}return!1}}function ap(dt){return dt.length>1?function(Ht,An,Dn){for(var Yn=dt.length;Yn--;)if(!dt[Yn](Ht,An,Dn))return!1;return!0}:dt[0]}function Hb(dt,Ht,An){for(var Dn=0,Yn=Ht.length;Dn<Yn;Dn++)Zi(dt,Ht[Dn],An);return An}function et(dt,Ht,An,Dn,Yn){for(var ns,ps=[],Ys=0,Cs=dt.length,fr=Ht!=null;Ys<Cs;Ys++)(ns=dt[Ys])&&(!An||An(ns,Dn,Yn))&&(ps.push(ns),fr&&Ht.push(Ys));return ps}function Dc(dt,Ht,An,Dn,Yn,ns){return Dn&&!Dn[no]&&(Dn=Dc(Dn)),Yn&&!Yn[no]&&(Yn=Dc(Yn,ns)),Oi(function(ps,Ys,Cs,fr){var xr,pr,zr,Do,ei=[],Sl=[],oc=Ys.length,Ms=ps||Hb(Ht||"*",Cs.nodeType?[Cs]:Cs,[]),Pl=dt&&(ps||!Ht)?et(Ms,ei,dt,Cs,fr):Ms;if(An?(Do=Yn||(ps?dt:oc||Dn)?[]:Ys,An(Pl,Do,Cs,fr)):Do=Pl,Dn)for(xr=et(Do,Sl),Dn(xr,[],Cs,fr),pr=xr.length;pr--;)(zr=xr[pr])&&(Do[Sl[pr]]=!(Pl[Sl[pr]]=zr));if(ps){if(Yn||dt){if(Yn){for(xr=[],pr=Do.length;pr--;)(zr=Do[pr])&&xr.push(Pl[pr]=zr);Yn(null,Do=[],xr,fr)}for(pr=Do.length;pr--;)(zr=Do[pr])&&(xr=Yn?S.call(ps,zr):ei[pr])>-1&&(ps[xr]=!(Ys[xr]=zr))}}else Do=et(Do===Ys?Do.splice(oc,Do.length):Do),Yn?Yn(null,Ys,Do,fr):Pe.apply(Ys,Do)})}function jh(dt){for(var Ht,An,Dn,Yn=dt.length,ns=X.relative[dt[0].type],ps=ns||X.relative[" "],Ys=ns?1:0,Cs=su(function(pr){return pr===Ht},ps,!0),fr=su(function(pr){return S.call(Ht,pr)>-1},ps,!0),xr=[function(pr,zr,Do){var ei=!ns&&(Do||zr!=de)||((Ht=zr).nodeType?Cs(pr,zr,Do):fr(pr,zr,Do));return Ht=null,ei}];Ys<Yn;Ys++)if(An=X.relative[dt[Ys].type])xr=[su(ap(xr),An)];else{if(An=X.filter[dt[Ys].type].apply(null,dt[Ys].matches),An[no]){for(Dn=++Ys;Dn<Yn&&!X.relative[dt[Dn].type];Dn++);return Dc(Ys>1&&ap(xr),Ys>1&&zh(dt.slice(0,Ys-1).concat({value:dt[Ys-2].type===" "?"*":""})).replace(mt,"$1"),An,Ys<Dn&&jh(dt.slice(Ys,Dn)),Dn<Yn&&jh(dt=dt.slice(Dn)),Dn<Yn&&zh(dt))}xr.push(An)}return ap(xr)}function $b(dt,Ht){var An=Ht.length>0,Dn=dt.length>0,Yn=function(ns,ps,Ys,Cs,fr){var xr,pr,zr,Do=0,ei="0",Sl=ns&&[],oc=[],Ms=de,Pl=ns||Dn&&X.find.TAG("*",fr),oa=_n+=Ms==null?1:Math.random()||.1,ja=Pl.length;for(fr&&(de=ps==je||ps||fr);ei!==ja&&(xr=Pl[ei])!=null;ei++){if(Dn&&xr){for(pr=0,!ps&&xr.ownerDocument!=je&&(Ld(xr),Ys=!St);zr=dt[pr++];)if(zr(xr,ps||je,Ys)){Pe.call(Cs,xr);break}fr&&(_n=oa)}An&&((xr=!zr&&xr)&&Do--,ns&&Sl.push(xr))}if(Do+=ei,An&&ei!==Do){for(pr=0;zr=Ht[pr++];)zr(Sl,oc,ps,Ys);if(ns){if(Do>0)for(;ei--;)Sl[ei]||oc[ei]||(oc[ei]=Xe.call(Cs));oc=et(oc)}Pe.apply(Cs,oc),fr&&!ns&&oc.length>0&&Do+Ht.length>1&&F.uniqueSort(Cs)}return fr&&(_n=oa,de=Ms),Sl};return An?Oi(Yn):Yn}function ru(dt,Ht){var An,Dn=[],Yn=[],ns=Gr[dt+" "];if(!ns){for(Ht||(Ht=Zl(dt)),An=Ht.length;An--;)ns=jh(Ht[An]),ns[no]?Dn.push(ns):Yn.push(ns);ns=Gr(dt,$b(Yn,Dn)),ns.selector=dt}return ns}function nc(dt,Ht,An,Dn){var Yn,ns,ps,Ys,Cs,fr=typeof dt=="function"&&dt,xr=!Dn&&Zl(dt=fr.selector||dt);if(An=An||[],xr.length===1){if(ns=xr[0]=xr[0].slice(0),ns.length>2&&(ps=ns[0]).type==="ID"&&Ht.nodeType===9&&St&&X.relative[ns[1].type]){if(Ht=(X.find.ID(ps.matches[0].replace(_c,Ml),Ht)||[])[0],Ht)fr&&(Ht=Ht.parentNode);else return An;dt=dt.slice(ns.shift().value.length)}for(Yn=ad.needsContext.test(dt)?0:ns.length;Yn--&&(ps=ns[Yn],!X.relative[Ys=ps.type]);)if((Cs=X.find[Ys])&&(Dn=Cs(ps.matches[0].replace(_c,Ml),Ig.test(ns[0].type)&&ou(Ht.parentNode)||Ht))){if(ns.splice(Yn,1),dt=Dn.length&&zh(ns),!dt)return Pe.apply(An,Dn),An;break}}return(fr||ru(dt,xr))(Dn,Ht,!St,An,!Ht||Ig.test(dt)&&ou(Ht.parentNode)||Ht),An}j.sortStable=no.split("").sort(Sa).join("")===no,Ld(),j.sortDetached=ip(function(dt){return dt.compareDocumentPosition(je.createElement("fieldset"))&1}),F.find=Zi,F.expr[":"]=F.expr.pseudos,F.unique=F.uniqueSort,Zi.compile=ru,Zi.select=nc,Zi.setDocument=Ld,Zi.tokenize=Zl,Zi.escape=F.escapeSelector,Zi.getText=F.text,Zi.isXML=F.isXMLDoc,Zi.selectors=F.expr,Zi.support=F.support,Zi.uniqueSort=F.uniqueSort})();var Rt=function(L,X,de){for(var ge=[],xe=de!==void 0;(L=L[X])&&L.nodeType!==9;)if(L.nodeType===1){if(xe&&F(L).is(de))break;ge.push(L)}return ge},kt=function(L,X){for(var de=[];L;L=L.nextSibling)L.nodeType===1&&L!==X&&de.push(L);return de},at=F.expr.match.needsContext,Cn=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Ro(L,X,de){return W(X)?F.grep(L,function(ge,xe){return!!X.call(ge,xe,ge)!==de}):X.nodeType?F.grep(L,function(ge){return ge===X!==de}):typeof X!="string"?F.grep(L,function(ge){return S.call(X,ge)>-1!==de}):F.filter(X,L,de)}F.filter=function(L,X,de){var ge=X[0];return de&&(L=":not("+L+")"),X.length===1&&ge.nodeType===1?F.find.matchesSelector(ge,L)?[ge]:[]:F.find.matches(L,F.grep(X,function(xe){return xe.nodeType===1}))},F.fn.extend({find:function(L){var X,de,ge=this.length,xe=this;if(typeof L!="string")return this.pushStack(F(L).filter(function(){for(X=0;X<ge;X++)if(F.contains(xe[X],this))return!0}));for(de=this.pushStack([]),X=0;X<ge;X++)F.find(L,xe[X],de);return ge>1?F.uniqueSort(de):de},filter:function(L){return this.pushStack(Ro(this,L||[],!1))},not:function(L){return this.pushStack(Ro(this,L||[],!0))},is:function(L){return!!Ro(this,typeof L=="string"&&at.test(L)?F(L):L||[],!1).length}});var jn,wo=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,qt=F.fn.init=function(L,X,de){var ge,xe;if(!L)return this;if(de=de||jn,typeof L=="string")if(L[0]==="<"&&L[L.length-1]===">"&&L.length>=3?ge=[null,L,null]:ge=wo.exec(L),ge&&(ge[1]||!X))if(ge[1]){if(X=X instanceof F?X[0]:X,F.merge(this,F.parseHTML(ge[1],X&&X.nodeType?X.ownerDocument||X:re,!0)),Cn.test(ge[1])&&F.isPlainObject(X))for(ge in X)W(this[ge])?this[ge](X[ge]):this.attr(ge,X[ge]);return this}else return xe=re.getElementById(ge[2]),xe&&(this[0]=xe,this.length=1),this;else return!X||X.jquery?(X||de).find(L):this.constructor(X).find(L);else{if(L.nodeType)return this[0]=L,this.length=1,this;if(W(L))return de.ready!==void 0?de.ready(L):L(F)}return F.makeArray(L,this)};qt.prototype=F.fn,jn=F(re);var Tn=/^(?:parents|prev(?:Until|All))/,_e={children:!0,contents:!0,next:!0,prev:!0};F.fn.extend({has:function(L){var X=F(L,this),de=X.length;return this.filter(function(){for(var ge=0;ge<de;ge++)if(F.contains(this,X[ge]))return!0})},closest:function(L,X){var de,ge=0,xe=this.length,Pe=[],je=typeof L!="string"&&F(L);if(!at.test(L)){for(;ge<xe;ge++)for(de=this[ge];de&&de!==X;de=de.parentNode)if(de.nodeType<11&&(je?je.index(de)>-1:de.nodeType===1&&F.find.matchesSelector(de,L))){Pe.push(de);break}}return this.pushStack(Pe.length>1?F.uniqueSort(Pe):Pe)},index:function(L){return L?typeof L=="string"?S.call(F(L),this[0]):S.call(this,L.jquery?L[0]:L):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(L,X){return this.pushStack(F.uniqueSort(F.merge(this.get(),F(L,X))))},addBack:function(L){return this.add(L==null?this.prevObject:this.prevObject.filter(L))}});function vr(L,X){for(;(L=L[X])&&L.nodeType!==1;);return L}F.each({parent:function(L){var X=L.parentNode;return X&&X.nodeType!==11?X:null},parents:function(L){return Rt(L,"parentNode")},parentsUntil:function(L,X,de){return Rt(L,"parentNode",de)},next:function(L){return vr(L,"nextSibling")},prev:function(L){return vr(L,"previousSibling")},nextAll:function(L){return Rt(L,"nextSibling")},prevAll:function(L){return Rt(L,"previousSibling")},nextUntil:function(L,X,de){return Rt(L,"nextSibling",de)},prevUntil:function(L,X,de){return Rt(L,"previousSibling",de)},siblings:function(L){return kt((L.parentNode||{}).firstChild,L)},children:function(L){return kt(L.firstChild)},contents:function(L){return L.contentDocument!=null&&c(L.contentDocument)?L.contentDocument:(tt(L,"template")&&(L=L.content||L),F.merge([],L.childNodes))}},function(L,X){F.fn[L]=function(de,ge){var xe=F.map(this,X,de);return L.slice(-5)!=="Until"&&(ge=de),ge&&typeof ge=="string"&&(xe=F.filter(ge,xe)),this.length>1&&(_e[L]||F.uniqueSort(xe),Tn.test(L)&&xe.reverse()),this.pushStack(xe)}});var vs=/[^\x20\t\r\n\f]+/g;function Ut(L){var X={};return F.each(L.match(vs)||[],function(de,ge){X[ge]=!0}),X}F.Callbacks=function(L){L=typeof L=="string"?Ut(L):F.extend({},L);var X,de,ge,xe,Pe=[],je=[],xt=-1,St=function(){for(xe=xe||L.once,ge=X=!0;je.length;xt=-1)for(de=je.shift();++xt<Pe.length;)Pe[xt].apply(de[0],de[1])===!1&&L.stopOnFalse&&(xt=Pe.length,de=!1);L.memory||(de=!1),X=!1,xe&&(de?Pe=[]:Pe="")},Jt={add:function(){return Pe&&(de&&!X&&(xt=Pe.length-1,je.push(de)),(function Ln(no){F.each(no,function(_n,Ho){W(Ho)?(!L.unique||!Jt.has(Ho))&&Pe.push(Ho):Ho&&Ho.length&&be(Ho)!=="string"&&Ln(Ho)})})(arguments),de&&!X&&St()),this},remove:function(){return F.each(arguments,function(Ln,no){for(var _n;(_n=F.inArray(no,Pe,_n))>-1;)Pe.splice(_n,1),_n<=xt&&xt--}),this},has:function(Ln){return Ln?F.inArray(Ln,Pe)>-1:Pe.length>0},empty:function(){return Pe&&(Pe=[]),this},disable:function(){return xe=je=[],Pe=de="",this},disabled:function(){return!Pe},lock:function(){return xe=je=[],!de&&!X&&(Pe=de=""),this},locked:function(){return!!xe},fireWith:function(Ln,no){return xe||(no=no||[],no=[Ln,no.slice?no.slice():no],je.push(no),X||St()),this},fire:function(){return Jt.fireWith(this,arguments),this},fired:function(){return!!ge}};return Jt};function xn(L){return L}function vn(L){throw L}function zt(L,X,de,ge){var xe;try{L&&W(xe=L.promise)?xe.call(L).done(X).fail(de):L&&W(xe=L.then)?xe.call(L,X,de):X.apply(void 0,[L].slice(ge))}catch(Pe){de.apply(void 0,[Pe])}}F.extend({Deferred:function(L){var X=[["notify","progress",F.Callbacks("memory"),F.Callbacks("memory"),2],["resolve","done",F.Callbacks("once memory"),F.Callbacks("once memory"),0,"resolved"],["reject","fail",F.Callbacks("once memory"),F.Callbacks("once memory"),1,"rejected"]],de="pending",ge={state:function(){return de},always:function(){return xe.done(arguments).fail(arguments),this},catch:function(Pe){return ge.then(null,Pe)},pipe:function(){var Pe=arguments;return F.Deferred(function(je){F.each(X,function(xt,St){var Jt=W(Pe[St[4]])&&Pe[St[4]];xe[St[1]](function(){var Ln=Jt&&Jt.apply(this,arguments);Ln&&W(Ln.promise)?Ln.promise().progress(je.notify).done(je.resolve).fail(je.reject):je[St[0]+"With"](this,Jt?[Ln]:arguments)})}),Pe=null}).promise()},then:function(Pe,je,xt){var St=0;function Jt(Ln,no,_n,Ho){return function(){var Rr=this,xi=arguments,Gr=function(){var Sa,rd;if(!(Ln<St)){if(Sa=_n.apply(Rr,xi),Sa===no.promise())throw new TypeError("Thenable self-resolution");rd=Sa&&(typeof Sa=="object"||typeof Sa=="function")&&Sa.then,W(rd)?Ho?rd.call(Sa,Jt(St,no,xn,Ho),Jt(St,no,vn,Ho)):(St++,rd.call(Sa,Jt(St,no,xn,Ho),Jt(St,no,vn,Ho),Jt(St,no,xn,no.notifyWith))):(_n!==xn&&(Rr=void 0,xi=[Sa]),(Ho||no.resolveWith)(Rr,xi))}},ql=Ho?Gr:function(){try{Gr()}catch(Sa){F.Deferred.exceptionHook&&F.Deferred.exceptionHook(Sa,ql.error),Ln+1>=St&&(_n!==vn&&(Rr=void 0,xi=[Sa]),no.rejectWith(Rr,xi))}};Ln?ql():(F.Deferred.getErrorHook?ql.error=F.Deferred.getErrorHook():F.Deferred.getStackHook&&(ql.error=F.Deferred.getStackHook()),n.setTimeout(ql))}}return F.Deferred(function(Ln){X[0][3].add(Jt(0,Ln,W(xt)?xt:xn,Ln.notifyWith)),X[1][3].add(Jt(0,Ln,W(Pe)?Pe:xn)),X[2][3].add(Jt(0,Ln,W(je)?je:vn))}).promise()},promise:function(Pe){return Pe!=null?F.extend(Pe,ge):ge}},xe={};return F.each(X,function(Pe,je){var xt=je[2],St=je[5];ge[je[1]]=xt.add,St&&xt.add(function(){de=St},X[3-Pe][2].disable,X[3-Pe][3].disable,X[0][2].lock,X[0][3].lock),xt.add(je[3].fire),xe[je[0]]=function(){return xe[je[0]+"With"](this===xe?void 0:this,arguments),this},xe[je[0]+"With"]=xt.fireWith}),ge.promise(xe),L&&L.call(xe,xe),xe},when:function(L){var X=arguments.length,de=X,ge=Array(de),xe=d.call(arguments),Pe=F.Deferred(),je=function(xt){return function(St){ge[xt]=this,xe[xt]=arguments.length>1?d.call(arguments):St,--X||Pe.resolveWith(ge,xe)}};if(X<=1&&(zt(L,Pe.done(je(de)).resolve,Pe.reject,!X),Pe.state()==="pending"||W(xe[de]&&xe[de].then)))return Pe.then();for(;de--;)zt(xe[de],je(de),Pe.reject);return Pe.promise()}});var wn=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;F.Deferred.exceptionHook=function(L,X){n.console&&n.console.warn&&L&&wn.test(L.name)&&n.console.warn("jQuery.Deferred exception: "+L.message,L.stack,X)},F.readyException=function(L){n.setTimeout(function(){throw L})};var fn=F.Deferred();F.fn.ready=function(L){return fn.then(L).catch(function(X){F.readyException(X)}),this},F.extend({isReady:!1,readyWait:1,ready:function(L){(L===!0?--F.readyWait:F.isReady)||(F.isReady=!0,!(L!==!0&&--F.readyWait>0)&&fn.resolveWith(re,[F]))}}),F.ready.then=fn.then;function ct(){re.removeEventListener("DOMContentLoaded",ct),n.removeEventListener("load",ct),F.ready()}re.readyState==="complete"||re.readyState!=="loading"&&!re.documentElement.doScroll?n.setTimeout(F.ready):(re.addEventListener("DOMContentLoaded",ct),n.addEventListener("load",ct));var Mt=function(L,X,de,ge,xe,Pe,je){var xt=0,St=L.length,Jt=de==null;if(be(de)==="object"){xe=!0;for(xt in de)Mt(L,X,xt,de[xt],!0,Pe,je)}else if(ge!==void 0&&(xe=!0,W(ge)||(je=!0),Jt&&(je?(X.call(L,ge),X=null):(Jt=X,X=function(Ln,no,_n){return Jt.call(F(Ln),_n)})),X))for(;xt<St;xt++)X(L[xt],de,je?ge:ge.call(L[xt],xt,X(L[xt],de)));return xe?L:Jt?X.call(L):St?X(L[0],de):Pe},Yt=/^-ms-/,Ge=/-([a-z])/g;function Lt(L,X){return X.toUpperCase()}function ln(L){return L.replace(Yt,"ms-").replace(Ge,Lt)}var On=function(L){return L.nodeType===1||L.nodeType===9||!+L.nodeType};function Bt(){this.expando=F.expando+Bt.uid++}Bt.uid=1,Bt.prototype={cache:function(L){var X=L[this.expando];return X||(X={},On(L)&&(L.nodeType?L[this.expando]=X:Object.defineProperty(L,this.expando,{value:X,configurable:!0}))),X},set:function(L,X,de){var ge,xe=this.cache(L);if(typeof X=="string")xe[ln(X)]=de;else for(ge in X)xe[ln(ge)]=X[ge];return xe},get:function(L,X){return X===void 0?this.cache(L):L[this.expando]&&L[this.expando][ln(X)]},access:function(L,X,de){return X===void 0||X&&typeof X=="string"&&de===void 0?this.get(L,X):(this.set(L,X,de),de!==void 0?de:X)},remove:function(L,X){var de,ge=L[this.expando];if(ge!==void 0){if(X!==void 0)for(Array.isArray(X)?X=X.map(ln):(X=ln(X),X=X in ge?[X]:X.match(vs)||[]),de=X.length;de--;)delete ge[X[de]];(X===void 0||F.isEmptyObject(ge))&&(L.nodeType?L[this.expando]=void 0:delete L[this.expando])}},hasData:function(L){var X=L[this.expando];return X!==void 0&&!F.isEmptyObject(X)}};var $t=new Bt,ls=new Bt,ks=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Rs=/[A-Z]/g;function Ao(L){return L==="true"?!0:L==="false"?!1:L==="null"?null:L===+L+""?+L:ks.test(L)?JSON.parse(L):L}function sr(L,X,de){var ge;if(de===void 0&&L.nodeType===1)if(ge="data-"+X.replace(Rs,"-$&").toLowerCase(),de=L.getAttribute(ge),typeof de=="string"){try{de=Ao(de)}catch{}ls.set(L,X,de)}else de=void 0;return de}F.extend({hasData:function(L){return ls.hasData(L)||$t.hasData(L)},data:function(L,X,de){return ls.access(L,X,de)},removeData:function(L,X){ls.remove(L,X)},_data:function(L,X,de){return $t.access(L,X,de)},_removeData:function(L,X){$t.remove(L,X)}}),F.fn.extend({data:function(L,X){var de,ge,xe,Pe=this[0],je=Pe&&Pe.attributes;if(L===void 0){if(this.length&&(xe=ls.get(Pe),Pe.nodeType===1&&!$t.get(Pe,"hasDataAttrs"))){for(de=je.length;de--;)je[de]&&(ge=je[de].name,ge.indexOf("data-")===0&&(ge=ln(ge.slice(5)),sr(Pe,ge,xe[ge])));$t.set(Pe,"hasDataAttrs",!0)}return xe}return typeof L=="object"?this.each(function(){ls.set(this,L)}):Mt(this,function(xt){var St;if(Pe&&xt===void 0)return St=ls.get(Pe,L),St!==void 0||(St=sr(Pe,L),St!==void 0)?St:void 0;this.each(function(){ls.set(this,L,xt)})},null,X,arguments.length>1,null,!0)},removeData:function(L){return this.each(function(){ls.remove(this,L)})}}),F.extend({queue:function(L,X,de){var ge;if(L)return X=(X||"fx")+"queue",ge=$t.get(L,X),de&&(!ge||Array.isArray(de)?ge=$t.access(L,X,F.makeArray(de)):ge.push(de)),ge||[]},dequeue:function(L,X){X=X||"fx";var de=F.queue(L,X),ge=de.length,xe=de.shift(),Pe=F._queueHooks(L,X),je=function(){F.dequeue(L,X)};xe==="inprogress"&&(xe=de.shift(),ge--),xe&&(X==="fx"&&de.unshift("inprogress"),delete Pe.stop,xe.call(L,je,Pe)),!ge&&Pe&&Pe.empty.fire()},_queueHooks:function(L,X){var de=X+"queueHooks";return $t.get(L,de)||$t.access(L,de,{empty:F.Callbacks("once memory").add(function(){$t.remove(L,[X+"queue",de])})})}}),F.fn.extend({queue:function(L,X){var de=2;return typeof L!="string"&&(X=L,L="fx",de--),arguments.length<de?F.queue(this[0],L):X===void 0?this:this.each(function(){var ge=F.queue(this,L,X);F._queueHooks(this,L),L==="fx"&&ge[0]!=="inprogress"&&F.dequeue(this,L)})},dequeue:function(L){return this.each(function(){F.dequeue(this,L)})},clearQueue:function(L){return this.queue(L||"fx",[])},promise:function(L,X){var de,ge=1,xe=F.Deferred(),Pe=this,je=this.length,xt=function(){--ge||xe.resolveWith(Pe,[Pe])};for(typeof L!="string"&&(X=L,L=void 0),L=L||"fx";je--;)de=$t.get(Pe[je],L+"queueHooks"),de&&de.empty&&(ge++,de.empty.add(xt));return xt(),xe.promise(X)}});var Ks=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ls=new RegExp("^(?:([+-])=|)("+Ks+")([a-z%]*)$","i"),Xo=["Top","Right","Bottom","Left"],At=re.documentElement,Vt=function(L){return F.contains(L.ownerDocument,L)},en={composed:!0};At.getRootNode&&(Vt=function(L){return F.contains(L.ownerDocument,L)||L.getRootNode(en)===L.ownerDocument});var tn=function(L,X){return L=X||L,L.style.display==="none"||L.style.display===""&&Vt(L)&&F.css(L,"display")==="none"};function to(L,X,de,ge){var xe,Pe,je=20,xt=ge?function(){return ge.cur()}:function(){return F.css(L,X,"")},St=xt(),Jt=de&&de[3]||(F.cssNumber[X]?"":"px"),Ln=L.nodeType&&(F.cssNumber[X]||Jt!=="px"&&+St)&&Ls.exec(F.css(L,X));if(Ln&&Ln[3]!==Jt){for(St=St/2,Jt=Jt||Ln[3],Ln=+St||1;je--;)F.style(L,X,Ln+Jt),(1-Pe)*(1-(Pe=xt()/St||.5))<=0&&(je=0),Ln=Ln/Pe;Ln=Ln*2,F.style(L,X,Ln+Jt),de=de||[]}return de&&(Ln=+Ln||+St||0,xe=de[1]?Ln+(de[1]+1)*de[2]:+de[2],ge&&(ge.unit=Jt,ge.start=Ln,ge.end=xe)),xe}var go={};function To(L){var X,de=L.ownerDocument,ge=L.nodeName,xe=go[ge];return xe||(X=de.body.appendChild(de.createElement(ge)),xe=F.css(X,"display"),X.parentNode.removeChild(X),xe==="none"&&(xe="block"),go[ge]=xe,xe)}function cn(L,X){for(var de,ge,xe=[],Pe=0,je=L.length;Pe<je;Pe++)ge=L[Pe],ge.style&&(de=ge.style.display,X?(de==="none"&&(xe[Pe]=$t.get(ge,"display")||null,xe[Pe]||(ge.style.display="")),ge.style.display===""&&tn(ge)&&(xe[Pe]=To(ge))):de!=="none"&&(xe[Pe]="none",$t.set(ge,"display",de)));for(Pe=0;Pe<je;Pe++)xe[Pe]!=null&&(L[Pe].style.display=xe[Pe]);return L}F.fn.extend({show:function(){return cn(this,!0)},hide:function(){return cn(this)},toggle:function(L){return typeof L=="boolean"?L?this.show():this.hide():this.each(function(){tn(this)?F(this).show():F(this).hide()})}});var ro=/^(?:checkbox|radio)$/i,Xn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,fs=/^$|^module$|\/(?:java|ecma)script/i;(function(){var L=re.createDocumentFragment(),X=L.appendChild(re.createElement("div")),de=re.createElement("input");de.setAttribute("type","radio"),de.setAttribute("checked","checked"),de.setAttribute("name","t"),X.appendChild(de),j.checkClone=X.cloneNode(!0).cloneNode(!0).lastChild.checked,X.innerHTML="<textarea>x</textarea>",j.noCloneChecked=!!X.cloneNode(!0).lastChild.defaultValue,X.innerHTML="<option></option>",j.option=!!X.lastChild})();var rs={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};rs.tbody=rs.tfoot=rs.colgroup=rs.caption=rs.thead,rs.th=rs.td,j.option||(rs.optgroup=rs.option=[1,"<select multiple='multiple'>","</select>"]);function $n(L,X){var de;return typeof L.getElementsByTagName<"u"?de=L.getElementsByTagName(X||"*"):typeof L.querySelectorAll<"u"?de=L.querySelectorAll(X||"*"):de=[],X===void 0||X&&tt(L,X)?F.merge([L],de):de}function gi(L,X){for(var de=0,ge=L.length;de<ge;de++)$t.set(L[de],"globalEval",!X||$t.get(X[de],"globalEval"))}var ur=/<|&#?\w+;/;function Nr(L,X,de,ge,xe){for(var Pe,je,xt,St,Jt,Ln,no=X.createDocumentFragment(),_n=[],Ho=0,Rr=L.length;Ho<Rr;Ho++)if(Pe=L[Ho],Pe||Pe===0)if(be(Pe)==="object")F.merge(_n,Pe.nodeType?[Pe]:Pe);else if(!ur.test(Pe))_n.push(X.createTextNode(Pe));else{for(je=je||no.appendChild(X.createElement("div")),xt=(Xn.exec(Pe)||["",""])[1].toLowerCase(),St=rs[xt]||rs._default,je.innerHTML=St[1]+F.htmlPrefilter(Pe)+St[2],Ln=St[0];Ln--;)je=je.lastChild;F.merge(_n,je.childNodes),je=no.firstChild,je.textContent=""}for(no.textContent="",Ho=0;Pe=_n[Ho++];){if(ge&&F.inArray(Pe,ge)>-1){xe&&xe.push(Pe);continue}if(Jt=Vt(Pe),je=$n(no.appendChild(Pe),"script"),Jt&&gi(je),de)for(Ln=0;Pe=je[Ln++];)fs.test(Pe.type||"")&&de.push(Pe)}return no}var fa=/^([^.]*)(?:\.(.+)|)/;function ta(){return!0}function dr(){return!1}function jo(L,X,de,ge,xe,Pe){var je,xt;if(typeof X=="object"){typeof de!="string"&&(ge=ge||de,de=void 0);for(xt in X)jo(L,xt,de,ge,X[xt],Pe);return L}if(ge==null&&xe==null?(xe=de,ge=de=void 0):xe==null&&(typeof de=="string"?(xe=ge,ge=void 0):(xe=ge,ge=de,de=void 0)),xe===!1)xe=dr;else if(!xe)return L;return Pe===1&&(je=xe,xe=function(St){return F().off(St),je.apply(this,arguments)},xe.guid=je.guid||(je.guid=F.guid++)),L.each(function(){F.event.add(this,X,xe,ge,de)})}F.event={global:{},add:function(L,X,de,ge,xe){var Pe,je,xt,St,Jt,Ln,no,_n,Ho,Rr,xi,Gr=$t.get(L);if(On(L))for(de.handler&&(Pe=de,de=Pe.handler,xe=Pe.selector),xe&&F.find.matchesSelector(At,xe),de.guid||(de.guid=F.guid++),(St=Gr.events)||(St=Gr.events=Object.create(null)),(je=Gr.handle)||(je=Gr.handle=function(ql){return typeof F<"u"&&F.event.triggered!==ql.type?F.event.dispatch.apply(L,arguments):void 0}),X=(X||"").match(vs)||[""],Jt=X.length;Jt--;)xt=fa.exec(X[Jt])||[],Ho=xi=xt[1],Rr=(xt[2]||"").split(".").sort(),Ho&&(no=F.event.special[Ho]||{},Ho=(xe?no.delegateType:no.bindType)||Ho,no=F.event.special[Ho]||{},Ln=F.extend({type:Ho,origType:xi,data:ge,handler:de,guid:de.guid,selector:xe,needsContext:xe&&F.expr.match.needsContext.test(xe),namespace:Rr.join(".")},Pe),(_n=St[Ho])||(_n=St[Ho]=[],_n.delegateCount=0,(!no.setup||no.setup.call(L,ge,Rr,je)===!1)&&L.addEventListener&&L.addEventListener(Ho,je)),no.add&&(no.add.call(L,Ln),Ln.handler.guid||(Ln.handler.guid=de.guid)),xe?_n.splice(_n.delegateCount++,0,Ln):_n.push(Ln),F.event.global[Ho]=!0)},remove:function(L,X,de,ge,xe){var Pe,je,xt,St,Jt,Ln,no,_n,Ho,Rr,xi,Gr=$t.hasData(L)&&$t.get(L);if(!(!Gr||!(St=Gr.events))){for(X=(X||"").match(vs)||[""],Jt=X.length;Jt--;){if(xt=fa.exec(X[Jt])||[],Ho=xi=xt[1],Rr=(xt[2]||"").split(".").sort(),!Ho){for(Ho in St)F.event.remove(L,Ho+X[Jt],de,ge,!0);continue}for(no=F.event.special[Ho]||{},Ho=(ge?no.delegateType:no.bindType)||Ho,_n=St[Ho]||[],xt=xt[2]&&new RegExp("(^|\\.)"+Rr.join("\\.(?:.*\\.|)")+"(\\.|$)"),je=Pe=_n.length;Pe--;)Ln=_n[Pe],(xe||xi===Ln.origType)&&(!de||de.guid===Ln.guid)&&(!xt||xt.test(Ln.namespace))&&(!ge||ge===Ln.selector||ge==="**"&&Ln.selector)&&(_n.splice(Pe,1),Ln.selector&&_n.delegateCount--,no.remove&&no.remove.call(L,Ln));je&&!_n.length&&((!no.teardown||no.teardown.call(L,Rr,Gr.handle)===!1)&&F.removeEvent(L,Ho,Gr.handle),delete St[Ho])}F.isEmptyObject(St)&&$t.remove(L,"handle events")}},dispatch:function(L){var X,de,ge,xe,Pe,je,xt=new Array(arguments.length),St=F.event.fix(L),Jt=($t.get(this,"events")||Object.create(null))[St.type]||[],Ln=F.event.special[St.type]||{};for(xt[0]=St,X=1;X<arguments.length;X++)xt[X]=arguments[X];if(St.delegateTarget=this,!(Ln.preDispatch&&Ln.preDispatch.call(this,St)===!1)){for(je=F.event.handlers.call(this,St,Jt),X=0;(xe=je[X++])&&!St.isPropagationStopped();)for(St.currentTarget=xe.elem,de=0;(Pe=xe.handlers[de++])&&!St.isImmediatePropagationStopped();)(!St.rnamespace||Pe.namespace===!1||St.rnamespace.test(Pe.namespace))&&(St.handleObj=Pe,St.data=Pe.data,ge=((F.event.special[Pe.origType]||{}).handle||Pe.handler).apply(xe.elem,xt),ge!==void 0&&(St.result=ge)===!1&&(St.preventDefault(),St.stopPropagation()));return Ln.postDispatch&&Ln.postDispatch.call(this,St),St.result}},handlers:function(L,X){var de,ge,xe,Pe,je,xt=[],St=X.delegateCount,Jt=L.target;if(St&&Jt.nodeType&&!(L.type==="click"&&L.button>=1)){for(;Jt!==this;Jt=Jt.parentNode||this)if(Jt.nodeType===1&&!(L.type==="click"&&Jt.disabled===!0)){for(Pe=[],je={},de=0;de<St;de++)ge=X[de],xe=ge.selector+" ",je[xe]===void 0&&(je[xe]=ge.needsContext?F(xe,this).index(Jt)>-1:F.find(xe,this,null,[Jt]).length),je[xe]&&Pe.push(ge);Pe.length&&xt.push({elem:Jt,handlers:Pe})}}return Jt=this,St<X.length&&xt.push({elem:Jt,handlers:X.slice(St)}),xt},addProp:function(L,X){Object.defineProperty(F.Event.prototype,L,{enumerable:!0,configurable:!0,get:W(X)?function(){if(this.originalEvent)return X(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[L]},set:function(de){Object.defineProperty(this,L,{enumerable:!0,configurable:!0,writable:!0,value:de})}})},fix:function(L){return L[F.expando]?L:new F.Event(L)},special:{load:{noBubble:!0},click:{setup:function(L){var X=this||L;return ro.test(X.type)&&X.click&&tt(X,"input")&&Vs(X,"click",!0),!1},trigger:function(L){var X=this||L;return ro.test(X.type)&&X.click&&tt(X,"input")&&Vs(X,"click"),!0},_default:function(L){var X=L.target;return ro.test(X.type)&&X.click&&tt(X,"input")&&$t.get(X,"click")||tt(X,"a")}},beforeunload:{postDispatch:function(L){L.result!==void 0&&L.originalEvent&&(L.originalEvent.returnValue=L.result)}}}};function Vs(L,X,de){if(!de){$t.get(L,X)===void 0&&F.event.add(L,X,ta);return}$t.set(L,X,!1),F.event.add(L,X,{namespace:!1,handler:function(ge){var xe,Pe=$t.get(this,X);if(ge.isTrigger&1&&this[X]){if(Pe)(F.event.special[X]||{}).delegateType&&ge.stopPropagation();else if(Pe=d.call(arguments),$t.set(this,X,Pe),this[X](),xe=$t.get(this,X),$t.set(this,X,!1),Pe!==xe)return ge.stopImmediatePropagation(),ge.preventDefault(),xe}else Pe&&($t.set(this,X,F.event.trigger(Pe[0],Pe.slice(1),this)),ge.stopPropagation(),ge.isImmediatePropagationStopped=ta)}})}F.removeEvent=function(L,X,de){L.removeEventListener&&L.removeEventListener(X,de)},F.Event=function(L,X){if(!(this instanceof F.Event))return new F.Event(L,X);L&&L.type?(this.originalEvent=L,this.type=L.type,this.isDefaultPrevented=L.defaultPrevented||L.defaultPrevented===void 0&&L.returnValue===!1?ta:dr,this.target=L.target&&L.target.nodeType===3?L.target.parentNode:L.target,this.currentTarget=L.currentTarget,this.relatedTarget=L.relatedTarget):this.type=L,X&&F.extend(this,X),this.timeStamp=L&&L.timeStamp||Date.now(),this[F.expando]=!0},F.Event.prototype={constructor:F.Event,isDefaultPrevented:dr,isPropagationStopped:dr,isImmediatePropagationStopped:dr,isSimulated:!1,preventDefault:function(){var L=this.originalEvent;this.isDefaultPrevented=ta,L&&!this.isSimulated&&L.preventDefault()},stopPropagation:function(){var L=this.originalEvent;this.isPropagationStopped=ta,L&&!this.isSimulated&&L.stopPropagation()},stopImmediatePropagation:function(){var L=this.originalEvent;this.isImmediatePropagationStopped=ta,L&&!this.isSimulated&&L.stopImmediatePropagation(),this.stopPropagation()}},F.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},F.event.addProp),F.each({focus:"focusin",blur:"focusout"},function(L,X){function de(ge){if(re.documentMode){var xe=$t.get(this,"handle"),Pe=F.event.fix(ge);Pe.type=ge.type==="focusin"?"focus":"blur",Pe.isSimulated=!0,xe(ge),Pe.target===Pe.currentTarget&&xe(Pe)}else F.event.simulate(X,ge.target,F.event.fix(ge))}F.event.special[L]={setup:function(){var ge;if(Vs(this,L,!0),re.documentMode)ge=$t.get(this,X),ge||this.addEventListener(X,de),$t.set(this,X,(ge||0)+1);else return!1},trigger:function(){return Vs(this,L),!0},teardown:function(){var ge;if(re.documentMode)ge=$t.get(this,X)-1,ge?$t.set(this,X,ge):(this.removeEventListener(X,de),$t.remove(this,X));else return!1},_default:function(ge){return $t.get(ge.target,L)},delegateType:X},F.event.special[X]={setup:function(){var ge=this.ownerDocument||this.document||this,xe=re.documentMode?this:ge,Pe=$t.get(xe,X);Pe||(re.documentMode?this.addEventListener(X,de):ge.addEventListener(L,de,!0)),$t.set(xe,X,(Pe||0)+1)},teardown:function(){var ge=this.ownerDocument||this.document||this,xe=re.documentMode?this:ge,Pe=$t.get(xe,X)-1;Pe?$t.set(xe,X,Pe):(re.documentMode?this.removeEventListener(X,de):ge.removeEventListener(L,de,!0),$t.remove(xe,X))}}}),F.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(L,X){F.event.special[L]={delegateType:X,bindType:X,handle:function(de){var ge,xe=this,Pe=de.relatedTarget,je=de.handleObj;return(!Pe||Pe!==xe&&!F.contains(xe,Pe))&&(de.type=je.origType,ge=je.handler.apply(this,arguments),de.type=X),ge}}}),F.fn.extend({on:function(L,X,de,ge){return jo(this,L,X,de,ge)},one:function(L,X,de,ge){return jo(this,L,X,de,ge,1)},off:function(L,X,de){var ge,xe;if(L&&L.preventDefault&&L.handleObj)return ge=L.handleObj,F(L.delegateTarget).off(ge.namespace?ge.origType+"."+ge.namespace:ge.origType,ge.selector,ge.handler),this;if(typeof L=="object"){for(xe in L)this.off(xe,X,L[xe]);return this}return(X===!1||typeof X=="function")&&(de=X,X=void 0),de===!1&&(de=dr),this.each(function(){F.event.remove(this,L,de,X)})}});var bc=/<script|<style|<link/i,Vc=/checked\s*(?:[^=]|=\s*.checked.)/i,td=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function zo(L,X){return tt(L,"table")&&tt(X.nodeType!==11?X:X.firstChild,"tr")&&F(L).children("tbody")[0]||L}function tc(L){return L.type=(L.getAttribute("type")!==null)+"/"+L.type,L}function sl(L){return(L.type||"").slice(0,5)==="true/"?L.type=L.type.slice(5):L.removeAttribute("type"),L}function ep(L,X){var de,ge,xe,Pe,je,xt,St;if(X.nodeType===1){if($t.hasData(L)&&(Pe=$t.get(L),St=Pe.events,St)){$t.remove(X,"handle events");for(xe in St)for(de=0,ge=St[xe].length;de<ge;de++)F.event.add(X,xe,St[xe][de])}ls.hasData(L)&&(je=ls.access(L),xt=F.extend({},je),ls.set(X,xt))}}function Wl(L,X){var de=X.nodeName.toLowerCase();de==="input"&&ro.test(L.type)?X.checked=L.checked:(de==="input"||de==="textarea")&&(X.defaultValue=L.defaultValue)}function kd(L,X,de,ge){X=p(X);var xe,Pe,je,xt,St,Jt,Ln=0,no=L.length,_n=no-1,Ho=X[0],Rr=W(Ho);if(Rr||no>1&&typeof Ho=="string"&&!j.checkClone&&Vc.test(Ho))return L.each(function(xi){var Gr=L.eq(xi);Rr&&(X[0]=Ho.call(this,xi,Gr.html())),kd(Gr,X,de,ge)});if(no&&(xe=Nr(X,L[0].ownerDocument,!1,L,ge),Pe=xe.firstChild,xe.childNodes.length===1&&(xe=Pe),Pe||ge)){for(je=F.map($n(xe,"script"),tc),xt=je.length;Ln<no;Ln++)St=xe,Ln!==_n&&(St=F.clone(St,!0,!0),xt&&F.merge(je,$n(St,"script"))),de.call(L[Ln],St,Ln);if(xt)for(Jt=je[je.length-1].ownerDocument,F.map(je,sl),Ln=0;Ln<xt;Ln++)St=je[Ln],fs.test(St.type||"")&&!$t.access(St,"globalEval")&&F.contains(Jt,St)&&(St.src&&(St.type||"").toLowerCase()!=="module"?F._evalUrl&&!St.noModule&&F._evalUrl(St.src,{nonce:St.nonce||St.getAttribute("nonce")},Jt):ie(St.textContent.replace(td,""),St,Jt))}return L}function Ur(L,X,de){for(var ge,xe=X?F.filter(X,L):L,Pe=0;(ge=xe[Pe])!=null;Pe++)!de&&ge.nodeType===1&&F.cleanData($n(ge)),ge.parentNode&&(de&&Vt(ge)&&gi($n(ge,"script")),ge.parentNode.removeChild(ge));return L}F.extend({htmlPrefilter:function(L){return L},clone:function(L,X,de){var ge,xe,Pe,je,xt=L.cloneNode(!0),St=Vt(L);if(!j.noCloneChecked&&(L.nodeType===1||L.nodeType===11)&&!F.isXMLDoc(L))for(je=$n(xt),Pe=$n(L),ge=0,xe=Pe.length;ge<xe;ge++)Wl(Pe[ge],je[ge]);if(X)if(de)for(Pe=Pe||$n(L),je=je||$n(xt),ge=0,xe=Pe.length;ge<xe;ge++)ep(Pe[ge],je[ge]);else ep(L,xt);return je=$n(xt,"script"),je.length>0&&gi(je,!St&&$n(L,"script")),xt},cleanData:function(L){for(var X,de,ge,xe=F.event.special,Pe=0;(de=L[Pe])!==void 0;Pe++)if(On(de)){if(X=de[$t.expando]){if(X.events)for(ge in X.events)xe[ge]?F.event.remove(de,ge):F.removeEvent(de,ge,X.handle);de[$t.expando]=void 0}de[ls.expando]&&(de[ls.expando]=void 0)}}}),F.fn.extend({detach:function(L){return Ur(this,L,!0)},remove:function(L){return Ur(this,L)},text:function(L){return Mt(this,function(X){return X===void 0?F.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=X)})},null,L,arguments.length)},append:function(){return kd(this,arguments,function(L){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var X=zo(this,L);X.appendChild(L)}})},prepend:function(){return kd(this,arguments,function(L){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var X=zo(this,L);X.insertBefore(L,X.firstChild)}})},before:function(){return kd(this,arguments,function(L){this.parentNode&&this.parentNode.insertBefore(L,this)})},after:function(){return kd(this,arguments,function(L){this.parentNode&&this.parentNode.insertBefore(L,this.nextSibling)})},empty:function(){for(var L,X=0;(L=this[X])!=null;X++)L.nodeType===1&&(F.cleanData($n(L,!1)),L.textContent="");return this},clone:function(L,X){return L=L??!1,X=X??L,this.map(function(){return F.clone(this,L,X)})},html:function(L){return Mt(this,function(X){var de=this[0]||{},ge=0,xe=this.length;if(X===void 0&&de.nodeType===1)return de.innerHTML;if(typeof X=="string"&&!bc.test(X)&&!rs[(Xn.exec(X)||["",""])[1].toLowerCase()]){X=F.htmlPrefilter(X);try{for(;ge<xe;ge++)de=this[ge]||{},de.nodeType===1&&(F.cleanData($n(de,!1)),de.innerHTML=X);de=0}catch{}}de&&this.empty().append(X)},null,L,arguments.length)},replaceWith:function(){var L=[];return kd(this,arguments,function(X){var de=this.parentNode;F.inArray(this,L)<0&&(F.cleanData($n(this)),de&&de.replaceChild(X,this))},L)}}),F.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(L,X){F.fn[L]=function(de){for(var ge,xe=[],Pe=F(de),je=Pe.length-1,xt=0;xt<=je;xt++)ge=xt===je?this:this.clone(!0),F(Pe[xt])[X](ge),v.apply(xe,ge.get());return this.pushStack(xe)}});var Ia=new RegExp("^("+Ks+")(?!px)[a-z%]+$","i"),Dd=/^--/,nd=function(L){var X=L.ownerDocument.defaultView;return(!X||!X.opener)&&(X=n),X.getComputedStyle(L)},Qc=function(L,X,de){var ge,xe,Pe={};for(xe in X)Pe[xe]=L.style[xe],L.style[xe]=X[xe];ge=de.call(L);for(xe in X)L.style[xe]=Pe[xe];return ge},dl=new RegExp(Xo.join("|"),"i");(function(){function L(){if(Jt){St.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Jt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",At.appendChild(St).appendChild(Jt);var Ln=n.getComputedStyle(Jt);de=Ln.top!=="1%",xt=X(Ln.marginLeft)===12,Jt.style.right="60%",Pe=X(Ln.right)===36,ge=X(Ln.width)===36,Jt.style.position="absolute",xe=X(Jt.offsetWidth/3)===12,At.removeChild(St),Jt=null}}function X(Ln){return Math.round(parseFloat(Ln))}var de,ge,xe,Pe,je,xt,St=re.createElement("div"),Jt=re.createElement("div");Jt.style&&(Jt.style.backgroundClip="content-box",Jt.cloneNode(!0).style.backgroundClip="",j.clearCloneStyle=Jt.style.backgroundClip==="content-box",F.extend(j,{boxSizingReliable:function(){return L(),ge},pixelBoxStyles:function(){return L(),Pe},pixelPosition:function(){return L(),de},reliableMarginLeft:function(){return L(),xt},scrollboxSize:function(){return L(),xe},reliableTrDimensions:function(){var Ln,no,_n,Ho;return je==null&&(Ln=re.createElement("table"),no=re.createElement("tr"),_n=re.createElement("div"),Ln.style.cssText="position:absolute;left:-11111px;border-collapse:separate",no.style.cssText="box-sizing:content-box;border:1px solid",no.style.height="1px",_n.style.height="9px",_n.style.display="block",At.appendChild(Ln).appendChild(no).appendChild(_n),Ho=n.getComputedStyle(no),je=parseInt(Ho.height,10)+parseInt(Ho.borderTopWidth,10)+parseInt(Ho.borderBottomWidth,10)===no.offsetHeight,At.removeChild(Ln)),je}}))})();function od(L,X,de){var ge,xe,Pe,je,xt=Dd.test(X),St=L.style;return de=de||nd(L),de&&(je=de.getPropertyValue(X)||de[X],xt&&je&&(je=je.replace(mt,"$1")||void 0),je===""&&!Vt(L)&&(je=F.style(L,X)),!j.pixelBoxStyles()&&Ia.test(je)&&dl.test(X)&&(ge=St.width,xe=St.minWidth,Pe=St.maxWidth,St.minWidth=St.maxWidth=St.width=je,je=de.width,St.width=ge,St.minWidth=xe,St.maxWidth=Pe)),je!==void 0?je+"":je}function Md(L,X){return{get:function(){if(L()){delete this.get;return}return(this.get=X).apply(this,arguments)}}}var yo=["Webkit","Moz","ms"],tp=re.createElement("div").style,uh={};function Vh(L){for(var X=L[0].toUpperCase()+L.slice(1),de=yo.length;de--;)if(L=yo[de]+X,L in tp)return L}function Jr(L){var X=F.cssProps[L]||uh[L];return X||(L in tp?L:uh[L]=Vh(L)||L)}var Fh=/^(none|table(?!-c[ea]).+)/,Fc={position:"absolute",visibility:"hidden",display:"block"},Ar={letterSpacing:"0",fontWeight:"400"};function xu(L,X,de){var ge=Ls.exec(X);return ge?Math.max(0,ge[2]-(de||0))+(ge[3]||"px"):X}function dh(L,X,de,ge,xe,Pe){var je=X==="width"?1:0,xt=0,St=0,Jt=0;if(de===(ge?"border":"content"))return 0;for(;je<4;je+=2)de==="margin"&&(Jt+=F.css(L,de+Xo[je],!0,xe)),ge?(de==="content"&&(St-=F.css(L,"padding"+Xo[je],!0,xe)),de!=="margin"&&(St-=F.css(L,"border"+Xo[je]+"Width",!0,xe))):(St+=F.css(L,"padding"+Xo[je],!0,xe),de!=="padding"?St+=F.css(L,"border"+Xo[je]+"Width",!0,xe):xt+=F.css(L,"border"+Xo[je]+"Width",!0,xe));return!ge&&Pe>=0&&(St+=Math.max(0,Math.ceil(L["offset"+X[0].toUpperCase()+X.slice(1)]-Pe-St-xt-.5))||0),St+Jt}function Rc(L,X,de){var ge=nd(L),xe=!j.boxSizingReliable()||de,Pe=xe&&F.css(L,"boxSizing",!1,ge)==="border-box",je=Pe,xt=od(L,X,ge),St="offset"+X[0].toUpperCase()+X.slice(1);if(Ia.test(xt)){if(!de)return xt;xt="auto"}return(!j.boxSizingReliable()&&Pe||!j.reliableTrDimensions()&&tt(L,"tr")||xt==="auto"||!parseFloat(xt)&&F.css(L,"display",!1,ge)==="inline")&&L.getClientRects().length&&(Pe=F.css(L,"boxSizing",!1,ge)==="border-box",je=St in L,je&&(xt=L[St])),xt=parseFloat(xt)||0,xt+dh(L,X,de||(Pe?"border":"content"),je,ge,xt)+"px"}F.extend({cssHooks:{opacity:{get:function(L,X){if(X){var de=od(L,"opacity");return de===""?"1":de}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(L,X,de,ge){if(!(!L||L.nodeType===3||L.nodeType===8||!L.style)){var xe,Pe,je,xt=ln(X),St=Dd.test(X),Jt=L.style;if(St||(X=Jr(xt)),je=F.cssHooks[X]||F.cssHooks[xt],de!==void 0){if(Pe=typeof de,Pe==="string"&&(xe=Ls.exec(de))&&xe[1]&&(de=to(L,X,xe),Pe="number"),de==null||de!==de)return;Pe==="number"&&!St&&(de+=xe&&xe[3]||(F.cssNumber[xt]?"":"px")),!j.clearCloneStyle&&de===""&&X.indexOf("background")===0&&(Jt[X]="inherit"),(!je||!("set"in je)||(de=je.set(L,de,ge))!==void 0)&&(St?Jt.setProperty(X,de):Jt[X]=de)}else return je&&"get"in je&&(xe=je.get(L,!1,ge))!==void 0?xe:Jt[X]}},css:function(L,X,de,ge){var xe,Pe,je,xt=ln(X),St=Dd.test(X);return St||(X=Jr(xt)),je=F.cssHooks[X]||F.cssHooks[xt],je&&"get"in je&&(xe=je.get(L,!0,de)),xe===void 0&&(xe=od(L,X,ge)),xe==="normal"&&X in Ar&&(xe=Ar[X]),de===""||de?(Pe=parseFloat(xe),de===!0||isFinite(Pe)?Pe||0:xe):xe}}),F.each(["height","width"],function(L,X){F.cssHooks[X]={get:function(de,ge,xe){if(ge)return Fh.test(F.css(de,"display"))&&(!de.getClientRects().length||!de.getBoundingClientRect().width)?Qc(de,Fc,function(){return Rc(de,X,xe)}):Rc(de,X,xe)},set:function(de,ge,xe){var Pe,je=nd(de),xt=!j.scrollboxSize()&&je.position==="absolute",St=xt||xe,Jt=St&&F.css(de,"boxSizing",!1,je)==="border-box",Ln=xe?dh(de,X,xe,Jt,je):0;return Jt&&xt&&(Ln-=Math.ceil(de["offset"+X[0].toUpperCase()+X.slice(1)]-parseFloat(je[X])-dh(de,X,"border",!1,je)-.5)),Ln&&(Pe=Ls.exec(ge))&&(Pe[3]||"px")!=="px"&&(de.style[X]=ge,ge=F.css(de,X)),xu(de,ge,Ln)}}}),F.cssHooks.marginLeft=Md(j.reliableMarginLeft,function(L,X){if(X)return(parseFloat(od(L,"marginLeft"))||L.getBoundingClientRect().left-Qc(L,{marginLeft:0},function(){return L.getBoundingClientRect().left}))+"px"}),F.each({margin:"",padding:"",border:"Width"},function(L,X){F.cssHooks[L+X]={expand:function(de){for(var ge=0,xe={},Pe=typeof de=="string"?de.split(" "):[de];ge<4;ge++)xe[L+Xo[ge]+X]=Pe[ge]||Pe[ge-2]||Pe[0];return xe}},L!=="margin"&&(F.cssHooks[L+X].set=xu)}),F.fn.extend({css:function(L,X){return Mt(this,function(de,ge,xe){var Pe,je,xt={},St=0;if(Array.isArray(ge)){for(Pe=nd(de),je=ge.length;St<je;St++)xt[ge[St]]=F.css(de,ge[St],!1,Pe);return xt}return xe!==void 0?F.style(de,ge,xe):F.css(de,ge)},L,X,arguments.length>1)}});function Vi(L,X,de,ge,xe){return new Vi.prototype.init(L,X,de,ge,xe)}F.Tween=Vi,Vi.prototype={constructor:Vi,init:function(L,X,de,ge,xe,Pe){this.elem=L,this.prop=de,this.easing=xe||F.easing._default,this.options=X,this.start=this.now=this.cur(),this.end=ge,this.unit=Pe||(F.cssNumber[de]?"":"px")},cur:function(){var L=Vi.propHooks[this.prop];return L&&L.get?L.get(this):Vi.propHooks._default.get(this)},run:function(L){var X,de=Vi.propHooks[this.prop];return this.options.duration?this.pos=X=F.easing[this.easing](L,this.options.duration*L,0,1,this.options.duration):this.pos=X=L,this.now=(this.end-this.start)*X+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),de&&de.set?de.set(this):Vi.propHooks._default.set(this),this}},Vi.prototype.init.prototype=Vi.prototype,Vi.propHooks={_default:{get:function(L){var X;return L.elem.nodeType!==1||L.elem[L.prop]!=null&&L.elem.style[L.prop]==null?L.elem[L.prop]:(X=F.css(L.elem,L.prop,""),!X||X==="auto"?0:X)},set:function(L){F.fx.step[L.prop]?F.fx.step[L.prop](L):L.elem.nodeType===1&&(F.cssHooks[L.prop]||L.elem.style[Jr(L.prop)]!=null)?F.style(L.elem,L.prop,L.now+L.unit):L.elem[L.prop]=L.now}}},Vi.propHooks.scrollTop=Vi.propHooks.scrollLeft={set:function(L){L.elem.nodeType&&L.elem.parentNode&&(L.elem[L.prop]=L.now)}},F.easing={linear:function(L){return L},swing:function(L){return .5-Math.cos(L*Math.PI)/2},_default:"swing"},F.fx=Vi.prototype.init,F.fx.step={};var yc,rl,Lp=/^(?:toggle|show|hide)$/,km=/queueHooks$/;function kc(){rl&&(re.hidden===!1&&n.requestAnimationFrame?n.requestAnimationFrame(kc):n.setTimeout(kc,F.fx.interval),F.fx.tick())}function eu(){return n.setTimeout(function(){yc=void 0}),yc=Date.now()}function Ou(L,X){var de,ge=0,xe={height:L};for(X=X?1:0;ge<4;ge+=2-X)de=Xo[ge],xe["margin"+de]=xe["padding"+de]=L;return X&&(xe.opacity=xe.width=L),xe}function Hh(L,X,de){for(var ge,xe=(Wi.tweeners[X]||[]).concat(Wi.tweeners["*"]),Pe=0,je=xe.length;Pe<je;Pe++)if(ge=xe[Pe].call(de,X,L))return ge}function na(L,X,de){var ge,xe,Pe,je,xt,St,Jt,Ln,no="width"in X||"height"in X,_n=this,Ho={},Rr=L.style,xi=L.nodeType&&tn(L),Gr=$t.get(L,"fxshow");de.queue||(je=F._queueHooks(L,"fx"),je.unqueued==null&&(je.unqueued=0,xt=je.empty.fire,je.empty.fire=function(){je.unqueued||xt()}),je.unqueued++,_n.always(function(){_n.always(function(){je.unqueued--,F.queue(L,"fx").length||je.empty.fire()})}));for(ge in X)if(xe=X[ge],Lp.test(xe)){if(delete X[ge],Pe=Pe||xe==="toggle",xe===(xi?"hide":"show"))if(xe==="show"&&Gr&&Gr[ge]!==void 0)xi=!0;else continue;Ho[ge]=Gr&&Gr[ge]||F.style(L,ge)}if(St=!F.isEmptyObject(X),!(!St&&F.isEmptyObject(Ho))){no&&L.nodeType===1&&(de.overflow=[Rr.overflow,Rr.overflowX,Rr.overflowY],Jt=Gr&&Gr.display,Jt==null&&(Jt=$t.get(L,"display")),Ln=F.css(L,"display"),Ln==="none"&&(Jt?Ln=Jt:(cn([L],!0),Jt=L.style.display||Jt,Ln=F.css(L,"display"),cn([L]))),(Ln==="inline"||Ln==="inline-block"&&Jt!=null)&&F.css(L,"float")==="none"&&(St||(_n.done(function(){Rr.display=Jt}),Jt==null&&(Ln=Rr.display,Jt=Ln==="none"?"":Ln)),Rr.display="inline-block")),de.overflow&&(Rr.overflow="hidden",_n.always(function(){Rr.overflow=de.overflow[0],Rr.overflowX=de.overflow[1],Rr.overflowY=de.overflow[2]})),St=!1;for(ge in Ho)St||(Gr?"hidden"in Gr&&(xi=Gr.hidden):Gr=$t.access(L,"fxshow",{display:Jt}),Pe&&(Gr.hidden=!xi),xi&&cn([L],!0),_n.done(function(){xi||cn([L]),$t.remove(L,"fxshow");for(ge in Ho)F.style(L,ge,Ho[ge])})),St=Hh(xi?Gr[ge]:0,ge,_n),ge in Gr||(Gr[ge]=St.start,xi&&(St.end=St.start,St.start=0))}}function Ss(L,X){var de,ge,xe,Pe,je;for(de in L)if(ge=ln(de),xe=X[ge],Pe=L[de],Array.isArray(Pe)&&(xe=Pe[1],Pe=L[de]=Pe[0]),de!==ge&&(L[ge]=Pe,delete L[de]),je=F.cssHooks[ge],je&&"expand"in je){Pe=je.expand(Pe),delete L[ge];for(de in Pe)de in L||(L[de]=Pe[de],X[de]=xe)}else X[ge]=xe}function Wi(L,X,de){var ge,xe,Pe=0,je=Wi.prefilters.length,xt=F.Deferred().always(function(){delete St.elem}),St=function(){if(xe)return!1;for(var no=yc||eu(),_n=Math.max(0,Jt.startTime+Jt.duration-no),Ho=_n/Jt.duration||0,Rr=1-Ho,xi=0,Gr=Jt.tweens.length;xi<Gr;xi++)Jt.tweens[xi].run(Rr);return xt.notifyWith(L,[Jt,Rr,_n]),Rr<1&&Gr?_n:(Gr||xt.notifyWith(L,[Jt,1,0]),xt.resolveWith(L,[Jt]),!1)},Jt=xt.promise({elem:L,props:F.extend({},X),opts:F.extend(!0,{specialEasing:{},easing:F.easing._default},de),originalProperties:X,originalOptions:de,startTime:yc||eu(),duration:de.duration,tweens:[],createTween:function(no,_n){var Ho=F.Tween(L,Jt.opts,no,_n,Jt.opts.specialEasing[no]||Jt.opts.easing);return Jt.tweens.push(Ho),Ho},stop:function(no){var _n=0,Ho=no?Jt.tweens.length:0;if(xe)return this;for(xe=!0;_n<Ho;_n++)Jt.tweens[_n].run(1);return no?(xt.notifyWith(L,[Jt,1,0]),xt.resolveWith(L,[Jt,no])):xt.rejectWith(L,[Jt,no]),this}}),Ln=Jt.props;for(Ss(Ln,Jt.opts.specialEasing);Pe<je;Pe++)if(ge=Wi.prefilters[Pe].call(Jt,L,Ln,Jt.opts),ge)return W(ge.stop)&&(F._queueHooks(Jt.elem,Jt.opts.queue).stop=ge.stop.bind(ge)),ge;return F.map(Ln,Hh,Jt),W(Jt.opts.start)&&Jt.opts.start.call(L,Jt),Jt.progress(Jt.opts.progress).done(Jt.opts.done,Jt.opts.complete).fail(Jt.opts.fail).always(Jt.opts.always),F.fx.timer(F.extend(St,{elem:L,anim:Jt,queue:Jt.opts.queue})),Jt}F.Animation=F.extend(Wi,{tweeners:{"*":[function(L,X){var de=this.createTween(L,X);return to(de.elem,L,Ls.exec(X),de),de}]},tweener:function(L,X){W(L)?(X=L,L=["*"]):L=L.match(vs);for(var de,ge=0,xe=L.length;ge<xe;ge++)de=L[ge],Wi.tweeners[de]=Wi.tweeners[de]||[],Wi.tweeners[de].unshift(X)},prefilters:[na],prefilter:function(L,X){X?Wi.prefilters.unshift(L):Wi.prefilters.push(L)}}),F.speed=function(L,X,de){var ge=L&&typeof L=="object"?F.extend({},L):{complete:de||!de&&X||W(L)&&L,duration:L,easing:de&&X||X&&!W(X)&&X};return F.fx.off?ge.duration=0:typeof ge.duration!="number"&&(ge.duration in F.fx.speeds?ge.duration=F.fx.speeds[ge.duration]:ge.duration=F.fx.speeds._default),(ge.queue==null||ge.queue===!0)&&(ge.queue="fx"),ge.old=ge.complete,ge.complete=function(){W(ge.old)&&ge.old.call(this),ge.queue&&F.dequeue(this,ge.queue)},ge},F.fn.extend({fadeTo:function(L,X,de,ge){return this.filter(tn).css("opacity",0).show().end().animate({opacity:X},L,de,ge)},animate:function(L,X,de,ge){var xe=F.isEmptyObject(L),Pe=F.speed(X,de,ge),je=function(){var xt=Wi(this,F.extend({},L),Pe);(xe||$t.get(this,"finish"))&&xt.stop(!0)};return je.finish=je,xe||Pe.queue===!1?this.each(je):this.queue(Pe.queue,je)},stop:function(L,X,de){var ge=function(xe){var Pe=xe.stop;delete xe.stop,Pe(de)};return typeof L!="string"&&(de=X,X=L,L=void 0),X&&this.queue(L||"fx",[]),this.each(function(){var xe=!0,Pe=L!=null&&L+"queueHooks",je=F.timers,xt=$t.get(this);if(Pe)xt[Pe]&&xt[Pe].stop&&ge(xt[Pe]);else for(Pe in xt)xt[Pe]&&xt[Pe].stop&&km.test(Pe)&&ge(xt[Pe]);for(Pe=je.length;Pe--;)je[Pe].elem===this&&(L==null||je[Pe].queue===L)&&(je[Pe].anim.stop(de),xe=!1,je.splice(Pe,1));(xe||!de)&&F.dequeue(this,L)})},finish:function(L){return L!==!1&&(L=L||"fx"),this.each(function(){var X,de=$t.get(this),ge=de[L+"queue"],xe=de[L+"queueHooks"],Pe=F.timers,je=ge?ge.length:0;for(de.finish=!0,F.queue(this,L,[]),xe&&xe.stop&&xe.stop.call(this,!0),X=Pe.length;X--;)Pe[X].elem===this&&Pe[X].queue===L&&(Pe[X].anim.stop(!0),Pe.splice(X,1));for(X=0;X<je;X++)ge[X]&&ge[X].finish&&ge[X].finish.call(this);delete de.finish})}}),F.each(["toggle","show","hide"],function(L,X){var de=F.fn[X];F.fn[X]=function(ge,xe,Pe){return ge==null||typeof ge=="boolean"?de.apply(this,arguments):this.animate(Ou(X,!0),ge,xe,Pe)}}),F.each({slideDown:Ou("show"),slideUp:Ou("hide"),slideToggle:Ou("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(L,X){F.fn[L]=function(de,ge,xe){return this.animate(X,de,ge,xe)}}),F.timers=[],F.fx.tick=function(){var L,X=0,de=F.timers;for(yc=Date.now();X<de.length;X++)L=de[X],!L()&&de[X]===L&&de.splice(X--,1);de.length||F.fx.stop(),yc=void 0},F.fx.timer=function(L){F.timers.push(L),F.fx.start()},F.fx.interval=13,F.fx.start=function(){rl||(rl=!0,kc())},F.fx.stop=function(){rl=null},F.fx.speeds={slow:600,fast:200,_default:400},F.fn.delay=function(L,X){return L=F.fx&&F.fx.speeds[L]||L,X=X||"fx",this.queue(X,function(de,ge){var xe=n.setTimeout(de,L);ge.stop=function(){n.clearTimeout(xe)}})},(function(){var L=re.createElement("input"),X=re.createElement("select"),de=X.appendChild(re.createElement("option"));L.type="checkbox",j.checkOn=L.value!=="",j.optSelected=de.selected,L=re.createElement("input"),L.value="t",L.type="radio",j.radioValue=L.value==="t"})();var kl,Lr=F.expr.attrHandle;F.fn.extend({attr:function(L,X){return Mt(this,F.attr,L,X,arguments.length>1)},removeAttr:function(L){return this.each(function(){F.removeAttr(this,L)})}}),F.extend({attr:function(L,X,de){var ge,xe,Pe=L.nodeType;if(!(Pe===3||Pe===8||Pe===2)){if(typeof L.getAttribute>"u")return F.prop(L,X,de);if((Pe!==1||!F.isXMLDoc(L))&&(xe=F.attrHooks[X.toLowerCase()]||(F.expr.match.bool.test(X)?kl:void 0)),de!==void 0){if(de===null){F.removeAttr(L,X);return}return xe&&"set"in xe&&(ge=xe.set(L,de,X))!==void 0?ge:(L.setAttribute(X,de+""),de)}return xe&&"get"in xe&&(ge=xe.get(L,X))!==null?ge:(ge=F.find.attr(L,X),ge??void 0)}},attrHooks:{type:{set:function(L,X){if(!j.radioValue&&X==="radio"&&tt(L,"input")){var de=L.value;return L.setAttribute("type",X),de&&(L.value=de),X}}}},removeAttr:function(L,X){var de,ge=0,xe=X&&X.match(vs);if(xe&&L.nodeType===1)for(;de=xe[ge++];)L.removeAttribute(de)}}),kl={set:function(L,X,de){return X===!1?F.removeAttr(L,de):L.setAttribute(de,de),de}},F.each(F.expr.match.bool.source.match(/\w+/g),function(L,X){var de=Lr[X]||F.find.attr;Lr[X]=function(ge,xe,Pe){var je,xt,St=xe.toLowerCase();return Pe||(xt=Lr[St],Lr[St]=je,je=de(ge,xe,Pe)!=null?St:null,Lr[St]=xt),je}});var hh=/^(?:input|select|textarea|button)$/i,np=/^(?:a|area)$/i;F.fn.extend({prop:function(L,X){return Mt(this,F.prop,L,X,arguments.length>1)},removeProp:function(L){return this.each(function(){delete this[F.propFix[L]||L]})}}),F.extend({prop:function(L,X,de){var ge,xe,Pe=L.nodeType;if(!(Pe===3||Pe===8||Pe===2))return(Pe!==1||!F.isXMLDoc(L))&&(X=F.propFix[X]||X,xe=F.propHooks[X]),de!==void 0?xe&&"set"in xe&&(ge=xe.set(L,de,X))!==void 0?ge:L[X]=de:xe&&"get"in xe&&(ge=xe.get(L,X))!==null?ge:L[X]},propHooks:{tabIndex:{get:function(L){var X=F.find.attr(L,"tabindex");return X?parseInt(X,10):hh.test(L.nodeName)||np.test(L.nodeName)&&L.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),j.optSelected||(F.propHooks.selected={get:function(L){var X=L.parentNode;return X&&X.parentNode&&X.parentNode.selectedIndex,null},set:function(L){var X=L.parentNode;X&&(X.selectedIndex,X.parentNode&&X.parentNode.selectedIndex)}}),F.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){F.propFix[this.toLowerCase()]=this});function wi(L){var X=L.match(vs)||[];return X.join(" ")}function Sc(L){return L.getAttribute&&L.getAttribute("class")||""}function Hc(L){return Array.isArray(L)?L:typeof L=="string"?L.match(vs)||[]:[]}F.fn.extend({addClass:function(L){var X,de,ge,xe,Pe,je;return W(L)?this.each(function(xt){F(this).addClass(L.call(this,xt,Sc(this)))}):(X=Hc(L),X.length?this.each(function(){if(ge=Sc(this),de=this.nodeType===1&&" "+wi(ge)+" ",de){for(Pe=0;Pe<X.length;Pe++)xe=X[Pe],de.indexOf(" "+xe+" ")<0&&(de+=xe+" ");je=wi(de),ge!==je&&this.setAttribute("class",je)}}):this)},removeClass:function(L){var X,de,ge,xe,Pe,je;return W(L)?this.each(function(xt){F(this).removeClass(L.call(this,xt,Sc(this)))}):arguments.length?(X=Hc(L),X.length?this.each(function(){if(ge=Sc(this),de=this.nodeType===1&&" "+wi(ge)+" ",de){for(Pe=0;Pe<X.length;Pe++)for(xe=X[Pe];de.indexOf(" "+xe+" ")>-1;)de=de.replace(" "+xe+" "," ");je=wi(de),ge!==je&&this.setAttribute("class",je)}}):this):this.attr("class","")},toggleClass:function(L,X){var de,ge,xe,Pe,je=typeof L,xt=je==="string"||Array.isArray(L);return W(L)?this.each(function(St){F(this).toggleClass(L.call(this,St,Sc(this),X),X)}):typeof X=="boolean"&&xt?X?this.addClass(L):this.removeClass(L):(de=Hc(L),this.each(function(){if(xt)for(Pe=F(this),xe=0;xe<de.length;xe++)ge=de[xe],Pe.hasClass(ge)?Pe.removeClass(ge):Pe.addClass(ge);else(L===void 0||je==="boolean")&&(ge=Sc(this),ge&&$t.set(this,"__className__",ge),this.setAttribute&&this.setAttribute("class",ge||L===!1?"":$t.get(this,"__className__")||""))}))},hasClass:function(L){var X,de,ge=0;for(X=" "+L+" ";de=this[ge++];)if(de.nodeType===1&&(" "+wi(Sc(de))+" ").indexOf(X)>-1)return!0;return!1}});var pf=/\r/g;F.fn.extend({val:function(L){var X,de,ge,xe=this[0];return arguments.length?(ge=W(L),this.each(function(Pe){var je;this.nodeType===1&&(ge?je=L.call(this,Pe,F(this).val()):je=L,je==null?je="":typeof je=="number"?je+="":Array.isArray(je)&&(je=F.map(je,function(xt){return xt==null?"":xt+""})),X=F.valHooks[this.type]||F.valHooks[this.nodeName.toLowerCase()],(!X||!("set"in X)||X.set(this,je,"value")===void 0)&&(this.value=je))})):xe?(X=F.valHooks[xe.type]||F.valHooks[xe.nodeName.toLowerCase()],X&&"get"in X&&(de=X.get(xe,"value"))!==void 0?de:(de=xe.value,typeof de=="string"?de.replace(pf,""):de??"")):void 0}}),F.extend({valHooks:{option:{get:function(L){var X=F.find.attr(L,"value");return X??wi(F.text(L))}},select:{get:function(L){var X,de,ge,xe=L.options,Pe=L.selectedIndex,je=L.type==="select-one",xt=je?null:[],St=je?Pe+1:xe.length;for(Pe<0?ge=St:ge=je?Pe:0;ge<St;ge++)if(de=xe[ge],(de.selected||ge===Pe)&&!de.disabled&&(!de.parentNode.disabled||!tt(de.parentNode,"optgroup"))){if(X=F(de).val(),je)return X;xt.push(X)}return xt},set:function(L,X){for(var de,ge,xe=L.options,Pe=F.makeArray(X),je=xe.length;je--;)ge=xe[je],(ge.selected=F.inArray(F.valHooks.option.get(ge),Pe)>-1)&&(de=!0);return de||(L.selectedIndex=-1),Pe}}}}),F.each(["radio","checkbox"],function(){F.valHooks[this]={set:function(L,X){if(Array.isArray(X))return L.checked=F.inArray(F(L).val(),X)>-1}},j.checkOn||(F.valHooks[this].get=function(L){return L.getAttribute("value")===null?"on":L.value})});var vo=n.location,Iu={guid:Date.now()},Dl=/\?/;F.parseXML=function(L){var X,de;if(!L||typeof L!="string")return null;try{X=new n.DOMParser().parseFromString(L,"text/xml")}catch{}return de=X&&X.getElementsByTagName("parsererror")[0],(!X||de)&&F.error("Invalid XML: "+(de?F.map(de.childNodes,function(ge){return ge.textContent}).join(`
`):L)),X};var Cc=/^(?:focusinfocus|focusoutblur)$/,Bi=function(L){L.stopPropagation()};F.extend(F.event,{trigger:function(L,X,de,ge){var xe,Pe,je,xt,St,Jt,Ln,no,_n=[de||re],Ho=P.call(L,"type")?L.type:L,Rr=P.call(L,"namespace")?L.namespace.split("."):[];if(Pe=no=je=de=de||re,!(de.nodeType===3||de.nodeType===8)&&!Cc.test(Ho+F.event.triggered)&&(Ho.indexOf(".")>-1&&(Rr=Ho.split("."),Ho=Rr.shift(),Rr.sort()),St=Ho.indexOf(":")<0&&"on"+Ho,L=L[F.expando]?L:new F.Event(Ho,typeof L=="object"&&L),L.isTrigger=ge?2:3,L.namespace=Rr.join("."),L.rnamespace=L.namespace?new RegExp("(^|\\.)"+Rr.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,L.result=void 0,L.target||(L.target=de),X=X==null?[L]:F.makeArray(X,[L]),Ln=F.event.special[Ho]||{},!(!ge&&Ln.trigger&&Ln.trigger.apply(de,X)===!1))){if(!ge&&!Ln.noBubble&&!Z(de)){for(xt=Ln.delegateType||Ho,Cc.test(xt+Ho)||(Pe=Pe.parentNode);Pe;Pe=Pe.parentNode)_n.push(Pe),je=Pe;je===(de.ownerDocument||re)&&_n.push(je.defaultView||je.parentWindow||n)}for(xe=0;(Pe=_n[xe++])&&!L.isPropagationStopped();)no=Pe,L.type=xe>1?xt:Ln.bindType||Ho,Jt=($t.get(Pe,"events")||Object.create(null))[L.type]&&$t.get(Pe,"handle"),Jt&&Jt.apply(Pe,X),Jt=St&&Pe[St],Jt&&Jt.apply&&On(Pe)&&(L.result=Jt.apply(Pe,X),L.result===!1&&L.preventDefault());return L.type=Ho,!ge&&!L.isDefaultPrevented()&&(!Ln._default||Ln._default.apply(_n.pop(),X)===!1)&&On(de)&&St&&W(de[Ho])&&!Z(de)&&(je=de[St],je&&(de[St]=null),F.event.triggered=Ho,L.isPropagationStopped()&&no.addEventListener(Ho,Bi),de[Ho](),L.isPropagationStopped()&&no.removeEventListener(Ho,Bi),F.event.triggered=void 0,je&&(de[St]=je)),L.result}},simulate:function(L,X,de){var ge=F.extend(new F.Event,de,{type:L,isSimulated:!0});F.event.trigger(ge,null,X)}}),F.fn.extend({trigger:function(L,X){return this.each(function(){F.event.trigger(L,X,this)})},triggerHandler:function(L,X){var de=this[0];if(de)return F.event.trigger(L,X,de,!0)}});var Dm=/\[\]$/,Gl=/\r?\n/g,tu=/^(?:submit|button|image|reset|file)$/i,op=/^(?:input|select|textarea|keygen)/i;function mf(L,X,de,ge){var xe;if(Array.isArray(X))F.each(X,function(Pe,je){de||Dm.test(L)?ge(L,je):mf(L+"["+(typeof je=="object"&&je!=null?Pe:"")+"]",je,de,ge)});else if(!de&&be(X)==="object")for(xe in X)mf(L+"["+xe+"]",X[xe],de,ge);else ge(L,X)}F.param=function(L,X){var de,ge=[],xe=function(Pe,je){var xt=W(je)?je():je;ge[ge.length]=encodeURIComponent(Pe)+"="+encodeURIComponent(xt??"")};if(L==null)return"";if(Array.isArray(L)||L.jquery&&!F.isPlainObject(L))F.each(L,function(){xe(this.name,this.value)});else for(de in L)mf(de,L[de],X,xe);return ge.join("&")},F.fn.extend({serialize:function(){return F.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var L=F.prop(this,"elements");return L?F.makeArray(L):this}).filter(function(){var L=this.type;return this.name&&!F(this).is(":disabled")&&op.test(this.nodeName)&&!tu.test(L)&&(this.checked||!ro.test(L))}).map(function(L,X){var de=F(this).val();return de==null?null:Array.isArray(de)?F.map(de,function(ge){return{name:X.name,value:ge.replace(Gl,`\r
`)}}):{name:X.name,value:de.replace(Gl,`\r
`)}}).get()}});var sd=/%20/g,sp=/#.*$/,Pd=/([?&])_=[^&]*/,Nd=/^(.*?):[ \t]*([^\r\n]*)$/mg,Ec=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,co=/^(?:GET|HEAD)$/,Ru=/^\/\//,$h={},Be={},rt="*/".concat("*"),Ot=re.createElement("a");Ot.href=vo.href;function mn(L){return function(X,de){typeof X!="string"&&(de=X,X="*");var ge,xe=0,Pe=X.toLowerCase().match(vs)||[];if(W(de))for(;ge=Pe[xe++];)ge[0]==="+"?(ge=ge.slice(1)||"*",(L[ge]=L[ge]||[]).unshift(de)):(L[ge]=L[ge]||[]).push(de)}}function io(L,X,de,ge){var xe={},Pe=L===Be;function je(xt){var St;return xe[xt]=!0,F.each(L[xt]||[],function(Jt,Ln){var no=Ln(X,de,ge);if(typeof no=="string"&&!Pe&&!xe[no])return X.dataTypes.unshift(no),je(no),!1;if(Pe)return!(St=no)}),St}return je(X.dataTypes[0])||!xe["*"]&&je("*")}function Mo(L,X){var de,ge,xe=F.ajaxSettings.flatOptions||{};for(de in X)X[de]!==void 0&&((xe[de]?L:ge||(ge={}))[de]=X[de]);return ge&&F.extend(!0,L,ge),L}function hr(L,X,de){for(var ge,xe,Pe,je,xt=L.contents,St=L.dataTypes;St[0]==="*";)St.shift(),ge===void 0&&(ge=L.mimeType||X.getResponseHeader("Content-Type"));if(ge){for(xe in xt)if(xt[xe]&&xt[xe].test(ge)){St.unshift(xe);break}}if(St[0]in de)Pe=St[0];else{for(xe in de){if(!St[0]||L.converters[xe+" "+St[0]]){Pe=xe;break}je||(je=xe)}Pe=Pe||je}if(Pe)return Pe!==St[0]&&St.unshift(Pe),de[Pe]}function Fs(L,X,de,ge){var xe,Pe,je,xt,St,Jt={},Ln=L.dataTypes.slice();if(Ln[1])for(je in L.converters)Jt[je.toLowerCase()]=L.converters[je];for(Pe=Ln.shift();Pe;)if(L.responseFields[Pe]&&(de[L.responseFields[Pe]]=X),!St&&ge&&L.dataFilter&&(X=L.dataFilter(X,L.dataType)),St=Pe,Pe=Ln.shift(),Pe){if(Pe==="*")Pe=St;else if(St!=="*"&&St!==Pe){if(je=Jt[St+" "+Pe]||Jt["* "+Pe],!je){for(xe in Jt)if(xt=xe.split(" "),xt[1]===Pe&&(je=Jt[St+" "+xt[0]]||Jt["* "+xt[0]],je)){je===!0?je=Jt[xe]:Jt[xe]!==!0&&(Pe=xt[0],Ln.unshift(xt[1]));break}}if(je!==!0)if(je&&L.throws)X=je(X);else try{X=je(X)}catch(no){return{state:"parsererror",error:je?no:"No conversion from "+St+" to "+Pe}}}}return{state:"success",data:X}}F.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:vo.href,type:"GET",isLocal:Ec.test(vo.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":F.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(L,X){return X?Mo(Mo(L,F.ajaxSettings),X):Mo(F.ajaxSettings,L)},ajaxPrefilter:mn($h),ajaxTransport:mn(Be),ajax:function(L,X){typeof L=="object"&&(X=L,L=void 0),X=X||{};var de,ge,xe,Pe,je,xt,St,Jt,Ln,no,_n=F.ajaxSetup({},X),Ho=_n.context||_n,Rr=_n.context&&(Ho.nodeType||Ho.jquery)?F(Ho):F.event,xi=F.Deferred(),Gr=F.Callbacks("once memory"),ql=_n.statusCode||{},Sa={},rd={},fh="canceled",_i={readyState:0,getResponseHeader:function(Fi){var hl;if(St){if(!Pe)for(Pe={};hl=Nd.exec(xe);)Pe[hl[1].toLowerCase()+" "]=(Pe[hl[1].toLowerCase()+" "]||[]).concat(hl[2]);hl=Pe[Fi.toLowerCase()+" "]}return hl==null?null:hl.join(", ")},getAllResponseHeaders:function(){return St?xe:null},setRequestHeader:function(Fi,hl){return St==null&&(Fi=rd[Fi.toLowerCase()]=rd[Fi.toLowerCase()]||Fi,Sa[Fi]=hl),this},overrideMimeType:function(Fi){return St==null&&(_n.mimeType=Fi),this},statusCode:function(Fi){var hl;if(Fi)if(St)_i.always(Fi[_i.status]);else for(hl in Fi)ql[hl]=[ql[hl],Fi[hl]];return this},abort:function(Fi){var hl=Fi||fh;return de&&de.abort(hl),wc(0,hl),this}};if(xi.promise(_i),_n.url=((L||_n.url||vo.href)+"").replace(Ru,vo.protocol+"//"),_n.type=X.method||X.type||_n.method||_n.type,_n.dataTypes=(_n.dataType||"*").toLowerCase().match(vs)||[""],_n.crossDomain==null){xt=re.createElement("a");try{xt.href=_n.url,xt.href=xt.href,_n.crossDomain=Ot.protocol+"//"+Ot.host!=xt.protocol+"//"+xt.host}catch{_n.crossDomain=!0}}if(_n.data&&_n.processData&&typeof _n.data!="string"&&(_n.data=F.param(_n.data,_n.traditional)),io($h,_n,X,_i),St)return _i;Jt=F.event&&_n.global,Jt&&F.active++===0&&F.event.trigger("ajaxStart"),_n.type=_n.type.toUpperCase(),_n.hasContent=!co.test(_n.type),ge=_n.url.replace(sp,""),_n.hasContent?_n.data&&_n.processData&&(_n.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(_n.data=_n.data.replace(sd,"+")):(no=_n.url.slice(ge.length),_n.data&&(_n.processData||typeof _n.data=="string")&&(ge+=(Dl.test(ge)?"&":"?")+_n.data,delete _n.data),_n.cache===!1&&(ge=ge.replace(Pd,"$1"),no=(Dl.test(ge)?"&":"?")+"_="+Iu.guid+++no),_n.url=ge+no),_n.ifModified&&(F.lastModified[ge]&&_i.setRequestHeader("If-Modified-Since",F.lastModified[ge]),F.etag[ge]&&_i.setRequestHeader("If-None-Match",F.etag[ge])),(_n.data&&_n.hasContent&&_n.contentType!==!1||X.contentType)&&_i.setRequestHeader("Content-Type",_n.contentType),_i.setRequestHeader("Accept",_n.dataTypes[0]&&_n.accepts[_n.dataTypes[0]]?_n.accepts[_n.dataTypes[0]]+(_n.dataTypes[0]!=="*"?", "+rt+"; q=0.01":""):_n.accepts["*"]);for(Ln in _n.headers)_i.setRequestHeader(Ln,_n.headers[Ln]);if(_n.beforeSend&&(_n.beforeSend.call(Ho,_i,_n)===!1||St))return _i.abort();if(fh="abort",Gr.add(_n.complete),_i.done(_n.success),_i.fail(_n.error),de=io(Be,_n,X,_i),!de)wc(-1,"No Transport");else{if(_i.readyState=1,Jt&&Rr.trigger("ajaxSend",[_i,_n]),St)return _i;_n.async&&_n.timeout>0&&(je=n.setTimeout(function(){_i.abort("timeout")},_n.timeout));try{St=!1,de.send(Sa,wc)}catch(Fi){if(St)throw Fi;wc(-1,Fi)}}function wc(Fi,hl,Bp,id){var Uh,Og,ad,nu,rp,ld=hl;St||(St=!0,je&&n.clearTimeout(je),de=void 0,xe=id||"",_i.readyState=Fi>0?4:0,Uh=Fi>=200&&Fi<300||Fi===304,Bp&&(nu=hr(_n,_i,Bp)),!Uh&&F.inArray("script",_n.dataTypes)>-1&&F.inArray("json",_n.dataTypes)<0&&(_n.converters["text script"]=function(){}),nu=Fs(_n,nu,_i,Uh),Uh?(_n.ifModified&&(rp=_i.getResponseHeader("Last-Modified"),rp&&(F.lastModified[ge]=rp),rp=_i.getResponseHeader("etag"),rp&&(F.etag[ge]=rp)),Fi===204||_n.type==="HEAD"?ld="nocontent":Fi===304?ld="notmodified":(ld=nu.state,Og=nu.data,ad=nu.error,Uh=!ad)):(ad=ld,(Fi||!ld)&&(ld="error",Fi<0&&(Fi=0))),_i.status=Fi,_i.statusText=(hl||ld)+"",Uh?xi.resolveWith(Ho,[Og,ld,_i]):xi.rejectWith(Ho,[_i,ld,ad]),_i.statusCode(ql),ql=void 0,Jt&&Rr.trigger(Uh?"ajaxSuccess":"ajaxError",[_i,_n,Uh?Og:ad]),Gr.fireWith(Ho,[_i,ld]),Jt&&(Rr.trigger("ajaxComplete",[_i,_n]),--F.active||F.event.trigger("ajaxStop")))}return _i},getJSON:function(L,X,de){return F.get(L,X,de,"json")},getScript:function(L,X){return F.get(L,void 0,X,"script")}}),F.each(["get","post"],function(L,X){F[X]=function(de,ge,xe,Pe){return W(ge)&&(Pe=Pe||xe,xe=ge,ge=void 0),F.ajax(F.extend({url:de,type:X,dataType:Pe,data:ge,success:xe},F.isPlainObject(de)&&de))}}),F.ajaxPrefilter(function(L){var X;for(X in L.headers)X.toLowerCase()==="content-type"&&(L.contentType=L.headers[X]||"")}),F._evalUrl=function(L,X,de){return F.ajax({url:L,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(ge){F.globalEval(ge,X,de)}})},F.fn.extend({wrapAll:function(L){var X;return this[0]&&(W(L)&&(L=L.call(this[0])),X=F(L,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&X.insertBefore(this[0]),X.map(function(){for(var de=this;de.firstElementChild;)de=de.firstElementChild;return de}).append(this)),this},wrapInner:function(L){return W(L)?this.each(function(X){F(this).wrapInner(L.call(this,X))}):this.each(function(){var X=F(this),de=X.contents();de.length?de.wrapAll(L):X.append(L)})},wrap:function(L){var X=W(L);return this.each(function(de){F(this).wrapAll(X?L.call(this,de):L)})},unwrap:function(L){return this.parent(L).not("body").each(function(){F(this).replaceWith(this.childNodes)}),this}}),F.expr.pseudos.hidden=function(L){return!F.expr.pseudos.visible(L)},F.expr.pseudos.visible=function(L){return!!(L.offsetWidth||L.offsetHeight||L.getClientRects().length)},F.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch{}};var _r={0:200,1223:204},we=F.ajaxSettings.xhr();j.cors=!!we&&"withCredentials"in we,j.ajax=we=!!we,F.ajaxTransport(function(L){var X,de;if(j.cors||we&&!L.crossDomain)return{send:function(ge,xe){var Pe,je=L.xhr();if(je.open(L.type,L.url,L.async,L.username,L.password),L.xhrFields)for(Pe in L.xhrFields)je[Pe]=L.xhrFields[Pe];L.mimeType&&je.overrideMimeType&&je.overrideMimeType(L.mimeType),!L.crossDomain&&!ge["X-Requested-With"]&&(ge["X-Requested-With"]="XMLHttpRequest");for(Pe in ge)je.setRequestHeader(Pe,ge[Pe]);X=function(xt){return function(){X&&(X=de=je.onload=je.onerror=je.onabort=je.ontimeout=je.onreadystatechange=null,xt==="abort"?je.abort():xt==="error"?typeof je.status!="number"?xe(0,"error"):xe(je.status,je.statusText):xe(_r[je.status]||je.status,je.statusText,(je.responseType||"text")!=="text"||typeof je.responseText!="string"?{binary:je.response}:{text:je.responseText},je.getAllResponseHeaders()))}},je.onload=X(),de=je.onerror=je.ontimeout=X("error"),je.onabort!==void 0?je.onabort=de:je.onreadystatechange=function(){je.readyState===4&&n.setTimeout(function(){X&&de()})},X=X("abort");try{je.send(L.hasContent&&L.data||null)}catch(xt){if(X)throw xt}},abort:function(){X&&X()}}}),F.ajaxPrefilter(function(L){L.crossDomain&&(L.contents.script=!1)}),F.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(L){return F.globalEval(L),L}}}),F.ajaxPrefilter("script",function(L){L.cache===void 0&&(L.cache=!1),L.crossDomain&&(L.type="GET")}),F.ajaxTransport("script",function(L){if(L.crossDomain||L.scriptAttrs){var X,de;return{send:function(ge,xe){X=F("<script>").attr(L.scriptAttrs||{}).prop({charset:L.scriptCharset,src:L.url}).on("load error",de=function(Pe){X.remove(),de=null,Pe&&xe(Pe.type==="error"?404:200,Pe.type)}),re.head.appendChild(X[0])},abort:function(){de&&de()}}}});var $e=[],ut=/(=)\?(?=&|$)|\?\?/;F.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var L=$e.pop()||F.expando+"_"+Iu.guid++;return this[L]=!0,L}}),F.ajaxPrefilter("json jsonp",function(L,X,de){var ge,xe,Pe,je=L.jsonp!==!1&&(ut.test(L.url)?"url":typeof L.data=="string"&&(L.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&ut.test(L.data)&&"data");if(je||L.dataTypes[0]==="jsonp")return ge=L.jsonpCallback=W(L.jsonpCallback)?L.jsonpCallback():L.jsonpCallback,je?L[je]=L[je].replace(ut,"$1"+ge):L.jsonp!==!1&&(L.url+=(Dl.test(L.url)?"&":"?")+L.jsonp+"="+ge),L.converters["script json"]=function(){return Pe||F.error(ge+" was not called"),Pe[0]},L.dataTypes[0]="json",xe=n[ge],n[ge]=function(){Pe=arguments},de.always(function(){xe===void 0?F(n).removeProp(ge):n[ge]=xe,L[ge]&&(L.jsonpCallback=X.jsonpCallback,$e.push(ge)),Pe&&W(xe)&&xe(Pe[0]),Pe=xe=void 0}),"script"}),j.createHTMLDocument=(function(){var L=re.implementation.createHTMLDocument("").body;return L.innerHTML="<form></form><form></form>",L.childNodes.length===2})(),F.parseHTML=function(L,X,de){if(typeof L!="string")return[];typeof X=="boolean"&&(de=X,X=!1);var ge,xe,Pe;return X||(j.createHTMLDocument?(X=re.implementation.createHTMLDocument(""),ge=X.createElement("base"),ge.href=re.location.href,X.head.appendChild(ge)):X=re),xe=Cn.exec(L),Pe=!de&&[],xe?[X.createElement(xe[1])]:(xe=Nr([L],X,Pe),Pe&&Pe.length&&F(Pe).remove(),F.merge([],xe.childNodes))},F.fn.load=function(L,X,de){var ge,xe,Pe,je=this,xt=L.indexOf(" ");return xt>-1&&(ge=wi(L.slice(xt)),L=L.slice(0,xt)),W(X)?(de=X,X=void 0):X&&typeof X=="object"&&(xe="POST"),je.length>0&&F.ajax({url:L,type:xe||"GET",dataType:"html",data:X}).done(function(St){Pe=arguments,je.html(ge?F("<div>").append(F.parseHTML(St)).find(ge):St)}).always(de&&function(St,Jt){je.each(function(){de.apply(this,Pe||[St.responseText,Jt,St])})}),this},F.expr.pseudos.animated=function(L){return F.grep(F.timers,function(X){return L===X.elem}).length},F.offset={setOffset:function(L,X,de){var ge,xe,Pe,je,xt,St,Jt,Ln=F.css(L,"position"),no=F(L),_n={};Ln==="static"&&(L.style.position="relative"),xt=no.offset(),Pe=F.css(L,"top"),St=F.css(L,"left"),Jt=(Ln==="absolute"||Ln==="fixed")&&(Pe+St).indexOf("auto")>-1,Jt?(ge=no.position(),je=ge.top,xe=ge.left):(je=parseFloat(Pe)||0,xe=parseFloat(St)||0),W(X)&&(X=X.call(L,de,F.extend({},xt))),X.top!=null&&(_n.top=X.top-xt.top+je),X.left!=null&&(_n.left=X.left-xt.left+xe),"using"in X?X.using.call(L,_n):no.css(_n)}},F.fn.extend({offset:function(L){if(arguments.length)return L===void 0?this:this.each(function(xe){F.offset.setOffset(this,L,xe)});var X,de,ge=this[0];if(ge)return ge.getClientRects().length?(X=ge.getBoundingClientRect(),de=ge.ownerDocument.defaultView,{top:X.top+de.pageYOffset,left:X.left+de.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var L,X,de,ge=this[0],xe={top:0,left:0};if(F.css(ge,"position")==="fixed")X=ge.getBoundingClientRect();else{for(X=this.offset(),de=ge.ownerDocument,L=ge.offsetParent||de.documentElement;L&&(L===de.body||L===de.documentElement)&&F.css(L,"position")==="static";)L=L.parentNode;L&&L!==ge&&L.nodeType===1&&(xe=F(L).offset(),xe.top+=F.css(L,"borderTopWidth",!0),xe.left+=F.css(L,"borderLeftWidth",!0))}return{top:X.top-xe.top-F.css(ge,"marginTop",!0),left:X.left-xe.left-F.css(ge,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var L=this.offsetParent;L&&F.css(L,"position")==="static";)L=L.offsetParent;return L||At})}}),F.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(L,X){var de=X==="pageYOffset";F.fn[L]=function(ge){return Mt(this,function(xe,Pe,je){var xt;if(Z(xe)?xt=xe:xe.nodeType===9&&(xt=xe.defaultView),je===void 0)return xt?xt[X]:xe[Pe];xt?xt.scrollTo(de?xt.pageXOffset:je,de?je:xt.pageYOffset):xe[Pe]=je},L,ge,arguments.length)}}),F.each(["top","left"],function(L,X){F.cssHooks[X]=Md(j.pixelPosition,function(de,ge){if(ge)return ge=od(de,X),Ia.test(ge)?F(de).position()[X]+"px":ge})}),F.each({Height:"height",Width:"width"},function(L,X){F.each({padding:"inner"+L,content:X,"":"outer"+L},function(de,ge){F.fn[ge]=function(xe,Pe){var je=arguments.length&&(de||typeof xe!="boolean"),xt=de||(xe===!0||Pe===!0?"margin":"border");return Mt(this,function(St,Jt,Ln){var no;return Z(St)?ge.indexOf("outer")===0?St["inner"+L]:St.document.documentElement["client"+L]:St.nodeType===9?(no=St.documentElement,Math.max(St.body["scroll"+L],no["scroll"+L],St.body["offset"+L],no["offset"+L],no["client"+L])):Ln===void 0?F.css(St,Jt,xt):F.style(St,Jt,Ln,xt)},X,je?xe:void 0,je)}})}),F.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(L,X){F.fn[X]=function(de){return this.on(X,de)}}),F.fn.extend({bind:function(L,X,de){return this.on(L,null,X,de)},unbind:function(L,X){return this.off(L,null,X)},delegate:function(L,X,de,ge){return this.on(X,L,de,ge)},undelegate:function(L,X,de){return arguments.length===1?this.off(L,"**"):this.off(X,L||"**",de)},hover:function(L,X){return this.on("mouseenter",L).on("mouseleave",X||L)}}),F.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(L,X){F.fn[X]=function(de,ge){return arguments.length>0?this.on(X,null,de,ge):this.trigger(X)}});var Zt=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;F.proxy=function(L,X){var de,ge,xe;if(typeof X=="string"&&(de=L[X],X=L,L=de),!!W(L))return ge=d.call(arguments,2),xe=function(){return L.apply(X||this,ge.concat(d.call(arguments)))},xe.guid=L.guid=L.guid||F.guid++,xe},F.holdReady=function(L){L?F.readyWait++:F.ready(!0)},F.isArray=Array.isArray,F.parseJSON=JSON.parse,F.nodeName=tt,F.isFunction=W,F.isWindow=Z,F.camelCase=ln,F.type=be,F.now=Date.now,F.isNumeric=function(L){var X=F.type(L);return(X==="number"||X==="string")&&!isNaN(L-parseFloat(L))},F.trim=function(L){return L==null?"":(L+"").replace(Zt,"$1")};var ko=n.jQuery,Hs=n.$;return F.noConflict=function(L){return n.$===F&&(n.$=Hs),L&&n.jQuery===F&&(n.jQuery=ko),F},typeof o>"u"&&(n.jQuery=n.$=F),F})})(dJ)),dJ.exports}var kIe;function hXe(){return kIe||(kIe=1,(function(e){(function(n){n(["jquery"],function(o){return(function(){var i,c,d=0,p={error:"error",info:"info",success:"success",warning:"warning"},v={clear:W,remove:Z,error:T,getContainer:x,info:P,options:{},subscribe:B,success:U,version:"2.1.4",warning:j},S;return v;function T(tt,Xe,Ve){return Ae({type:p.error,iconClass:F().iconClasses.error,message:tt,optionsOverride:Ve,title:Xe})}function x(tt,Xe){return tt||(tt=F()),i=o("#"+tt.containerId),i.length||Xe&&(i=ie(tt)),i}function P(tt,Xe,Ve){return Ae({type:p.info,iconClass:F().iconClasses.info,message:tt,optionsOverride:Ve,title:Xe})}function B(tt){c=tt}function U(tt,Xe,Ve){return Ae({type:p.success,iconClass:F().iconClasses.success,message:tt,optionsOverride:Ve,title:Xe})}function j(tt,Xe,Ve){return Ae({type:p.warning,iconClass:F().iconClasses.warning,message:tt,optionsOverride:Ve,title:Xe})}function W(tt,Xe){var Ve=F();i||x(Ve),le(tt,Ve,Xe)||re(Ve)}function Z(tt){var Xe=F();if(i||x(Xe),tt&&o(":focus",tt).length===0){Ie(tt);return}i.children().length&&i.remove()}function re(tt){for(var Xe=i.children(),Ve=Xe.length-1;Ve>=0;Ve--)le(o(Xe[Ve]),tt)}function le(tt,Xe,Ve){var Re=Ve&&Ve.force?Ve.force:!1;return tt&&(Re||o(":focus",tt).length===0)?(tt[Xe.hideMethod]({duration:Xe.hideDuration,easing:Xe.hideEasing,complete:function(){Ie(tt)}}),!0):!1}function ie(tt){return i=o("<div/>").attr("id",tt.containerId).addClass(tt.positionClass),i.appendTo(o(tt.target)),i}function be(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function Ce(tt){c&&c(tt)}function Ae(tt){var Xe=F(),Ve=tt.iconClass||Xe.iconClass;if(typeof tt.optionsOverride<"u"&&(Xe=o.extend(Xe,tt.optionsOverride),Ve=tt.optionsOverride.iconClass||Ve),xn(Xe,tt))return;d++,i=x(Xe,!0);var Re=null,vt=o("<div/>"),mt=o("<div/>"),gt=o("<div/>"),te=o("<div/>"),hn=o(Xe.closeHtml),ot={intervalId:null,hideEta:null,maxHideTime:null},Rt={toastId:d,state:"visible",startTime:new Date,options:Xe,map:tt};return at(),jn(),Ro(),Ce(Rt),Xe.debug&&console&&console.log(Rt),vt;function kt(ct){return ct==null&&(ct=""),ct.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function at(){wo(),Tn(),_e(),vr(),vs(),Ut(),qt(),Cn()}function Cn(){var ct="";switch(tt.iconClass){case"toast-success":case"toast-info":ct="polite";break;default:ct="assertive"}vt.attr("aria-live",ct)}function Ro(){Xe.closeOnHover&&vt.hover(wn,zt),!Xe.onclick&&Xe.tapToDismiss&&vt.click(vn),Xe.closeButton&&hn&&hn.click(function(ct){ct.stopPropagation?ct.stopPropagation():ct.cancelBubble!==void 0&&ct.cancelBubble!==!0&&(ct.cancelBubble=!0),Xe.onCloseClick&&Xe.onCloseClick(ct),vn(!0)}),Xe.onclick&&vt.click(function(ct){Xe.onclick(ct),vn()})}function jn(){vt.hide(),vt[Xe.showMethod]({duration:Xe.showDuration,easing:Xe.showEasing,complete:Xe.onShown}),Xe.timeOut>0&&(Re=setTimeout(vn,Xe.timeOut),ot.maxHideTime=parseFloat(Xe.timeOut),ot.hideEta=new Date().getTime()+ot.maxHideTime,Xe.progressBar&&(ot.intervalId=setInterval(fn,10)))}function wo(){tt.iconClass&&vt.addClass(Xe.toastClass).addClass(Ve)}function qt(){Xe.newestOnTop?i.prepend(vt):i.append(vt)}function Tn(){if(tt.title){var ct=tt.title;Xe.escapeHtml&&(ct=kt(tt.title)),mt.append(ct).addClass(Xe.titleClass),vt.append(mt)}}function _e(){if(tt.message){var ct=tt.message;Xe.escapeHtml&&(ct=kt(tt.message)),gt.append(ct).addClass(Xe.messageClass),vt.append(gt)}}function vr(){Xe.closeButton&&(hn.addClass(Xe.closeClass).attr("role","button"),vt.prepend(hn))}function vs(){Xe.progressBar&&(te.addClass(Xe.progressClass),vt.prepend(te))}function Ut(){Xe.rtl&&vt.addClass("rtl")}function xn(ct,Mt){if(ct.preventDuplicates){if(Mt.message===S)return!0;S=Mt.message}return!1}function vn(ct){var Mt=ct&&Xe.closeMethod!==!1?Xe.closeMethod:Xe.hideMethod,Yt=ct&&Xe.closeDuration!==!1?Xe.closeDuration:Xe.hideDuration,Ge=ct&&Xe.closeEasing!==!1?Xe.closeEasing:Xe.hideEasing;if(!(o(":focus",vt).length&&!ct))return clearTimeout(ot.intervalId),vt[Mt]({duration:Yt,easing:Ge,complete:function(){Ie(vt),clearTimeout(Re),Xe.onHidden&&Rt.state!=="hidden"&&Xe.onHidden(),Rt.state="hidden",Rt.endTime=new Date,Ce(Rt)}})}function zt(){(Xe.timeOut>0||Xe.extendedTimeOut>0)&&(Re=setTimeout(vn,Xe.extendedTimeOut),ot.maxHideTime=parseFloat(Xe.extendedTimeOut),ot.hideEta=new Date().getTime()+ot.maxHideTime)}function wn(){clearTimeout(Re),ot.hideEta=0,vt.stop(!0,!0)[Xe.showMethod]({duration:Xe.showDuration,easing:Xe.showEasing})}function fn(){var ct=(ot.hideEta-new Date().getTime())/ot.maxHideTime*100;te.width(ct+"%")}}function F(){return o.extend({},be(),v.options)}function Ie(tt){i||(i=x()),!tt.is(":visible")&&(tt.remove(),tt=null,i.children().length===0&&(i.remove(),S=void 0))}})()})})(function(n,o){e.exports?e.exports=o(dXe()):window.toastr=o(window.jQuery)})})(_me)),_me.exports}var fXe=hXe();const bBe=o0e(fXe);window.Alpine=Kke;window.moment=Os;window.jQuery.moment=Os;Kke.start();window.ZoomVideo=xbe;window.Highcharts=cXe;window.toastr=bBe;Ku.bind("[data-fancybox]",{animated:!0,dragToClose:!1,groupAll:!0});bBe.options={closeButton:!0,progressBar:!0,timeOut:"5000",extendedTimeOut:"1000",positionClass:"toast-top-right",showDuration:"300",hideDuration:"1000",showMethod:"fadeIn",hideMethod:"fadeOut"};document.addEventListener("DOMContentLoaded",async()=>{const{default:e}=await EBe(async()=>{const{default:n}=await import("./daterangepicker-C49afB5_.js").then(o=>o.d);return{default:n}},[]);$(".date-range").each(function(){var n=$(this),o={Today:[Os(),Os()],Yesterday:[Os().subtract(1,"days"),Os().subtract(1,"days")],"Last 7 Days":[Os().subtract(6,"days"),Os()],"Last 30 Days":[Os().subtract(29,"days"),Os()],"This Month":[Os().startOf("month"),Os().endOf("month")],"Last Month":[Os().subtract(1,"month").startOf("month"),Os().subtract(1,"month").endOf("month")]};n.daterangepicker({timePicker:!1,autoUpdateInput:!1,locale:{format:"YYYY-MM-DD",cancelLabel:"Clear",direction:$("html").attr("dir")==="rtl"?"rtl":"ltr"},ranges:o,opens:$("html").attr("dir")==="rtl"?"left":"right",drops:"down"}),n.on("apply.daterangepicker",function(i,c){$(this).val(c.startDate.format("YYYY-MM-DD")+" - "+c.endDate.format("YYYY-MM-DD"))}),n.on("cancel.daterangepicker",function(i,c){$(this).val("")})}),document.querySelectorAll(".tinymce-editor").forEach(function(n){UYe.init({target:n,directionality:n.getAttribute("dir")==="rtl"?"rtl":"ltr",height:400,license_key:"gpl",toolbar:"undo redo | bold italic underline removeformat | alignleft aligncenter alignright | link | bullist numlist | outdent indent | blockquote | table | code preview",plugins:"preview directionality code lists link table advlist",menubar:!0,branding:!1,statusbar:!0,base_url:"/tinymce",suffix:".min",setup:function(o){o.on("change",function(){o.save()})}})})});export{o0e as a,pXe as g,mXe as m,dXe as r};
